!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o="["+(t?t+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<s.length?he(s[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.13/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(he(arguments[r]));return new e(n)}}function i(t){if(null==t||A(t))return!1;var e=t.length;return t.nodeType===mi&&e?!0:w(t)||li(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(S(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(li(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function a(t){return Object.keys(t).sort()}function s(t,e,n){for(var r=a(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function c(){return++ui}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];t[u]=i[u]}}return l(t,e),t}function h(t){return parseInt(t,10)}function $(t,e){return f(Object.create(t),e)}function p(){}function d(t){return t}function v(t){return function(){return t}}function m(t){return"undefined"==typeof t}function g(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function w(t){return"string"==typeof t}function b(t){return"number"==typeof t}function x(t){return"[object Date]"===oi.call(t)}function S(t){return"function"==typeof t}function C(t){return"[object RegExp]"===oi.call(t)}function A(t){return t&&t.window===t}function k(t){return t&&t.$evalAsync&&t.$watch}function E(t){return"[object File]"===oi.call(t)}function O(t){return"[object FormData]"===oi.call(t)}function T(t){return"[object Blob]"===oi.call(t)}function M(t){return"boolean"==typeof t}function V(t){return t&&S(t.then)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function D(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function j(t){return Gr(t.nodeName||t[0]&&t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function R(t,e,n,r){if(A(t)||k(t))throw ai("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw ai("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],y(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var a;if(li(t)){e.length=0;for(var s=0;s<t.length;s++)a=R(t[s],null,n,r),y(t[s])&&(n.push(t[s]),r.push(a)),e.push(a)}else{var u=e.$$hashKey;li(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var c in t)t.hasOwnProperty(c)&&(a=R(t[c],null,n,r),y(t[c])&&(n.push(t[c]),r.push(a)),e[c]=a);l(e,u)}}else if(e=t,t)if(li(t))e=R(t,[],n,r);else if(x(t))e=new Date(t.getTime());else if(C(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(y(t)){var f=Object.create(Object.getPrototypeOf(t));e=R(t,f,n,r)}return e}function _(t,e){if(li(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!li(t)){if(x(t))return x(e)?I(t.getTime(),e.getTime()):!1;if(C(t)&&C(e))return t.toString()==e.toString();if(k(t)||k(e)||A(t)||A(e)||li(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!S(t[i])){if(!I(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!S(e[i]))return!1;return!0}if(!li(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!I(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(ni.call(e,n))}function U(t,e){return ni.call(t,e||0)}function F(t,e){var n=arguments.length>2?U(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:A(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function L(t,e){return"undefined"==typeof t?n:(b(e)||(e=e?2:null),JSON.stringify(t,H,e))}function B(t){return w(t)?JSON.parse(t):t}function z(t){t=Qr(t).clone();try{t.empty()}catch(e){}var n=Qr("<div>").append(t).html();try{return t[0].nodeType===gi?Gr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Gr(e)})}catch(e){return Gr(n)}}function W(t){try{return decodeURIComponent(t)}catch(e){}}function G(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=W(e[0]),g(n))){var i=g(e[1])?W(e[1]):!0;Jr.call(r,n)?li(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function J(t){var e=[];return o(t,function(t,n){li(t)?o(t,function(t){e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}):e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}),e.length?e.join("&"):""}function Y(t){return Z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function K(t,e){var n,r,i=pi.length;for(t=Qr(t),r=0;i>r;++r)if(n=pi[r]+e,w(n=t.attr(n)))return n;return null}function X(t,e){var n,r,i={};o(pi,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(pi,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==K(n,"strict-di"),e(n,r?[r]:[],i))}function Q(n,r,i){y(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=Qr(n),n.injector()){var t=n[0]===e?"document":z(n);throw ai("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Be(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?s():(t.name=t.name.replace(c,""),si.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(S(si.resumeDeferredBootstrap)&&si.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){var e=si.element(t).injector();if(!e)throw ai("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ne(t,e){return e=e||"_",t.replace(di,function(t,n){return(n?e:"")+t.toLowerCase()})}function re(){var e;vi||(ti=t.jQuery,ti&&ti.fn.on?(Qr=ti,f(ti.fn,{scope:Ri.scope,isolateScope:Ri.isolateScope,controller:Ri.controller,injector:Ri.injector,inheritedData:Ri.inheritedData}),e=ti.cleanData,ti.cleanData=function(t){var n;if(ci)ci=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=ti._data(r,"events"),n&&n.$destroy&&ti(r).triggerHandler("$destroy");e(t)}):Qr=we,si.element=Qr,vi=!0)}function ie(t,e,n){if(!t)throw ai("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function oe(t,e,n){return n&&li(t)&&(t=t[t.length-1]),ie(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ae(t,e){if("hasOwnProperty"===t)throw ai("badname","hasOwnProperty is not a valid {0} name",e)}function se(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&S(t)?F(o,t):t}function ue(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Qr(r)}function ce(){return Object.create(null)}function le(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],u=t("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return s.push(t),this}};return a&&u(a),c})}})}function fe(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),y(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function he(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?fe(t):t}function $e(e){f(e,{bootstrap:Q,copy:R,extend:f,equals:I,element:Qr,forEach:o,injector:Be,noop:p,bind:F,toJson:L,fromJson:B,identity:d,isUndefined:m,isDefined:g,isString:w,isFunction:S,isObject:y,isNumber:b,isElement:N,isArray:li,version:xi,isDate:x,lowercase:Gr,uppercase:Yr,callbacks:{counter:0},getTestability:ee,$$minErr:r,$$csp:$i,reloadWithDebugInfo:te}),ei=le(t);try{ei("ngLocale")}catch(n){ei("ngLocale",[]).provider("$locale",mn)}ei("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Yn}),t.provider("$compile",Ke).directive({a:To,input:Wo,textarea:Wo,form:jo,script:Pa,select:Ia,style:Ua,option:qa,ngBind:Yo,ngBindHtml:Ko,ngBindTemplate:Zo,ngClass:Qo,ngClassEven:ea,ngClassOdd:ta,ngCloak:na,ngController:ra,ngForm:Po,ngHide:Ta,ngIf:aa,ngInclude:sa,ngInit:ca,ngNonBindable:Sa,ngPluralize:Ca,ngRepeat:Aa,ngShow:Oa,ngStyle:Ma,ngSwitch:Va,ngSwitchWhen:Na,ngSwitchDefault:Da,ngOptions:_a,ngTransclude:ja,ngModel:wa,ngList:la,ngChange:Xo,pattern:Ha,ngPattern:Ha,required:Fa,ngRequired:Fa,minlength:Ba,ngMinlength:Ba,maxlength:La,ngMaxlength:La,ngValue:Jo,ngModelOptions:xa}).directive({ngInclude:ua}).directive(Mo).directive(ia),t.provider({$anchorScroll:ze,$animate:Wi,$browser:Je,$cacheFactory:Ye,$controller:en,$document:nn,$exceptionHandler:rn,$filter:sr,$interpolate:dn,$interval:vn,$http:fn,$httpBackend:$n,$location:Vn,$log:Nn,$parse:Ln,$rootScope:Jn,$q:Bn,$$q:zn,$sce:Qn,$sceDelegate:Xn,$sniffer:tr,$templateCache:Ze,$templateRequest:er,$$testability:nr,$timeout:rr,$window:ar,$$rAF:Gn,$$asyncCallback:We,$$jqLite:qe})}])}function pe(){return++Ci}function de(t){return t.replace(Ei,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Oi,"Moz$1")}function ve(t){return!Ni.test(t)}function me(t){var e=t.nodeType;return e===mi||!e||e===wi}function ge(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(ve(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(Di.exec(t)||["",""])[1].toLowerCase(),i=Pi[r]||Pi._default,n.innerHTML=i[1]+t.replace(ji,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=q(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function ye(t,n){n=n||e;var r;return(r=Vi.exec(t))?[n.createElement(r[1])]:(r=ge(t,n))?r.childNodes:[]}function we(t){if(t instanceof we)return t;var e;if(w(t)&&(t=fi(t),e=!0),!(this instanceof we)){if(e&&"<"!=t.charAt(0))throw Mi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new we(t)}e?Me(this,ye(t)):Me(this,t)}function be(t){return t.cloneNode(!0)}function xe(t,e){if(e||Ce(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ce(n[r])}function Se(t,e,n,r){if(g(r))throw Mi("offargs","jqLite#off() does not support the `selector` argument");var i=Ae(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(g(n)){var r=a[e];if(P(r||[],n),r&&r.length>0)return}ki(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ki(t,e,s),delete a[e]}function Ce(t,e){var r=t.ng339,i=r&&Si[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Se(t)),delete Si[r],t.ng339=n}}function Ae(t,e){var r=t.ng339,i=r&&Si[r];return e&&!i&&(t.ng339=r=pe(),i=Si[r]={events:{},data:{},handle:n}),i}function ke(t,e,n){if(me(t)){var r=g(n),i=!r&&e&&!y(e),o=!e,a=Ae(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function Ee(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Oe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",fi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(e)+" "," ")))})}function Te(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=fi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",fi(n))}}function Me(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Ve(t,e){return Ne(t,"$"+(e||"ngController")+"Controller")}function Ne(t,e,r){t.nodeType==wi&&(t=t.documentElement);for(var i=li(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Qr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===bi&&t.host}}function De(t){for(xe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function je(t,e){e||xe(t);var n=t.parentNode;n&&n.removeChild(t)}function Pe(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Qr(n).on("load",e)}function Re(t,e){var n=_i[e.toLowerCase()];return n&&Ii[j(t)]&&n}function _e(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qi[e]}function Ie(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=_(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function qe(){this.$get=function(){return f(we,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ee(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Oe(t,e)}})}}function Ue(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||c)():r+":"+t}function Fe(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function He(t){var e=t.toString().replace(Li,""),n=e.match(Ui);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Le(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw w(n)&&n||(n=t.name||He(t)),Bi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Li,""),a=i.match(Ui),o(a[1].split(Fi),function(t){t.replace(Hi,function(t,e,n){r.push(n)})})}t.$inject=r}}else li(t)?(s=t.length-1,oe(t[s],"fn"),r=t.slice(0,s)):oe(t,"fn",!0);return r}function Be(t,e){function r(t){return function(e,n){return y(e)?void o(e,u(t)):t(e,n)}}function i(t,e){if(ae(t,"service"),(S(e)||li(e))&&(e=k.instantiate(e)),!e.$get)throw Bi("pget","Provider '{0}' must define $get factory method.",t);return A[t+b]=e}function a(t,e){return function(){var n=O.invoke(e,this);if(m(n))throw Bi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function c(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return s(t,v(e),!1)}function f(t,e){ae(t,"constant"),A[t]=e,E[t]=e}function h(t,e){var n=k.get(t+b),r=n.$get;n.$get=function(){var t=O.invoke(r,n);return O.invoke(e,null,{$delegate:t})}}function $(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=k.get(r[0]);i[r[1]].apply(i,r[2])}}if(!C.get(t)){C.put(t,!0);try{w(t)?(e=ei(t),n=n.concat($(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push(k.invoke(t)):li(t)?n.push(k.invoke(t)):oe(t,"module")}catch(i){throw li(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Bi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function d(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw Bi("cdep","Circular dependency found: {0}",e+" <- "+x.join(" <- "));return t[e]}try{return x.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{x.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,c=[],l=Be.$$annotate(t,e,o);for(s=0,a=l.length;a>s;s++){if(u=l[s],"string"!=typeof u)throw Bi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return li(t)&&(t=t[a]),t.apply(n,c)}function o(t,e,n){var r=Object.create((li(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return y(o)||S(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Be.$$annotate,has:function(e){return A.hasOwnProperty(e+b)||t.hasOwnProperty(e)}}}e=e===!0;var g={},b="Provider",x=[],C=new Fe([],!0),A={$provide:{provider:r(i),factory:r(s),service:r(c),value:r(l),constant:r(f),decorator:h}},k=A.$injector=d(A,function(t,e){throw si.isString(e)&&x.push(e),Bi("unpr","Unknown provider: {0}",x.join(" <- "))}),E={},O=E.$injector=d(E,function(t,e){var r=k.get(t+b,e);return O.invoke(r.$get,r,n,t)});return o($(t),function(t){O.invoke(t||p)}),O}function ze(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===j(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(S(t))t=t();else if(N(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else b(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Pe(function(){r.$evalAsync(s)})}),s}]}function We(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ge(t,e,r,i){function a(t){try{t.apply(null,U(arguments,1))}finally{if(S--,0===S)for(;C.length;)try{C.pop()()}catch(e){r.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function u(t,e){!function n(){o(k,function(t){t()}),A=e(n,t)}()}function c(){l(),f()}function l(){E=t.history.state,E=m(E)?null:E,I(E,j)&&(E=j),j=E}function f(){(T!==$.url()||O!==E)&&(T=$.url(),O=E,o(N,function(t){t($.url(),E)}))}function h(t){try{return decodeURIComponent(t)}catch(e){return t}}var $=this,d=e[0],v=t.location,g=t.history,y=t.setTimeout,b=t.clearTimeout,x={};$.isMock=!1;var S=0,C=[];$.$$completeOutstandingRequest=a,$.$$incOutstandingRequestCount=function(){S++},$.notifyWhenNoOutstandingRequests=function(t){o(k,function(t){t()}),0===S?t():C.push(t)};var A,k=[];$.addPollFn=function(t){return m(A)&&u(100,y),k.push(t),t};var E,O,T=v.href,M=e.find("base"),V=null;l(),O=E,$.url=function(e,n,r){if(m(r)&&(r=null),v!==t.location&&(v=t.location),g!==t.history&&(g=t.history),e){var o=O===r;if(T===e&&(!i.history||o))return $;var a=T&&xn(T)===xn(e);return T=e,O=r,!i.history||a&&o?(a||(V=e),n?v.replace(e):a?v.hash=s(e):v.href=e):(g[n?"replaceState":"pushState"](r,"",e),l(),O=E),$}return V||v.href.replace(/%27/g,"'")},$.state=function(){return E};var N=[],D=!1,j=null;$.onUrlChange=function(e){return D||(i.history&&Qr(t).on("popstate",c),Qr(t).on("hashchange",c),D=!0),N.push(e),e},$.$$checkUrlChange=f,$.baseHref=function(){var t=M.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},R="",_=$.baseHref();$.cookies=function(t,e){var i,o,a,s,u;if(!t){if(d.cookie!==R)for(R=d.cookie,o=R.split("; "),P={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(t=h(a.substring(0,u)),P[t]===n&&(P[t]=h(a.substring(u+1))));return P}e===n?d.cookie=encodeURIComponent(t)+"=;path="+_+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(e)&&(i=(d.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+_).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},$.defer=function(t,e){var n;return S++,n=y(function(){delete x[n],a(t)},e||0),x[n]=!0,n},$.defer.cancel=function(t){return x[t]?(delete x[t],b(t),a(p),!0):!1}}function Je(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ge(t,r,e,n)}]}function Ye(){this.$get=function(){function t(t,n){function i(t){t!=h&&($?$==t&&($=t.n):$=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,$=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}if(!m(e))return t in u||a++,u[t]=e,a>c&&this.remove($.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==$&&($=e.n),o(e.n,e.p),delete l[t]}delete u[t],a--},removeAll:function(){u={},a=0,l={},h=$=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ze(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ke(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,i){var o=t.match(n);if(!o)throw Gi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}var a={},s="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=D("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/;this.directive=function C(e,n){return ae(e,"directive"),w(e)?(ie(n,"directiveFactory"),a.hasOwnProperty(e)||(a[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return o(a[e],function(o,a){try{var s=t.invoke(o);S(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),a[e].push(n)):o(e,u(C)),this},this.aHrefSanitizationWhitelist=function(t){return g(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(t){return g(t)?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,u,v,g,C,A,E,O,T){function M(t,e){try{t.addClass(e)}catch(n){}}function V(t,e,n,r,i){t instanceof Qr||(t=Qr(t)),o(t,function(e,n){e.nodeType==gi&&e.nodeValue.match(/\S+/)&&(t[n]=Qr(e).wrap("<span></span>").parent()[0])});var a=D(t,e,t,n,r,i);V.$$addScopeClass(t);var s=null;return function(e,n,r){ie(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=N(u));var c;if(c="html"!==s?Qr(X(s,Qr("<div>").append(t).html())):n?Ri.clone.call(t):t,o)for(var l in o)c.data("$"+l+"Controller",o[l].instance);return V.$$addScopeInfo(c,e),n&&n(c,e),a&&a(e,c,c,i),c}}function N(t){var e=t&&t[0];return e&&"foreignobject"!==j(e)&&e.toString().match(/SVG/)?"svg":"html"}function D(t,e,r,i,o,a){function s(t,r,i,o){var a,s,u,c,l,f,h,$,v;if(p){var m=r.length;for(v=new Array(m),l=0;l<d.length;l+=3)h=d[l],v[h]=r[h]}else v=r;for(l=0,f=d.length;f>l;)u=v[d[l++]],a=d[l++],s=d[l++],a?(a.scope?(c=t.$new(),V.$$addScopeInfo(Qr(u),c)):c=t,$=a.transcludeOnThisElement?R(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?R(t,e):null,a(s,c,u,i,$)):s&&s(t,u.childNodes,n,o)}for(var u,c,l,f,h,$,p,d=[],v=0;v<t.length;v++)u=new ae,c=_(t[v],[],u,0===v?i:n,o),l=c.length?H(c,t[v],u,e,r,null,[],[],a):null,l&&l.scope&&V.$$addScopeClass(u.$$element),h=l&&l.terminal||!(f=t[v].childNodes)||!f.length?null:D(f,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(d.push(v,l,h),$=!0,p=p||l),a=null;return $?s:null}function R(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function _(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case mi:B(e,Xe(j(t)),"E",r,i);for(var f,h,$,p,d,v,m=t.attributes,g=0,b=m&&m.length;b>g;g++){var x=!1,S=!1;f=m[g],h=f.name,d=fi(f.value),p=Xe(h),(v=fe.test(p))&&(h=h.replace(Ji,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");W(C)&&p===C+"Start"&&(x=h,S=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),$=Xe(h.toLowerCase()),u[$]=h,(v||!n.hasOwnProperty($))&&(n[$]=d,Re(t,$)&&(n[$]=!0)),te(t,e,d,$,v),B(e,$,"A",r,i,x,S)}if(a=t.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=l.exec(a);)$=Xe(o[2]),B(e,$,"C",r,i)&&(n[$]=fi(o[3])),a=a.substr(o.index+o[0].length);break;case gi:K(e,t.nodeValue);break;case yi:try{o=c.exec(t.nodeValue),o&&($=Xe(o[1]),B(e,$,"M",r,i)&&(n[$]=fi(o[2])))}catch(A){}}return e.sort(Y),e}function q(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Gi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==mi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Qr(r)}function F(t,e,n){return function(r,i,o,a,s){return i=q(i[0],e,n),t(r,i,o,a,s)}}function H(t,a,s,u,c,l,f,h,$){function p(t,e,n,r){t&&(n&&(t=F(t,n,r)),t.require=A.require,t.directiveName=E,(j===A||A.$$isolateScope)&&(t=re(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=F(e,n,r)),e.require=A.require,e.directiveName=E,(j===A||A.$$isolateScope)&&(e=re(e,{isolateScope:!0})),h.push(e))}function d(t,e,n,r){var i,a,s="data",u=!1,c=n;if(w(e)){if(a=e.match(m),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",c=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[e])&&(i=i.instance),i=i||c[s]("$"+e+"Controller"),!i&&!u)throw Gi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i||null}return li(e)&&(i=[],o(e,function(e){i.push(d(t,e,n,r))})),i}function b(t,e,i,u,c){function l(t,e,r){var i;return k(t)||(r=e,e=t,t=n),W&&(i=b),r||(r=W?S.parent():S),c(t,e,i,r,T)}var $,p,m,y,w,b,x,S,A;if(a===i?(A=s,S=s.$$element):(S=Qr(i),A=new ae(S,s)),j&&(w=e.$new(!0)),c&&(x=l,x.$$boundTransclude=c),D&&(C={},b={},o(D,function(t){var n,r={$scope:t===j||t.$$isolateScope?w:e,$element:S,$attrs:A,$transclude:x};y=t.controller,"@"==y&&(y=A[t.name]),n=g(y,r,!0,t.controllerAs),b[t.name]=n,W||S.data("$"+t.name+"Controller",n.instance),C[t.name]=n})),j){V.$$addScopeInfo(S,w,!0,!(P&&(P===j||P===j.$$originalDirective))),V.$$addScopeClass(S,!0);var E=C&&C[j.name],O=w;E&&E.identifier&&j.bindToController===!0&&(O=E.instance),o(w.$$isolateBindings=j.$$isolateBindings,function(t,n){var i,o,a,s,u=t.attrName,c=t.optional,l=t.mode;switch(l){case"@":A.$observe(u,function(t){O[n]=t}),A.$$observers[u].$$scope=e,A[u]&&(O[n]=r(A[u])(e));break;case"=":if(c&&!A[u])return;o=v(A[u]),s=o.literal?I:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw i=O[n]=o(e),Gi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",A[u],j.name)},i=O[n]=o(e);var f=function(t){return s(t,O[n])||(s(t,i)?a(e,t=O[n]):O[n]=t),i=t};f.$stateful=!0;var h;h=t.collection?e.$watchCollection(A[u],f):e.$watch(v(A[u],f),null,o.literal),w.$on("$destroy",h);break;case"&":o=v(A[u]),O[n]=function(t){return o(e,t)}}})}for(C&&(o(C,function(t){t()}),C=null),$=0,p=f.length;p>$;$++)m=f[$],oe(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x);var T=e;for(j&&(j.template||null===j.templateUrl)&&(T=w),t&&t(T,i.childNodes,n,c),$=h.length-1;$>=0;$--)m=h[$],oe(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x)}$=$||{};for(var x,C,A,E,O,T,M,N=-Number.MAX_VALUE,D=$.controllerDirectives,j=$.newIsolateScopeDirective,P=$.templateDirective,R=$.nonTlbTranscludeDirective,H=!1,B=!1,W=$.hasElementTranscludeDirective,Y=s.$$element=Qr(a),K=l,Q=u,te=0,ne=t.length;ne>te;te++){A=t[te];var ie=A.$$start,se=A.$$end;if(ie&&(Y=q(a,ie,se)),O=n,N>A.priority)break;if((M=A.scope)&&(A.templateUrl||(y(M)?(Z("new/isolated scope",j||x,A,Y),j=A):Z("new/isolated scope",j,A,Y)),x=x||A),E=A.name,!A.templateUrl&&A.controller&&(M=A.controller,D=D||{},Z("'"+E+"' controller",D[E],A,Y),D[E]=A),(M=A.transclude)&&(H=!0,A.$$tlb||(Z("transclusion",R,A,Y),R=A),"element"==M?(W=!0,N=A.priority,O=Y,Y=s.$$element=Qr(e.createComment(" "+E+": "+s[E]+" ")),a=Y[0],ee(c,U(O),a),Q=V(O,u,N,K&&K.name,{nonTlbTranscludeDirective:R})):(O=Qr(be(a)).contents(),Y.empty(),Q=V(O,u))),A.template)if(B=!0,Z("template",P,A,Y),P=A,M=S(A.template)?A.template(Y,s):A.template,M=le(M),A.replace){if(K=A,O=ve(M)?[]:tn(X(A.templateNamespace,fi(M))),a=O[0],1!=O.length||a.nodeType!==mi)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",E,"");ee(c,Y,a);var ue={$attr:{}},ce=_(a,[],ue),fe=t.splice(te+1,t.length-(te+1));j&&L(ce),t=t.concat(ce).concat(fe),G(s,ue),ne=t.length}else Y.html(M);if(A.templateUrl)B=!0,Z("template",P,A,Y),P=A,A.replace&&(K=A),b=J(t.splice(te,t.length-te),Y,s,c,H&&Q,f,h,{controllerDirectives:D,newIsolateScopeDirective:j,templateDirective:P,nonTlbTranscludeDirective:R}),ne=t.length;else if(A.compile)try{T=A.compile(Y,s,Q),S(T)?p(null,T,ie,se):T&&p(T.pre,T.post,ie,se)}catch(he){i(he,z(Y))}A.terminal&&(b.terminal=!0,N=Math.max(N,A.priority))}return b.scope=x&&x.scope===!0,b.transcludeOnThisElement=H,b.elementTranscludeOnThisElement=W,b.templateOnThisElement=B,b.transclude=Q,$.hasElementTranscludeDirective=W,b}function L(t){for(var e=0,n=t.length;n>e;e++)t[e]=$(t[e],{$$isolateScope:!0})}function B(e,r,o,u,c,l,f){if(r===c)return null;var h=null;if(a.hasOwnProperty(r))for(var p,d=t.get(r+s),v=0,m=d.length;m>v;v++)try{p=d[v],(u===n||u>p.priority)&&-1!=p.restrict.indexOf(o)&&(l&&(p=$(p,{$$start:l,$$end:f})),e.push(p),h=p)}catch(g){i(g)
}return h}function W(e){if(a.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function G(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(M(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function J(t,e,n,r,i,a,s,c){var l,f,h=[],p=e[0],d=t.shift(),v=$(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=S(d.templateUrl)?d.templateUrl(e,n):d.templateUrl,g=d.templateNamespace;return e.empty(),u(E.getTrustedResourceUrl(m)).then(function(u){var $,w,b,x;if(u=le(u),d.replace){if(b=ve(u)?[]:tn(X(g,fi(u))),$=b[0],1!=b.length||$.nodeType!==mi)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m);w={$attr:{}},ee(r,e,$);var S=_($,[],w);y(d.scope)&&L(S),t=S.concat(t),G(n,w)}else $=p,e.html(u);for(t.unshift(v),l=H(t,$,n,i,e,d,a,s,c),o(r,function(t,n){t==$&&(r[n]=e[0])}),f=D(e[0].childNodes,i);h.length;){var C=h.shift(),A=h.shift(),k=h.shift(),E=h.shift(),O=e[0];if(!C.$$destroyed){if(A!==p){var T=A.className;c.hasElementTranscludeDirective&&d.replace||(O=be($)),ee(k,Qr(A),O),M(Qr(O),T)}x=l.transcludeOnThisElement?R(C,l.transclude,E):E,l(f,C,O,r,x)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(l.transcludeOnThisElement&&(o=R(e,l.transclude,i)),l(f,e,n,r,o)))}}function Y(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Z(t,e,n,r){if(e)throw Gi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,z(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&V.$$addBindingClass(e),function(t,e){var i=e.parent();r||V.$$addBindingClass(i),V.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function X(t,n){switch(t=Gr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return E.HTML;var n=j(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function te(t,e,n,i,o){var a=Q(t,i);o=h[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===j(t))throw Gi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers={});if(b.test(i))throw Gi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==n&&(s=l&&r(l,!0,a,o),n=l),s&&(u[i]=s(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function ee(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var c=i,l=c+s-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var h=e.createDocumentFragment();h.appendChild(a),Qr(r).data(Qr(a).data()),ti?(ci=!0,ti.cleanData([a])):delete Qr.cache[a[Qr.expando]];for(var $=1,p=n.length;p>$;$++){var d=n[$];Qr(d).remove(),h.appendChild(d),delete n[$]}n[0]=r,n.length=1}function re(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,z(n))}}var ae=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ae.prototype={$normalize:Xe,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Qe(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=Qe(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,u=this.$$element[0],c=Re(u,t),l=_e(u,t),f=t;if(c?(this.$$element.prop(t,e),a=c):l&&(this[l]=e,f=l),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ne(t,"-"))),s=j(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=T(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",$=fi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test($)?p:/(,)/,v=$.split(d),m=Math.floor(v.length/2),g=0;m>g;g++){var y=2*g;h+=T(fi(v[y]),!0),h+=" "+fi(v[y+1])}var w=fi(v[2*g]).split(/\s/);h+=T(fi(w[0]),!0),2===w.length&&(h+=" "+fi(w[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var b=this.$$observers;b&&o(b[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ce()),i=r[t]||(r[t]=[]);return i.push(e),C.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){P(i,e)}}};var se=r.startSymbol(),ue=r.endSymbol(),le="{{"==se||"}}"==ue?d:function(t){return t.replace(/\{\{/g,se).replace(/}}/g,ue)},fe=/^ngAttr[A-Z]/;return V.$$addBindingInfo=x?function(t,e){var n=t.data("$binding")||[];li(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,V.$$addBindingClass=x?function(t){M(t,"ng-binding")}:p,V.$$addScopeInfo=x?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:p,V.$$addScopeClass=x?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:p,V}]}function Xe(t){return de(t.replace(Ji,""))}function Qe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function tn(t){t=Qr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===yi&&ri.call(t,e,1)}return t}function en(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){ae(e,"controller"),y(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,i){if(!t||!y(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,u,c,l){var h,$,p,d;if(c=c===!0,l&&w(l)&&(d=l),w(r)){if($=r.match(i),!$)throw Yi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=$[1],d=d||$[3],r=t.hasOwnProperty(p)?t[p]:se(u.$scope,p,!0)||(e?se(a,p,!0):n),oe(r,p,!0)}if(c){var v=(li(r)?r[r.length-1]:r).prototype;return h=Object.create(v||null),d&&s(u,d,h,p||r.name),f(function(){return o.invoke(r,h,u,p),h},{instance:h,identifier:d})}return h=o.instantiate(r,u,p),d&&s(u,d,h,p||r.name),h}}]}function nn(){this.$get=["$window",function(t){return Qr(t.document)}]}function rn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function on(t,e){if(w(t)){var n=t.replace(to,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Zi)||an(n))&&(t=B(n))}}return t}function an(t){var e=t.match(Xi);return e&&Qi[e[0]].test(t)}function sn(t){var e,n,r,i=ce();return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=Gr(fi(t.substr(0,r))),n=fi(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function un(t){var e=y(t)?t:n;return function(n){if(e||(e=sn(t)),n){var r=e[Gr(n)];return void 0===r&&(r=null),r}return e}}function cn(t,e,n,r){return S(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function ln(t){return t>=200&&300>t}function fn(){var t=this.defaults={transformResponse:[on],transformRequest:[function(t){return!y(t)||E(t)||T(t)||O(t)?t:L(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_(Ki),put:_(Ki),patch:_(Ki)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return g(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,h,$){function p(e){function i(t){var e=f({},t);return e.data=t.data?cn(t.data,t.headers,t.status,u.transformResponse):t.data,ln(t.status)?e:h.reject(e)}function a(t){var e,n={};return o(t,function(t,r){S(t)?(e=t(),null!=e&&(n[r]=e)):n[r]=t}),n}function s(e){var n,r,i,o=t.headers,s=f({},e.headers);o=f({},o.common,o[Gr(e.method)]);t:for(n in o){r=Gr(n);for(i in s)if(Gr(i)===r)continue t;s[n]=o[n]}return a(s)}if(!si.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var u=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);u.headers=s(e),u.method=Yr(u.method);var c=function(e){var r=e.headers,a=cn(e.data,un(r),n,e.transformRequest);return m(a)&&o(r,function(t,e){"content-type"===Gr(e)&&delete r[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),b(e,a).then(i,i)},l=[c,n],$=h.when(u);for(o(k,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var p=l.shift(),d=l.shift();$=$.then(p,d)}return $.success=function(t){return $.then(function(e){t(e.data,e.status,e.headers,u)}),$},$.error=function(t){return $.then(null,function(e){t(e.data,e.status,e.headers,u)}),$},$}function d(){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}function v(){o(arguments,function(t){p[t]=function(e,n,r){return p(f(r||{},{method:t,url:e,data:n}))}})}function b(r,i){function o(t,n,r,i){function o(){s(n,t,r,i)}$&&(ln(t)?$.put(x,[t,n,sn(r),i]):$.remove(x)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function s(t,e,n,i){e=Math.max(e,0),(ln(e)?v.resolve:v.reject)({data:t,status:e,headers:un(n),config:r,statusText:i})}function c(t){s(t.data,t.status,_(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var $,d,v=h.defer(),w=v.promise,b=r.headers,x=C(r.url,r.params);if(p.pendingRequests.push(r),w.then(f,f),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||($=y(r.cache)?r.cache:y(t.cache)?t.cache:A),$&&(d=$.get(x),g(d)?V(d)?d.then(c,c):li(d)?s(d[1],d[0],_(d[2]),d[3]):s(d,200,{},"OK"):$.put(x,w)),m(d)){var S=or(r.url)?u.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n;S&&(b[r.xsrfHeaderName||t.xsrfHeaderName]=S),a(r.method,x,i,o,b,r.timeout,r.withCredentials,r.responseType)}return w}function C(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||m(t)||(li(t)||(t=[t]),o(t,function(t){y(t)&&(t=x(t)?t.toISOString():L(t)),n.push(Z(e)+"="+Z(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var A=c("$http"),k=[];return o(i,function(t){k.unshift(w(t)?$.get(t):$.invoke(t))}),p.pendingRequests=[],d("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function hn(){return new t.XMLHttpRequest}function $n(){this.$get=["$browser","$window","$document",function(t,e,n){return pn(t,hn,t.defer,e.angular.callbacks,n[0])}]}function pn(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ki(r,"load",o),ki(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},Ai(r,"load",o),Ai(r,"error",o),a.body.appendChild(r),o}return function(a,u,c,l,f,h,$,d){function v(){w&&w(),b&&b.abort()}function m(e,i,o,a,s){C!==n&&r.cancel(C),w=b=null,e(i,o,a,s),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==Gr(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var w=s(u.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){m(l,t,i[y].data,"",e),i[y]=p})}else{var b=e();b.open(a,u,!0),o(f,function(t,e){g(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==ir(u).protocol?404:0),m(l,n,e,b.getAllResponseHeaders(),t)};var x=function(){m(l,-1,null,null,"")};if(b.onerror=x,b.onabort=x,$&&(b.withCredentials=!0),d)try{b.responseType=d}catch(S){if("json"!==d)throw S}b.send(c||null)}if(h>0)var C=r(v,h);else V(h)&&h.then(v)}}function dn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(o,a,h,$){function p(n){return n.replace(c,t).replace(l,e)}function d(t){try{return t=T(t),$&&!g(t)?t:M(t)}catch(e){var n=eo("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(n)}}$=!!$;for(var v,y,w,b=0,x=[],C=[],A=o.length,k=[],E=[];A>b;){if(-1==(v=o.indexOf(t,b))||-1==(y=o.indexOf(e,v+s))){b!==A&&k.push(p(o.substring(b)));break}b!==v&&k.push(p(o.substring(b,v))),w=o.substring(v+s,y),x.push(w),C.push(n(w,d)),b=y+u,E.push(k.length),k.push("")}if(h&&k.length>1)throw eo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var O=function(t){for(var e=0,n=x.length;n>e;e++){if($&&m(t[e]))return;k[E[e]]=t[e]}return k.join("")},T=function(t){return h?i.getTrusted(h,t):i.valueOf(t)},M=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=L(t)}return t};return f(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=C[e](t);return O(i)}catch(a){var s=eo("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:x,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(C,function(n,i){var o=O(n);S(e)&&e.call(this,o,n!==i?r:o,t),r=o},n)}})}}var s=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),l=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function vn(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var c=e.setInterval,l=e.clearInterval,f=0,h=g(u)&&!u,$=(h?r:n).defer(),p=$.promise;return s=g(s)?s:0,p.then(null,null,i),p.$$intervalId=c(function(){$.notify(f++),s>0&&f>=s&&($.resolve(f),l(p.$$intervalId),delete o[p.$$intervalId]),h||t.$apply()},a),o[p.$$intervalId]=$,p}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function mn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function gn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Y(e[n]);return e.join("/")}function yn(t,e){var n=ir(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||ro[n.protocol]||null}function wn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=ir(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=G(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function bn(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function xn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Sn(t){return t.replace(/(#.+)|#$/,"$1")}function Cn(t){return t.substr(0,xn(t).lastIndexOf("/")+1)}function An(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function kn(t,e){this.$$html5=!0,e=e||"";var r=Cn(t);yn(t,this),this.$$parse=function(t){var e=bn(r,t);if(!w(e))throw io("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);wn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=J(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=bn(t,i))!==n?(s=a,u=(a=bn(e,a))!==n?r+(bn("/",a)||a):t+s):(a=bn(r,i))!==n?u=r+a:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function En(t,e){var n=Cn(t);yn(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=bn(t,r)||bn(n,r);"#"===a.charAt(0)?(o=bn(e,a),m(o)&&(o=a)):o=this.$$html5?a:"",wn(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=J(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return xn(t)==xn(e)?(this.$$parse(e),!0):!1}}function On(t,e){this.$$html5=!0,En.apply(this,arguments);var n=Cn(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==xn(r)?o=r:(a=bn(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=J(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function Tn(t){return function(){return this[t]}}function Mn(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Vn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):y(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),M(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),$=r.url();if(e.enabled){if(!h&&e.requireBase)throw io("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=An($)+(h||"/"),l=i.history?kn:On}else f=xn($),l=En;c=new l(f,"#"+t),c.$$parseLinkUrl($,$),c.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Qr(t.target);"a"!==j(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ir(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Sn(c.absUrl())!=Sn($)&&r.url(c.absUrl(),!0);var d=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(d=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Sn(r.url()),e=Sn(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(d||l)&&(d=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Nn(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||p,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Dn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ao("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function jn(t,e){if(t){if(t.constructor===t)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ao("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ao("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ao("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Pn(t,e){if(t){if(t.constructor===t)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===so||t===uo||t===co)throw ao("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Rn(t){return t.constant}function _n(t,e,n,r,i){jn(t,i),jn(e,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Dn(a.shift(),i);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=jn(u,i)}return o=Dn(a.shift(),i),jn(t[o],i),t[o]=r,r}function In(t){return"constructor"==t}function qn(t,e,r,i,o,a,s){Dn(t,a),Dn(e,a),Dn(r,a),Dn(i,a),Dn(o,a);var u=function(t){return jn(t,a)},c=s||In(t)?u:d,l=s||In(e)?u:d,f=s||In(r)?u:d,h=s||In(i)?u:d,$=s||In(o)?u:d;return function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;return null==u?u:(u=c(u[t]),e?null==u?n:(u=l(u[e]),r?null==u?n:(u=f(u[r]),i?null==u?n:(u=h(u[i]),o?null==u?n:u=$(u[o]):u):u):u):u)}}function Un(t,e){return function(n,r){return t(n,r,jn,e)}}function Fn(t,e,r){var i=e.expensiveChecks,a=i?mo:vo,s=a[t];if(s)return s;var u=t.split("."),c=u.length;if(e.csp)s=6>c?qn(u[0],u[1],u[2],u[3],u[4],r,i):function(t,e){var o,a=0;do o=qn(u[a++],u[a++],u[a++],u[a++],u[a++],r,i)(t,e),e=n,t=o;while(c>a);return o};else{var l="";i&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;o(u,function(t,e){Dn(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(i||In(t))&&(n="eso("+n+", fe)",f=!0),l+="if(s == null) return undefined;\ns="+n+";\n"}),l+="return s;";var h=new Function("s","l","eso","fe",l);h.toString=v(l),f&&(h=Un(h,r)),s=h}return s.sharedGetter=!0,s.assign=function(e,n,r){return _n(e,r,t,n,t)},a[t]=s,s}function Hn(t){return S(t.valueOf)?t.valueOf():go.call(t)}function Ln(){var t=ce(),e=ce();this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?a(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Hn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],t.$watch(function(t){var e=o(t);return s(e,u)||(i=r(t),u=e&&Hn(e)),i},e,n)}for(var c=[],l=0,f=o.length;f>l;l++)c[l]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var u=o[n](t);(e||(e=!s(u,c[n])))&&(c[n]=u&&Hn(u))}return e&&(i=r(t)),i},e,n)}function c(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,S(e)&&e.apply(this,arguments),g(t)&&r.$$postDigest(function(){g(o)&&i()})},n)}function l(t,e,n,r){function i(t){var e=!0;return o(t,function(t){g(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,S(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){S(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==l&&n!==c,i=r?function(n,r){var i=t(n,r);return e(i,n,r)}:function(n,r){var i=t(n,r),o=e(i,n,r);return g(i)?o:i};return t.$$watchDelegate&&t.$$watchDelegate!==u?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=u,i.inputs=[t]),i}var $={csp:r.csp,expensiveChecks:!1},d={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,v,m;switch(typeof r){case"string":m=r=r.trim();var g=a?e:t;if(s=g[m],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2));var y=a?d:$,w=new $o(y),b=new po(w,n,y);s=b.parse(r),s.constant?s.$$watchDelegate=f:v?(s=i(s),s.$$watchDelegate=s.literal?l:c):s.inputs&&(s.$$watchDelegate=u),g[m]=s}return h(s,o);case"function":return h(r,o);default:return h(p,o)}}}]}function Bn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Wn(function(e){t.$evalAsync(e)},e)}]}function zn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Wn(function(e){t.defer(e)},e)}]}function Wn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{S(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new l,n=0,r=li(t)?[]:{};return o(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var h=r("$q",TypeError),$=function(){return new l};a.prototype={then:function(t,e,n){var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(t)||S(t))&&(n=t&&t.then),S(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(S(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new l;return e.reject(t),e.promise},d=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var r=null;try{S(n)&&(r=n())}catch(i){return d(i,!1)}return V(r)?r.then(function(){return d(t,e)},function(t){return d(t,!1)}):d(t,e)},m=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},g=function w(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!S(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var r=new l;return t(e,n),r.promise};return g.defer=$,g.reject=p,g.when=m,g.all=f,g}function Gn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Jn(){var t=10,e=r("$rootScope"),n=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,s,u,l){function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(t){if(b.$$phase)throw e("inprog","{0} already in progress",b.$$phase);b.$$phase=t}function $(){b.$$phase=null}function d(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function v(){}function g(){for(;A.length;)try{A.shift()()}catch(t){s(t)}a=null}function w(){null===a&&(a=l.defer(function(){b.$apply(g)}))}f.prototype={constructor:f,$new:function(t,e){function n(){r.$$destroyed=!0}var r;return e=e||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),r=new this.$$ChildScope),r.$parent=e,r.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=r,e.$$childTail=r):e.$$childHead=e.$$childTail=r,(t||e!=this)&&r.$on("$destroy",n),r},$watch:function(t,e,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,r,i);var o=this,a=o.$$watchers,s={fn:e,last:v,get:i,exp:t,eq:!!r};return n=null,S(e)||(s.fn=p),a||(a=o.$$watchers=[]),a.unshift(s),function(){P(a,s),n=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(!m(o)){if(y(o))if(i(o)){a!==$&&(a=$,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;e>c;c++)u=a[c],s=o[c],r=u!==u&&s!==s,r||u===s||(f++,a[c]=s)}else{a!==p&&(a=p={},v=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(v++,a[n]=s,f++));if(v>e){f++;for(n in a)o.hasOwnProperty(n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(d?(d=!1,e(o,o,c)):e(o,s,c),l)if(y(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Jr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,l=e.length>1,f=0,h=u(t,n),$=[],p={},d=!0,v=0;return this.$watch(h,r)},$digest:function(){var r,i,o,u,c,f,p,d,m,y,w=t,A=this,k=[];h("$digest"),l.$$checkUrlChange(),this===b&&null!==a&&(l.defer.cancel(a),g()),n=null;do{for(f=!1,d=A;x.length;){try{y=x.shift(),y.scope.$eval(y.expression,y.locals)}catch(E){s(E)}n=null}t:do{if(u=d.$$watchers)for(c=u.length;c--;)try{if(r=u[c])if((i=r.get(d))===(o=r.last)||(r.eq?I(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){f=!1;
break t}}else f=!0,n=r,r.last=r.eq?R(i,null):i,r.fn(i,o===v?i:o,d),5>w&&(m=4-w,k[m]||(k[m]=[]),k[m].push({msg:S(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:i,oldVal:o}))}catch(E){s(E)}if(!(p=d.$$childHead||d!==A&&d.$$nextSibling))for(;d!==A&&!(p=d.$$nextSibling);)d=d.$parent}while(d=p);if((f||x.length)&&!w--)throw $(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,k)}while(f||x.length);for($();C.length;)try{C.shift()()}catch(E){s(E)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==b){for(var e in this.$$listenerCount)d(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){b.$$phase||x.length||l.defer(function(){x.length&&b.$digest()}),x.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return h("$apply"),this.$eval(t)}catch(e){s(e)}finally{$();try{b.$digest()}catch(e){throw s(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,d(i,1,t))}},$emit:function(t){var e,n,r,i=[],o=this,a=!1,u={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=q([u],arguments,1);do{for(e=o.$$listeners[t]||i,u.currentScope=o,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){s(l)}else e.splice(n,1),n--,r--;if(a)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var o,a,u,c=q([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[t]||[],a=0,u=o.length;u>a;a++)if(o[a])try{o[a].apply(null,c)}catch(l){s(l)}else o.splice(a,1),a--,u--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var b=new f,x=b.$$asyncQueue=[],C=b.$$postDigestQueue=[],A=b.$$applyAsyncQueue=[];return b}]}function Yn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=ir(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Zn(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw yo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=hi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw yo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Kn(t){var e=[];return g(t)&&o(t,function(t){e.push(Zn(t))}),e}function Xn(){this.SCE_CONTEXTS=wo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Kn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Kn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?or(e):!!t.exec(e.href)}function o(n){var r,o,a=ir(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw yo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw yo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===wo.RESOURCE_URL){if(o(e))return e;throw yo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===wo.HTML)return l(e);throw yo("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw yo("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var f=a(),h={};return h[wo.HTML]=a(f),h[wo.CSS]=a(f),h[wo.URL]=a(f),h[wo.JS]=a(f),h[wo.RESOURCE_URL]=a(h[wo.URL]),{trustAs:s,getTrusted:c,valueOf:u}}]}function Qn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Xr)throw yo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_(wo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=d),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(wo,function(t,e){var n=Gr(e);r[de("parse_as_"+n)]=function(e){return i(t,e)},r[de("get_trusted_"+n)]=function(e){return a(t,e)},r[de("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function tr(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=h((/android (\d+)/.exec(Gr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,f=!1;if(c){for(var $ in c)if(r=u.exec($)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||l&&f||(l=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=Xr)return!1;if(m(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:$i(),vendorPrefix:n,transitions:l,animations:f,android:o}}]}function er(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function a(t){if(!o)throw Gi("tpload","Failed to load template: {0}",i);return n.reject(t)}r.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;li(s)?s=s.filter(function(t){return t!==on}):s===on&&(s=null);var u={cache:t,transformResponse:s};return e.get(i,u)["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},a)}return r.totalPendingRequests=0,r}]}function nr(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=si.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+hi(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function rr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){var c,l=g(u)&&!u,f=(l?r:n).defer(),h=f.promise;return c=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),i(e)}finally{delete a[h.$$timeoutId]}l||t.$apply()},s),h.$$timeoutId=c,a[c]=f,h}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function ir(t){var e=t;return Xr&&(bo.setAttribute("href",e),e=bo.href),bo.setAttribute("href",e),{href:bo.href,protocol:bo.protocol?bo.protocol.replace(/:$/,""):"",host:bo.host,search:bo.search?bo.search.replace(/^\?/,""):"",hash:bo.hash?bo.hash.replace(/^#/,""):"",hostname:bo.hostname,port:bo.port,pathname:"/"===bo.pathname.charAt(0)?bo.pathname:"/"+bo.pathname}}function or(t){var e=w(t)?ir(t):t;return e.protocol===xo.protocol&&e.host===xo.host}function ar(){this.$get=v(t)}function sr(t){function e(r,i){if(y(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",fr),e("date",xr),e("filter",ur),e("json",Sr),e("limitTo",Cr),e("lowercase",Eo),e("number",hr),e("orderBy",Ar),e("uppercase",Oo)}function ur(){return function(t,e,n){if(!li(t))return t;var r,i;switch(typeof e){case"function":r=e;break;case"boolean":case"number":case"string":i=!0;case"object":r=cr(e,n,i);break;default:return t}return t.filter(r)}}function cr(t,e,n){var r,i=y(t)&&"$"in t;return e===!0?e=I:S(e)||(e=function(t,e){return y(t)||y(e)?!1:(t=Gr(""+t),e=Gr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!y(r)?lr(r,t.$,e,!1):lr(r,t,e,n)}}function lr(t,e,n,r,i){var o=typeof t,a=typeof e;if("string"===a&&"!"===e.charAt(0))return!lr(t,e.substring(1),n,r);if(li(t))return t.some(function(t){return lr(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&lr(t[s],e,n,!0))return!0;return i?!1:lr(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!S(u)){var c="$"===s,l=c?t:t[s];if(!lr(l,u,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function fr(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:$r(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function hr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:$r(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function $r(t,e,n,r,i){if(!isFinite(t)||y(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],c=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?t=0:(s=a,c=!0)}if(c)i>0&&1>t&&(s=t.toFixed(i),t=parseFloat(s));else{var f=(a.split(So)[1]||"").length;m(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var h=(""+t).split(So),$=h[0];h=h[1]||"";var p,d=0,v=e.lgSize,g=e.gSize;if($.length>=v+g)for(d=$.length-v,p=0;d>p;p++)(d-p)%g===0&&0!==p&&(s+=n),s+=$.charAt(p);for(p=d;p<$.length;p++)($.length-p)%v===0&&0!==p&&(s+=n),s+=$.charAt(p);for(;h.length<i;)h+="0";i&&"0"!==i&&(s+=r+h.substr(0,i))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function pr(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function dr(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),pr(o,e,r)}}function vr(t,e){return function(n,r){var i=n["get"+t](),o=Yr(e?"SHORT"+t:t);return r[o][i]}}function mr(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=pr(Math[e>0?"floor":"ceil"](e/60),2)+pr(Math.abs(e%60),2)}function gr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function yr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function wr(t){return function(e){var n=gr(e.getFullYear()),r=yr(e),i=+r-+n,o=1+Math.round(i/6048e5);return pr(o,t)}}function br(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function xr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(r,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-i,c=h(e[5]||0)-o,l=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,w(n)&&(n=ko.test(n)?h(n):e(n)),b(n)&&(n=new Date(n)),!x(n))return n;for(;r;)s=Ao.exec(r),s?(c=q(c,s,1),r=c.pop()):(c.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(c,function(e){a=Co[e],u+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Sr(){return function(t,e){return m(e)&&(e=2),L(t,e)}}function Cr(){return function(t,e){return b(t)&&(t=t.toString()),li(t)||w(t)?(e=1/0===Math.abs(Number(e))?Number(e):h(e),e?e>0?t.slice(0,e):t.slice(e):w(t)?"":[]):t}}function Ar(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function u(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function c(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=u(t),e=u(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=li(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||d;if(w(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(c,n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return c(t[i],e[i])},n)}}return a(function(t,e){return c(r(t),r(e))},n)}),ni.call(e).sort(a(o,r))):e}}function kr(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function Er(t,e){t.$name=e}function Or(t,e,r,i,a){var s=this,u=[],c=s.$$parentForm=t.parent().controller("form")||Vo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){ae(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),P(u,t)},Lr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(P(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i}),s.$setDirty=function(){i.removeClass(t,$a),i.addClass(t,pa),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){i.setClass(t,$a,pa+" "+No),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,No),s.$submitted=!0,c.$setSubmitted()}}function Tr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Mr(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r)}function Vr(t,e,n,r,i,o){var a=Gr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!s){var i=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=fi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Nr(t,e){if(x(t))return t;if(w(t)){Ho.lastIndex=0;var n=Ho.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=gr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return 0/0}function Dr(t,e){return function(n,r){var i,a;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ro.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function jr(t,e,r,i){return function(o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function $(t){return g(t)?x(t)?t:r(t):n}Pr(o,a,s,u),Vr(o,a,s,u,c,l);var p,d=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return"UTC"===d&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(t){if(t&&!x(t))throw ga("datefmt","Expected `{0}` to be a date",t);if(h(t)){if(p=t,p&&"UTC"===d){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return f("date")(t,i,d)}return p=null,""}),g(s.min)||s.ngMin){var v;u.$validators.min=function(t){return!h(t)||m(v)||r(t)>=v},s.$observe("min",function(t){v=$(t),u.$validate()})}if(g(s.max)||s.ngMax){var y;u.$validators.max=function(t){return!h(t)||m(y)||r(t)<=y},s.$observe("max",function(t){y=$(t),u.$validate()})}}}function Pr(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=y(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(Wr)||{};return r.badInput&&!r.typeMismatch?n:t})}function Rr(t,e,r,i,o,a){if(Pr(t,e,r,i),Vr(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:qo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!b(t))throw ga("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),r.min||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||m(s)||t>=s},r.$observe("min",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),s=b(t)&&!isNaN(t)?t:n,i.$validate()})}if(r.max||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||m(u)||u>=t},r.$observe("max",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),u=b(t)&&!isNaN(t)?t:n,i.$validate()})}}function _r(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||_o.test(n)}}function Ir(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Io.test(n)}}function qr(t,e,n,r){m(n.name)&&e.attr("name",c());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Ur(t,e,n,i,o){var a;if(g(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function Fr(t,e,n,r,i,o,a,s){var u=Ur(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Ur(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return I(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Hr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if(li(t))return t;if(w(t))return t.split(" ");if(y(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(a,s,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||{},r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function $(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!I(t,p)){var r=i(p);h(r,n)}}else c(n)}p=_(t)}var p;a.$watch(u[t],$,!0),u.$observe("class",function(){$(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?c(s):l(s)}})}}}]}function Lr(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),M(e)?e?(f(s.$error,t,u),l(s.$$success,t,u)):(l(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(ma,!0),s.$valid=s.$invalid=n,a("",null)):(o(ma,!1),s.$valid=Br(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,c),h.$setValidity(t,c,s)}function r(t,e,n){s[t]||(s[t]={}),l(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),Br(s[t])&&(s[t]=n)}function o(t,e){e&&!c[t]?($.addClass(u,t),c[t]=!0):!e&&c[t]&&($.removeClass(u,t),c[t]=!1)}function a(t,e){t=t?"-"+ne(t,"-"):"",o(fa+t,e===!0),o(ha+t,e===!1)}var s=t.ctrl,u=t.$element,c={},l=t.set,f=t.unset,h=t.parentForm,$=t.$animate;c[ha]=!(c[fa]=u.hasClass(fa)),s.$setValidity=e}function Br(t){if(t)for(var e in t)return!1;return!0}var zr=/^\/(.+)\/([a-z]*)$/,Wr="validity",Gr=function(t){return w(t)?t.toLowerCase():t},Jr=Object.prototype.hasOwnProperty,Yr=function(t){return w(t)?t.toUpperCase():t},Zr=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Kr=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Gr=Zr,Yr=Kr);var Xr,Qr,ti,ei,ni=[].slice,ri=[].splice,ii=[].push,oi=Object.prototype.toString,ai=r("ng"),si=t.angular||(t.angular={}),ui=0;Xr=e.documentMode,p.$inject=[],d.$inject=[];var ci,li=Array.isArray,fi=function(t){return w(t)?t.trim():t},hi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},$i=function(){if(g($i.isActive_))return $i.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return $i.isActive_=t},pi=["ng-","data-ng-","ng:","x-ng-"],di=/[A-Z]/g,vi=!1,mi=1,gi=3,yi=8,wi=9,bi=11,xi={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};we.expando="ng339";var Si=we.cache={},Ci=1,Ai=function(t,e,n){t.addEventListener(e,n,!1)},ki=function(t,e,n){t.removeEventListener(e,n,!1)};we._data=function(t){return this.cache[t[this.expando]]||{}};var Ei=/([\:\-\_]+(.))/g,Oi=/^moz([A-Z])/,Ti={mouseleave:"mouseout",mouseenter:"mouseover"},Mi=r("jqLite"),Vi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ni=/<|&#?\w+;/,Di=/<([\w:]+)/,ji=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.optgroup=Pi.option,Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td;var Ri=we.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),we(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Qr(t>=0?this[t]:this[this.length+t])},length:0,push:ii,sort:[].sort,splice:[].splice},_i={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){_i[Gr(t)]=t});var Ii={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ii[t]=!0});var qi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:ke,removeData:Ce},function(t,e){we[e]=t}),o({data:ke,inheritedData:Ne,scope:function(t){return Qr.data(t,"$scope")||Ne(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Qr.data(t,"$isolateScope")||Qr.data(t,"$isolateScopeNoTemplate")},controller:Ve,injector:function(t){return Ne(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ee,css:function(t,e,n){return e=de(e),g(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=Gr(e);if(_i[i]){if(!g(r))return t[e]||(t.attributes.getNamedItem(e)||p).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(g(r))t.setAttribute(e,r);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}},prop:function(t,e,n){return g(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===mi||n===gi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===j(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(xe(t,!0),void(t.innerHTML=e))},empty:De},function(t,e){we.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==De&&(2==t.length&&t!==Ee&&t!==Ve?e:r)===n){if(y(e)){for(i=0;a>i;i++)if(t===ke)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,c=0;u>c;c++){var l=t(this[c],e,r);s=s?s+l:l}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Ce,on:function za(t,e,n,r){if(g(r))throw Mi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(me(t)){var i=Ae(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Ie(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?za(t,Ti[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&Ai(t,e,a),c=o[e]),c.push(n)}}},off:Se,one:function(t,e,n){t=Qr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;xe(t),o(new we(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===mi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===mi||n===bi){e=new we(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===mi){var n=t.firstChild;o(new we(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Qr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:je,detach:function(t){je(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new we(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Te,removeClass:Oe,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;m(r)&&(r=!Ee(t,e)),(r?Te:Oe)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==bi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:be,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ae(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(r=f(r,e)),i=_(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){we.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)m(i)?(i=t(this[o],e,n,r),g(i)&&(i=Qr(i))):Me(i,t(this[o],e,n,r));return g(i)?i:this},we.prototype.bind=we.prototype.on,we.prototype.unbind=we.prototype.off}),Fe.prototype={put:function(t,e){this[Ue(t,this.nextUid)]=e},get:function(t){return this[Ue(t,this.nextUid)]},remove:function(t){var e=this[t=Ue(t,this.nextUid)];return delete this[t],e}};var Ui=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Fi=/,/,Hi=/^\s*(_?)(\S+?)\1\s*$/,Li=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Bi=r("$injector");Be.$$annotate=Le;var zi=r("$animate"),Wi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw zi("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ce();return o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),o(e,function(t,e){var o=i[e];t===!1&&o?r.push(e):t!==!0||o||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(t,e,n){for(var r=0,i=e.length;i>r;++r){var o=e[r];t[o]=n}}function s(){return c||(c=t.defer(),e(function(){c.resolve(),c=null})),c.promise}function u(t,e){if(si.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){return u(t,{from:e,to:n}),s()},enter:function(t,e,n,r){return u(t,r),n?n.after(t):e.prepend(t),s()},leave:function(t){return t.remove(),s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=Qr(t),e=w(e)?e:li(e)?e.join(" "):"",o(t,function(t){Te(t,e)}),u(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=Qr(t),e=w(e)?e:li(e)?e.join(" "):"",o(t,function(t){Oe(t,e)}),u(t,n),s()},setClass:function(t,e,n,o){var s=this,u="$$animateClasses",c=!1;t=Qr(t);var l=t.data(u);l?o&&l.options&&(l.options=si.extend(l.options||{},o)):(l={classes:{},options:o},c=!0);var f=l.classes;return e=li(e)?e:e.split(" "),n=li(n)?n:n.split(" "),a(f,e,!0),a(f,n,!1),c&&(l.promise=r(function(e){var n=t.data(u);if(t.removeData(u),n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(u,l)),l.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,r),s()},enabled:p,cancel:p}}]}],Gi=r("$compile");Ke.$inject=["$provide","$$sanitizeUriProvider"];var Ji=/^((?:x|data)[\:\-_])/i,Yi=r("$controller"),Zi="application/json",Ki={"Content-Type":Zi+";charset=utf-8"},Xi=/^\[|^\{(?!\{)/,Qi={"[":/]$/,"{":/}$/},to=/^\)\]\}',?\n/,eo=r("$interpolate"),no=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ro={http:80,https:443,ftp:21},io=r("$location"),oo={$$html5:!1,$$replace:!1,absUrl:Tn("$$absUrl"),url:function(t){if(m(t))return this.$$url;
var e=no.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Tn("$$protocol"),host:Tn("$$host"),port:Tn("$$port"),path:Mn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||b(t))t=t.toString(),this.$$search=G(t);else{if(!y(t))throw io("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=R(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Mn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([On,En,kn],function(t){t.prototype=Object.create(oo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==kn||!this.$$html5)throw io("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var ao=r("$parse"),so=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,lo=ce();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,lo[e]=t}),lo["this"]=function(t){return t},lo["this"].sharedGetter=!0;var fo=f(ce(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),g(r)?g(i)?r+i:r:g(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(g(n)?n:0)-(g(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),ho={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},$o=function(t){this.options=t};$o.prototype={constructor:$o,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=fo[e],o=fo[n],a=fo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ao("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Gr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=ho[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var po=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};po.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),po.prototype={constructor:po,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in lo?t=lo[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw ao("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=fo[t];return f(function(t,r){return n(t,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){var i=fo[e];return f(function(e,r){return i(e,r,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Fn(t,this.options,this.text)},constant:function(){var t=this.consume().value;return f(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;o>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return f(function(o,a){var s=t(o,a);if(r){r[0]=s;for(var u=e.length;u--;)r[u+1]=e[u](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(Rn),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var r=this.assignment();return f(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(po.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return f(function(r,i,o){var a=o||t(r,i);return null==a?n:e(a)},{assign:function(n,r,i){var o=t(n,i);return o||t.assign(n,o={},i),e.assign(o,r)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var a,s=t(i,o),u=r(i,o);return Dn(u,e),s?a=jn(s[u],e):n},{assign:function(n,i,o){var a=Dn(r(n,o),e),s=jn(t(n,o),e);return s||t.assign(n,s={},o),s[a]=i}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=e?e(a,s):g(e)?n:a,c=t(a,s,u)||p;if(o)for(var l=r.length;l--;)o[l]=jn(r[l](a,s),i);jn(u,i),Pn(c,i);var f=c.apply?c.apply(u,o):c(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),jn(f,i)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0,o=t.length;o>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(Rn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,a=e.length;a>o;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(Rn),inputs:e})}};var vo=ce(),mo=ce(),go=Object.prototype.valueOf,yo=r("$sce"),wo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Gi=r("$compile"),bo=e.createElement("a"),xo=ir(t.location.href);sr.$inject=["$provide"],fr.$inject=["$locale"],hr.$inject=["$locale"];var So=".",Co={yyyy:dr("FullYear",4),yy:dr("FullYear",2,0,!0),y:dr("FullYear",1),MMMM:vr("Month"),MMM:vr("Month",!0),MM:dr("Month",2,1),M:dr("Month",1,1),dd:dr("Date",2),d:dr("Date",1),HH:dr("Hours",2),H:dr("Hours",1),hh:dr("Hours",2,-12),h:dr("Hours",1,-12),mm:dr("Minutes",2),m:dr("Minutes",1),ss:dr("Seconds",2),s:dr("Seconds",1),sss:dr("Milliseconds",3),EEEE:vr("Day"),EEE:vr("Day",!0),a:br,Z:mr,ww:wr(2),w:wr(1)},Ao=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,ko=/^\-?\d+$/;xr.$inject=["$locale"];var Eo=v(Gr),Oo=v(Yr);Ar.$inject=["$parse"];var To=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===oi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Mo={};o(_i,function(t,e){if("multiple"!=t){var n=Xe("ng-"+e);Mo[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),o(qi,function(t,e){Mo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(zr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Xe("ng-"+t);Mo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===oi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Xr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var Vo={$addControl:p,$$renameControl:Er,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},No="ng-submitted";Or.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Do=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:Or,compile:function(t){return t.addClass($a).addClass(fa),{pre:function(t,r,i,o){if(!("action"in i)){var a=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()};Ai(r[0],"submit",a),r.on("$destroy",function(){e(function(){ki(r[0],"submit",a)},0,!1)})}var s=o.$$parentForm,u=o.$name;u&&(_n(t,null,u,o,u),i.$observe(i.name?"name":"ngForm",function(e){u!==e&&(_n(t,null,u,n,u),u=e,_n(t,null,u,o,u),s.$$renameControl(o,u))})),r.on("$destroy",function(){s.$removeControl(o),u&&_n(t,null,u,n,u),f(o,Vo)})}}}};return r}]},jo=Do(),Po=Do(!0),Ro=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,_o=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Io=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Uo=/^(\d{4})-(\d{2})-(\d{2})$/,Fo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ho=/^(\d{4})-W(\d\d)$/,Lo=/^(\d{4})-(\d\d)$/,Bo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo={text:Mr,date:jr("date",Uo,Dr(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jr("datetimelocal",Fo,Dr(Fo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:jr("time",Bo,Dr(Bo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jr("week",Ho,Nr,"yyyy-Www"),month:jr("month",Lo,Dr(Lo,["yyyy","MM"]),"yyyy-MM"),number:Rr,url:_r,email:Ir,radio:qr,checkbox:Fr,hidden:p,button:p,submit:p,reset:p,file:p},Wo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(zo[Gr(a.type)]||zo.text)(i,o,a,s[0],e,t,n,r)}}}}],Go=/^(true|false|\d+)$/,Jo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Go.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Yo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Zo=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Ko=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Xo=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Qo=Hr("",!0),ta=Hr("Odd",0),ea=Hr("Even",1),na=kr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ra=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ia={},oa={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Xe("ng-"+t);ia[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};oa[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var aa=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=ue(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],sa=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:si.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(i,o,c,l,f){var h,$,p,d=0,v=function(){$&&($.remove(),$=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){$=null}),$=p,p=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!g(u)||u&&!i.$eval(u)||e()},c=++d;r?(t(r,!0).then(function(t){if(c===d){var e=i.$new();l.template=t;var u=f(e,function(t){v(),n.enter(t,null,o).then(a)});h=e,p=u,h.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){c===d&&(v(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(v(),l.template=null)})}}}}],ua=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(ge(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],ca=kr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),la=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?fi(a):a,c=function(t){if(!m(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?fi(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return li(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},fa="ng-valid",ha="ng-invalid",$a="ng-pristine",pa="ng-dirty",da="ng-untouched",va="ng-touched",ma="ng-pending",ga=new r("ngModel"),ya=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,c,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h=a(r.ngModel),$=h.assign,d=h,v=$,y=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");d=function(t){var n=h(t);return S(n)&&(n=e(t)),n},v=function(t){S(h(t))?n(t,{$$$p:w.$modelValue}):$(t,w.$modelValue)}}else if(!h.assign)throw ga("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,z(i))},this.$render=p,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var x=i.inheritedData("$formController")||Vo,C=0;Lr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:x,$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(i,pa),s.addClass(i,$a)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(i,$a),s.addClass(i,pa),x.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(i,da,va)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(i,va,da)},this.$rollbackViewValue=function(){u.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!b(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,r=w.$$parserName||"parse",i=w.$error[r]?!1:n,o=w.$valid,a=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$runValidators(i,e,t,function(t){s||o===t||(w.$modelValue=t?e:n,w.$modelValue!==a&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r,i){function a(t){var e=w.$$parserName||"parse";if(t===n)c(e,null);else if(c(e,t),!t)return o(w.$validators,function(t,e){c(e,null)}),o(w.$asyncValidators,function(t,e){c(e,null)}),!1;return!0}function s(){var t=!0;return o(w.$validators,function(n,i){var o=n(e,r);t=t&&o,c(i,o)}),t?!0:(o(w.$asyncValidators,function(t,e){c(e,null)}),!1)}function u(){var t=[],i=!0;o(w.$asyncValidators,function(o,a){var s=o(e,r);if(!V(s))throw ga("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),t.push(s.then(function(){c(a,!0)},function(){i=!1,c(a,!1)}))}),t.length?l.all(t).then(function(){f(i)},p):f(!0)}function c(t,e){h===C&&w.$setValidity(t,e)}function f(t){h===C&&i(t)}C++;var h=C;return a(t)&&s()?void u():void f(!1)},this.$commitViewValue=function(){var t=w.$viewValue;u.cancel(y),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==s&&w.$$writeModelToScope()}var r=w.$$lastCommittedViewValue,i=r,o=m(i)?n:!0;if(o)for(var a=0;a<w.$parsers.length;a++)if(i=w.$parsers[a](i),m(i)){o=!1;break}b(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=d(t));var s=w.$modelValue,u=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=i,u&&(w.$modelValue=i,e()),w.$$runValidators(o,i,w.$$lastCommittedViewValue,function(t){u||(w.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,w.$modelValue),o(w.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){w.$viewValue=t,(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=w.$options;i&&g(i.debounce)&&(n=i.debounce,b(n)?r=n:b(n[e])?r=n[e]:b(n["default"])&&(r=n["default"])),u.cancel(y),r?y=u(function(){w.$commitViewValue()},r):c.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=d(t);if(e!==w.$modelValue){w.$modelValue=w.$$rawModelValue=e;for(var r=w.$formatters,i=r.length,o=e;i--;)o=r[i](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(n,e,o,p))}return e})}],wa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ya,priority:1,compile:function(e){return e.addClass($a).addClass(da).addClass(fa),{pre:function(t,e,n,r){var i=r[0],o=r[1]||Vo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ba=/(\s+|^)default(\s+|$)/,xa=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=fi(this.$options.updateOn.replace(ba,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Sa=kr({terminal:!0,priority:1e3}),Ca=["$locale","$interpolate",function(t,e){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(t){a.text(t||"")}var c,l=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,$=i.$eval(f)||{},p={},d=e.startSymbol(),v=e.endSymbol(),m=d+l+"-"+h+v,g=si.noop;o(s,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Gr(n[2]);$[i]=a.attr(s.$attr[e])}}),o($,function(t,r){p[r]=e(t.replace(n,m))}),i.$watch(l,function(e){var n=parseFloat(e),r=isNaN(n);r||n in $||(n=t.pluralCat(n-h)),n===c||r&&isNaN(c)||(g(),g=i.$watch(p[n],u),c=n)})}}}],Aa=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var $=h.ngRepeat,p=e.createComment(" end ngRepeat: "+$+" "),d=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);var v=d[1],m=d[2],g=d[3],y=d[4];if(d=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var w=d[3]||d[1],b=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var x,S,C,A,k={$id:Ue};return y?x=t(y):(C=function(t,e){return Ue(e)},A=function(t){return t}),function(t,e,r,h,d){x&&(S=function(e,n,r){return b&&(k[b]=e),k[w]=n,k.$index=r,x(t,k)});var v=ce();t.$watchCollection(m,function(r){var h,m,y,x,k,E,O,T,M,V,N,D,j=e[0],P=ce();if(g&&(t[g]=r),i(r))M=r,T=S||C;else{T=S||A,M=[];for(var R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&M.push(R);M.sort()}for(x=M.length,N=new Array(x),h=0;x>h;h++)if(k=r===M?h:M[h],E=r[k],O=T(k,E,h),v[O])V=v[O],delete v[O],P[O]=V,N[h]=V;else{if(P[O])throw o(N,function(t){t&&t.scope&&(v[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,O,E);N[h]={id:O,scope:n,clone:n},P[O]=!0}for(var _ in v){if(V=v[_],D=ue(V.clone),a.leave(D),D[0].parentNode)for(h=0,m=D.length;m>h;h++)D[h][s]=!0;V.scope.$destroy()}for(h=0;x>h;h++)if(k=r===M?h:M[h],E=r[k],V=N[h],V.scope){y=j;do y=y.nextSibling;while(y&&y[s]);l(V)!=y&&a.move(ue(V.clone),null,Qr(j)),j=f(V),c(V.scope,h,w,E,b,k,x)}else d(function(t,e){V.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Qr(j)),j=n,V.clone=t,P[V.id]=V,c(V.scope,h,w,E,b,k,x)});v=P})}}}}],ka="ng-hide",Ea="ng-hide-animate",Oa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ka,{tempClasses:Ea})})}}}],Ta=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ka,{tempClasses:Ea})})}}}],Ma=kr(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)})}),Va=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var s=ue(c[r].clone);f[r].$destroy();var $=l[r]=t.leave(s);$.then(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Na=kr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Da=kr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ja=kr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(e));o(function(t){e.empty(),e.append(t)})}}),Pa=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Ra=r("ngOptions"),_a=v({restrict:"A",terminal:!0}),Ia=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(t,e,n){u=t,r=e,i=n},o.addOption=function(e,n){ae(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Ue(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},o.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(A.parent()&&A.remove(),e.val(t),""===t&&p.prop("selected",!0)):m(t)&&p?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){A.parent()&&A.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new Fe(n.$viewValue);o(e.find("option"),function(e){e.selected=g(t.get(e.value))})},t.$watch(function(){I(r,n.$viewValue)||(r=_(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function $(e,s,u){function c(t,n,r){return I[E]=r,M&&(I[M]=n),t(e,I)}function l(){e.$apply(function(){var t,n=D(e)||[];if(y)t=[],o(s.val(),function(e){e=P?R[e]:e,t.push(f(e,n[e]))});else{var r=P?R[s.val()]:s.val();t=f(r,n[r])}u.$setViewValue(t),m()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var r=T?T:N;return c(r,t,e)}function h(){var t,n=D(e);if(n&&li(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=c(k,r,n[r]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=c(k,o,n[o]))}return t}function $(t){var e;if(y)if(P&&li(t)){e=new Fe([]);for(var n=0;n<t.length;n++)e.put(c(P,null,t[n]),!0)}else e=new Fe(t);else P&&(t=c(P,null,t));return function(n,r){var i;return i=P?P:T?T:N,y?g(e.remove(c(i,n,r))):t===c(i,n,r)}}function p(){x||(e.$$postDigest(m),x=!0)}function v(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function m(){x=!1;var t,n,r,i,l,f,h,p,m,w,A,E,O,T,N,j,q,U={"":[]},F=[""],H=u.$viewValue,L=D(e)||[],B=M?a(L):L,z={},W=$(H),G=!1;for(R={},E=0;w=B.length,w>E;E++)h=E,M&&(h=B[E],"$"===h.charAt(0))||(p=L[h],t=c(V,h,p)||"",(n=U[t])||(n=U[t]=[],F.push(t)),O=W(h,p),G=G||O,j=c(k,h,p),j=g(j)?j:"",q=P?P(e,I):M?B[E]:E,P&&(R[q]=h),n.push({id:q,label:j,selected:O}));
for(y||(b||null===H?U[""].unshift({id:"",label:"",selected:!G}):G||U[""].unshift({id:"?",label:"",selected:!0})),A=0,m=F.length;m>A;A++){for(t=F[A],n=U[t],_.length<=A?(i={element:C.clone().attr("label",t),label:n.label},l=[i],_.push(l),s.append(i.element)):(l=_[A],i=l[0],i.label!=t&&i.element.attr("label",i.label=t)),T=null,E=0,w=n.length;w>E;E++)r=n[E],(f=l[E+1])?(T=f.element,f.label!==r.label&&(v(z,f.label,!1),v(z,r.label,!0),T.text(f.label=r.label),T.prop("label",f.label)),f.id!==r.id&&T.val(f.id=r.id),T[0].selected!==r.selected&&(T.prop("selected",f.selected=r.selected),Xr&&T.prop("selected",f.selected))):(""===r.id&&b?N=b:(N=S.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),l.push(f={element:N,label:r.label,id:r.id,selected:r.selected}),v(z,r.label,!0),T?T.after(N):i.element.append(N),T=N);for(E++;l.length>E;)r=l.pop(),v(z,r.label,!1),r.element.remove()}for(;_.length>A;){for(n=_.pop(),E=1;E<n.length;++E)v(z,n[E].label,!1);n[0].element.remove()}o(z,function(t,e){t>0?d.addOption(e):0>t&&d.removeOption(e)})}var A;if(!(A=w.match(i)))throw Ra("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,z(s));var k=r(A[2]||A[1]),E=A[4]||A[6],O=/ as /.test(A[0])&&A[1],T=O?r(O):null,M=A[5],V=r(A[3]||""),N=r(A[2]?A[1]:E),D=r(A[7]),j=A[8],P=j?r(A[8]):null,R={},_=[[{element:s,label:""}]],I={};b&&(t(b)(e),b.removeClass("ng-scope"),b.remove()),s.empty(),s.on("change",l),u.$render=m,e.$watchCollection(D,p),e.$watchCollection(h,p),y&&e.$watchCollection(function(){return u.$modelValue},p)}if(l[1]){for(var p,d=l[0],v=l[1],y=c.multiple,w=c.ngOptions,b=!1,x=!1,S=Qr(e.createElement("option")),C=Qr(e.createElement("optgroup")),A=S.clone(),k=0,E=u.children(),O=E.length;O>k;k++)if(""===E[k].value){p=b=E.eq(k);break}d.init(v,b,A),y&&(v.$isEmpty=function(t){return!t||0===t.length}),w?$(s,u,v):y?h(s,u,v):f(s,u,v,d)}}}}],qa=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ua=v({restrict:"E",terminal:!1}),Fa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Ha=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,z(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||m(a)||a.test(t)}}}}},La=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=h(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Ba=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),$e(si),void Qr(e).ready(function(){X(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
!function(i,a){"use strict";function r(){function i(i,a,e){return function(n,t,c){var u=c.$normalize(a);r[u]&&!c[u]&&n.$watch(c[i],function(i){e&&(i=!i),t.attr(a,i)})}}var r={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(i){r=a.extend(r,i)},this.$get=function(){return{config:function(i){return r[i]},$$watchExpr:i}}}var e=a.module("ngAria",["ng"]).provider("$aria",r);e.directive("ngShow",["$aria",function(i){return i.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(i){return i.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(i){function a(a,r,e){return i.config(r)&&!e.attr(a)}function r(i,a){var r=i.type,e=i.role;return"checkbox"===(r||e)||"menuitemcheckbox"===e?"checkbox":"radio"===(r||e)||"menuitemradio"===e?"radio":"range"===r||"progressbar"===e||"slider"===e?"range":"textbox"===(r||e)||"TEXTAREA"===a[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",link:function(e,n,t,c){function u(){return c.$modelValue}function o(){return f?(f=!1,function(i){var a=i===t.value;n.attr("aria-checked",a),n.attr("tabindex",0-!a)}):function(i){n.attr("aria-checked",i===t.value)}}function d(i){n.attr("aria-checked",!!i)}var l=r(t,n),f=a("tabindex","tabindex",n);switch(l){case"radio":case"checkbox":a("aria-checked","ariaChecked",n)&&e.$watch(u,"radio"===l?o():d);break;case"range":i.config("ariaValue")&&(t.min&&!n.attr("aria-valuemin")&&n.attr("aria-valuemin",t.min),t.max&&!n.attr("aria-valuemax")&&n.attr("aria-valuemax",t.max),n.attr("aria-valuenow")||e.$watch(u,function(i){n.attr("aria-valuenow",i)}));break;case"multiline":a("aria-multiline","ariaMultiline",n)&&n.attr("aria-multiline",!0)}f&&n.attr("tabindex",0),c.$validators.required&&a("aria-required","ariaRequired",n)&&e.$watch(function(){return c.$error.required},function(i){n.attr("aria-required",!!i)}),a("aria-invalid","ariaInvalid",n)&&e.$watch(function(){return c.$invalid},function(i){n.attr("aria-invalid",!!i)})}}}]).directive("ngDisabled",["$aria",function(i){return i.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(i,a){a.attr("aria-live")||a.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(i,a){return{restrict:"A",compile:function(r,e){var n=a(e.ngClick,null,!0);return function(a,r,e){function t(i,a){return-1!==a.indexOf(i[0].nodeName)?!0:void 0}i.config("tabindex")&&!r.attr("tabindex")&&r.attr("tabindex",0),i.config("bindKeypress")&&!e.ngKeypress&&t(r,["DIV","LI"])&&r.on("keypress",function(i){function r(){n(a,{$event:i})}(32===i.keyCode||13===i.keyCode)&&a.$apply(r)})}}}}]).directive("ngDblclick",["$aria",function(i){return function(a,r){i.config("tabindex")&&!r.attr("tabindex")&&r.attr("tabindex",0)}}])}(window,window.angular);
!function(n,t,e){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var n="$$ngAnimateChildren";return function(e,a,i){var r=i.ngAnimateChildren;t.isString(r)&&0===r.length?a.data(n,!0):e.$watch(r,function(t){a.data(n,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(n,t){var e=t[0].body;return function(t){return n(function(){e.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(a,i){function r(n){for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType==p)return e}}function s(n){return n&&t.element(n)}function o(n){return t.element(r(n))}function u(n,t){return r(n)==r(t)}var l,c=t.noop,f=t.forEach,v=i.$$selectors,d=t.isArray,m=t.isString,g=t.isObject,p=1,C="$$ngAnimateState",h="$$ngAnimateChildren",$="ng-animate",b={running:!0};a.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(n,e,a,p,y,D,A,w,k,x){function S(n,t){var e=n.data(C)||{};return t&&(e.running=!0,e.structural=!0,n.data(C,e)),e.disabled||e.running&&e.structural}function B(n){var t,a=e.defer();return a.promise.$$cancelFn=function(){t&&t()},A.$$postDigest(function(){t=n(function(){a.resolve()})}),a.promise}function F(n){return g(n)?(n.tempClasses&&m(n.tempClasses)&&(n.tempClasses=n.tempClasses.split(/\s+/)),n):void 0}function M(n,t,e){e=e||{};var a={};f(e,function(n,t){f(t.split(" "),function(t){a[t]=n})});var i=Object.create(null);f((n.attr("class")||"").split(/\s+/),function(n){i[n]=!0});var r=[],s=[];return f(t&&t.classes||[],function(n,t){var e=i[t],o=a[t]||{};n===!1?(e||"addClass"==o.event)&&s.push(t):n===!0&&(e&&"removeClass"!=o.event||r.push(t))}),r.length+s.length>0&&[r.join(" "),s.join(" ")]}function E(n){if(n){var t=[],e={},i=n.substr(1).split(".");(p.transitions||p.animations)&&t.push(a.get(v[""]));for(var r=0;r<i.length;r++){var s=i[r],o=v[s];o&&!e[s]&&(t.push(a.get(o)),e[s]=!0)}return t}}function R(n,e,a,i){function r(n,t){var e=n[t],a=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];return e||a?("leave"==t&&(a=e,e=null),D.push({event:t,fn:e}),$.push({event:t,fn:a}),!0):void 0}function s(t,e,r){function s(n){if(e){if((e[n]||c)(),++v<o.length)return;e=null}r()}var o=[];f(t,function(n){n.fn&&o.push(n)});var v=0;f(o,function(t,r){var o=function(){s(r)};switch(t.event){case"setClass":e.push(t.fn(n,u,l,o,i));break;case"animate":e.push(t.fn(n,a,i.from,i.to,o));break;case"addClass":e.push(t.fn(n,u||a,o,i));break;case"removeClass":e.push(t.fn(n,l||a,o,i));break;default:e.push(t.fn(n,o,i))}}),e&&0===e.length&&r()}var o=n[0];if(o){i&&(i.to=i.to||{},i.from=i.from||{});var u,l;d(a)&&(u=a[0],l=a[1],u?l?a=u+" "+l:(a=u,e="addClass"):(a=l,e="removeClass"));var v="setClass"==e,m=v||"addClass"==e||"removeClass"==e||"animate"==e,g=n.attr("class"),p=g+" "+a;if(K(p)){var C=c,h=[],$=[],b=c,y=[],D=[],A=(" "+p).replace(/\s+/g,".");return f(E(A),function(n){var t=r(n,e);!t&&v&&(r(n,"addClass"),r(n,"removeClass"))}),{node:o,event:e,className:a,isClassBased:m,isSetClassOperation:v,applyStyles:function(){i&&n.css(t.extend(i.from||{},i.to||{}))},before:function(n){C=n,s($,h,function(){C=c,n()})},after:function(n){b=n,s(D,y,function(){b=c,n()})},cancel:function(){h&&(f(h,function(n){(n||c)(!0)}),C(!0)),y&&(f(y,function(n){(n||c)(!0)}),b(!0))}}}}}function N(n,e,a,i,r,s,o,u){function v(t){var i="$animate:"+t;A&&A[i]&&A[i].length>0&&D(function(){a.triggerHandler(i,{event:n,className:e})})}function d(){v("before")}function m(){v("after")}function g(){v("close"),u()}function p(){p.hasBeenRun||(p.hasBeenRun=!0,s())}function h(){if(!h.hasBeenRun){y&&y.applyStyles(),h.hasBeenRun=!0,o&&o.tempClasses&&f(o.tempClasses,function(n){l.removeClass(a,n)});var t=a.data(C);t&&(y&&y.isClassBased?T(a,e):(D(function(){var t=a.data(C)||{};N==t.index&&T(a,e,n)}),a.data(C,t))),g()}}var b=c,y=R(a,n,e,o);if(!y)return p(),d(),m(),h(),b;n=y.event,e=y.className;var A=t.element._data(y.node);if(A=A&&A.events,i||(i=r?r.parent():a.parent()),j(a,i))return p(),d(),m(),h(),b;var w=a.data(C)||{},k=w.active||{},x=w.totalActive||0,S=w.last,B=!1;if(x>0){var F=[];if(y.isClassBased){if("setClass"==S.event)F.push(S),T(a,e);else if(k[e]){var M=k[e];M.event==n?B=!0:(F.push(M),T(a,e))}}else if("leave"==n&&k["ng-leave"])B=!0;else{for(var E in k)F.push(k[E]);w={},T(a,!0)}F.length>0&&f(F,function(n){n.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==n||B||(B="addClass"==n==a.hasClass(e)),B)return p(),d(),m(),g(),b;k=w.active||{},x=w.totalActive||0,"leave"==n&&a.one("$destroy",function(){var n=t.element(this),e=n.data(C);if(e){var a=e.active["ng-leave"];a&&(a.cancel(),T(n,"ng-leave"))}}),l.addClass(a,$),o&&o.tempClasses&&f(o.tempClasses,function(n){l.addClass(a,n)});var N=P++;return x++,k[e]=y,a.data(C,{last:y,active:k,index:N,totalActive:x}),d(),y.before(function(t){var i=a.data(C);t=t||!i||!i.active[e]||y.isClassBased&&i.active[e].event!=n,p(),t===!0?h():(m(),y.after(h))}),y.cancel}function O(n){var e=r(n);if(e){var a=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName($):e.querySelectorAll("."+$);f(a,function(n){n=t.element(n);var e=n.data(C);e&&e.active&&f(e.active,function(n){n.cancel()})})}}function T(n,t){if(u(n,y))b.disabled||(b.running=!1,b.structural=!1);else if(t){var e=n.data(C)||{},a=t===!0;!a&&e.active&&e.active[t]&&(e.totalActive--,delete e.active[t]),(a||!e.totalActive)&&(l.removeClass(n,$),n.removeData(C))}}function j(n,e){if(b.disabled)return!0;if(u(n,y))return b.running;var a,i,r;do{if(0===e.length)break;var s=u(e,y),o=s?b:e.data(C)||{};if(o.disabled)return!0;if(s&&(r=!0),a!==!1){var l=e.data(h);t.isDefined(l)&&(a=l)}i=i||o.running||o.last&&!o.last.isClassBased}while(e=e.parent());return!r||!a&&i}l=x,y.data(C,b);var I=A.$watch(function(){return k.totalPendingRequests},function(n){0===n&&(I(),A.$$postDigest(function(){A.$$postDigest(function(){b.running=!1})}))}),P=0,q=i.classNameFilter(),K=q?function(n){return q.test(n)}:function(){return!0};return{animate:function(n,t,e,a,i){return a=a||"ng-inline-animate",i=F(i)||{},i.from=e?t:null,i.to=e?e:t,B(function(t){return N("animate",a,o(n),null,null,c,i,t)})},enter:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),S(e,!0),n.enter(e,a,i),B(function(n){return N("enter","ng-enter",o(e),a,i,c,r,n)})},leave:function(e,a){return a=F(a),e=t.element(e),O(e),S(e,!0),B(function(t){return N("leave","ng-leave",o(e),null,null,function(){n.leave(e)},a,t)})},move:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),O(e),S(e,!0),n.move(e,a,i),B(function(n){return N("move","ng-move",o(e),a,i,c,r,n)})},addClass:function(n,t,e){return this.setClass(n,t,[],e)},removeClass:function(n,t,e){return this.setClass(n,[],t,e)},setClass:function(e,a,i,s){s=F(s);var u="$$animateClasses";if(e=t.element(e),e=o(e),S(e))return n.$$setClassImmediately(e,a,i,s);var l,c=e.data(u),v=!!c;return c||(c={},c.classes={}),l=c.classes,a=d(a)?a:a.split(" "),f(a,function(n){n&&n.length&&(l[n]=!0)}),i=d(i)?i:i.split(" "),f(i,function(n){n&&n.length&&(l[n]=!1)}),v?(s&&c.options&&(c.options=t.extend(c.options||{},s)),c.promise):(e.data(u,c={classes:l,options:s}),c.promise=B(function(t){var a=e.parent(),i=r(e),s=i.parentNode;if(!s||s.$$NG_REMOVED||i.$$NG_REMOVED)return void t();var o=e.data(u);e.removeData(u);var l=e.data(C)||{},c=M(e,o,l.active);return c?N("setClass",c,e,a,null,function(){c[0]&&n.$$addClassImmediately(e,c[0]),c[1]&&n.$$removeClassImmediately(e,c[1])},o.options,t):t()}))},cancel:function(n){n.$$cancelFn()},enabled:function(n,t){switch(arguments.length){case 2:if(n)T(t);else{var e=t.data(C)||{};e.disabled=!0,t.data(C,e)}break;case 1:b.disabled=!n;break;default:n=!b.disabled}return!!n}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(a,i,s,o){function u(){T||(T=o(function(){z=[],T=null,L={}}))}function v(n,t){T&&T(),z.push(t),T=o(function(){f(z,function(n){n()}),z=[],T=null,L={}})}function g(n,e){var a=r(n);n=t.element(a),X.push(n);var i=Date.now()+e;Q>=i||(s.cancel(J),Q=i,J=s(function(){C(X),X=[]},e,!1))}function C(n){f(n,function(n){var t=n.data(_);t&&f(t.closeAnimationFns,function(n){n()})})}function h(n,t){var e=t?L[t]:null;if(!e){var i=0,r=0,s=0,o=0;f(n,function(n){if(n.nodeType==p){var t=a.getComputedStyle(n)||{},e=t[M+j];i=Math.max($(e),i);var u=t[M+P];r=Math.max($(u),r);{t[R+P]}o=Math.max($(t[R+P]),o);var l=$(t[R+j]);l>0&&(l*=parseInt(t[R+q],10)||1),s=Math.max(l,s)}}),e={total:0,transitionDelay:r,transitionDuration:i,animationDelay:o,animationDuration:s},t&&(L[t]=e)}return e}function $(n){var t=0,e=m(n)?n.split(/\s*,\s*/):[];return f(e,function(n){t=Math.max(parseFloat(n)||0,t)}),t}function b(n){var t=n.parent(),e=t.data(W);return e||(t.data(W,++U),e=U),e+"-"+r(n).getAttribute("class")}function y(n,t,e,a){var i=["ng-enter","ng-leave","ng-move"].indexOf(e)>=0,s=b(t),o=s+" "+e,u=L[o]?++L[o].total:0,c={};if(u>0){var f=e+"-stagger",v=s+" "+f,d=!L[v];d&&l.addClass(t,f),c=h(t,v),d&&l.removeClass(t,f)}l.addClass(t,e);var m=t.data(_)||{},g=h(t,o),p=g.transitionDuration,C=g.animationDuration;if(i&&0===p&&0===C)return l.removeClass(t,e),!1;var $=a||i&&p>0,y=C>0&&c.animationDelay>0&&0===c.animationDuration,D=m.closeAnimationFns||[];t.data(_,{stagger:c,cacheKey:o,running:m.running||0,itemIndex:u,blockTransition:$,closeAnimationFns:D});var k=r(t);return $&&(A(k,!0),a&&t.css(a)),y&&w(k,!0),!0}function D(n,t,e,a,i){function o(){t.off(P,u),l.removeClass(t,d),l.removeClass(t,m),j&&s.cancel(j),B(t,e);var n=r(t);for(var a in C)n.style.removeProperty(C[a])}function u(n){n.stopPropagation();var t=n.originalEvent||n,e=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(G));Math.max(e-I,0)>=R&&i>=F&&a()}var c=r(t),v=t.data(_);if(-1==c.getAttribute("class").indexOf(e)||!v)return void a();var d="",m="";f(e.split(" "),function(n,t){var e=(t>0?" ":"")+n;d+=e+"-active",m+=e+"-pending"});var p="",C=[],$=v.itemIndex,b=v.stagger,y=0;if($>0){var D=0;b.transitionDelay>0&&0===b.transitionDuration&&(D=b.transitionDelay*$);var k=0;b.animationDelay>0&&0===b.animationDuration&&(k=b.animationDelay*$,C.push(O+"animation-play-state")),y=Math.round(100*Math.max(D,k))/100}y||(l.addClass(t,d),v.blockTransition&&A(c,!1));var x=v.cacheKey+" "+d,S=h(t,x),F=Math.max(S.transitionDuration,S.animationDuration);if(0===F)return l.removeClass(t,d),B(t,e),void a();!y&&i&&Object.keys(i).length>0&&(S.transitionDuration||(t.css("transition",S.animationDuration+"s linear all"),C.push("transition")),t.css(i));var M=Math.max(S.transitionDelay,S.animationDelay),R=M*H;if(C.length>0){var T=c.getAttribute("style")||"";";"!==T.charAt(T.length-1)&&(T+=";"),c.setAttribute("style",T+" "+p)}var j,I=Date.now(),P=N+" "+E,q=(M+F)*V,K=(y+q)*H;return y>0&&(l.addClass(t,m),j=s(function(){j=null,S.transitionDuration>0&&A(c,!1),S.animationDuration>0&&w(c,!1),l.addClass(t,d),l.removeClass(t,m),i&&(0===S.transitionDuration&&t.css("transition",S.animationDuration+"s linear all"),t.css(i),C.push("transition"))},y*H,!1)),t.on(P,u),v.closeAnimationFns.push(function(){o(),a()}),v.running++,g(t,K),o}function A(n,t){n.style[M+I]=t?"none":""}function w(n,t){n.style[R+K]=t?"paused":""}function k(n,t,e,a){return y(n,t,e,a)?function(n){n&&B(t,e)}:void 0}function x(n,t,e,a,i){return t.data(_)?D(n,t,e,a,i):(B(t,e),void a())}function S(n,t,e,a,i){var r=k(n,t,e,i.from);if(!r)return u(),void a();var s=r;return v(t,function(){s=x(n,t,e,a,i.to)}),function(n){(s||c)(n)}}function B(n,t){l.removeClass(n,t);var e=n.data(_);e&&(e.running&&e.running--,e.running&&0!==e.running||n.removeData(_))}function F(n,t){var e="";return n=d(n)?n:n.split(/\s+/),f(n,function(n,a){n&&n.length>0&&(e+=(a>0?" ":"")+n+t)}),e}var M,E,R,N,O="";n.ontransitionend===e&&n.onwebkittransitionend!==e?(O="-webkit-",M="WebkitTransition",E="webkitTransitionEnd transitionend"):(M="transition",E="transitionend"),n.onanimationend===e&&n.onwebkitanimationend!==e?(O="-webkit-",R="WebkitAnimation",N="webkitAnimationEnd animationend"):(R="animation",N="animationend");var T,j="Duration",I="Property",P="Delay",q="IterationCount",K="PlayState",W="$$ngAnimateKey",_="$$ngAnimateCSS3Data",G=3,V=1.5,H=1e3,L={},U=0,z=[],J=null,Q=0,X=[];return{animate:function(n,t,e,a,i,r){return r=r||{},r.from=e,r.to=a,S("animate",n,t,i,r)},enter:function(n,t,e){return e=e||{},S("enter",n,"ng-enter",t,e)},leave:function(n,t,e){return e=e||{},S("leave",n,"ng-leave",t,e)},move:function(n,t,e){return e=e||{},S("move",n,"ng-move",t,e)},beforeSetClass:function(n,t,e,a,i){i=i||{};var r=F(e,"-remove")+" "+F(t,"-add"),s=k("setClass",n,r,i.from);return s?(v(n,a),s):(u(),void a())},beforeAddClass:function(n,t,e,a){a=a||{};var i=k("addClass",n,F(t,"-add"),a.from);return i?(v(n,e),i):(u(),void e())},beforeRemoveClass:function(n,t,e,a){a=a||{};var i=k("removeClass",n,F(t,"-remove"),a.from);return i?(v(n,e),i):(u(),void e())},setClass:function(n,t,e,a,i){i=i||{},e=F(e,"-remove"),t=F(t,"-add");var r=e+" "+t;return x("setClass",n,r,a,i.to)},addClass:function(n,t,e,a){return a=a||{},x("addClass",n,F(t,"-add"),e,a.to)},removeClass:function(n,t,e,a){return a=a||{},x("removeClass",n,F(t,"-remove"),e,a.to)}}}])}])}(window,window.angular);
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,r){"use strict";function n(e,t){return D(new(D(function(){},{prototype:e})),t)}function i(e){return R(arguments,function(t){t!==e&&R(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function a(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function o(e){if(Object.keys)return Object.keys(e);var r=[];return t.forEach(e,function(e,t){r.push(t)}),r}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in e&&e[n]===t)return n;return-1}function s(e,t,r,n){var i,s=a(r,n),l={},c=[];for(var f in s)if(s[f].params&&(i=o(s[f].params),i.length))for(var p in i)u(c,i[p])>=0||(c.push(i[p]),l[i[p]]=e[i[p]]);return D({},l,t)}function l(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var i=0;i<r.length;i++){var a=r[i];if(e[a]!=t[a])return!1}return!0}function c(e,t){var r={};return R(e,function(e){r[e]=t[e]}),r}function f(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)-1==u(r,n)&&(t[n]=e[n]);return t}function p(e,t){var r=N(e),n=r?[]:{};return R(e,function(e,i){t(e,i)&&(n[r?n.length:i]=e)}),n}function h(e,t){var r=N(e)?[]:{};return R(e,function(e,n){r[n]=t(e,n)}),r}function v(e,t){var n=1,a=2,s={},l=[],c=s,p=D(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function h(e,r){if(g[r]!==a){if(m.push(r),g[r]===n)throw m.splice(0,u(m,r)),new Error("Cyclic dependency: "+m.join(" -> "));if(g[r]=n,M(e))d.push(r,[function(){return t.get(e)}],l);else{var i=t.annotate(e);R(i,function(e){e!==r&&s.hasOwnProperty(e)&&h(s[e],e)}),d.push(r,e,i)}m.pop(),g[r]=a}}function v(e){return F(e)&&e.then&&e.$$promises}if(!F(s))throw new Error("'invocables' must be an object");var $=o(s||{}),d=[],m=[],g={};return R(s,h),s=m=g=null,function(n,a,o){function u(){--y||(b||i(w,a.$$values),m.$$values=w,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,h.resolve(w))}function s(e){m.$$failure=e,h.reject(e)}function l(r,i,a){function l(e){f.reject(e),s(e)}function c(){if(!I(m.$$failure))try{f.resolve(t.invoke(i,o,w)),f.promise.then(function(e){w[r]=e,u()},l)}catch(e){l(e)}}var f=e.defer(),p=0;R(a,function(e){g.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(p++,g[e].then(function(t){w[e]=t,--p||c()},l))}),p||c(),g[r]=f.promise}if(v(n)&&o===r&&(o=a,a=n,n=null),n){if(!F(n))throw new Error("'locals' must be an object")}else n=c;if(a){if(!v(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=p;var h=e.defer(),m=h.promise,g=m.$$promises={},w=D({},n),y=1+d.length/3,b=!1;if(I(a.$$failure))return s(a.$$failure),m;a.$$inheritedValues&&i(w,f(a.$$inheritedValues,$)),D(g,a.$$promises),a.$$values?(b=i(w,f(a.$$values,$)),m.$$inheritedValues=f(a.$$values,$),u()):(a.$$inheritedValues&&(m.$$inheritedValues=f(a.$$inheritedValues,$)),a.then(u,s));for(var E=0,S=d.length;S>E;E+=3)n.hasOwnProperty(d[E])?u():l(d[E],d[E+1],d[E+2]);return m}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function $(e,t,r){this.fromConfig=function(e,t,r){return I(e.template)?this.fromString(e.template,t):I(e.templateUrl)?this.fromUrl(e.templateUrl,t):I(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return V(e)?e(t):e},this.fromUrl=function(r,n){return V(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function d(e,t,i){function a(t,r,n,i){if(d.push(t),v[t])return v[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if($[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return $[t]=new T.Param(t,r,n,i),$[t]}function o(e,t,r){var n=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:n=["(",")"];break;case!0:n=["?(",")?"];break;default:n=["("+r+"|",")?"]}return i+n[0]+t+n[1]}function u(r,i){var a,o,u,s,l;return a=r[2]||r[3],l=t.params[a],u=e.substring(p,r.index),o=i?r[4]:r[4]||("*"==r[1]?".*":null),s=T.type(o||"string")||n(T.type("string"),{pattern:new RegExp(o)}),{id:a,regexp:o,segment:u,type:s,cfg:l}}t=D({params:{}},F(t)?t:{});var s,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,h=this.segments=[],v=i?i.params:{},$=this.params=i?i.params.$$new():new T.ParamSet,d=[];this.source=e;for(var m,g,w;(s=l.exec(e))&&(m=u(s,!1),!(m.segment.indexOf("?")>=0));)g=a(m.id,m.type,m.cfg,"path"),f+=o(m.segment,g.type.pattern.source,g.squash),h.push(m.segment),p=l.lastIndex;w=e.substring(p);var y=w.indexOf("?");if(y>=0){var b=this.sourceSearch=w.substring(y);if(w=w.substring(0,y),this.sourcePath=e.substring(0,p+y),b.length>0)for(p=0;s=c.exec(b);)m=u(s,!0),g=a(m.id,m.type,m.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=o(w)+(t.strict===!1?"/?":"")+"$",h.push(w),this.regexp=new RegExp(f,t.caseInsensitive?"i":r),this.prefix=h[0],this.$$paramNames=d}function m(e){D(this,e)}function g(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function a(e){return this.pattern.test(e)}function s(){return{strict:w,caseInsensitive:$}}function l(e){return V(e)||N(e)&&V(e[e.length-1])}function c(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(b[e.name],v.invoke(e.def))}}function f(e){D(this,e||{})}T=this;var v,$=!1,w=!0,y=!1,b={},E=!0,S=[],x={string:{encode:e,decode:i,is:a,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return I(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):r},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):r},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};g.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!v)throw new Error("Injectable functions cannot be called at configuration time");return v.invoke(e.value)},this.caseInsensitive=function(e){return I(e)&&($=e),$},this.strictMode=function(e){return I(e)&&(w=e),w},this.defaultSquashPolicy=function(e){if(!I(e))return y;if(e!==!0&&e!==!1&&!M(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return y=e,e},this.compile=function(e,t){return new d(e,D(s(),t))},this.isMatcher=function(e){if(!F(e))return!1;var t=!0;return R(d.prototype,function(r,n){V(r)&&(t=t&&I(e[n])&&V(e[n]))}),t},this.type=function(e,t,r){if(!I(t))return b[e];if(b.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return b[e]=new m(D({name:e},t)),r&&(S.push({name:e,def:r}),E||c()),this},R(x,function(e,t){b[t]=new m(D({name:t},e))}),b=n(b,{}),this.$get=["$injector",function(e){return v=e,E=!1,c(),R(x,function(e,t){b[t]||(b[t]=new m(e))}),this}],this.Param=function(e,t,n,i){function a(e){var t=F(e)?o(e):[],r=-1===u(t,"value")&&-1===u(t,"type")&&-1===u(t,"squash")&&-1===u(t,"array");return r&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function s(t,r,n){if(t.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:t.type?t.type instanceof m?t.type:new m(t.type):"config"===n?b.any:b.string}function c(){var t={array:"search"===i?"auto":!1},r=e.match(/\[\]$/)?{array:!0}:{};return D(t,r,n).array}function f(e,t){var r=e.squash;if(!t||r===!1)return!1;if(!I(r)||null==r)return y;if(r===!0||M(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function $(e,t,n,i){var a,o,s=[{from:"",to:n||t?r:""},{from:null,to:n||t?r:""}];return a=N(e.replace)?e.replace:[],M(i)&&a.push({from:i,to:r}),o=h(a,function(e){return e.from}),p(s,function(e){return-1===u(o,e.from)}).concat(a)}function d(){if(!v)throw new Error("Injectable functions cannot be called at configuration time");return v.invoke(n.$$fn)}function g(e){function t(e){return function(t){return t.from===e}}function r(e){var r=h(p(E.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),I(e)?E.type.decode(e):d()}function w(){return"{Param:"+e+" "+t+" squash: '"+P+"' optional: "+x+"}"}var E=this;n=a(n),t=s(n,t,i);var S=c();t=S?t.$asArray(S,"search"===i):t,"string"!==t.name||S||"path"!==i||n.value!==r||(n.value="");var x=n.value!==r,P=f(n,x),j=$(n,S,x,P);D(this,{id:e,type:t,location:i,array:S,squash:P,replace:j,isOptional:x,value:g,dynamic:r,config:n,toString:w})},f.prototype={$$new:function(){return n(this,D(new f,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=o(f.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),R(t,function(t){R(o(t),function(t){-1===u(e,t)&&-1===u(n,t)&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return R(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return R(n.$$keys(),function(i){var a=e&&e[i],o=t&&t[i];n[i].type.equals(a,o)||(r=!1)}),r},$$validates:function(e){var t,r,n,i=!0,a=this;return R(this.$$keys(),function(o){n=a[o],r=e[o],t=!r&&n.isOptional,i=i&&(t||!!n.type.is(r))}),i},$$parent:r},this.ParamSet=f}function w(e,n){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function o(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return I(n)?n:!0}function u(n,i,a,o){function u(e,t,r){return"/"===$?e:t?$.slice(0,-1)+e:r?$.slice(1)+e:e}function p(e){function t(e){var t=e(a,n);return t?(M(t)&&n.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=v&&n.url()===v;if(v=r,i)return!0;var o,u=l.length;for(o=0;u>o;o++)if(t(l[o]))return;c&&t(c)}}function h(){return s=s||i.$on("$locationChangeSuccess",p)}var v,$=o.baseHref(),d=n.url();return f||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(d=n.url()):void(n.url()!==d&&(n.url(d),n.replace()))},push:function(e,t,i){n.url(e.format(t||{})),v=i&&i.$$avoidResync?n.url():r,i&&i.replace&&n.replace()},href:function(r,i,a){if(!r.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var s=r.format(i);if(a=a||{},o||null===s||(s="#"+e.hashPrefix()+s),s=u(s,o,a.absolute),!a.absolute||!s)return s;var l=!o&&s?"/":"",c=n.port();return c=80===c||443===c?"":":"+c,[n.protocol(),"://",n.host(),c,l,s].join("")}}}var s,l=[],c=null,f=!1;this.rule=function(e){if(!V(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(M(e)){var t=e;e=function(){return t}}else if(!V(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var r,u=M(t);if(M(e)&&(e=n.compile(e)),!u&&!V(t)&&!N(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return u&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),D(function(r,n){return o(r,t,e.exec(n.path(),n.search()))},{prefix:M(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(r=t,t=["$match",function(e){return a(r,e)}]),D(function(r,n){return o(r,t,e.exec(n.path()))},{prefix:i(e)})}},l={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(s[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===r&&(e=!0),f=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser"]}function y(e,i){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function f(e,t){if(!e)return r;var n=M(e),i=n?e:e.name,o=a(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=f(t);for(var u=i.split("."),s=0,l=u.length,c=t;l>s;s++)if(""!==u[s]||0!==s){if("^"!==u[s])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;u=u.slice(s).join("."),i=c.name+(c.name&&u?".":"")+u}var p=x[i];return!p||!n&&(n||p!==e&&p.self!==e)?r:p}function p(e,t){P[e]||(P[e]=[]),P[e].push(t)}function v(e){for(var t=P[e]||[];t.length;)$(t.shift())}function $(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!M(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(x.hasOwnProperty(r))throw new Error("State '"+r+"'' is already defined");var i=-1!==r.indexOf(".")?r.substring(0,r.lastIndexOf(".")):M(t.parent)?t.parent:F(t.parent)&&M(t.parent.name)?t.parent.name:"";if(i&&!x[i])return p(i,t.self);for(var a in O)V(O[a])&&(t[a]=O[a](t,O.$delegates[a]));return x[r]=t,!t[j]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){S.$current.navigable==t&&l(e,r)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),v(r),t}function d(e){return e.indexOf("*")>-1}function m(e){var t=e.split("."),r=S.$current.name.split(".");if("**"===t[0]&&(r=r.slice(u(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(u(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length!=r.length)return!1;for(var n=0,i=t.length;i>n;n++)"*"===t[n]&&(r[n]="*");return r.join("")===t.join("")}function g(e,t){return M(e)&&!I(t)?O[e]:V(t)&&M(e)?(O[e]&&!O.$delegates[e]&&(O.$delegates[e]=O[e]),O[e]=t,this):this}function w(e,t){return F(e)?t=e:t.name=e,$(t),this}function y(e,i,a,u,p,v,$){function g(t,r,n,a){var o=e.$broadcast("$stateNotFound",t,r,n);if(o.defaultPrevented)return $.update(),O;if(!o.retry)return null;if(a.$retry)return $.update(),A;var u=S.transition=i.when(o.retry);return u.then(function(){return u!==S.transition?y:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return O}),$.update(),u}function w(e,r,n,o,s,l){var f=n?r:c(e.params.$$keys(),r),h={$stateParams:f};s.resolve=p.resolve(e.resolve,h,s.resolve,e);var v=[s.resolve.then(function(e){s.globals=e})];return o&&v.push(o),R(e.views,function(r,n){var i=r.resolve&&r.resolve!==e.resolve?r.resolve:{};i.$template=[function(){return a.load(n,{view:r,locals:h,params:f,notify:l.notify})||""}],v.push(p.resolve(i,h,s.resolve,e).then(function(a){if(V(r.controllerProvider)||N(r.controllerProvider)){var o=t.extend({},i,h);a.$$controller=u.invoke(r.controllerProvider,null,o)}else a.$$controller=r.controller;a.$$state=e,a.$$controllerAs=r.controllerAs,s[n]=a}))}),i.all(v).then(function(){return s})}var y=i.reject(new Error("transition superseded")),P=i.reject(new Error("transition prevented")),O=i.reject(new Error("transition aborted")),A=i.reject(new Error("transition failed"));return E.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:E.self,$current:E,transition:null},S.reload=function(){return S.transitionTo(S.current,v,{reload:!0,inherit:!1,notify:!0})},S.go=function(e,t,r){return S.transitionTo(e,t,D({inherit:!0,relative:S.$current},r))},S.transitionTo=function(t,r,a){r=r||{},a=D({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,l=S.$current,p=S.params,h=l.path,d=f(t,a.relative);if(!I(d)){var m={to:t,toParams:r,options:a},x=g(m,l.self,p,a);if(x)return x;if(t=m.to,r=m.toParams,a=m.options,d=f(t,a.relative),!I(d)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(d[j])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(r=s(v,r||{},S.$current,d)),!d.params.$$validates(r))return A;r=d.params.$$values(r),t=d;var O=t.path,q=0,C=O[q],k=E.locals,V=[];if(!a.reload)for(;C&&C===h[q]&&C.ownParams.$$equals(r,p);)k=V[q]=C.locals,q++,C=O[q];if(b(t,l,k,a))return t.self.reloadOnSearch!==!1&&$.update(),S.transition=null,i.when(S.current);if(r=c(t.params.$$keys(),r||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,r,l.self,p).defaultPrevented)return $.update(),P;for(var M=i.when(k),F=q;F<O.length;F++,C=O[F])k=V[F]=n(k),M=w(C,r,C===t,M,k,a);var N=S.transition=M.then(function(){var n,i,o;if(S.transition!==N)return y;for(n=h.length-1;n>=q;n--)o=h[n],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(n=q;n<O.length;n++)i=O[n],i.locals=V[n],i.self.onEnter&&u.invoke(i.self.onEnter,i.self,i.locals.globals);return S.transition!==N?y:(S.$current=t,S.current=t.self,S.params=r,U(S.params,v),S.transition=null,a.location&&t.navigable&&$.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,r,l.self,p),$.update(!0),S.current)},function(n){return S.transition!==N?y:(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,r,l.self,p,n),o.defaultPrevented||$.update(),i.reject(n))});return N},S.is=function(e,t,n){n=D({relative:S.$current},n||{});var i=f(e,n.relative);return I(i)?S.$current!==i?!1:t?l(i.params.$$values(t),v):!0:r},S.includes=function(e,t,n){if(n=D({relative:S.$current},n||{}),M(e)&&d(e)){if(!m(e))return!1;e=S.$current.name}var i=f(e,n.relative);return I(i)?I(S.$current.includes[i.name])?t?l(i.params.$$values(t),v,o(t)):!0:!1:r},S.href=function(e,t,n){n=D({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},n||{});var i=f(e,n.relative);if(!I(i))return null;n.inherit&&(t=s(v,t||{},S.$current,i));var a=i&&n.lossy?i.navigable:i;return a&&a.url!==r&&null!==a.url?$.href(a.url,c(i.params.$$keys(),t||{}),{absolute:n.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(o(x),function(e){return x[e].self});var r=f(e,t||S.$current);return r&&r.self?r.self:null},S}function b(e,t,r,n){return e!==t||(r!==t.locals||n.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var E,S,x={},P={},j="abstract",O={parent:function(e){if(I(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):E},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=D({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(M(t))return"^"==t.charAt(0)?i.compile(t.substring(1),r):(e.parent.navigable||E).url.concat(t,r);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new T.ParamSet;return R(e.params||{},function(e,r){t[r]||(t[r]=new T.Param(r,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?D(e.parent.params.$$new(),e.ownParams):new T.ParamSet},views:function(e){var t={};return R(I(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?D({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};E=$({name:"",url:"^",views:null,"abstract":!0}),E.navigable=null,this.decorator=g,this.state=w,this.$get=y,y.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function b(){function e(e,t){return{load:function(r,n){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=D(a,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i&&n.notify&&e.$broadcast("$viewContentLoading",n),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function E(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){r(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,r,n,i){function a(){return r.has?function(e){return r.has(e)?r.get(e):null}:function(e){try{return r.get(e)}catch(t){return null}}}function o(e,t){var r=function(){return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,r){var n=l.enter(e,null,t,r);n&&n.then&&n.then(r)},leave:function(e,t){var r=l.leave(e,t);r&&r.then&&r.then(t)}};if(s){var n=s&&s(t,e);return{enter:function(e,t,r){n.enter(e,null,t),r()},leave:function(e,t){n.leave(e),t()}}}return r()}var u=a(),s=u("$animator"),l=u("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,a,u){return function(r,a,s){function l(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),p&&(m.leave(p,function(){f=null}),f=p,p=null)}function c(o){var c,f=P(r,s,a,i),g=f&&e.$current&&e.$current.locals[f];if(o||g!==v){c=r.$new(),v=e.$current.locals[f];var w=u(c,function(e){m.enter(e,a,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(d)&&!d||r.$eval(d))&&n(e)}),l()});p=w,h=c,h.$emit("$viewContentLoaded"),h.$eval($)}}var f,p,h,v,$=s.onload||"",d=s.autoscroll,m=o(s,r);r.$on("$stateChangeSuccess",function(){c(!1)}),r.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function x(e,t,r,n){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,u){var s=r.$current,l=P(i,u,o,n),c=s&&s.locals[l];if(c){o.data("$uiView",{name:l,state:c.$$state}),o.html(c.$template?c.$template:a);var f=e(o.contents());if(c.$$controller){c.$scope=i;var p=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}f(i)}}}}}function P(e,t,r,n){var i=n(t.uiView||t.name||"")(e),a=r.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function j(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function O(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function A(e,r){var n=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,u){var s=j(o.uiSref,e.current.name),l=null,c=O(a)||e.$current,f=null,p="A"===a.prop("tagName"),h="FORM"===a[0].nodeName,v=h?"action":"href",$=!0,d={relative:c,inherit:!0},m=i.$eval(o.uiSrefOpts)||{};t.forEach(n,function(e){e in m&&(d[e]=m[e])});var g=function(r){if(r&&(l=t.copy(r)),$){f=e.href(s.state,l,d);var n=u[1]||u[0];return n&&n.$$setStateInfo(s.state,l),null===f?($=!1,!1):void o.$set(v,f)}};s.paramExpr&&(i.$watch(s.paramExpr,function(e){e!==l&&g(e)},!0),l=t.copy(i.$eval(s.paramExpr))),g(),h||a.bind("click",function(t){var n=t.which||t.button;if(!(n>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=r(function(){e.go(s.state,l,d)});t.preventDefault();var o=p&&!f?1:0;t.preventDefault=function(){o--<=0&&r.cancel(i)}}})}}}function q(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,n,i){function a(){o()?n.addClass(l):n.removeClass(l)}function o(){return"undefined"!=typeof i.uiSrefActiveEq?u&&e.is(u.name,s):u&&e.includes(u.name,s)}var u,s,l;l=r(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,r){u=e.get(t,O(n)),s=r,a()},t.$on("$stateChangeSuccess",a)}]}}function C(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function k(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var I=t.isDefined,V=t.isFunction,M=t.isString,F=t.isObject,N=t.isArray,R=t.forEach,D=t.extend,U=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),v.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",v),$.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",$);var T;d.prototype.concat=function(e,t){var r={caseInsensitive:T.caseInsensitive(),strict:T.strictMode(),squash:T.defaultSquashPolicy()};return new d(this.sourcePath+e+this.sourceSearch,D(r,t),this)},d.prototype.toString=function(){return this.source},d.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/,"-")}var n=t(e).split(/-(?!\\)/),i=h(n,t);return h(i,r).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,a,o,u=this.parameters(),s=u.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){o=u[i];var f=this.params[o],p=n[i+1];for(a=0;a<f.replace;a++)f.replace[a].from===p&&(p=f.replace[a].to);p&&f.array===!0&&(p=r(p)),c[o]=f.value(p)}for(;s>i;i++)o=u[i],c[o]=this.params[o].value(t[o]);return c},d.prototype.parameters=function(e){return I(e)?this.params[e]||null:this.$$paramNames},d.prototype.validates=function(e){return this.params.$$validates(e)},d.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),i=this.params;if(!this.validates(e))return null;var a,o=!1,u=r.length-1,s=n.length,l=r[0];for(a=0;s>a;a++){var c=u>a,f=n[a],p=i[f],v=p.value(e[f]),$=p.isOptional&&p.type.equals(p.value(),v),d=$?p.squash:!1,m=p.type.encode(v);if(c){var g=r[a+1];if(d===!1)null!=m&&(l+=N(m)?h(m,t).join("-"):encodeURIComponent(m)),l+=g;else if(d===!0){var w=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=g.match(w)[1]}else M(d)&&(l+=d+g)}else{if(null==m||$&&d!==!1)continue;N(m)||(m=[m]),m=h(m,encodeURIComponent).join("&"+f+"="),l+=(o?"&":"?")+(f+"="+m),o=!0}}return l},m.prototype.is=function(){return!0},m.prototype.encode=function(e){return e},m.prototype.decode=function(e){return e},m.prototype.equals=function(e,t){return e==t},m.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},m.prototype.pattern=/.*/,m.prototype.toString=function(){return"{Type:"+this.name+"}"},m.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return N(e)?e:I(e)?[e]:[]}function a(e){switch(e.length){case 0:return r;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function u(e,t){return function(r){r=i(r);var n=h(r,e);return t===!0?0===p(n,o).length:a(n)}}function s(e){return function(t,r){var n=i(t),a=i(r);if(n.length!==a.length)return!1;for(var o=0;o<n.length;o++)if(!e(n[o],a[o]))return!1;return!0}}this.encode=u(n(e,"encode")),this.decode=u(n(e,"decode")),this.is=u(n(e,"is"),!0),this.equals=s(n(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",g),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),y.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",y),b.$inject=[],t.module("ui.router.state").provider("$view",b),t.module("ui.router.state").provider("$uiViewScroll",E),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],x.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",x),A.$inject=["$state","$timeout"],q.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",A).directive("uiSrefActive",q).directive("uiSrefActiveEq",q),C.$inject=["$state"],k.$inject=["$state"],t.module("ui.router.state").filter("isState",C).filter("includedByState",k)}(window,window.angular);
function mdMediaFactory(e,t,n){function r(e){var t=u[e];angular.isUndefined(t)&&(t=u[e]=o(e));var n=f[t];return angular.isUndefined(n)&&(n=a(t)),n}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=s[e]=n.matchMedia(e);return t.addListener(i),f[t.media]=!!t.matches}function i(e){t.$evalAsync(function(){f[e.media]=!!e.matches})}function c(e){return s[e]}function d(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var o=e.MEDIA_PRIORITY[r];if(s[u[o]].matches){var a=m(t,n+"-"+o);if(t[a])return t[a]}}return t[m(t,n)]}function l(t,n,r){var o=[];return t.forEach(function(t){var a=m(n,t);n[a]&&o.push(n.$observe(a,angular.bind(void 0,r,null)));for(var i in e.MEDIA){var a=m(n,t+"-"+i);if(!n[a])return;o.push(n.$observe(a,angular.bind(void 0,r,i)))}}),function(){o.forEach(function(e){e()})}}function m(e,t){return p[t]||(p[t]=e.$normalize(t))}var u={},s={},f={},p={};return r.getResponsiveAttribute=d,r.getQuery=c,r.watchResponsiveAttributes=l,r}angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.textField","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"]),function(){"use strict";function e(e,n){e.decorator("$$rAF",["$delegate",t]),n.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function t(e){return e.throttle=function(t){var n,r,o,a;return function(){n=arguments,a=this,o=t,r||(r=!0,e(function(){o.apply(a,n),r=!1}))}},e}angular.module("material.core",["material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){"use strict";function e(e,t){function n(e){return r?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var r=/webkit/i.test(t.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}angular.module("material.core").factory("$mdConstant",e),e.$inject=["$$rAF","$sniffer"]}(),function(){function e(e,t){function n(){return[].concat(b)}function r(){return b.length}function o(e){return b.length&&e>-1&&e<b.length}function a(e){return e?o(u(e)+1):!1}function i(e){return e?o(u(e)-1):!1}function c(e){return o(e)?b[e]:null}function d(e,t){return b.filter(function(n){return n[e]===t})}function l(e,t){return e?(angular.isNumber(t)||(t=b.length),b.splice(t,0,e),u(e)):-1}function m(e){s(e)&&b.splice(u(e),1)}function u(e){return b.indexOf(e)}function s(e){return e&&u(e)>-1}function f(){return b.length?b[0]:null}function p(){return b.length?b[b.length-1]:null}function h(e,n,r,a){r=r||g;var i=u(n);if(!o(i))return null;var c=i+(e?-1:1),d=null;return o(c)?d=b[c]:t&&(d=e?p():f(),c=u(d)),null===d||c===a?null:(angular.isUndefined(a)&&(a=c),r(d)?d:h(e,d,r,a))}var g=function(){return!0};e&&!angular.isArray(e)&&(e=Array.prototype.slice.call(e)),t=!!t;var b=e||[];return{items:n,count:r,inRange:o,contains:s,indexOf:u,itemAt:c,findBy:d,add:l,remove:m,first:f,last:p,next:angular.bind(null,h,!1),previous:angular.bind(null,h,!0),hasPrevious:i,hasNext:a}}angular.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),angular.module("material.core").factory("$mdMedia",mdMediaFactory),mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"],function(){"use strict";var e=["0","0","0"];angular.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$mdConstant",function(t,n,r,o,a){function i(e){return e[0]||e}var c;return c={now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,clientRect:function(e,t,n){var r=i(e);t=i(t||r.offsetParent||document.body);var o=r.getBoundingClientRect(),a=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-a.left+t.scrollLeft,top:o.top-a.top+t.scrollTop,width:o.width,height:o.height}},offsetRect:function(e,t){return c.clientRect(e,t,!0)},forceFocus:function(e){var t=e[0]||e;document.addEventListener("click",function r(e){e.target===t&&e.$focus&&(t.focus(),e.stopImmediatePropagation(),e.preventDefault(),t.removeEventListener("click",r))},!0);var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null),n.$material=!0,n.$focus=!0,t.dispatchEvent(n)},transitionEndPromise:function(e){function t(r){r.target===e[0]&&(e.off(a.CSS.TRANSITIONEND,t),n.resolve())}var n=o.defer();return e.on(a.CSS.TRANSITIONEND,t),n.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(e,t,n,o){var a;return function(){var i=n,c=Array.prototype.slice.call(arguments);r.cancel(a),a=r(function(){a=void 0,e.apply(i,c)},t||10,o)}},throttle:function(e,t){var n;return function(){var r=this,o=arguments,a=c.now();(!n||a-n>t)&&(e.apply(r,o),n=a)}},time:function(e){var t=c.now();return e(),c.now()-t},nextUid:function(){for(var t,n=e.length;n;){if(n--,t=e[n].charCodeAt(0),57==t)return e[n]="A",e.join("");if(90!=t)return e[n]=String.fromCharCode(t+1),e.join("");e[n]="0"}return e.unshift("0"),e.join("")},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,t){t=t.toUpperCase();do if(e.nodeName===t)return e;while(e=e.parentNode);return null}}}]),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){"use strict";function e(e,t,n){function r(e,n,r){var o=e[0];o.hasAttribute(n)||c(o,n)||(r=angular.isString(r)?r.trim():"",r.length?e.attr(n,r):t.warn('ARIA: Attribute "',n,'", required for accessibility, is missing on node:',o))}function o(t,n,o){e(function(){r(t,n,o())})}function a(e,t){o(e,t,function(){return i(e)})}function i(e){return e.text().trim()}function c(e,t){function r(e){var t=e.currentStyle?e.currentStyle:n.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),a=!1;if(o)for(var i=e.childNodes,c=0;c<i.length;c++){var d=i[c];1===d.nodeType&&d.hasAttribute(t)&&(r(d)||(a=!0))}return a}return{expect:r,expectAsync:o,expectWithText:a}}angular.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){"use strict";function e(e,t,n,r,o,a){this.compile=function(i){var c=i.templateUrl,d=i.template||"",l=i.controller,m=i.controllerAs,u=i.resolve||{},s=i.locals||{},f=i.transformTemplate||angular.identity,p=i.bindToController;return angular.forEach(u,function(e,t){u[t]=angular.isString(e)?n.get(e):n.invoke(e)}),angular.extend(u,s),u.$template=c?t.get(c,{cache:a}).then(function(e){return e.data}):e.when(d),e.all(u).then(function(e){var t=f(e.$template),n=angular.element("<div>").html(t.trim()).contents(),a=r(n);return{locals:e,element:n,link:function(t){if(e.$scope=t,l){var r=o(l,e);p&&angular.extend(r,e),n.data("$ngControllerController",r),n.children().data("$ngControllerController",r),m&&(t[m]=r)}return a(t)}}})}}angular.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){"use strict";function e(e,t){var n;for(var r in d)n=d[r],"start"===e&&n.cancel(),n[e](t,g)}function t(t){if(!g){var n=+Date.now();b&&!o(t,b)&&n-b.endTime<1500||(g=c(t),e("start",t))}}function n(t){g&&o(t,g)&&(i(t,g),e("move",t))}function r(t){g&&o(t,g)&&(i(t,g),g.endTime=+Date.now(),e("end",t),b=g,g=null)}function o(e,t){return e&&t&&e.type.charAt(0)===t.type}function a(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function i(e,t){var n=a(e),r=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function c(e){var t=a(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}var d,l="mousedown touchstart pointerdown",m="mousemove touchmove pointermove",u="mouseup mouseleave touchend touchcancel pointerup pointercancel";document.contains||(document.contains=function(e){return document.body.contains(e)});var s=navigator.userAgent||navigator.vendor||window.opera,f=s.match(/iPad/i)||s.match(/iPhone/i)||s.match(/iPod/i),p=s.match(/Android/i),h=f||p;h&&document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||(e.preventDefault(),e.stopPropagation())},!0),angular.element(document).on(l,t).on(m,n).on(u,r).on("$$mdGestureReset",function(){b=g=null});var g,b;angular.module("material.core").run(["$mdGesture",function(){}]).factory("$mdGesture",["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){function r(t,n){var r=new e(t);return angular.extend(r,n),d[t]=r,a}function o(e,t,n){var r=d[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(d).join(", "));return r.registerElement(e,n)}d={},h&&r("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),r("press",{onStart:function(e){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e){this.dispatchEvent(e,"$md.pressup")}}),r("hold",{options:{maxDistance:6,delay:500},onCancel:function(){n.cancel(this.state.timeout)},onStart:function(e,t){return this.state.registeredParent?(this.state.pos={x:t.x,y:t.y},void(this.state.timeout=n(angular.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}),r("drag",{options:{minDistance:6,horizontal:!0},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>1.5*this.state.options.minDistance):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>1.5*this.state.options.minDistance),n?(this.state.dragPointer=c(e),i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:t.throttle(function(e){this.state.isRunning&&(i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e){this.state.dragPointer&&(i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}),r("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}});var a;return a={handler:r,register:o}}]).factory("$$MdGestureHandler",["$$rAF",function(){function e(e){this.name=e,this.state={}}function t(e,t,n){n=n||g;var r=new angular.element.Event(t);r.$material=!0,r.pointer=n,r.srcEvent=e,angular.extend(r,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),angular.element(n.target).trigger(r)}function n(e,t,n){n=n||g;var r;"click"===t?(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,window,e.detail,n.x,n.y,n.x,n.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,{})),r.$material=!0,r.pointer=n,r.srcEvent=e,n.target.dispatchEvent(r)}return e.prototype={onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,options:{},dispatchEvent:"undefined"!=typeof jQuery&&angular.element===jQuery?t:n,start:function(e,t){if(!this.state.isRunning){var n=this.getNearestParent(e.target),r=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,r),registeredParent:n},this.onStart(e,t)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},e}])}(),function(){"use strict";function e(){function e(e){function t(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),d}function n(e,t){return i[e]=t,d}function r(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},d}function o(t,n,r){function o(e){return e&&e._options&&(e=e._options),m.show(angular.extend({},l,e))}function a(t,n){var o={};return o[e]=u,r.invoke(t||function(){return n},{},o)}var d,l,m=t(),u={hide:m.hide,cancel:m.cancel,show:o};return d=c.methods||[],l=a(c.optionsFactory,{}),angular.forEach(i,function(e,t){u[t]=e}),angular.forEach(c.presets,function(e,t){function n(e){this._options=angular.extend({},r,e)}var r=a(e.optionsFactory,{}),o=(e.methods||[]).concat(d);if(angular.extend(r,{$type:t}),angular.forEach(o,function(e){n.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var i="show"+t.charAt(0).toUpperCase()+t.slice(1);u[i]=function(e){var n=u[t](e);return u.show(n)}}u[t]=function(t){return arguments.length&&e.argOption&&!angular.isObject(t)&&!angular.isArray(t)?(new n)[e.argOption](t):new n(t)}}),u}var a=["onHide","onShow","onRemove"],i={},c={presets:{}},d={setDefaults:t,addPreset:r,addMethod:n,$get:o};return d.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$animate","$injector"],d}function t(e,t,n,r,o,a,i,c,d){function l(e){return e&&angular.isString(e)?e.replace(/\{\{/g,m).replace(/}}/g,u):e}var m=i.startSymbol(),u=i.endSymbol(),s="{{"===m&&"}}"===u,f=s?angular.identity:l;return function(){function i(e){if(p.length)return s.cancel().then(function(){return i(e)});var t=new u(e);return p.push(t),t.show().then(function(){return t.deferred.promise})}function l(e){var t=p.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function m(e){var t=p.shift();return t&&t.remove().then(function(){t.deferred.reject(e)})}function u(i){var l,m,u;i=i||{},i=angular.extend({preserveScope:!1,scope:i.scope||n.$new(i.isolateScope),onShow:function(e,t,n){return a.enter(t,n.parent)},onRemove:function(e,n){return n&&a.leave(n)||t.when()}},i),i.template&&(i.template=f(i.template));var p;return l={options:i,deferred:t.defer(),show:function(){return p=!1,c.compile(i).then(function(n){function a(){i.hideDelay&&(m=r(s.cancel,i.hideDelay))}angular.extend(n.locals,l.options),u=n.link(i.scope),angular.isFunction(i.parent)?i.parent=i.parent(i.scope,u,i):angular.isString(i.parent)&&(i.parent=angular.element(e[0].querySelector(i.parent))),(i.parent||{}).length||(i.parent=o.find("body"),i.parent.length||(i.parent=o)),i.themable&&d(u);var c=i.onShow(i.scope,u,i);return t.when(c).then(function(){(i.onComplete||angular.noop)(i.scope,u,i),a()})},function(e){p=!0,l.deferred.reject(e)})},cancelTimeout:function(){m&&(r.cancel(m),m=void 0)},remove:function(){l.cancelTimeout();var e;return e=p?!0:i.onRemove(i.scope,u,i),t.when(e).then(function(){i.preserveScope||i.scope.$destroy()})}}}var s,p=[];return s={show:i,hide:l,cancel:m}}}return e.$get=t,t.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],e}angular.module("material.core").provider("$$interimElement",e)}(),function(){"use strict";function e(e,t){function n(e){return e&&""!==e}var r,o=[],a={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!n(e))return null;var t,r,a;for(t=0,r=o.length;r>t;t++)if(a=o[t],a.$$mdHandle===e)return a;return null},register:function(e,t){function n(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}function r(){var n=a[t];n&&(n.resolve(e),delete a[t])}return t?(e.$$mdHandle=t,o.push(e),r(),n):angular.noop},when:function(e){if(n(e)){var o=t.defer(),i=r.get(e);return i?o.resolve(i):a[e]=o,o.promise}return t.reject("Invalid `md-component-id` value.")}}}angular.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){"use strict";function e(e){return{controller:angular.noop,link:function(t,n,r){r.hasOwnProperty("mdInkRippleCheckbox")?e.attachCheckboxBehavior(t,n):e.attachButtonBehavior(t,n)}}}function t(e,t){function n(e,t,n){return a(e,t,angular.extend({isFAB:t.hasClass("md-fab"),isMenuItem:t.hasClass("md-menu-item"),center:!1,dimBackground:!0},n))}function r(e,t,n){return a(e,t,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}function o(e,t,n){return a(e,t,angular.extend({center:!1,dimBackground:!0,outline:!0},n))}function a(n,r,o){function a(){var e=r.data("$mdRippleContainer");return e?e:(e=angular.element('<div class="md-ripple-container">'),r.append(e),r.data("$mdRippleContainer",e),e)}function i(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,n=t.length/3,r=t.substr(0,n),o=t.substr(n,n),a=t.substr(2*n);return 1===n&&(r+=r,o+=o,a+=a),"rgba("+parseInt(r,16)+","+parseInt(o,16)+","+parseInt(a,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?n(e):0===e.indexOf("#")?t(e):void 0}function c(e,n){g.splice(g.indexOf(e),1),0===g.length&&a().css({backgroundColor:""}),t(function(){e.remove()},n,!1)}function d(e){var t=g.indexOf(e),n=b[t]||{},r=g.length>1?!1:v,a=g.length>1?!1:$;r||n.animating||a?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),o.outline&&e.css({width:f+"px",height:f+"px",marginLeft:-1*f+"px",marginTop:-1*f+"px"}),c(e,o.outline?450:650))}function l(n,c){function l(e){var t=angular.element('<div class="md-ripple" data-counter="'+h++ +'">');return g.unshift(t),b.unshift({animating:!0}),s.append(t),e&&t.css(e),t}function m(e,t){var n,r,a,i=s.prop("offsetWidth"),c=s.prop("offsetHeight");return o.isMenuItem?r=Math.sqrt(Math.pow(i,2)+Math.pow(c,2)):o.outline?(a=M.getBoundingClientRect(),e-=a.left,t-=a.top,i=Math.max(e,i-e),c=Math.max(t,c-t),r=2*Math.sqrt(Math.pow(i,2)+Math.pow(c,2))):(n=o.isFAB?1.1:.8,r=Math.sqrt(Math.pow(i,2)+Math.pow(c,2))*n,o.fitRipple&&(r=Math.min(c,i,r))),r}function u(e,t,n){function r(e){return e.replace("rgba","rgb").replace(/,[^\)\,]+\)/,")")}var a,i={backgroundColor:r(T),borderColor:r(T),width:e+"px",height:e+"px"};return o.outline?(i.width=0,i.height=0):i.marginLeft=i.marginTop=e*-.5+"px",o.center?i.left=i.top="50%":(a=M.getBoundingClientRect(),i.left=Math.round((t-a.left)/s.prop("offsetWidth")*100)+"%",i.top=Math.round((n-a.top)/s.prop("offsetHeight")*100)+"%"),i}T=i(r.attr("md-ink-ripple"))||i(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var s=a(),p=m(n,c),E=u(p,n,c),v=l(E),$=g.indexOf(v),A=b[$]||{};return f=p,A.animating=!0,t(function(){o.dimBackground&&s.css({backgroundColor:T}),v.addClass("md-ripple-placed md-ripple-scaled"),v.css(o.outline?{borderWidth:.5*p+"px",marginLeft:p*-.5+"px",marginTop:p*-.5+"px"}:{left:"50%",top:"50%"}),d(v),t(function(){A.animating=!1,d(v)},o.outline?450:225,!1)},0,!1),v}function m(e){if(s()){{l(e.pointer.x,e.pointer.y)}$=!0}}function u(){$=!1;var e=g[g.length-1];t(function(){d(e)},0,!1)}function s(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=M.parentNode,n=t&&t.parentNode,r=n&&n.parentNode;return!(e(M)||e(t)||e(n)||e(r))}if(r.controller("mdNoInk"))return angular.noop;o=angular.extend({colorElement:r,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,isFAB:!1,isMenuItem:!1,fitRipple:!1},o);var f,p=r.controller("mdInkRipple")||{},h=0,g=[],b=[],E=r.attr("md-highlight"),v=!1,$=!1,M=r[0],A=r.attr("md-ripple-size"),T=i(r.attr("md-ink-ripple"))||i(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch(A){case"full":o.isFAB=!0;break;case"partial":o.isFAB=!1}return o.mousedown&&r.on("$md.pressdown",m).on("$md.pressup",u),p.createRipple=l,E&&n.$watch(E,function(e){v=e,v&&!g.length&&t(function(){l(0,0)},0,!1),angular.forEach(g,d)}),function(){r.off("$md.pressdown",m).off("$md.pressup",u),a().remove()}}return{attachButtonBehavior:n,attachCheckboxBehavior:r,attachTabBehavior:o,attach:a}}function n(){return function(){return{controller:angular.noop}}}angular.module("material.core").factory("$mdInkRipple",t).directive("mdInkRipple",e).directive("mdNoInk",n()).directive("mdNoBar",n()).directive("mdNoStretch",n()),e.$inject=["$mdInkRipple"],t.$inject=["$window","$timeout"]}(),function(){"use strict";angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){"use strict";function e(e){function t(e,t){return t=t||{},d[e]=o(e,t),m}function n(e,t){return o(e,angular.extend({},d[e]||{},t))}function o(e,t){var n=T.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function a(e,t){if(t=t||"default",l[e])return l[e];var n="string"==typeof t?l[t]:t,r=new i(e);return n&&angular.forEach(n.colors,function(e,t){r.colors[t]={name:e.name,hues:angular.extend({},e.hues)}}),l[e]=r,r}function i(e){function t(e){if(e=0===arguments.length?!0:!!e,e!==n.isDark){n.isDark=e,n.foregroundPalette=n.isDark?f:s,n.foregroundShadow=n.isDark?p:h;var t=n.isDark?A:M,r=n.isDark?M:A;return angular.forEach(t,function(e,t){var o=n.colors[t],a=r[t];if(o)for(var i in o.hues)o.hues[i]===a[i]&&(o.hues[i]=e[i])}),n}}var n=this;n.name=e,n.colors={},n.dark=t,t(!1),v.forEach(function(e){var t=(n.isDark?A:M)[e];n[e+"Palette"]=function(r,o){var a=n.colors[e]={name:r,hues:angular.extend({},t,o)};return Object.keys(a.hues).forEach(function(e){if(!t[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",r).replace("%4",Object.keys(t).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==T.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",r).replace("%5",T.join(", ")))}),n},n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),n[e+"Palette"].apply(n,t)}})}function u(e,t){function n(e){return void 0===e||""===e?!0:void 0!==l[e]}function r(t,n){void 0===n&&(n=t,t=void 0),void 0===t&&(t=e),r.inherit(n,n)}return r.inherit=function(r,o){function a(e){n(e)||t.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var o=r.data("$mdThemeName");o&&r.removeClass("md-"+o+"-theme"),r.addClass("md-"+e+"-theme"),r.data("$mdThemeName",e)}var i=o.controller("mdTheme"),c=r.attr("md-theme-watch");
if((b||angular.isDefined(c))&&"false"!=c){var d=e.$watch(function(){return i&&i.$mdTheme||g},a);r.on("$destroy",d)}else{var l=i&&i.$mdTheme||g;a(l)}},r.registered=n,r.defaultTheme=function(){return g},r}d={},l={};var g="default",b=!1;return angular.extend(d,e),u.$inject=["$rootScope","$log"],m={definePalette:t,extendPalette:n,theme:a,setDefaultTheme:function(e){g=e},alwaysWatchTheme:function(e){b=e},$get:u,_LIGHT_DEFAULT_HUES:M,_DARK_DEFAULT_HUES:A,_PALETTES:d,_THEMES:l,_parseRules:r,_rgba:c}}function t(e,t,n){return{priority:100,link:{pre:function(r,o,a){var i={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),i.$mdTheme=t}};o.data("$mdThemeController",i),i.$setTheme(t(a.mdTheme)(r)),a.$observe("mdTheme",i.$setTheme)}}}}function n(e){return e}function r(e,t,n){a(e,t),n=n.replace(/THEME_NAME/g,e.name);var r=[],o=e.colors[t],i=new RegExp(".md-"+e.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+t+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),m=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,u=d[o.name];return n=n.replace(m,function(t,n,r,o){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),c((d[e.colors[n].name][r]||"").value,o))}),angular.forEach(o.hues,function(t,o){var a=n.replace(l,function(e,n,r,o,a){return c(u[t]["color"===o?"value":"contrast"],a)});"default"!==o&&(a=a.replace(i,".md-"+e.name+"-theme.md-"+o)),r.push(a)}),r.join("")}function o(e){function t(e){var t=e.contrastDefaultColor,n=e.contrastLightColors||[],r=e.contrastStrongLightColors||[],o=e.contrastDarkColors||[];"string"==typeof n&&(n=n.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,angular.forEach(e,function(a,c){function d(){return"light"===t?o.indexOf(c)>-1?g:r.indexOf(c)>-1?E:b:n.indexOf(c)>-1?r.indexOf(c)>-1?E:b:g}if(!angular.isObject(a)){var l=i(a);if(!l)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",c));e[c]={value:l,contrast:d()}}})}var n=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";angular.forEach(d,t);var o=n.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),a={};v.forEach(function(e){a[e]=""});var c=new RegExp("md-("+v.join("|")+")","g");o.forEach(function(e){for(var t,n=(e.match(c),0);t=v[n];n++)if(e.indexOf(".md-"+t)>-1)return a[t]+=e;for(n=0;t=v[n];n++)if(e.indexOf(t)>-1)return a[t]+=e;return a[$]+=e});var m="";if(angular.forEach(l,function(e){v.forEach(function(t){m+=r(e,t,a[t]+"")}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec.")}),!u){var s=document.createElement("style");s.innerHTML=m;var f=document.getElementsByTagName("head")[0];f.insertBefore(s,f.firstElementChild),u=!0}}function a(e,t){if(!d[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(d).join(", ")))}function i(e){if(angular.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var t=e.length/3,n=e.substr(0,t),r=e.substr(t,t),o=e.substr(2*t);return 1===t&&(n+=n,r+=r,o+=o),[parseInt(n,16),parseInt(r,16),parseInt(o,16)]}}function c(e,t){return 4==e.length&&(e=angular.copy(e),t?e.pop():t=e.pop()),t&&("number"==typeof t||"string"==typeof t&&t.length)?"rgba("+e.join(",")+","+t+")":"rgb("+e.join(",")+")"}angular.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",t).directive("mdThemable",n).provider("$mdTheming",e).run(o);var d,l,m,u,s={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},f={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},p="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",h="",g=i("rgba(0,0,0,0.87)"),b=i("rgba(255,255,255,0.87"),E=i("rgb(255,255,255)"),v=["primary","accent","warn","background"],$="primary",M={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"}},A={background:{"default":"500","hue-1":"300","hue-2":"600","hue-3":"800"}};v.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};M[e]||(M[e]=t),A[e]||(A[e]=t)});var T=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],t.$inject=["$mdTheming","$interpolate","$log"],n.$inject=["$mdTheming"],o.$inject=["$injector"]}(),function(){"use strict";angular.module("material.components.autocomplete",["material.core"])}(),function(){"use strict";function e(e){return e}angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(){return{restrict:"E"}}function t(e){function t(e,t,o,a,i,c,d,l,m,u){function s(n,r,a){h=i('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n),h.on("click",function(){o(d.cancel)}),c.inherit(h,a.parent),e.enter(h,a.parent,null);var m=new p(r,a.parent);return a.bottomSheet=m,a.targetEvent&&angular.element(a.targetEvent.target).blur(),c.inherit(m.element,a.parent),a.disableParentScroll&&(a.lastOverflow=a.parent.css("overflow"),a.parent.css("overflow","hidden")),e.enter(m.element,a.parent).then(function(){var e=angular.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus(),a.escapeToClose&&(a.rootElementKeyupCallback=function(e){e.keyCode===t.KEY_CODE.ESCAPE&&o(d.cancel)},l.on("keyup",a.rootElementKeyupCallback))})}function f(t,n,r){var o=r.bottomSheet;return e.leave(h),e.leave(o.element).then(function(){r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),o.cleanup(),r.targetEvent&&angular.element(r.targetEvent.target).focus()})}function p(e,a){function i(){e.css(t.CSS.TRANSITION_DURATION,"0ms")}function c(n){var o=n.pointer.distanceY;5>o&&(o=Math.max(-r,o/2)),e.css(t.CSS.TRANSFORM,"translate3d(0,"+(r+o)+"px,0)")}function l(r){if(r.pointer.distanceY>0&&(r.pointer.distanceY>20||Math.abs(r.pointer.velocityY)>n)){var a=e.prop("offsetHeight")-r.pointer.distanceY,i=Math.min(a/r.pointer.velocityY*.75,500);e.css(t.CSS.TRANSITION_DURATION,i+"ms"),o(d.cancel)}else e.css(t.CSS.TRANSITION_DURATION,""),e.css(t.CSS.TRANSFORM,"")}var m=u.register(a,"drag",{horizontal:!1});return a.on("$md.dragstart",i).on("$md.drag",c).on("$md.dragend",l),{element:e,cleanup:function(){m(),a.off("$md.dragstart",i).off("$md.drag",c).off("$md.dragend",l)}}}var h;return{themable:!0,targetEvent:null,onShow:s,onRemove:f,escapeToClose:!0,disableParentScroll:!0}}var n=.5,r=80;return t.$inject=["$animate","$mdConstant","$timeout","$$rAF","$compile","$mdTheming","$mdBottomSheet","$rootElement","$rootScope","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:t})}angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",t),t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(e,t,n){function r(e){return angular.isDefined(e.href)||angular.isDefined(e.ngHref)}function o(e,t){return r(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function a(o,a,i){var c=a[0];t(a),e.attachButtonBehavior(o,a);var d=c.textContent.trim();d||n.expect(a,"aria-label"),r(i)&&angular.isDefined(i.ngDisabled)&&o.$watch(i.ngDisabled,function(e){a.attr("tabindex",e?-1:0)})}return{restrict:"E",replace:!0,transclude:!0,template:o,link:a}}angular.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdInkRipple","$mdTheming","$mdAria"]}(),function(){"use strict";function e(e){return{restrict:"E",link:function(t,n){e(n)}}}angular.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(t,i){return i.type="checkbox",i.tabIndex=0,t.attr("role",i.type),function(t,i,d,l){function m(e){e.which===r.KEY_CODE.SPACE&&(e.preventDefault(),u(e))}function u(e){i[0].hasAttribute("disabled")||t.$apply(function(){f=!f,l.$setViewValue(f,e&&e.type),l.$render()})}function s(){f=l.$viewValue,f?i.addClass(c):i.removeClass(c)}l=l||a.fakeNgModel();var f=!1;o(i),d.ngChecked&&t.$watch(t.$eval.bind(t,d.ngChecked),l.$setViewValue.bind(l)),n.expectWithText(i,"aria-label"),e.link.pre(t,{on:angular.noop,0:{}},d,[l]),i.on("click",u).on("keypress",m),l.$render=s}}e=e[0];var c="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:i}}angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil"]}(),function(){"use strict";function e(e){function n(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",n],link:function(n,r){r[0];e(r),n.$broadcast("$mdContentLoaded",r),t(r[0])}}}function t(e){angular.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}angular.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,t){return{restrict:"E",link:function(n,r){t(r),e(function(){var e=r[0].querySelector("md-content");e&&e.scrollHeight>e.clientHeight&&r.addClass("md-content-overflow")})}}}function t(e){function t(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',"<md-content>","<h2>{{ dialog.title }}</h2>","<p>{{ dialog.content }}</p>","</md-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function n(e,t,n,r,o,a,i,c,d,l,m,u){function s(n,o,a){function i(){var e=o[0].querySelector(".dialog-close");if(!e){var t=o[0].querySelectorAll(".md-actions button");e=t[t.length-1]}return angular.element(e)}a.parent=angular.element(a.parent),a.popInTarget=angular.element((a.targetEvent||{}).target);var l=i();if(p(o.find("md-dialog")),a.hasBackdrop){var m=a.parent.prop("scrollTop");a.backdrop=angular.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),d.inherit(a.backdrop,a.parent),r.enter(a.backdrop,a.parent),o.css("top",m+"px")}return a.disableParentScroll&&(a.lastOverflow=a.parent.css("overflow"),a.parent.css("overflow","hidden")),h(o,a.parent,a.popInTarget&&a.popInTarget.length&&a.popInTarget).then(function(){a.escapeToClose&&(a.rootElementKeyupCallback=function(t){t.keyCode===c.KEY_CODE.ESCAPE&&e(u.cancel)},t.on("keyup",a.rootElementKeyupCallback)),a.clickOutsideToClose&&(a.dialogClickOutsideCallback=function(t){t.target===o[0]&&e(u.cancel)},o.on("click",a.dialogClickOutsideCallback)),l.focus()})}function f(e,n,o){return o.backdrop&&r.leave(o.backdrop),o.disableParentScroll&&(o.parent.css("overflow",o.lastOverflow),delete o.lastOverflow),o.escapeToClose&&t.off("keyup",o.rootElementKeyupCallback),o.clickOutsideToClose&&n.off("click",o.dialogClickOutsideCallback),g(n,o.parent,o.popInTarget&&o.popInTarget.length&&o.popInTarget).then(function(){o.scope.$destroy(),n.remove(),o.popInTarget&&o.popInTarget.focus()})}function p(e){e.attr({role:"dialog"});var t=e.find("md-content");0===t.length&&(t=e),o.expectAsync(e,"aria-label",function(){var e=t.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function h(e,t,n){var r=e.find("md-dialog");return t.append(e),b(r,n),l(function(){r.addClass("transition-in").css(c.CSS.TRANSFORM,"")}),i.transitionEndPromise(r)}function g(e,t,n){var r=e.find("md-dialog");return r.addClass("transition-out").removeClass("transition-in"),b(r,n),i.transitionEndPromise(r)}function b(e,t){if(t){var n=t[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),o=Math.min(.5,n.width/r.width),a=Math.min(.5,n.height/r.height);e.css(c.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,0) scale("+o+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:s,onRemove:f,clickOutsideToClose:!0,escapeToClose:!0,targetEvent:null,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return t.$inject=["$mdDialog","$mdTheming"],n.$inject=["$timeout","$rootElement","$compile","$animate","$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$$rAF","$q","$mdDialog"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent"],options:n}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:t}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:t})}angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",t),e.$inject=["$$rAF","$mdTheming"],t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(){}function t(t){return{restrict:"E",link:t,controller:[e]}}angular.module("material.components.divider",["material.core"]).directive("mdDivider",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,n,r,o){function a(t,a,i,c){function d(){for(var e in n.MEDIA)o(e),o.getQuery(n.MEDIA[e]).addListener(v);return o.watchResponsiveAttributes(["md-cols","md-row-height"],i,l)}function l(e){null==e?c.invalidateLayout():o(e)&&c.invalidateLayout()}function m(){var e=s(),n=p(),o=b(),a=g(),i=h(),c=r(n,f(),s()).map(function(t,r,c){var d=angular.element(e[c]);return d.scope().$mdGridPosition=t,{element:d,styles:u(t.position,t.spans,n,r,i,o,a)}}).reflow().performance();t.mdOnLayout({$event:{performance:c}})}function u(e,t,n,r,o,a,i){var c=1/n*100,d=1===n?0:(n-1)/n,l=$({share:c,gutterShare:d,gutter:o}),m={left:M({unit:l,offset:e.col,gutter:o}),width:A({unit:l,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(a){case"fixed":m.top=M({unit:i,offset:e.row,gutter:o}),m.height=A({unit:i,span:t.row,gutter:"0px"});break;case"ratio":var u=c*(1/i),s=$({share:u,gutterShare:d,gutter:o});m.paddingTop=A({unit:s,span:t.row,gutter:o}),m.marginTop=M({unit:s,offset:e.row,gutter:o});break;case"fit":var f=1===r?0:(r-1)/r,u=1/r*100,s=$({share:u,gutterShare:f,gutter:o});m.top=M({unit:s,offset:e.row,gutter:o}),m.height=A({unit:s,span:t.row,gutter:o})}return m}function s(){return Array.prototype.slice.call(a[0].childNodes).filter(function(e){return"MD-GRID-TILE"==e.tagName})}function f(){return c.tiles.map(function(e){return{row:parseInt(o.getResponsiveAttribute(e,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(e,"md-colspan"),10)||1}})}function p(){return parseInt(o.getResponsiveAttribute(i,"md-cols"),10)}function h(){return E(o.getResponsiveAttribute(i,"md-gutter")||1)}function g(){var e=o.getResponsiveAttribute(i,"md-row-height");switch(b()){case"fixed":return E(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function b(){var e=o.getResponsiveAttribute(i,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function E(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=m;var v=angular.bind(c,c.invalidateLayout);t.$on("$destroy",d());var $=e("{{ share }}% - ({{ gutter }} * {{ gutterShare }})"),M=e("calc(({{ unit }}) * {{ offset }} + {{ offset }} * {{ gutter }})"),A=e("calc(({{ unit }}) * {{ span }} + ({{ span }} - 1) * {{ gutter }})")}return{restrict:"E",controller:t,scope:{mdOnLayout:"&"},link:a}}function t(e){this.invalidated=!1,this.$timeout_=e,this.tiles=[],this.layoutDelegate=angular.noop}function n(e){function t(e,t){e.css(t)}function n(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var i=0,m=0;m-i<t.col;)c>=e?r():(i=l.indexOf(0,c),-1!==i&&-1!==(m=a(i+1))?c=m+1:(i=m=0,r()));return o(i,t.col,t.row),c=i+t.col,{col:i,row:d}}function r(){c=0,d++,o(0,e,-1)}function o(e,t,n){for(var r=e;e+t>r;r++)l[r]=Math.max(l[r]+n,0)}function a(e){var t;for(t=e;t<l.length;t++)if(0!==l[t])return t;return t===l.length?t:void 0}function i(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var c=0,d=0,l=i();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:d+Math.max.apply(Math,l)}}return function(r,o){var a,i,c,d,l,m,i;return d=e.time(function(){i=n(r,o)}),a={layoutInfo:function(){return i},map:function(t){return l=e.time(function(){c=i.positioning.map(function(e,n){return t(e,a.layoutInfo().rowCount,n)})}),a},reflow:function(n){return m=e.time(function(){var e=n||t;c.forEach(function(t){e(t.element,t.styles)})}),a},performance:function(){return{tileCount:o.length,layoutTime:d,mapTime:l,reflowTime:m,totalTime:d+l+m}}}}}function r(e){function t(t,n,r,o){n.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,angular.bind(o,o.invalidateLayout));o.addTile(r,t.$parent.$index),t.$on("$destroy",function(){a(),o.removeTile(r)})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,link:t}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}angular.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",n),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"],t.$inject=["$timeout"],t.prototype={addTile:function(e,t){angular.isUndefined(t)?this.tiles.push(e):this.tiles.splice(t,0,e),this.invalidateLayout()},removeTile:function(e){var t=this.tiles.indexOf(e);-1!==t&&(this.tiles.splice(t,1),this.invalidateLayout())},invalidateLayout:function(){this.invalidated||(this.invalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate()}finally{this.invalidated=!1}}},n.$inject=["$mdUtil"],r.$inject=["$mdMedia"]}(),function(){"use strict";function e(e,t){function n(e,t){return t.mdFontIcon?'<span class="md-font" ng-class="fontIcon"></span>':""}function r(n,r,o){function a(){var e=r.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}var i=o.alt||n.fontIcon||n.svgIcon,c=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");""==o.alt||a()?t.expect(r,"aria-hidden","true"):(t.expect(r,"aria-label",i),t.expect(r,"role","img")),c&&o.$observe(c,function(t){r.empty(),t&&e(t).then(function(e){r.append(e)})})}return{scope:{fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",template:n,link:r}}function t(){}function n(e,t){this.url=e,this.iconSize=t||o.defaultIconSize}function r(e,t,n,r,o){function a(t){return function(n){var r=e[t];return n=u(n)?n:new s(n,r),n=d(n),f[t]=n,n.clone()}}function i(t){var r=e[t];return r?l(r.url).then(function(e){return new s(e,r)}):n.reject(t)}function c(t){function r(e){var r=t.slice(t.lastIndexOf(":")+1),o=e.querySelector("#"+r);return o?new s(o,a):n.reject(t)}var o=t.substring(0,t.lastIndexOf(":"))||"$default",a=e[o];return a?l(a.url).then(r):n.reject(t)}function d(t){var n=t.config?t.config.iconSize:e.defaultIconSize,r=angular.element(t.element);return r.attr({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:r.attr("viewBox")||"0 0 "+n+" "+n}).css({"pointer-events":"none",display:"block"})}function l(e){return t.get(e,{cache:o}).then(function(e){for(var t=angular.element(e.data),n=0;n<t.length;++n)if("svg"==t[n].nodeName)return t[n]})}function m(e){var t="icon "+e+" not found";throw r.warn(t),new Error(t)}function u(e){return angular.isDefined(e.element)&&angular.isDefined(e.config)}function s(e,t){"svg"!=e.tagName&&(e=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),this.element=e,this.config=t}var f={},p=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return function(e){return e=e||"",f[e]?n.when(f[e].clone()):p.test(e)?l(e).then(a(e)):(-1==e.indexOf(":")&&(e="$default:"+e),i(e)["catch"](c)["catch"](m).then(a(e)))}}angular.module("material.components.icon",["material.core"]).directive("mdIcon",e).provider("$mdIcon",t),e.$inject=["$mdIcon","$mdAria","$log"];var o={defaultIconSize:24};t.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,r),this},iconSet:function(e,t,r){return o[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return o[r]||(o[r]=new n(e,t)),this},defaultIconSize:function(e){return o.defaultIconSize=e,this},$get:["$http","$q","$log","$templateCache",function(e,t,n,a){return new r(o,e,t,n,a)}]}}(),function(){function e(e,t){function n(t,n){e(n)}function r(e,n,r){var o=this;o.isErrorGetter=r.mdIsError&&t(r.mdIsError),o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:r}}function t(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){r&&!n.mdNoFloat&&(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function n(e,t){function n(n,r,o,a){function i(e){return l.setHasValue(!m.$isEmpty(e)),e}function c(){l.setHasValue(r.val().length>0||(r[0].validity||{}).badInput)}function d(){function o(e){return d(),e}function a(){c.style.height="auto";var e=c.scrollHeight-c.offsetHeight;c.scrollTop=0;var t=c.offsetHeight+(e>0?e:0);c.style.height=t+"px"}function i(){c.scrollTop=0;var e=c.scrollHeight-c.offsetHeight,t=c.offsetHeight+e;c.style.height=t+"px"}var c=r[0],d=e.debounce(a,1);m?(m.$formatters.push(o),m.$viewChangeListeners.push(o)):d(),r.on("keydown input",d),r.on("scroll",i),angular.element(t).on("resize",d),n.$on("$destroy",function(){angular.element(t).off("resize",d)})}var l=a[0],m=a[1]||e.fakeNgModel(),u=angular.isDefined(o.readonly);if(l){if(l.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");l.input=r,r.addClass("md-input"),r.attr("id")||r.attr("id","input_"+e.nextUid()),"textarea"===r[0].tagName.toLowerCase()&&d();var s=l.isErrorGetter||function(){return m.$invalid&&m.$touched};n.$watch(s,l.setInvalid),m.$parsers.push(i),m.$formatters.push(i),r.on("input",c),u||(r.on("focus",function(){l.setFocused(!0)}).on("blur",function(){l.setFocused(!1),c()}),m.$setTouched(),m.$invalid&&l.setInvalid()),n.$on("$destroy",function(){l.setFocused(!1),l.setHasValue(!1),l.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:n}}function r(e){function t(t,n,r,o){function a(e){return l.text((n.val()||e||"").length+"/"+i),e}var i,c=o[0],d=o[1],l=angular.element('<div class="md-char-counter">');r.$set("ngTrim","false"),d.element.append(l),c.$formatters.push(a),c.$viewChangeListeners.push(a),n.on("input keydown",function(){a()}),t.$watch(r.mdMaxlength,function(t){i=t,angular.isNumber(t)&&t>0?(l.parent().length||e.enter(l,d.element,angular.element(d.element[0].lastElementChild)),a()):e.leave(l)}),c.$validators["md-maxlength"]=function(e,t){return!angular.isNumber(i)||0>i?!0:(e||n.val()||t||"").length<=i}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:t}}function o(){function e(e,t,n,r){if(r){var o=n.placeholder;t.removeAttr("placeholder"),r.element.append('<div class="md-placeholder">'+o+"</div>")}}return{restrict:"A",require:"^^?mdInputContainer",link:e}}angular.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",t).directive("input",n).directive("textarea",n).directive("mdMaxlength",r).directive("placeholder",o),e.$inject=["$mdTheming","$parse"],n.$inject=["$mdUtil","$window","$compile","$animate"],r.$inject=["$animate"]}(),function(){"use strict";function e(){return{restrict:"E",link:function(e,t){t.attr({role:"list"})}}}function t(){return{restrict:"E",link:function(e,t){t.attr({role:"listitem"})}}}angular.module("material.components.list",["material.core"]).directive("mdList",e).directive("mdItem",t)}(),function(){"use strict";function e(e,t,n){function r(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),o}function o(e,r,o){n(r);var d,l,m,u,s=r[0],f=s.querySelectorAll(".md-fill, .md-mask.md-full"),p=s.querySelectorAll(".md-fill.md-fix"),h=o.mdDiameter||48,g=h/48;s.style[t.CSS.TRANSFORM]="scale("+g.toString()+")",o.$observe("value",function(e){for(l=a(e),m=i[l],u=c[l],r.attr("aria-valuenow",l),d=0;d<f.length;d++)f[d].style[t.CSS.TRANSFORM]=m;for(d=0;d<p.length;d++)p[d].style[t.CSS.TRANSFORM]=u})}function a(e){return e>100?100:0>e?0:Math.ceil(e||0)}for(var i=new Array(101),c=new Array(101),d=0;101>d;d++){var l=d/100,m=Math.floor(180*l);i[d]="rotate("+m.toString()+"deg)",c[d]="rotate("+(2*m).toString()+"deg)"}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:r}}angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"]}(),function(){"use strict";function e(e,n,r){function o(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,c){r(a);var d=a[0].querySelector(".md-bar1").style,l=a[0].querySelector(".md-bar2").style,m=angular.element(a[0].querySelector(".md-container"));c.$observe("value",function(e){if("query"!=c.mdMode){var r=i(e);a.attr("aria-valuenow",r),l[n.CSS.TRANSFORM]=t[r]}}),c.$observe("mdBufferValue",function(e){d[n.CSS.TRANSFORM]=t[i(e)]}),e(function(){m.addClass("md-ready")})}function i(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var t=function(){function e(e){var t=e/100,n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),n=0;101>n;n++)t[n]=e(n);return t}()}(),function(){"use strict";function e(e,t,n){function r(r,o,a,i){function c(n){switch(n.keyCode){case t.KEY_CODE.LEFT_ARROW:case t.KEY_CODE.UP_ARROW:n.preventDefault(),d.selectPrevious();break;case t.KEY_CODE.RIGHT_ARROW:case t.KEY_CODE.DOWN_ARROW:n.preventDefault(),d.selectNext();break;case t.KEY_CODE.ENTER:var r=angular.element(e.getClosest(o[0],"form"));r.length>0&&r.triggerHandler("submit")}}n(o);var d=i[0],l=i[1]||e.fakeNgModel();d.init(l),o.attr({role:"radiogroup",tabIndex:o.attr("tabindex")||"0"}).on("keydown",c)}function o(e){this._radioButtonRenderFns=[],this.$element=e}function a(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return i(this.$element,1)},selectPrevious:function(){return i(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function i(t,n){var r=e.iterator(t[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(e){return!angular.element(e).attr("disabled")},a=t[0].querySelector("md-radio-button.md-checked"),i=r[0>n?"previous":"next"](a,o)||r.first();angular.element(i).triggerHandler("click")}}return o.prototype=a(),{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function t(e,t,n){function r(r,a,i,c){function d(e){a[0].hasAttribute("disabled")||r.$apply(function(){c.setViewValue(i.value,e&&e.type)})}function l(){var e=c.getViewValue()==i.value;e!==u&&(u=e,a.attr("aria-checked",e),e?(a.addClass(o),c.setActiveDescendant(a.attr("id"))):a.removeClass(o))}function m(n,r){function o(){return i.id||"radio_"+t.nextUid()}r.ariaId=o(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var u;n(a),m(a,r),c.add(l),i.$observe("value",l),a.on("click",d).on("$destroy",function(){c.remove(l)})}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",t),e.$inject=["$mdUtil","$mdConstant","$mdTheming"],t.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){"use strict";function e(e,t){return function(n){var r="SideNav '"+n+"' is not available!",o=e.get(n);return o||e.notFoundError(n),{isOpen:function(){return o&&o.isOpen()},isLockedOpen:function(){return o&&o.isLockedOpen()},toggle:function(){return o?o.toggle():t.reject(r)},open:function(){return o?o.open():t.reject(r)},close:function(){return o?o.close():t.reject(r)}}}}function t(e,t,n,r,o,a,i,c,d){function l(l,m,u,s){function f(e,n){l.isLockedOpen=e,e===n?m.toggleClass("md-locked-open",!!e):t[e?"addClass":"removeClass"](m,"md-locked-open"),A.toggleClass("md-locked-open",!!e)}function p(e){var n=m.parent();return n[e?"on":"off"]("keydown",g),A[e?"on":"off"]("click",b),e&&(E=d[0].activeElement),v=c.all([t[e?"enter":"leave"](A,n),t[e?"removeClass":"addClass"](m,"md-closed").then(function(){l.isOpen&&m.focus()})])}function h(t){if(l.isOpen==t)return c.when(!0);var n=c.defer();return l.isOpen=t,e(function(){v.then(function(e){l.isOpen||(E&&E.focus(),E=null),n.resolve(e)})},0,!1),n.promise}function g(e){var t=e.keyCode===o.KEY_CODE.ESCAPE;return t?b(e):c.when(!0)}function b(e){return e.preventDefault(),e.stopPropagation(),s.close()}var E=null,v=c.when(!0),$=n(u.mdIsLockedOpen),M=function(){return $(l.$parent,{$media:r})},A=a('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(l);m.on("$destroy",s.destroy),i.inherit(A,m),l.$watch(M,f),l.$watch("isOpen",p),s.$toggleOpen=h}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),l
}}}function n(e,t,n,r,o){var a=this;a.$toggleOpen=function(){return o.when(e.isOpen)},a.isOpen=function(){return!!e.isOpen},a.isLockedOpen=function(){return!!e.isLockedOpen},a.open=function(){return a.$toggleOpen(!0)},a.close=function(){return a.$toggleOpen(!1)},a.toggle=function(){return a.$toggleOpen(!e.isOpen)},a.destroy=r.register(a,n.mdComponentId)}angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",t).controller("$mdSidenavController",n),e.$inject=["$mdComponentRegistry","$q"],t.$inject=["$timeout","$animate","$parse","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],n.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(e){return e.attr({tabIndex:0,role:"slider"}),n.expect(e,"aria-label"),l}function l(n,d,l,m){function u(){b(),M(),g()}function s(e){G=parseFloat(e),d.attr("aria-valuemin",e),u()}function f(e){z=parseFloat(e),d.attr("aria-valuemax",e),u()}function p(e){W=parseFloat(e),g()}function h(e){d.attr("aria-disabled",!!e)}function g(){if(angular.isDefined(l.mdDiscrete)){var e=Math.floor((z-G)/W);if(!X){var n=t.getComputedStyle(U[0]);X=angular.element('<canvas style="position:absolute;">'),Q=X[0].getContext("2d"),Q.fillStyle=n.backgroundColor||"black",U.append(X)}var r=E();X[0].width=r.width,X[0].height=r.height;for(var o,a=0;e>=a;a++)o=Math.floor(r.width*(a/e)),Q.fillRect(o-1,0,2,r.height)}}function b(){Z=q[0].getBoundingClientRect()}function E(){return Y(),Z}function v(e){if(!d[0].hasAttribute("disabled")){var t;e.keyCode===o.KEY_CODE.LEFT_ARROW?t=-W:e.keyCode===o.KEY_CODE.RIGHT_ARROW&&(t=W),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),n.$evalAsync(function(){$(m.$viewValue+t)}))}}function $(e){m.$setViewValue(A(T(e)))}function M(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue);var e=(m.$viewValue-G)/(z-G);n.modelValue=m.$viewValue,d.attr("aria-valuenow",m.$viewValue),w(e),F.text(m.$viewValue)}function A(e){return angular.isNumber(e)?Math.max(G,Math.min(z,e)):void 0}function T(e){return angular.isNumber(e)?Math.round(e/W)*W:void 0}function w(e){B.css("width",100*e+"%"),L.css("left",100*e+"%"),d.toggleClass("md-min",0===e)}function k(e){if(!P()){d.addClass("active"),d[0].focus(),b();var t=I(D(e.pointer.x)),r=A(T(t));n.$apply(function(){$(r),w(R(r))})}}function y(e){if(!P()){d.removeClass("dragging active");var t=I(D(e.pointer.x)),r=A(T(t));n.$apply(function(){$(r),M()})}}function x(e){P()||(J=!0,e.stopPropagation(),d.addClass("dragging"),_(e))}function C(e){J&&(e.stopPropagation(),_(e))}function N(e){J&&(e.stopPropagation(),J=!1)}function _(e){et?H(e.pointer.x):S(e.pointer.x)}function S(e){n.$evalAsync(function(){$(I(D(e)))})}function H(e){var t=I(D(e)),n=A(T(t));w(D(e)),F.text(n)}function D(e){return Math.max(0,Math.min(1,(e-Z.left)/Z.width))}function I(e){return G+e*(z-G)}function R(e){return(e-G)/(z-G)}a(d),m=m||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var O=l.ngDisabled&&c(l.ngDisabled),P=O?function(){return O(n.$parent)}:angular.noop,j=angular.element(d[0].querySelector(".md-thumb")),F=angular.element(d[0].querySelector(".md-thumb-text")),L=j.parent(),q=angular.element(d[0].querySelector(".md-track-container")),B=angular.element(d[0].querySelector(".md-track-fill")),U=angular.element(d[0].querySelector(".md-track-ticks")),Y=r.throttle(b,5e3);l.min?l.$observe("min",s):s(0),l.max?l.$observe("max",f):f(100),l.step?l.$observe("step",p):p(1);var V=angular.noop;l.ngDisabled&&(V=n.$parent.$watch(l.ngDisabled,h)),i.register(d,"drag"),d.on("keydown",v).on("$md.pressdown",k).on("$md.pressup",y).on("$md.dragstart",x).on("$md.drag",C).on("$md.dragend",N),setTimeout(u);var K=e.throttle(u);angular.element(t).on("resize",K),n.$on("$destroy",function(){angular.element(t).off("resize",K),V()}),m.$render=M,m.$viewChangeListeners.push(M),m.$formatters.push(A),m.$formatters.push(T);var G,z,W,X,Q,Z={};b();var J=!1,et=angular.isDefined(l.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:d}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){"use strict";function e(e,t,n,r,o){function a(e){function n(e,t){t.addClass("md-sticky-clone"),t.css("top",p+"px");var n={element:e,clone:t};return f.items.push(n),u.parent().prepend(n.clone),s(),function(){f.items.forEach(function(t,n){t.element[0]===e[0]&&(f.items.splice(n,1),t.clone.remove())}),s()}}function o(){f.items.forEach(a),f.items=f.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=u.prop("scrollTop"),n=f.items.length-1;n>=0;n--)if(t>f.items[n].top){e=f.items[n];break}d(e)}function a(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==u[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px")}function i(){var e=u.prop("scrollTop"),t=e>(i.prevScrollTop||0);i.prevScrollTop=e,0===e?d(null):t&&f.next?f.next.top-e<=0?d(f.next):f.current&&(f.next.top-e<=f.next.height?m(f.current,f.next.top-f.next.height-e):m(f.current,null)):!t&&f.current&&(e<f.current.top&&d(f.prev),f.current&&f.next&&(e>=f.next.top-f.current.height?m(f.current,f.next.top-e-f.current.height):m(f.current,null)))}function d(e){if(f.current!==e){f.current&&(m(f.current,null),l(f.current,null)),e&&l(e,"active"),f.current=e;var t=f.items.indexOf(e);f.next=f.items[t+1],f.prev=f.items[t-1],l(f.next,"next"),l(f.prev,"prev")}}function l(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function m(e,n){e&&(null===n||void 0===n?e.translateY&&(e.translateY=null,e.clone.css(t.CSS.TRANSFORM,"")):(e.translateY=n,e.clone.css(t.CSS.TRANSFORM,"translate3d("+e.left+"px,"+n+"px,0)")))}var u=e.$element,s=r.throttle(o);c(u),u.on("$scrollstart",s),u.on("$scroll",i);var f,p=u.prop("offsetTop");return f={prev:null,current:null,next:null,items:[],add:n,refreshElements:o}}function i(){var t,n=angular.element("<div>");e[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){t=r[o];break}return n.remove(),t}function c(e){function t(){+o.now()-a>i?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),r(t))}var n,a,i=200;e.on("scroll touchmove",function(){n||(n=!0,r(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),a=+o.now()})}var d=i();return function(e,t,n){var r=t.controller("mdContent");if(r)if(d)t.css({position:d,top:0,"z-index":2});else{var o=r.$element.data("$$sticky");o||(o=a(r),r.$element.data("$$sticky",o));var i=o.add(t,n||t.clone());e.$on("$destroy",i)}}}angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){"use strict";function e(e,t,n){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><span class="md-subheader-content"></span></h2>',compile:function(r,o,a){var i=r[0].outerHTML;return function(r,o){function c(e){return angular.element(e[0].querySelector(".md-subheader-content"))}n(o),a(r,function(e){c(o).append(e)}),a(r,function(a){var d=t(angular.element(i))(r);n(d),c(d).append(a),e(r,o,d)})}}}}angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){"use strict";var e=angular.module("material.components.swipe",[]);["SwipeLeft","SwipeRight"].forEach(function(t){var n="md"+t,r="$md."+t.toLowerCase();e.directive(n,["$parse",function(e){function t(t,o,a){var i=e(a[n]);o.on(r,function(e){t.$apply(function(){i(t,{$event:e})})})}return{restrict:"A",link:t}}])})}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(e,t){var r=l.compile(e,t);return e.addClass("md-dragging"),function(e,t,d,l){function m(n){p(e)||(n.stopPropagation(),t.addClass("md-dragging"),b={width:h.prop("offsetWidth")},t.removeClass("transition"))}function u(e){if(b){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/b.width,n=l.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),h.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),b.translate=n}}function s(e){if(b){e.stopPropagation(),t.removeClass("md-dragging"),h.css(o.CSS.TRANSFORM,"");var n=l.$viewValue?b.translate<.5:b.translate>.5;n&&f(!l.$viewValue),b=null}}function f(t){e.$apply(function(){l.$setViewValue(t),l.$render()})}l=l||n.fakeNgModel();var p=a(d.ngDisabled),h=angular.element(t[0].querySelector(".md-thumb-container")),g=angular.element(t[0].querySelector(".md-container"));i(function(){t.removeClass("md-dragging")}),r(e,t,d,l),angular.isDefined(d.ngDisabled)&&e.$watch(p,function(e){t.attr("tabindex",e?-1:0)}),c.register(g,"drag"),g.on("$md.dragstart",m).on("$md.drag",u).on("$md.dragend",s);var b}}var l=e[0];return{restrict:"E",transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:d}}angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){"use strict";angular.module("material.components.tabs",["material.core"])}(),function(){"use strict";function e(e,t,n,r){return{restrict:"E",replace:!0,scope:{fid:"@?mdFid",label:"@?",value:"=ngModel"},compile:function(o,a){return r.warn("<md-text-float> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),angular.isUndefined(a.mdFid)&&(a.mdFid=t.nextUid()),{pre:function(e,t,r){var o=n(r.ngDisabled);e.isDisabled=function(){return o(e.$parent)},e.inputType=r.type||"text"},post:e}},template:'<md-input-group tabindex="-1"> <label for="{{fid}}" >{{label}}</label> <md-input id="{{fid}}" ng-disabled="isDisabled()" ng-model="value" type="{{inputType}}"></md-input></md-input-group>'}}function t(e){return{restrict:"CE",controller:["$element",function(t){e.warn("<md-input-group> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),this.setFocused=function(e){t.toggleClass("md-input-focused",!!e)},this.setHasValue=function(e){t.toggleClass("md-input-has-value",e)}}]}}function n(e,t){return{restrict:"E",replace:!0,template:"<input >",require:["^?mdInputGroup","?ngModel"],link:function(e,n,r,o){function a(e){return e=angular.isUndefined(e)?n.val():e,angular.isDefined(e)&&null!==e&&""!==e.toString().trim()}if(o[0]){t.warn("<md-input> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer");var i=o[0],c=o[1];e.$watch(e.isDisabled,function(e){n.attr("aria-disabled",!!e),n.attr("tabindex",!!e)}),n.attr("type",r.type||n.parent().attr("type")||"text"),c&&c.$formatters.push(function(e){return i.setHasValue(a(e)),e}),n.on("input",function(){i.setHasValue(a())}).on("focus",function(){i.setFocused(!0)}).on("blur",function(){i.setFocused(!1),i.setHasValue(a())}),e.$on("$destroy",function(){i.setFocused(!1),i.setHasValue(!1)})}}}}angular.module("material.components.textField",["material.core"]).directive("mdInputGroup",t).directive("mdInput",n).directive("mdTextFloat",e),e.$inject=["$mdTheming","$mdUtil","$parse","$log"],t.$inject=["$log"],n.$inject=["$mdUtil","$log"]}(),function(){"use strict";function e(){return{restrict:"E"}}function t(e){function t(e,t,r){function o(o,a,c){return n=c.content,a.addClass(c.position.split(" ").map(function(e){return"md-"+e}).join(" ")),c.parent.addClass(i(c.position)),c.onSwipe=function(t){a.addClass("md-"+t.type.replace("$md.","")),e(r.cancel)},a.on("$md.swipeleft $md.swiperight",c.onSwipe),t.enter(a,c.parent)}function a(e,n,r){return n.off("$md.swipeleft $md.swiperight",r.onSwipe),r.parent.removeClass(i(r.position)),t.leave(n)}function i(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:o,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var n,r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme"],options:["$mdToast","$mdTheming",function(e,t){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var r=this;t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide()}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return r}]}).addMethod("updateContent",function(e){n=e});return t.$inject=["$timeout","$animate","$mdToast"],r}angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",t),t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(e,t,n,r){return{restrict:"E",controller:angular.noop,link:function(o,a,i){function c(){function r(t,n){a.parent()[0]===n.parent()[0]&&(m&&m.off("scroll",p),n.on("scroll",p),n.attr("scroll-shrink","true"),m=n,e(c))}function c(){l=a.prop("offsetHeight"),m.css("margin-top",-l*f+"px"),d()}function d(e){var n=e?e.target.scrollTop:s;h(),u=Math.min(l/f,Math.max(0,u+n-s)),a.css(t.CSS.TRANSFORM,"translate3d(0,"+-u*f+"px,0)"),m.css(t.CSS.TRANSFORM,"translate3d(0,"+(l-u)*f+"px,0)"),s=n}var l,m,u=0,s=0,f=i.mdShrinkSpeedFactor||.5,p=e.throttle(d),h=n.debounce(c,5e3);o.$on("$mdContentLoaded",r)}r(a),angular.isDefined(i.mdScrollShrink)&&c()}}}angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c,d){function l(l,s,f){function p(t){p.value=!!t,p.queued||(t?(p.queued=!0,e(function(){l.visible=p.value,p.queued=!1},l.delay)):e(function(){l.visible=!1}))}function h(){E.attr("aria-describedby",s.attr("id")),A.append(s),b(),c.addClass(s,"md-show"),c.addClass(v,"md-show")}function g(){E.removeAttr("aria-describedby"),d.all([c.removeClass(v,"md-show"),c.removeClass(s,"md-show")]).then(function(){l.visible||s.detach()})}function b(){function e(){var e="left"===$||"right"===$?2*Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height/2,2)):2*Math.sqrt(Math.pow(t.width/2,2)+Math.pow(t.height,2)),n="left"===$?{left:100,top:50}:"right"===$?{left:0,top:50}:"top"===$?{left:50,top:100}:{left:50,top:0};v.css({width:e+"px",height:e+"px",left:n.left+"%",top:n.top+"%"})}var t=o.offsetRect(s,A),n=o.offsetRect(E,A),r="bottom",a={left:n.left+n.width/2-t.width/2,top:n.top+n.height};a.left=Math.min(a.left,A.prop("scrollWidth")-t.width-u),a.left=Math.max(a.left,u),a.top+t.height>A.prop("scrollHeight")&&(a.top=n.top-t.height,r="top"),s.css({top:a.top+"px",left:a.left+"px"}),e()}a(s);for(var E=s.parent(),v=angular.element(s[0].getElementsByClassName("md-background")[0]),$=f.mdDirection;"none"==t.getComputedStyle(E[0])["pointer-events"];)E=E.parent();for(var M=s.parent()[0];M&&M!==i[0]&&M!==document.body&&(!M.tagName||"md-content"!=M.tagName.toLowerCase());)M=M.parentNode;var A=angular.element(M||document.body);angular.isDefined(f.mdDelay)||(l.delay=m),s.detach(),s.attr("role","tooltip"),s.attr("id",f.id||"tooltip_"+o.nextUid()),E.on("focus mouseenter touchstart",function(){p(!0)}),E.on("blur mouseleave touchend touchcancel",function(){r[0].activeElement!==E[0]&&p(!1)}),l.$watch("visible",function(e){e?h():g()});var T=n.throttle(function(){l.visible&&b()});angular.element(t).on("resize",T),l.$on("$destroy",function(){l.visible=!1,s.remove(),angular.element(t).off("resize",T)})}var m=0,u=8;return{restrict:"E",transclude:!0,template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay"},link:l}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){"use strict";angular.module("material.components.whiteframe",[])}(),function(){"use strict";function e(e,t,n,r,o,a){function i(){d(),c()}function c(){var e=angular.element(v.ul),t=angular.element(v.input),n=e.attr("id")||"ul_"+o.nextUid();e.attr("id",n),t.attr("aria-owns",n)}function d(){e.$watch("searchText",function(e){if(!e)return g.loading=!1,g.matches=[];var t=e.toLowerCase();$&&$.cancel&&($.cancel(),$=null),M[t]?g.matches=M[t]:g.hidden||(g.loading=!0,g.fetch(e))})}function l(t){var n=e.$parent.$eval(E),o=t.toLowerCase();$=r.when(n).then(function(n){M[o]=n,t===e.searchText&&($=null,g.loading=!1,g.matches=n)})}function m(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(g.loading)return;e.preventDefault(),g.index=Math.min(g.index+1,g.matches.length-1),h();break;case a.KEY_CODE.UP_ARROW:if(g.loading)return;e.preventDefault(),g.index=Math.max(0,g.index-1),h();break;case a.KEY_CODE.ENTER:if(g.loading)return;e.preventDefault(),p(g.index);break;case a.KEY_CODE.ESCAPE:g.matches=[],g.hidden=!0,g.index=-1;break;default:g.index=-1,g.hidden=!1,n(function(){g.hidden=s()})}}function u(){e.searchText="",p(-1)}function s(){return 1===g.matches.length&&e.searchText===f(g.matches[0])}function f(t){return t&&e.itemText?t[e.itemText]:t}function p(t){e.searchText=f(g.matches[t])||e.searchText,g.hidden=!0,g.index=-1,g.matches=[]}function h(){var e=41*g.index,t=e+41,n=225.5;e<v.ul.scrollTop?v.ul.scrollTop=e:t>v.ul.scrollTop+n&&(v.ul.scrollTop=t-n)}var g=this,b=e.itemsExpr.split(/\ in\ /i),E=b[1],v={main:t[0],ul:t[0].getElementsByTagName("ul")[0],input:t[0].getElementsByTagName("input")[0]},$=null,M={};return g.scope=e,g.parent=e.$parent,g.itemName=b[0],g.matches=[],g.loading=!1,g.hidden=!0,g.index=0,g.keydown=m,g.clear=u,g.select=p,g.fetch=o.debounce(l),i()}angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e),e.$inject=["$scope","$element","$timeout","$q","$mdUtil","$mdConstant"]}(),function(){"use strict";function e(){return{template:'        <md-autocomplete-wrap role="listbox">          <input type="text"              ng-model="searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              aria-haspopup="true"              aria-activedescendant=""              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>          <button              type="button"              ng-if="searchText"              ng-click="$mdAutocompleteCtrl.clear()">              <span aria-hidden="true">X</span>              <span class="visually-hidden">Clear</span>              </button>          <md-progress-linear ng-if="$mdAutocompleteCtrl.loading" md-mode="indeterminate"></md-progress-linear>        </md-autocomplete-wrap>        <ul role="presentation">          <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"              ng-class="{ selected: index === $mdAutocompleteCtrl.index }"              ng-if="searchText && !$mdAutocompleteCtrl.hidden"              ng-click="$mdAutocompleteCtrl.select(index)"              ng-transclude              md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">          </li>        </ul>        <aria-status            class="visually-hidden"            aria-atomic="true"            role="status"            aria-live="polite">          <p ng-repeat="item in $mdAutocompleteCtrl.matches">{{item.display}}</p>        </aria-status>',transclude:!0,controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{searchText:"=mdSearchText",selectedItem:"=mdSelectedItem",itemsExpr:"@mdItems",itemText:"@mdItemText",placeholder:"@placeholder"}}}angular.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){"use strict";function e(e,t,n){function r(e){return e?e.replace(/[\*\[\]\(\)\{\}\\\^\$]/g,"\\$&"):e}var o=t.attr("md-highlight-text"),a=n(t.text())(e);e.$watch(o,function(e){var n=new RegExp("^"+r(e),"i"),o=a.replace(n,'<span class="highlight">$&</span>');t.html(o)})}angular.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){"use strict";function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl"}}angular.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){"use strict";function e(e,t){function n(n,r,o,a){var i=a.parent.$new(!1,a.parent),c=a.scope.$eval(o.mdAutocompleteListItem);i[c]=n.item,e(r.contents())(i),r.attr({role:"option",id:"item_"+t.nextUid()})}return{require:"^?mdAutocomplete",terminal:!0,link:n,scope:!1}}angular.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){"use strict";function e(e){function t(t,r,o,a){function i(){var e=d.getSelectedItem(),o=!e||d.count()<2||c;if(r.css("display",o?"none":"block"),!o&&t.pagination&&t.pagination.tabData){var a=d.getSelectedIndex(),i=t.pagination.tabData.tabs[a]||{left:0,right:0,width:0},l=r.parent().prop("offsetWidth")-i.right,m=["md-transition-left","md-transition-right","md-no-transition"],u=n>a?0:a>n?1:2;r.removeClass(m.join(" ")).addClass(m[u]).css({left:i.left+"px",right:l+"px"}),n=a}}var c=!!a[0],d=a[1],l=e.throttle(i);d.inkBarElement=r,t.$on("$mdTabsPaginationChanged",l)}var n=0;return{restrict:"E",require:["^?mdNoBar","^mdTabs"],link:t}}angular.module("material.components.tabs").directive("mdTabsInkBar",e),e.$inject=["$$rAF"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(i,d,l,m){function u(e,t){if(e){var n=b(e);T.active&&n!==T.page?(t&&t.element.blur(),E(n).then(function(){A=!1,e.element.focus()})):e.element.focus()}}function s(e){var t=T.tabData,n=Math.max(0,Math.min(t.pages.length-1,T.page+e)),r=t.pages[n][e>0?"firstTabIndex":"lastTabIndex"],o=m.itemAt(r);A=!0,u(o)}function f(){function e(){M.css("width","9999px"),angular.forEach(a.tabs,function(e){angular.element(e.element).css("margin-left",e.filler+"px")}),E(b(m.getSelectedItem()))}function t(){p(0),M.css("width",""),r.css("width",""),r.css("margin-left",""),T.page=null,T.active=!1}function n(){return l||i.$watch(function(){o(function(){d[0].offsetParent&&(angular.isFunction(l)&&l(),$(),l=null)},0,!1)})}if(d.prop("offsetParent")){var r=d.find("md-tab");t();var a=T.tabData=g(),c=T.active=a.pages.length>1;c&&e(),i.$evalAsync(function(){i.$broadcast("$mdTabsPaginationChanged")})}else var l=n()}function p(t){function n(t){t.target===M[0]&&(M.off(e.CSS.TRANSITIONEND,n),o.resolve())}if(m.pagingOffset===t)return r.when();var o=r.defer();return m.$$pagingOffset=t,M.css(e.CSS.TRANSFORM,"translate3d("+t+"px,0,0)"),M.on(e.CSS.TRANSITIONEND,n),o.promise}function h(){switch(i.stretchTabs){case"never":return!1;case"always":return!0;default:return a("sm")}}function g(e){function t(){var e=1===u.length?r:o,t=Math.min(Math.floor(e/l),v.length),n=Math.floor(e/t);return a.css("width",n+"px"),g(!0)}var n,r=d.parent().prop("offsetWidth"),o=r-c-1,a=angular.element(v),i=0,l=0,m=[],u=[];return a.css("max-width",""),angular.forEach(v,function(e,t){var a=Math.min(o,e.offsetWidth),c={element:e,left:i,width:a,right:i+a,filler:0};c.page=Math.ceil(c.right/(1===u.length&&t===v.length-1?r:o))-1,c.page>=u.length?(c.filler=o*c.page-c.left,c.right+=c.filler,c.left+=c.filler,n={left:c.left,firstTabIndex:t,lastTabIndex:t,tabs:[c]},u.push(n)):(n.lastTabIndex=t,n.tabs.push(c)),i=c.right,l=Math.max(l,a),m.push(c)}),a.css("max-width",o+"px"),!e&&h()?t():{width:i,max:l,tabs:m,pages:u,tabElements:v}}function b(e){var t=m.indexOf(e);if(-1===t)return 0;var n=T.tabData;return n?n.tabs[t].page:0}function E(e){if(e!==T.page){var t=T.tabData.pages.length-1;return 0>e&&(e=0),e>t&&(e=t),T.hasPrev=e>0,T.hasNext=t>e,T.page=e,i.$broadcast("$mdTabsPaginationChanged"),p(-T.tabData.pages[e].left)}}var v=d[0].getElementsByTagName("md-tab"),$=n.throttle(f),M=d.children(),A=!1,T=i.pagination={page:-1,active:!1,clickNext:function(){A||s(1)},clickPrevious:function(){A||s(-1)}};i.$on("$mdTabsChanged",$),angular.element(t).on("resize",$),i.$on("$destroy",function(){angular.element(t).off("resize",$)}),i.$watch(function(){return m.tabToFocus},u)}var c=64;return{restrict:"A",require:"^mdTabs",link:i}}angular.module("material.components.tabs").directive("mdTabsPagination",e),e.$inject=["$mdConstant","$window","$$rAF","$$q","$timeout","$mdMedia"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(){return b(e.$parent)}function l(t,n){h.content.length&&(h.contentContainer.append(h.content),h.contentScope=e.$parent.$new(),t.append(h.contentContainer),r(h.contentContainer)(h.contentScope),n===!0&&c(function(){a.disconnectScope(h.contentScope)},0,!1))}function m(){o.leave(h.contentContainer).then(function(){h.contentScope&&h.contentScope.$destroy(),h.contentScope=null})}function u(e){h.contentContainer[e?"addClass":"removeClass"]("md-transition-rtl")}function s(n){a.reconnectScope(h.contentScope),t.addClass("active").attr({"aria-selected":!0,tabIndex:0}).on("$md.swipeleft $md.swiperight",p),u(n),o.removeClass(h.contentContainer,"ng-hide"),e.onSelect()}function f(n){a.disconnectScope(h.contentScope),t.removeClass("active").attr({"aria-selected":!1,tabIndex:-1}).off("$md.swipeleft $md.swiperight",p),u(n),o.addClass(h.contentContainer,"ng-hide"),e.onDeselect()}function p(t){e.$apply(function(){g.select(/left/.test(t.type)?g.next():g.previous())})}var h=this,g=t.controller("mdTabs");h.contentContainer=angular.element('<div class="md-tab-content ng-hide">'),h.element=t,h.isDisabled=d,h.onAdd=l,h.onRemove=m,h.onSelect=s,h.onDeselect=f;var b=i(n.ngDisabled)}angular.module("material.components.tabs").controller("$mdTab",e),e.$inject=["$scope","$element","$attrs","$compile","$animate","$mdUtil","$parse","$timeout"]}(),function(){"use strict";function e(e,t,n,r,o){function a(a,i){var c=a.find("md-tab-label");c.length?c.remove():c=angular.isDefined(i.label)?angular.element("<md-tab-label>").html(i.label):angular.element("<md-tab-label>").append(a.contents().remove());var d=a.contents().remove();return function(a,i,l,m){function u(){var e=c.clone();i.append(e),t(e)(a.$parent),E.content=d.clone()}function s(){a.$apply(function(){v.select(E),v.focus(E)})}function f(e){e.keyCode==r.KEY_CODE.SPACE||e.keyCode==r.KEY_CODE.ENTER?(i.triggerHandler("click"),e.preventDefault()):e.keyCode===r.KEY_CODE.LEFT_ARROW?a.$evalAsync(function(){v.focus(v.previous(E))}):e.keyCode===r.KEY_CODE.RIGHT_ARROW&&a.$evalAsync(function(){v.focus(v.next(E))})}function p(){a.$watch("$parent.$index",function(e){v.move(E,e)})}function h(){function e(e){var t=v.getSelectedItem()===E;e&&!t?v.select(E):!e&&t&&v.deselect(E)}var t=a.$parent.$watch("!!("+l.mdActive+")",e);a.$on("$destroy",t)}function g(){function e(e){i.attr("aria-disabled",e);var t=v.getSelectedItem()===E;t&&e&&v.select(v.next()||v.previous())}a.$watch(E.isDisabled,e)}function b(){var e=l.id||"tab_"+n.nextUid();if(i.attr({id:e,role:"tab",tabIndex:-1}),d.length){var t="content_"+e;i.attr("aria-controls")||i.attr("aria-controls",t),E.contentContainer.attr({id:t,role:"tabpanel","aria-labelledby":e})}}var E=m[0],v=m[1];o(i.addClass.bind(i,"md-tab-themed"),0,!1),a.$watch(function(){return l.label},function(){o(function(){v.scope.$broadcast("$mdTabsChanged")},0,!1)}),u(),b(),e.attachTabBehavior(a,i,{colorElement:v.inkBarElement}),v.add(E),a.$on("$destroy",function(){v.remove(E)}),i.on("$destroy",function(){o(function(){v.scope.$broadcast("$mdTabsChanged")},0,!1)}),angular.isDefined(l.ngClick)||i.on("click",s),i.on("keydown",f),angular.isNumber(a.$parent.$index)&&p(),angular.isDefined(l.mdActive)&&h(),g()}}return{restrict:"E",require:["mdTab","^mdTabs"],controller:"$mdTab",scope:{onSelect:"&mdOnSelect",onDeselect:"&mdOnDeselect",label:"@"},compile:a}}angular.module("material.components.tabs").directive("mdTab",e),e.$inject=["$mdInkRipple","$compile","$mdUtil","$mdConstant","$timeout"]}(),function(){"use strict";function e(e,t,n){function r(){return b(e.selectedIndex)}function o(){return e.selectedIndex}function a(t,n){p.add(t,n),angular.isDefined(t.element.attr("md-active"))||-1!==e.selectedIndex&&angular.isNumber(e.selectedIndex)&&e.selectedIndex!==h.indexOf(t)?t.onAdd(h.contentArea,!0):(t.onAdd(h.contentArea,!1),h.select(t)),e.$broadcast("$mdTabsChanged")}function i(t,n){if(p.contains(t)&&!n){var o=r()===t,a=s()||u();m(t),p.remove(t),t.onRemove(),e.$broadcast("$mdTabsChanged"),o&&d(a)}}function c(t,n){var o=r()===t;p.remove(t),p.add(t,n),o&&d(t),e.$broadcast("$mdTabsChanged")}function d(t,n){!t||t.isSelected||t.isDisabled()||p.contains(t)&&(angular.isDefined(n)||(n=g(t)<e.selectedIndex),m(r(),n),e.selectedIndex=g(t),t.isSelected=!0,t.onSelect(n),e.$broadcast("$mdTabsChanged"))}function l(e){h.tabToFocus=e}function m(t,n){t&&t.isSelected&&p.contains(t)&&(e.selectedIndex=-1,t.isSelected=!1,t.onDeselect(n))}function u(e,t){return p.next(e||r(),t||f)}function s(e,t){return p.previous(e||r(),t||f)}function f(e){return e&&!e.isDisabled()}var p=n.iterator([],!1),h=this;h.$element=t,h.scope=e;var g=(h.contentArea=angular.element(t[0].querySelector(".md-tabs-content")),h.inRange=p.inRange,h.indexOf=p.indexOf),b=h.itemAt=p.itemAt;h.count=p.count,h.getSelectedItem=r,h.getSelectedIndex=o,h.add=a,h.remove=i,h.move=c,h.select=d,h.focus=l,h.deselect=m,h.next=u,h.previous=s,e.$on("$destroy",function(){m(r());for(var e=p.count()-1;e>=0;e--)i(p[e],!0)})}angular.module("material.components.tabs").controller("$mdTabs",e),e.$inject=["$scope","$element","$mdUtil","$timeout"]}(),function(){"use strict";function e(e){function t(t,n,r,o,a){function i(){n.attr("role","tablist")}function c(){t.$watch("selectedIndex",function(e,t){if(t!=e){var n=t>e;if(o.deselect(o.itemAt(t),n),o.inRange(e)){for(var r=o.itemAt(e);r&&r.isDisabled();)r=e>t?o.next(r):o.previous(r);o.select(r,n)}}})}t.stretchTabs=r.hasOwnProperty("mdStretchTabs")?r.mdStretchTabs||"always":"auto",e(n),i(),c(),a(t.$parent,function(e){angular.element(n[0].querySelector(".md-header-items")).append(e)})}return{restrict:"E",controller:"$mdTabs",require:"mdTabs",transclude:!0,scope:{selectedIndex:"=?mdSelected"},template:'<section class="md-header" ng-class="{\'md-paginating\': pagination.active}"><button class="md-paginator md-prev" ng-if="pagination.active && pagination.hasPrev" ng-click="pagination.clickPrevious()" aria-hidden="true"></button><div class="md-header-items-container" md-tabs-pagination><div class="md-header-items"><md-tabs-ink-bar></md-tabs-ink-bar></div></div><button class="md-paginator md-next" ng-if="pagination.active && pagination.hasNext" ng-click="pagination.clickNext()" aria-hidden="true"></button></section><section class="md-tabs-content"></section>',link:t}
}angular.module("material.components.tabs").directive("mdTabs",e),e.$inject=["$mdTheming"]}(),angular.module("material.core").constant("$MD_THEME_CSS","md-autocomplete {  background: '{{background-50}}'; }  md-autocomplete button {    background: '{{background-200}}'; }  md-autocomplete ul {    background: '{{background-50}}'; }    md-autocomplete ul li {      border-top: 1px solid '{{background-400}}';      color: '{{background-900}}'; }      md-autocomplete ul li .highlight {        color: '{{background-600}}'; }      md-autocomplete ul li:hover, md-autocomplete ul li.selected {        background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-toolbar .md-button.md-THEME_NAME-theme.md-fab {  background-color: white; }.md-button.md-THEME_NAME-theme {  border-radius: 3px; }  .md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):focus {    background-color: '{{background-500-0.2}}'; }  .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):focus {        background-color: '{{primary-600}}'; }  .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):focus {      background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):focus {      background-color: '{{background-200}}'; }  .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):focus {        background-color: '{{warn-700}}'; }  .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):focus {        background-color: '{{accent-700}}'; }  .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    color: '{{foreground-3}}';    background-color: transparent;    cursor: not-allowed; }md-card.md-THEME_NAME-theme {  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-hue-3}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-4}}' 0%, '{{foreground-4}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-4}}' 100%); }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {  border-color: '{{foreground-3}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {  border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme:focus:not(:empty) {  border-color: '{{foreground-1}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-hue-3}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-switch.md-THEME_NAME-theme:focus .md-label:not(:empty) {  border-color: '{{foreground-1}}';  border-style: dotted; }md-tabs.md-THEME_NAME-theme .md-header {  background-color: transparent; }md-tabs.md-THEME_NAME-theme.md-accent .md-header {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]).active {    color: '{{accent-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary .md-header {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]).active {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:focus {    color: '{{primary-contrast}}';    background-color: '{{primary-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab.active {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab .md-ripple-container {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-warn .md-header {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]).active {    color: '{{warn-contrast}}'; }md-tabs.md-THEME_NAME-theme md-tabs-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme md-tab:focus {    color: '{{foreground-1}}'; }  md-tabs.md-THEME_NAME-theme md-tab.active {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  text-shadow: '{{foreground-shadow}}'; }  md-input-group.md-THEME_NAME-theme input::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme input::-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-ms-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme label {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused input, md-input-group.md-THEME_NAME-theme.md-input-focused textarea {  border-color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused label {  color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent input, md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent textarea {  border-color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-has-value:not(.md-input-focused) label {  color: '{{foreground-2}}'; }md-input-group.md-THEME_NAME-theme .md-input[disabled] {  border-bottom-color: '{{foreground-4}}';  color: '{{foreground-3}}'; }md-toast.md-THEME_NAME-theme {  background-color: '{{foreground-1}}';  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var n=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(n,a,t,r,i){function c(){t.cancel(d),i.complete(),s=0,l=0}function o(n){var t,r=a.get("$http"),i=e.defaults;!n.cache&&!i.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(t=angular.isObject(n.cache)?n.cache:angular.isObject(i.cache)?i.cache:r);var c=void 0!==t?void 0!==t.get(n.url):!1;return void 0!==n.cached&&c!==n.cached?n.cached:(n.cached=c,c)}var d,l=0,s=0,u=i.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||o(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(d=t(function(){i.start()},u)),l++,i.set(s/l)),e},response:function(e){return e.config.ignoreLoadingBar||o(e.config)||(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),s>=l?c():i.set(s/l)),e},responseError:function(e){return e.config.ignoreLoadingBar||o(e.config)||(s++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url}),s>=l?c():i.set(s/l)),n.reject(e)}}}];e.interceptors.push(n)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,n,a,t){function r(){s||(s=e.get("$animate"));var r=n.find(g).eq(0);a.cancel(h),m||(t.$broadcast("cfpLoadingBar:started"),m=!0,S&&s.enter(f,r),$&&s.enter(v,r),i(b))}function i(e){if(m){var n=100*e+"%";p.css("width",n),B=e,a.cancel(u),u=a(function(){c()},250)}}function c(){if(!(o()>=1)){var e=0,n=o();e=n>=0&&.25>n?(3*Math.random()+3)/100:n>=.25&&.65>n?3*Math.random()/100:n>=.65&&.9>n?2*Math.random()/100:n>=.9&&.99>n?.005:0;var a=o()+e;i(a)}}function o(){return B}function d(){B=0,m=!1}function l(){s||(s=e.get("$animate")),t.$broadcast("cfpLoadingBar:completed"),i(1),a.cancel(h),h=a(function(){var e=s.leave(f,d);e&&e.then&&e.then(d),s.leave(v)},500)}var s,u,h,g=this.parentSelector,f=angular.element(this.loadingBarTemplate),p=f.find("div").eq(0),v=angular.element(this.spinnerTemplate),m=!1,B=0,$=this.includeSpinner,S=this.includeBar,b=this.startSize;return{start:r,set:i,status:o,inc:c,complete:l,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIuanMiLCJhbmd1bGFyLWFyaWEuanMiLCJhbmd1bGFyLWFuaW1hdGUuanMiLCJhbmd1bGFyLXVpLXJvdXRlci5qcyIsImFuZ3VsYXItbWF0ZXJpYWwuanMiLCJsb2FkaW5nLWJhci5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIm1pbkVyciIsIm1vZHVsZSIsIkVycm9yQ29uc3RydWN0b3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJpIiwiY29kZSIsImFyZ3VtZW50cyIsInByZWZpeCIsInRlbXBsYXRlIiwidGVtcGxhdGVBcmdzIiwicmVwbGFjZSIsIm1hdGNoIiwiaW5kZXgiLCJzbGljZSIsImxlbmd0aCIsInRvRGVidWdTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJpc0FycmF5TGlrZSIsIm9iaiIsImlzV2luZG93Iiwibm9kZVR5cGUiLCJOT0RFX1RZUEVfRUxFTUVOVCIsImlzU3RyaW5nIiwiaXNBcnJheSIsImZvckVhY2giLCJpdGVyYXRvciIsImNvbnRleHQiLCJrZXkiLCJpc0Z1bmN0aW9uIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaXNQcmltaXRpdmUiLCJzb3J0ZWRLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJmb3JFYWNoU29ydGVkIiwicmV2ZXJzZVBhcmFtcyIsIml0ZXJhdG9yRm4iLCJ2YWx1ZSIsIm5leHRVaWQiLCJ1aWQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImV4dGVuZCIsImRzdCIsImlpIiwiaiIsImpqIiwiaW50Iiwic3RyIiwicGFyc2VJbnQiLCJpbmhlcml0IiwicGFyZW50IiwiZXh0cmEiLCJjcmVhdGUiLCJub29wIiwiaWRlbnRpdHkiLCIkIiwidmFsdWVGbiIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwiaXNPYmplY3QiLCJpc051bWJlciIsImlzRGF0ZSIsInRvU3RyaW5nIiwiaXNSZWdFeHAiLCJpc1Njb3BlIiwiJGV2YWxBc3luYyIsIiR3YXRjaCIsImlzRmlsZSIsImlzRm9ybURhdGEiLCJpc0Jsb2IiLCJpc0Jvb2xlYW4iLCJpc1Byb21pc2VMaWtlIiwidGhlbiIsImlzRWxlbWVudCIsIm5vZGUiLCJub2RlTmFtZSIsInByb3AiLCJhdHRyIiwiZmluZCIsIm1ha2VNYXAiLCJpdGVtcyIsInNwbGl0Iiwibm9kZU5hbWVfIiwiZWxlbWVudCIsImxvd2VyY2FzZSIsImFycmF5UmVtb3ZlIiwiYXJyYXkiLCJpbmRleE9mIiwic3BsaWNlIiwiY29weSIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwic3RhY2tTb3VyY2UiLCJzdGFja0Rlc3QiLCJuZ01pbkVyciIsInB1c2giLCJyZXN1bHQiLCJEYXRlIiwiZ2V0VGltZSIsIlJlZ0V4cCIsImxhc3RJbmRleCIsImVtcHR5T2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJzaGFsbG93Q29weSIsInNyYyIsImNoYXJBdCIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiY29uY2F0IiwiYXJyYXkxIiwiYXJyYXkyIiwic2xpY2VBcmdzIiwiYXJncyIsInN0YXJ0SW5kZXgiLCJiaW5kIiwic2VsZiIsImZuIiwiY3VycnlBcmdzIiwiYXBwbHkiLCJ0b0pzb25SZXBsYWNlciIsInZhbCIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInN0YXJ0aW5nVGFnIiwianFMaXRlIiwiY2xvbmUiLCJlbXB0eSIsImUiLCJlbGVtSHRtbCIsImFwcGVuZCIsImh0bWwiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsImtleV92YWx1ZSIsInRvS2V5VmFsdWUiLCJwYXJ0cyIsImFycmF5VmFsdWUiLCJlbmNvZGVVcmlRdWVyeSIsImpvaW4iLCJlbmNvZGVVcmlTZWdtZW50IiwicGN0RW5jb2RlU3BhY2VzIiwiZ2V0TmdBdHRyaWJ1dGUiLCJuZ0F0dHIiLCJuZ0F0dHJQcmVmaXhlcyIsImFuZ3VsYXJJbml0IiwiYm9vdHN0cmFwIiwiYXBwRWxlbWVudCIsImNvbmZpZyIsIm5hbWUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJjYW5kaWRhdGUiLCJxdWVyeVNlbGVjdG9yIiwic3RyaWN0RGkiLCJtb2R1bGVzIiwiZGVmYXVsdENvbmZpZyIsImRvQm9vdHN0cmFwIiwiaW5qZWN0b3IiLCJ0YWciLCJ1bnNoaWZ0IiwiJHByb3ZpZGUiLCJkZWJ1Z0luZm9FbmFibGVkIiwiJGNvbXBpbGVQcm92aWRlciIsImNyZWF0ZUluamVjdG9yIiwiaW52b2tlIiwic2NvcGUiLCJjb21waWxlIiwiJGFwcGx5IiwiZGF0YSIsIk5HX0VOQUJMRV9ERUJVR19JTkZPIiwiTkdfREVGRVJfQk9PVFNUUkFQIiwidGVzdCIsImFuZ3VsYXIiLCJyZXN1bWVCb290c3RyYXAiLCJleHRyYU1vZHVsZXMiLCJyZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCIsInJlbG9hZFdpdGhEZWJ1Z0luZm8iLCJsb2NhdGlvbiIsInJlbG9hZCIsImdldFRlc3RhYmlsaXR5Iiwicm9vdEVsZW1lbnQiLCJnZXQiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJsZXR0ZXIiLCJwb3MiLCJ0b0xvd2VyQ2FzZSIsImJpbmRKUXVlcnkiLCJvcmlnaW5hbENsZWFuRGF0YSIsImJpbmRKUXVlcnlGaXJlZCIsImpRdWVyeSIsIm9uIiwiSlFMaXRlUHJvdG90eXBlIiwiaXNvbGF0ZVNjb3BlIiwiY29udHJvbGxlciIsImluaGVyaXRlZERhdGEiLCJjbGVhbkRhdGEiLCJlbGVtcyIsImV2ZW50cyIsInNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhIiwiZWxlbSIsIl9kYXRhIiwiJGRlc3Ryb3kiLCJ0cmlnZ2VySGFuZGxlciIsIkpRTGl0ZSIsImFzc2VydEFyZyIsImFyZyIsInJlYXNvbiIsImFzc2VydEFyZ0ZuIiwiYWNjZXB0QXJyYXlBbm5vdGF0aW9uIiwiY29uc3RydWN0b3IiLCJhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSIsImdldHRlciIsInBhdGgiLCJiaW5kRm5Ub1Njb3BlIiwibGFzdEluc3RhbmNlIiwibGVuIiwiZ2V0QmxvY2tOb2RlcyIsIm5vZGVzIiwiZW5kTm9kZSIsImJsb2NrTm9kZXMiLCJuZXh0U2libGluZyIsImNyZWF0ZU1hcCIsInNldHVwTW9kdWxlTG9hZGVyIiwiZW5zdXJlIiwiZmFjdG9yeSIsIiRpbmplY3Rvck1pbkVyciIsIiQkbWluRXJyIiwicmVxdWlyZXMiLCJjb25maWdGbiIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJtZXRob2QiLCJpbnNlcnRNZXRob2QiLCJxdWV1ZSIsImludm9rZVF1ZXVlIiwibW9kdWxlSW5zdGFuY2UiLCJjb25maWdCbG9ja3MiLCJydW5CbG9ja3MiLCJfaW52b2tlUXVldWUiLCJfY29uZmlnQmxvY2tzIiwiX3J1bkJsb2NrcyIsInNlcnZpY2UiLCJjb25zdGFudCIsImFuaW1hdGlvbiIsImZpbHRlciIsImRpcmVjdGl2ZSIsInJ1biIsImJsb2NrIiwidGhpcyIsInNlcmlhbGl6ZU9iamVjdCIsInNlZW4iLCJwdWJsaXNoRXh0ZXJuYWxBUEkiLCJ2ZXJzaW9uIiwidXBwZXJjYXNlIiwiY2FsbGJhY2tzIiwiY291bnRlciIsIiQkY3NwIiwiY3NwIiwiYW5ndWxhck1vZHVsZSIsIiRMb2NhbGVQcm92aWRlciIsIiQkc2FuaXRpemVVcmkiLCIkJFNhbml0aXplVXJpUHJvdmlkZXIiLCIkQ29tcGlsZVByb3ZpZGVyIiwiYSIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJpbnB1dCIsImlucHV0RGlyZWN0aXZlIiwidGV4dGFyZWEiLCJmb3JtIiwiZm9ybURpcmVjdGl2ZSIsInNjcmlwdCIsInNjcmlwdERpcmVjdGl2ZSIsInNlbGVjdCIsInNlbGVjdERpcmVjdGl2ZSIsInN0eWxlIiwic3R5bGVEaXJlY3RpdmUiLCJvcHRpb24iLCJvcHRpb25EaXJlY3RpdmUiLCJuZ0JpbmQiLCJuZ0JpbmREaXJlY3RpdmUiLCJuZ0JpbmRIdG1sIiwibmdCaW5kSHRtbERpcmVjdGl2ZSIsIm5nQmluZFRlbXBsYXRlIiwibmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUiLCJuZ0NsYXNzIiwibmdDbGFzc0RpcmVjdGl2ZSIsIm5nQ2xhc3NFdmVuIiwibmdDbGFzc0V2ZW5EaXJlY3RpdmUiLCJuZ0NsYXNzT2RkIiwibmdDbGFzc09kZERpcmVjdGl2ZSIsIm5nQ2xvYWsiLCJuZ0Nsb2FrRGlyZWN0aXZlIiwibmdDb250cm9sbGVyIiwibmdDb250cm9sbGVyRGlyZWN0aXZlIiwibmdGb3JtIiwibmdGb3JtRGlyZWN0aXZlIiwibmdIaWRlIiwibmdIaWRlRGlyZWN0aXZlIiwibmdJZiIsIm5nSWZEaXJlY3RpdmUiLCJuZ0luY2x1ZGUiLCJuZ0luY2x1ZGVEaXJlY3RpdmUiLCJuZ0luaXQiLCJuZ0luaXREaXJlY3RpdmUiLCJuZ05vbkJpbmRhYmxlIiwibmdOb25CaW5kYWJsZURpcmVjdGl2ZSIsIm5nUGx1cmFsaXplIiwibmdQbHVyYWxpemVEaXJlY3RpdmUiLCJuZ1JlcGVhdCIsIm5nUmVwZWF0RGlyZWN0aXZlIiwibmdTaG93IiwibmdTaG93RGlyZWN0aXZlIiwibmdTdHlsZSIsIm5nU3R5bGVEaXJlY3RpdmUiLCJuZ1N3aXRjaCIsIm5nU3dpdGNoRGlyZWN0aXZlIiwibmdTd2l0Y2hXaGVuIiwibmdTd2l0Y2hXaGVuRGlyZWN0aXZlIiwibmdTd2l0Y2hEZWZhdWx0IiwibmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlIiwibmdPcHRpb25zIiwibmdPcHRpb25zRGlyZWN0aXZlIiwibmdUcmFuc2NsdWRlIiwibmdUcmFuc2NsdWRlRGlyZWN0aXZlIiwibmdNb2RlbCIsIm5nTW9kZWxEaXJlY3RpdmUiLCJuZ0xpc3QiLCJuZ0xpc3REaXJlY3RpdmUiLCJuZ0NoYW5nZSIsIm5nQ2hhbmdlRGlyZWN0aXZlIiwicGF0dGVybiIsInBhdHRlcm5EaXJlY3RpdmUiLCJuZ1BhdHRlcm4iLCJyZXF1aXJlZCIsInJlcXVpcmVkRGlyZWN0aXZlIiwibmdSZXF1aXJlZCIsIm1pbmxlbmd0aCIsIm1pbmxlbmd0aERpcmVjdGl2ZSIsIm5nTWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwibWF4bGVuZ3RoRGlyZWN0aXZlIiwibmdNYXhsZW5ndGgiLCJuZ1ZhbHVlIiwibmdWYWx1ZURpcmVjdGl2ZSIsIm5nTW9kZWxPcHRpb25zIiwibmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUiLCJuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSIsIm5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzIiwibmdFdmVudERpcmVjdGl2ZXMiLCIkYW5jaG9yU2Nyb2xsIiwiJEFuY2hvclNjcm9sbFByb3ZpZGVyIiwiJGFuaW1hdGUiLCIkQW5pbWF0ZVByb3ZpZGVyIiwiJGJyb3dzZXIiLCIkQnJvd3NlclByb3ZpZGVyIiwiJGNhY2hlRmFjdG9yeSIsIiRDYWNoZUZhY3RvcnlQcm92aWRlciIsIiRjb250cm9sbGVyIiwiJENvbnRyb2xsZXJQcm92aWRlciIsIiRkb2N1bWVudCIsIiREb2N1bWVudFByb3ZpZGVyIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwiJGZpbHRlciIsIiRGaWx0ZXJQcm92aWRlciIsIiRpbnRlcnBvbGF0ZSIsIiRJbnRlcnBvbGF0ZVByb3ZpZGVyIiwiJGludGVydmFsIiwiJEludGVydmFsUHJvdmlkZXIiLCIkaHR0cCIsIiRIdHRwUHJvdmlkZXIiLCIkaHR0cEJhY2tlbmQiLCIkSHR0cEJhY2tlbmRQcm92aWRlciIsIiRsb2NhdGlvbiIsIiRMb2NhdGlvblByb3ZpZGVyIiwiJGxvZyIsIiRMb2dQcm92aWRlciIsIiRwYXJzZSIsIiRQYXJzZVByb3ZpZGVyIiwiJHJvb3RTY29wZSIsIiRSb290U2NvcGVQcm92aWRlciIsIiRxIiwiJFFQcm92aWRlciIsIiQkcSIsIiQkUVByb3ZpZGVyIiwiJHNjZSIsIiRTY2VQcm92aWRlciIsIiRzY2VEZWxlZ2F0ZSIsIiRTY2VEZWxlZ2F0ZVByb3ZpZGVyIiwiJHNuaWZmZXIiLCIkU25pZmZlclByb3ZpZGVyIiwiJHRlbXBsYXRlQ2FjaGUiLCIkVGVtcGxhdGVDYWNoZVByb3ZpZGVyIiwiJHRlbXBsYXRlUmVxdWVzdCIsIiRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlciIsIiQkdGVzdGFiaWxpdHkiLCIkJFRlc3RhYmlsaXR5UHJvdmlkZXIiLCIkdGltZW91dCIsIiRUaW1lb3V0UHJvdmlkZXIiLCIkd2luZG93IiwiJFdpbmRvd1Byb3ZpZGVyIiwiJCRyQUYiLCIkJFJBRlByb3ZpZGVyIiwiJCRhc3luY0NhbGxiYWNrIiwiJCRBc3luY0NhbGxiYWNrUHJvdmlkZXIiLCIkJGpxTGl0ZSIsIiQkanFMaXRlUHJvdmlkZXIiLCJqcU5leHRJZCIsImpxSWQiLCJjYW1lbENhc2UiLCJTUEVDSUFMX0NIQVJTX1JFR0VYUCIsIl8iLCJvZmZzZXQiLCJ0b1VwcGVyQ2FzZSIsIk1PWl9IQUNLX1JFR0VYUCIsImpxTGl0ZUlzVGV4dE5vZGUiLCJIVE1MX1JFR0VYUCIsImpxTGl0ZUFjY2VwdHNEYXRhIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlQnVpbGRGcmFnbWVudCIsInRtcCIsIndyYXAiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsIlRBR19OQU1FX1JFR0VYUCIsImV4ZWMiLCJ3cmFwTWFwIiwiX2RlZmF1bHQiLCJpbm5lckhUTUwiLCJYSFRNTF9UQUdfUkVHRVhQIiwibGFzdENoaWxkIiwiY2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJ0ZXh0Q29udGVudCIsImpxTGl0ZVBhcnNlSFRNTCIsInBhcnNlZCIsIlNJTkdMRV9UQUdfUkVHRVhQIiwiYXJnSXNTdHJpbmciLCJ0cmltIiwianFMaXRlTWluRXJyIiwianFMaXRlQWRkTm9kZXMiLCJqcUxpdGVDbG9uZSIsImNsb25lTm9kZSIsImpxTGl0ZURlYWxvYyIsIm9ubHlEZXNjZW5kYW50cyIsImpxTGl0ZVJlbW92ZURhdGEiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVzY2VuZGFudHMiLCJsIiwianFMaXRlT2ZmIiwidHlwZSIsInVuc3VwcG9ydGVkIiwiZXhwYW5kb1N0b3JlIiwianFMaXRlRXhwYW5kb1N0b3JlIiwiaGFuZGxlIiwibGlzdGVuZXJGbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyRm4iLCJleHBhbmRvSWQiLCJuZzMzOSIsImpxQ2FjaGUiLCJjcmVhdGVJZk5lY2Vzc2FyeSIsImpxTGl0ZURhdGEiLCJpc1NpbXBsZVNldHRlciIsImlzU2ltcGxlR2V0dGVyIiwibWFzc0dldHRlciIsImpxTGl0ZUhhc0NsYXNzIiwic2VsZWN0b3IiLCJqcUxpdGVSZW1vdmVDbGFzcyIsImNzc0NsYXNzZXMiLCJzZXRBdHRyaWJ1dGUiLCJjc3NDbGFzcyIsImpxTGl0ZUFkZENsYXNzIiwiZXhpc3RpbmdDbGFzc2VzIiwicm9vdCIsImVsZW1lbnRzIiwianFMaXRlQ29udHJvbGxlciIsImpxTGl0ZUluaGVyaXRlZERhdGEiLCJkb2N1bWVudEVsZW1lbnQiLCJuYW1lcyIsInBhcmVudE5vZGUiLCJOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQiLCJob3N0IiwianFMaXRlRW1wdHkiLCJyZW1vdmVDaGlsZCIsImpxTGl0ZVJlbW92ZSIsImtlZXBEYXRhIiwianFMaXRlRG9jdW1lbnRMb2FkZWQiLCJhY3Rpb24iLCJ3aW4iLCJyZWFkeVN0YXRlIiwic2V0VGltZW91dCIsImdldEJvb2xlYW5BdHRyTmFtZSIsImJvb2xlYW5BdHRyIiwiQk9PTEVBTl9BVFRSIiwiQk9PTEVBTl9FTEVNRU5UUyIsImdldEFsaWFzZWRBdHRyTmFtZSIsIkFMSUFTRURfQVRUUiIsImNyZWF0ZUV2ZW50SGFuZGxlciIsImV2ZW50SGFuZGxlciIsImV2ZW50IiwiaXNEZWZhdWx0UHJldmVudGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsImV2ZW50Rm5zIiwiZXZlbnRGbnNMZW5ndGgiLCJpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwiJGdldCIsImhhc0NsYXNzIiwiY2xhc3NlcyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJoYXNoS2V5IiwibmV4dFVpZEZuIiwib2JqVHlwZSIsIkhhc2hNYXAiLCJpc29sYXRlZFVpZCIsInB1dCIsImFub25GbiIsImZuVGV4dCIsIlNUUklQX0NPTU1FTlRTIiwiRk5fQVJHUyIsImFubm90YXRlIiwiJGluamVjdCIsImFyZ0RlY2wiLCJsYXN0IiwiRk5fQVJHX1NQTElUIiwiRk5fQVJHIiwiYWxsIiwidW5kZXJzY29yZSIsIm1vZHVsZXNUb0xvYWQiLCJzdXBwb3J0T2JqZWN0IiwiZGVsZWdhdGUiLCJwcm92aWRlcl8iLCJwcm92aWRlckluamVjdG9yIiwiaW5zdGFudGlhdGUiLCJwcm92aWRlckNhY2hlIiwicHJvdmlkZXJTdWZmaXgiLCJlbmZvcmNlUmV0dXJuVmFsdWUiLCJpbnN0YW5jZUluamVjdG9yIiwiZmFjdG9yeUZuIiwiZW5mb3JjZSIsIiRpbmplY3RvciIsImluc3RhbmNlQ2FjaGUiLCJkZWNvcmF0b3IiLCJzZXJ2aWNlTmFtZSIsImRlY29yRm4iLCJvcmlnUHJvdmlkZXIiLCJvcmlnJGdldCIsIm9yaWdJbnN0YW5jZSIsIiRkZWxlZ2F0ZSIsImxvYWRNb2R1bGVzIiwibW9kdWxlRm4iLCJydW5JbnZva2VRdWV1ZSIsImludm9rZUFyZ3MiLCJsb2FkZWRNb2R1bGVzIiwic3RhY2siLCJjcmVhdGVJbnRlcm5hbEluamVjdG9yIiwiY2FjaGUiLCJnZXRTZXJ2aWNlIiwiY2FsbGVyIiwiSU5TVEFOVElBVElORyIsImVyciIsInNoaWZ0IiwibG9jYWxzIiwiJCRhbm5vdGF0ZSIsIlR5cGUiLCJpbnN0YW5jZSIsInByb3RvdHlwZSIsInJldHVybmVkVmFsdWUiLCJoYXMiLCJhdXRvU2Nyb2xsaW5nRW5hYmxlZCIsImRpc2FibGVBdXRvU2Nyb2xsaW5nIiwiZ2V0Rmlyc3RBbmNob3IiLCJsaXN0IiwiQXJyYXkiLCJzb21lIiwiZ2V0WU9mZnNldCIsInNjcm9sbCIsInlPZmZzZXQiLCJnZXRDb21wdXRlZFN0eWxlIiwicG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJzY3JvbGxUbyIsInNjcm9sbEludG9WaWV3IiwiZWxlbVRvcCIsInRvcCIsInNjcm9sbEJ5IiwiZWxtIiwiaGFzaCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJuZXdWYWwiLCJvbGRWYWwiLCJzdXBwb3J0ZWQiLCJCcm93c2VyIiwiY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCJvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyIsInBvcCIsImVycm9yIiwiZ2V0SGFzaCIsInVybCIsInN1YnN0ciIsInN0YXJ0UG9sbGVyIiwiaW50ZXJ2YWwiLCJjaGVjayIsInBvbGxGbnMiLCJwb2xsRm4iLCJwb2xsVGltZW91dCIsImNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlIiwiY2FjaGVTdGF0ZSIsImZpcmVVcmxDaGFuZ2UiLCJjYWNoZWRTdGF0ZSIsImhpc3RvcnkiLCJzdGF0ZSIsImxhc3RDYWNoZWRTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwibGFzdEhpc3RvcnlTdGF0ZSIsInVybENoYW5nZUxpc3RlbmVycyIsImxpc3RlbmVyIiwic2FmZURlY29kZVVSSUNvbXBvbmVudCIsInJhd0RvY3VtZW50IiwiY2xlYXJUaW1lb3V0IiwicGVuZGluZ0RlZmVySWRzIiwiaXNNb2NrIiwiJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzIiwiY2FsbGJhY2siLCJhZGRQb2xsRm4iLCJocmVmIiwiYmFzZUVsZW1lbnQiLCJyZWxvYWRMb2NhdGlvbiIsInNhbWVTdGF0ZSIsInNhbWVCYXNlIiwic3RyaXBIYXNoIiwidXJsQ2hhbmdlSW5pdCIsIm9uVXJsQ2hhbmdlIiwiJCRjaGVja1VybENoYW5nZSIsImJhc2VIcmVmIiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwiY29va2llUGF0aCIsImNvb2tpZXMiLCJjb29raWVMZW5ndGgiLCJjb29raWVBcnJheSIsImNvb2tpZSIsInN1YnN0cmluZyIsIndhcm4iLCJkZWZlciIsImRlbGF5IiwidGltZW91dElkIiwiY2FuY2VsIiwiZGVmZXJJZCIsImNhY2hlRmFjdG9yeSIsImNhY2hlSWQiLCJvcHRpb25zIiwicmVmcmVzaCIsImVudHJ5IiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsIm4iLCJsaW5rIiwicCIsIm5leHRFbnRyeSIsInByZXZFbnRyeSIsImNhY2hlcyIsInNpemUiLCJzdGF0cyIsImlkIiwiY2FwYWNpdHkiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJscnVIYXNoIiwibHJ1RW50cnkiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJkZXN0cm95IiwiaW5mbyIsIiQkc2FuaXRpemVVcmlQcm92aWRlciIsInBhcnNlSXNvbGF0ZUJpbmRpbmdzIiwiZGlyZWN0aXZlTmFtZSIsIkxPQ0FMX1JFR0VYUCIsImJpbmRpbmdzIiwiZGVmaW5pdGlvbiIsInNjb3BlTmFtZSIsIiRjb21waWxlTWluRXJyIiwibW9kZSIsImNvbGxlY3Rpb24iLCJvcHRpb25hbCIsImF0dHJOYW1lIiwiaGFzRGlyZWN0aXZlcyIsIlN1ZmZpeCIsIkNPTU1FTlRfRElSRUNUSVZFX1JFR0VYUCIsIkNMQVNTX0RJUkVDVElWRV9SRUdFWFAiLCJBTExfT1JfTk9USElOR19BVFRSUyIsIlJFUVVJUkVfUFJFRklYX1JFR0VYUCIsIkVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAiLCJyZWdpc3RlckRpcmVjdGl2ZSIsImRpcmVjdGl2ZUZhY3RvcnkiLCJkaXJlY3RpdmVzIiwicHJpb3JpdHkiLCJyZXF1aXJlIiwicmVzdHJpY3QiLCIkJGlzb2xhdGVCaW5kaW5ncyIsImFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwicmVnZXhwIiwiaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwiZW5hYmxlZCIsInNhZmVBZGRDbGFzcyIsIiRlbGVtZW50IiwiY2xhc3NOYW1lIiwiJGNvbXBpbGVOb2RlcyIsInRyYW5zY2x1ZGVGbiIsIm1heFByaW9yaXR5IiwiaWdub3JlRGlyZWN0aXZlIiwicHJldmlvdXNDb21waWxlQ29udGV4dCIsIm5vZGVWYWx1ZSIsImNvbXBvc2l0ZUxpbmtGbiIsImNvbXBpbGVOb2RlcyIsIiQkYWRkU2NvcGVDbGFzcyIsIm5hbWVzcGFjZSIsImNsb25lQ29ubmVjdEZuIiwicGFyZW50Qm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlQ29udHJvbGxlcnMiLCJmdXR1cmVQYXJlbnRFbGVtZW50IiwiJCRib3VuZFRyYW5zY2x1ZGUiLCJkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzIiwiJGxpbmtOb2RlIiwid3JhcFRlbXBsYXRlIiwiY29udHJvbGxlck5hbWUiLCIkJGFkZFNjb3BlSW5mbyIsInBhcmVudEVsZW1lbnQiLCJub2RlTGlzdCIsIiRyb290RWxlbWVudCIsIm5vZGVMaW5rRm4iLCJjaGlsZExpbmtGbiIsImNoaWxkU2NvcGUiLCJpZHgiLCJjaGlsZEJvdW5kVHJhbnNjbHVkZUZuIiwic3RhYmxlTm9kZUxpc3QiLCJub2RlTGlua0ZuRm91bmQiLCJub2RlTGlzdExlbmd0aCIsImxpbmtGbnMiLCIkbmV3IiwidHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGUiLCJlbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJ0ZW1wbGF0ZU9uVGhpc0VsZW1lbnQiLCJhdHRycyIsImxpbmtGbkZvdW5kIiwiQXR0cmlidXRlcyIsImNvbGxlY3REaXJlY3RpdmVzIiwiYXBwbHlEaXJlY3RpdmVzVG9Ob2RlIiwiJCRlbGVtZW50IiwidGVybWluYWwiLCJwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuIiwiYm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlZFNjb3BlIiwiY2xvbmVGbiIsImNvbnRyb2xsZXJzIiwiY29udGFpbmluZ1Njb3BlIiwiJCR0cmFuc2NsdWRlZCIsImF0dHJzTWFwIiwiJGF0dHIiLCJhZGREaXJlY3RpdmUiLCJkaXJlY3RpdmVOb3JtYWxpemUiLCJuTmFtZSIsIm5nQXR0ck5hbWUiLCJpc05nQXR0ciIsIm5BdHRycyIsImF0dHJpYnV0ZXMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJOR19BVFRSX0JJTkRJTkciLCJQUkVGSVhfUkVHRVhQIiwiZGlyZWN0aXZlTk5hbWUiLCJkaXJlY3RpdmVJc011bHRpRWxlbWVudCIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFuaW1WYWwiLCJhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJOT0RFX1RZUEVfQ09NTUVOVCIsImJ5UHJpb3JpdHkiLCJncm91cFNjYW4iLCJhdHRyU3RhcnQiLCJhdHRyRW5kIiwiZGVwdGgiLCJncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlciIsImxpbmtGbiIsImNvbXBpbGVOb2RlIiwidGVtcGxhdGVBdHRycyIsImpxQ29sbGVjdGlvbiIsIm9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSIsInByZUxpbmtGbnMiLCJwb3N0TGlua0ZucyIsImFkZExpbmtGbnMiLCJwcmUiLCJwb3N0IiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJnZXRDb250cm9sbGVycyIsImVsZW1lbnRDb250cm9sbGVycyIsInJldHJpZXZhbE1ldGhvZCIsIiRzZWFyY2hFbGVtZW50IiwibGlua05vZGUiLCJjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSIsImNsb25lQXR0YWNoRm4iLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsInNjb3BlVG9DaGlsZCIsImNvbnRyb2xsZXJEaXJlY3RpdmVzIiwiY29udHJvbGxlckluc3RhbmNlIiwiJHNjb3BlIiwiJGF0dHJzIiwiJHRyYW5zY2x1ZGUiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZSIsIiQkb3JpZ2luYWxEaXJlY3RpdmUiLCJpc29sYXRlU2NvcGVDb250cm9sbGVyIiwiaXNvbGF0ZUJpbmRpbmdDb250ZXh0IiwiaWRlbnRpZmllciIsImJpbmRUb0NvbnRyb2xsZXIiLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJjb21wYXJlIiwiJG9ic2VydmUiLCIkJG9ic2VydmVycyIsIiQkc2NvcGUiLCJsaXRlcmFsIiwiYiIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiRzdGF0ZWZ1bCIsInVud2F0Y2giLCIkd2F0Y2hDb2xsZWN0aW9uIiwiJG9uIiwiaW52b2tlTGlua0ZuIiwidGVtcGxhdGVVcmwiLCJuZXdTY29wZURpcmVjdGl2ZSIsIiR0ZW1wbGF0ZSIsImRpcmVjdGl2ZVZhbHVlIiwidGVybWluYWxQcmlvcml0eSIsIm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVGVtcGxhdGUiLCIkY29tcGlsZU5vZGUiLCJyZXBsYWNlRGlyZWN0aXZlIiwiY2hpbGRUcmFuc2NsdWRlRm4iLCIkJHN0YXJ0IiwiJCRlbmQiLCJhc3NlcnROb0R1cGxpY2F0ZSIsIiQkdGxiIiwiY3JlYXRlQ29tbWVudCIsInJlcGxhY2VXaXRoIiwiY29udGVudHMiLCJkZW5vcm1hbGl6ZVRlbXBsYXRlIiwicmVtb3ZlQ29tbWVudHMiLCJ0ZW1wbGF0ZU5hbWVzcGFjZSIsIm5ld1RlbXBsYXRlQXR0cnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZXMiLCJ1bnByb2Nlc3NlZERpcmVjdGl2ZXMiLCJtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSIsIm1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzIiwiY29tcGlsZVRlbXBsYXRlVXJsIiwiTWF0aCIsIm1heCIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCIkc2V0IiwidEF0dHJzIiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJjb250ZW50IiwidGVtcFRlbXBsYXRlQXR0cnMiLCJiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlIiwibGlua1Jvb3RFbGVtZW50IiwiJCRkZXN0cm95ZWQiLCJvbGRDbGFzc2VzIiwiaWdub3JlQ2hpbGRMaW5rRm4iLCJkaWZmIiwid2hhdCIsInByZXZpb3VzRGlyZWN0aXZlIiwidGV4dCIsImludGVycG9sYXRlRm4iLCJ0ZW1wbGF0ZU5vZGUiLCJ0ZW1wbGF0ZU5vZGVQYXJlbnQiLCJoYXNDb21waWxlUGFyZW50IiwiJCRhZGRCaW5kaW5nQ2xhc3MiLCIkJGFkZEJpbmRpbmdJbmZvIiwiZXhwcmVzc2lvbnMiLCJ3cmFwcGVyIiwiZ2V0VHJ1c3RlZENvbnRleHQiLCJhdHRyTm9ybWFsaXplZE5hbWUiLCJIVE1MIiwiUkVTT1VSQ0VfVVJMIiwiYWxsT3JOb3RoaW5nIiwidHJ1c3RlZENvbnRleHQiLCJuZXdWYWx1ZSIsIiQkaW50ZXIiLCJvbGRWYWx1ZSIsIiR1cGRhdGVDbGFzcyIsImVsZW1lbnRzVG9SZW1vdmUiLCJuZXdOb2RlIiwiZmlyc3RFbGVtZW50VG9SZW1vdmUiLCJyZW1vdmVDb3VudCIsImoyIiwicmVwbGFjZUNoaWxkIiwiZXhwYW5kbyIsImsiLCJrayIsImFubm90YXRpb24iLCJhdHRyaWJ1dGVzVG9Db3B5IiwiJG5vcm1hbGl6ZSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRvQWRkIiwidG9rZW5EaWZmZXJlbmNlIiwidG9SZW1vdmUiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5IiwiYWxpYXNlZEtleSIsIm9ic2VydmVyIiwidHJpbW1lZFNyY3NldCIsInNyY1BhdHRlcm4iLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwibGFzdFR1cGxlIiwicmVtb3ZlQXR0ciIsImxpc3RlbmVycyIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwiYmluZGluZyIsImlzb2xhdGVkIiwibm9UZW1wbGF0ZSIsImRhdGFOYW1lIiwic3RyMSIsInN0cjIiLCJ2YWx1ZXMiLCJ0b2tlbnMxIiwidG9rZW5zMiIsIm91dGVyIiwidG9rZW4iLCJqcU5vZGVzIiwiZ2xvYmFscyIsIkNOVFJMX1JFRyIsInJlZ2lzdGVyIiwiYWxsb3dHbG9iYWxzIiwiYWRkSWRlbnRpZmllciIsImV4cHJlc3Npb24iLCJsYXRlciIsImlkZW50IiwiJGNvbnRyb2xsZXJNaW5FcnIiLCJjb250cm9sbGVyUHJvdG90eXBlIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsImhlYWRlcnMiLCJ0ZW1wRGF0YSIsIkpTT05fUFJPVEVDVElPTl9QUkVGSVgiLCJjb250ZW50VHlwZSIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImxpbmUiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJzdGF0dXMiLCJmbnMiLCJpc1N1Y2Nlc3MiLCJkZWZhdWx0cyIsInRyYW5zZm9ybVJlc3BvbnNlIiwidHJhbnNmb3JtUmVxdWVzdCIsImQiLCJjb21tb24iLCJBY2NlcHQiLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsInBhdGNoIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsInVzZUFwcGx5QXN5bmMiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlcXVlc3RDb25maWciLCJyZXNwb25zZSIsInJlc3AiLCJyZWplY3QiLCJleGVjdXRlSGVhZGVyRm5zIiwiaGVhZGVyQ29udGVudCIsInByb2Nlc3NlZEhlYWRlcnMiLCJoZWFkZXJGbiIsImhlYWRlciIsIm1lcmdlSGVhZGVycyIsImRlZkhlYWRlck5hbWUiLCJsb3dlcmNhc2VEZWZIZWFkZXJOYW1lIiwicmVxSGVhZGVyTmFtZSIsImRlZkhlYWRlcnMiLCJyZXFIZWFkZXJzIiwiZGVmYXVsdEhlYWRlcnNJdGVyYXRpb24iLCJzZXJ2ZXJSZXF1ZXN0IiwicmVxRGF0YSIsIndpdGhDcmVkZW50aWFscyIsInNlbmRSZXEiLCJjaGFpbiIsInByb21pc2UiLCJ3aGVuIiwicmV2ZXJzZWRJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXF1ZXN0RXJyb3IiLCJyZXNwb25zZUVycm9yIiwidGhlbkZuIiwicmVqZWN0Rm4iLCJzdWNjZXNzIiwiY3JlYXRlU2hvcnRNZXRob2RzIiwiY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEiLCJkb25lIiwiaGVhZGVyc1N0cmluZyIsInN0YXR1c1RleHQiLCJyZXNvbHZlSHR0cFByb21pc2UiLCJyZXNvbHZlUHJvbWlzZSIsIiRhcHBseUFzeW5jIiwiJCRwaGFzZSIsImRlZmVycmVkIiwicmVzb2x2ZSIsInJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCIsInJlbW92ZVBlbmRpbmdSZXEiLCJwZW5kaW5nUmVxdWVzdHMiLCJjYWNoZWRSZXNwIiwiYnVpbGRVcmwiLCJwYXJhbXMiLCJkZWZhdWx0Q2FjaGUiLCJ4c3JmVmFsdWUiLCJ1cmxJc1NhbWVPcmlnaW4iLCJ0aW1lb3V0IiwicmVzcG9uc2VUeXBlIiwidiIsInRvSVNPU3RyaW5nIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiY3JlYXRlWGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVIdHRwQmFja2VuZCIsIiRicm93c2VyRGVmZXIiLCJqc29ucFJlcSIsImNhbGxiYWNrSWQiLCJhc3luYyIsImJvZHkiLCJjYWxsZWQiLCJhZGRFdmVudExpc3RlbmVyRm4iLCJ0aW1lb3V0UmVxdWVzdCIsImpzb25wRG9uZSIsInhociIsImFib3J0IiwiY29tcGxldGVSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbmxvYWQiLCJyZXNwb25zZVRleHQiLCJ1cmxSZXNvbHZlIiwicHJvdG9jb2wiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJvbmVycm9yIiwib25hYm9ydCIsInNlbmQiLCJlc2NhcGUiLCJjaCIsIm11c3RIYXZlRXhwcmVzc2lvbiIsInVuZXNjYXBlVGV4dCIsImVzY2FwZWRTdGFydFJlZ2V4cCIsImVzY2FwZWRFbmRSZWdleHAiLCJwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yIiwiZ2V0VmFsdWUiLCJuZXdFcnIiLCIkaW50ZXJwb2xhdGVNaW5FcnIiLCJlbmRJbmRleCIsImV4cCIsInBhcnNlRm5zIiwidGV4dExlbmd0aCIsImV4cHJlc3Npb25Qb3NpdGlvbnMiLCJzdGFydFN5bWJvbExlbmd0aCIsImVuZFN5bWJvbExlbmd0aCIsImNvbXB1dGUiLCJnZXRUcnVzdGVkIiwidmFsdWVPZiIsIiQkd2F0Y2hEZWxlZ2F0ZSIsIm9iamVjdEVxdWFsaXR5IiwiJHdhdGNoR3JvdXAiLCJvbGRWYWx1ZXMiLCJjdXJyVmFsdWUiLCJjb3VudCIsImludm9rZUFwcGx5Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaXRlcmF0aW9uIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwiTlVNQkVSX0ZPUk1BVFMiLCJERUNJTUFMX1NFUCIsIkdST1VQX1NFUCIsIlBBVFRFUk5TIiwibWluSW50IiwibWluRnJhYyIsIm1heEZyYWMiLCJwb3NQcmUiLCJwb3NTdWYiLCJuZWdQcmUiLCJuZWdTdWYiLCJnU2l6ZSIsImxnU2l6ZSIsIkNVUlJFTkNZX1NZTSIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJNT05USCIsIlNIT1JUTU9OVEgiLCJEQVkiLCJTSE9SVERBWSIsIkFNUE1TIiwibWVkaXVtIiwic2hvcnQiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtRGF0ZSIsInNob3J0RGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydFRpbWUiLCJwbHVyYWxDYXQiLCJudW0iLCJlbmNvZGVQYXRoIiwic2VnbWVudHMiLCJwYXJzZUFic29sdXRlVXJsIiwiYWJzb2x1dGVVcmwiLCJsb2NhdGlvbk9iaiIsInBhcnNlZFVybCIsIiQkcHJvdG9jb2wiLCIkJGhvc3QiLCJob3N0bmFtZSIsIiQkcG9ydCIsInBvcnQiLCJERUZBVUxUX1BPUlRTIiwicGFyc2VBcHBVcmwiLCJyZWxhdGl2ZVVybCIsInByZWZpeGVkIiwiJCRwYXRoIiwicGF0aG5hbWUiLCIkJHNlYXJjaCIsInNlYXJjaCIsIiQkaGFzaCIsImJlZ2luc1dpdGgiLCJiZWdpbiIsIndob2xlIiwidHJpbUVtcHR5SGFzaCIsInN0cmlwRmlsZSIsImxhc3RJbmRleE9mIiwic2VydmVyQmFzZSIsIkxvY2F0aW9uSHRtbDVVcmwiLCJhcHBCYXNlIiwiYmFzZVByZWZpeCIsIiQkaHRtbDUiLCJhcHBCYXNlTm9GaWxlIiwiJCRwYXJzZSIsInBhdGhVcmwiLCIkbG9jYXRpb25NaW5FcnIiLCIkJGNvbXBvc2UiLCIkJHVybCIsIiQkYWJzVXJsIiwiJCRwYXJzZUxpbmtVcmwiLCJyZWxIcmVmIiwiYXBwVXJsIiwicHJldkFwcFVybCIsInJld3JpdHRlblVybCIsIkxvY2F0aW9uSGFzaGJhbmdVcmwiLCJoYXNoUHJlZml4IiwicmVtb3ZlV2luZG93c0RyaXZlTmFtZSIsImJhc2UiLCJmaXJzdFBhdGhTZWdtZW50TWF0Y2giLCJ3aW5kb3dzRmlsZVBhdGhFeHAiLCJ3aXRob3V0SGFzaFVybCIsIndpdGhvdXRCYXNlVXJsIiwiTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwiLCJsb2NhdGlvbkdldHRlciIsInByb3BlcnR5IiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwcmVwcm9jZXNzIiwiaHRtbDVNb2RlIiwicmVxdWlyZUJhc2UiLCJyZXdyaXRlTGlua3MiLCJzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrIiwib2xkVXJsIiwib2xkU3RhdGUiLCIkJHN0YXRlIiwiYWZ0ZXJMb2NhdGlvbkNoYW5nZSIsIiRicm9hZGNhc3QiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwid2hpY2giLCJidXR0b24iLCJ0YXJnZXQiLCJhYnNIcmVmIiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsaXppbmciLCJuZXdVcmwiLCJuZXdTdGF0ZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsIiQkcmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmbGFnIiwiZm9ybWF0RXJyb3IiLCJzb3VyY2VVUkwiLCJjb25zb2xlTG9nIiwiY29uc29sZSIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsImVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiZnVsbEV4cHJlc3Npb24iLCIkcGFyc2VNaW5FcnIiLCJlbnN1cmVTYWZlT2JqZWN0IiwiY2hpbGRyZW4iLCJlbnN1cmVTYWZlRnVuY3Rpb24iLCJDQUxMIiwiQVBQTFkiLCJCSU5EIiwiaXNDb25zdGFudCIsInNldHRlciIsInNldFZhbHVlIiwiZnVsbEV4cCIsInByb3BlcnR5T2JqIiwiaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUiLCJjc3BTYWZlR2V0dGVyRm4iLCJrZXkwIiwia2V5MSIsImtleTIiLCJrZXkzIiwia2V5NCIsImV4cGVuc2l2ZUNoZWNrcyIsImVzbyIsIm8iLCJlc28wIiwiZXNvMSIsImVzbzIiLCJlc28zIiwiZXNvNCIsInBhdGhWYWwiLCJnZXR0ZXJGbldpdGhFbnN1cmVTYWZlT2JqZWN0IiwicyIsImdldHRlckZuIiwiZ2V0dGVyRm5DYWNoZSIsImdldHRlckZuQ2FjaGVFeHBlbnNpdmUiLCJnZXR0ZXJGbkNhY2hlRGVmYXVsdCIsInBhdGhLZXlzIiwicGF0aEtleXNMZW5ndGgiLCJuZWVkc0Vuc3VyZVNhZmVPYmplY3QiLCJsb29rdXBKcyIsImV2YWxlZEZuR2V0dGVyIiwiRnVuY3Rpb24iLCJzaGFyZWRHZXR0ZXIiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImNhY2hlRGVmYXVsdCIsImNhY2hlRXhwZW5zaXZlIiwid3JhcFNoYXJlZEV4cHJlc3Npb24iLCJ3cmFwcGVkIiwiY29sbGVjdEV4cHJlc3Npb25JbnB1dHMiLCJpbnB1dHMiLCJleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrIiwib2xkVmFsdWVPZlZhbHVlIiwiaW5wdXRzV2F0Y2hEZWxlZ2F0ZSIsInBhcnNlZEV4cHJlc3Npb24iLCJsYXN0UmVzdWx0IiwiaW5wdXRFeHByZXNzaW9ucyIsIiQkaW5wdXRzIiwib2xkSW5wdXRWYWx1ZSIsIm5ld0lucHV0VmFsdWUiLCJvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMiLCJjaGFuZ2VkIiwib25lVGltZVdhdGNoRGVsZWdhdGUiLCJvbGQiLCIkJHBvc3REaWdlc3QiLCJvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUiLCJpc0FsbERlZmluZWQiLCJhbGxEZWZpbmVkIiwiY29uc3RhbnRXYXRjaERlbGVnYXRlIiwiYWRkSW50ZXJjZXB0b3IiLCJpbnRlcmNlcHRvckZuIiwid2F0Y2hEZWxlZ2F0ZSIsInJlZ3VsYXJXYXRjaCIsIiRwYXJzZU9wdGlvbnMiLCIkcGFyc2VPcHRpb25zRXhwZW5zaXZlIiwib25lVGltZSIsImNhY2hlS2V5IiwicGFyc2VPcHRpb25zIiwibGV4ZXIiLCJMZXhlciIsInBhcnNlciIsIlBhcnNlciIsInFGYWN0b3J5IiwibmV4dFRpY2siLCJleGNlcHRpb25IYW5kbGVyIiwiY2FsbE9uY2UiLCJyZXNvbHZlRm4iLCJQcm9taXNlIiwic2ltcGxlQmluZCIsInByb2Nlc3NRdWV1ZSIsInBlbmRpbmciLCJwcm9jZXNzU2NoZWR1bGVkIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCJEZWZlcnJlZCIsInByb21pc2VzIiwicmVzdWx0cyIsIiRxTWluRXJyIiwiVHlwZUVycm9yIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwicHJvZ3Jlc3NCYWNrIiwiY2F0Y2giLCJmaW5hbGx5IiwiaGFuZGxlQ2FsbGJhY2siLCIkJHJlamVjdCIsIiQkcmVzb2x2ZSIsInByb2dyZXNzIiwibWFrZVByb21pc2UiLCJyZXNvbHZlZCIsImlzUmVzb2x2ZWQiLCJjYWxsYmFja091dHB1dCIsImVycmJhY2siLCIkUSIsIlEiLCJyZXNvbHZlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZTdXBwb3J0ZWQiLCJyYWYiLCJ0aW1lciIsIlRUTCIsIiRyb290U2NvcGVNaW5FcnIiLCJsYXN0RGlydHlXYXRjaCIsImFwcGx5QXN5bmNJZCIsImRpZ2VzdFR0bCIsIlNjb3BlIiwiJGlkIiwiJHBhcmVudCIsIiQkd2F0Y2hlcnMiLCIkJG5leHRTaWJsaW5nIiwiJCRwcmV2U2libGluZyIsIiQkY2hpbGRIZWFkIiwiJCRjaGlsZFRhaWwiLCIkcm9vdCIsIiQkbGlzdGVuZXJzIiwiJCRsaXN0ZW5lckNvdW50IiwiYmVnaW5QaGFzZSIsInBoYXNlIiwiY2xlYXJQaGFzZSIsImRlY3JlbWVudExpc3RlbmVyQ291bnQiLCJjdXJyZW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImRlc3Ryb3lDaGlsZCIsImNoaWxkIiwiJCRDaGlsZFNjb3BlIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwiZXEiLCJ3YXRjaEV4cHJlc3Npb25zIiwid2F0Y2hHcm91cEFjdGlvbiIsImNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkIiwiZmlyc3RSdW4iLCJuZXdWYWx1ZXMiLCJkZXJlZ2lzdGVyRm5zIiwic2hvdWxkQ2FsbCIsImV4cHIiLCJ1bndhdGNoRm4iLCIkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IiLCJfdmFsdWUiLCJuZXdMZW5ndGgiLCJib3RoTmFOIiwibmV3SXRlbSIsIm9sZEl0ZW0iLCJpbnRlcm5hbEFycmF5Iiwib2xkTGVuZ3RoIiwiY2hhbmdlRGV0ZWN0ZWQiLCJpbnRlcm5hbE9iamVjdCIsIiR3YXRjaENvbGxlY3Rpb25BY3Rpb24iLCJpbml0UnVuIiwidmVyeU9sZFZhbHVlIiwidHJhY2tWZXJ5T2xkVmFsdWUiLCJjaGFuZ2VEZXRlY3RvciIsIndhdGNoIiwid2F0Y2hlcnMiLCJkaXJ0eSIsIm5leHQiLCJsb2dJZHgiLCJhc3luY1Rhc2siLCJ0dGwiLCJ3YXRjaExvZyIsImFzeW5jUXVldWUiLCIkZXZhbCIsInRyYXZlcnNlU2NvcGVzTG9vcCIsImlzTmFOIiwibXNnIiwicG9zdERpZ2VzdFF1ZXVlIiwiZXZlbnROYW1lIiwiJGFwcGx5QXN5bmNFeHByZXNzaW9uIiwibmFtZWRMaXN0ZW5lcnMiLCJpbmRleE9mTGlzdGVuZXIiLCIkZW1pdCIsInRhcmdldFNjb3BlIiwibGlzdGVuZXJBcmdzIiwiY3VycmVudFNjb3BlIiwiJCRhc3luY1F1ZXVlIiwiJCRwb3N0RGlnZXN0UXVldWUiLCIkJGFwcGx5QXN5bmNRdWV1ZSIsInVyaSIsImlzSW1hZ2UiLCJub3JtYWxpemVkVmFsIiwicmVnZXgiLCJhZGp1c3RNYXRjaGVyIiwibWF0Y2hlciIsIiRzY2VNaW5FcnIiLCJlc2NhcGVGb3JSZWdleHAiLCJhZGp1c3RNYXRjaGVycyIsIm1hdGNoZXJzIiwiYWRqdXN0ZWRNYXRjaGVycyIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCJtc2llIiwic2NlIiwiaXNFbmFibGVkIiwicGFyc2VBcyIsImVudW1WYWx1ZSIsImxOYW1lIiwidmVuZG9yUHJlZml4IiwiZXZlbnRTdXBwb3J0IiwiYW5kcm9pZCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImJveGVlIiwidmVuZG9yUmVnZXgiLCJib2R5U3R5bGUiLCJ0cmFuc2l0aW9ucyIsImFuaW1hdGlvbnMiLCJ3ZWJraXRUcmFuc2l0aW9uIiwid2Via2l0QW5pbWF0aW9uIiwicHVzaFN0YXRlIiwiaGFzRXZlbnQiLCJkaXZFbG0iLCJoYW5kbGVSZXF1ZXN0Rm4iLCJ0cGwiLCJpZ25vcmVSZXF1ZXN0RXJyb3IiLCJoYW5kbGVFcnJvciIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwidHJhbnNmb3JtZXIiLCJodHRwT3B0aW9ucyIsInRlc3RhYmlsaXR5IiwiZmluZEJpbmRpbmdzIiwib3B0X2V4YWN0TWF0Y2giLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibWF0Y2hlcyIsImRhdGFCaW5kaW5nIiwiYmluZGluZ05hbWUiLCJmaW5kTW9kZWxzIiwicHJlZml4ZXMiLCJhdHRyaWJ1dGVFcXVhbHMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwid2hlblN0YWJsZSIsImRlZmVycmVkcyIsIiQkdGltZW91dElkIiwidXJsUGFyc2luZ05vZGUiLCJyZXF1ZXN0VXJsIiwib3JpZ2luVXJsIiwiZmlsdGVycyIsInN1ZmZpeCIsImN1cnJlbmN5RmlsdGVyIiwiZGF0ZUZpbHRlciIsImZpbHRlckZpbHRlciIsImpzb25GaWx0ZXIiLCJsaW1pdFRvRmlsdGVyIiwibG93ZXJjYXNlRmlsdGVyIiwibnVtYmVyRmlsdGVyIiwib3JkZXJCeUZpbHRlciIsInVwcGVyY2FzZUZpbHRlciIsImNvbXBhcmF0b3IiLCJwcmVkaWNhdGVGbiIsIm1hdGNoQWdhaW5zdEFueVByb3AiLCJjcmVhdGVQcmVkaWNhdGVGbiIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiaXRlbSIsImRlZXBDb21wYXJlIiwiZG9udE1hdGNoV2hvbGVPYmplY3QiLCJhY3R1YWxUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiZXhwZWN0ZWRWYWwiLCJtYXRjaEFueVByb3BlcnR5IiwiYWN0dWFsVmFsIiwiJGxvY2FsZSIsImZvcm1hdHMiLCJhbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsImZyYWN0aW9uU2l6ZSIsImZvcm1hdE51bWJlciIsIm51bWJlciIsImdyb3VwU2VwIiwiZGVjaW1hbFNlcCIsImlzRmluaXRlIiwiaXNOZWdhdGl2ZSIsImFicyIsIm51bVN0ciIsImZvcm1hdGVkVGV4dCIsImhhc0V4cG9uZW50IiwidG9GaXhlZCIsInBhcnNlRmxvYXQiLCJmcmFjdGlvbkxlbiIsIm1pbiIsInJvdW5kIiwiZnJhY3Rpb24iLCJsZ3JvdXAiLCJncm91cCIsInBhZE51bWJlciIsImRpZ2l0cyIsIm5lZyIsImRhdGVHZXR0ZXIiLCJkYXRlIiwiZGF0ZVN0ckdldHRlciIsInNob3J0Rm9ybSIsInRpbWVab25lR2V0dGVyIiwiem9uZSIsImdldFRpbWV6b25lT2Zmc2V0IiwicGFkZGVkWm9uZSIsImdldEZpcnN0VGh1cnNkYXlPZlllYXIiLCJ5ZWFyIiwiZGF5T2ZXZWVrT25GaXJzdCIsImdldERheSIsImdldFRodXJzZGF5VGhpc1dlZWsiLCJkYXRldGltZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwid2Vla0dldHRlciIsImZpcnN0VGh1cnMiLCJ0aGlzVGh1cnMiLCJhbXBtR2V0dGVyIiwiZ2V0SG91cnMiLCJqc29uU3RyaW5nVG9EYXRlIiwic3RyaW5nIiwiUl9JU084NjAxX1NUUiIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm0iLCJtcyIsImZvcm1hdCIsInRpbWV6b25lIiwiTlVNQkVSX1NUUklORyIsIkRBVEVfRk9STUFUU19TUExJVCIsInNldE1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiREFURV9GT1JNQVRTIiwib2JqZWN0Iiwic3BhY2luZyIsImxpbWl0IiwiSW5maW5pdHkiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwiY29tcCIsInJldmVyc2VDb21wYXJhdG9yIiwiZGVzY2VuZGluZyIsIm9iamVjdFRvU3RyaW5nIiwidjEiLCJ2MiIsIm1hcCIsInByZWRpY2F0ZSIsIm5nRGlyZWN0aXZlIiwibnVsbEZvcm1SZW5hbWVDb250cm9sIiwiY29udHJvbCIsIiRuYW1lIiwiRm9ybUNvbnRyb2xsZXIiLCJjb250cm9scyIsInBhcmVudEZvcm0iLCIkJHBhcmVudEZvcm0iLCJudWxsRm9ybUN0cmwiLCIkZXJyb3IiLCIkJHN1Y2Nlc3MiLCIkcGVuZGluZyIsIiRkaXJ0eSIsIiRwcmlzdGluZSIsIiR2YWxpZCIsIiRpbnZhbGlkIiwiJHN1Ym1pdHRlZCIsIiRhZGRDb250cm9sIiwiJHJvbGxiYWNrVmlld1ZhbHVlIiwiJGNvbW1pdFZpZXdWYWx1ZSIsIiQkcmVuYW1lQ29udHJvbCIsIm5ld05hbWUiLCJvbGROYW1lIiwiJHJlbW92ZUNvbnRyb2wiLCIkc2V0VmFsaWRpdHkiLCJhZGRTZXRWYWxpZGl0eU1ldGhvZCIsImN0cmwiLCJzZXQiLCJ1bnNldCIsIiRzZXREaXJ0eSIsIlBSSVNUSU5FX0NMQVNTIiwiRElSVFlfQ0xBU1MiLCIkc2V0UHJpc3RpbmUiLCJzZXRDbGFzcyIsIlNVQk1JVFRFRF9DTEFTUyIsIiRzZXRVbnRvdWNoZWQiLCIkc2V0U3VibWl0dGVkIiwic3RyaW5nQmFzZWRJbnB1dFR5cGUiLCIkZm9ybWF0dGVycyIsIiRpc0VtcHR5IiwidGV4dElucHV0VHlwZSIsImJhc2VJbnB1dFR5cGUiLCJjb21wb3NpbmciLCJldiIsIm5nVHJpbSIsIiR2aWV3VmFsdWUiLCIkJGhhc05hdGl2ZVZhbGlkYXRvcnMiLCIkc2V0Vmlld1ZhbHVlIiwiZGVmZXJMaXN0ZW5lciIsIm9yaWdWYWx1ZSIsImtleUNvZGUiLCIkcmVuZGVyIiwid2Vla1BhcnNlciIsImlzb1dlZWsiLCJleGlzdGluZ0RhdGUiLCJXRUVLX1JFR0VYUCIsIndlZWsiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJOYU4iLCJjcmVhdGVEYXRlUGFyc2VyIiwibWFwcGluZyIsImlzbyIsIklTT19EQVRFX1JFR0VYUCIsInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIiwicGFydCIsImNyZWF0ZURhdGVJbnB1dFR5cGUiLCJwYXJzZURhdGUiLCJpc1ZhbGlkRGF0ZSIsInBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUiLCJiYWRJbnB1dENoZWNrZXIiLCJwcmV2aW91c0RhdGUiLCIkb3B0aW9ucyIsIiQkcGFyc2VyTmFtZSIsIiRwYXJzZXJzIiwicGFyc2VkRGF0ZSIsIiRuZ01vZGVsTWluRXJyIiwidGltZXpvbmVPZmZzZXQiLCJuZ01pbiIsIm1pblZhbCIsIiR2YWxpZGF0b3JzIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwidmFsaWRpdHkiLCJWQUxJRElUWV9TVEFURV9QUk9QRVJUWSIsImJhZElucHV0IiwidHlwZU1pc21hdGNoIiwibnVtYmVySW5wdXRUeXBlIiwiTlVNQkVSX1JFR0VYUCIsInVybElucHV0VHlwZSIsIm1vZGVsVmFsdWUiLCJ2aWV3VmFsdWUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiY2hlY2tlZCIsInBhcnNlQ29uc3RhbnRFeHByIiwiZmFsbGJhY2siLCJwYXJzZUZuIiwiY2hlY2tib3hJbnB1dFR5cGUiLCJ0cnVlVmFsdWUiLCJuZ1RydWVWYWx1ZSIsImZhbHNlVmFsdWUiLCJuZ0ZhbHNlVmFsdWUiLCJjbGFzc0RpcmVjdGl2ZSIsImFycmF5RGlmZmVyZW5jZSIsImFycmF5Q2xhc3NlcyIsImFkZENsYXNzZXMiLCJkaWdlc3RDbGFzc0NvdW50cyIsInJlbW92ZUNsYXNzZXMiLCJjbGFzc0NvdW50cyIsImNsYXNzZXNUb1VwZGF0ZSIsInVwZGF0ZUNsYXNzZXMiLCJuZ0NsYXNzV2F0Y2hBY3Rpb24iLCIkaW5kZXgiLCJvbGQkaW5kZXgiLCJtb2QiLCJzZXRWYWxpZGl0eSIsInZhbGlkYXRpb25FcnJvcktleSIsImNyZWF0ZUFuZFNldCIsInVuc2V0QW5kQ2xlYW51cCIsImNhY2hlZFRvZ2dsZUNsYXNzIiwiUEVORElOR19DTEFTUyIsInRvZ2dsZVZhbGlkYXRpb25Dc3MiLCJpc09iamVjdEVtcHR5IiwiY29tYmluZWRTdGF0ZSIsInN3aXRjaFZhbHVlIiwiY2xhc3NDYWNoZSIsImlzVmFsaWQiLCJWQUxJRF9DTEFTUyIsIklOVkFMSURfQ0xBU1MiLCJSRUdFWF9TVFJJTkdfUkVHRVhQIiwibWFudWFsTG93ZXJjYXNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIm1hbnVhbFVwcGVyY2FzZSIsImRvY3VtZW50TW9kZSIsImlzQWN0aXZlXyIsImFjdGl2ZSIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIk1PVVNFX0VWRU5UX01BUCIsIm1vdXNlbGVhdmUiLCJtb3VzZWVudGVyIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJyZWFkeSIsInRyaWdnZXIiLCJmaXJlZCIsInJlbW92ZURhdGEiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjc3MiLCJsb3dlcmNhc2VkTmFtZSIsImdldE5hbWVkSXRlbSIsInNwZWNpZmllZCIsInJldCIsImdldFRleHQiLCIkZHYiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwibm9kZUNvdW50IiwianFMaXRlT24iLCJ0eXBlcyIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwiY29udGFpbnMiLCJvZmYiLCJvbmUiLCJvbkZuIiwicmVwbGFjZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjb250ZW50RG9jdW1lbnQiLCJwcmVwZW5kIiwid3JhcE5vZGUiLCJkZXRhY2giLCJhZnRlciIsIm5ld0VsZW1lbnQiLCJ0b2dnbGVDbGFzcyIsImNvbmRpdGlvbiIsImNsYXNzQ29uZGl0aW9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJleHRyYVBhcmFtZXRlcnMiLCJkdW1teUV2ZW50IiwiZXZlbnRGbnNDb3B5IiwiaGFuZGxlckFyZ3MiLCJhcmczIiwidW5iaW5kIiwiJGFuaW1hdGVNaW5FcnIiLCIkJHNlbGVjdG9ycyIsImNsYXNzTmFtZUZpbHRlciIsIiQkY2xhc3NOYW1lRmlsdGVyIiwicnVuQW5pbWF0aW9uUG9zdERpZ2VzdCIsImNhbmNlbEZuIiwiJCRjYW5jZWxGbiIsInJlc29sdmVFbGVtZW50Q2xhc3NlcyIsImhhc0NsYXNzZXMiLCJjYWNoZWRDbGFzc01hbmlwdWxhdGlvbiIsIm9wIiwiYXN5bmNQcm9taXNlIiwiY3VycmVudERlZmVyIiwiYXBwbHlTdHlsZXMiLCJzdHlsZXMiLCJmcm9tIiwidG8iLCJhbmltYXRlIiwiZW50ZXIiLCJsZWF2ZSIsIm1vdmUiLCIkJGFkZENsYXNzSW1tZWRpYXRlbHkiLCIkJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHkiLCJhZGQiLCJTVE9SQUdFX0tFWSIsImNyZWF0ZWRDYWNoZSIsIiQkc2V0Q2xhc3NJbW1lZGlhdGVseSIsIkNvbnRlbnQtVHlwZSIsIlsiLCJ7IiwiUEFUSF9NQVRDSCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImxvY2F0aW9uUHJvdG90eXBlIiwicGFyYW1WYWx1ZSIsIkxvY2F0aW9uIiwiQ09OU1RBTlRTIiwibnVsbCIsInRydWUiLCJmYWxzZSIsImNvbnN0YW50R2V0dGVyIiwiT1BFUkFUT1JTIiwiKyIsIi0iLCIqIiwiLyIsIiUiLCI9PT0iLCIhPT0iLCI9PSIsIiE9IiwiPCIsIj4iLCI8PSIsIj49IiwiJiYiLCJ8fCIsIiEiLCI9IiwifCIsIkVTQ0FQRSIsImYiLCJyIiwidCIsIiciLCJcIiIsImxleCIsInRva2VucyIsInJlYWRTdHJpbmciLCJwZWVrIiwicmVhZE51bWJlciIsImlzSWRlbnQiLCJyZWFkSWRlbnQiLCJpcyIsImlzV2hpdGVzcGFjZSIsImNoMiIsImNoMyIsIm9wMSIsIm9wMiIsIm9wMyIsIm9wZXJhdG9yIiwidGhyb3dFcnJvciIsImNoYXJzIiwiaXNFeHBPcGVyYXRvciIsInN0YXJ0IiwiZW5kIiwiY29sU3RyIiwicGVla0NoIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJyZXAiLCJaRVJPIiwic3RhdGVtZW50cyIsInByaW1hcnkiLCJleHBlY3QiLCJmaWx0ZXJDaGFpbiIsImNvbnN1bWUiLCJhcnJheURlY2xhcmF0aW9uIiwiZnVuY3Rpb25DYWxsIiwib2JqZWN0SW5kZXgiLCJmaWVsZEFjY2VzcyIsInBlZWtUb2tlbiIsImUxIiwiZTIiLCJlMyIsImU0IiwicGVla0FoZWFkIiwidW5hcnlGbiIsInJpZ2h0IiwiYmluYXJ5Rm4iLCJsZWZ0IiwiaXNCcmFuY2hpbmciLCJpbnB1dEZuIiwiYXJnc0ZuIiwiZXZlcnkiLCJhc3NpZ25tZW50IiwidGVybmFyeSIsIm1pZGRsZSIsImxvZ2ljYWxPUiIsImxvZ2ljYWxBTkQiLCJlcXVhbGl0eSIsInJlbGF0aW9uYWwiLCJhZGRpdGl2ZSIsIm11bHRpcGxpY2F0aXZlIiwidW5hcnkiLCJpbmRleEZuIiwiZm5HZXR0ZXIiLCJjb250ZXh0R2V0dGVyIiwiZXhwcmVzc2lvblRleHQiLCJlbGVtZW50Rm5zIiwidmFsdWVGbnMiLCJ5eSIsInkiLCJNTU1NIiwiTU1NIiwiTSIsIkgiLCJoaCIsIkVFRUUiLCJFRUUiLCJaIiwid3ciLCJ3IiwieGxpbmtIcmVmIiwicHJvcE5hbWUiLCJub3JtYWxpemVkIiwiaHRtbEF0dHIiLCJmb3JtRGlyZWN0aXZlRmFjdG9yeSIsImlzTmdGb3JtIiwiZm9ybUVsZW1lbnQiLCJoYW5kbGVGb3JtU3VibWlzc2lvbiIsInBhcmVudEZvcm1DdHJsIiwiYWxpYXMiLCJEQVRFX1JFR0VYUCIsIkRBVEVUSU1FTE9DQUxfUkVHRVhQIiwiTU9OVEhfUkVHRVhQIiwiVElNRV9SRUdFWFAiLCJpbnB1dFR5cGUiLCJkYXRldGltZS1sb2NhbCIsInRpbWUiLCJtb250aCIsInJhZGlvIiwiY2hlY2tib3giLCJoaWRkZW4iLCJzdWJtaXQiLCJyZXNldCIsImZpbGUiLCJjdHJscyIsIkNPTlNUQU5UX1ZBTFVFX1JFR0VYUCIsInRwbEF0dHIiLCIkY29tcGlsZSIsInRlbXBsYXRlRWxlbWVudCIsInRFbGVtZW50IiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJmb3JjZUFzeW5jRXZlbnRzIiwiYmx1ciIsImZvY3VzIiwiJGV2ZW50IiwicHJldmlvdXNFbGVtZW50cyIsIm5ld1Njb3BlIiwic3JjRXhwIiwib25sb2FkRXhwIiwiYXV0b1Njcm9sbEV4cCIsImF1dG9zY3JvbGwiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwicGFyc2VBc1Jlc291cmNlVXJsIiwiYWZ0ZXJBbmltYXRpb24iLCJ0aGlzQ2hhbmdlSWQiLCJ0cmltVmFsdWVzIiwiVU5UT1VDSEVEX0NMQVNTIiwiVE9VQ0hFRF9DTEFTUyIsIk5nTW9kZWxDb250cm9sbGVyIiwiJG1vZGVsVmFsdWUiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHVudG91Y2hlZCIsIiR0b3VjaGVkIiwicGFyc2VkTmdNb2RlbCIsInBhcnNlZE5nTW9kZWxBc3NpZ24iLCJuZ01vZGVsR2V0IiwibmdNb2RlbFNldCIsInBlbmRpbmdEZWJvdW5jZSIsIiQkc2V0T3B0aW9ucyIsImdldHRlclNldHRlciIsImludm9rZU1vZGVsR2V0dGVyIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkJCRwIiwiY3VycmVudFZhbGlkYXRpb25SdW5JZCIsIiRzZXRUb3VjaGVkIiwiJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIiwicGFyc2VyTmFtZSIsInBhcnNlclZhbGlkIiwicHJldlZhbGlkIiwicHJldk1vZGVsVmFsdWUiLCJhbGxvd0ludmFsaWQiLCIkJHJ1blZhbGlkYXRvcnMiLCJhbGxWYWxpZCIsIiQkd3JpdGVNb2RlbFRvU2NvcGUiLCJwYXJzZVZhbGlkIiwiZG9uZUNhbGxiYWNrIiwicHJvY2Vzc1BhcnNlRXJyb3JzIiwiZXJyb3JLZXkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwicHJvY2Vzc0FzeW5jVmFsaWRhdG9ycyIsInZhbGlkYXRvclByb21pc2VzIiwidmFsaWRhdGlvbkRvbmUiLCJsb2NhbFZhbGlkYXRpb25SdW5JZCIsIiQkcGFyc2VBbmRWYWxpZGF0ZSIsIndyaXRlVG9Nb2RlbElmTmVlZGVkIiwidXBkYXRlT25EZWZhdWx0IiwiJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCIsImRlYm91bmNlIiwiZGVib3VuY2VEZWxheSIsImZvcm1hdHRlcnMiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsInVwZGF0ZU9uIiwiREVGQVVMVF9SRUdFWFAiLCJ0aGF0IiwiQlJBQ0UiLCJJU19XSEVOIiwidXBkYXRlRWxlbWVudFRleHQiLCJuZXdUZXh0IiwibGFzdENvdW50IiwibnVtYmVyRXhwIiwid2hlbkV4cCIsIndoZW5zIiwid2hlbnNFeHBGbnMiLCJicmFjZVJlcGxhY2VtZW50Iiwid2F0Y2hSZW1vdmVyIiwiYXR0cmlidXRlTmFtZSIsInRtcE1hdGNoIiwid2hlbktleSIsImNvdW50SXNOYU4iLCJOR19SRU1PVkVEIiwibmdSZXBlYXRNaW5FcnIiLCJ1cGRhdGVTY29wZSIsInZhbHVlSWRlbnRpZmllciIsImtleUlkZW50aWZpZXIiLCJhcnJheUxlbmd0aCIsIiRmaXJzdCIsIiRsYXN0IiwiJG1pZGRsZSIsIiRvZGQiLCIkZXZlbiIsImdldEJsb2NrU3RhcnQiLCJnZXRCbG9ja0VuZCIsIm5nUmVwZWF0RW5kQ29tbWVudCIsImxocyIsInJocyIsImFsaWFzQXMiLCJ0cmFja0J5RXhwIiwidHJhY2tCeUV4cEdldHRlciIsInRyYWNrQnlJZEV4cEZuIiwidHJhY2tCeUlkQXJyYXlGbiIsInRyYWNrQnlJZE9iakZuIiwiaGFzaEZuTG9jYWxzIiwibGFzdEJsb2NrTWFwIiwibmV4dE5vZGUiLCJjb2xsZWN0aW9uTGVuZ3RoIiwidHJhY2tCeUlkIiwidHJhY2tCeUlkRm4iLCJjb2xsZWN0aW9uS2V5cyIsIm5leHRCbG9ja09yZGVyIiwicHJldmlvdXNOb2RlIiwibmV4dEJsb2NrTWFwIiwiaXRlbUtleSIsImJsb2NrS2V5IiwiTkdfSElERV9DTEFTUyIsIk5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MiLCJ0ZW1wQ2xhc3NlcyIsIm5ld1N0eWxlcyIsIm9sZFN0eWxlcyIsImNhc2VzIiwibmdTd2l0Y2hDb250cm9sbGVyIiwid2F0Y2hFeHByIiwic2VsZWN0ZWRUcmFuc2NsdWRlcyIsInNlbGVjdGVkRWxlbWVudHMiLCJwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyIsInNlbGVjdGVkU2NvcGVzIiwic3BsaWNlRmFjdG9yeSIsInNlbGVjdGVkVHJhbnNjbHVkZSIsImNhc2VFbGVtZW50Iiwic2VsZWN0ZWRTY29wZSIsImFuY2hvciIsIm5nT3B0aW9uc01pbkVyciIsIk5HX09QVElPTlNfUkVHRVhQIiwibnVsbE1vZGVsQ3RybCIsIm51bGxPcHRpb24iLCJ1bmtub3duT3B0aW9uIiwib3B0aW9uc01hcCIsIm5nTW9kZWxDdHJsIiwiZGF0YWJvdW5kIiwiaW5pdCIsIm5nTW9kZWxDdHJsXyIsIm51bGxPcHRpb25fIiwidW5rbm93bk9wdGlvbl8iLCJhZGRPcHRpb24iLCJyZW1vdmVPcHRpb24iLCJoYXNPcHRpb24iLCJyZW5kZXJVbmtub3duT3B0aW9uIiwidW5rbm93blZhbCIsInNldHVwQXNTaW5nbGUiLCJzZWxlY3RFbGVtZW50Iiwic2VsZWN0Q3RybCIsImVtcHR5T3B0aW9uIiwic2V0dXBBc011bHRpcGxlIiwibGFzdFZpZXciLCJzZXR1cEFzT3B0aW9ucyIsImNhbGxFeHByZXNzaW9uIiwiZXhwckZuIiwidmFsdWVOYW1lIiwia2V5TmFtZSIsInNlbGVjdGlvbkNoYW5nZWQiLCJ2YWx1ZXNGbiIsInNlbGVjdGVkS2V5IiwidHJhY2tGbiIsInRyYWNrS2V5c0NhY2hlIiwiZ2V0Vmlld1ZhbHVlIiwicmVuZGVyIiwidmlld1ZhbHVlRm4iLCJzZWxlY3RBc0ZuIiwiZ2V0TGFiZWxzIiwidG9EaXNwbGF5IiwiZGlzcGxheUZuIiwiY3JlYXRlSXNTZWxlY3RlZEZuIiwic2VsZWN0ZWRTZXQiLCJ0cmFja0luZGV4IiwiY29tcGFyZVZhbHVlRm4iLCJzY2hlZHVsZVJlbmRlcmluZyIsInJlbmRlclNjaGVkdWxlZCIsInVwZGF0ZUxhYmVsTWFwIiwibGFiZWxNYXAiLCJsYWJlbCIsImFkZGVkIiwib3B0aW9uR3JvdXBOYW1lIiwib3B0aW9uR3JvdXAiLCJleGlzdGluZ1BhcmVudCIsImV4aXN0aW5nT3B0aW9ucyIsImV4aXN0aW5nT3B0aW9uIiwiZ3JvdXBMZW5ndGgiLCJncm91cEluZGV4IiwibGFzdEVsZW1lbnQiLCJvcHRpb25JZCIsIm9wdGlvbkdyb3VwcyIsIm9wdGlvbkdyb3VwTmFtZXMiLCJpc1NlbGVjdGVkIiwiYW55U2VsZWN0ZWQiLCJncm91cEJ5Rm4iLCJvcHRpb25Hcm91cHNDYWNoZSIsIm9wdEdyb3VwVGVtcGxhdGUiLCJvcHRpb25UZW1wbGF0ZSIsIm9wdGlvbnNFeHAiLCJzZWxlY3RBcyIsInRyYWNrIiwibnVsbFNlbGVjdEN0cmwiLCJzZWxlY3RDdHJsTmFtZSIsInBhdHRlcm5FeHAiLCJpbnRWYWwiLCIkQXJpYVByb3ZpZGVyIiwiYXJpYUF0dHIiLCJuZWdhdGUiLCJhcmlhQ2FtZWxOYW1lIiwiYm9vbFZhbCIsImFyaWFIaWRkZW4iLCJhcmlhQ2hlY2tlZCIsImFyaWFEaXNhYmxlZCIsImFyaWFSZXF1aXJlZCIsImFyaWFJbnZhbGlkIiwiYXJpYU11bHRpbGluZSIsImFyaWFWYWx1ZSIsInRhYmluZGV4IiwiYmluZEtleXByZXNzIiwibmV3Q29uZmlnIiwiJCR3YXRjaEV4cHIiLCJuZ0FyaWFNb2R1bGUiLCIkYXJpYSIsInNob3VsZEF0dGFjaEF0dHIiLCJub3JtYWxpemVkQXR0ciIsImdldFNoYXBlIiwicm9sZSIsIm5nQXJpYVdhdGNoTW9kZWxWYWx1ZSIsImdldFJhZGlvUmVhY3Rpb24iLCJuZWVkc1RhYkluZGV4IiwibmdBcmlhQ2hlY2tib3hSZWFjdGlvbiIsInNoYXBlIiwibmdDbGljayIsImlzTm9kZU9uZU9mIiwibm9kZVR5cGVBcnJheSIsIm5nS2V5cHJlc3MiLCJOR19BTklNQVRFX0NISUxEUkVOIiwibmdBbmltYXRlQ2hpbGRyZW4iLCJib2QiLCJvZmZzZXRXaWR0aCIsIiRhbmltYXRlUHJvdmlkZXIiLCJleHRyYWN0RWxlbWVudE5vZGUiLCJFTEVNRU5UX05PREUiLCJwcmVwYXJlRWxlbWVudCIsInN0cmlwQ29tbWVudHNGcm9tRWxlbWVudCIsImlzTWF0Y2hpbmdFbGVtZW50IiwiZWxtMSIsImVsbTIiLCJzZWxlY3RvcnMiLCJOR19BTklNQVRFX1NUQVRFIiwiTkdfQU5JTUFURV9DTEFTU19OQU1FIiwicm9vdEFuaW1hdGVTdGF0ZSIsInJ1bm5pbmciLCIkJCRqcUxpdGUiLCJjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQiLCJzdHJ1Y3R1cmFsIiwiZGlzYWJsZWQiLCJwYXJzZUFuaW1hdGVPcHRpb25zIiwicnVubmluZ0FuaW1hdGlvbnMiLCJsb29rdXAiLCJtYXRjaGluZ0FuaW1hdGlvbiIsImZsYWdNYXAiLCJrbGFzcyIsInNlbGVjdG9yRmFjdG9yeU5hbWUiLCJhbmltYXRpb25SdW5uZXIiLCJhbmltYXRpb25FdmVudCIsInJlZ2lzdGVyQW5pbWF0aW9uIiwiYW5pbWF0aW9uRmFjdG9yeSIsImFmdGVyRm4iLCJiZWZvcmVGbiIsImJlZm9yZSIsImNhbmNlbGxhdGlvbnMiLCJhbGxDb21wbGV0ZUZuIiwiYWZ0ZXJBbmltYXRpb25Db21wbGV0ZSIsImNsYXNzTmFtZUFkZCIsImNsYXNzTmFtZVJlbW92ZSIsImlzU2V0Q2xhc3NPcGVyYXRpb24iLCJpc0NsYXNzQmFzZWQiLCJjdXJyZW50Q2xhc3NOYW1lIiwiaXNBbmltYXRhYmxlQ2xhc3NOYW1lIiwiYmVmb3JlQ29tcGxldGUiLCJiZWZvcmVDYW5jZWwiLCJhZnRlckNvbXBsZXRlIiwiYWZ0ZXJDYW5jZWwiLCJhbmltYXRpb25Mb29rdXAiLCJjcmVhdGVkIiwicGVyZm9ybUFuaW1hdGlvbiIsImFmdGVyRWxlbWVudCIsImRvbU9wZXJhdGlvbiIsImZpcmVET01DYWxsYmFjayIsImFuaW1hdGlvblBoYXNlIiwiZWxlbWVudEV2ZW50cyIsImZpcmVCZWZvcmVDYWxsYmFja0FzeW5jIiwiZmlyZUFmdGVyQ2FsbGJhY2tBc3luYyIsImZpcmVEb25lQ2FsbGJhY2tBc3luYyIsImZpcmVET01PcGVyYXRpb24iLCJoYXNCZWVuUnVuIiwiY2xvc2VBbmltYXRpb24iLCJydW5uZXIiLCJjbGVhbnVwIiwibG9jYWxBbmltYXRpb25Db3VudCIsIm5vb3BDYW5jZWwiLCJhbmltYXRpb25zRGlzYWJsZWQiLCJuZ0FuaW1hdGVTdGF0ZSIsInRvdGFsQWN0aXZlQW5pbWF0aW9ucyIsInRvdGFsQWN0aXZlIiwibGFzdEFuaW1hdGlvbiIsInNraXBBbmltYXRpb24iLCJhbmltYXRpb25zVG9DYW5jZWwiLCJvcGVyYXRpb24iLCJhY3RpdmVMZWF2ZUFuaW1hdGlvbiIsImdsb2JhbEFuaW1hdGlvbkNvdW50ZXIiLCJjYW5jZWxsZWQiLCJjYW5jZWxDaGlsZEFuaW1hdGlvbnMiLCJyZW1vdmVBbmltYXRpb25zIiwiYWxsb3dDaGlsZEFuaW1hdGlvbnMiLCJwYXJlbnRSdW5uaW5nQW5pbWF0aW9uIiwiaGFzUGFyZW50IiwiaXNSb290IiwiYW5pbWF0ZUNoaWxkcmVuRmxhZyIsImRlcmVnaXN0ZXJXYXRjaCIsImhhc0NhY2hlIiwiYyIsImVsZW1lbnROb2RlIiwiJCRhbmltYXRlUmVmbG93IiwiY2xlYXJDYWNoZUFmdGVyUmVmbG93IiwiY2FuY2VsQW5pbWF0aW9uUmVmbG93IiwiYW5pbWF0aW9uUmVmbG93UXVldWUiLCJsb29rdXBDYWNoZSIsImFmdGVyUmVmbG93IiwiYW5pbWF0aW9uQ2xvc2VIYW5kbGVyIiwidG90YWxUaW1lIiwiYW5pbWF0aW9uRWxlbWVudFF1ZXVlIiwiZnV0dXJlVGltZXN0YW1wIiwibm93IiwiY2xvc2luZ1RpbWVzdGFtcCIsImNsb3NpbmdUaW1lciIsImNsb3NlQWxsQW5pbWF0aW9ucyIsImVsZW1lbnREYXRhIiwiTkdfQU5JTUFURV9DU1NfREFUQV9LRVkiLCJjbG9zZUFuaW1hdGlvbkZucyIsImdldEVsZW1lbnRBbmltYXRpb25EZXRhaWxzIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkRlbGF5IiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EZWxheSIsImVsZW1lbnRTdHlsZXMiLCJ0cmFuc2l0aW9uRHVyYXRpb25TdHlsZSIsIlRSQU5TSVRJT05fUFJPUCIsIkRVUkFUSU9OX0tFWSIsInBhcnNlTWF4VGltZSIsInRyYW5zaXRpb25EZWxheVN0eWxlIiwiREVMQVlfS0VZIiwiQU5JTUFUSU9OX1BST1AiLCJhRHVyYXRpb24iLCJBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWSIsInRvdGFsIiwibWF4VmFsdWUiLCJnZXRDYWNoZUtleSIsInBhcmVudElEIiwiTkdfQU5JTUFURV9QQVJFTlRfS0VZIiwicGFyZW50Q291bnRlciIsImFuaW1hdGVTZXR1cCIsImV2ZW50Q2FjaGVLZXkiLCJpdGVtSW5kZXgiLCJzdGFnZ2VyIiwic3RhZ2dlckNsYXNzTmFtZSIsInN0YWdnZXJDYWNoZUtleSIsImFwcGx5Q2xhc3NlcyIsImZvcm1lckRhdGEiLCJ0aW1pbmdzIiwiYmxvY2tUcmFuc2l0aW9uIiwiYmxvY2tBbmltYXRpb24iLCJibG9ja1RyYW5zaXRpb25zIiwiYmxvY2tBbmltYXRpb25zIiwiYW5pbWF0ZVJ1biIsImFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlIiwib25FbmQiLCJjc3MzQW5pbWF0aW9uRXZlbnRzIiwib25BbmltYXRpb25Qcm9ncmVzcyIsImFjdGl2ZUNsYXNzTmFtZSIsInBlbmRpbmdDbGFzc05hbWUiLCJzdGFnZ2VyVGltZW91dCIsImFuaW1hdGVDbG9zZSIsImFwcGxpZWRTdHlsZXMiLCJyZW1vdmVQcm9wZXJ0eSIsIm9yaWdpbmFsRXZlbnQiLCJ0aW1lU3RhbXAiLCIkbWFudWFsVGltZVN0YW1wIiwiZWxhcHNlZFRpbWUiLCJFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTIiwic3RhcnRUaW1lIiwibWF4RGVsYXlUaW1lIiwibWF4RHVyYXRpb24iLCJzdGFnZ2VyVGltZSIsInRyYW5zaXRpb25TdGFnZ2VyRGVsYXkiLCJhbmltYXRpb25TdGFnZ2VyRGVsYXkiLCJDU1NfUFJFRklYIiwibWF4RGVsYXkiLCJPTkVfU0VDT05EIiwib2xkU3R5bGUiLCJBTklNQVRJT05FTkRfRVZFTlQiLCJUUkFOU0lUSU9ORU5EX0VWRU5UIiwiYW5pbWF0aW9uVGltZSIsIkNMT1NJTkdfVElNRV9CVUZGRVIiLCJib29sIiwiUFJPUEVSVFlfS0VZIiwiQU5JTUFUSU9OX1BMQVlTVEFURV9LRVkiLCJhbmltYXRlQmVmb3JlIiwiYW5pbWF0ZUFmdGVyIiwiYW5pbWF0aW9uQ29tcGxldGUiLCJwcmVSZWZsb3dDYW5jZWxsYXRpb24iLCJzdWZmaXhDbGFzc2VzIiwib250cmFuc2l0aW9uZW5kIiwib253ZWJraXR0cmFuc2l0aW9uZW5kIiwib25hbmltYXRpb25lbmQiLCJvbndlYmtpdGFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbkNvbXBsZXRlZCIsImJlZm9yZVNldENsYXNzIiwiY2FuY2VsbGF0aW9uTWV0aG9kIiwiYmVmb3JlQWRkQ2xhc3MiLCJiZWZvcmVSZW1vdmVDbGFzcyIsImV4cG9ydHMiLCJtZXJnZSIsImFuY2VzdG9ycyIsImZpcnN0Iiwic2Vjb25kIiwib2JqZWN0S2V5cyIsImNlaWwiLCJpbmhlcml0UGFyYW1zIiwiY3VycmVudFBhcmFtcyIsIm5ld1BhcmFtcyIsIiRjdXJyZW50IiwiJHRvIiwicGFyZW50UGFyYW1zIiwicGFyZW50cyIsImluaGVyaXRlZCIsImluaGVyaXRMaXN0IiwiZXF1YWxGb3JLZXlzIiwiZmlsdGVyQnlLZXlzIiwiZmlsdGVyZWQiLCJvbWl0IiwiJFJlc29sdmUiLCJWSVNJVF9JTl9QUk9HUkVTUyIsIlZJU0lUX0RPTkUiLCJOT1RISU5HIiwiTk9fREVQRU5ERU5DSUVTIiwiTk9fTE9DQUxTIiwiTk9fUEFSRU5UIiwiJCRwcm9taXNlcyIsIiQkdmFsdWVzIiwic3R1ZHkiLCJpbnZvY2FibGVzIiwidmlzaXQiLCJ2aXNpdGVkIiwiY3ljbGUiLCJwbGFuIiwicGFyYW0iLCJpc1Jlc29sdmUiLCJpbnZvY2FibGVLZXlzIiwid2FpdCIsIm1lcmdlZCIsIiQkaW5oZXJpdGVkVmFsdWVzIiwicmVzb2x1dGlvbiIsImZhaWwiLCIkJGZhaWx1cmUiLCJpbnZvY2FibGUiLCJvbmZhaWx1cmUiLCJpbnZvY2F0aW9uIiwicHJvY2VlZCIsIndhaXRQYXJhbXMiLCJkZXAiLCIkVGVtcGxhdGVGYWN0b3J5IiwiZnJvbUNvbmZpZyIsImZyb21TdHJpbmciLCJmcm9tVXJsIiwidGVtcGxhdGVQcm92aWRlciIsImZyb21Qcm92aWRlciIsIlVybE1hdGNoZXIiLCJwYXJlbnRNYXRjaGVyIiwiYWRkUGFyYW1ldGVyIiwicGFyYW1OYW1lcyIsIiQkVU1GUCIsIlBhcmFtIiwicXVvdGVSZWdFeHAiLCJzcXVhc2giLCJzdXJyb3VuZFBhdHRlcm4iLCJtYXRjaERldGFpbHMiLCJpc1NlYXJjaCIsInNlZ21lbnQiLCJjZmciLCJwbGFjZWhvbGRlciIsInNlYXJjaFBsYWNlaG9sZGVyIiwiY29tcGlsZWQiLCIkJG5ldyIsIlBhcmFtU2V0Iiwic291cmNlU2VhcmNoIiwic291cmNlUGF0aCIsInN0cmljdCIsImNhc2VJbnNlbnNpdGl2ZSIsIiQkcGFyYW1OYW1lcyIsIiRVcmxNYXRjaGVyRmFjdG9yeSIsInZhbFRvU3RyaW5nIiwidmFsRnJvbVN0cmluZyIsInJlZ2V4cE1hdGNoZXMiLCJnZXREZWZhdWx0Q29uZmlnIiwiaXNTdHJpY3RNb2RlIiwiaXNDYXNlSW5zZW5zaXRpdmUiLCJpc0luamVjdGFibGUiLCJmbHVzaFR5cGVRdWV1ZSIsInR5cGVRdWV1ZSIsIiR0eXBlcyIsImRlZiIsImRlZmF1bHRTcXVhc2hQb2xpY3kiLCJlbnF1ZXVlIiwiZGVmYXVsdFR5cGVzIiwiZW5jb2RlIiwiZGVjb2RlIiwiY2FwdHVyZSIsImFueSIsIiQkZ2V0RGVmYXVsdFZhbHVlIiwic3RyaWN0TW9kZSIsImlzTWF0Y2hlciIsImRlZmluaXRpb25GbiIsInVud3JhcFNob3J0aGFuZCIsImlzU2hvcnRoYW5kIiwiJCRmbiIsImdldFR5cGUiLCJ1cmxUeXBlIiwiZ2V0QXJyYXlNb2RlIiwiYXJyYXlEZWZhdWx0cyIsImFycmF5UGFyYW1Ob21lbmNsYXR1cmUiLCJnZXRTcXVhc2hQb2xpY3kiLCJpc09wdGlvbmFsIiwiZ2V0UmVwbGFjZSIsImFycmF5TW9kZSIsImNvbmZpZ3VyZWRLZXlzIiwiZGVmYXVsdFBvbGljeSIsIiR2YWx1ZSIsImhhc1JlcGxhY2VWYWwiLCIkcmVwbGFjZSIsInJlcGxhY2VtZW50IiwiJGFzQXJyYXkiLCJkeW5hbWljIiwiJCRwYXJlbnQiLCIkJGtleXMiLCJpZ25vcmUiLCJyZXZlcnNlIiwicGFyYW1zZXQiLCJwYXJhbVZhbHVlcyIsIiQkZXF1YWxzIiwicGFyYW1WYWx1ZXMxIiwicGFyYW1WYWx1ZXMyIiwiZXF1YWwiLCIkJHZhbGlkYXRlcyIsIiRVcmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHVybE1hdGNoZXJGYWN0b3J5IiwicmVnRXhwUHJlZml4IiwicmUiLCJpbnRlcnBvbGF0ZSIsImhhbmRsZUlmTWF0Y2giLCJoYW5kbGVyIiwiJG1hdGNoIiwiYXBwZW5kQmFzZVBhdGgiLCJpc0h0bWw1IiwiYWJzb2x1dGUiLCJ1cGRhdGUiLCJldnQiLCJydWxlIiwiaGFuZGxlZCIsImlnbm9yZVVwZGF0ZSIsImxhc3RQdXNoZWRVcmwiLCJydWxlcyIsIm90aGVyd2lzZSIsImxpc3RlbiIsImludGVyY2VwdERlZmVycmVkIiwic3luYyIsInJlYWQiLCJ1cmxNYXRjaGVyIiwiJCRhdm9pZFJlc3luYyIsInZhbGlkYXRlcyIsInNsYXNoIiwicmVkaXJlY3QiLCJoYW5kbGVySXNTdHJpbmciLCJzdHJhdGVnaWVzIiwiZ2xvYmFsIiwic3RpY2t5IiwiZGVmZXJJbnRlcmNlcHQiLCIkU3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsImlzUmVsYXRpdmUiLCJzdGF0ZU5hbWUiLCJmaW5kU3RhdGUiLCJzdGF0ZU9yTmFtZSIsImlzU3RyIiwicmVsIiwicGF0aExlbmd0aCIsInN0YXRlcyIsInF1ZXVlU3RhdGUiLCJwYXJlbnROYW1lIiwiZmx1c2hRdWV1ZWRDaGlsZHJlbiIsInF1ZXVlZCIsInJlZ2lzdGVyU3RhdGUiLCJzdGF0ZUJ1aWxkZXIiLCIkZGVsZWdhdGVzIiwiYWJzdHJhY3RLZXkiLCIkc3RhdGVQYXJhbXMiLCIkc3RhdGUiLCJuYXZpZ2FibGUiLCJ0cmFuc2l0aW9uVG8iLCJpc0dsb2IiLCJkb2VzU3RhdGVNYXRjaEdsb2IiLCJnbG9iIiwiZ2xvYlNlZ21lbnRzIiwiZnVuYyIsIiR2aWV3IiwiJHJlc29sdmUiLCIkdXJsUm91dGVyIiwiaGFuZGxlUmVkaXJlY3QiLCJUcmFuc2l0aW9uQWJvcnRlZCIsInJldHJ5IiwiJHJldHJ5IiwiVHJhbnNpdGlvbkZhaWxlZCIsInJldHJ5VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJUcmFuc2l0aW9uU3VwZXJzZWRlZCIsInRvUGFyYW1zIiwicmVzb2x2ZVN0YXRlIiwicGFyYW1zQXJlRmlsdGVyZWQiLCJ2aWV3cyIsInZpZXciLCJpbmplY3RhYmxlcyIsImxvYWQiLCJjb250cm9sbGVyUHJvdmlkZXIiLCJpbmplY3RMb2NhbHMiLCIkJGNvbnRyb2xsZXIiLCIkJGNvbnRyb2xsZXJBcyIsIlRyYW5zaXRpb25QcmV2ZW50ZWQiLCJnbyIsInJlbGF0aXZlIiwiZnJvbVBhcmFtcyIsImZyb21QYXRoIiwidG9TdGF0ZSIsInJlZGlyZWN0UmVzdWx0IiwidG9QYXRoIiwia2VlcCIsInRvTG9jYWxzIiwib3duUGFyYW1zIiwic2hvdWxkVHJpZ2dlclJlbG9hZCIsInJlbG9hZE9uU2VhcmNoIiwiZW50ZXJpbmciLCJleGl0aW5nIiwib25FeGl0Iiwib25FbnRlciIsImluY2x1ZGVzIiwibG9zc3kiLCJuYXYiLCJjb21wb3NpdGVOYW1lIiwiYWJzdHJhY3QiLCIkVmlld1Byb3ZpZGVyIiwiJHRlbXBsYXRlRmFjdG9yeSIsIiRWaWV3U2Nyb2xsUHJvdmlkZXIiLCJ1c2VBbmNob3JTY3JvbGwiLCIkVmlld0RpcmVjdGl2ZSIsIiR1aVZpZXdTY3JvbGwiLCJnZXRSZW5kZXJlciIsInN0YXRpY3MiLCJjYiIsIiRhbmltYXRvciIsImNsZWFudXBMYXN0VmlldyIsInByZXZpb3VzRWwiLCJjdXJyZW50RWwiLCJyZW5kZXJlciIsInVwZGF0ZVZpZXciLCJmaXJzdFRpbWUiLCJnZXRVaVZpZXdOYW1lIiwicHJldmlvdXNMb2NhbHMiLCJsYXRlc3RMb2NhbHMiLCIkVmlld0RpcmVjdGl2ZUZpbGwiLCJpbml0aWFsIiwidWlWaWV3IiwicGFyc2VTdGF0ZVJlZiIsInJlZiIsInByZXBhcnNlZCIsInBhcmFtRXhwciIsInN0YXRlQ29udGV4dCIsImVsIiwic3RhdGVEYXRhIiwiJFN0YXRlUmVmRGlyZWN0aXZlIiwiYWxsb3dlZE9wdGlvbnMiLCJ1aVNyZWZBY3RpdmUiLCJ1aVNyZWYiLCJuZXdIcmVmIiwiaXNBbmNob3IiLCJpc0Zvcm0iLCJvcHRpb25zT3ZlcnJpZGUiLCJ1aVNyZWZPcHRzIiwiYWN0aXZlRGlyZWN0aXZlIiwiJCRzZXRTdGF0ZUluZm8iLCJpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50IiwiJFN0YXRlUmVmQWN0aXZlRGlyZWN0aXZlIiwiaXNNYXRjaCIsImFjdGl2ZUNsYXNzIiwidWlTcmVmQWN0aXZlRXEiLCIkSXNTdGF0ZUZpbHRlciIsImlzRmlsdGVyIiwiJEluY2x1ZGVkQnlTdGF0ZUZpbHRlciIsImluY2x1ZGVzRmlsdGVyIiwic2VhcmNoUGFyYW1zIiwiZGVjb2RlUGF0aEFycmF5IiwicmV2ZXJzZVN0cmluZyIsInVucXVvdGVEYXNoZXMiLCJhbGxSZXZlcnNlZCIsInBhcmFtTmFtZSIsInBhcmFtZXRlcnMiLCJuVG90YWwiLCJuUGF0aCIsInBhcmFtVmFsIiwiZW5jb2RlRGFzaGVzIiwiaXNQYXRoUGFyYW0iLCJpc0RlZmF1bHRWYWx1ZSIsImVuY29kZWQiLCJuZXh0U2VnbWVudCIsIiRzdWJQYXR0ZXJuIiwic3ViIiwiQXJyYXlUeXBlIiwiYmluZFRvIiwiY2FsbGJhY2tOYW1lIiwiYXJyYXlXcmFwIiwiYXJyYXlVbndyYXAiLCJmYWxzZXkiLCJhcnJheUhhbmRsZXIiLCJhbGxUcnV0aHlNb2RlIiwiYXJyYXlFcXVhbHNIYW5kbGVyIiwidmFsMSIsInZhbDIiLCIkYXJyYXlNb2RlIiwibWRNZWRpYUZhY3RvcnkiLCIkbWRDb25zdGFudCIsIiRtZE1lZGlhIiwicXVlcnkiLCJ2YWxpZGF0ZWQiLCJxdWVyaWVzIiwidmFsaWRhdGUiLCJNRURJQSIsIm1xbHMiLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJvblF1ZXJ5Q2hhbmdlIiwibWVkaWEiLCJnZXRRdWVyeSIsImdldFJlc3BvbnNpdmVBdHRyaWJ1dGUiLCJNRURJQV9QUklPUklUWSIsIm1lZGlhTmFtZSIsIm5vcm1hbGl6ZWROYW1lIiwiZ2V0Tm9ybWFsaXplZE5hbWUiLCJ3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzIiwiYXR0ck5hbWVzIiwid2F0Y2hGbiIsInVud2F0Y2hGbnMiLCJub3JtYWxpemVDYWNoZSIsIk1kQ29yZUNvbmZpZ3VyZSIsIiRtZFRoZW1pbmdQcm92aWRlciIsInJBRkRlY29yYXRvciIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCJiYWNrZ3JvdW5kUGFsZXR0ZSIsInRocm90dGxlIiwicXVldWVBcmdzIiwiYWxyZWFkeVF1ZXVlZCIsInF1ZXVlQ2IiLCJNZENvbnN0YW50RmFjdG9yeSIsInZlbmRvclByb3BlcnR5Iiwid2Via2l0IiwiS0VZX0NPREUiLCJFTlRFUiIsIlNQQUNFIiwiTEVGVF9BUlJPVyIsIlVQX0FSUk9XIiwiUklHSFRfQVJST1ciLCJET1dOX0FSUk9XIiwiVFJBTlNJVElPTkVORCIsIkFOSU1BVElPTkVORCIsIlRSQU5TRk9STSIsIlRSQU5TRk9STV9PUklHSU4iLCJUUkFOU0lUSU9OIiwiVFJBTlNJVElPTl9EVVJBVElPTiIsIkFOSU1BVElPTl9QTEFZX1NUQVRFIiwiQU5JTUFUSU9OX0RVUkFUSU9OIiwiQU5JTUFUSU9OX05BTUUiLCJBTklNQVRJT05fVElNSU5HIiwiQU5JTUFUSU9OX0RJUkVDVElPTiIsInNtIiwiZ3Qtc20iLCJtZCIsImd0LW1kIiwibGciLCJndC1sZyIsIkl0ZXJhdG9yIiwicmVsb29wIiwiZ2V0SXRlbXMiLCJfaXRlbXMiLCJpblJhbmdlIiwiaGFzTmV4dCIsImhhc1ByZXZpb3VzIiwiaXRlbUF0IiwiZmluZEJ5IiwiZmluZFN1YnNlcXVlbnRJdGVtIiwiYmFja3dhcmRzIiwidHJ1ZUZuIiwiY3VySW5kZXgiLCJuZXh0SW5kZXgiLCJmb3VuZEl0ZW0iLCJwcmV2aW91cyIsIm5leHRVbmlxdWVJZCIsImdldE5vZGUiLCJVdGlsIiwicGVyZm9ybWFuY2UiLCJjbGllbnRSZWN0Iiwib2Zmc2V0UGFyZW50IiwiaXNPZmZzZXRSZWN0Iiwibm9kZVJlY3QiLCJvZmZzZXRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiZm9yY2VGb2N1cyIsImZvY3VzT25DbGljayIsIiRmb2N1cyIsIm5ld0V2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsIiRtYXRlcmlhbCIsImRpc3BhdGNoRXZlbnQiLCJ0cmFuc2l0aW9uRW5kUHJvbWlzZSIsImZpbmlzaGVkIiwiZmFrZU5nTW9kZWwiLCIkZmFrZSIsInJlY2VudCIsImRpZ2l0IiwiZGlzY29ubmVjdFNjb3BlIiwiJCRkaXNjb25uZWN0ZWQiLCJyZWNvbm5lY3RTY29wZSIsImdldENsb3Nlc3QiLCJ0YWdOYW1lIiwiQXJpYVNlcnZpY2UiLCJkZWZhdWx0VmFsdWUiLCJjaGlsZEhhc0F0dHJpYnV0ZSIsImV4cGVjdEFzeW5jIiwiZGVmYXVsdFZhbHVlR2V0dGVyIiwiZXhwZWN0V2l0aFRleHQiLCJpc0hpZGRlbiIsImN1cnJlbnRTdHlsZSIsImRpc3BsYXkiLCJoYXNDaGlsZHJlbiIsImhhc0NoaWxkTm9kZXMiLCJoYXNBdHRyIiwibWRDb21waWxlclNlcnZpY2UiLCJ0cmFuc2Zvcm1UZW1wbGF0ZSIsInJ1bkhhbmRsZXJzIiwiaGFuZGxlckV2ZW50IiwiaGFuZGxlck5hbWUiLCJIQU5ETEVSUyIsInBvaW50ZXIiLCJnZXN0dXJlU3RhcnQiLCJsYXN0UG9pbnRlciIsInR5cGVzTWF0Y2giLCJlbmRUaW1lIiwibWFrZVN0YXJ0UG9pbnRlciIsImdlc3R1cmVNb3ZlIiwidXBkYXRlUG9pbnRlclN0YXRlIiwiZ2VzdHVyZUVuZCIsImdldEV2ZW50UG9pbnQiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwb2ludCIsIngiLCJwYWdlWCIsInBhZ2VZIiwiZGlzdGFuY2VYIiwic3RhcnRYIiwiZGlzdGFuY2VZIiwic3RhcnRZIiwiZGlzdGFuY2UiLCJzcXJ0IiwiZGlyZWN0aW9uWCIsImRpcmVjdGlvblkiLCJkdXJhdGlvbiIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsInN0YXJ0UG9pbnRlciIsIlNUQVJUX0VWRU5UUyIsIk1PVkVfRVZFTlRTIiwiRU5EX0VWRU5UUyIsInZlbmRvciIsIm9wZXJhIiwiaXNJb3MiLCJpc0FuZHJvaWQiLCJzaG91bGRIaWphY2tDbGlja3MiLCJpc0tleUNsaWNrIiwiY2xpZW50WCIsImNsaWVudFkiLCIkJE1kR2VzdHVyZUhhbmRsZXIiLCJhZGRIYW5kbGVyIiwicmVnaXN0ZXJFbGVtZW50IiwibWF4RGlzdGFuY2UiLCJvblN0YXJ0Iiwib25DYW5jZWwiLCJyZWdpc3RlcmVkUGFyZW50Iiwib25Nb3ZlIiwiZHgiLCJkeSIsIm1pbkRpc3RhbmNlIiwiaG9yaXpvbnRhbCIsInNob3VsZFN0YXJ0RHJhZyIsInNob3VsZENhbmNlbCIsImRyYWdQb2ludGVyIiwiZGlzcGF0Y2hEcmFnTW92ZSIsImlzUnVubmluZyIsIm1pblZlbG9jaXR5IiwiZXZlbnRUeXBlIiwiR2VzdHVyZUhhbmRsZXIiLCJqUXVlcnlEaXNwYXRjaEV2ZW50Iiwic3JjRXZlbnQiLCJldmVudFBvaW50ZXIiLCJldmVudE9iaiIsIkV2ZW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJhbHRLZXkiLCJuYXRpdmVEaXNwYXRjaEV2ZW50IiwiZGV0YWlsIiwiaW5pdEN1c3RvbUV2ZW50IiwicGFyZW50VGFyZ2V0IiwiZ2V0TmVhcmVzdFBhcmVudCIsInBhcmVudFRhcmdldE9wdGlvbnMiLCIkbWRHZXN0dXJlIiwib25EZXN0cm95IiwiSW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIiLCJpbnRlcmltRmFjdG9yeU5hbWUiLCJzZXREZWZhdWx0cyIsInByb3ZpZGVyQ29uZmlnIiwib3B0aW9uc0ZhY3RvcnkiLCJtZXRob2RzIiwiRVhQT1NFRF9NRVRIT0RTIiwiYWRkTWV0aG9kIiwiY3VzdG9tTWV0aG9kcyIsImFkZFByZXNldCIsInByZXNldHMiLCJhcmdPcHRpb24iLCIkJGludGVyaW1FbGVtZW50Iiwic2hvd0ludGVyaW1FbGVtZW50Iiwib3B0cyIsIl9vcHRpb25zIiwiaW50ZXJpbUVsZW1lbnRTZXJ2aWNlIiwic2hvdyIsImRlZmF1bHRPcHRpb25zIiwiaW52b2tlRmFjdG9yeSIsImRlZmF1bHRWYWwiLCJwdWJsaWNTZXJ2aWNlIiwiZGVmYXVsdE1ldGhvZHMiLCJoaWRlIiwiUHJlc2V0IiwicHJlc2V0RGVmYXVsdHMiLCJwcmVzZXRNZXRob2RzIiwiJHR5cGUiLCJtZXRob2ROYW1lIiwiSW50ZXJpbUVsZW1lbnRGYWN0b3J5IiwiJG1kQ29tcGlsZXIiLCIkbWRUaGVtaW5nIiwicmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzIiwidXNlc1N0YW5kYXJkU3ltYm9scyIsInByb2Nlc3NUZW1wbGF0ZSIsImludGVyaW1FbGVtZW50IiwiSW50ZXJpbUVsZW1lbnQiLCJoaWRlVGltZW91dCIsInByZXNlcnZlU2NvcGUiLCJvblNob3ciLCJvblJlbW92ZSIsInNob3dGYWlsZWQiLCJjb21waWxlRGF0YSIsInN0YXJ0SGlkZVRpbWVvdXQiLCJoaWRlRGVsYXkiLCJ0aGVtYWJsZSIsIm9uQ29tcGxldGUiLCJjYW5jZWxUaW1lb3V0IiwiQ29tcG9uZW50UmVnaXN0cnkiLCJpc1ZhbGlkSUQiLCJpbnN0YW5jZXMiLCJwZW5kaW5ncyIsIm5vdEZvdW5kRXJyb3IiLCJnZXRJbnN0YW5jZXMiLCIkJG1kSGFuZGxlIiwiZGVyZWdpc3RlciIsInJlc29sdmVXaGVuIiwiZGZkIiwiSW5rUmlwcGxlRGlyZWN0aXZlIiwiJG1kSW5rUmlwcGxlIiwiYXR0YWNoQ2hlY2tib3hCZWhhdmlvciIsImF0dGFjaEJ1dHRvbkJlaGF2aW9yIiwiSW5rUmlwcGxlU2VydmljZSIsImF0dGFjaCIsImlzRkFCIiwiaXNNZW51SXRlbSIsImNlbnRlciIsImRpbUJhY2tncm91bmQiLCJmaXRSaXBwbGUiLCJhdHRhY2hUYWJCZWhhdmlvciIsIm91dGxpbmUiLCJnZXRSaXBwbGVDb250YWluZXIiLCJjb250YWluZXIiLCJwYXJzZUNvbG9yIiwiY29sb3IiLCJoZXhUb1JHQkEiLCJkaWciLCJyZWQiLCJncm4iLCJibHUiLCJyZ2JUb1JHQkEiLCJyZW1vdmVFbGVtZW50IiwicmlwcGxlcyIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZUVsZW1lbnQiLCJlbGVtSXNBY3RpdmUiLCJpc0FjdGl2ZSIsImVsZW1Jc0hlbGQiLCJpc0hlbGQiLCJhbmltYXRpbmciLCJyaXBwbGVTaXplIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNyZWF0ZVJpcHBsZSIsImdldFJpcHBsZUVsZW1lbnQiLCJnZXRSaXBwbGVTaXplIiwibXVsdGlwbGllciIsInJlY3QiLCJwb3ciLCJnZXRSaXBwbGVDc3MiLCJyZ2JhVG9SR0IiLCJib3JkZXJDb2xvciIsImNvbG9yRWxlbWVudCIsImJvcmRlcldpZHRoIiwib25QcmVzc0Rvd24iLCJpc1JpcHBsZUFsbG93ZWQiLCJvblByZXNzVXAiLCJyaXBwbGUiLCJpc0Rpc2FibGVkIiwiZ3JhbmRwYXJlbnQiLCJhbmNlc3RvciIsIm1vdXNlZG93biIsImhvdmVyIiwibW91c2Vkb3duUGF1c2VUaW1lIiwiaXNBY3RpdmVFeHByIiwicmlwcGxlU2l6ZVNldHRpbmciLCJhdHRyTm9EaXJlY3RpdmUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsImNvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMiLCJwaW5rIiwicHVycGxlIiwiZGVlcC1wdXJwbGUiLCJpbmRpZ28iLCJibHVlIiwibGlnaHQtYmx1ZSIsImNvbnRyYXN0TGlnaHRDb2xvcnMiLCJjeWFuIiwidGVhbCIsImdyZWVuIiwibGlnaHQtZ3JlZW4iLCJsaW1lIiwieWVsbG93IiwiYW1iZXIiLCJvcmFuZ2UiLCJkZWVwLW9yYW5nZSIsImJyb3duIiwiZ3JleSIsIjAiLCIxMDAwIiwiYmx1ZS1ncmV5IiwiVGhlbWluZ1Byb3ZpZGVyIiwiJG1kQ29sb3JQYWxldHRlIiwiZGVmaW5lUGFsZXR0ZSIsIlBBTEVUVEVTIiwiY2hlY2tQYWxldHRlVmFsaWQiLCJ0aGVtaW5nUHJvdmlkZXIiLCJleHRlbmRQYWxldHRlIiwibWlzc2luZ0NvbG9ycyIsIlZBTElEX0hVRV9WQUxVRVMiLCJmaWVsZCIsInJlZ2lzdGVyVGhlbWUiLCJpbmhlcml0RnJvbSIsIlRIRU1FUyIsInBhcmVudFRoZW1lIiwiVGhlbWUiLCJjb2xvcnMiLCJjb2xvclR5cGUiLCJodWVzIiwic2V0RGFyayIsImlzRGFyayIsImZvcmVncm91bmRQYWxldHRlIiwiTElHSFRfRk9SRUdST1VORCIsIkRBUktfRk9SRUdST1VORCIsImZvcmVncm91bmRTaGFkb3ciLCJEQVJLX1NIQURPVyIsIkxJR0hUX1NIQURPVyIsIm5ld0RlZmF1bHRIdWVzIiwiREFSS19ERUZBVUxUX0hVRVMiLCJMSUdIVF9ERUZBVUxUX0hVRVMiLCJvbGREZWZhdWx0SHVlcyIsIm5ld0RlZmF1bHRzIiwib2xkRGVmYXVsdHMiLCJodWVOYW1lIiwiZGFyayIsIlRIRU1FX0NPTE9SX1RZUEVTIiwiZGVmYXVsdEh1ZXMiLCJwYWxldHRlTmFtZSIsImh1ZVZhbHVlIiwiVGhlbWluZ1NlcnZpY2UiLCJyZWdpc3RlcmVkIiwiYXBwbHlUaGVtZSIsImNoYW5nZVRoZW1lIiwib2xkVGhlbWUiLCJhdHRyVGhlbWVWYWx1ZSIsImFsd2F5c1dhdGNoVGhlbWUiLCIkbWRUaGVtZSIsImRlZmF1bHRUaGVtZSIsInNldERlZmF1bHRUaGVtZSIsImFsd2F5c1dhdGNoIiwiX0xJR0hUX0RFRkFVTFRfSFVFUyIsIl9EQVJLX0RFRkFVTFRfSFVFUyIsIl9QQUxFVFRFUyIsIl9USEVNRVMiLCJfcGFyc2VSdWxlcyIsInBhcnNlUnVsZXMiLCJfcmdiYSIsInJnYmEiLCJUaGVtaW5nRGlyZWN0aXZlIiwiJHNldFRoZW1lIiwibWRUaGVtZSIsIlRoZW1hYmxlRGlyZWN0aXZlIiwiY2hlY2tWYWxpZFBhbGV0dGUiLCJnZW5lcmF0ZWRSdWxlcyIsInRoZW1lTmFtZVJlZ2V4IiwiaHVlUmVnZXgiLCJzaW1wbGVWYXJpYWJsZVJlZ2V4IiwicGFsZXR0ZSIsImh1ZSIsIm9wYWNpdHkiLCJuZXdSdWxlIiwiaHVlVHlwZSIsImdlbmVyYXRlVGhlbWVzIiwic2FuaXRpemVQYWxldHRlIiwiZGVmYXVsdENvbnRyYXN0IiwibGlnaHRDb2xvcnMiLCJzdHJvbmdMaWdodENvbG9ycyIsImRhcmtDb2xvcnMiLCJnZXRDb250cmFzdENvbG9yIiwiREFSS19DT05UUkFTVF9DT0xPUiIsIlNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUiIsIkxJR0hUX0NPTlRSQVNUX0NPTE9SIiwicmdiVmFsdWUiLCJjb2xvclRvUmdiYUFycmF5IiwiY29udHJhc3QiLCJ0aGVtZUNzcyIsInJ1bGVzQnlUeXBlIiwicnVsZU1hdGNoUmVnZXgiLCJERUZBVUxUX0NPTE9SX1RZUEUiLCJzdHlsZVN0cmluZyIsImFjY2VudCIsImdlbmVyYXRpb25Jc0RvbmUiLCJoZWFkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbHIiLCJyZ2JBcnJheSIsIjEiLCIyIiwiMyIsIjQiLCJkZWZhdWx0IiwiaHVlLTEiLCJodWUtMiIsImh1ZS0zIiwiYmFja2dyb3VuZCIsImRlZmF1bHREZWZhdWx0SHVlcyIsIkJhY2tkcm9wRGlyZWN0aXZlIiwiTWRCb3R0b21TaGVldERpcmVjdGl2ZSIsIk1kQm90dG9tU2hlZXRQcm92aWRlciIsIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImJvdHRvbVNoZWV0RGVmYXVsdHMiLCIkbWRCb3R0b21TaGVldCIsImJhY2tkcm9wIiwiYm90dG9tU2hlZXQiLCJCb3R0b21TaGVldCIsInRhcmdldEV2ZW50IiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsImxhc3RPdmVyZmxvdyIsImZvY3VzYWJsZSIsImVzY2FwZVRvQ2xvc2UiLCJyb290RWxlbWVudEtleXVwQ2FsbGJhY2siLCJvbkRyYWdTdGFydCIsIm9uRHJhZyIsInRyYW5zZm9ybSIsIlBBRERJTkciLCJvbkRyYWdFbmQiLCJDTE9TSU5HX1ZFTE9DSVRZIiwiZGlzdGFuY2VSZW1haW5pbmciLCJNZEJ1dHRvbkRpcmVjdGl2ZSIsIiRtZEFyaWEiLCJuZ0hyZWYiLCJnZXRUZW1wbGF0ZSIsInBvc3RMaW5rIiwiZWxlbWVudEhhc1RleHQiLCJuZ0Rpc2FibGVkIiwibWRDYXJkRGlyZWN0aXZlIiwiTWRDaGVja2JveERpcmVjdGl2ZSIsIiRtZFV0aWwiLCJ0YWJJbmRleCIsImtleXByZXNzSGFuZGxlciIsIkNIRUNLRURfQ1NTIiwibmdDaGVja2VkIiwibWRDb250ZW50RGlyZWN0aXZlIiwiQ29udGVudENvbnRyb2xsZXIiLCJpb3NTY3JvbGxGaXgiLCIkbWF0ZXJpYWxTY3JvbGxGaXhlZCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsIk1kRGlhbG9nRGlyZWN0aXZlIiwiY2xpZW50SGVpZ2h0IiwiTWREaWFsb2dQcm92aWRlciIsImFkdmFuY2VkRGlhbG9nT3B0aW9ucyIsIiRtZERpYWxvZyIsImRpYWxvZ0RlZmF1bHRPcHRpb25zIiwiZmluZENsb3NlQnV0dG9uIiwiY2xvc2VCdXR0b24iLCJhY3Rpb25CdXR0b25zIiwicG9wSW5UYXJnZXQiLCJjb25maWd1cmVBcmlhIiwiaGFzQmFja2Ryb3AiLCJwYXJlbnRPZmZzZXQiLCJkaWFsb2dQb3BJbiIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJkaWFsb2dDbGlja091dHNpZGVDYWxsYmFjayIsImRpYWxvZ1BvcE91dCIsImRpYWxvZ0NvbnRlbnQiLCJ3b3JkcyIsImNsaWNrRWxlbWVudCIsImRpYWxvZ0VsIiwidHJhbnNmb3JtVG9DbGlja0VsZW1lbnQiLCJjbGlja1JlY3QiLCJkaWFsb2dSZWN0Iiwic2NhbGVYIiwic2NhbGVZIiwiTWREaXZpZGVyQ29udHJvbGxlciIsIk1kRGl2aWRlckRpcmVjdGl2ZSIsIkdyaWRMaXN0RGlyZWN0aXZlIiwiJG1kR3JpZExheW91dCIsIndhdGNoTWVkaWEiLCJpbnZhbGlkYXRlTGF5b3V0IiwibGF5b3V0SWZNZWRpYU1hdGNoIiwibGF5b3V0RGVsZWdhdGUiLCJ0aWxlcyIsImdldFRpbGVFbGVtZW50cyIsImNvbENvdW50IiwiZ2V0Q29sdW1uQ291bnQiLCJyb3dNb2RlIiwiZ2V0Um93TW9kZSIsInJvd0hlaWdodCIsImdldFJvd0hlaWdodCIsImd1dHRlciIsImdldEd1dHRlciIsImdldFRpbGVTcGFucyIsInBzIiwicm93Q291bnQiLCIkbWRHcmlkUG9zaXRpb24iLCJnZXRTdHlsZXMiLCJzcGFucyIsInJlZmxvdyIsIm1kT25MYXlvdXQiLCJoU2hhcmUiLCJoR3V0dGVyU2hhcmUiLCJoVW5pdCIsIlVOSVQiLCJzaGFyZSIsImd1dHRlclNoYXJlIiwiUE9TSVRJT04iLCJ1bml0IiwiRElNRU5TSU9OIiwic3BhbiIsInBhZGRpbmdUb3AiLCJyb3ciLCJ2U2hhcmUiLCJ2VW5pdCIsInZHdXR0ZXJTaGFyZSIsInRpbGVBdHRycyIsImFwcGx5RGVmYXVsdFVuaXQiLCJ3aFJhdGlvIiwiR3JpZExpc3RDb250cm9sbGVyIiwiaW52YWxpZGF0ZWQiLCIkdGltZW91dF8iLCJHcmlkTGF5b3V0RmFjdG9yeSIsImRlZmF1bHRBbmltYXRvciIsImNhbGN1bGF0ZUdyaWRGb3IiLCJ0aWxlU3BhbnMiLCJyZXNlcnZlU3BhY2UiLCJjdXJDb2wiLCJuZXh0Um93Iiwic3BhY2VUcmFja2VyIiwiZmluZEVuZCIsImFkanVzdFJvdyIsImN1clJvdyIsImNvbHMiLCJieSIsIm5ld1NwYWNlVHJhY2tlciIsInRyYWNrZXIiLCJwb3NpdGlvbmluZyIsImxheW91dEluZm8iLCJsYXlvdXRUaW1lIiwibWFwVGltZSIsInJlZmxvd1RpbWUiLCJ1cGRhdGVGbiIsImN1c3RvbUFuaW1hdG9yRm4iLCJhbmltYXRvciIsIml0IiwidGlsZUNvdW50IiwiR3JpZFRpbGVEaXJlY3RpdmUiLCJncmlkQ3RybCIsInVud2F0Y2hBdHRycyIsImFkZFRpbGUiLCJyZW1vdmVUaWxlIiwiR3JpZFRpbGVDYXB0aW9uRGlyZWN0aXZlIiwibGF5b3V0IiwibWRJY29uRGlyZWN0aXZlIiwiJG1kSWNvbiIsIm1kRm9udEljb24iLCJwYXJlbnRzSGF2ZVRleHQiLCJhcmlhTGFiZWwiLCJhbHQiLCJmb250SWNvbiIsInN2Z0ljb24iLCJtZFN2Z0ljb24iLCJtZFN2Z1NyYyIsImF0dHJWYWwiLCJzdmciLCJzdmdTcmMiLCJNZEljb25Qcm92aWRlciIsIkNvbmZpZ3VyYXRpb25JdGVtIiwiaWNvblNpemUiLCJkZWZhdWx0SWNvblNpemUiLCJNZEljb25TZXJ2aWNlIiwiY2FjaGVJY29uIiwiaWNvbiIsImljb25Db25maWciLCJpc0ljb24iLCJJY29uIiwicHJlcGFyZUFuZFN0eWxlIiwiaWNvbkNhY2hlIiwibG9hZEJ5SUQiLCJsb2FkQnlVUkwiLCJsb2FkRnJvbUljb25TZXQiLCJleHRyYWN0RnJvbVNldCIsImljb25OYW1lIiwiaWNvblNldENvbmZpZyIsInNldE5hbWUiLCJmaXQiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwidmlld0JveCIsInBvaW50ZXItZXZlbnRzIiwiZWxzIiwiYW5ub3VuY2VOb3RGb3VuZCIsInVybFJlZ2V4IiwiaWNvblNldCIsImRlZmF1bHRJY29uU2V0IiwibWRJbnB1dENvbnRhaW5lckRpcmVjdGl2ZSIsIkNvbnRhaW5lckN0cmwiLCJpc0Vycm9yR2V0dGVyIiwibWRJc0Vycm9yIiwic2V0Rm9jdXNlZCIsImlzRm9jdXNlZCIsInNldEhhc1ZhbHVlIiwiaGFzVmFsdWUiLCJzZXRJbnZhbGlkIiwiaXNJbnZhbGlkIiwiaGFzTGFiZWxBbmRJbnB1dCIsImxhYmVsRGlyZWN0aXZlIiwiY29udGFpbmVyQ3RybCIsIm1kTm9GbG9hdCIsImlucHV0VGV4dGFyZWFEaXJlY3RpdmUiLCJuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlIiwiaW5wdXRDaGVja1ZhbHVlIiwic2V0dXBUZXh0YXJlYSIsInBpcGVsaW5lTGlzdGVuZXIiLCJvbkNoYW5nZVRleHRhcmVhIiwiZ3Jvd1RleHRhcmVhIiwib25TY3JvbGwiLCJpc1JlYWRvbmx5IiwicmVhZG9ubHkiLCJtZE1heGxlbmd0aERpcmVjdGl2ZSIsInJlbmRlckNoYXJDb3VudCIsImNoYXJDb3VudEVsIiwibWRNYXhsZW5ndGgiLCJsYXN0RWxlbWVudENoaWxkIiwicGxhY2Vob2xkZXJEaXJlY3RpdmUiLCJpbnB1dENvbnRhaW5lciIsInBsYWNlaG9sZGVyVGV4dCIsIm1kTGlzdERpcmVjdGl2ZSIsIm1kSXRlbURpcmVjdGl2ZSIsIk1kUHJvZ3Jlc3NDaXJjdWxhckRpcmVjdGl2ZSIsImNsYW1wZWQiLCJmaWxsUm90YXRpb24iLCJmaXhSb3RhdGlvbiIsImNpcmNsZSIsImZpbGwiLCJmaXgiLCJkaWFtZXRlciIsIm1kRGlhbWV0ZXIiLCJzY2FsZSIsImNsYW1wIiwiZmlsbFJvdGF0aW9ucyIsImZpeFJvdGF0aW9ucyIsInBlcmNlbnQiLCJyb3RhdGlvbiIsIk1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUiLCJiYXIxU3R5bGUiLCJiYXIyU3R5bGUiLCJtZE1vZGUiLCJ0cmFuc2Zvcm1zIiwibWFrZVRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJtZFJhZGlvR3JvdXBEaXJlY3RpdmUiLCJsaW5rUmFkaW9Hcm91cCIsImtleWRvd25MaXN0ZW5lciIsInJnQ3RybCIsInNlbGVjdFByZXZpb3VzIiwic2VsZWN0TmV4dCIsIlJhZGlvR3JvdXBDb250cm9sbGVyIiwiX3JhZGlvQnV0dG9uUmVuZGVyRm5zIiwiY3JlYXRlUmFkaW9Hcm91cENvbnRyb2xsZXJQcm90byIsIl9uZ01vZGVsQ3RybCIsInJiUmVuZGVyIiwic2V0Vmlld1ZhbHVlIiwiY2hhbmdlU2VsZWN0ZWRCdXR0b24iLCJzZXRBY3RpdmVEZXNjZW5kYW50IiwicmFkaW9JZCIsImluY3JlbWVudCIsImJ1dHRvbnMiLCJtZFJhZGlvQnV0dG9uRGlyZWN0aXZlIiwibGFzdENoZWNrZWQiLCJidWlsZEFyaWFJRCIsImFyaWFJZCIsImFyaWEtY2hlY2tlZCIsIlNpZGVuYXZTZXJ2aWNlIiwiJG1kQ29tcG9uZW50UmVnaXN0cnkiLCJlcnJvck1zZyIsImlzT3BlbiIsImlzTG9ja2VkT3BlbiIsInRvZ2dsZSIsImNsb3NlIiwiU2lkZW5hdkRpcmVjdGl2ZSIsInNpZGVuYXZDdHJsIiwidXBkYXRlSXNMb2NrZWQiLCJpc0xvY2tlZCIsInVwZGF0ZUlzT3BlbiIsIm9uS2V5RG93biIsInRyaWdnZXJpbmdFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsInRvZ2dsZU9wZW4iLCJpc0VzY2FwZSIsImlzTG9ja2VkT3BlblBhcnNlZCIsIm1kSXNMb2NrZWRPcGVuIiwiJG1lZGlhIiwiJHRvZ2dsZU9wZW4iLCJTaWRlbmF2Q29udHJvbGxlciIsIm1kQ29tcG9uZW50SWQiLCJTbGlkZXJEaXJlY3RpdmUiLCJ1cGRhdGVBbGwiLCJyZWZyZXNoU2xpZGVyRGltZW5zaW9ucyIsIm5nTW9kZWxSZW5kZXIiLCJyZWRyYXdUaWNrcyIsInVwZGF0ZU1pbiIsInVwZGF0ZU1heCIsInVwZGF0ZVN0ZXAiLCJzdGVwIiwidXBkYXRlQXJpYURpc2FibGVkIiwibWREaXNjcmV0ZSIsIm51bVN0ZXBzIiwidGlja0NhbnZhcyIsInRyYWNrVGlja3NTdHlsZSIsInRpY2tDb250YWluZXIiLCJ0aWNrQ3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImRpbWVuc2lvbnMiLCJnZXRTbGlkZXJEaW1lbnNpb25zIiwiZmlsbFJlY3QiLCJzbGlkZXJEaW1lbnNpb25zIiwidHJhY2tDb250YWluZXIiLCJ0aHJvdHRsZWRSZWZyZXNoRGltZW5zaW9ucyIsImNoYW5nZUFtb3VudCIsInNldE1vZGVsVmFsdWUiLCJtaW5NYXhWYWxpZGF0b3IiLCJzdGVwVmFsaWRhdG9yIiwic2V0U2xpZGVyUGVyY2VudCIsInRodW1iVGV4dCIsImFjdGl2ZVRyYWNrIiwidGh1bWJDb250YWluZXIiLCJpc0Rpc2FibGVkR2V0dGVyIiwiZXhhY3RWYWwiLCJwZXJjZW50VG9WYWx1ZSIsInBvc2l0aW9uVG9QZXJjZW50IiwiY2xvc2VzdFZhbCIsInZhbHVlVG9QZXJjZW50IiwiaXNEcmFnZ2luZyIsInNldFNsaWRlckZyb21FdmVudCIsImlzRGlzY3JldGUiLCJhZGp1c3RUaHVtYlBvc2l0aW9uIiwiZG9TbGlkZSIsImlzRGlzYWJsZWRQYXJzZWQiLCJ0aHVtYiIsInN0b3BEaXNhYmxlZFdhdGNoIiwiZGVib3VuY2VkVXBkYXRlQWxsIiwiTWRTdGlja3kiLCJzZXR1cFN0aWNreSIsImNvbnRlbnRDdHJsIiwic3RpY2t5Q2xvbmUiLCJzdGlja3lCYXNlb2Zmc2V0IiwiY29udGVudEVsIiwiZGVib3VuY2VkUmVmcmVzaEVsZW1lbnRzIiwicmVmcmVzaEVsZW1lbnRzIiwicmVmcmVzaFBvc2l0aW9uIiwiY3VycmVudFNjcm9sbFRvcCIsInNldEN1cnJlbnRJdGVtIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImlzU2Nyb2xsaW5nRG93biIsInByZXZTY3JvbGxUb3AiLCJ0cmFuc2xhdGUiLCJwcmV2Iiwic2V0U3RpY2t5U3RhdGUiLCJ0cmFuc2xhdGVZIiwic2V0dXBBdWdtZW50ZWRTY3JvbGxFdmVudHMiLCJjaGVja1N0aWNreVN1cHBvcnQiLCJzdGlja3lQcm9wIiwidGVzdEVsIiwic3RpY2t5UHJvcHMiLCJ6LWluZGV4IiwibG9vcFNjcm9sbEV2ZW50IiwibGFzdFNjcm9sbFRpbWUiLCJTQ1JPTExfRU5EX0RFTEFZIiwiaXNTY3JvbGxpbmciLCJicm93c2VyU3RpY2t5U3VwcG9ydCIsIiQkc3RpY2t5IiwiTWRTdWJoZWFkZXJEaXJlY3RpdmUiLCIkbWRTdGlja3kiLCJvdXRlckhUTUwiLCJnZXRDb250ZW50IiwiTWRTd2l0Y2giLCJtZENoZWNrYm94RGlyZWN0aXZlIiwiY2hlY2tib3hMaW5rIiwiY2hlY2tib3hEaXJlY3RpdmUiLCJkaXNhYmxlZEdldHRlciIsImRyYWciLCJpc0NoYW5nZWQiLCJhcHBseU1vZGVsVmFsdWUiLCJzd2l0Y2hDb250YWluZXIiLCJtZFRleHRGbG9hdERpcmVjdGl2ZSIsImZpZCIsIm1kRmlkIiwiZGlzYWJsZWRQYXJzZWQiLCJtZElucHV0R3JvdXBEaXJlY3RpdmUiLCJtZElucHV0RGlyZWN0aXZlIiwiaXNOb3RFbXB0eSIsImlucHV0R3JvdXBDdHJsIiwiTWRUb2FzdERpcmVjdGl2ZSIsIk1kVG9hc3RQcm92aWRlciIsInRvYXN0RGVmYXVsdE9wdGlvbnMiLCIkbWRUb2FzdCIsImFjdGl2ZVRvYXN0Q29udGVudCIsInRvYXN0T3BlbkNsYXNzIiwib25Td2lwZSIsIm5ld0NvbnRlbnQiLCJtZFRvb2xiYXJEaXJlY3RpdmUiLCJzZXR1cFNjcm9sbFNocmluayIsIm9uTWRDb250ZW50TG9hZCIsIm5ld0NvbnRlbnRFbCIsImNvbnRlbnRFbGVtZW50IiwiZGVib3VuY2VkQ29udGVudFNjcm9sbCIsInVwZGF0ZVRvb2xiYXJIZWlnaHQiLCJ0b29sYmFySGVpZ2h0Iiwic2hyaW5rU3BlZWRGYWN0b3IiLCJvbkNvbnRlbnRTY3JvbGwiLCJkZWJvdW5jZWRVcGRhdGVIZWlnaHQiLCJtZFNocmlua1NwZWVkRmFjdG9yIiwibWRTY3JvbGxTaHJpbmsiLCJNZFRvb2x0aXBEaXJlY3RpdmUiLCJzZXRWaXNpYmxlIiwidmlzaWJsZSIsInNob3dUb29sdGlwIiwidG9vbHRpcFBhcmVudCIsInBvc2l0aW9uVG9vbHRpcCIsImhpZGVUb29sdGlwIiwicG9zaXRpb25CYWNrZ3JvdW5kIiwiZGlyZWN0aW9uIiwidGlwUmVjdCIsInBhcmVudFJlY3QiLCJ0aXBEaXJlY3Rpb24iLCJuZXdQb3NpdGlvbiIsIlRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UiLCJtZERpcmVjdGlvbiIsIm1kRGVsYXkiLCJUT09MVElQX1NIT1dfREVMQVkiLCJpc1Zpc2libGUiLCJkZWJvdW5jZWRPblJlc2l6ZSIsIk1kQXV0b2NvbXBsZXRlQ3RybCIsImNvbmZpZ3VyZVdhdGNoZXJzIiwidWwiLCJzZWFyY2hUZXh0IiwibG9hZGluZyIsInRlcm0iLCJmZXRjaCIsImZldGNoUmVzdWx0cyIsIml0ZW1FeHByIiwia2V5ZG93biIsInVwZGF0ZVNjcm9sbCIsImNsZWFyVmFsdWUiLCJnZXREaXNwbGF5VmFsdWUiLCJpdGVtVGV4dCIsImJvdCIsImhndCIsIml0ZW1QYXJ0cyIsIml0ZW1zRXhwciIsIm1haW4iLCJpdGVtTmFtZSIsImNsZWFyIiwiTWRBdXRvY29tcGxldGUiLCJzZWxlY3RlZEl0ZW0iLCJNZEhpZ2hsaWdodEN0cmwiLCJzYW5pdGl6ZSIsIk1kSGlnaGxpZ2h0IiwiTWRBdXRvY29tcGxldGVMaXN0SXRlbSIsIm1kQXV0b2NvbXBsZXRlTGlzdEl0ZW0iLCJNZFRhYklua0RpcmVjdGl2ZSIsInVwZGF0ZUJhciIsInRhYnNDdHJsIiwiZ2V0U2VsZWN0ZWRJdGVtIiwiaGlkZUlua0JhciIsIm1kTm9CYXIiLCJwYWdpbmF0aW9uIiwidGFiRGF0YSIsImdldFNlbGVjdGVkSW5kZXgiLCJ0YWJzIiwiY2xhc3NOYW1lcyIsImNsYXNzSW5kZXgiLCJkZWJvdW5jZWRVcGRhdGVCYXIiLCJpbmtCYXJFbGVtZW50IiwiVGFiUGFnaW5hdGlvbkRpcmVjdGl2ZSIsIm9uVGFiRm9jdXMiLCJ0YWIiLCJvbGRUYWIiLCJwYWdlSW5kZXgiLCJnZXRQYWdlRm9yVGFiIiwicGFnZSIsInNldFBhZ2UiLCJsb2NrZWQiLCJ1c2VyQ2hhbmdlUGFnZSIsInNpemVEYXRhIiwibmV3UGFnZSIsInBhZ2VzIiwibmV3VGFiSW5kZXgiLCJuZXdUYWIiLCJ1cGRhdGVQYWdpbmF0aW9uIiwiZW5hYmxlUGFnaW5hdGlvbiIsInRhYnNQYXJlbnQiLCJmaWxsZXIiLCJkaXNhYmxlUGFnaW5hdGlvbiIsInNsaWRlVGFiQnV0dG9ucyIsIndhaXRGb3JWaXNpYmxlIiwiZGVib3VuY2VkVXBkYXRlUGFnaW5hdGlvbiIsImNhbGN1bGF0ZVRhYkRhdGEiLCJuZWVkUGFnaW5hdGlvbiIsIm9uVGFic1BhcmVudFRyYW5zaXRpb25FbmQiLCJwYWdpbmdPZmZzZXQiLCIkJHBhZ2luZ09mZnNldCIsInNob3VsZFN0cmV0Y2hUYWJzIiwic3RyZXRjaFRhYnMiLCJub0FkanVzdCIsImFkanVzdEZvclN0cmV0Y2hlZFRhYnMiLCJjYW52YXNXaWR0aCIsImNsaWVudFdpZHRoIiwidGFic1dpZHRoIiwidGFic1BlclBhZ2UiLCJ0YWJXaWR0aCIsIiR0YWJzIiwiY3VycmVudFBhZ2UiLCJQQUdJTkFUT1JTX1dJRFRIIiwidG90YWxXaWR0aCIsImZpcnN0VGFiSW5kZXgiLCJsYXN0VGFiSW5kZXgiLCJ0YWJFbGVtZW50cyIsImxhc3RQYWdlIiwiaGFzUHJldiIsImNsaWNrTmV4dCIsImNsaWNrUHJldmlvdXMiLCJ0YWJUb0ZvY3VzIiwiVGFiSXRlbUNvbnRyb2xsZXIiLCJvbkFkZCIsImNvbnRlbnRBcmVhIiwic2hvdWxkRGlzY29ubmVjdFNjb3BlIiwiY29udGVudENvbnRhaW5lciIsImNvbnRlbnRTY29wZSIsInRvZ2dsZUFuaW1hdGlvbkNsYXNzIiwicmlnaHRUb0xlZnQiLCJvblNlbGVjdCIsImFyaWEtc2VsZWN0ZWQiLCJvbkRlc2VsZWN0IiwiTWRUYWJEaXJlY3RpdmUiLCJ0YWJMYWJlbCIsInRhYkNvbnRlbnQiLCJ0cmFuc2NsdWRlVGFiQ29udGVudCIsInRhYkl0ZW1DdHJsIiwiZGVmYXVsdENsaWNrTGlzdGVuZXIiLCJ3YXRjaE5nUmVwZWF0SW5kZXgiLCJuZXdJbmRleCIsIndhdGNoQWN0aXZlQXR0cmlidXRlIiwiYWN0aXZlV2F0Y2hBY3Rpb24iLCJkZXNlbGVjdCIsIm1kQWN0aXZlIiwid2F0Y2hEaXNhYmxlZCIsImRpc2FibGVkV2F0Y2hBY3Rpb24iLCJ0YWJJZCIsInRhYkNvbnRlbnRJZCIsImFyaWEtbGFiZWxsZWRieSIsIk1kVGFic0NvbnRyb2xsZXIiLCJzZWxlY3RlZEluZGV4IiwidGFic0xpc3QiLCJub1Jlc2VsZWN0IiwiaXNTZWxlY3RlZEl0ZW0iLCJ0b0luZGV4IiwiZmlsdGVyRm4iLCJpc1RhYkVuYWJsZWQiLCJUYWJzRGlyZWN0aXZlIiwid2F0Y2hTZWxlY3RlZCIsIm9sZEluZGV4IiwibWRTdHJldGNoVGFicyIsIiRodHRwUHJvdmlkZXIiLCJjZnBMb2FkaW5nQmFyIiwic2V0Q29tcGxldGUiLCJzdGFydFRpbWVvdXQiLCJjb21wbGV0ZSIsInJlcXNDb21wbGV0ZWQiLCJyZXFzVG90YWwiLCJpc0NhY2hlZCIsImNhY2hlZCIsImxhdGVuY3lUaHJlc2hvbGQiLCJpZ25vcmVMb2FkaW5nQmFyIiwicmVqZWN0aW9uIiwiaW5jbHVkZVNwaW5uZXIiLCJpbmNsdWRlQmFyIiwic3RhcnRTaXplIiwicGFyZW50U2VsZWN0b3IiLCJzcGlubmVyVGVtcGxhdGUiLCJsb2FkaW5nQmFyVGVtcGxhdGUiLCJfc3RhcnQiLCIkcGFyZW50U2VsZWN0b3IiLCJjb21wbGV0ZVRpbWVvdXQiLCJzdGFydGVkIiwibG9hZGluZ0JhckNvbnRhaW5lciIsInNwaW5uZXIiLCJfc2V0IiwicGN0IiwibG9hZGluZ0JhciIsImluY1RpbWVvdXQiLCJfaW5jIiwiX3N0YXR1cyIsInJuZCIsInN0YXQiLCJyYW5kb20iLCJfY29tcGxldGVBbmltYXRpb24iLCJfY29tcGxldGUiLCJpbmMiXSwibWFwcGluZ3MiOiJDQUtBLFNBQVVBLEVBQVFDLEVBQVVDLEdBQVksWUFnQ3hDLFNBQVNDLEdBQU9DLEVBQVFDLEdBRXRCLE1BREFBLEdBQW1CQSxHQUFvQkMsTUFDaEMsV0FDTCxHQUtFQyxHQUFTQyxFQUxQQyxFQUFPQyxVQUFVLEdBQ25CQyxFQUFTLEtBQU9QLEVBQVNBLEVBQVMsSUFBTSxJQUFNSyxFQUFPLEtBQ3JERyxFQUFXRixVQUFVLEdBQ3JCRyxFQUFlSCxTQWVqQixLQVhBSCxFQUFVSSxFQUFTQyxFQUFTRSxRQUFRLFdBQVksU0FBU0MsR0FDdkQsR0FBSUMsSUFBU0QsRUFBTUUsTUFBTSxFQUFHLEdBRTVCLE9BQUlELEdBQVEsRUFBSUgsRUFBYUssT0FDcEJDLEdBQWNOLEVBQWFHLEVBQVEsSUFFckNELElBR1RSLEVBQVVBLEVBQVUseUNBQ2pCSCxFQUFTQSxFQUFTLElBQU0sSUFBTUssRUFDNUJELEVBQUksRUFBR0EsRUFBSUUsVUFBVVEsT0FBUVYsSUFDaENELEVBQVVBLEdBQWdCLEdBQUxDLEVBQVMsSUFBTSxLQUFPLEtBQU9BLEVBQUksR0FB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MzVHLElBQ0hBLEVBQVdvTSxFQUFVaFgsSUFBSSxhQUczQndNLEVBQVdxMEIsV0FBVywyQkFDdEJnakYsRUFBSyxHQUVMbjJHLEVBQVNzUSxPQUFPeWxHLEdBR2hCQSxFQUFrQi8xRyxFQUFTLFdBQ3pCLEdBQUl1bkIsR0FBVXJxQixFQUFTay9DLE1BQU02NUQsRUFBcUJXLEVBQzlDcnZGLElBQVdBLEVBQVExOEIsTUFDckIwOEIsRUFBUTE4QixLQUFLK3JILEdBRWYxNUcsRUFBU2svQyxNQUFNODVELElBQ2QsS0FoSUwsR0FBSWg1RyxHQU1BbzVHLEVBQ0ZQLEVBTkVELEVBQWtCbi9HLEtBQUsrK0csZUFDekJPLEVBQXNCcGtILFFBQVFyRyxRQUFRbUwsS0FBS2kvRyxvQkFDM0NTLEVBQWFKLEVBQW9COXFILEtBQUssT0FBTzB6QyxHQUFHLEdBQ2hEcTNFLEVBQVVya0gsUUFBUXJHLFFBQVFtTCxLQUFLZy9HLGlCQUkvQkssR0FBVSxFQUNWOXdGLEVBQVMsRUFFUHF3RixFQUFpQjUrRyxLQUFLNCtHLGVBQ3RCQyxFQUFhNytHLEtBQUs2K0csV0FDbEJDLEVBQVk5K0csS0FBSzgrRyxTQXNIckIsUUFDRW4xRCxNQUFtQnUxRCxFQUNuQjFtRSxJQUFtQmduRSxFQUNuQmp4RixPQUFtQnN4RixFQUNuQk0sSUFBbUJQLEVBQ25CeEIsU0FBbUI4QixFQUNuQnRCLGVBQW1CNStHLEtBQUs0K0csZUFDeEJILGlCQUFtQnorRyxLQUFLeStHLGlCQUN4Qk0sZUFBbUIvK0csS0FBSysrRyxlQUN4QkQsVUFBbUI5K0csS0FBSzgrRyIsImZpbGUiOiJ2ZW5kb3JzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjMuMTNcbiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxuICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29kZSA9IGFyZ3VtZW50c1swXSxcbiAgICAgIHByZWZpeCA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlID0gYXJndW1lbnRzWzFdLFxuICAgICAgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLFxuXG4gICAgICBtZXNzYWdlLCBpO1xuXG4gICAgbWVzc2FnZSA9IHByZWZpeCArIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksIGFyZztcblxuICAgICAgaWYgKGluZGV4ICsgMiA8IHRlbXBsYXRlQXJncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHJpbmcodGVtcGxhdGVBcmdzW2luZGV4ICsgMl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuMy4xMy8nICtcbiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xuICAgIGZvciAoaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlICsgKGkgPT0gMiA/ICc/JyA6ICcmJykgKyAncCcgKyAoaSAtIDIpICsgJz0nICtcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRvRGVidWdTdHJpbmcoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgfTtcbn1cblxuLyogV2UgbmVlZCB0byB0ZWxsIGpzaGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cbi8qIGdsb2JhbCBhbmd1bGFyOiB0cnVlLFxuICBtc2llOiB0cnVlLFxuICBqcUxpdGU6IHRydWUsXG4gIGpRdWVyeTogdHJ1ZSxcbiAgc2xpY2U6IHRydWUsXG4gIHNwbGljZTogdHJ1ZSxcbiAgcHVzaDogdHJ1ZSxcbiAgdG9TdHJpbmc6IHRydWUsXG4gIG5nTWluRXJyOiB0cnVlLFxuICBhbmd1bGFyTW9kdWxlOiB0cnVlLFxuICB1aWQ6IHRydWUsXG4gIFJFR0VYX1NUUklOR19SRUdFWFA6IHRydWUsXG4gIFZBTElESVRZX1NUQVRFX1BST1BFUlRZOiB0cnVlLFxuXG4gIGxvd2VyY2FzZTogdHJ1ZSxcbiAgdXBwZXJjYXNlOiB0cnVlLFxuICBtYW51YWxMb3dlcmNhc2U6IHRydWUsXG4gIG1hbnVhbFVwcGVyY2FzZTogdHJ1ZSxcbiAgbm9kZU5hbWVfOiB0cnVlLFxuICBpc0FycmF5TGlrZTogdHJ1ZSxcbiAgZm9yRWFjaDogdHJ1ZSxcbiAgc29ydGVkS2V5czogdHJ1ZSxcbiAgZm9yRWFjaFNvcnRlZDogdHJ1ZSxcbiAgcmV2ZXJzZVBhcmFtczogdHJ1ZSxcbiAgbmV4dFVpZDogdHJ1ZSxcbiAgc2V0SGFzaEtleTogdHJ1ZSxcbiAgZXh0ZW5kOiB0cnVlLFxuICBpbnQ6IHRydWUsXG4gIGluaGVyaXQ6IHRydWUsXG4gIG5vb3A6IHRydWUsXG4gIGlkZW50aXR5OiB0cnVlLFxuICB2YWx1ZUZuOiB0cnVlLFxuICBpc1VuZGVmaW5lZDogdHJ1ZSxcbiAgaXNEZWZpbmVkOiB0cnVlLFxuICBpc09iamVjdDogdHJ1ZSxcbiAgaXNTdHJpbmc6IHRydWUsXG4gIGlzTnVtYmVyOiB0cnVlLFxuICBpc0RhdGU6IHRydWUsXG4gIGlzQXJyYXk6IHRydWUsXG4gIGlzRnVuY3Rpb246IHRydWUsXG4gIGlzUmVnRXhwOiB0cnVlLFxuICBpc1dpbmRvdzogdHJ1ZSxcbiAgaXNTY29wZTogdHJ1ZSxcbiAgaXNGaWxlOiB0cnVlLFxuICBpc0Zvcm1EYXRhOiB0cnVlLFxuICBpc0Jsb2I6IHRydWUsXG4gIGlzQm9vbGVhbjogdHJ1ZSxcbiAgaXNQcm9taXNlTGlrZTogdHJ1ZSxcbiAgdHJpbTogdHJ1ZSxcbiAgZXNjYXBlRm9yUmVnZXhwOiB0cnVlLFxuICBpc0VsZW1lbnQ6IHRydWUsXG4gIG1ha2VNYXA6IHRydWUsXG4gIGluY2x1ZGVzOiB0cnVlLFxuICBhcnJheVJlbW92ZTogdHJ1ZSxcbiAgY29weTogdHJ1ZSxcbiAgc2hhbGxvd0NvcHk6IHRydWUsXG4gIGVxdWFsczogdHJ1ZSxcbiAgY3NwOiB0cnVlLFxuICBjb25jYXQ6IHRydWUsXG4gIHNsaWNlQXJnczogdHJ1ZSxcbiAgYmluZDogdHJ1ZSxcbiAgdG9Kc29uUmVwbGFjZXI6IHRydWUsXG4gIHRvSnNvbjogdHJ1ZSxcbiAgZnJvbUpzb246IHRydWUsXG4gIHN0YXJ0aW5nVGFnOiB0cnVlLFxuICB0cnlEZWNvZGVVUklDb21wb25lbnQ6IHRydWUsXG4gIHBhcnNlS2V5VmFsdWU6IHRydWUsXG4gIHRvS2V5VmFsdWU6IHRydWUsXG4gIGVuY29kZVVyaVNlZ21lbnQ6IHRydWUsXG4gIGVuY29kZVVyaVF1ZXJ5OiB0cnVlLFxuICBhbmd1bGFySW5pdDogdHJ1ZSxcbiAgYm9vdHN0cmFwOiB0cnVlLFxuICBnZXRUZXN0YWJpbGl0eTogdHJ1ZSxcbiAgc25ha2VfY2FzZTogdHJ1ZSxcbiAgYmluZEpRdWVyeTogdHJ1ZSxcbiAgYXNzZXJ0QXJnOiB0cnVlLFxuICBhc3NlcnRBcmdGbjogdHJ1ZSxcbiAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHk6IHRydWUsXG4gIGdldHRlcjogdHJ1ZSxcbiAgZ2V0QmxvY2tOb2RlczogdHJ1ZSxcbiAgaGFzT3duUHJvcGVydHk6IHRydWUsXG4gIGNyZWF0ZU1hcDogdHJ1ZSxcblxuICBOT0RFX1RZUEVfRUxFTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX1RFWFQ6IHRydWUsXG4gIE5PREVfVFlQRV9DT01NRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfRE9DVU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVDogdHJ1ZSxcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAjIG5nIChjb3JlIG1vZHVsZSlcbiAqIFRoZSBuZyBtb2R1bGUgaXMgbG9hZGVkIGJ5IGRlZmF1bHQgd2hlbiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gaXMgc3RhcnRlZC4gVGhlIG1vZHVsZSBpdHNlbGZcbiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcbiAqIGxpc3RzIGEgaGlnaCBsZXZlbCBicmVha2Rvd24gb2YgZWFjaCBvZiB0aGUgc2VydmljZXMvZmFjdG9yaWVzLCBmaWx0ZXJzLCBkaXJlY3RpdmVzIGFuZCB0ZXN0aW5nXG4gKiBjb21wb25lbnRzIGF2YWlsYWJsZSB3aXRoaW4gdGhpcyBjb3JlIG1vZHVsZS5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nXCI+PC9kaXY+XG4gKi9cblxudmFyIFJFR0VYX1NUUklOR19SRUdFWFAgPSAvXlxcLyguKylcXC8oW2Etel0qKSQvO1xuXG4vLyBUaGUgbmFtZSBvZiBhIGZvcm0gY29udHJvbCdzIFZhbGlkaXR5U3RhdGUgcHJvcGVydHkuXG4vLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cbnZhciBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSA9ICd2YWxpZGl0eSc7XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmxvd2VyY2FzZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gbG93ZXJjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGxvd2VyY2FzZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IExvd2VyY2FzZWQgc3RyaW5nLlxuICovXG52YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZzt9O1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIudXBwZXJjYXNlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gdXBwZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gVXBwZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciB1cHBlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b1VwcGVyQ2FzZSgpIDogc3RyaW5nO307XG5cblxudmFyIG1hbnVhbExvd2VyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXG4gIHJldHVybiBpc1N0cmluZyhzKVxuICAgICAgPyBzLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSB8IDMyKTt9KVxuICAgICAgOiBzO1xufTtcbnZhciBtYW51YWxVcHBlcmNhc2UgPSBmdW5jdGlvbihzKSB7XG4gIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xuICByZXR1cm4gaXNTdHJpbmcocylcbiAgICAgID8gcy5yZXBsYWNlKC9bYS16XS9nLCBmdW5jdGlvbihjaCkge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgJiB+MzIpO30pXG4gICAgICA6IHM7XG59O1xuXG5cbi8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaFxuLy8gbG9jYWxlLCBmb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byBkZXRlY3QgdGhpcyBjYXNlIGFuZCByZWRlZmluZSBsb3dlcmNhc2UvdXBwZXJjYXNlIG1ldGhvZHNcbi8vIHdpdGggY29ycmVjdCBidXQgc2xvd2VyIGFsdGVybmF0aXZlcy5cbmlmICgnaScgIT09ICdJJy50b0xvd2VyQ2FzZSgpKSB7XG4gIGxvd2VyY2FzZSA9IG1hbnVhbExvd2VyY2FzZTtcbiAgdXBwZXJjYXNlID0gbWFudWFsVXBwZXJjYXNlO1xufVxuXG5cbnZhclxuICAgIG1zaWUsICAgICAgICAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcblxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXG4gICAgYW5ndWxhck1vZHVsZSxcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XG5cbi8qKlxuICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XG4gKi9cbm1zaWUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBhbiBhcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoTm9kZUxpc3QsIEFyZ3VtZW50cyxcbiAqICAgICAgICAgICAgICAgICAgIFN0cmluZyAuLi4pXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuXG4gIGlmIChvYmoubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UICYmIGxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGlzU3RyaW5nKG9iaikgfHwgaXNBcnJheShvYmopIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuZ3RoID4gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhblxuICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXG4gKiBpcyB0aGUgdmFsdWUgb2YgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGFuIGFycmF5IGVsZW1lbnQsIGBrZXlgIGlzIHRoZSBvYmplY3QgcHJvcGVydHkga2V5IG9yXG4gKiBhcnJheSBlbGVtZW50IGluZGV4IGFuZCBvYmogaXMgdGhlIGBvYmpgIGl0c2VsZi4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLlxuICpcbiAqIEl0IGlzIHdvcnRoIG5vdGluZyB0aGF0IGAuZm9yRWFjaGAgZG9lcyBub3QgaXRlcmF0ZSBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlY2F1c2UgaXQgZmlsdGVyc1xuICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICpcbiAqIFVubGlrZSBFUzI2MidzXG4gKiBbQXJyYXkucHJvdG90eXBlLmZvckVhY2hdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS40LjQuMTgpLFxuICogUHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcbiAqIHJldHVybiB0aGUgdmFsdWUgcHJvdmlkZWQuXG4gKlxuICAgYGBganNcbiAgICAgdmFyIHZhbHVlcyA9IHtuYW1lOiAnbWlza28nLCBnZW5kZXI6ICdtYWxlJ307XG4gICAgIHZhciBsb2cgPSBbXTtcbiAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgIHRoaXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xuICAgICB9LCBsb2cpO1xuICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xuICAgYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgSXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXG4gKi9cblxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXksIGxlbmd0aDtcbiAgaWYgKG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAvLyBOZWVkIHRvIGNoZWNrIGlmIGhhc093blByb3BlcnR5IGV4aXN0cyxcbiAgICAgICAgLy8gYXMgb24gSUU4IHRoZSByZXN1bHQgb2YgcXVlcnlTZWxlY3RvckFsbCBpcyBhbiBvYmplY3Qgd2l0aG91dCBhIGhhc093blByb3BlcnR5IGZ1bmN0aW9uXG4gICAgICAgIGlmIChrZXkgIT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9ICdsZW5ndGgnICYmIGtleSAhPSAnbmFtZScgJiYgKCFvYmouaGFzT3duUHJvcGVydHkgfHwgb2JqLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikgfHwgaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgdmFyIGlzUHJpbWl0aXZlID0gdHlwZW9mIG9iaiAhPT0gJ29iamVjdCc7XG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlIHx8IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoICE9PSBmb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNvcnRlZEtleXMob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXlzID0gc29ydGVkS2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgKil9IGl0ZXJhdG9yRm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxuICovXG5mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsgaXRlcmF0b3JGbihrZXksIHZhbHVlKTsgfTtcbn1cblxuLyoqXG4gKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cbiAqXG4gKiBVc2luZyBzaW1wbGUgbnVtYmVycyBhbGxvd3MgdXMgdG8gZ2VuZXJhdGUgMjguNiBtaWxsaW9uIHVuaXF1ZSBpZHMgcGVyIHNlY29uZCBmb3IgMTAgeWVhcnMgYmVmb3JlXG4gKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBNYXRoLnBvdygyLDUzKSAvIDYwIC8gNjAgLyAyNCAvIDM2NSAvIDEwID0gMjguNk1cbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gbmV4dFVpZCgpIHtcbiAgcmV0dXJuICsrdWlkO1xufVxuXG5cbi8qKlxuICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxuICogQHBhcmFtIGggdGhlIGhhc2hrZXkgKCF0cnV0aHkgdG8gZGVsZXRlIHRoZSBoYXNoa2V5KVxuICovXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xuICBpZiAoaCkge1xuICAgIG9iai4kJGhhc2hLZXkgPSBoO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5O1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cbiAqIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5leHRlbmQoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cbiAqIE5vdGU6IEtlZXAgaW4gbWluZCB0aGF0IGBhbmd1bGFyLmV4dGVuZGAgZG9lcyBub3Qgc3VwcG9ydCByZWN1cnNpdmUgbWVyZ2UgKGRlZXAgY29weSkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChkc3QpIHtcbiAgdmFyIGggPSBkc3QuJCRoYXNoS2V5O1xuXG4gIGZvciAodmFyIGkgPSAxLCBpaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgIGRzdFtrZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SGFzaEtleShkc3QsIGgpO1xuICByZXR1cm4gZHN0O1xufVxuXG5mdW5jdGlvbiBpbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubm9vcFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XG4gICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpO1xuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XG4gICAgIH1cbiAgIGBgYFxuICovXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuJGluamVjdCA9IFtdO1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXG4gKlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJhbnNmb3JtYXRpb25GbiwgdmFsdWUpIHtcbiAgICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpO1xuICAgICB9O1xuICAgYGBgXG4gICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cbiAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkoJCkge3JldHVybiAkO31cbmlkZW50aXR5LiRpbmplY3QgPSBbXTtcblxuXG5mdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7cmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiB2YWx1ZTt9O31cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYE9iamVjdGAuIFVubGlrZSBgdHlwZW9mYCBpbiBKYXZhU2NyaXB0LCBgbnVsbGBzIGFyZSBub3RcbiAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzU3RyaW5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc051bWJlclxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEYXRlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0FycmF5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgQXJyYXlgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgQXJyYXlgLlxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRnVuY3Rpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYEZ1bmN0aW9uYC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRnVuY3Rpb25gLlxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzt9XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgUmVnRXhwYC5cbiAqL1xuZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuXG4vKipcbiAqIENoZWNrcyBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqLlxuICovXG5mdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmoud2luZG93ID09PSBvYmo7XG59XG5cblxuZnVuY3Rpb24gaXNTY29wZShvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouJGV2YWxBc3luYyAmJiBvYmouJHdhdGNoO1xufVxuXG5cbmZ1bmN0aW9uIGlzRmlsZShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG5cbmZ1bmN0aW9uIGlzRm9ybURhdGEob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZvcm1EYXRhXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbn1cblxuXG5mdW5jdGlvbiBpc1Byb21pc2VMaWtlKG9iaikge1xuICByZXR1cm4gb2JqICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xufVxuXG5cbnZhciB0cmltID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xufTtcblxuLy8gQ29waWVkIGZyb206XG4vLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXG4vLyBQcmVyZXE6IHMgaXMgYSBzdHJpbmcuXG52YXIgZXNjYXBlRm9yUmVnZXhwID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpLlxuICAgICAgICAgICByZXBsYWNlKC9cXHgwOC9nLCAnXFxcXHgwOCcpO1xufTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuICEhKG5vZGUgJiZcbiAgICAobm9kZS5ub2RlTmFtZSAgLy8gd2UgYXJlIGEgZGlyZWN0IGVsZW1lbnRcbiAgICB8fCAobm9kZS5wcm9wICYmIG5vZGUuYXR0ciAmJiBub2RlLmZpbmQpKSk7ICAvLyB3ZSBoYXZlIGFuIG9uIGFuZCBmaW5kIG1ldGhvZCBwYXJ0IG9mIGpRdWVyeSBBUElcbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoXCIsXCIpLCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspXG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIHJldHVybiBvYmo7XG59XG5cblxuZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGxvd2VyY2FzZShlbGVtZW50Lm5vZGVOYW1lIHx8IChlbGVtZW50WzBdICYmIGVsZW1lbnRbMF0ubm9kZU5hbWUpKTtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgb2JqKSAhPSAtMTtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPj0gMClcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLCB3aGljaCBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFuIGFycmF5LlxuICpcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXG4gKiAqIElmIGEgZGVzdGluYXRpb24gaXMgcHJvdmlkZWQsIGFsbCBvZiBpdHMgZWxlbWVudHMgKGZvciBhcnJheXMpIG9yIHByb3BlcnRpZXMgKGZvciBvYmplY3RzKVxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cbiAqICogSWYgYHNvdXJjZWAgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSAoaW5jLiBgbnVsbGAgYW5kIGB1bmRlZmluZWRgKSwgYHNvdXJjZWAgaXMgcmV0dXJuZWQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIGlkZW50aWNhbCB0byAnZGVzdGluYXRpb24nIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi5cbiAqXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxuICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWZcbiAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIEBleGFtcGxlXG4gPGV4YW1wbGUgbW9kdWxlPVwiY29weUV4YW1wbGVcIj5cbiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gPGZvcm0gbm92YWxpZGF0ZSBjbGFzcz1cInNpbXBsZS1mb3JtXCI+XG4gTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjxiciAvPlxuIEUtbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5nLW1vZGVsPVwidXNlci5lbWFpbFwiIC8+PGJyIC8+XG4gR2VuZGVyOiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZVxuIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJmZW1hbGVcIiAvPmZlbWFsZTxiciAvPlxuIDxidXR0b24gbmctY2xpY2s9XCJyZXNldCgpXCI+UkVTRVQ8L2J1dHRvbj5cbiA8YnV0dG9uIG5nLWNsaWNrPVwidXBkYXRlKHVzZXIpXCI+U0FWRTwvYnV0dG9uPlxuIDwvZm9ybT5cbiA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiA8cHJlPm1hc3RlciA9IHt7bWFzdGVyIHwganNvbn19PC9wcmU+XG4gPC9kaXY+XG5cbiA8c2NyaXB0PlxuICBhbmd1bGFyLm1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgJHNjb3BlLm1hc3Rlcj0ge307XG5cbiAgICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICRzY29wZS5tYXN0ZXI9IGFuZ3VsYXIuY29weSh1c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMiBhcmd1bWVudHNcbiAgICAgICAgYW5ndWxhci5jb3B5KCRzY29wZS5tYXN0ZXIsICRzY29wZS51c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCgpO1xuICAgIH1dKTtcbiA8L3NjcmlwdD5cbiA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24sIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpIHtcbiAgaWYgKGlzV2luZG93KHNvdXJjZSkgfHwgaXNTY29wZShzb3VyY2UpKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxuICAgICAgXCJDYW4ndCBjb3B5ISBNYWtpbmcgY29waWVzIG9mIFdpbmRvdyBvciBTY29wZSBpbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cblxuICBpZiAoIWRlc3RpbmF0aW9uKSB7XG4gICAgZGVzdGluYXRpb24gPSBzb3VyY2U7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IGNvcHkoc291cmNlLCBbXSwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGF0ZShzb3VyY2UpKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHNvdXJjZSkpIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBuZXcgUmVnRXhwKHNvdXJjZS5zb3VyY2UsIHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXlxcL10qJC8pWzBdKTtcbiAgICAgICAgZGVzdGluYXRpb24ubGFzdEluZGV4ID0gc291cmNlLmxhc3RJbmRleDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICB2YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpKTtcbiAgICAgICAgZGVzdGluYXRpb24gPSBjb3B5KHNvdXJjZSwgZW1wdHlPYmplY3QsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc291cmNlID09PSBkZXN0aW5hdGlvbikgdGhyb3cgbmdNaW5FcnIoJ2NwaScsXG4gICAgICBcIkNhbid0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC5cIik7XG5cbiAgICBzdGFja1NvdXJjZSA9IHN0YWNrU291cmNlIHx8IFtdO1xuICAgIHN0YWNrRGVzdCA9IHN0YWNrRGVzdCB8fCBbXTtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICB2YXIgaW5kZXggPSBzdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSByZXR1cm4gc3RhY2tEZXN0W2luZGV4XTtcblxuICAgICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZGVzdGluYXRpb24ubGVuZ3RoID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvcHkoc291cmNlW2ldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtpXSkpIHtcbiAgICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSk7XG4gICAgICAgICAgc3RhY2tEZXN0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xuICAgICAgaWYgKGlzQXJyYXkoZGVzdGluYXRpb24pKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uLmxlbmd0aCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoKGRlc3RpbmF0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgZGVsZXRlIGRlc3RpbmF0aW9uW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICByZXN1bHQgPSBjb3B5KHNvdXJjZVtrZXldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgICBpZiAoaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIHN0YWNrRGVzdC5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEhhc2hLZXkoZGVzdGluYXRpb24saCk7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cbiAqXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgZHN0W2ldID0gc3JjW2ldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0IHx8IHNyYztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gKlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cbiAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxuICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cbiAqXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXG4gKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxuICpcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxuICpcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxzKG8xLCBvMikge1xuICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKSByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU5cbiAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMiwgbGVuZ3RoLCBrZXksIGtleVNldDtcbiAgaWYgKHQxID09IHQyKSB7XG4gICAgaWYgKHQxID09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShvMSkpIHtcbiAgICAgICAgaWYgKCFpc0FycmF5KG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT0gbzIubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0RhdGUobzEpKSB7XG4gICAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZXF1YWxzKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xuICAgICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PSBvMi50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHwgaXNBcnJheShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5U2V0ID0ge307XG4gICAgICAgIGZvciAoa2V5IGluIG8xKSB7XG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGtleVNldFtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiBvMikge1xuICAgICAgICAgIGlmICgha2V5U2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcbiAgICAgICAgICAgICAga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmXG4gICAgICAgICAgICAgIG8yW2tleV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBjc3AgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGlzRGVmaW5lZChjc3AuaXNBY3RpdmVfKSkgcmV0dXJuIGNzcC5pc0FjdGl2ZV87XG5cbiAgdmFyIGFjdGl2ZSA9ICEhKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jc3BdJykgfHxcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSk7XG5cbiAgaWYgKCFhY3RpdmUpIHtcbiAgICB0cnkge1xuICAgICAgLyoganNoaW50IC1XMDMxLCAtVzA1NCAqL1xuICAgICAgbmV3IEZ1bmN0aW9uKCcnKTtcbiAgICAgIC8qIGpzaGludCArVzAzMSwgK1cwNTQgKi9cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBhY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoY3NwLmlzQWN0aXZlXyA9IGFjdGl2ZSk7XG59O1xuXG5cblxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJncywgc3RhcnRJbmRleCB8fCAwKTtcbn1cblxuXG4vKiBqc2hpbnQgLVcxMDEgKi9cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJpbmRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgZnVuY3Rpb24gYGZuYCBib3VuZCB0byBgc2VsZmAgKGBzZWxmYCBiZWNvbWVzIHRoZSBgdGhpc2AgZm9yXG4gKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cbiAqIGtub3duIGFzIFtwYXJ0aWFsIGFwcGxpY2F0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pLCBhc1xuICogZGlzdGluZ3Vpc2hlZCBmcm9tIFtmdW5jdGlvbiBjdXJyeWluZ10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdXJyeWluZyNDb250cmFzdF93aXRoX3BhcnRpYWxfZnVuY3Rpb25fYXBwbGljYXRpb24pLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxmIENvbnRleHQgd2hpY2ggYGZuYCBzaG91bGQgYmUgZXZhbHVhdGVkIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBiZSBib3VuZC5cbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBGdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBgZm5gIHdpdGggYWxsIHRoZSBzcGVjaWZpZWQgYmluZGluZ3MuXG4gKi9cbi8qIGpzaGludCArVzEwMSAqL1xuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xuICB2YXIgY3VycnlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKSA6IFtdO1xuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxuICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIGRvY3VtZW50ID09PSB2YWx1ZSkge1xuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XG4gICAgdmFsID0gJyRTQ09QRSc7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxuICogQHBhcmFtIHtib29sZWFufG51bWJlcj19IHByZXR0eSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cbiAqICAgIElmIHNldCB0byBhbiBpbnRlZ2VyLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIHRoYXQgbWFueSBzcGFjZXMgcGVyIGluZGVudGF0aW9uICh0aGUgZGVmYXVsdCBpcyAyKS5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXG4gKi9cbmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICghaXNOdW1iZXIocHJldHR5KSkge1xuICAgIHByZXR0eSA9IHByZXR0eSA/IDIgOiBudWxsO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIHRvSnNvblJlcGxhY2VyLCBwcmV0dHkpO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmZyb21Kc29uXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGVzZXJpYWxpemVzIGEgSlNPTiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGpzb24gSlNPTiBzdHJpbmcgdG8gZGVzZXJpYWxpemUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fHN0cmluZ3xudW1iZXJ9IERlc2VyaWFsaXplZCBKU09OIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbUpzb24oanNvbikge1xuICByZXR1cm4gaXNTdHJpbmcoanNvbilcbiAgICAgID8gSlNPTi5wYXJzZShqc29uKVxuICAgICAgOiBqc29uO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKTtcbiAgdHJ5IHtcbiAgICAvLyB0dXJucyBvdXQgSUUgZG9lcyBub3QgbGV0IHlvdSBzZXQgLmh0bWwoKSBvbiBlbGVtZW50cyB3aGljaFxuICAgIC8vIGFyZSBub3QgYWxsb3dlZCB0byBoYXZlIGNoaWxkcmVuLiBTbyB3ZSBqdXN0IGlnbm9yZSBpdC5cbiAgICBlbGVtZW50LmVtcHR5KCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xuICB0cnkge1xuICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCA/IGxvd2VyY2FzZShlbGVtSHRtbCkgOlxuICAgICAgICBlbGVtSHRtbC5cbiAgICAgICAgICBtYXRjaCgvXig8W14+XSs+KS8pWzFdLlxuICAgICAgICAgIHJlcGxhY2UoL148KFtcXHdcXC1dKykvLCBmdW5jdGlvbihtYXRjaCwgbm9kZU5hbWUpIHsgcmV0dXJuICc8JyArIGxvd2VyY2FzZShub2RlTmFtZSk7IH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCk7XG4gIH1cblxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBUcmllcyB0byBkZWNvZGUgdGhlIFVSSSBjb21wb25lbnQgd2l0aG91dCB0aHJvd2luZyBhbiBleGNlcHRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzdHIgdmFsdWUgcG90ZW50aWFsIFVSSSBjb21wb25lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGNhbiBiZSBkZWNvZGVkXG4gKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnRcbiAgfVxufVxuXG5cbi8qKlxuICogUGFyc2VzIGFuIGVzY2FwZWQgdXJsIHF1ZXJ5IHN0cmluZyBpbnRvIGtleS12YWx1ZSBwYWlycy5cbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cbiAqL1xuZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZSgvKipzdHJpbmcqL2tleVZhbHVlKSB7XG4gIHZhciBvYmogPSB7fSwga2V5X3ZhbHVlLCBrZXk7XG4gIGZvckVhY2goKGtleVZhbHVlIHx8IFwiXCIpLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgaWYgKGtleVZhbHVlKSB7XG4gICAgICBrZXlfdmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywnJTIwJykuc3BsaXQoJz0nKTtcbiAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMF0pO1xuICAgICAgaWYgKGlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHZhciB2YWwgPSBpc0RlZmluZWQoa2V5X3ZhbHVlWzFdKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMV0pIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldLHZhbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xuICB2YXIgcGFydHMgPSBbXTtcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGFycmF5VmFsdWUpIHtcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICAgICAoYXJyYXlWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwgdHJ1ZSkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xufVxuXG5cbi8qKlxuICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcbiAqIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0IHdpdGggcmVnYXJkcyB0byB0aGUgY2hhcmFjdGVyIHNldCAocGNoYXIpIGFsbG93ZWQgaW4gcGF0aFxuICogc2VnbWVudHM6XG4gKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCkge1xuICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjYvZ2ksICcmJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNEL2dpLCAnPScpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTtcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBlbmNvZGluZyAqa2V5KiBvciAqdmFsdWUqIHBhcnRzIG9mIHF1ZXJ5IGNvbXBvbmVudC4gV2UgbmVlZCBhIGN1c3RvbVxuICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiBlbmNvZGVkIHBlciBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2OlxuICogICAgcXVlcnkgICAgICAgPSAqKCBwY2hhciAvIFwiL1wiIC8gXCI/XCIgKVxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxuICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcbiAqL1xuZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLCBwY3RFbmNvZGVTcGFjZXMpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQi9naSwgJzsnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjAvZywgKHBjdEVuY29kZVNwYWNlcyA/ICclMjAnIDogJysnKSk7XG59XG5cbnZhciBuZ0F0dHJQcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nOicsICd4LW5nLSddO1xuXG5mdW5jdGlvbiBnZXROZ0F0dHJpYnV0ZShlbGVtZW50LCBuZ0F0dHIpIHtcbiAgdmFyIGF0dHIsIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoO1xuICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xuICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcbiAgICBpZiAoaXNTdHJpbmcoYXR0ciA9IGVsZW1lbnQuYXR0cihhdHRyKSkpIHtcbiAgICAgIHJldHVybiBhdHRyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0FwcFxuICogQG1vZHVsZSBuZ1xuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb25cbiAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdTdHJpY3REaSBpZiB0aGlzIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBhcHAgZWxlbWVudCwgdGhlIGluamVjdG9yIHdpbGwgYmVcbiAqICAgY3JlYXRlZCBpbiBcInN0cmljdC1kaVwiIG1vZGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYXBwbGljYXRpb24gd2lsbCBmYWlsIHRvIGludm9rZSBmdW5jdGlvbnMgd2hpY2hcbiAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXG4gKiAgIGluIHtAbGluayBndWlkZS9kaSB0aGUgRGVwZW5kZW5jeSBJbmplY3Rpb24gZ3VpZGV9LCBhbmQgdXNlZnVsIGRlYnVnZ2luZyBpbmZvIHdpbGwgYXNzaXN0IGluXG4gKiAgIHRyYWNraW5nIGRvd24gdGhlIHJvb3Qgb2YgdGhlc2UgYnVncy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXG4gKiBkZXNpZ25hdGVzIHRoZSAqKnJvb3QgZWxlbWVudCoqIG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgaXMgdHlwaWNhbGx5IHBsYWNlZCBuZWFyIHRoZSByb290IGVsZW1lbnRcbiAqIG9mIHRoZSBwYWdlIC0gZS5nLiBvbiB0aGUgYDxib2R5PmAgb3IgYDxodG1sPmAgdGFncy5cbiAqXG4gKiBPbmx5IG9uZSBBbmd1bGFySlMgYXBwbGljYXRpb24gY2FuIGJlIGF1dG8tYm9vdHN0cmFwcGVkIHBlciBIVE1MIGRvY3VtZW50LiBUaGUgZmlyc3QgYG5nQXBwYFxuICogZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxuICogYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZ1xuICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSBpbnN0ZWFkLiBBbmd1bGFySlMgYXBwbGljYXRpb25zIGNhbm5vdCBiZSBuZXN0ZWQgd2l0aGluIGVhY2ggb3RoZXIuXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzXG4gKiBtb2R1bGUgd2lsbCBiZSBsb2FkZWQgaW50byB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yfSB3aGVuIHRoZSBhcHBsaWNhdGlvbiBpcyBib290c3RyYXBwZWQuIEl0XG4gKiBzaG91bGQgY29udGFpbiB0aGUgYXBwbGljYXRpb24gY29kZSBuZWVkZWQgb3IgaGF2ZSBkZXBlbmRlbmNpZXMgb24gb3RoZXIgbW9kdWxlcyB0aGF0IHdpbGxcbiAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEluIHRoZSBleGFtcGxlIGJlbG93IGlmIHRoZSBgbmdBcHBgIGRpcmVjdGl2ZSB3ZXJlIG5vdCBwbGFjZWQgb24gdGhlIGBodG1sYCBlbGVtZW50IHRoZW4gdGhlXG4gKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gXG4gKiB3b3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYDNgLlxuICpcbiAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiB3YXkgdG8gYm9vdHN0cmFwIGFuIGFwcGxpY2F0aW9uLlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FwcERlbW9cIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJuZ0FwcERlbW9Db250cm9sbGVyXCI+XG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cbiAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwRGVtbycsIFtdKS5jb250cm9sbGVyKCduZ0FwcERlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICRzY29wZS5hID0gMTtcbiAgICAgJHNjb3BlLmIgPSAyO1xuICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICpcbiAqIFVzaW5nIGBuZ1N0cmljdERpYCwgeW91IHdvdWxkIHNlZSBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICpcbiA8ZXhhbXBsZSBuZy1hcHAtaW5jbHVkZWQ9XCJ0cnVlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cbiAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XG4gICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXG4gICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfSlcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH1dKVxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xuICAgICAgICRzY29wZS5uYW1lID0gXCJXb3JsZFwiO1xuICAgICB9XG4gICAgIEdvb2RDb250cm9sbGVyMi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgIGRpdltuZy1jb250cm9sbGVyXSB7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICAgICBwYWRkaW5nOiAuNWVtO1xuICAgfVxuICAgZGl2W25nLWNvbnRyb2xsZXJePUdvb2RdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNkNmU5YzY7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcbiAgICAgICBjb2xvcjogIzNjNzYzZDtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1CYWRdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNlYmNjZDE7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZGVkZTtcbiAgICAgICBjb2xvcjogI2E5NDQ0MjtcbiAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgfVxuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7XG4gIHZhciBhcHBFbGVtZW50LFxuICAgICAgbW9kdWxlLFxuICAgICAgY29uZmlnID0ge307XG5cbiAgLy8gVGhlIGVsZW1lbnQgYGVsZW1lbnRgIGhhcyBwcmlvcml0eSBvdmVyIGFueSBvdGhlciBlbGVtZW50XG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBuYW1lID0gcHJlZml4ICsgJ2FwcCc7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIGFwcEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcbiAgICB2YXIgY2FuZGlkYXRlO1xuXG4gICAgaWYgKCFhcHBFbGVtZW50ICYmIChjYW5kaWRhdGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgbmFtZS5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnXScpKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGNhbmRpZGF0ZTtcbiAgICAgIG1vZHVsZSA9IGNhbmRpZGF0ZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKGFwcEVsZW1lbnQpIHtcbiAgICBjb25maWcuc3RyaWN0RGkgPSBnZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCBcInN0cmljdC1kaVwiKSAhPT0gbnVsbDtcbiAgICBib290c3RyYXAoYXBwRWxlbWVudCwgbW9kdWxlID8gW21vZHVsZV0gOiBbXSwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5ib290c3RyYXBcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gbWFudWFsbHkgc3RhcnQgdXAgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBTZWU6IHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwfVxuICpcbiAqIE5vdGUgdGhhdCBQcm90cmFjdG9yIGJhc2VkIGVuZC10by1lbmQgdGVzdHMgY2Fubm90IHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBtYW51YWxseS5cbiAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXG4gKlxuICogQW5ndWxhciB3aWxsIGRldGVjdCBpZiBpdCBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgYnJvd3NlciBtb3JlIHRoYW4gb25jZSBhbmQgb25seSBhbGxvdyB0aGVcbiAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcbiAqIGVhY2ggb2YgdGhlIHN1YnNlcXVlbnQgc2NyaXB0cy4gVGhpcyBwcmV2ZW50cyBzdHJhbmdlIHJlc3VsdHMgaW4gYXBwbGljYXRpb25zLCB3aGVyZSBvdGhlcndpc2VcbiAqIG11bHRpcGxlIGluc3RhbmNlcyBvZiBBbmd1bGFyIHRyeSB0byB3b3JrIG9uIHRoZSBET00uXG4gKlxuICogYGBgaHRtbFxuICogPCFkb2N0eXBlIGh0bWw+XG4gKiA8aHRtbD5cbiAqIDxib2R5PlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiV2VsY29tZUNvbnRyb2xsZXJcIj5cbiAqICAge3tncmVldGluZ319XG4gKiA8L2Rpdj5cbiAqXG4gKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cbiAqIDxzY3JpcHQ+XG4gKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFtdKVxuICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICRzY29wZS5ncmVldGluZyA9ICdXZWxjb21lISc7XG4gKiAgIH0pO1xuICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xuICogPC9zY3JpcHQ+XG4gKiA8L2JvZHk+XG4gKiA8L2h0bWw+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHVsZXMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLlxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqICogYHN0cmljdERpYCAtIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogQHJldHVybnMge2F1dG8uJGluamVjdG9yfSBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGluamVjdG9yIGZvciB0aGlzIGFwcC5cbiAqL1xuZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsIG1vZHVsZXMsIGNvbmZpZykge1xuICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIGNvbmZpZyA9IHt9O1xuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBzdHJpY3REaTogZmFsc2VcbiAgfTtcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gIHZhciBkb0Jvb3RzdHJhcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5pbmplY3RvcigpKSB7XG4gICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IGRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTtcbiAgICAgIC8vRW5jb2RlIGFuZ2xlIGJyYWNrZXRzIHRvIHByZXZlbnQgaW5wdXQgZnJvbSBiZWluZyBzYW5pdGl6ZWQgdG8gZW1wdHkgc3RyaW5nICM4NjgzXG4gICAgICB0aHJvdyBuZ01pbkVycihcbiAgICAgICAgICAnYnRzdHJwZCcsXG4gICAgICAgICAgXCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSdcIixcbiAgICAgICAgICB0YWcucmVwbGFjZSgvPC8sJyZsdDsnKS5yZXBsYWNlKC8+LywnJmd0OycpKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBbXTtcbiAgICBtb2R1bGVzLnVuc2hpZnQoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gICAgICAkcHJvdmlkZS52YWx1ZSgnJHJvb3RFbGVtZW50JywgZWxlbWVudCk7XG4gICAgfV0pO1xuXG4gICAgaWYgKGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAvLyBQdXNoaW5nIHNvIHRoYXQgdGhpcyBvdmVycmlkZXMgYGRlYnVnSW5mb0VuYWJsZWRgIHNldHRpbmcgZGVmaW5lZCBpbiB1c2VyJ3MgYG1vZHVsZXNgLlxuICAgICAgbW9kdWxlcy5wdXNoKFsnJGNvbXBpbGVQcm92aWRlcicsIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgfV0pO1xuICAgIH1cblxuICAgIG1vZHVsZXMudW5zaGlmdCgnbmcnKTtcbiAgICB2YXIgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3Rvcihtb2R1bGVzLCBjb25maWcuc3RyaWN0RGkpO1xuICAgIGluamVjdG9yLmludm9rZShbJyRyb290U2NvcGUnLCAnJHJvb3RFbGVtZW50JywgJyRjb21waWxlJywgJyRpbmplY3RvcicsXG4gICAgICAgZnVuY3Rpb24gYm9vdHN0cmFwQXBwbHkoc2NvcGUsIGVsZW1lbnQsIGNvbXBpbGUsIGluamVjdG9yKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRpbmplY3RvcicsIGluamVjdG9yKTtcbiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XVxuICAgICk7XG4gICAgcmV0dXJuIGluamVjdG9yO1xuICB9O1xuXG4gIHZhciBOR19FTkFCTEVfREVCVUdfSU5GTyA9IC9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLztcbiAgdmFyIE5HX0RFRkVSX0JPT1RTVFJBUCA9IC9eTkdfREVGRVJfQk9PVFNUUkFQIS87XG5cbiAgaWYgKHdpbmRvdyAmJiBOR19FTkFCTEVfREVCVUdfSU5GTy50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sICcnKTtcbiAgfVxuXG4gIGlmICh3aW5kb3cgJiYgIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9XG5cbiAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwgJycpO1xuICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcCA9IGZ1bmN0aW9uKGV4dHJhTW9kdWxlcykge1xuICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2R1bGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9O1xuXG4gIGlmIChpc0Z1bmN0aW9uKGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXApKSB7XG4gICAgYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVsb2FkIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpdGggZGVidWcgaW5mb3JtYXRpb24gdHVybmVkIG9uLlxuICogVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYSBjYWxsIHRvIGAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpYC5cbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZH0gZm9yIG1vcmUuXG4gKi9cbmZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKSB7XG4gIHdpbmRvdy5uYW1lID0gJ05HX0VOQUJMRV9ERUJVR19JTkZPIScgKyB3aW5kb3cubmFtZTtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufVxuXG4vKipcbiAqIEBuYW1lIGFuZ3VsYXIuZ2V0VGVzdGFiaWxpdHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSB0ZXN0YWJpbGl0eSBzZXJ2aWNlIGZvciB0aGUgaW5zdGFuY2Ugb2YgQW5ndWxhciBvbiB0aGUgZ2l2ZW5cbiAqIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpIHtcbiAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xuICBpZiAoIWluamVjdG9yKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ3Rlc3QnLFxuICAgICAgJ25vIGluamVjdG9yIGZvdW5kIGZvciBlbGVtZW50IGFyZ3VtZW50IHRvIGdldFRlc3RhYmlsaXR5Jyk7XG4gIH1cbiAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xufVxuXG52YXIgU05BS0VfQ0FTRV9SRUdFWFAgPSAvW0EtWl0vZztcbmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7XG4gIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciBiaW5kSlF1ZXJ5RmlyZWQgPSBmYWxzZTtcbnZhciBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YTtcbmZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XG4gIHZhciBvcmlnaW5hbENsZWFuRGF0YTtcblxuICBpZiAoYmluZEpRdWVyeUZpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcbiAgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcbiAgLy8gVXNlIGpRdWVyeSBpZiBpdCBleGlzdHMgd2l0aCBwcm9wZXIgZnVuY3Rpb25hbGl0eSwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdXMuXG4gIC8vIEFuZ3VsYXIgMS4yKyByZXF1aXJlcyBqUXVlcnkgMS43KyBmb3Igb24oKS9vZmYoKSBzdXBwb3J0LlxuICAvLyBBbmd1bGFyIDEuMysgdGVjaG5pY2FsbHkgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IDIuMSsgYnV0IGl0IG1heSB3b3JrIHdpdGggb2xkZXJcbiAgLy8gdmVyc2lvbnMuIEl0IHdpbGwgbm90IHdvcmsgZm9yIHN1cmUgd2l0aCBqUXVlcnkgPDEuNywgdGhvdWdoLlxuICBpZiAoalF1ZXJ5ICYmIGpRdWVyeS5mbi5vbikge1xuICAgIGpxTGl0ZSA9IGpRdWVyeTtcbiAgICBleHRlbmQoalF1ZXJ5LmZuLCB7XG4gICAgICBzY29wZTogSlFMaXRlUHJvdG90eXBlLnNjb3BlLFxuICAgICAgaXNvbGF0ZVNjb3BlOiBKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLFxuICAgICAgY29udHJvbGxlcjogSlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsXG4gICAgICBpbmplY3RvcjogSlFMaXRlUHJvdG90eXBlLmluamVjdG9yLFxuICAgICAgaW5oZXJpdGVkRGF0YTogSlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGFcbiAgICB9KTtcblxuICAgIC8vIEFsbCBub2RlcyByZW1vdmVkIGZyb20gdGhlIERPTSB2aWEgdmFyaW91cyBqUXVlcnkgQVBJcyBsaWtlIC5yZW1vdmUoKVxuICAgIC8vIGFyZSBwYXNzZWQgdGhyb3VnaCBqUXVlcnkuY2xlYW5EYXRhLiBNb25rZXktcGF0Y2ggdGhpcyBtZXRob2QgdG8gZmlyZVxuICAgIC8vIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbGwgcmVtb3ZlZCBub2Rlcy5cbiAgICBvcmlnaW5hbENsZWFuRGF0YSA9IGpRdWVyeS5jbGVhbkRhdGE7XG4gICAgalF1ZXJ5LmNsZWFuRGF0YSA9IGZ1bmN0aW9uKGVsZW1zKSB7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgaWYgKCFza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgICAgZXZlbnRzID0galF1ZXJ5Ll9kYXRhKGVsZW0sIFwiZXZlbnRzXCIpO1xuICAgICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgICAgICBqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxDbGVhbkRhdGEoZWxlbXMpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAganFMaXRlID0gSlFMaXRlO1xuICB9XG5cbiAgYW5ndWxhci5lbGVtZW50ID0ganFMaXRlO1xuXG4gIC8vIFByZXZlbnQgZG91YmxlLXByb3h5aW5nLlxuICBiaW5kSlF1ZXJ5RmlyZWQgPSB0cnVlO1xufVxuXG4vKipcbiAqIHRocm93IGVycm9yIGlmIHRoZSBhcmd1bWVudCBpcyBmYWxzeS5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZywgbmFtZSwgcmVhc29uKSB7XG4gIGlmICghYXJnKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2FyZXEnLCBcIkFyZ3VtZW50ICd7MH0nIGlzIHsxfVwiLCAobmFtZSB8fCAnPycpLCAocmVhc29uIHx8IFwicmVxdWlyZWRcIikpO1xuICB9XG4gIHJldHVybiBhcmc7XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFyZ0ZuKGFyZywgbmFtZSwgYWNjZXB0QXJyYXlBbm5vdGF0aW9uKSB7XG4gIGlmIChhY2NlcHRBcnJheUFubm90YXRpb24gJiYgaXNBcnJheShhcmcpKSB7XG4gICAgICBhcmcgPSBhcmdbYXJnLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSwgbmFtZSwgJ25vdCBhIGZ1bmN0aW9uLCBnb3QgJyArXG4gICAgICAoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnID8gYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ09iamVjdCcgOiB0eXBlb2YgYXJnKSk7XG4gIHJldHVybiBhcmc7XG59XG5cbi8qKlxuICogdGhyb3cgZXJyb3IgaWYgdGhlIG5hbWUgZ2l2ZW4gaXMgaGFzT3duUHJvcGVydHlcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgICB0aGUgbmFtZSB0byB0ZXN0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRleHQgdGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIG5hbWUgaXMgdXNlZCwgc3VjaCBhcyBtb2R1bGUgb3IgZGlyZWN0aXZlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsIGNvbnRleHQpIHtcbiAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsIFwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWVcIiwgY29udGV4dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHZhbHVlIGFjY2Vzc2libGUgZnJvbSB0aGUgb2JqZWN0IGJ5IHBhdGguIEFueSB1bmRlZmluZWQgdHJhdmVyc2FscyBhcmUgaWdub3JlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpbmRGblRvU2NvcGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxuICovXG4vL1RPRE8obWlza28pOiB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJlbW92ZWRcbmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGtleTtcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcbiAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIGlmIChvYmopIHtcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XG4gICAgfVxuICB9XG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICByZXR1cm4gYmluZChsYXN0SW5zdGFuY2UsIG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIERPTSBzaWJsaW5ncyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBub2RlIGluIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0XG4gKiBAcmV0dXJucyB7anFMaXRlfSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xuICovXG5mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKSB7XG4gIC8vIFRPRE8ocGVyZik6IGp1c3QgY2hlY2sgaWYgYWxsIGl0ZW1zIGluIGBub2Rlc2AgYXJlIHNpYmxpbmdzIGFuZCBpZiB0aGV5IGFyZSByZXR1cm4gdGhlIG9yaWdpbmFsXG4gIC8vICAgICAgICAgICAgIGNvbGxlY3Rpb24sIG90aGVyd2lzZSB1cGRhdGUgdGhlIG9yaWdpbmFsIGNvbGxlY3Rpb24uXG4gIHZhciBub2RlID0gbm9kZXNbMF07XG4gIHZhciBlbmROb2RlID0gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV07XG4gIHZhciBibG9ja05vZGVzID0gW25vZGVdO1xuXG4gIGRvIHtcbiAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICBpZiAoIW5vZGUpIGJyZWFrO1xuICAgIGJsb2NrTm9kZXMucHVzaChub2RlKTtcbiAgfSB3aGlsZSAobm9kZSAhPT0gZW5kTm9kZSk7XG5cbiAgcmV0dXJuIGpxTGl0ZShibG9ja05vZGVzKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cbiAqXG4gKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL3Byb3RvLW1hcC1sb29rdXAvMlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxudmFyIE5PREVfVFlQRV9FTEVNRU5UID0gMTtcbnZhciBOT0RFX1RZUEVfVEVYVCA9IDM7XG52YXIgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID0gMTE7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxuICovXG5cbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xuXG4gIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XG5cbiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XG4gIH1cblxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcblxuICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcblxuICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXG4gICAgICogQG1vZHVsZSBuZ1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXG4gICAgICogbW9kdWxlcy5cbiAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmVcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxuICAgICAqXG4gICAgICogV2hlbiBwYXNzZWQgdHdvIG9yIG1vcmUgYXJndW1lbnRzLCBhIG5ldyBtb2R1bGUgaXMgY3JlYXRlZC4gIElmIHBhc3NlZCBvbmx5IG9uZSBhcmd1bWVudCwgYW5cbiAgICAgKiBleGlzdGluZyBtb2R1bGUgKHRoZSBuYW1lIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYG1vZHVsZWApIGlzIHJldHJpZXZlZC5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyBNb2R1bGVcbiAgICAgKlxuICAgICAqIEEgbW9kdWxlIGlzIGEgY29sbGVjdGlvbiBvZiBzZXJ2aWNlcywgZGlyZWN0aXZlcywgY29udHJvbGxlcnMsIGZpbHRlcnMsIGFuZCBjb25maWd1cmF0aW9uIGluZm9ybWF0aW9uLlxuICAgICAqIGBhbmd1bGFyLm1vZHVsZWAgaXMgdXNlZCB0byBjb25maWd1cmUgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlXG4gICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pO1xuICAgICAqXG4gICAgICogLy8gcmVnaXN0ZXIgYSBuZXcgc2VydmljZVxuICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpO1xuICAgICAqXG4gICAgICogLy8gY29uZmlndXJlIGV4aXN0aW5nIHNlcnZpY2VzIGluc2lkZSBpbml0aWFsaXphdGlvbiBibG9ja3MuXG4gICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAqICAgLy8gQ29uZmlndXJlIGV4aXN0aW5nIHByb3ZpZGVyc1xuICAgICAqICAgJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnIScpO1xuICAgICAqIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2VcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfSBvclxuICAgICAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gdG8gc2ltcGxpZnkgdGhpcyBwcm9jZXNzIGZvciB5b3UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBjcmVhdGUgb3IgcmV0cmlldmUuXG4gICAgICogQHBhcmFtIHshQXJyYXkuPHN0cmluZz49fSByZXF1aXJlcyBJZiBzcGVjaWZpZWQgdGhlbiBuZXcgbW9kdWxlIGlzIGJlaW5nIGNyZWF0ZWQuIElmXG4gICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gY29uZmlnRm4gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIG1vZHVsZS4gU2FtZSBhc1xuICAgICAqICAgICAgICB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnIE1vZHVsZSNjb25maWcoKX0uXG4gICAgICogQHJldHVybnMge21vZHVsZX0gbmV3IG1vZHVsZSB3aXRoIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9IGFwaS5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gbW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcbiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCBcIk1vZHVsZSAnezB9JyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgXCIgK1xuICAgICAgICAgICAgIFwidGhlIG1vZHVsZSBuYW1lIG9yIGZvcmdvdCB0byBsb2FkIGl0LiBJZiByZWdpc3RlcmluZyBhIG1vZHVsZSBlbnN1cmUgdGhhdCB5b3UgXCIgK1xuICAgICAgICAgICAgIFwic3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXCIsIG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEFycmF5LjwqPj59ICovXG4gICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxGdW5jdGlvbj59ICovXG4gICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107XG5cbiAgICAgICAgdmFyIGNvbmZpZyA9IGludm9rZUxhdGVyKCckaW5qZWN0b3InLCAnaW52b2tlJywgJ3B1c2gnLCBjb25maWdCbG9ja3MpO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7YW5ndWxhci5Nb2R1bGV9ICovXG4gICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IHtcbiAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXG4gICAgICAgICAgX2ludm9rZVF1ZXVlOiBpbnZva2VRdWV1ZSxcbiAgICAgICAgICBfY29uZmlnQmxvY2tzOiBjb25maWdCbG9ja3MsXG4gICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xuICAgICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogTmFtZSBvZiB0aGUgbW9kdWxlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG5cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAncHJvdmlkZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmYWN0b3J5XG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyRnVuY3Rpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZhY3Rvcnk6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdmYWN0b3J5JyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnc2VydmljZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50IGFyZSBmaXhlZCwgdGhleSBnZXQgYXBwbGllZCBiZWZvcmUgb3RoZXIgcHJvdmlkZSBtZXRob2RzLlxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCAkcHJvdmlkZS5jb25zdGFudCgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdGFudDogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2NvbnN0YW50JywgJ3Vuc2hpZnQnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNhbmltYXRpb25cbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgYW5pbWF0aW9uIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhbmltYXRpb25GYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBhblxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqXG4gICAgICAgICAgICogKipOT1RFKio6IGFuaW1hdGlvbnMgdGFrZSBlZmZlY3Qgb25seSBpZiB0aGUgKipuZ0FuaW1hdGUqKiBtb2R1bGUgaXMgbG9hZGVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBEZWZpbmVzIGFuIGFuaW1hdGlvbiBob29rIHRoYXQgY2FuIGJlIGxhdGVyIHVzZWQgd2l0aFxuICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcbiAgICAgICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgKiAgIH1cbiAgICAgICAgICAgKiB9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyKCckYW5pbWF0ZVByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmlsdGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpbHRlciBuYW1lLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmlsdGVyOiBpbnZva2VMYXRlcignJGZpbHRlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29udHJvbGxlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciAkY29udHJvbGxlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnRyb2xsZXI6IGludm9rZUxhdGVyKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ1xuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZVxuICAgICAgICAgICAqICAgIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLlxuICAgICAgICAgICAqIEZvciBtb3JlIGFib3V0IGhvdyB0byBjb25maWd1cmUgc2VydmljZXMsIHNlZVxuICAgICAgICAgICAqIHtAbGluayBwcm92aWRlcnMjcHJvdmlkZXItcmVjaXBlIFByb3ZpZGVyIFJlY2lwZX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcnVuXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLlxuICAgICAgICAgICAqICAgIFVzZWZ1bCBmb3IgYXBwbGljYXRpb24gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lXG4gICAgICAgICAgICogbG9hZGluZyBhbGwgbW9kdWxlcy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBydW46IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNvbmZpZ0ZuKSB7XG4gICAgICAgICAgY29uZmlnKGNvbmZpZ0ZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmc9fSBpbnNlcnRNZXRob2RcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTGF0ZXIocHJvdmlkZXIsIG1ldGhvZCwgaW5zZXJ0TWV0aG9kLCBxdWV1ZSkge1xuICAgICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gaW52b2tlUXVldWU7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcXVldWVbaW5zZXJ0TWV0aG9kIHx8ICdwdXNoJ10oW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59XG5cbi8qIGdsb2JhbDogdG9EZWJ1Z1N0cmluZzogdHJ1ZSAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3Qob2JqKSB7XG4gIHZhciBzZWVuID0gW107XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICB2YWwgPSB0b0pzb25SZXBsYWNlcihrZXksIHZhbCk7XG4gICAgaWYgKGlzT2JqZWN0KHZhbCkpIHtcblxuICAgICAgaWYgKHNlZW4uaW5kZXhPZih2YWwpID49IDApIHJldHVybiAnPDxhbHJlYWR5IHNlZW4+Pic7XG5cbiAgICAgIHNlZW4ucHVzaCh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLCAnJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHZlcnNpb246IHRydWUsXG5cbiAgJExvY2FsZVByb3ZpZGVyLFxuICAkQ29tcGlsZVByb3ZpZGVyLFxuXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gIGlucHV0RGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgZm9ybURpcmVjdGl2ZSxcbiAgc2NyaXB0RGlyZWN0aXZlLFxuICBzZWxlY3REaXJlY3RpdmUsXG4gIHN0eWxlRGlyZWN0aXZlLFxuICBvcHRpb25EaXJlY3RpdmUsXG4gIG5nQmluZERpcmVjdGl2ZSxcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gIG5nQ2xhc3NEaXJlY3RpdmUsXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICBuZ0NzcERpcmVjdGl2ZSxcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICBuZ0Zvcm1EaXJlY3RpdmUsXG4gIG5nSGlkZURpcmVjdGl2ZSxcbiAgbmdJZkRpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcbiAgbmdJbml0RGlyZWN0aXZlLFxuICBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQnJvd3NlclByb3ZpZGVyLFxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICREb2N1bWVudFByb3ZpZGVyLFxuICAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAkRmlsdGVyUHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJEh0dHBQcm92aWRlcixcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICRMb2NhdGlvblByb3ZpZGVyLFxuICAkTG9nUHJvdmlkZXIsXG4gICRQYXJzZVByb3ZpZGVyLFxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICRRUHJvdmlkZXIsXG4gICQkUVByb3ZpZGVyLFxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXG4gICRTY2VQcm92aWRlcixcbiAgJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICRTbmlmZmVyUHJvdmlkZXIsXG4gICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXG4gICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxuICAkVGltZW91dFByb3ZpZGVyLFxuICAkJFJBRlByb3ZpZGVyLFxuICAkJEFzeW5jQ2FsbGJhY2tQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyLFxuICAkJGpxTGl0ZVByb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLiBUaGlzIG9iamVjdCBoYXMgdGhlXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxuICogLSBgbWFqb3JgIOKAkyBge251bWJlcn1gIOKAkyBNYWpvciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjBcIi5cbiAqIC0gYG1pbm9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWlub3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCI5XCIuXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxuICogLSBgY29kZU5hbWVgIOKAkyBge3N0cmluZ31gIOKAkyBDb2RlIG5hbWUgb2YgdGhlIHJlbGVhc2UsIHN1Y2ggYXMgXCJqaWdnbGluZy1hcm1mYXRcIi5cbiAqL1xudmFyIHZlcnNpb24gPSB7XG4gIGZ1bGw6ICcxLjMuMTMnLCAgICAvLyBhbGwgb2YgdGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3NcbiAgbWFqb3I6IDEsICAgIC8vIHBhY2thZ2UgdGFza1xuICBtaW5vcjogMyxcbiAgZG90OiAxMyxcbiAgY29kZU5hbWU6ICdtZXRpY3Vsb3VzLXJpZmZsZXNodWZmbGUnXG59O1xuXG5cbmZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKSB7XG4gIGV4dGVuZChhbmd1bGFyLCB7XG4gICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcbiAgICAnY29weSc6IGNvcHksXG4gICAgJ2V4dGVuZCc6IGV4dGVuZCxcbiAgICAnZXF1YWxzJzogZXF1YWxzLFxuICAgICdlbGVtZW50JzoganFMaXRlLFxuICAgICdmb3JFYWNoJzogZm9yRWFjaCxcbiAgICAnaW5qZWN0b3InOiBjcmVhdGVJbmplY3RvcixcbiAgICAnbm9vcCc6IG5vb3AsXG4gICAgJ2JpbmQnOiBiaW5kLFxuICAgICd0b0pzb24nOiB0b0pzb24sXG4gICAgJ2Zyb21Kc29uJzogZnJvbUpzb24sXG4gICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXG4gICAgJ2lzVW5kZWZpbmVkJzogaXNVbmRlZmluZWQsXG4gICAgJ2lzRGVmaW5lZCc6IGlzRGVmaW5lZCxcbiAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcbiAgICAnaXNGdW5jdGlvbic6IGlzRnVuY3Rpb24sXG4gICAgJ2lzT2JqZWN0JzogaXNPYmplY3QsXG4gICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXG4gICAgJ2lzRWxlbWVudCc6IGlzRWxlbWVudCxcbiAgICAnaXNBcnJheSc6IGlzQXJyYXksXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxuICAgICdpc0RhdGUnOiBpc0RhdGUsXG4gICAgJ2xvd2VyY2FzZSc6IGxvd2VyY2FzZSxcbiAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxuICAgICdjYWxsYmFja3MnOiB7Y291bnRlcjogMH0sXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXG4gICAgJyQkbWluRXJyJzogbWluRXJyLFxuICAgICckJGNzcCc6IGNzcCxcbiAgICAncmVsb2FkV2l0aERlYnVnSW5mbyc6IHJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAgfSk7XG5cbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XG4gIHRyeSB7XG4gICAgYW5ndWxhck1vZHVsZSgnbmdMb2NhbGUnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGFuZ3VsYXJNb2R1bGUoJ25nTG9jYWxlJywgW10pLnByb3ZpZGVyKCckbG9jYWxlJywgJExvY2FsZVByb3ZpZGVyKTtcbiAgfVxuXG4gIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJyxcbiAgICBmdW5jdGlvbiBuZ01vZHVsZSgkcHJvdmlkZSkge1xuICAgICAgLy8gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIG5lZWRzIHRvIGJlIGJlZm9yZSAkY29tcGlsZVByb3ZpZGVyIGFzIGl0IGlzIHVzZWQgYnkgaXQuXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICQkc2FuaXRpemVVcmk6ICQkU2FuaXRpemVVcmlQcm92aWRlclxuICAgICAgfSk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcignJGNvbXBpbGUnLCAkQ29tcGlsZVByb3ZpZGVyKS5cbiAgICAgICAgZGlyZWN0aXZlKHtcbiAgICAgICAgICAgIGE6IGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gICAgICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICB0ZXh0YXJlYTogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICBmb3JtOiBmb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXG4gICAgICAgICAgICBzZWxlY3Q6IHNlbGVjdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRIdG1sOiBuZ0JpbmRIdG1sRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kVGVtcGxhdGU6IG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NFdmVuOiBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NPZGQ6IG5nQ2xhc3NPZGREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDb250cm9sbGVyOiBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Zvcm06IG5nRm9ybURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJZjogbmdJZkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ05vbkJpbmRhYmxlOiBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQbHVyYWxpemU6IG5nUGx1cmFsaXplRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTaG93OiBuZ1Nob3dEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N0eWxlOiBuZ1N0eWxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2hXaGVuOiBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaERlZmF1bHQ6IG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdUcmFuc2NsdWRlOiBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsOiBuZ01vZGVsRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NoYW5nZTogbmdDaGFuZ2VEaXJlY3RpdmUsXG4gICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWlubGVuZ3RoOiBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBtYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1ZhbHVlOiBuZ1ZhbHVlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnM6IG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlXG4gICAgICAgIH0pLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0V2ZW50RGlyZWN0aXZlcyk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICRhbmNob3JTY3JvbGw6ICRBbmNob3JTY3JvbGxQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGU6ICRBbmltYXRlUHJvdmlkZXIsXG4gICAgICAgICRicm93c2VyOiAkQnJvd3NlclByb3ZpZGVyLFxuICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRjb250cm9sbGVyOiAkQ29udHJvbGxlclByb3ZpZGVyLFxuICAgICAgICAkZG9jdW1lbnQ6ICREb2N1bWVudFByb3ZpZGVyLFxuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgICAgICAgJGZpbHRlcjogJEZpbHRlclByb3ZpZGVyLFxuICAgICAgICAkaW50ZXJwb2xhdGU6ICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLFxuICAgICAgICAkaHR0cDogJEh0dHBQcm92aWRlcixcbiAgICAgICAgJGh0dHBCYWNrZW5kOiAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcbiAgICAgICAgJGxvZzogJExvZ1Byb3ZpZGVyLFxuICAgICAgICAkcGFyc2U6ICRQYXJzZVByb3ZpZGVyLFxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICAgICAgICRxOiAkUVByb3ZpZGVyLFxuICAgICAgICAkJHE6ICQkUVByb3ZpZGVyLFxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXG4gICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICAgICAgICRzbmlmZmVyOiAkU25pZmZlclByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxuICAgICAgICAkJGFzeW5jQ2FsbGJhY2s6ICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyLFxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlclxuICAgICAgfSk7XG4gICAgfVxuICBdKTtcbn1cblxuLyogZ2xvYmFsIEpRTGl0ZVByb3RvdHlwZTogdHJ1ZSxcbiAgYWRkRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICByZW1vdmVFdmVudExpc3RlbmVyRm46IHRydWUsXG4gIEJPT0xFQU5fQVRUUjogdHJ1ZSxcbiAgQUxJQVNFRF9BVFRSOiB0cnVlLFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy9KUUxpdGVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFdyYXBzIGEgcmF3IERPTSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIGFzIGEgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20pIGVsZW1lbnQuXG4gKlxuICogSWYgalF1ZXJ5IGlzIGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGAgaXMgYW4gYWxpYXMgZm9yIHRoZVxuICogW2pRdWVyeV0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS8pIGZ1bmN0aW9uLiBJZiBqUXVlcnkgaXMgbm90IGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGBcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciBcImpxTGl0ZS5cIlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+anFMaXRlIGlzIGEgdGlueSwgQVBJLWNvbXBhdGlibGUgc3Vic2V0IG9mIGpRdWVyeSB0aGF0IGFsbG93c1xuICogQW5ndWxhciB0byBtYW5pcHVsYXRlIHRoZSBET00gaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGUgd2F5LiAqKmpxTGl0ZSoqIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxuICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC48L2Rpdj5cbiAqXG4gKiBUbyB1c2UgalF1ZXJ5LCBzaW1wbHkgbG9hZCBpdCBiZWZvcmUgYERPTUNvbnRlbnRMb2FkZWRgIGV2ZW50IGZpcmVkLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydFwiPioqTm90ZToqKiBhbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXG4gKiBqcUxpdGU7IHRoZXkgYXJlIG5ldmVyIHJhdyBET00gcmVmZXJlbmNlcy48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLylcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYGNoaWxkcmVuKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2hpbGRyZW4vKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXG4gKiAtIFtgY3NzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY3NzLykgLSBPbmx5IHJldHJpZXZlcyBpbmxpbmUtc3R5bGVzLCBkb2VzIG5vdCBjYWxsIGBnZXRDb21wdXRlZFN0eWxlKClgXG4gKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKVxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXG4gKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pXG4gKiAtIFtgZXEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lcS8pXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxuICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKVxuICogLSBbYGh0bWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9odG1sLylcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcbiAqIC0gW2BvZmYoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmYvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgcHJlcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ByZXBlbmQvKVxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcbiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LylcbiAqIC0gW2ByZW1vdmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmUvKVxuICogLSBbYHJlbW92ZUF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVBdHRyLylcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLylcbiAqIC0gW2ByZW1vdmVEYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlRGF0YS8pXG4gKiAtIFtgcmVwbGFjZVdpdGgoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZXBsYWNlV2l0aC8pXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxuICogLSBbYHRvZ2dsZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdG9nZ2xlQ2xhc3MvKVxuICogLSBbYHRyaWdnZXJIYW5kbGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdHJpZ2dlckhhbmRsZXIvKSAtIFBhc3NlcyBhIGR1bW15IGV2ZW50IG9iamVjdCB0byBoYW5kbGVycy5cbiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlc1xuICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxuICpcbiAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxuICpcbiAqICMjIyBFdmVudHNcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcbiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxuICpcbiAqICMjIyBNZXRob2RzXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xuICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuXG4gKiAgIGAnbmdNb2RlbCdgKS5cbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50XG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cbiAqICAgYmUgZW5hYmxlZC5cbiAqIC0gYGlzb2xhdGVTY29wZSgpYCAtIHJldHJpZXZlcyBhbiBpc29sYXRlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBpZiBvbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXG4gKiAgIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvIGJlIGVuYWJsZWQuXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZWxlbWVudCBIVE1MIHN0cmluZyBvciBET01FbGVtZW50IHRvIGJlIHdyYXBwZWQgaW50byBqUXVlcnkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBqUXVlcnkgb2JqZWN0LlxuICovXG5cbkpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JztcblxudmFyIGpxQ2FjaGUgPSBKUUxpdGUuY2FjaGUgPSB7fSxcbiAgICBqcUlkID0gMSxcbiAgICBhZGRFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfTtcblxuLypcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBmdW5jdGlvbiAhISFcbiAqL1xuSlFMaXRlLl9kYXRhID0gZnVuY3Rpb24obm9kZSkge1xuICAvL2pRdWVyeSBhbHdheXMgcmV0dXJucyBhbiBvYmplY3Qgb24gY2FjaGUgbWlzc1xuICByZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dIHx8IHt9O1xufTtcblxuZnVuY3Rpb24ganFOZXh0SWQoKSB7IHJldHVybiArK2pxSWQ7IH1cblxuXG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZztcbnZhciBNT1pfSEFDS19SRUdFWFAgPSAvXm1veihbQS1aXSkvO1xudmFyIE1PVVNFX0VWRU5UX01BUD0geyBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCJ9O1xudmFyIGpxTGl0ZU1pbkVyciA9IG1pbkVycignanFMaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBjYW1lbENhc2UuXG4gKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gY2FtZWxDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuXG4gICAgcmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCA/IGxldHRlci50b1VwcGVyQ2FzZSgpIDogbGV0dGVyO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCAnTW96JDEnKTtcbn1cblxudmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvO1xudmFyIEhUTUxfUkVHRVhQID0gLzx8JiM/XFx3KzsvO1xudmFyIFRBR19OQU1FX1JFR0VYUCA9IC88KFtcXHc6XSspLztcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpO1xuXG52YXIgd3JhcE1hcCA9IHtcbiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddLFxuXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ19kZWZhdWx0JzogWzAsIFwiXCIsIFwiXCJdXG59O1xuXG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XG4gIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSkge1xuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcbiAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcbn1cblxuZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSB7XG4gIHZhciB0bXAsIHRhZywgd3JhcCxcbiAgICAgIGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBub2RlcyA9IFtdLCBpO1xuXG4gIGlmIChqcUxpdGVJc1RleHROb2RlKGh0bWwpKSB7XG4gICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG4gICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcbiAgICB0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICB0YWcgPSAoVEFHX05BTUVfUkVHRVhQLmV4ZWMoaHRtbCkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCBcIjwkMT48LyQyPlwiKSArIHdyYXBbMl07XG5cbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcbiAgICBpID0gd3JhcFswXTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgIH1cblxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XG5cbiAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgaW5uZXIgSFRNTFxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH0pO1xuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIHZhciBwYXJzZWQ7XG5cbiAgaWYgKChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSkge1xuICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xuICB9XG5cbiAgaWYgKChwYXJzZWQgPSBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpKSkge1xuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgdmFyIGFyZ0lzU3RyaW5nO1xuXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xuICAgIGVsZW1lbnQgPSB0cmltKGVsZW1lbnQpO1xuICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSlFMaXRlKSkge1xuICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPSAnPCcpIHtcbiAgICAgIHRocm93IGpxTGl0ZU1pbkVycignbm9zZWwnLCAnTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEpRTGl0ZShlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChhcmdJc1N0cmluZykge1xuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50LCBvbmx5RGVzY2VuZGFudHMpIHtcbiAgaWYgKCFvbmx5RGVzY2VuZGFudHMpIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCk7XG5cbiAgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCkge1xuICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBqcUxpdGVSZW1vdmVEYXRhKGRlc2NlbmRhbnRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvZmZhcmdzJywgJ2pxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Jyk7XG5cbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZFxuXG4gIGlmICghdHlwZSkge1xuICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lckZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJGbnMgfHwgW10sIGZuKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XG4gICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcbiAgICAgIGlmIChleHBhbmRvU3RvcmUuZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgIGV4cGFuZG9TdG9yZS5oYW5kbGUoe30sICckZGVzdHJveScpO1xuICAgICAgfVxuICAgICAganFMaXRlT2ZmKGVsZW1lbnQpO1xuICAgIH1cbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xuICAgIGVsZW1lbnQubmczMzkgPSB1bmRlZmluZWQ7IC8vIGRvbid0IGRlbGV0ZSBET00gZXhwYW5kb3MuIElFIGFuZCBDaHJvbWUgZG9uJ3QgbGlrZSBpdFxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5LFxuICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoY3JlYXRlSWZOZWNlc3NhcnkgJiYgIWV4cGFuZG9TdG9yZSkge1xuICAgIGVsZW1lbnQubmczMzkgPSBleHBhbmRvSWQgPSBqcU5leHRJZCgpO1xuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XG5cbiAgICB2YXIgaXNTaW1wbGVTZXR0ZXIgPSBpc0RlZmluZWQodmFsdWUpO1xuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XG4gICAgdmFyIG1hc3NHZXR0ZXIgPSAha2V5O1xuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgIWlzU2ltcGxlR2V0dGVyKTtcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcblxuICAgIGlmIChpc1NpbXBsZVNldHRlcikgeyAvLyBkYXRhKCdrZXknLCB2YWx1ZSlcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWFzc0dldHRlcikgeyAgLy8gZGF0YSgpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2ltcGxlR2V0dGVyKSB7IC8vIGRhdGEoJ2tleScpXG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgY3JlYXRpb24gb2YgZXhwYW5kb1N0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YVtrZXldO1xuICAgICAgICB9IGVsc2UgeyAvLyBtYXNzLXNldHRlcjogZGF0YSh7a2V5MTogdmFsMSwga2V5MjogdmFsMn0pXG4gICAgICAgICAgZXh0ZW5kKGRhdGEsIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKCFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpLlxuICAgICAgaW5kZXhPZihcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIpID4gLTEpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKFxuICAgICAgICAgIChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIilcbiAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpXG4gICAgICAgICAgLnJlcGxhY2UoXCIgXCIgKyB0cmltKGNzc0NsYXNzKSArIFwiIFwiLCBcIiBcIikpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKTtcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7XG4gICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LCBlbGVtZW50cykge1xuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cblxuICBpZiAoZWxlbWVudHMpIHtcblxuICAgIC8vIGlmIGEgTm9kZSAodGhlIG1vc3QgY29tbW9uIGNhc2UpXG4gICAgaWYgKGVsZW1lbnRzLm5vZGVUeXBlKSB7XG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICAgIC8vIGlmIGFuIEFycmF5IG9yIE5vZGVMaXN0IGFuZCBub3QgYSBXaW5kb3dcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBlbGVtZW50cy53aW5kb3cgIT09IGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcbiAgLy8gdGhpcyBtYWtlcyAkKGRvY3VtZW50KS5zY29wZSgpIHBvc3NpYmxlXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09IE5PREVfVFlQRV9ET0NVTUVOVCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTtcblxuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmICgodmFsdWUgPSBqcUxpdGUuZGF0YShlbGVtZW50LCBuYW1lc1tpXSkpICE9PSB1bmRlZmluZWQpIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET01cbiAgICAvLyB0byBsb29rdXAgcGFyZW50IGNvbnRyb2xsZXJzLlxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCAmJiBlbGVtZW50Lmhvc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcbiAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZShlbGVtZW50LCBrZWVwRGF0YSkge1xuICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sIHdpbikge1xuICB3aW4gPSB3aW4gfHwgd2luZG93O1xuICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAvLyBGb3JjZSB0aGUgYWN0aW9uIHRvIGJlIHJ1biBhc3luYyBmb3IgY29uc2lzdGVudCBiZWhhdmlvdXJcbiAgICAvLyBmcm9tIHRoZSBhY3Rpb24ncyBwb2ludCBvZiB2aWV3XG4gICAgLy8gaS5lLiBpdCB3aWxsIGRlZmluaXRlbHkgbm90IGJlIGluIGEgJGFwcGx5XG4gICAgd2luLnNldFRpbWVvdXQoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBObyBuZWVkIHRvIHVuYmluZCB0aGlzIGhhbmRsZXIgYXMgbG9hZCBpcyBvbmx5IGV2ZXIgY2FsbGVkIG9uY2VcbiAgICBqcUxpdGUod2luKS5vbignbG9hZCcsIGFjdGlvbik7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgSlFMaXRlUHJvdG90eXBlID0gSlFMaXRlLnByb3RvdHlwZSA9IHtcbiAgcmVhZHk6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiB0cmlnZ2VyKCkge1xuICAgICAgaWYgKGZpcmVkKSByZXR1cm47XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBmbigpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGRvY3VtZW50IGlzIGFscmVhZHkgbG9hZGVkXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIHNldFRpbWVvdXQodHJpZ2dlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub24oJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTsgLy8gd29ya3MgZm9yIG1vZGVybiBicm93c2VycyBhbmQgSUU5XG4gICAgICAvLyB3ZSBjYW4gbm90IHVzZSBqcUxpdGUgc2luY2Ugd2UgYXJlIG5vdCBkb25lIGxvYWRpbmcgYW5kIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgbGF0ZXIuXG4gICAgICAvLyBqc2hpbnQgLVcwNjRcbiAgICAgIEpRTGl0ZSh3aW5kb3cpLm9uKCdsb2FkJywgdHJpZ2dlcik7IC8vIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQgZm9yIG90aGVyc1xuICAgICAgLy8ganNoaW50ICtXMDY0XG4gICAgfVxuICB9LFxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gW107XG4gICAgZm9yRWFjaCh0aGlzLCBmdW5jdGlvbihlKSB7IHZhbHVlLnB1c2goJycgKyBlKTt9KTtcbiAgICByZXR1cm4gJ1snICsgdmFsdWUuam9pbignLCAnKSArICddJztcbiAgfSxcblxuICBlcTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHJldHVybiAoaW5kZXggPj0gMCkgPyBqcUxpdGUodGhpc1tpbmRleF0pIDoganFMaXRlKHRoaXNbdGhpcy5sZW5ndGggKyBpbmRleF0pO1xuICB9LFxuXG4gIGxlbmd0aDogMCxcbiAgcHVzaDogcHVzaCxcbiAgc29ydDogW10uc29ydCxcbiAgc3BsaWNlOiBbXS5zcGxpY2Vcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyBnZXR0ZXIvc2V0dGVycy5cbi8vIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gc2VsZiBvbiBzZXR0ZXIgYW5kXG4vLyB2YWx1ZSBvbiBnZXQuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBCT09MRUFOX0FUVFIgPSB7fTtcbmZvckVhY2goJ211bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3Blbicuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgQk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldID0gdmFsdWU7XG59KTtcbnZhciBCT09MRUFOX0VMRU1FTlRTID0ge307XG5mb3JFYWNoKCdpbnB1dCxzZWxlY3Qsb3B0aW9uLHRleHRhcmVhLGJ1dHRvbixmb3JtLGRldGFpbHMnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcbn0pO1xudmFyIEFMSUFTRURfQVRUUiA9IHtcbiAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXG4gICduZ01heGxlbmd0aCc6ICdtYXhsZW5ndGgnLFxuICAnbmdNaW4nOiAnbWluJyxcbiAgJ25nTWF4JzogJ21heCcsXG4gICduZ1BhdHRlcm4nOiAncGF0dGVybidcbn07XG5cbmZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XG4gIC8vIGNoZWNrIGRvbSBsYXN0IHNpbmNlIHdlIHdpbGwgbW9zdCBsaWtlbHkgZmFpbCBvbiBuYW1lXG4gIHZhciBib29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldO1xuXG4gIC8vIGJvb2xlYW5BdHRyIGlzIGhlcmUgdHdpY2UgdG8gbWluaW1pemUgRE9NIGFjY2Vzc1xuICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldICYmIGJvb2xlYW5BdHRyO1xufVxuXG5mdW5jdGlvbiBnZXRBbGlhc2VkQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICByZXR1cm4gKG5vZGVOYW1lID09PSAnSU5QVVQnIHx8IG5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSAmJiBBTElBU0VEX0FUVFJbbmFtZV07XG59XG5cbmZvckVhY2goe1xuICBkYXRhOiBqcUxpdGVEYXRhLFxuICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICBKUUxpdGVbbmFtZV0gPSBmbjtcbn0pO1xuXG5mb3JFYWNoKHtcbiAgZGF0YToganFMaXRlRGF0YSxcbiAgaW5oZXJpdGVkRGF0YToganFMaXRlSW5oZXJpdGVkRGF0YSxcblxuICBzY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJHNjb3BlJykgfHwganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudCwgWyckaXNvbGF0ZVNjb3BlJywgJyRzY29wZSddKTtcbiAgfSxcblxuICBpc29sYXRlU2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGUnKSB8fCBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnKTtcbiAgfSxcblxuICBjb250cm9sbGVyOiBqcUxpdGVDb250cm9sbGVyLFxuXG4gIGluamVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyRpbmplY3RvcicpO1xuICB9LFxuXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSxcblxuICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsXG5cbiAgY3NzOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBjYW1lbENhc2UobmFtZSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgYXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgbG93ZXJjYXNlZE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgaWYgKEJPT0xFQU5fQVRUUltsb3dlcmNhc2VkTmFtZV0pIHtcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIGlmICghIXZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudFtuYW1lXSA9IHRydWU7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgbG93ZXJjYXNlZE5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShsb3dlcmNhc2VkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoZWxlbWVudFtuYW1lXSB8fFxuICAgICAgICAgICAgICAgICAoZWxlbWVudC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShuYW1lKSB8fCBub29wKS5zcGVjaWZpZWQpXG4gICAgICAgICAgICAgICA/IGxvd2VyY2FzZWROYW1lXG4gICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAvLyB0aGUgZXh0cmEgYXJndW1lbnQgXCIyXCIgaXMgdG8gZ2V0IHRoZSByaWdodCB0aGluZyBmb3IgYS5ocmVmIGluIElFLCBzZWUgalF1ZXJ5IGNvZGVcbiAgICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgdmFyIHJldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUsIDIpO1xuICAgICAgLy8gbm9ybWFsaXplIG5vbi1leGlzdGluZyBhdHRyaWJ1dGVzIHRvIHVuZGVmaW5lZCAoYXMgalF1ZXJ5KVxuICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICB9XG4gIH0sXG5cbiAgcHJvcDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgdGV4dDogKGZ1bmN0aW9uKCkge1xuICAgIGdldFRleHQuJGR2ID0gJyc7XG4gICAgcmV0dXJuIGdldFRleHQ7XG5cbiAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgICAgIHJldHVybiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkgPyBlbGVtZW50LnRleHRDb250ZW50IDogJyc7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgfVxuICB9KSgpLFxuXG4gIHZhbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSAmJiBub2RlTmFtZV8oZWxlbWVudCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDAgPyBudWxsIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgfSxcblxuICBodG1sOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmlubmVySFRNTDtcbiAgICB9XG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH0sXG5cbiAgZW1wdHk6IGpxTGl0ZUVtcHR5XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogUHJvcGVydGllczogd3JpdGVzIHJldHVybiBzZWxlY3Rpb24sIHJlYWRzIHJldHVybiBmaXJzdCB2YWx1ZVxuICAgKi9cbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcbiAgICB2YXIgaSwga2V5O1xuICAgIHZhciBub2RlQ291bnQgPSB0aGlzLmxlbmd0aDtcblxuICAgIC8vIGpxTGl0ZUhhc0NsYXNzIGhhcyBvbmx5IHR3byBhcmd1bWVudHMsIGJ1dCBpcyBhIGdldHRlci1vbmx5IGZuLCBzbyB3ZSBuZWVkIHRvIHNwZWNpYWwtY2FzZSBpdFxuICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxuICAgIC8vIGpxTGl0ZUVtcHR5IHRha2VzIG5vIGFyZ3VtZW50cyBidXQgaXMgYSBzZXR0ZXIuXG4gICAgaWYgKGZuICE9PSBqcUxpdGVFbXB0eSAmJlxuICAgICAgICAoKChmbi5sZW5ndGggPT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xuXG4gICAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBidXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSB0aGUga2V5L3ZhbHVlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHtcbiAgICAgICAgICAgIC8vIGRhdGEoKSB0YWtlcyB0aGUgd2hvbGUgb2JqZWN0IGluIGpRdWVyeVxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZzEpIHtcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC5cbiAgICAgICAgLy8gVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XG4gICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgIHZhciBqaiA9ICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamo7IGorKykge1xuICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgZm4odGhpc1tpXSwgYXJnMSwgYXJnMik7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XG4gIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdHlwZSkge1xuICAgIC8vIGpRdWVyeSBzcGVjaWZpYyBhcGlcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZSB8fCBldmVudC50eXBlXTtcbiAgICB2YXIgZXZlbnRGbnNMZW5ndGggPSBldmVudEZucyA/IGV2ZW50Rm5zLmxlbmd0aCA6IDA7XG5cbiAgICBpZiAoIWV2ZW50Rm5zTGVuZ3RoKSByZXR1cm47XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xuICAgICAgdmFyIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7XG4gICAgfTtcblxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgIGlmICgoZXZlbnRGbnNMZW5ndGggPiAxKSkge1xuICAgICAgZXZlbnRGbnMgPSBzaGFsbG93Q29weShldmVudEZucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEZuc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgZXZlbnRGbnNbaV0uY2FsbChlbGVtZW50LCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrIGZvciBhbmd1bGFyTW9ja3MvY2xlYXJEYXRhQ2FjaGUgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBkZXJlZ2lzdGVyIGFsbFxuICAvLyAgICAgICBldmVudHMgb24gYGVsZW1lbnRgXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIHRyYXZlcnNhbC5cbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcbi8vIHNlbGVjdG9yLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mb3JFYWNoKHtcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcblxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xuXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgICBpZiAoIWhhbmRsZSkge1xuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XG4gICAgdmFyIHR5cGVzID0gdHlwZS5pbmRleE9mKCcgJykgPj0gMCA/IHR5cGUuc3BsaXQoJyAnKSA6IFt0eXBlXTtcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFldmVudEZucykge1xuICAgICAgICBldmVudHNbdHlwZV0gPSBbXTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgICAgIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXG4gICAgICAgICAgLy8gUmVhZCBhYm91dCBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlOlxuICAgICAgICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzX21vdXNlLmh0bWwjbGluazhcblxuICAgICAgICAgIGpxTGl0ZU9uKGVsZW1lbnQsIE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLCByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgICAgICAgICAgIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG4gICAgICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWQpKSkge1xuICAgICAgICAgICAgICBoYW5kbGUoZXZlbnQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIH1cbiAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xuICAgIH1cbiAgfSxcblxuICBvZmY6IGpxTGl0ZU9mZixcblxuICBvbmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIC8vYWRkIHRoZSBsaXN0ZW5lciB0d2ljZSBzbyB0aGF0IHdoZW4gaXQgaXMgY2FsbGVkXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxuICAgIGVsZW1lbnQub24odHlwZSwgZnVuY3Rpb24gb25GbigpIHtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xuICAgIH0pO1xuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xuICB9LFxuXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH0pO1xuICB9LFxuXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVClcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG5cbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XG5cbiAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcbiAgICB3cmFwTm9kZSA9IGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXTtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcE5vZGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB3cmFwTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSxcblxuICByZW1vdmU6IGpxTGl0ZVJlbW92ZSxcblxuICBkZXRhY2g6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBqcUxpdGVSZW1vdmUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0sXG5cbiAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgbmV3RWxlbWVudCA9IG5ldyBKUUxpdGUobmV3RWxlbWVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH1cbiAgfSxcblxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcblxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XG4gIH0sXG5cbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0sXG5cbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxuXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XG5cbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoZXZlbnRGbnMpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXG4gICAgICBkdW1teUV2ZW50ID0ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XG5cbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XG4gIH07XG5cbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXG4gIEpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XG4gIEpRTGl0ZS5wcm90b3R5cGUudW5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vZmY7XG59KTtcblxuXG4vLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXG5mdW5jdGlvbiAkJGpxTGl0ZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAkJGpxTGl0ZSgpIHtcbiAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xuICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZUFkZENsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlUmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBoYXNoIG9mIGFuICdvYmonLlxuICogSGFzaCBvZiBhOlxuICogIHN0cmluZyBpcyBzdHJpbmdcbiAqICBudW1iZXIgaXMgbnVtYmVyIGFzIHN0cmluZ1xuICogIG9iamVjdCBpcyBlaXRoZXIgcmVzdWx0IG9mIGNhbGxpbmcgJCRoYXNoS2V5IGZ1bmN0aW9uIG9uIHRoZSBvYmplY3Qgb3IgdW5pcXVlbHkgZ2VuZXJhdGVkIGlkLFxuICogICAgICAgICB0aGF0IGlzIGFsc28gYXNzaWduZWQgdG8gdGhlICQkaGFzaEtleSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGhhc2ggc3RyaW5nIHN1Y2ggdGhhdCB0aGUgc2FtZSBpbnB1dCB3aWxsIGhhdmUgdGhlIHNhbWUgaGFzaCBzdHJpbmcuXG4gKiAgICAgICAgIFRoZSByZXN1bHRpbmcgc3RyaW5nIGtleSBpcyBpbiAndHlwZTpoYXNoS2V5JyBmb3JtYXQuXG4gKi9cbmZ1bmN0aW9uIGhhc2hLZXkob2JqLCBuZXh0VWlkRm4pIHtcbiAgdmFyIGtleSA9IG9iaiAmJiBvYmouJCRoYXNoS2V5O1xuXG4gIGlmIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSgpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xuICBpZiAob2JqVHlwZSA9PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcbiAgICBrZXkgPSBvYmouJCRoYXNoS2V5ID0gb2JqVHlwZSArICc6JyArIChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTtcbiAgfSBlbHNlIHtcbiAgICBrZXkgPSBvYmpUeXBlICsgJzonICsgb2JqO1xuICB9XG5cbiAgcmV0dXJuIGtleTtcbn1cblxuLyoqXG4gKiBIYXNoTWFwIHdoaWNoIGNhbiB1c2Ugb2JqZWN0cyBhcyBrZXlzXG4gKi9cbmZ1bmN0aW9uIEhhc2hNYXAoYXJyYXksIGlzb2xhdGVkVWlkKSB7XG4gIGlmIChpc29sYXRlZFVpZCkge1xuICAgIHZhciB1aWQgPSAwO1xuICAgIHRoaXMubmV4dFVpZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICsrdWlkO1xuICAgIH07XG4gIH1cbiAgZm9yRWFjaChhcnJheSwgdGhpcy5wdXQsIHRoaXMpO1xufVxuSGFzaE1hcC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBTdG9yZSBrZXkgdmFsdWUgcGFpclxuICAgKiBAcGFyYW0ga2V5IGtleSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxuICAgKi9cbiAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV0gPSB2YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgdmFsdWUgZm9yIHRoZSBrZXlcbiAgICovXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGtleS92YWx1ZSBwYWlyXG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gdGhpc1trZXkgPSBoYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XG4gICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBhbmd1bGFyLmluamVjdG9yXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhbiBpbmplY3RvciBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBmb3IgcmV0cmlldmluZyBzZXJ2aWNlcyBhcyB3ZWxsIGFzIGZvclxuICogZGVwZW5kZW5jeSBpbmplY3Rpb24gKHNlZSB7QGxpbmsgZ3VpZGUvZGkgZGVwZW5kZW5jeSBpbmplY3Rpb259KS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBtb2R1bGVzIEEgbGlzdCBvZiBtb2R1bGUgZnVuY3Rpb25zIG9yIHRoZWlyIGFsaWFzZXMuIFNlZVxuICogICAgIHtAbGluayBhbmd1bGFyLm1vZHVsZX0uIFRoZSBgbmdgIG1vZHVsZSBtdXN0IGJlIGV4cGxpY2l0bHkgYWRkZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIFdoZXRoZXIgdGhlIGluamVjdG9yIHNob3VsZCBiZSBpbiBzdHJpY3QgbW9kZSwgd2hpY2hcbiAqICAgICBkaXNhbGxvd3MgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqIEByZXR1cm5zIHtpbmplY3Rvcn0gSW5qZWN0b3Igb2JqZWN0LiBTZWUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIFR5cGljYWwgdXNhZ2VcbiAqIGBgYGpzXG4gKiAgIC8vIGNyZWF0ZSBhbiBpbmplY3RvclxuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJ10pO1xuICpcbiAqICAgLy8gdXNlIHRoZSBpbmplY3RvciB0byBraWNrIG9mZiB5b3VyIGFwcGxpY2F0aW9uXG4gKiAgIC8vIHVzZSB0aGUgdHlwZSBpbmZlcmVuY2UgdG8gYXV0byBpbmplY3QgYXJndW1lbnRzLCBvciB1c2UgaW1wbGljaXQgaW5qZWN0aW9uXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICRkb2N1bWVudCkge1xuICogICAgICRjb21waWxlKCRkb2N1bWVudCkoJHJvb3RTY29wZSk7XG4gKiAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogU29tZXRpbWVzIHlvdSB3YW50IHRvIGdldCBhY2Nlc3MgdG8gdGhlIGluamVjdG9yIG9mIGEgY3VycmVudGx5IHJ1bm5pbmcgQW5ndWxhciBhcHBcbiAqIGZyb20gb3V0c2lkZSBBbmd1bGFyLiBQZXJoYXBzLCB5b3Ugd2FudCB0byBpbmplY3QgYW5kIGNvbXBpbGUgc29tZSBtYXJrdXAgYWZ0ZXIgdGhlXG4gKiBhcHBsaWNhdGlvbiBoYXMgYmVlbiBib290c3RyYXBwZWQuIFlvdSBjYW4gZG8gdGhpcyB1c2luZyB0aGUgZXh0cmEgYGluamVjdG9yKClgIGFkZGVkXG4gKiB0byBKUXVlcnkvanFMaXRlIGVsZW1lbnRzLiBTZWUge0BsaW5rIGFuZ3VsYXIuZWxlbWVudH0uXG4gKlxuICogKlRoaXMgaXMgZmFpcmx5IHJhcmUgYnV0IGNvdWxkIGJlIHRoZSBjYXNlIGlmIGEgdGhpcmQgcGFydHkgbGlicmFyeSBpcyBpbmplY3RpbmcgdGhlXG4gKiBtYXJrdXAuKlxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBhIG5ldyBibG9jayBvZiBIVE1MIGNvbnRhaW5pbmcgYSBgbmctY29udHJvbGxlcmBcbiAqIGRpcmVjdGl2ZSBpcyBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBib2R5IGJ5IEpRdWVyeS4gV2UgdGhlbiBjb21waWxlIGFuZCBsaW5rXG4gKiBpdCBpbnRvIHRoZSBjdXJyZW50IEFuZ3VsYXJKUyBzY29wZS5cbiAqXG4gKiBgYGBqc1xuICogdmFyICRkaXYgPSAkKCc8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNeUN0cmxcIj57e2NvbnRlbnQubGFiZWx9fTwvZGl2PicpO1xuICogJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoJGRpdik7XG4gKlxuICogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5pbmplY3RvcigpLmludm9rZShmdW5jdGlvbigkY29tcGlsZSkge1xuICogICB2YXIgc2NvcGUgPSBhbmd1bGFyLmVsZW1lbnQoJGRpdikuc2NvcGUoKTtcbiAqICAgJGNvbXBpbGUoJGRpdikoc2NvcGUpO1xuICogfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgYXV0b1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogSW1wbGljaXQgbW9kdWxlIHdoaWNoIGdldHMgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICovXG5cbnZhciBGTl9BUkdTID0gL15mdW5jdGlvblxccypbXlxcKF0qXFwoXFxzKihbXlxcKV0qKVxcKS9tO1xudmFyIEZOX0FSR19TUExJVCA9IC8sLztcbnZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcbnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuXG5mdW5jdGlvbiBhbm9uRm4oZm4pIHtcbiAgLy8gRm9yIGFub255bW91cyBmdW5jdGlvbnMsIHNob3dpbmcgYXQgdGhlIHZlcnkgbGVhc3QgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gaGVscCBpblxuICAvLyBkZWJ1Z2dpbmcuXG4gIHZhciBmblRleHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKSxcbiAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goRk5fQVJHUyk7XG4gIGlmIChhcmdzKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgKGFyZ3NbMV0gfHwgJycpLnJlcGxhY2UoL1tcXHNcXHJcXG5dKy8sICcgJykgKyAnKSc7XG4gIH1cbiAgcmV0dXJuICdmbic7XG59XG5cbmZ1bmN0aW9uIGFubm90YXRlKGZuLCBzdHJpY3REaSwgbmFtZSkge1xuICB2YXIgJGluamVjdCxcbiAgICAgIGZuVGV4dCxcbiAgICAgIGFyZ0RlY2wsXG4gICAgICBsYXN0O1xuXG4gIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoISgkaW5qZWN0ID0gZm4uJGluamVjdCkpIHtcbiAgICAgICRpbmplY3QgPSBbXTtcbiAgICAgIGlmIChmbi5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHN0cmljdERpKSB7XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWUgfHwgYW5vbkZuKGZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdzdHJpY3RkaScsXG4gICAgICAgICAgICAnezB9IGlzIG5vdCB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIGFuZCBjYW5ub3QgYmUgaW52b2tlZCBpbiBzdHJpY3QgbW9kZScsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGZuVGV4dCA9IGZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpO1xuICAgICAgICBhcmdEZWNsID0gZm5UZXh0Lm1hdGNoKEZOX0FSR1MpO1xuICAgICAgICBmb3JFYWNoKGFyZ0RlY2xbMV0uc3BsaXQoRk5fQVJHX1NQTElUKSwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbihhbGwsIHVuZGVyc2NvcmUsIG5hbWUpIHtcbiAgICAgICAgICAgICRpbmplY3QucHVzaChuYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmbi4kaW5qZWN0ID0gJGluamVjdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNBcnJheShmbikpIHtcbiAgICBsYXN0ID0gZm4ubGVuZ3RoIC0gMTtcbiAgICBhc3NlcnRBcmdGbihmbltsYXN0XSwgJ2ZuJyk7XG4gICAgJGluamVjdCA9IGZuLnNsaWNlKDAsIGxhc3QpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gJGluamVjdDtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRpbmplY3RvclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkaW5qZWN0b3JgIGlzIHVzZWQgdG8gcmV0cmlldmUgb2JqZWN0IGluc3RhbmNlcyBhcyBkZWZpbmVkIGJ5XG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSBwcm92aWRlcn0sIGluc3RhbnRpYXRlIHR5cGVzLCBpbnZva2UgbWV0aG9kcyxcbiAqIGFuZCBsb2FkIG1vZHVsZXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBhbHdheXMgaG9sZHMgdHJ1ZTpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcigpO1xuICogICBleHBlY3QoJGluamVjdG9yLmdldCgnJGluamVjdG9yJykpLnRvQmUoJGluamVjdG9yKTtcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gKiAgICAgcmV0dXJuICRpbmplY3RvcjtcbiAqICAgfSkpLnRvQmUoJGluamVjdG9yKTtcbiAqIGBgYFxuICpcbiAqICMgSW5qZWN0aW9uIEZ1bmN0aW9uIEFubm90YXRpb25cbiAqXG4gKiBKYXZhU2NyaXB0IGRvZXMgbm90IGhhdmUgYW5ub3RhdGlvbnMsIGFuZCBhbm5vdGF0aW9ucyBhcmUgbmVlZGVkIGZvciBkZXBlbmRlbmN5IGluamVjdGlvbi4gVGhlXG4gKiBmb2xsb3dpbmcgYXJlIGFsbCB2YWxpZCB3YXlzIG9mIGFubm90YXRpbmcgZnVuY3Rpb24gd2l0aCBpbmplY3Rpb24gYXJndW1lbnRzIGFuZCBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBpbmZlcnJlZCAob25seSB3b3JrcyBpZiBjb2RlIG5vdCBtaW5pZmllZC9vYmZ1c2NhdGVkKVxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKHNlcnZpY2VBKXt9KTtcbiAqXG4gKiAgIC8vIGFubm90YXRlZFxuICogICBmdW5jdGlvbiBleHBsaWNpdChzZXJ2aWNlQSkge307XG4gKiAgIGV4cGxpY2l0LiRpbmplY3QgPSBbJ3NlcnZpY2VBJ107XG4gKiAgICRpbmplY3Rvci5pbnZva2UoZXhwbGljaXQpO1xuICpcbiAqICAgLy8gaW5saW5lXG4gKiAgICRpbmplY3Rvci5pbnZva2UoWydzZXJ2aWNlQScsIGZ1bmN0aW9uKHNlcnZpY2VBKXt9XSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBJbmZlcmVuY2VcbiAqXG4gKiBJbiBKYXZhU2NyaXB0IGNhbGxpbmcgYHRvU3RyaW5nKClgIG9uIGEgZnVuY3Rpb24gcmV0dXJucyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbi4gVGhlIGRlZmluaXRpb25cbiAqIGNhbiB0aGVuIGJlIHBhcnNlZCBhbmQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBjYW4gYmUgZXh0cmFjdGVkLiBUaGlzIG1ldGhvZCBvZiBkaXNjb3ZlcmluZ1xuICogYW5ub3RhdGlvbnMgaXMgZGlzYWxsb3dlZCB3aGVuIHRoZSBpbmplY3RvciBpcyBpbiBzdHJpY3QgbW9kZS5cbiAqICpOT1RFOiogVGhpcyBkb2VzIG5vdCB3b3JrIHdpdGggbWluaWZpY2F0aW9uLCBhbmQgb2JmdXNjYXRpb24gdG9vbHMgc2luY2UgdGhlc2UgdG9vbHMgY2hhbmdlIHRoZVxuICogYXJndW1lbnQgbmFtZXMuXG4gKlxuICogIyMgYCRpbmplY3RgIEFubm90YXRpb25cbiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxuICpcbiAqICMjIElubGluZVxuICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNnZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiBhbiBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHJldHVybiB7Kn0gVGhlIGluc3RhbmNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cbiAqXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGludm9rZS4gRnVuY3Rpb24gcGFyYW1ldGVycyBhcmUgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogICB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaGFzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcXVlcnkgaWYgdGhlIHBhcnRpY3VsYXIgc2VydmljZSBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaW5qZWN0b3IgaGFzIGdpdmVuIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW5zdGFudGlhdGVcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XG4gKiBvcGVyYXRvciwgYW5kIHN1cHBsaWVzIGFsbCBvZiB0aGUgYXJndW1lbnRzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gKiBjb25zdHJ1Y3RvciBhbm5vdGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFR5cGUgQW5ub3RhdGVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMge09iamVjdH0gbmV3IGluc3RhbmNlIG9mIGBUeXBlYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXG4gKiB1c2VkIGJ5IHRoZSBpbmplY3RvciB0byBkZXRlcm1pbmUgd2hpY2ggc2VydmljZXMgbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbiB3aGVuIHRoZVxuICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXG4gKiBkZXBlbmRlbmNpZXMuXG4gKlxuICogIyBBcmd1bWVudCBuYW1lc1xuICpcbiAqIFRoZSBzaW1wbGVzdCBmb3JtIGlzIHRvIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcyBmcm9tIHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGlzIGRvbmVcbiAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcbiAqIG5hbWVzLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayB3aXRoIGNvZGUgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24uIEZvciB0aGlzIHJlYXNvbiB0aGUgZm9sbG93aW5nXG4gKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiAjIFRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXG4gKiByZXByZXNlbnQgbmFtZXMgb2Ygc2VydmljZXMgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24uXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICB2YXIgTXlDb250cm9sbGVyID0gZnVuY3Rpb24ob2JmdXNjYXRlZFNjb3BlLCBvYmZ1c2NhdGVkUm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICogICAvLyBEZWZpbmUgZnVuY3Rpb24gZGVwZW5kZW5jaWVzXG4gKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqICMgVGhlIGFycmF5IG5vdGF0aW9uXG4gKlxuICogSXQgaXMgb2Z0ZW4gZGVzaXJhYmxlIHRvIGlubGluZSBJbmplY3RlZCBmdW5jdGlvbnMgYW5kIHRoYXQncyB3aGVuIHNldHRpbmcgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXG4gKiAgIGluamVjdG9yLmludm9rZShmdW5jdGlvbigkY29tcGlsZSwgJHJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9KTtcbiAqXG4gKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfTtcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xuICogICBpbmplY3Rvci5pbnZva2UodG1wRm4pO1xuICpcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcbiAqICAgaW5qZWN0b3IuaW52b2tlKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZkNvbXBpbGUsIG9iZlJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XSk7XG4gKlxuICogICAvLyBUaGVyZWZvcmVcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxuICogICAgICBbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZ1c18kY29tcGlsZSwgb2JmdXNfJHJvb3RTY29wZSkge31dKVxuICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBuYW1lcyBvZiB0aGUgc2VydmljZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLlxuICovXG5cblxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwcm92aWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cbiAqXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUob2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkoZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKiosIGBmbmAsXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlXG4gKiAgICAgZ2l2ZW4gZmFjdG9yeSBmdW5jdGlvbi5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlKGNsYXNzKX0gLSByZWdpc3RlcnMgYSAqKmNvbnN0cnVjdG9yIGZ1bmN0aW9uKiosIGBjbGFzc2BcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgaW5zdGFudGlhdGVcbiAqICAgICAgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxuICpcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG5cbiAqIEBleGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICpcbiAqIGBgYGpzXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xuICpcbiAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XG4gKiAgICB9O1xuICpcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cbiAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xuICogICAgICByZXR1cm4ge1xuICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcbiAqICAgICAgICAgIGNvdW50ICs9IDE7XG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xuICogICAgICAgIH0sXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XG4gKiAgICAgICAgfVxuICogICAgICB9O1xuICogICAgfV07XG4gKiAgfVxuICpcbiAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XG4gKiAgICB2YXIgcG9zdFNweTtcbiAqXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XG4gKiAgICB9KSk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcbiAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XG4gKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcbiAqICAgIH0pKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB0byByZXR1cm4gdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KGdldEZuKX0gaWYgeW91IGRvIG5vdCBuZWVkIHRvXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSAkZ2V0Rm4gVGhlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLiBJbnRlcm5hbGx5IHRoaXMgaXMgYSBzaG9ydCBoYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2VcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24gcGluZygpIHtcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xuICogICAgIH07XG4gKiAgIH1dKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyB0aGUgc2VydmljZVxuICogY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcbiAqIGFzIGEgdHlwZS9jbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNsYXNzIChjb25zdHJ1Y3RvciBmdW5jdGlvbikgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB1c2luZ1xuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXG4gKiBgYGBqc1xuICogICB2YXIgUGluZyA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICogICB9O1xuICpcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xuICpcbiAqICAgUGluZy5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcbiAqICAgfTtcbiAqICAgJHByb3ZpZGUuc2VydmljZSgncGluZycsIFBpbmcpO1xuICogYGBgXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxuICogYGBganNcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xuICogICAgIHBpbmcuc2VuZCgpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0c1xuICogcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSAqKnZhbHVlXG4gKiBzZXJ2aWNlKiouXG4gKlxuICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIGFuIEFuZ3VsYXJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGFyZSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIHZhbHVlIHNlcnZpY2VzLlxuICogYGBganNcbiAqICAgJHByb3ZpZGUudmFsdWUoJ0FETUlOX1VTRVInLCAnYWRtaW4nKTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XG4gKlxuICogICAkcHJvdmlkZS52YWx1ZSgnaGFsZk9mJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xuICogICB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNjb25zdGFudFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKmNvbnN0YW50IHNlcnZpY2UqKiwgc3VjaCBhcyBhIHN0cmluZywgYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbixcbiAqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBVbmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9IGl0IGNhbiBiZVxuICogaW5qZWN0ZWQgaW50byBhIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGFuZCBpdCBjYW5ub3RcbiAqIGJlIG92ZXJyaWRkZW4gYnkgYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29uc3RhbnQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBjb25zdGFudCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOlxuICogYGBganNcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ1NIQVJEX0hFSUdIVCcsIDMwNik7XG4gKlxuICogICAkcHJvdmlkZS5jb25zdGFudCgnTVlfQ09MT1VSUycsIFsncmVkJywgJ2JsdWUnLCAnZ3JleSddKTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAqIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZGVjb3JhdG9yKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgc2VydmljZSBkZWNvcmF0b3JcbiAqIGludGVyY2VwdHMgdGhlIGNyZWF0aW9uIG9mIGEgc2VydmljZSwgYWxsb3dpbmcgaXQgdG8gb3ZlcnJpZGUgb3IgbW9kaWZ5IHRoZSBiZWhhdmlvdXIgb2YgdGhlXG4gKiBzZXJ2aWNlLiBUaGUgb2JqZWN0IHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0b3IgbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXG4gKiBvYmplY3Qgd2hpY2ggcmVwbGFjZXMgb3Igd3JhcHMgYW5kIGRlbGVnYXRlcyB0byB0aGUgb3JpZ2luYWwgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAqICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgdXNpbmdcbiAqICAgIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdG9yLmludm9rZX0gbWV0aG9kIGFuZCBpcyB0aGVyZWZvcmUgZnVsbHkgaW5qZWN0YWJsZS5cbiAqICAgIExvY2FsIGluamVjdGlvbiBhcmd1bWVudHM6XG4gKlxuICogICAgKiBgJGRlbGVnYXRlYCAtIFRoZSBvcmlnaW5hbCBzZXJ2aWNlIGluc3RhbmNlLCB3aGljaCBjYW4gYmUgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXG4gKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xuICogICAgIHJldHVybiAkZGVsZWdhdGU7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xuICB2YXIgSU5TVEFOVElBVElORyA9IHt9LFxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxuICAgICAgcGF0aCA9IFtdLFxuICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBIYXNoTWFwKFtdLCB0cnVlKSxcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XG4gICAgICAgICRwcm92aWRlOiB7XG4gICAgICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxuICAgICAgICAgICAgc2VydmljZTogc3VwcG9ydE9iamVjdChzZXJ2aWNlKSxcbiAgICAgICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSxcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcbiAgICAgICAgICAgIGRlY29yYXRvcjogZGVjb3JhdG9yXG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVySW5qZWN0b3IgPSAocHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xuICAgICAgICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsIFwiVW5rbm93biBwcm92aWRlcjogezB9XCIsIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgICB9KSksXG4gICAgICBpbnN0YW5jZUNhY2hlID0ge30sXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gKGluc3RhbmNlQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGluc3RhbmNlQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgsIGNhbGxlcik7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCwgcHJvdmlkZXIsIHVuZGVmaW5lZCwgc2VydmljZU5hbWUpO1xuICAgICAgICAgIH0pKTtcblxuXG4gIGZvckVhY2gobG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCksIGZ1bmN0aW9uKGZuKSB7IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZuIHx8IG5vb3ApOyB9KTtcblxuICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gJHByb3ZpZGVyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxlZ2F0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ3NlcnZpY2UnKTtcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkge1xuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xuICAgIH1cbiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7XG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LCB0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuLCBlbmZvcmNlKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcbiAgICAgICRnZXQ6IGVuZm9yY2UgIT09IGZhbHNlID8gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnlGbikgOiBmYWN0b3J5Rm5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XG4gICAgfV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWUobmFtZSwgdmFsKSB7IHJldHVybiBmYWN0b3J5KG5hbWUsIHZhbHVlRm4odmFsKSwgZmFsc2UpOyB9XG5cbiAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTtcbiAgICBwcm92aWRlckNhY2hlW25hbWVdID0gdmFsdWU7XG4gICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLCBkZWNvckZuKSB7XG4gICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLFxuICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xuXG4gICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnSW5zdGFuY2UgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCwgb3JpZ1Byb3ZpZGVyKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7JGRlbGVnYXRlOiBvcmlnSW5zdGFuY2V9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1vZHVsZSBMb2FkaW5nXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSB7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIGludGVybmFsIEluamVjdG9yXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xuICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdjZGVwJywgJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfScsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lICsgJyA8LSAnICsgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gSU5TVEFOVElBVElORztcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBsb2NhbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNlcnZpY2VOYW1lID0gbG9jYWxzO1xuICAgICAgICBsb2NhbHMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICRpbmplY3QgPSBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpLFxuICAgICAgICAgIGxlbmd0aCwgaSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gJGluamVjdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnB1c2goXG4gICAgICAgICAgbG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgICAgPyBsb2NhbHNba2V5XVxuICAgICAgICAgIDogZ2V0U2VydmljZShrZXksIHNlcnZpY2VOYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgIGZuID0gZm5bbGVuZ3RoXTtcbiAgICAgIH1cblxuICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhcmpzLWludm9rZS1hcHBseS12cy1zd2l0Y2hcbiAgICAgIC8vICM1Mzg4XG4gICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xuICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxuICAgICAgdmFyIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZSgoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpLnByb3RvdHlwZSB8fCBudWxsKTtcbiAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gaW52b2tlKFR5cGUsIGluc3RhbmNlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcblxuICAgICAgcmV0dXJuIGlzT2JqZWN0KHJldHVybmVkVmFsdWUpIHx8IGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSkgPyByZXR1cm5lZFZhbHVlIDogaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludm9rZTogaW52b2tlLFxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxuICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXG4gICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUgPSBhbm5vdGF0ZTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJgIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZyB3aGVuZXZlclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uICRBbmNob3JTY3JvbGxQcm92aWRlcigpIHtcblxuICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnkgZGVmYXVsdCwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IGNoYW5nZXMgdG9cbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcbiAgICogY3VycmVudCBoYXNoLlxuICAgKi9cbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICogQHJlcXVpcmVzICR3aW5kb3dcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hlbiBjYWxsZWQsIGl0IGNoZWNrcyB0aGUgY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kXG4gICAqIHNjcm9sbHMgdG8gdGhlIHJlbGF0ZWQgZWxlbWVudCwgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBzcGVjaWZpZWQgaW4gdGhlXG4gICAqIFtIdG1sNSBzcGVjXShodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdGhlLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuXG4gICAqXG4gICAqIEl0IGFsc28gd2F0Y2hlcyB0aGUge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBhdXRvbWF0aWNhbGx5IHNjcm9sbHMgdG9cbiAgICogbWF0Y2ggYW55IGFuY2hvciB3aGVuZXZlciBpdCBjaGFuZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjYWxsaW5nXG4gICAqIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmcgJGFuY2hvclNjcm9sbFByb3ZpZGVyLmRpc2FibGVBdXRvU2Nyb2xsaW5nKCl9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gdXNlIGl0cyB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0IHlPZmZzZXR9IHByb3BlcnR5IHRvIHNwZWNpZnkgYVxuICAgKiB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChlaXRoZXIgZml4ZWQgb3IgZHluYW1pYykuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgdmFyIGhhc2ggPSAkbG9jYXRpb24uaGFzaCgpLCBlbG07XG5cbiAgICAgIC8vIGVtcHR5IGhhc2gsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXG4gICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xuXG4gICAgICAvLyBlbGVtZW50IHdpdGggZ2l2ZW4gaWRcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkpIHNjcm9sbFRvKGVsbSk7XG5cbiAgICAgIC8vIGZpcnN0IGFuY2hvciB3aXRoIGdpdmVuIG5hbWUgOi1EXG4gICAgICBlbHNlIGlmICgoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gbm8gZWxlbWVudCBhbmQgaGFzaCA9PSAndG9wJywgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSBzY3JvbGxUbyhudWxsKTtcbiAgICB9XG5cbiAgICAvLyBkb2VzIG5vdCBzY3JvbGwgd2hlbiB1c2VyIGNsaWNrcyBvbiBhbmNob3IgbGluayB0aGF0IGlzIGN1cnJlbnRseSBvblxuICAgIC8vIChubyB1cmwgY2hhbmdlLCBubyAkbG9jYXRpb24uaGFzaCgpIGNoYW5nZSksIGJyb3dzZXIgbmF0aXZlIGRvZXMgc2Nyb2xsXG4gICAgaWYgKGF1dG9TY3JvbGxpbmdFbmFibGVkKSB7XG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2goKSB7cmV0dXJuICRsb2NhdGlvbi5oYXNoKCk7fSxcbiAgICAgICAgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgLy8gc2tpcCB0aGUgaW5pdGlhbCBzY3JvbGwgaWYgJGxvY2F0aW9uLmhhc2ggaXMgZW1wdHlcbiAgICAgICAgICBpZiAobmV3VmFsID09PSBvbGRWYWwgJiYgbmV3VmFsID09PSAnJykgcmV0dXJuO1xuXG4gICAgICAgICAganFMaXRlRG9jdW1lbnRMb2FkZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcm9sbDtcbiAgfV07XG59XG5cbnZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxuICogc3luY2hyb25vdXNseSBwZXJmb3JtcyBET01cbiAqIHVwZGF0ZXMgYW5kIGNhbGxzIGRvbmUoKSBjYWxsYmFja3MuXG4gKlxuICogSW4gb3JkZXIgdG8gZW5hYmxlIGFuaW1hdGlvbnMgdGhlIG5nQW5pbWF0ZSBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cbiAqXG4gKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IHNyYy9uZ0FuaW1hdGUvYW5pbWF0ZS5qc1xuICovXG52YXIgJEFuaW1hdGVQcm92aWRlciA9IFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuXG5cbiAgdGhpcy4kJHNlbGVjdG9ycyA9IHt9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IGluamVjdGFibGUgYW5pbWF0aW9uIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHByb2R1Y2VzIHRoZVxuICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlXG4gICAqIGFuaW1hdGVkLlxuICAgKlxuICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oRWxlbWVudCwgZG9uZUZ1bmN0aW9uKWAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gXG4gICAqICAgbXVzdCBiZSBjYWxsZWQgb25jZSB0aGUgZWxlbWVudCBhbmltYXRpb24gaXMgY29tcGxldGUuIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgdGhlbiB0aGVcbiAgICogICBhbmltYXRpb24gc2VydmljZSB3aWxsIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uIHdoZW5ldmVyIGEgY2FuY2VsIGV2ZW50IGlzXG4gICAqICAgdHJpZ2dlcmVkLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHJldHVybiB7XG4gICAgICogICAgIGV2ZW50Rm4gOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICB2YXIga2V5ID0gbmFtZSArICctYW5pbWF0aW9uJztcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPSAnLicpIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJyxcbiAgICAgICAgXCJFeHBlY3RpbmcgY2xhc3Mgc2VsZWN0b3Igc3RhcnRpbmcgd2l0aCAnLicgZ290ICd7MH0nLlwiLCBuYW1lKTtcbiAgICB0aGlzLiQkc2VsZWN0b3JzW25hbWUuc3Vic3RyKDEpXSA9IGtleTtcbiAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIENTUyBjbGFzcyByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyBjaGVja2VkIHdoZW4gcGVyZm9ybWluZ1xuICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcbiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50LlxuICAgKiBXaGVuIHNldHRpbmcgdGhlIGNsYXNzTmFtZUZpbHRlciB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyID0gKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApID8gZXhwcmVzc2lvbiA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRxJywgJyQkYXN5bmNDYWxsYmFjaycsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJCRxLCAkJGFzeW5jQ2FsbGJhY2ssICRyb290U2NvcGUpIHtcblxuICAgIHZhciBjdXJyZW50RGVmZXI7XG5cbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZuKSB7XG4gICAgICB2YXIgY2FuY2VsRm4sIGRlZmVyID0gJCRxLmRlZmVyKCk7XG4gICAgICBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm4gPSBmdW5jdGlvbiBuZ0FuaW1hdGVNYXliZUNhbmNlbCgpIHtcbiAgICAgICAgY2FuY2VsRm4gJiYgY2FuY2VsRm4oKTtcbiAgICAgIH07XG5cbiAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uIG5nQW5pbWF0ZVBvc3REaWdlc3QoKSB7XG4gICAgICAgIGNhbmNlbEZuID0gZm4oZnVuY3Rpb24gbmdBbmltYXRlTm90aWZ5Q29tcGxldGUoKSB7XG4gICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgICAgdmFyIHRvQWRkID0gW10sIHRvUmVtb3ZlID0gW107XG5cbiAgICAgIHZhciBoYXNDbGFzc2VzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3JFYWNoKChlbGVtZW50LmF0dHIoJ2NsYXNzJykgfHwgJycpLnNwbGl0KC9cXHMrLyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICBoYXNDbGFzc2VzW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGhhc0NsYXNzID0gaGFzQ2xhc3Nlc1tjbGFzc05hbWVdO1xuXG4gICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudCBjbGFzcyBtYW5pcHVsYXRpb24gKHZpYSAkYW5pbWF0ZSkgd2FzIHRvIHJlbW92ZSB0aGUgY2xhc3MsIGFuZCB0aGVcbiAgICAgICAgLy8gZWxlbWVudCBjdXJyZW50bHkgaGFzIHRoZSBjbGFzcywgdGhlIGNsYXNzIGlzIHNjaGVkdWxlZCBmb3IgcmVtb3ZhbC4gT3RoZXJ3aXNlLCBpZlxuICAgICAgICAvLyB0aGUgbW9zdCByZWNlbnQgY2xhc3MgbWFuaXB1bGF0aW9uICh2aWEgJGFuaW1hdGUpIHdhcyB0byBhZGQgdGhlIGNsYXNzLCBhbmQgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgZG9lcyBub3QgY3VycmVudGx5IGhhdmUgdGhlIGNsYXNzLCB0aGUgY2xhc3MgaXMgc2NoZWR1bGVkIHRvIGJlIGFkZGVkLlxuICAgICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSAmJiBoYXNDbGFzcykge1xuICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IHRydWUgJiYgIWhhc0NsYXNzKSB7XG4gICAgICAgICAgdG9BZGQucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuICh0b0FkZC5sZW5ndGggKyB0b1JlbW92ZS5sZW5ndGgpID4gMCAmJlxuICAgICAgICBbdG9BZGQubGVuZ3RoID8gdG9BZGQgOiBudWxsLCB0b1JlbW92ZS5sZW5ndGggPyB0b1JlbW92ZSA6IG51bGxdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhY2hlZENsYXNzTWFuaXB1bGF0aW9uKGNhY2hlLCBjbGFzc2VzLCBvcCkge1xuICAgICAgZm9yICh2YXIgaT0wLCBpaSA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3Nlc1tpXTtcbiAgICAgICAgY2FjaGVbY2xhc3NOYW1lXSA9IG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzeW5jUHJvbWlzZSgpIHtcbiAgICAgIC8vIG9ubHkgc2VydmUgb25lIGluc3RhbmNlIG9mIGEgcHJvbWlzZSBpbiBvcmRlciB0byBzYXZlIENQVSBjeWNsZXNcbiAgICAgIGlmICghY3VycmVudERlZmVyKSB7XG4gICAgICAgIGN1cnJlbnREZWZlciA9ICQkcS5kZWZlcigpO1xuICAgICAgICAkJGFzeW5jQ2FsbGJhY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY3VycmVudERlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICBjdXJyZW50RGVmZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50RGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc3R5bGVzID0gZXh0ZW5kKG9wdGlvbnMuZnJvbSB8fCB7fSwgb3B0aW9ucy50byB8fCB7fSk7XG4gICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRhbmltYXRlXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIHByb3ZpZGVzIHJ1ZGltZW50YXJ5IERPTSBtYW5pcHVsYXRpb24gZnVuY3Rpb25zIHRvXG4gICAgICogaW5zZXJ0LCByZW1vdmUgYW5kIG1vdmUgZWxlbWVudHMgd2l0aGluIHRoZSBET00sIGFzIHdlbGwgYXMgYWRkaW5nIGFuZCByZW1vdmluZyBjbGFzc2VzLlxuICAgICAqIFRoaXMgc2VydmljZSBpcyB0aGUgY29yZSBzZXJ2aWNlIHVzZWQgYnkgdGhlIG5nQW5pbWF0ZSAkYW5pbWF0b3Igc2VydmljZSB3aGljaCBwcm92aWRlc1xuICAgICAqIGhpZ2gtbGV2ZWwgYW5pbWF0aW9uIGhvb2tzIGZvciBDU1MgYW5kIEphdmFTY3JpcHQuXG4gICAgICpcbiAgICAgKiAkYW5pbWF0ZSBpcyBhdmFpbGFibGUgaW4gdGhlIEFuZ3VsYXJKUyBjb3JlLCBob3dldmVyLCB0aGUgbmdBbmltYXRlIG1vZHVsZSBtdXN0IGJlIGluY2x1ZGVkXG4gICAgICogdG8gZW5hYmxlIGZ1bGwgb3V0IGFuaW1hdGlvbiBzdXBwb3J0LiBPdGhlcndpc2UsICRhbmltYXRlIHdpbGwgb25seSBwZXJmb3JtIHNpbXBsZSBET01cbiAgICAgKiBtYW5pcHVsYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgZW5hYmxpbmcgYW5pbWF0aW9uIHN1cHBvcnQsIGNsaWNrIGhlcmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGVcbiAgICAgKiBuZ0FuaW1hdGUgbW9kdWxlIHBhZ2V9IGFzIHdlbGwgYXMgdGhlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgbmdBbmltYXRlICRhbmltYXRlIHNlcnZpY2VcbiAgICAgKiBwYWdlfS5cbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8pIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgeyBmcm9tOiBmcm9tLCB0bzogdG8gfSk7XG4gICAgICAgIHJldHVybiBhc3luY1Byb21pc2UoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yXG4gICAgICAgKiBhcyB0aGUgZmlyc3QgY2hpbGQgd2l0aGluIHRoZSBgcGFyZW50YCBlbGVtZW50LiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlXG4gICAgICAgKiBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcbiAgICAgICAqICAgYSBjaGlsZCAoaWYgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyIHRoZSBzaWJsaW5nIGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnRcbiAgICAgICAqICAgYWZ0ZXIgaXRzZWxmXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAqL1xuICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFmdGVyID8gYWZ0ZXIuYWZ0ZXIoZWxlbWVudClcbiAgICAgICAgICAgICAgOiBwYXJlbnQucHJlcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjbGVhdmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2VcbiAgICAgICAqIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gYXN5bmNQcm9taXNlKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIE1vdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoaW4gdGhlIERPTSB0byBiZSBwbGFjZWRcbiAgICAgICAqIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yIGluc2lkZSBvZiB0aGUgYHBhcmVudGAgZWxlbWVudC4gV2hlbiB0aGUgZnVuY3Rpb25cbiAgICAgICAqIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBtb3ZlZCBhcm91bmQgd2l0aGluIHRoZVxuICAgICAgICogICBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGVyZSB0aGUgZWxlbWVudCB3aWxsIGJlXG4gICAgICAgKiAgIGluc2VydGVkIGludG8gKGlmIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IHdoZXJlIHRoZSBlbGVtZW50IHdpbGwgYmVcbiAgICAgICAqICAgcG9zaXRpb25lZCBuZXh0IHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRG8gbm90IHJlbW92ZSBlbGVtZW50IGJlZm9yZSBpbnNlcnQuIFJlbW92aW5nIHdpbGwgY2F1c2UgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgZHJvcHBlZC4gSW5zZXJ0IHdpbGwgaW1wbGljaXRseSBkbyB0aGUgcmVtb3ZlLlxuICAgICAgICByZXR1cm4gdGhpcy5lbnRlcihlbGVtZW50LCBwYXJlbnQsIGFmdGVyLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgdGhlIHByb3ZpZGVkIGNsYXNzTmFtZSBDU1MgY2xhc3MgdmFsdWUgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIHRoZSBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqICAgYWRkZWQgdG8gaXRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBbXSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJGFkZENsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIENTUyBjbGFzcyB2YWx1ZSBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAgICogV2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgaGF2ZSB0aGUgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgW10sIGNsYXNzTmFtZSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjc2V0Q2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhbmQvb3IgcmVtb3ZlcyB0aGUgZ2l2ZW4gQ1NTIGNsYXNzZXMgdG8gYW5kIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIGl0cyBDU1MgY2xhc3NlcyBjaGFuZ2VkXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbW92ZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBTVE9SQUdFX0tFWSA9ICckJGFuaW1hdGVDbGFzc2VzJztcbiAgICAgICAgdmFyIGNyZWF0ZWRDYWNoZSA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICBjYWNoZSA9IHtcbiAgICAgICAgICAgIGNsYXNzZXM6IHt9LFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgIH07XG4gICAgICAgICAgY3JlYXRlZENhY2hlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIGNhY2hlLm9wdGlvbnMpIHtcbiAgICAgICAgICBjYWNoZS5vcHRpb25zID0gYW5ndWxhci5leHRlbmQoY2FjaGUub3B0aW9ucyB8fCB7fSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2xhc3NlcyA9IGNhY2hlLmNsYXNzZXM7XG5cbiAgICAgICAgYWRkID0gaXNBcnJheShhZGQpID8gYWRkIDogYWRkLnNwbGl0KCcgJyk7XG4gICAgICAgIHJlbW92ZSA9IGlzQXJyYXkocmVtb3ZlKSA/IHJlbW92ZSA6IHJlbW92ZS5zcGxpdCgnICcpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCBhZGQsIHRydWUpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCByZW1vdmUsIGZhbHNlKTtcblxuICAgICAgICBpZiAoY3JlYXRlZENhY2hlKSB7XG4gICAgICAgICAgY2FjaGUucHJvbWlzZSA9IHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRGF0YShTVE9SQUdFX0tFWSk7XG5cbiAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgYmVmb3JlIHBvc3REaWdlc3RcbiAgICAgICAgICAgIC8vIGlzIHJ1biB0aGVuIHRoZSBjYWNoZSB3aWxsIGJlIHVuZGVmaW5lZCBhbmQgdGhlcmUgd2lsbCBiZVxuICAgICAgICAgICAgLy8gbm8gbmVlZCBhbnltb3JlIHRvIGFkZCBvciByZW1vdmUgYW5kIG9mIHRoZSBlbGVtZW50IGNsYXNzZXNcbiAgICAgICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LCBjYWNoZS5jbGFzc2VzKTtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBzZWxmLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBjbGFzc2VzWzBdLCBjbGFzc2VzWzFdLCBjYWNoZS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZLCBjYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FjaGUucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICQkc2V0Q2xhc3NJbW1lZGlhdGVseTogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgYWRkICYmIHRoaXMuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsIGFkZCk7XG4gICAgICAgIHJlbW92ZSAmJiB0aGlzLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCByZW1vdmUpO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgZW5hYmxlZDogbm9vcCxcbiAgICAgIGNhbmNlbDogbm9vcFxuICAgIH07XG4gIH1dO1xufV07XG5cbmZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyQkckFGJywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJCRyQUYsICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuICQkckFGLnN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikgeyByZXR1cm4gJCRyQUYoZm4pOyB9XG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHJldHVybiAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xuICAgICAgfTtcbiAgfV07XG59XG5cbi8qIGdsb2JhbCBzdHJpcEhhc2g6IHRydWUgKi9cblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkYnJvd3NlclxuICogQHJlcXVpcmVzICRsb2dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcbiAqXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XG4gKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcbiAqXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXG4gKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXG4gKiB0aGUgcmVhbCBicm93c2VyIGFwaXMuXG4gKi9cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHdpbmRvdyBUaGUgZ2xvYmFsIHdpbmRvdyBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gJGxvZyB3aW5kb3cuY29uc29sZSBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gJHNuaWZmZXIgJHNuaWZmZXIgc2VydmljZVxuICovXG5mdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIHJhd0RvY3VtZW50ID0gZG9jdW1lbnRbMF0sXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeSxcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcbiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsXG4gICAgICBwZW5kaW5nRGVmZXJJZHMgPSB7fTtcblxuICBzZWxmLmlzTW9jayA9IGZhbHNlO1xuXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IDA7XG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTtcblxuICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxuICBzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QgPSBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdDtcbiAgc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24oKSB7IG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7IH07XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uKHN1cHBvcnRzIGN1cnJ5aW5nKSBhbmQgZGVjcmVtZW50cyB0aGUgYG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrc2BcbiAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIHNsaWNlQXJncyhhcmd1bWVudHMsIDEpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcbiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgICB3aGlsZSAob3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucG9wKCkoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhhc2godXJsKSB7XG4gICAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4ICsgMSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxuICAgKiBUT0RPKHZvanRhKTogcHJlZml4IHRoaXMgbWV0aG9kIHdpdGggJCQgP1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBubyBvdXRzdGFuZGluZyByZXF1ZXN0XG4gICAqL1xuICBzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIC8vIGZvcmNlIGJyb3dzZXIgdG8gZXhlY3V0ZSBhbGwgcG9sbEZucyAtIHRoaXMgaXMgbmVlZGVkIHNvIHRoYXQgY29va2llcyBhbmQgb3RoZXIgcG9sbGVycyBmaXJlXG4gICAgLy8gYXQgc29tZSBkZXRlcm1pbmlzdGljIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgdGVzdCBydW5uZXIncyBhY3Rpb25zLiBMZWF2aW5nIHRoaW5ncyB1cCB0byB0aGVcbiAgICAvLyByZWd1bGFyIHBvbGxlciB3b3VsZCByZXN1bHQgaW4gZmxha3kgdGVzdHMuXG4gICAgZm9yRWFjaChwb2xsRm5zLCBmdW5jdGlvbihwb2xsRm4pIHsgcG9sbEZuKCk7IH0pO1xuXG4gICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFBvbGwgV2F0Y2hlciBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdmFyIHBvbGxGbnMgPSBbXSxcbiAgICAgIHBvbGxUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNhZGRQb2xsRm5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBQb2xsIGZ1bmN0aW9uIHRvIGFkZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBhIGZ1bmN0aW9uIHRvIHRoZSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IHBvbGxlciBwZXJpb2RpY2FsbHkgZXhlY3V0ZXMsXG4gICAqIGFuZCBzdGFydHMgcG9sbGluZyBpZiBub3Qgc3RhcnRlZCB5ZXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSB0aGUgYWRkZWQgZnVuY3Rpb25cbiAgICovXG4gIHNlbGYuYWRkUG9sbEZuID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAoaXNVbmRlZmluZWQocG9sbFRpbWVvdXQpKSBzdGFydFBvbGxlcigxMDAsIHNldFRpbWVvdXQpO1xuICAgIHBvbGxGbnMucHVzaChmbik7XG4gICAgcmV0dXJuIGZuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgSG93IG9mdGVuIHNob3VsZCBicm93c2VyIGNhbGwgcG9sbCBmdW5jdGlvbnMgKG1zKVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHNldFRpbWVvdXQgUmVmZXJlbmNlIHRvIGEgcmVhbCBvciBmYWtlIGBzZXRUaW1lb3V0YCBmdW5jdGlvbi5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbmZpZ3VyZXMgdGhlIHBvbGxlciB0byBydW4gaW4gdGhlIHNwZWNpZmllZCBpbnRlcnZhbHMsIHVzaW5nIHRoZSBzcGVjaWZpZWRcbiAgICogc2V0VGltZW91dCBmbiBhbmQga2lja3MgaXQgb2ZmLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RhcnRQb2xsZXIoaW50ZXJ2YWwsIHNldFRpbWVvdXQpIHtcbiAgICAoZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICBmb3JFYWNoKHBvbGxGbnMsIGZ1bmN0aW9uKHBvbGxGbikgeyBwb2xsRm4oKTsgfSk7XG4gICAgICBwb2xsVGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVVJMIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZhciBjYWNoZWRTdGF0ZSwgbGFzdEhpc3RvcnlTdGF0ZSxcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcbiAgICAgIGJhc2VFbGVtZW50ID0gZG9jdW1lbnQuZmluZCgnYmFzZScpLFxuICAgICAgcmVsb2FkTG9jYXRpb24gPSBudWxsO1xuXG4gIGNhY2hlU3RhdGUoKTtcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdFVFRFUjpcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXG4gICAqXG4gICAqIFNFVFRFUjpcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cbiAgICogSWYgaHRtbDUgaGlzdG9yeSBhcGkgc3VwcG9ydGVkLCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlIGlzIHVzZWQsIG90aGVyd2lzZVxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cbiAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgb2JqZWN0IHRvIHVzZSB3aXRoIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGVcbiAgICovXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgIC8vIEluIG1vZGVybiBicm93c2VycyBgaGlzdG9yeS5zdGF0ZWAgaXMgYG51bGxgIGJ5IGRlZmF1bHQ7IHRyZWF0aW5nIGl0IHNlcGFyYXRlbHlcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuXG4gICAgLy8gc2V0dGVyXG4gICAgaWYgKHVybCkge1xuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xuXG4gICAgICAvLyBEb24ndCBjaGFuZ2UgYW55dGhpbmcgaWYgcHJldmlvdXMgYW5kIGN1cnJlbnQgVVJMcyBhbmQgc3RhdGVzIG1hdGNoLiBUaGlzIGFsc28gcHJldmVudHNcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0L2ZmYjI3MDFcbiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gdXJsICYmICghJHNuaWZmZXIuaGlzdG9yeSB8fCBzYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuICAgICAgdmFyIHNhbWVCYXNlID0gbGFzdEJyb3dzZXJVcmwgJiYgc3RyaXBIYXNoKGxhc3RCcm93c2VyVXJsKSA9PT0gc3RyaXBIYXNoKHVybCk7XG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcbiAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBzdGF0ZTtcbiAgICAgIC8vIERvbid0IHVzZSBoaXN0b3J5IEFQSSBpZiBvbmx5IHRoZSBoYXNoIGNoYW5nZWRcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcbiAgICAgIC8vIHRvIG5vdCBmaXJpbmcgYSBgaGFzaGNoYW5nZWAgbm9yIGBwb3BzdGF0ZWAgZXZlbnRcbiAgICAgIC8vIGluIHNvbWUgY2FzZXMgKHNlZSAjOTE0MykuXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XG4gICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgY2FjaGVTdGF0ZSgpO1xuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgcmVsb2FkTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gZ2V0SGFzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAvLyBnZXR0ZXJcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLSByZWxvYWRMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkLlxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcbiAgICAgIHJldHVybiByZWxvYWRMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhpc3Rvcnkuc3RhdGUgb3IgbnVsbCBpZiBoaXN0b3J5LnN0YXRlIGlzIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcbiAgICovXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XG4gIH07XG5cbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xuICAgIGNhY2hlU3RhdGUoKTtcbiAgICBmaXJlVXJsQ2hhbmdlKCk7XG4gIH1cblxuICAvLyBUaGlzIHZhcmlhYmxlIHNob3VsZCBiZSB1c2VkICpvbmx5KiBpbnNpZGUgdGhlIGNhY2hlU3RhdGUgZnVuY3Rpb24uXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBvbmx5IHBsYWNlIGluICRicm93c2VyIHdoZXJlIGBoaXN0b3J5LnN0YXRlYCBpcyByZWFkLlxuICAgIGNhY2hlZFN0YXRlID0gd2luZG93Lmhpc3Rvcnkuc3RhdGU7XG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xuICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XG4gICAgfVxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcbiAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHNlbGYudXJsKCkgJiYgbGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICAgIGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKlxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXG4gICAqL1xuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50c1xuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxuICAgICAgLy8gZG9uJ3QgZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXG5cbiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnRcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcblxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHVybCBoYXMgY2hhbmdlZCBvdXRzaWRlIG9mIEFuZ3VsYXIuXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxuICAgKi9cbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVVybENoYW5nZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNaXNjIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XG4gICAqIChhbHdheXMgcmVsYXRpdmUgLSB3aXRob3V0IGRvbWFpbilcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXG4gICAqL1xuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLywgJycpIDogJyc7XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ29va2llcyBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdmFyIGxhc3RDb29raWVzID0ge307XG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XG4gIHZhciBjb29raWVQYXRoID0gc2VsZi5iYXNlSHJlZigpO1xuXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNjb29raWVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBDb29raWUgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIENvb2tpZSB2YWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGNvb2tpZXMgbWV0aG9kIHByb3ZpZGVzIGEgJ3ByaXZhdGUnIGxvdyBsZXZlbCBhY2Nlc3MgdG8gYnJvd3NlciBjb29raWVzLlxuICAgKiBJdCBpcyBub3QgbWVhbnQgdG8gYmUgdXNlZCBkaXJlY3RseSwgdXNlIHRoZSAkY29va2llIHNlcnZpY2UgaW5zdGVhZC5cbiAgICpcbiAgICogVGhlIHJldHVybiB2YWx1ZXMgdmFyeSBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50cyB0aGF0IHRoZSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqIC0gY29va2llcygpIC0+IGhhc2ggb2YgYWxsIGNvb2tpZXMsIHRoaXMgaXMgTk9UIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgc3RhdGUsIHNvIGRvIG5vdCBtb2RpZnlcbiAgICogICBpdFxuICAgKiAtIGNvb2tpZXMobmFtZSwgdmFsdWUpIC0+IHNldCBuYW1lIHRvIHZhbHVlLCBpZiB2YWx1ZSBpcyB1bmRlZmluZWQgZGVsZXRlIHRoZSBjb29raWVcbiAgICogLSBjb29raWVzKG5hbWUpIC0+IHRoZSBzYW1lIGFzIChuYW1lLCB1bmRlZmluZWQpID09IERFTEVURVMgKG5vIG9uZSBjYWxscyBpdCByaWdodCBub3cgdGhhdFxuICAgKiAgIHdheSlcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gSGFzaCBvZiBhbGwgY29va2llcyAoaWYgY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlcilcbiAgICovXG4gIHNlbGYuY29va2llcyA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGNvb2tpZUxlbmd0aCwgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXg7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmF3RG9jdW1lbnQuY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9O3BhdGg9XCIgKyBjb29raWVQYXRoICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIGNvb2tpZUxlbmd0aCA9IChyYXdEb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJztwYXRoPScgKyBjb29raWVQYXRoKS5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgLy8gcGVyIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzIxMDkudHh0IGJyb3dzZXIgbXVzdCBhbGxvdyBhdCBtaW5pbXVtOlxuICAgICAgICAgIC8vIC0gMzAwIGNvb2tpZXNcbiAgICAgICAgICAvLyAtIDIwIGNvb2tpZXMgcGVyIHVuaXF1ZSBkb21haW5cbiAgICAgICAgICAvLyAtIDQwOTYgYnl0ZXMgcGVyIGNvb2tpZVxuICAgICAgICAgIGlmIChjb29raWVMZW5ndGggPiA0MDk2KSB7XG4gICAgICAgICAgICAkbG9nLndhcm4oXCJDb29raWUgJ1wiICsgbmFtZSArXG4gICAgICAgICAgICAgIFwiJyBwb3NzaWJseSBub3Qgc2V0IG9yIG92ZXJmbG93ZWQgYmVjYXVzZSBpdCB3YXMgdG9vIGxhcmdlIChcIiArXG4gICAgICAgICAgICAgIGNvb2tpZUxlbmd0aCArIFwiID4gNDA5NiBieXRlcykhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmF3RG9jdW1lbnQuY29va2llICE9PSBsYXN0Q29va2llU3RyaW5nKSB7XG4gICAgICAgIGxhc3RDb29raWVTdHJpbmcgPSByYXdEb2N1bWVudC5jb29raWU7XG4gICAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdChcIjsgXCIpO1xuICAgICAgICBsYXN0Q29va2llcyA9IHt9O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29raWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZUFycmF5W2ldO1xuICAgICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vaWdub3JlIG5hbWVsZXNzIGNvb2tpZXNcbiAgICAgICAgICAgIG5hbWUgPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzIHNlZW4gZm9yIGEgY29va2llIGlzIHRoZSBtb3N0XG4gICAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXRcbiAgICAgICAgICAgIC8vIGZvbGxvdyBhcmUgZm9yIGxlc3Mgc3BlY2lmaWMgcGF0aHMuXG4gICAgICAgICAgICBpZiAobGFzdENvb2tpZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhpbmRleCArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0Q29va2llcztcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICogQHJldHVybnMgeyp9IERlZmVySWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHRhc2sgdmlhIGAkYnJvd3Nlci5kZWZlci5jYW5jZWwoKWAuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeGVjdXRlcyBhIGZuIGFzeW5jaHJvbm91c2x5IHZpYSBgc2V0VGltZW91dChmbiwgZGVsYXkpYC5cbiAgICpcbiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmdcbiAgICogYHNldFRpbWVvdXRgIGluIHRlc3RzLCB0aGUgZm5zIGFyZSBxdWV1ZWQgaW4gYW4gYXJyYXksIHdoaWNoIGNhbiBiZSBwcm9ncmFtbWF0aWNhbGx5IGZsdXNoZWRcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cbiAgICpcbiAgICovXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcbiAgICB2YXIgdGltZW91dElkO1xuICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKTtcbiAgICB9LCBkZWxheSB8fCAwKTtcbiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XG4gICAgcmV0dXJuIHRpbWVvdXRJZDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICogICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkLlxuICAgKi9cbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XG4gICAgaWYgKHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXSkge1xuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxufVxuXG5mdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGxvZycsICckc25pZmZlcicsICckZG9jdW1lbnQnLFxuICAgICAgZnVuY3Rpb24oJHdpbmRvdywgJGxvZywgJHNuaWZmZXIsICRkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcik7XG4gICAgICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNhY2hlRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xuICogdGhlbS5cbiAqXG4gKiBgYGBqc1xuICpcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnbm9TdWNoQ2FjaGVJZCcpKS5ub3QudG9CZURlZmluZWQoKTtcbiAqXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XG4gKiAgY2FjaGUucHV0KFwiYW5vdGhlciBrZXlcIiwgXCJhbm90aGVyIHZhbHVlXCIpO1xuICpcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxuICogIGV4cGVjdChjYWNoZS5pbmZvKCkpLnRvRXF1YWwoe2lkOiAnY2FjaGVJZCcsIHNpemU6IDJ9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgY2FjaGUgYmVoYXZpb3IuIFByb3BlcnRpZXM6XG4gKlxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XG4gKlxuICogLSBge29iamVjdH1gIGBpbmZvKClgIOKAlCBSZXR1cm5zIGlkLCBzaXplLCBhbmQgb3B0aW9ucyBvZiBjYWNoZS5cbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcbiAqICAgaXQuXG4gKiAtIGB7eyp9fWAgYGdldCh7c3RyaW5nfSBrZXkpYCDigJQgUmV0dXJucyBjYWNoZWQgdmFsdWUgZm9yIGBrZXlgIG9yIHVuZGVmaW5lZCBmb3IgY2FjaGUgbWlzcy5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxuICogLSBge3ZvaWR9YCBgZGVzdHJveSgpYCDigJQgUmVtb3ZlcyByZWZlcmVuY2VzIHRvIHRoaXMgY2FjaGUgZnJvbSAkY2FjaGVGYWN0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjYWNoZUV4YW1wbGVBcHBcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYWNoZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlS2V5XCIgcGxhY2Vob2xkZXI9XCJLZXlcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlVmFsdWVcIiBwbGFjZWhvbGRlcj1cIlZhbHVlXCI+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHV0KG5ld0NhY2hlS2V5LCBuZXdDYWNoZVZhbHVlKVwiPkNhY2hlPC9idXR0b24+XG5cbiAgICAgICAgIDxwIG5nLWlmPVwia2V5cy5sZW5ndGhcIj5DYWNoZWQgVmFsdWVzPC9wPlxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJrZXkgaW4ga2V5c1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cImNhY2hlLmdldChrZXkpXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgIDxwPkNhY2hlIEluZm88L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBjYWNoZS5pbmZvKClcIj5cbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XG4gICAgICAgICAgIDxiIG5nLWJpbmQ9XCJ2YWx1ZVwiPjwvYj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2FjaGVFeGFtcGxlQXBwJywgW10pLlxuICAgICAgICAgY29udHJvbGxlcignQ2FjaGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICAgICAkc2NvcGUua2V5cyA9IFtdO1xuICAgICAgICAgICAkc2NvcGUuY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gICAgICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgaWYgKCRzY29wZS5jYWNoZS5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICRzY29wZS5jYWNoZS5wdXQoa2V5LCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgcCB7XG4gICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2FjaGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCwgb3B0aW9ucykge1xuICAgICAgaWYgKGNhY2hlSWQgaW4gY2FjaGVzKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCBcIkNhY2hlSWQgJ3swfScgaXMgYWxyZWFkeSB0YWtlbiFcIiwgY2FjaGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplID0gMCxcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXG4gICAgICAgICAgZGF0YSA9IHt9LFxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBscnVIYXNoID0ge30sXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgdHlwZVxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcbiAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxuICAgICAgICogdGVtcGxhdGVzIGFuZCBvdGhlciBkYXRhLlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N1cGVyQ2FjaGUnKVxuICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xuICAgICAgICogICAgfV0pO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogRXhhbXBsZSB0ZXN0OlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgaXQoJ3Nob3VsZCBiZWhhdmUgbGlrZSBhIGNhY2hlJywgaW5qZWN0KGZ1bmN0aW9uKHN1cGVyQ2FjaGUpIHtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XG4gICAgICAgKlxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDJcbiAgICAgICAqICAgIH0pO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlKCdhbm90aGVyIGtleScpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAwXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqICB9KSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3B1dFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zZXJ0cyBhIG5hbWVkIGVudHJ5IGludG8gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgdG8gYmVcbiAgICAgICAgICogcmV0cmlldmVkIGxhdGVyLCBhbmQgaW5jcmVtZW50aW5nIHRoZSBzaXplIG9mIHRoZSBjYWNoZSBpZiB0aGUga2V5IHdhcyBub3QgYWxyZWFkeVxuICAgICAgICAgKiBwcmVzZW50IGluIHRoZSBjYWNoZS4gSWYgYmVoYXZpbmcgbGlrZSBhbiBMUlUgY2FjaGUsIGl0IHdpbGwgYWxzbyByZW1vdmUgc3RhbGVcbiAgICAgICAgICogZW50cmllcyBmcm9tIHRoZSBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IHdpbGwgbm90IGluc2VydCB1bmRlZmluZWQgdmFsdWVzIGludG8gdGhlIGNhY2hlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdW5kZXIgd2hpY2ggdGhlIGNhY2hlZCBkYXRhIGlzIHN0b3JlZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSB0aGUgdmFsdWUgdG8gc3RvcmUgYWxvbmdzaWRlIHRoZSBrZXkuIElmIGl0IGlzIHVuZGVmaW5lZCwgdGhlIGtleVxuICAgICAgICAgKiAgICB3aWxsIG5vdCBiZSBzdG9yZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgc2l6ZSsrO1xuICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgaWYgKHNpemUgPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNnZXRcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHJpZXZlcyBuYW1lZCBkYXRhIHN0b3JlZCBpbiB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBkYXRhIHRvIGJlIHJldHJpZXZlZFxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlcyBhbiBlbnRyeSBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IHN0YWxlRW5kKSBzdGFsZUVuZCA9IGxydUVudHJ5Lm47XG4gICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBscnVIYXNoW2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgICAgICBzaXplLS07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ2xlYXJzIHRoZSBjYWNoZSBvYmplY3Qgb2YgYW55IGVudHJpZXMuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICBzaXplID0gMDtcbiAgICAgICAgICBscnVIYXNoID0ge307XG4gICAgICAgICAgZnJlc2hFbmQgPSBzdGFsZUVuZCA9IG51bGw7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2Rlc3Ryb3lcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IGVudGlyZWx5LFxuICAgICAgICAgKiByZW1vdmluZyBpdCBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICBzdGF0cyA9IG51bGw7XG4gICAgICAgICAgbHJ1SGFzaCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIGNhY2hlc1tjYWNoZUlkXTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjaW5mb1xuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGEgcGFydGljdWxhciB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAgICogICA8dWw+XG4gICAgICAgICAqICAgICA8bGk+KippZCoqOiB0aGUgaWQgb2YgdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKnNpemUqKjogdGhlIG51bWJlciBvZiBlbnRyaWVzIGtlcHQgaW4gdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKi4uLioqOiBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IHdoZW4gY3JlYXRpbmcgdGhlXG4gICAgICAgICAqICAgICAgIGNhY2hlLjwvbGk+XG4gICAgICAgICAqICAgPC91bD5cbiAgICAgICAgICovXG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBleHRlbmQoe30sIHN0YXRzLCB7c2l6ZTogc2l6ZX0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogbWFrZXMgdGhlIGBlbnRyeWAgdGhlIGZyZXNoRW5kIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVmcmVzaChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkgIT0gZnJlc2hFbmQpIHtcbiAgICAgICAgICBpZiAoIXN0YWxlRW5kKSB7XG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhbGVFbmQgPT0gZW50cnkpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnkubjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5rKGVudHJ5Lm4sIGVudHJ5LnApO1xuICAgICAgICAgIGxpbmsoZW50cnksIGZyZXNoRW5kKTtcbiAgICAgICAgICBmcmVzaEVuZCA9IGVudHJ5O1xuICAgICAgICAgIGZyZXNoRW5kLm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBiaWRpcmVjdGlvbmFsbHkgbGlua3MgdHdvIGVudHJpZXMgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBsaW5rKG5leHRFbnRyeSwgcHJldkVudHJ5KSB7XG4gICAgICAgIGlmIChuZXh0RW50cnkgIT0gcHJldkVudHJ5KSB7XG4gICAgICAgICAgaWYgKG5leHRFbnRyeSkgbmV4dEVudHJ5LnAgPSBwcmV2RW50cnk7IC8vcCBzdGFuZHMgZm9yIHByZXZpb3VzLCAncHJldicgZGlkbid0IG1pbmlmeVxuICAgICAgICAgIGlmIChwcmV2RW50cnkpIHByZXZFbnRyeS5uID0gbmV4dEVudHJ5OyAvL24gc3RhbmRzIGZvciBuZXh0LCAnbmV4dCcgZGlkbid0IG1pbmlmeVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNpbmZvXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBjYWNoZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbmZvID0ge307XG4gICAgICBmb3JFYWNoKGNhY2hlcywgZnVuY3Rpb24oY2FjaGUsIGNhY2hlSWQpIHtcbiAgICAgICAgaW5mb1tjYWNoZUlkXSA9IGNhY2hlLmluZm8oKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjZ2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgYWNjZXNzIHRvIGEgY2FjaGUgb2JqZWN0IGJ5IHRoZSBgY2FjaGVJZGAgdXNlZCB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBDYWNoZSBvYmplY3QgaWRlbnRpZmllZCBieSB0aGUgY2FjaGVJZCBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBjYWNoZS5cbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKGNhY2hlSWQpIHtcbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF07XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGNhY2hlRmFjdG9yeTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHRlbXBsYXRlQ2FjaGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBmaXJzdCB0aW1lIGEgdGVtcGxhdGUgaXMgdXNlZCwgaXQgaXMgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSBjYWNoZSBmb3IgcXVpY2sgcmV0cmlldmFsLiBZb3VcbiAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgb3IgYnkgY29uc3VtaW5nIHRoZVxuICogYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlIGRpcmVjdGx5LlxuICpcbiAqIEFkZGluZyB2aWEgdGhlIGBzY3JpcHRgIHRhZzpcbiAqXG4gKiBgYGBodG1sXG4gKiAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cInRlbXBsYXRlSWQuaHRtbFwiPlxuICogICAgIDxwPlRoaXMgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRlbXBsYXRlPC9wPlxuICogICA8L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqICoqTm90ZToqKiB0aGUgYHNjcmlwdGAgdGFnIGNvbnRhaW5pbmcgdGhlIHRlbXBsYXRlIGRvZXMgbm90IG5lZWQgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGBoZWFkYCBvZlxuICogdGhlIGRvY3VtZW50LCBidXQgaXQgbXVzdCBiZSBhIGRlc2NlbmRlbnQgb2YgdGhlIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgJHJvb3RFbGVtZW50fSAoSUUsXG4gKiBlbGVtZW50IHdpdGggbmctYXBwIGF0dHJpYnV0ZSksIG90aGVyd2lzZSB0aGUgdGVtcGxhdGUgd2lsbCBiZSBpZ25vcmVkLlxuICpcbiAqIEFkZGluZyB2aWEgdGhlICR0ZW1wbGF0ZUNhY2hlIHNlcnZpY2U6XG4gKlxuICogYGBganNcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbiAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBIVE1MOlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pbmNsdWRlPVwiICd0ZW1wbGF0ZUlkLmh0bWwnIFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogb3IgZ2V0IGl0IHZpYSBKYXZhc2NyaXB0OlxuICogYGBganNcbiAqICR0ZW1wbGF0ZUNhY2hlLmdldCgndGVtcGxhdGVJZC5odG1sJylcbiAqIGBgYFxuICpcbiAqIFNlZSB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fS5cbiAqXG4gKi9cbmZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndGVtcGxhdGVzJyk7XG4gIH1dO1xufVxuXG4vKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSFcbiAqXG4gKiBET00tcmVsYXRlZCB2YXJpYWJsZXM6XG4gKlxuICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXG4gKiAtIFwiZWxlbWVudFwiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZVxuICogLSBcIiRub2RlXCIgb3IgXCIkZWxlbWVudFwiIC0ganFMaXRlLXdyYXBwZWQgbm9kZSBvciBlbGVtZW50XG4gKlxuICpcbiAqIENvbXBpbGVyIHJlbGF0ZWQgc3R1ZmY6XG4gKlxuICogLSBcImxpbmtGblwiIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmVcbiAqIC0gXCJub2RlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZVxuICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjb21wb3NpdGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY29tcGlsZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXG4gKiBjYW4gdGhlbiBiZSB1c2VkIHRvIGxpbmsge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYHNjb3BlYH0gYW5kIHRoZSB0ZW1wbGF0ZSB0b2dldGhlci5cbiAqXG4gKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cbiAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFRoaXMgZG9jdW1lbnQgaXMgYW4gaW4tZGVwdGggcmVmZXJlbmNlIG9mIGFsbCBkaXJlY3RpdmUgb3B0aW9ucy5cbiAqIEZvciBhIGdlbnRsZSBpbnRyb2R1Y3Rpb24gdG8gZGlyZWN0aXZlcyB3aXRoIGV4YW1wbGVzIG9mIGNvbW1vbiB1c2UgY2FzZXMsXG4gKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cbiAqIDwvZGl2PlxuICpcbiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCBvcHRpb25zIGZvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGUgZGlmZmVyZW5jZSByZXNpZGVzIGluIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBZb3UgY2FuIGVpdGhlciByZXR1cm4gYSBcIkRpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFwiIChzZWUgYmVsb3cpIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsXG4gKiBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmUgdGhlIGRlZmF1bHQgdmFsdWVzKS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXG4gKiA8L2Rpdj5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAgcHJpb3JpdHk6IDAsXG4gKiAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyB0ZW1wbGF0ZVVybDogJ2RpcmVjdGl2ZS5odG1sJywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICogICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAqICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlOiAnaHRtbCcsXG4gKiAgICAgICBzY29wZTogZmFsc2UsXG4gKiAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxuICogICAgICAgY29udHJvbGxlckFzOiAnc3RyaW5nQWxpYXMnLFxuICogICAgICAgcmVxdWlyZTogJ3NpYmxpbmdEaXJlY3RpdmVOYW1lJywgLy8gb3IgLy8gWydecGFyZW50RGlyZWN0aXZlTmFtZScsICc/b3B0aW9uYWxEaXJlY3RpdmVOYW1lJywgJz9eb3B0aW9uYWxQYXJlbnQnXSxcbiAqICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgICAgICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxuICogICAgICAgICB9XG4gKiAgICAgICAgIC8vIG9yXG4gKiAgICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxuICogICAgICAgfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyBsaW5rOiB7XG4gKiAgICAgICAvLyAgcHJlOiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxuICogICAgICAgLy8gIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAvLyB9XG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gbGluazogZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICB9O1xuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogQW55IHVuc3BlY2lmaWVkIG9wdGlvbnMgd2lsbCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gc2VlIHRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdy5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZXJlZm9yZSB0aGUgYWJvdmUgY2FuIGJlIHNpbXBsaWZpZWQgYXM6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgICAvLyBvclxuICogICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKlxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxuICpcbiAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGVcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxuICpcbiAqICMjIyMgYG11bHRpRWxlbWVudGBcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXG4gKiBub2RlcyB3aXRoIHRoZSBhdHRyaWJ1dGVzIGBkaXJlY3RpdmUtbmFtZS1zdGFydGAgYW5kIGBkaXJlY3RpdmUtbmFtZS1lbmRgLCBhbmQgZ3JvdXAgdGhlbVxuICogdG9nZXRoZXIgYXMgdGhlIGRpcmVjdGl2ZSBlbGVtZW50cy4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW91cmFsIChzdWNoIGFzIHtAbGluayBuZ0NsaWNrfSksIGFuZCB3aGljaFxuICogZG8gbm90IG1hbmlwdWxhdGUgb3IgcmVwbGFjZSBjaGlsZCBub2RlcyAoc3VjaCBhcyB7QGxpbmsgbmdJbmNsdWRlfSkuXG4gKlxuICogIyMjIyBgcHJpb3JpdHlgXG4gKiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkaXJlY3RpdmVzIGRlZmluZWQgb24gYSBzaW5nbGUgRE9NIGVsZW1lbnQsIHNvbWV0aW1lcyBpdFxuICogaXMgbmVjZXNzYXJ5IHRvIHNwZWNpZnkgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhcHBsaWVkLiBUaGUgYHByaW9yaXR5YCBpcyB1c2VkXG4gKiB0byBzb3J0IHRoZSBkaXJlY3RpdmVzIGJlZm9yZSB0aGVpciBgY29tcGlsZWAgZnVuY3Rpb25zIGdldCBjYWxsZWQuIFByaW9yaXR5IGlzIGRlZmluZWQgYXMgYVxuICogbnVtYmVyLiBEaXJlY3RpdmVzIHdpdGggZ3JlYXRlciBudW1lcmljYWwgYHByaW9yaXR5YCBhcmUgY29tcGlsZWQgZmlyc3QuIFByZS1saW5rIGZ1bmN0aW9uc1xuICogYXJlIGFsc28gcnVuIGluIHByaW9yaXR5IG9yZGVyLCBidXQgcG9zdC1saW5rIGZ1bmN0aW9ucyBhcmUgcnVuIGluIHJldmVyc2Ugb3JkZXIuIFRoZSBvcmRlclxuICogb2YgZGlyZWN0aXZlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGlzIHVuZGVmaW5lZC4gVGhlIGRlZmF1bHQgcHJpb3JpdHkgaXMgYDBgLlxuICpcbiAqICMjIyMgYHRlcm1pbmFsYFxuICogSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgY3VycmVudCBgcHJpb3JpdHlgIHdpbGwgYmUgdGhlIGxhc3Qgc2V0IG9mIGRpcmVjdGl2ZXNcbiAqIHdoaWNoIHdpbGwgZXhlY3V0ZSAoYW55IGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgcHJpb3JpdHkgd2lsbCBzdGlsbCBleGVjdXRlXG4gKiBhcyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9uIHNhbWUgYHByaW9yaXR5YCBpcyB1bmRlZmluZWQpLiBOb3RlIHRoYXQgZXhwcmVzc2lvbnNcbiAqIGFuZCBvdGhlciBkaXJlY3RpdmVzIHVzZWQgaW4gdGhlIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIHdpbGwgYWxzbyBiZSBleGNsdWRlZCBmcm9tIGV4ZWN1dGlvbi5cbiAqXG4gKiAjIyMjIGBzY29wZWBcbiAqICoqSWYgc2V0IHRvIGB0cnVlYCwqKiB0aGVuIGEgbmV3IHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBkaXJlY3RpdmUuIElmIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlXG4gKiBzYW1lIGVsZW1lbnQgcmVxdWVzdCBhIG5ldyBzY29wZSwgb25seSBvbmUgbmV3IHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSBuZXcgc2NvcGUgcnVsZSBkb2VzIG5vdFxuICogYXBwbHkgZm9yIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBzaW5jZSB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGUgYWx3YXlzIGdldHMgYSBuZXcgc2NvcGUuXG4gKlxuICogKipJZiBzZXQgdG8gYHt9YCAob2JqZWN0IGhhc2gpLCoqIHRoZW4gYSBuZXcgXCJpc29sYXRlXCIgc2NvcGUgaXMgY3JlYXRlZC4gVGhlICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb21cbiAqIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBUaGlzIGlzIHVzZWZ1bFxuICogd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90IGFjY2lkZW50YWxseSByZWFkIG9yIG1vZGlmeSBkYXRhIGluIHRoZVxuICogcGFyZW50IHNjb3BlLlxuICpcbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgdGFrZXMgYW4gb2JqZWN0IGhhc2ggd2hpY2ggZGVmaW5lcyBhIHNldCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0aWVzXG4gKiBkZXJpdmVkIGZyb20gdGhlIHBhcmVudCBzY29wZS4gVGhlc2UgbG9jYWwgcHJvcGVydGllcyBhcmUgdXNlZnVsIGZvciBhbGlhc2luZyB2YWx1ZXMgZm9yXG4gKiB0ZW1wbGF0ZXMuIExvY2FscyBkZWZpbml0aW9uIGlzIGEgaGFzaCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byBpdHMgc291cmNlOlxuICpcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgIHRoZW4gdGhlXG4gKiAgIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJoZWxsbyB7e25hbWV9fVwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uXG4gKiAgIG9mIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLCB0aGVuIHdpZGdldCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3RcbiAqICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG8ge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlXG4gKiAgIGBsb2NhbE5hbWVgIHByb3BlcnR5IG9uIHRoZSB3aWRnZXQgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdFxuICogICBjb21wb25lbnQgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYmktZGlyZWN0aW9uYWwgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIHRoZVxuICogICBwYXJlbnQgc2NvcGUgcHJvcGVydHkgb2YgbmFtZSBkZWZpbmVkIHZpYSB0aGUgdmFsdWUgb2YgdGhlIGBhdHRyYCBhdHRyaWJ1dGUuIElmIG5vIGBhdHRyYFxuICogICBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLlxuICogICBHaXZlbiBgPHdpZGdldCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPW15QXR0cicgfWAsIHRoZW4gd2lkZ2V0IHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAgYW5kIGFueSBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gSWYgdGhlIHBhcmVudFxuICogICBzY29wZSBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIHRocm93IGEgTk9OX0FTU0lHTkFCTEVfTU9ERUxfRVhQUkVTU0lPTiBleGNlcHRpb24uIFlvdVxuICogICBjYW4gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2luZyBgPT9gIG9yIGA9P2F0dHJgIGluIG9yZGVyIHRvIGZsYWcgdGhlIHByb3BlcnR5IGFzIG9wdGlvbmFsLiBJZlxuICogICB5b3Ugd2FudCB0byBzaGFsbG93IHdhdGNoIGZvciBjaGFuZ2VzIChpLmUuICR3YXRjaENvbGxlY3Rpb24gaW5zdGVhZCBvZiAkd2F0Y2gpIHlvdSBjYW4gdXNlXG4gKiAgIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgcHJvcGVydHkgaXMgb3B0aW9uYWwpLlxuICpcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlXG4gKiAgIGxvY2FsIG5hbWUuIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZW4gaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0b1xuICogICBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0b1xuICogICBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGUgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZSwgdGhpcyBjYW4gYmVcbiAqICAgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLlxuICogICBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYCB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWVcbiAqICAgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqXG4gKiAjIyMjIGBiaW5kVG9Db250cm9sbGVyYFxuICogV2hlbiBhbiBpc29sYXRlIHNjb3BlIGlzIHVzZWQgZm9yIGEgY29tcG9uZW50IChzZWUgYWJvdmUpLCBhbmQgYGNvbnRyb2xsZXJBc2AgaXMgdXNlZCwgYGJpbmRUb0NvbnRyb2xsZXI6IHRydWVgIHdpbGxcbiAqIGFsbG93IGEgY29tcG9uZW50IHRvIGhhdmUgaXRzIHByb3BlcnRpZXMgYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIsIHJhdGhlciB0aGFuIHRvIHNjb3BlLiBXaGVuIHRoZSBjb250cm9sbGVyXG4gKiBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBhcmUgYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogIyMjIyBgY29udHJvbGxlcmBcbiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXG4gKiBwcmUtbGlua2luZyBwaGFzZSBhbmQgaXQgaXMgc2hhcmVkIHdpdGggb3RoZXIgZGlyZWN0aXZlcyAoc2VlXG4gKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XG4gKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICpcbiAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gKiAqIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcbiAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XG4gKiAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxuICogICAgKiBgc2NvcGVgOiBvcHRpb25hbCBhcmd1bWVudCB0byBvdmVycmlkZSB0aGUgc2NvcGUuXG4gKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IG9wdGlvbmFsIGFyZ3VtZW50IHRvIGNyZWF0ZSBjbG9uZXMgb2YgdGhlIG9yaWdpbmFsIHRyYW5zY2x1ZGVkIGNvbnRlbnQuXG4gKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YDpcbiAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxuICogICAgICAgICogZGVmYXVsdDogYCRlbGVtZW50LnBhcmVudCgpYCByZXNwLiBgJGVsZW1lbnRgIGZvciBgdHJhbnNjbHVkZTonZWxlbWVudCdgIHJlc3AuIGB0cmFuc2NsdWRlOnRydWVgLlxuICogICAgICAgICogb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbCBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpXG4gKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luRm5gIGlzIHBhc3NlZCxcbiAqICAgICAgICAgIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gY3JlYXRlZCBhbmQgY2xvbmVkIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXJcbiAqICAgICAgICAgIHVzdWFsIGNvbnRhaW5lcnMgKGUuZy4gbGlrZSBgPHN2Zz5gKS5cbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cbiAqXG4gKlxuICogIyMjIyBgcmVxdWlyZWBcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcbiAqIGByZXF1aXJlYCB0YWtlcyBhIHN0cmluZyBuYW1lIChvciBhcnJheSBvZiBzdHJpbmdzKSBvZiB0aGUgZGlyZWN0aXZlKHMpIHRvIHBhc3MgaW4uIElmIGFuIGFycmF5IGlzIHVzZWQsIHRoZVxuICogaW5qZWN0ZWQgYXJndW1lbnQgd2lsbCBiZSBhbiBhcnJheSBpbiBjb3JyZXNwb25kaW5nIG9yZGVyLiBJZiBubyBzdWNoIGRpcmVjdGl2ZSBjYW4gYmVcbiAqIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzIHJhaXNlZC4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6XG4gKlxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxuICogKiBgXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJBc2BcbiAqIENvbnRyb2xsZXIgYWxpYXMgYXQgdGhlIGRpcmVjdGl2ZSBzY29wZS4gQW4gYWxpYXMgZm9yIHRoZSBjb250cm9sbGVyIHNvIGl0XG4gKiBjYW4gYmUgcmVmZXJlbmNlZCBhdCB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlLiBUaGUgZGlyZWN0aXZlIG5lZWRzIHRvIGRlZmluZSBhIHNjb3BlIGZvciB0aGlzXG4gKiBjb25maWd1cmF0aW9uIHRvIGJlIHVzZWQuIFVzZWZ1bCBpbiB0aGUgY2FzZSB3aGVuIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudC5cbiAqXG4gKlxuICogIyMjIyBgcmVzdHJpY3RgXG4gKiBTdHJpbmcgb2Ygc3Vic2V0IG9mIGBFQUNNYCB3aGljaCByZXN0cmljdHMgdGhlIGRpcmVjdGl2ZSB0byBhIHNwZWNpZmljIGRpcmVjdGl2ZVxuICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0cyAoZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMpIGFyZSB1c2VkLlxuICpcbiAqICogYEVgIC0gRWxlbWVudCBuYW1lIChkZWZhdWx0KTogYDxteS1kaXJlY3RpdmU+PC9teS1kaXJlY3RpdmU+YFxuICogKiBgQWAgLSBBdHRyaWJ1dGUgKGRlZmF1bHQpOiBgPGRpdiBteS1kaXJlY3RpdmU9XCJleHBcIj48L2Rpdj5gXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcbiAqICogYE1gIC0gQ29tbWVudDogYDwhLS0gZGlyZWN0aXZlOiBteS1kaXJlY3RpdmUgZXhwIC0tPmBcbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVOYW1lc3BhY2VgXG4gKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb2N1bWVudCB0eXBlIHVzZWQgYnkgdGhlIG1hcmt1cCBpbiB0aGUgdGVtcGxhdGUuXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxuICogaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpciB1c3VhbCBjb250YWluZXJzIGxpa2UgYDxzdmc+YCBhbmQgYDxtYXRoPmAuXG4gKlxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcbiAqICAgdG9wLWxldmVsIGVsZW1lbnRzIHN1Y2ggYXMgYDxzdmc+YCBvciBgPG1hdGg+YC5cbiAqICogYHN2Z2AgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIFNWRyBlbGVtZW50cyAoZXhjbHVkaW5nIGA8bWF0aD5gKS5cbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cbiAqXG4gKiBJZiBubyBgdGVtcGxhdGVOYW1lc3BhY2VgIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgbmFtZXNwYWNlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYGh0bWxgLlxuICpcbiAqICMjIyMgYHRlbXBsYXRlYFxuICogSFRNTCBtYXJrdXAgdGhhdCBtYXk6XG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cbiAqICogUmVwbGFjZSB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpdHNlbGYgKGlmIGByZXBsYWNlYCBpcyB0cnVlIC0gREVQUkVDQVRFRCkuXG4gKiAqIFdyYXAgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChpZiBgdHJhbnNjbHVkZWAgaXMgdHJ1ZSkuXG4gKlxuICogVmFsdWUgbWF5IGJlOlxuICpcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXG4gKiAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWBcbiAqICAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucyBhIHN0cmluZyB2YWx1ZS5cbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVVcmxgXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBCZWNhdXNlIHRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIHRoZSBjb21waWxlciB3aWxsIHN1c3BlbmQgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlcyBvbiB0aGF0IGVsZW1lbnRcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcbiAqIHNpYmxpbmcgYW5kIHBhcmVudCBlbGVtZW50cyBhcyB0aG91Z2ggdGhpcyBlbGVtZW50IGhhZCBub3QgY29udGFpbmVkIGFueSBkaXJlY3RpdmVzLlxuICpcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcbiAqIHdvdWxkIHJlc3VsdCBpbiB0aGUgd2hvbGUgYXBwIFwic3RhbGxpbmdcIiB1bnRpbCBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgLSBldmVuIGluIHRoZVxuICogY2FzZSB3aGVuIG9ubHkgb25lIGRlZXBseSBuZXN0ZWQgZGlyZWN0aXZlIGhhcyBgdGVtcGxhdGVVcmxgLlxuICpcbiAqIFRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIGV2ZW4gaWYgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHByZWxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgJHRlbXBsYXRlQ2FjaGV9XG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cbiAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJuc1xuICogYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB1cmwuICBJbiBlaXRoZXIgY2FzZSwgdGhlIHRlbXBsYXRlIFVSTCBpcyBwYXNzZWQgdGhyb3VnaCB7QGxpbmtcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cbiAqXG4gKlxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcbiAqIHNwZWNpZnkgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKlxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XG4gKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgb3IgdGhlIGVudGlyZSBlbGVtZW50OlxuICpcbiAqICogYHRydWVgIC0gdHJhbnNjbHVkZSB0aGUgY29udGVudCAoaS5lLiB0aGUgY2hpbGQgbm9kZXMpIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXG4gKiAgIGVsZW1lbnQgdGhhdCBkZWZpbmVkIGF0IGEgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGlzIGRpcmVjdGl2ZS4gV2hlbiB1c2VkLCB0aGUgYHRlbXBsYXRlYFxuICogICBwcm9wZXJ0eSBpcyBpZ25vcmVkLlxuICpcbiAqXG4gKiAjIyMjIGBjb21waWxlYFxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXG4gKlxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcbiAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcbiAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmQgYVxuICogc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICpcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXG4gKiBhIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIGluc3RlYWQgb2YgcmVseWluZyBvbiBhdXRvbWF0aWMgdGVtcGxhdGUgY29tcGlsYXRpb24gdmlhIGB0ZW1wbGF0ZWAgb3JcbiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPlxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxuICogICB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG5cbiAqIEEgY29tcGlsZSBmdW5jdGlvbiBjYW4gaGF2ZSBhIHJldHVybiB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0LlxuICpcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcbiAqICAgYGxpbmtgIHByb3BlcnR5IG9mIHRoZSBjb25maWcgb2JqZWN0IHdoZW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xuICogICBjb250cm9sIHdoZW4gYSBsaW5raW5nIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlLiBTZWUgaW5mbyBhYm91dFxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cbiAqXG4gKlxuICogIyMjIyBgbGlua2BcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXG4gKiBleGVjdXRlZCBhZnRlciB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gY2xvbmVkLiBUaGlzIGlzIHdoZXJlIG1vc3Qgb2YgdGhlIGRpcmVjdGl2ZSBsb2dpYyB3aWxsIGJlXG4gKiBwdXQuXG4gKlxuICogICAqIGBzY29wZWAgLSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gLSBUaGUgc2NvcGUgdG8gYmUgdXNlZCBieSB0aGVcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cbiAqXG4gKiAgICogYGlFbGVtZW50YCAtIGluc3RhbmNlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGlzIHRvIGJlIHVzZWQuIEl0IGlzIHNhZmUgdG9cbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxuICpcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxuICpcbiAqICAgKiBgY29udHJvbGxlcmAgLSBhIGNvbnRyb2xsZXIgaW5zdGFuY2UgLSBBIGNvbnRyb2xsZXIgaW5zdGFuY2UgaWYgYXQgbGVhc3Qgb25lIGRpcmVjdGl2ZSBvbiB0aGVcbiAqICAgICBlbGVtZW50IGRlZmluZXMgYSBjb250cm9sbGVyLiBUaGUgY29udHJvbGxlciBpcyBzaGFyZWQgYW1vbmcgYWxsIHRoZSBkaXJlY3RpdmVzLCB3aGljaCBhbGxvd3NcbiAqICAgICB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvbiBjaGFubmVsLlxuICpcbiAqICAgKiBgdHJhbnNjbHVkZUZuYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYFxuICogICAgIHBhcmFtZXRlciBvZiBkaXJlY3RpdmUgY29udHJvbGxlcnMsIHNlZSB0aGVyZSBmb3IgZGV0YWlscy5cbiAqICAgICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpYC5cbiAqXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXG4gKlxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBhZnRlciB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC5cbiAqXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcbiAqIGFuZCBsaW5rZWQgc2luY2UgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogSXQgaXMgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gaW4gdGhlIHBvc3QtbGlua2luZyBmdW5jdGlvbiBvbiBlbGVtZW50cyB0aGF0IGFyZSBub3Qgd2FpdGluZ1xuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cbiAqXG4gKlxuICogIyMjIFRyYW5zY2x1c2lvblxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB0aGUgcHJvY2VzcyBvZiBleHRyYWN0aW5nIGEgY29sbGVjdGlvbiBvZiBET00gZWxlbWVudCBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXG4gKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXG4gKlxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXG4gKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIHJlcXVlc3RzIHRyYW5zY2x1c2lvbiwgdGhlIGNvbXBpbGVyIGV4dHJhY3RzIGl0cyBjb250ZW50cyBhbmQgcHJvdmlkZXMgYSAqKnRyYW5zY2x1c2lvblxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxuICogKipsaW5raW5nIGZ1bmN0aW9uKiogdGhhdCB3aWxsIHJldHVybiB0aGUgY29tcGlsZWQgY29udGVudHMgbGlua2VkIHRvIGEgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogSWYgeW91IGFyZSBqdXN0IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRoZW4geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBmdW5jdGlvbiwgc2luY2VcbiAqIG5nVHJhbnNjbHVkZSB3aWxsIGRlYWwgd2l0aCBpdCBmb3IgdXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBtYW51YWxseSBjb250cm9sIHRoZSBpbnNlcnRpb24gYW5kIHJlbW92YWwgb2YgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaW4geW91ciBkaXJlY3RpdmVcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxuICogb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGNvbXBpbGVkIERPTSwgd2hpY2ggaXMgbGlua2VkIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xuICogdHdvIHBhcmFtZXRlcnMsIGBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHsgLi4uIH1gLCB3aGVyZSB0aGUgYGNsb25lYCBpcyBhIGZyZXNoIGNvbXBpbGVkIGNvcHkgb2YgeW91ciB0cmFuc2NsdWRlZFxuICogY29udGVudCBhbmQgdGhlIGBzY29wZWAgaXMgdGhlIG5ld2x5IGNyZWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlLCB0byB3aGljaCB0aGUgY2xvbmUgaXMgYm91bmQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBBbHdheXMgcHJvdmlkZSBhIGBjbG9uZUZuYCAoY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKSB3aGVuIHlvdSBjYWxsIGEgdHJhbnNsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBhbmQgY2FsbGluZyBgZWxlbWVudC5yZW1vdmUoKWAgdG8gcmVtb3ZlIGl0KSxcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XG4gKiBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgdGhlaXIgdHJhbnNsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBcbiAqIC0gJHJvb3RTY29wZVxuICogICAtIGlzb2xhdGVcbiAqICAgICAtIHRyYW5zY2x1c2lvblxuICogYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICogYGBgXG4gKiAtICRyb290U2NvcGVcbiAqICAgLSB0cmFuc2NsdXNpb25cbiAqIC0gaXNvbGF0ZVxuICogYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiBhY2Nlc3NpbmcgKk5vcm1hbGl6ZWQgYXR0cmlidXRlIG5hbWVzOipcbiAqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czogJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuXG4gKiB0aGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2VzcyB0b1xuICogICB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIG5ldyAnY29tcGlsZScgZGlyZWN0aXZlIGJ5IHBhc3NpbmcgYSBkaXJlY3RpdmVcbiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJ1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgICAgICAgLy8gZGlyZWN0aXZlIGZhY3RvcnkgY3JlYXRlcyBhIGxpbmsgZnVuY3Rpb25cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduIGl0IGludG8gdGhlIGN1cnJlbnQgRE9NXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAvLyBzY29wZS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jb250cm9sbGVyKCdHcmVldGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAgICAkc2NvcGUuaHRtbCA9ICdIZWxsbyB7e25hbWV9fSc7XG4gICAgICB9XSk7XG4gICAgPC9zY3JpcHQ+XG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR3JlZXRlckNvbnRyb2xsZXJcIj5cbiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj4gPGJyPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxicj5cbiAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgdGV4dGFyZWEgPSAkKCd0ZXh0YXJlYScpO1xuICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcbiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhcicuXG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIEFuZ3VsYXInKTtcbiAgICAgICB0ZXh0YXJlYS5jbGVhcigpO1xuICAgICAgIHRleHRhcmVhLnNlbmRLZXlzKCd7e25hbWV9fSEnKTtcbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnQW5ndWxhciEnKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzIC0gREVQUkVDQVRFRC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj5cbiAqICoqTm90ZToqKiBQYXNzaW5nIGEgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRvIHRoZSAkY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxuICogICBlLmcuIHdpbGwgbm90IHVzZSB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSBwYXNzIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGFzIGFcbiAqICAgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFByaW9yaXR5IG9ubHkgYXBwbHkgZGlyZWN0aXZlcyBsb3dlciB0aGFuIGdpdmVuIHByaW9yaXR5IChPbmx5IGVmZmVjdHMgdGhlXG4gKiAgICAgICAgICAgICAgICAgcm9vdCBlbGVtZW50KHMpLCBub3QgdGhlaXIgY2hpbGRyZW4pXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49LCBvcHRpb25zPSl9IGEgbGluayBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGJpbmQgdGVtcGxhdGVcbiAqIChhIERPTSBlbGVtZW50L3RyZWUpIHRvIGEgc2NvcGUuIFdoZXJlOlxuICpcbiAqICAqIGBzY29wZWAgLSBBIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSB0byBiaW5kIHRvLlxuICogICogYGNsb25lQXR0YWNoRm5gIC0gSWYgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgY2xvbmUgdGhlXG4gKiAgYHRlbXBsYXRlYCBhbmQgY2FsbCB0aGUgYGNsb25lQXR0YWNoRm5gIGZ1bmN0aW9uIGFsbG93aW5nIHRoZSBjYWxsZXIgdG8gYXR0YWNoIHRoZVxuICogIGNsb25lZCBlbGVtZW50cyB0byB0aGUgRE9NIGRvY3VtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBwbGFjZS4gVGhlIGBjbG9uZUF0dGFjaEZuYCBpc1xuICogIGNhbGxlZCBhczogPGJyPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxuICpcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cbiAqXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcbiAqXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcbiAqICAgICAgICB0byBjb250cm9sbGVyIGluc3RhbmNlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnNcbiAqICAgICAgICBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcy5cbiAqICAgICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgLSBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUF0dGFjaEZuYCB3aWxsIGFkZFxuICogICAgICAgIHRoZSBjbG9uZWQgZWxlbWVudHM7IG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWxcbiAqICAgICAgICBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpLiBTZWUgYWxzbyB0aGUgZGlyZWN0aXZlLmNvbnRyb2xsZXIgcHJvcGVydHkuXG4gKlxuICogQ2FsbGluZyB0aGUgbGlua2luZyBmdW5jdGlvbiByZXR1cm5zIHRoZSBlbGVtZW50IG9mIHRoZSB0ZW1wbGF0ZS4gSXQgaXMgZWl0aGVyIHRoZSBvcmlnaW5hbFxuICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLlxuICpcbiAqIEFmdGVyIGxpbmtpbmcgdGhlIHZpZXcgaXMgbm90IHVwZGF0ZWQgdW50aWwgYWZ0ZXIgYSBjYWxsIHRvICRkaWdlc3Qgd2hpY2ggdHlwaWNhbGx5IGlzIGRvbmUgYnlcbiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS5cbiAqXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGJvdW5kIHZpZXcsIHRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyBpdDpcbiAqXG4gKiAtIElmIHlvdSBhcmUgbm90IGFza2luZyB0aGUgbGlua2luZyBmdW5jdGlvbiB0byBjbG9uZSB0aGUgdGVtcGxhdGUsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQocylcbiAqICAgYmVmb3JlIHlvdSBzZW5kIHRoZW0gdG8gdGhlIGNvbXBpbGVyIGFuZCBrZWVwIHRoaXMgcmVmZXJlbmNlIGFyb3VuZC5cbiAqICAgYGBganNcbiAqICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8cD57e3RvdGFsfX08L3A+Jykoc2NvcGUpO1xuICogICBgYGBcbiAqXG4gKiAtIGlmIG9uIHRoZSBvdGhlciBoYW5kLCB5b3UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSBjbG9uZWQsIHRoZSB2aWV3IHJlZmVyZW5jZSBmcm9tIHRoZSBvcmlnaW5hbFxuICogICBleGFtcGxlIHdvdWxkIG5vdCBwb2ludCB0byB0aGUgY2xvbmUsIGJ1dCByYXRoZXIgdG8gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNsb25lZC4gSW5cbiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxuICogICBgYGBqc1xuICogICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxwPnt7dG90YWx9fTwvcD4nKSxcbiAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xuICpcbiAqICAgICB2YXIgY2xvbmVkRWxlbWVudCA9ICRjb21waWxlKHRlbXBsYXRlRWxlbWVudCkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQsIHNjb3BlKSB7XG4gKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxuICogICAgIH0pO1xuICpcbiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXG4gKiAgIGBgYFxuICpcbiAqXG4gKiBGb3IgaW5mb3JtYXRpb24gb24gaG93IHRoZSBjb21waWxlciB3b3Jrcywgc2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL2NvbXBpbGVyIEFuZ3VsYXIgSFRNTCBDb21waWxlcn0gc2VjdGlvbiBvZiB0aGUgRGV2ZWxvcGVyIEd1aWRlLlxuICovXG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRjb21waWxlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqL1xuJENvbXBpbGVQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZScsICckJHNhbml0aXplVXJpUHJvdmlkZXInXTtcbmZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsICQkc2FuaXRpemVVcmlQcm92aWRlcikge1xuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxuICAgICAgU3VmZml4ID0gJ0RpcmVjdGl2ZScsXG4gICAgICBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAgPSAvXlxccypkaXJlY3RpdmVcXDpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLFxuICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHdcXC1dKykoPzpcXDooW147XSspKT87PykvLFxuICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXG4gICAgICBSRVFVSVJFX1BSRUZJWF9SRUdFWFAgPSAvXig/OihcXF5cXF4/KT8oXFw/KT8oXFxeXFxePyk/KT8vO1xuXG4gIC8vIFJlZjogaHR0cDovL2RldmVsb3BlcnMud2hhdHdnLm9yZy93ZWJhcHBhcGlzLmh0bWwjZXZlbnQtaGFuZGxlci1pZGwtYXR0cmlidXRlc1xuICAvLyBUaGUgYXNzdW1wdGlvbiBpcyB0aGF0IGZ1dHVyZSBET00gZXZlbnQgYXR0cmlidXRlIG5hbWVzIHdpbGwgYmVnaW4gd2l0aFxuICAvLyAnb24nIGFuZCBiZSBjb21wb3NlZCBvZiBvbmx5IEVuZ2xpc2ggbGV0dGVycy5cbiAgdmFyIEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAgPSAvXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO1xuXG4gIGZ1bmN0aW9uIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKHNjb3BlLCBkaXJlY3RpdmVOYW1lKSB7XG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCZdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLztcblxuICAgIHZhciBiaW5kaW5ncyA9IHt9O1xuXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBkZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2lzY3AnLFxuICAgICAgICAgICAgXCJJbnZhbGlkIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBmb3IgZGlyZWN0aXZlICd7MH0nLlwiICtcbiAgICAgICAgICAgIFwiIERlZmluaXRpb246IHsuLi4gezF9OiAnezJ9JyAuLi59XCIsXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBzY29wZU5hbWUsIGRlZmluaXRpb24pO1xuICAgICAgfVxuXG4gICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0ge1xuICAgICAgICBtb2RlOiBtYXRjaFsxXVswXSxcbiAgICAgICAgY29sbGVjdGlvbjogbWF0Y2hbMl0gPT09ICcqJyxcbiAgICAgICAgb3B0aW9uYWw6IG1hdGNoWzNdID09PSAnPycsXG4gICAgICAgIGF0dHJOYW1lOiBtYXRjaFs0XSB8fCBzY29wZU5hbWVcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmluZGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZVxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBuZXcgZGlyZWN0aXZlIHdpdGggdGhlIGNvbXBpbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZGlyZWN0aXZlIGluIGNhbWVsLWNhc2UgKGkuZS4gPGNvZGU+bmdCaW5kPC9jb2RlPiB3aGljaFxuICAgKiAgICB3aWxsIG1hdGNoIGFzIDxjb2RlPm5nLWJpbmQ8L2NvZGU+KSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGVcbiAgICogICAgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGRpcmVjdGl2ZUZhY3RvcnkgQW4gaW5qZWN0YWJsZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gU2VlXG4gICAqICAgIHtAbGluayBndWlkZS9kaXJlY3RpdmV9IGZvciBtb3JlIGluZm8uXG4gICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICovXG4gICB0aGlzLmRpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnZGlyZWN0aXZlJyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICBhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwgJ2RpcmVjdGl2ZUZhY3RvcnknKTtcbiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBoYXNEaXJlY3RpdmVzW25hbWVdID0gW107XG4gICAgICAgICRwcm92aWRlLmZhY3RvcnkobmFtZSArIFN1ZmZpeCwgWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVzID0gW107XG4gICAgICAgICAgICBmb3JFYWNoKGhhc0RpcmVjdGl2ZXNbbmFtZV0sIGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksIGluZGV4KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZSA9ICRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkaXJlY3RpdmUuY29tcGlsZSAmJiBkaXJlY3RpdmUubGluaykge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBpbGUgPSB2YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5IHx8IDA7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmUgfHwgKGRpcmVjdGl2ZS5jb250cm9sbGVyICYmIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0VBJztcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLnNjb3BlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLCBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gICAgICAgICAgfV0pO1xuICAgICAgfVxuICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKG5hbWUsIHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2FIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50aW5nIFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHVwZGF0ZSB0aGUgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxuICAgKiBjdXJyZW50IGRlYnVnSW5mb0VuYWJsZWQgc3RhdGVcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICpcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGwgdGhpcyBtZXRob2QgdG8gZW5hYmxlL2Rpc2FibGUgdmFyaW91cyBkZWJ1ZyBydW50aW1lIGluZm9ybWF0aW9uIGluIHRoZSBjb21waWxlciBzdWNoIGFzIGFkZGluZ1xuICAgKiBiaW5kaW5nIGluZm9ybWF0aW9uIGFuZCBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBzY29wZSBvbiB0byBET00gZWxlbWVudHMuXG4gICAqIElmIGVuYWJsZWQsIHRoZSBjb21waWxlciB3aWxsIGFkZCB0aGUgZm9sbG93aW5nIHRvIERPTSBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBib3VuZCB0byB0aGUgc2NvcGVcbiAgICogKiBgbmctYmluZGluZ2AgQ1NTIGNsYXNzXG4gICAqICogYCRiaW5kaW5nYCBkYXRhIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbnNcbiAgICpcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcbiAgICoge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGlzYWJsaW5nIERlYnVnIERhdGF9IGZvciBtb3JlLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRpbmplY3RvcicsICckaW50ZXJwb2xhdGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckcGFyc2UnLFxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyRzY2UnLCAnJGFuaW1hdGUnLCAnJCRzYW5pdGl6ZVVyaScsXG4gICAgZnVuY3Rpb24oJGluamVjdG9yLCAgICRpbnRlcnBvbGF0ZSwgICAkZXhjZXB0aW9uSGFuZGxlciwgICAkdGVtcGxhdGVSZXF1ZXN0LCAgICRwYXJzZSxcbiAgICAgICAgICAgICAkY29udHJvbGxlciwgICAkcm9vdFNjb3BlLCAgICRkb2N1bWVudCwgICAkc2NlLCAgICRhbmltYXRlLCAgICQkc2FuaXRpemVVcmkpIHtcblxuICAgIHZhciBBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzVG9Db3B5KTtcbiAgICAgICAgdmFyIGksIGwsIGtleTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIHRoaXNba2V5XSA9IGF0dHJpYnV0ZXNUb0NvcHlba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kYXR0ciA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkbm9ybWFsaXplXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQ29udmVydHMgYW4gYXR0cmlidXRlIG5hbWUgKGUuZy4gZGFzaC9jb2xvbi91bmRlcnNjb3JlLWRlbGltaXRlZCBzdHJpbmcsIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgeC1gIG9yXG4gICAgICAgKiBgZGF0YS1gKSB0byBpdHMgbm9ybWFsaXplZCwgY2FtZWxDYXNlIGZvcm0uXG4gICAgICAgKlxuICAgICAgICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cbiAgICAgICAqXG4gICAgICAgKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gICAgICAgKi9cbiAgICAgICRub3JtYWxpemU6IGRpcmVjdGl2ZU5vcm1hbGl6ZSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciB0byB0aGUgZWxlbWVudC4gSWYgYW5pbWF0aW9uc1xuICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJGFkZENsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHJlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIGZyb20gdGhlIGVsZW1lbnQuIElmXG4gICAgICAgKiBhbmltYXRpb25zIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgcmVtb3ZhbC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgICRyZW1vdmVDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyR1cGRhdGVDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgYW5kIHJlbW92ZXMgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyB2YWx1ZXMgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIGRpZmZlcmVuY2VcbiAgICAgICAqIGJldHdlZW4gdGhlIG5ldyBhbmQgb2xkIENTUyBjbGFzcyB2YWx1ZXMgKHNwZWNpZmllZCBhcyBuZXdDbGFzc2VzIGFuZCBvbGRDbGFzc2VzKS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NlcyBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NlcyBUaGUgZm9ybWVyIENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqL1xuICAgICAgJHVwZGF0ZUNsYXNzOiBmdW5jdGlvbihuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKSB7XG4gICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCB0b0FkZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBhIG5vcm1hbGl6ZWQgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGluIGEgd2F5IHN1Y2ggdGhhdCBhbGwgZGlyZWN0aXZlc1xuICAgICAgICogY2FuIHNoYXJlIHRoZSBhdHRyaWJ1dGUuIFRoaXMgZnVuY3Rpb24gcHJvcGVybHkgaGFuZGxlcyBib29sZWFuIGF0dHJpYnV0ZXMuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBJZiBgbnVsbGAgYXR0cmlidXRlIHdpbGwgYmUgZGVsZXRlZC5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdyaXRlQXR0ciBJZiBmYWxzZSwgZG9lcyBub3Qgd3JpdGUgdGhlIHZhbHVlIHRvIERPTSBlbGVtZW50IGF0dHJpYnV0ZS5cbiAgICAgICAqICAgICBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhdHRyTmFtZSBPcHRpb25hbCBub25lIG5vcm1hbGl6ZWQgbmFtZS4gRGVmYXVsdHMgdG8ga2V5LlxuICAgICAgICovXG4gICAgICAkc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB0byB0aHJvdyBhbiBlcnJvciBpZiBcImNsYXNzXCJcbiAgICAgICAgLy9pcyBzZXQgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNpbmNlIGl0IG1heSBjYXVzZSAkdXBkYXRlQ2xhc3MgdG9cbiAgICAgICAgLy9iZWNvbWUgdW5zdGFibGUuXG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcbiAgICAgICAgICAgIGJvb2xlYW5LZXkgPSBnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIGFsaWFzZWRLZXkgPSBnZXRBbGlhc2VkQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxuICAgICAgICAgICAgbm9kZU5hbWU7XG5cbiAgICAgICAgaWYgKGJvb2xlYW5LZXkpIHtcbiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAgdGhpc1thbGlhc2VkS2V5XSA9IHZhbHVlO1xuICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5XG4gICAgICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJOYW1lID0gdGhpcy4kYXR0cltrZXldO1xuICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICgobm9kZU5hbWUgPT09ICdhJyAmJiBrZXkgPT09ICdocmVmJykgfHxcbiAgICAgICAgICAgIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3JjJykpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBhW2hyZWZdIGFuZCBpbWdbc3JjXSB2YWx1ZXNcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9ICQkc2FuaXRpemVVcmkodmFsdWUsIGtleSA9PT0gJ3NyYycpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmNzZXQnKSB7XG4gICAgICAgICAgLy8gc2FuaXRpemUgaW1nW3NyY3NldF0gdmFsdWVzXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgICAgICAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGVyZSBhcmUgc3BhY2VzIGJlY2F1c2UgaXQncyBub3QgdGhlIHNhbWUgcGF0dGVyblxuICAgICAgICAgIHZhciB0cmltbWVkU3Jjc2V0ID0gdHJpbSh2YWx1ZSk7XG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgKCAgIDk5OXggICAsfCAgIDk5OXcgICAsfCAgICx8LCAgIClcbiAgICAgICAgICB2YXIgc3JjUGF0dGVybiA9IC8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLztcbiAgICAgICAgICB2YXIgcGF0dGVybiA9IC9cXHMvLnRlc3QodHJpbW1lZFNyY3NldCkgPyBzcmNQYXR0ZXJuIDogLygsKS87XG5cbiAgICAgICAgICAvLyBzcGxpdCBzcmNzZXQgaW50byB0dXBsZSBvZiB1cmkgYW5kIGRlc2NyaXB0b3IgZXhjZXB0IGZvciB0aGUgbGFzdCBpdGVtXG4gICAgICAgICAgdmFyIHJhd1VyaXMgPSB0cmltbWVkU3Jjc2V0LnNwbGl0KHBhdHRlcm4pO1xuXG4gICAgICAgICAgLy8gZm9yIGVhY2ggdHVwbGVzXG4gICAgICAgICAgdmFyIG5iclVyaXNXaXRoMnBhcnRzID0gTWF0aC5mbG9vcihyYXdVcmlzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJyVXJpc1dpdGgycGFydHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlubmVySWR4ID0gaSAqIDI7XG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgdXJpXG4gICAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKHJhd1VyaXNbaW5uZXJJZHhdKSwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBhZGQgdGhlIGRlc2NyaXB0b3JcbiAgICAgICAgICAgIHJlc3VsdCArPSAoXCIgXCIgKyB0cmltKHJhd1VyaXNbaW5uZXJJZHggKyAxXSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNwbGl0IHRoZSBsYXN0IGl0ZW0gaW50byB1cmkgYW5kIGRlc2NyaXB0b3JcbiAgICAgICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kgKiAyXSkuc3BsaXQoL1xccy8pO1xuXG4gICAgICAgICAgLy8gc2FuaXRpemUgdGhlIGxhc3QgdXJpXG4gICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShsYXN0VHVwbGVbMF0pLCB0cnVlKTtcblxuICAgICAgICAgIC8vIGFuZCBhZGQgdGhlIGxhc3QgZGVzY3JpcHRvciBpZiBhbnlcbiAgICAgICAgICBpZiAobGFzdFR1cGxlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0obGFzdFR1cGxlWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdyaXRlQXR0ciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIG9ic2VydmVyc1xuICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSB0aGlzLiQkb2JzZXJ2ZXJzO1xuICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4odmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RleHQtYW5kLWF0dHJpYnV0ZS1iaW5kaW5ncyBEaXJlY3RpdmVzfSBndWlkZSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBubyBvbmUgcmVnaXN0ZXJlZCBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiwgc28gbGV0cyBjYWxsIGl0IG1hbnVhbGx5XG4gICAgICAgICAgICBmbihhdHRyc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMsIGZuKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlLCBzaW5jZSBpdCBtZWFucyB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gc2V0IGNsYXNzIG9uXG4gICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS5cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxuICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgICAgIGRlbm9ybWFsaXplVGVtcGxhdGUgPSAoc3RhcnRTeW1ib2wgPT0gJ3t7JyB8fCBlbmRTeW1ib2wgID09ICd9fScpXG4gICAgICAgICAgICA/IGlkZW50aXR5XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIGRlbm9ybWFsaXplVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTtcbiAgICAgICAgfSxcbiAgICAgICAgTkdfQVRUUl9CSU5ESU5HID0gL15uZ0F0dHJbQS1aXS87XG5cbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nSW5mbygkZWxlbWVudCwgYmluZGluZykge1xuICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcblxuICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5ncy5jb25jYXQoYmluZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgfVxuXG4gICAgICAkZWxlbWVudC5kYXRhKCckYmluZGluZycsIGJpbmRpbmdzKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nQ2xhc3MoJGVsZW1lbnQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIHNjb3BlLCBpc29sYXRlZCwgbm9UZW1wbGF0ZSkge1xuICAgICAgdmFyIGRhdGFOYW1lID0gaXNvbGF0ZWQgPyAobm9UZW1wbGF0ZSA/ICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScgOiAnJGlzb2xhdGVTY29wZScpIDogJyRzY29wZSc7XG4gICAgICAkZWxlbWVudC5kYXRhKGRhdGFOYW1lLCBzY29wZSk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkKSB7XG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICByZXR1cm4gY29tcGlsZTtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcbiAgICAgICAgLy8ganF1ZXJ5IGFsd2F5cyByZXdyYXBzLCB3aGVyZWFzIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNlbGVjdG9yIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGNhbiBub3QgY29tcGlsZSB0b3AgbGV2ZWwgdGV4dCBlbGVtZW50cyBzaW5jZSB0ZXh0IG5vZGVzIGNhbiBiZSBtZXJnZWQgYW5kIHdlIHdpbGxcbiAgICAgIC8vIG5vdCBiZSBhYmxlIHRvIGF0dGFjaCBzY29wZSBkYXRhIHRvIHRoZW0sIHNvIHdlIHdpbGwgd3JhcCB0aGVtIGluIDxzcGFuPlxuICAgICAgZm9yRWFjaCgkY29tcGlsZU5vZGVzLCBmdW5jdGlvbihub2RlLCBpbmRleCkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfVEVYVCAmJiBub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFxTKy8pIC8qIG5vbi1lbXB0eSAqLyApIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGVzW2luZGV4XSA9IGpxTGl0ZShub2RlKS53cmFwKCc8c3Bhbj48L3NwYW4+JykucGFyZW50KClbMF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbXBvc2l0ZUxpbmtGbiA9XG4gICAgICAgICAgICAgIGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sICRjb21waWxlTm9kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcbiAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRjb21waWxlTm9kZXMpO1xuICAgICAgdmFyIG5hbWVzcGFjZSA9IG51bGw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRBcmcoc2NvcGUsICdzY29wZScpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBvcHRpb25zLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IG9wdGlvbnMudHJhbnNjbHVkZUNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBvcHRpb25zLmZ1dHVyZVBhcmVudEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gV2hlbiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIGlzIHBhc3NlZCwgaXQgaXMgYVxuICAgICAgICAvLyBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uIChpdCB3YXMgcHJldmlvdXNseSBwYXNzZWRcbiAgICAgICAgLy8gYXMgYHRyYW5zY2x1ZGVgIHRvIGRpcmVjdGl2ZS5saW5rKSBzbyB3ZSBtdXN0IHVud3JhcCBpdCB0byBnZXRcbiAgICAgICAgLy8gaXRzIGBib3VuZFRyYW5zY2x1ZGVGbmBcbiAgICAgICAgaWYgKHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgbmFtZXNwYWNlID0gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhmdXR1cmVQYXJlbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGxpbmtOb2RlO1xuICAgICAgICBpZiAobmFtZXNwYWNlICE9PSAnaHRtbCcpIHtcbiAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgZGlyZWN0aXZlIHdpdGggcmVwbGFjZTp0cnVlIGFuZCB0ZW1wbGF0ZVVybCB0aGUgJGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIChvciBhIGNoaWxkIGVsZW1lbnQgaW5zaWRlIG9mIHRoZW0pXG4gICAgICAgICAgLy8gbWlnaHQgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBuYW1lc3BhY2UgYWRhcHRlZCBjb21waWxlTm9kZXNcbiAgICAgICAgICAvLyBmb3IgY2FsbCB0byB0aGUgbGluayBmdW5jdGlvbi5cbiAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxyZWFkeSBjbG9uZSB0aGUgbm9kZXMuLi5cbiAgICAgICAgICAkbGlua05vZGUgPSBqcUxpdGUoXG4gICAgICAgICAgICB3cmFwVGVtcGxhdGUobmFtZXNwYWNlLCBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKCRjb21waWxlTm9kZXMpLmh0bWwoKSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGNsb25lQ29ubmVjdEZuKSB7XG4gICAgICAgICAgLy8gaW1wb3J0YW50ISE6IHdlIG11c3QgY2FsbCBvdXIganFMaXRlLmNsb25lKCkgc2luY2UgdGhlIGpRdWVyeSBvbmUgaXMgdHJ5aW5nIHRvIGJlIHNtYXJ0XG4gICAgICAgICAgLy8gYW5kIHNvbWV0aW1lcyBjaGFuZ2VzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIERPTS5cbiAgICAgICAgICAkbGlua05vZGUgPSBKUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkbGlua05vZGUgPSAkY29tcGlsZU5vZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgICAgJGxpbmtOb2RlLmRhdGEoJyQnICsgY29udHJvbGxlck5hbWUgKyAnQ29udHJvbGxlcicsIHRyYW5zY2x1ZGVDb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0uaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLCBzY29wZSk7XG5cbiAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZUxpbmtGbikgY29tcG9zaXRlTGlua0ZuKHNjb3BlLCAkbGlua05vZGUsICRsaW5rTm9kZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICByZXR1cm4gJGxpbmtOb2RlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBkZXRlY3QgTWF0aE1MIGFzIHdlbGwuLi5cbiAgICAgIHZhciBub2RlID0gcGFyZW50RWxlbWVudCAmJiBwYXJlbnRFbGVtZW50WzBdO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiAnaHRtbCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgbm9kZS50b1N0cmluZygpLm1hdGNoKC9TVkcvKSA/ICdzdmcnIDogJ2h0bWwnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgZnVuY3Rpb24gbWF0Y2hlcyBlYWNoIG5vZGUgaW4gbm9kZUxpc3QgYWdhaW5zdCB0aGUgZGlyZWN0aXZlcy4gT25jZSBhbGwgZGlyZWN0aXZlc1xuICAgICAqIGZvciBhIHBhcnRpY3VsYXIgbm9kZSBhcmUgY29sbGVjdGVkIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhlIGNvbXBpbGVcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcbiAgICAgKiBmdW5jdGlvbiwgd2hpY2ggaXMgdGhlIGEgbGlua2luZyBmdW5jdGlvbiBmb3IgdGhlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxuICAgICAqICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3IGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXG4gICAgICogICAgICAgIHRoZSByb290RWxlbWVudCBtdXN0IGJlIHNldCB0aGUganFMaXRlIGNvbGxlY3Rpb24gb2YgdGhlIGNvbXBpbGUgcm9vdC4gVGhpcyBpc1xuICAgICAqICAgICAgICBuZWVkZWQgc28gdGhhdCB0aGUganFMaXRlIGNvbGxlY3Rpb24gaXRlbXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggd2lkZ2V0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGNvbXBvc2l0ZSBsaW5raW5nIGZ1bmN0aW9uIG9mIGFsbCBvZiB0aGUgbWF0Y2hlZCBkaXJlY3RpdmVzIG9yIG51bGwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua0ZucyA9IFtdLFxuICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQsIG5vZGVMaW5rRm5Gb3VuZDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gd2UgbXVzdCBhbHdheXMgcmVmZXIgdG8gbm9kZUxpc3RbaV0gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxuICAgICAgICBkaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMobm9kZUxpc3RbaV0sIFtdLCBhdHRycywgaSA9PT0gMCA/IG1heFByaW9yaXR5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgbm9kZUxpbmtGbiA9IChkaXJlY3RpdmVzLmxlbmd0aClcbiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFtdLCBbXSwgcHJldmlvdXNDb21waWxlQ29udGV4dClcbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgICBub2RlTGlua0ZuID8gKFxuICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlKSA6IHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xuICAgICAgICAgIGxpbmtGbkZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBub2RlTGlua0ZuRm91bmQgPSBub2RlTGlua0ZuRm91bmQgfHwgbm9kZUxpbmtGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIGlmIHdlIGhhdmUgZm91bmQgYW55dGhpbmcsIG51bGwgb3RoZXJ3aXNlXG4gICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xuXG4gICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgY2hpbGRTY29wZSwgaSwgaWksIGlkeCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgdmFyIHN0YWJsZU5vZGVMaXN0O1xuXG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xuICAgICAgICAgIC8vIGNvcHkgbm9kZUxpc3Qgc28gdGhhdCBpZiBhIG5vZGVMaW5rRm4gcmVtb3ZlcyBvciBhZGRzIGFuIGVsZW1lbnQgYXQgdGhpcyBET00gbGV2ZWwgb3VyXG4gICAgICAgICAgLy8gb2Zmc2V0cyBkb24ndCBnZXQgc2NyZXdlZCB1cFxuICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5ldyBBcnJheShub2RlTGlzdExlbmd0aCk7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYSBzcGFyc2UgYXJyYXkgYnkgb25seSBjb3B5aW5nIHRoZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgbGlua0ZuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmtGbnMubGVuZ3RoOyBpKz0zKSB7XG4gICAgICAgICAgICBpZHggPSBsaW5rRm5zW2ldO1xuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgICAgbm9kZSA9IHN0YWJsZU5vZGVMaXN0W2xpbmtGbnNbaSsrXV07XG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGxpbmtGbnNbaSsrXTtcbiAgICAgICAgICBjaGlsZExpbmtGbiA9IGxpbmtGbnNbaSsrXTtcblxuICAgICAgICAgIGlmIChub2RlTGlua0ZuKSB7XG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKGpxTGl0ZShub2RlKSwgY2hpbGRTY29wZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihcbiAgICAgICAgICAgICAgICAgIHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgbm9kZUxpbmtGbi5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiwgZWxlbWVudFRyYW5zY2x1c2lvbikge1xuXG4gICAgICB2YXIgYm91bmRUcmFuc2NsdWRlRm4gPSBmdW5jdGlvbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgY29udGFpbmluZ1Njb3BlKSB7XG5cbiAgICAgICAgaWYgKCF0cmFuc2NsdWRlZFNjb3BlKSB7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZSA9IHNjb3BlLiRuZXcoZmFsc2UsIGNvbnRhaW5pbmdTY29wZSk7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kJHRyYW5zY2x1ZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwge1xuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuOiBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudDogZnV0dXJlUGFyZW50RWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xuICAgICAqIHNvcnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSBkaXJlY3RpdmVzIEFuIGFycmF5IHRvIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhZGRlZCB0by4gVGhpcyBhcnJheSBpcyBzb3J0ZWQgYmVmb3JlXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlLFxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgY2xhc3NOYW1lO1xuXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpXG4gICAgICAgICAgICAgICAgLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBsZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZU5OYW1lID0gbmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCAnJyk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQoZGlyZWN0aXZlTk5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChuZ0F0dHJOYW1lID09PSBkaXJlY3RpdmVOTmFtZSArICdTdGFydCcpIHtcbiAgICAgICAgICAgICAgICBhdHRyU3RhcnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNSkgKyAnZW5kJztcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgYXR0cnNNYXBbbk5hbWVdID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XG4gICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcbiAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAvLyBNYXliZSBTVkdBbmltYXRlZFN0cmluZ1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cbiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcbiAgICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxuICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSB3aXRoIGFuIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXG4gICAgICogZGlyZWN0aXZlLWVuZC5cbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCAnezB9JyBidXQgbm8gbWF0Y2hpbmcgJ3sxfScgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSBkZXB0aCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3IgbGlua2luZyBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBub3JtYWwgbGlua2luZyBmdW5jdGlvbiBpbnRvIGEgZ3JvdXBlZFxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGxpbmtGblxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBvZiB0aGUgZGlyZWN0aXZlcyBpZiB0aGUgdGVybWluYWwgZGlyZWN0aXZlIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cbiAgICAgKiAgICAgICAgdGhpcyBuZWVkcyB0byBiZSBwcmUtc29ydGVkIGJ5IHByaW9yaXR5IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7SlFMaXRlfSBqcUNvbGxlY3Rpb24gSWYgd2UgYXJlIHdvcmtpbmcgb24gdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZSB0aGVuIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUgQW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSBpZ25vcmVkIHdoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHBvc3RMaW5rRm5zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGxpbmtGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xuXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5jb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICBjb250cm9sbGVycyxcbiAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gZmFsc2UsXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSxcbiAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPSBqcUxpdGUoY29tcGlsZU5vZGUpLFxuICAgICAgICAgIGRpcmVjdGl2ZSxcbiAgICAgICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgICAgICR0ZW1wbGF0ZSxcbiAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLFxuICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZUZuLFxuICAgICAgICAgIGxpbmtGbixcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcblxuICAgICAgLy8gZXhlY3V0ZXMgYWxsIGRpcmVjdGl2ZXMgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDtcbiAgICAgICAgdmFyIGF0dHJFbmQgPSBkaXJlY3RpdmUuJCRlbmQ7XG5cbiAgICAgICAgLy8gY29sbGVjdCBtdWx0aWJsb2NrIHNlY3Rpb25zXG4gICAgICAgIGlmIChhdHRyU3RhcnQpIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSBncm91cFNjYW4oY29tcGlsZU5vZGUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgJHRlbXBsYXRlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0ZXJtaW5hbFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSB7XG4gICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZSkge1xuXG4gICAgICAgICAgLy8gc2tpcCB0aGUgY2hlY2sgZm9yIGRpcmVjdGl2ZXMgd2l0aCBhc3luYyB0ZW1wbGF0ZXMsIHdlJ2xsIGNoZWNrIHRoZSBkZXJpdmVkIHN5bmNcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgd2hlbiB0aGUgdGVtcGxhdGUgYXJyaXZlc1xuICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYW4gaXNvbGF0ZWQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gc2NvcGUgb2YgYW55IGtpbmQgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYSBjaGlsZCBzY29wZS5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBpc29sYXRlZCBzY29wZSBhbHJlYWR5XG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IG5ld1Njb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmUubmFtZTtcblxuICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCAmJiBkaXJlY3RpdmUuY29udHJvbGxlcikge1xuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBjb250cm9sbGVyRGlyZWN0aXZlcyB8fCB7fTtcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZShcIidcIiArIGRpcmVjdGl2ZU5hbWUgKyBcIicgY29udHJvbGxlclwiLFxuICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBuZ0lmIGFuZCBuZ1JlcGVhdCBzbyB0aGF0IHdlIGRvbid0IGNvbXBsYWluIGFib3V0IGR1cGxpY2F0ZSB0cmFuc2NsdXNpb24uXG4gICAgICAgICAgLy8gVGhpcyBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBkaXJlY3RpdmVzIHRoYXQga25vdyBob3cgdG8gc2FmZWx5IGhhbmRsZSBlbGVtZW50IHRyYW5zY2x1c2lvbixcbiAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCR0bGIpIHtcbiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0cmFuc2NsdXNpb24nLCBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9PSAnZWxlbWVudCcpIHtcbiAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHk7XG4gICAgICAgICAgICAkdGVtcGxhdGUgPSAkY29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9XG4gICAgICAgICAgICAgICAganFMaXRlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyAnICsgZGlyZWN0aXZlTmFtZSArICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnNbZGlyZWN0aXZlTmFtZV0gKyAnICcpKTtcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCBzbGljZUFyZ3MoJHRlbXBsYXRlKSwgY29tcGlsZU5vZGUpO1xuXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGUoJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHRlcm1pbmFsUHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSAmJiByZXBsYWNlRGlyZWN0aXZlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHBhc3MgaW46XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIGNvbnRyb2xsZXJEaXJlY3RpdmVzIC0gb3RoZXJ3aXNlIHdlJ2xsIGNyZWF0ZSBkdXBsaWNhdGVzIGNvbnRyb2xsZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSBvciB0ZW1wbGF0ZURpcmVjdGl2ZSAtIGNvbWJpbmluZyB0ZW1wbGF0ZXMgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlbGVtZW50IHRyYW5zY2x1c2lvbiBkb2Vzbid0IG1ha2Ugc2Vuc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCBvbmx5IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgc28gdGhhdCB3ZSBwcmV2ZW50IHB1dHRpbmcgdHJhbnNjbHVzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGUgc2FtZSBlbGVtZW50IG1vcmUgdGhhbiBvbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGVtcGxhdGUgPSBqcUxpdGUoanFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpKS5jb250ZW50cygpO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7IC8vIGNsZWFyIGNvbnRlbnRzXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGUoJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSlcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxuICAgICAgICAgICAgICA6IGRpcmVjdGl2ZS50ZW1wbGF0ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUoZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlLCB0cmltKGRpcmVjdGl2ZVZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XG5cbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XG5cbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcbiAgICAgICAgICAgIC8vIC0gdGFrZSB0aGUgYXJyYXkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZClcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgICAgICAgIC8vIC0gY29tYmluZSBkaXJlY3RpdmVzIGFzOiBwcm9jZXNzZWQgKyB0ZW1wbGF0ZSArIHVucHJvY2Vzc2VkXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcblxuICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLCBuZXdUZW1wbGF0ZUF0dHJzKTtcblxuICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlua0ZuKSkge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua0ZuKSB7XG4gICAgICAgICAgICAgIGFkZExpbmtGbnMobGlua0ZuLnByZSwgbGlua0ZuLnBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGNvbXBpbGVOb2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xuICAgICAgICAgIG5vZGVMaW5rRm4udGVybWluYWwgPSB0cnVlO1xuICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBNYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LCBkaXJlY3RpdmUucHJpb3JpdHkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU7XG4gICAgICBub2RlTGlua0ZuLmVsZW1lbnRUcmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlO1xuICAgICAgbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgPSBoYXNUZW1wbGF0ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZSA9IGNoaWxkVHJhbnNjbHVkZUZuO1xuXG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU7XG5cbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcbiAgICAgIHJldHVybiBub2RlTGlua0ZuO1xuXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICBmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSwgcG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwcmUgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcHJlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcHJlID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHByZSwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVMaW5rRm5zLnB1c2gocHJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zdCkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHBvc3QgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHBvc3QucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcG9zdCA9IGNsb25lQW5kQW5ub3RhdGVGbihwb3N0LCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgcmV0cmlldmFsTWV0aG9kID0gJ2RhdGEnLCBvcHRpb25hbCA9IGZhbHNlO1xuICAgICAgICB2YXIgJHNlYXJjaEVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICBpZiAoaXNTdHJpbmcocmVxdWlyZSkpIHtcbiAgICAgICAgICBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgICByZXF1aXJlID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSBtYXRjaFszXSA9IG51bGw7XG4gICAgICAgICAgICBlbHNlIG1hdGNoWzFdID0gbWF0Y2hbM107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXRjaFsxXSA9PT0gJ14nKSB7XG4gICAgICAgICAgICByZXRyaWV2YWxNZXRob2QgPSAnaW5oZXJpdGVkRGF0YSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsxXSA9PT0gJ15eJykge1xuICAgICAgICAgICAgcmV0cmlldmFsTWV0aG9kID0gJ2luaGVyaXRlZERhdGEnO1xuICAgICAgICAgICAgJHNlYXJjaEVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1hdGNoWzJdID09PSAnPycpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoZWxlbWVudENvbnRyb2xsZXJzICYmIHJldHJpZXZhbE1ldGhvZCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPSBlbGVtZW50Q29udHJvbGxlcnNbcmVxdWlyZV0pIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAkc2VhcmNoRWxlbWVudFtyZXRyaWV2YWxNZXRob2RdKCckJyArIHJlcXVpcmUgKyAnQ29udHJvbGxlcicpO1xuXG4gICAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICAgXCJDb250cm9sbGVyICd7MH0nLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgJ3sxfScsIGNhbid0IGJlIGZvdW5kIVwiLFxuICAgICAgICAgICAgICAgIHJlcXVpcmUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uKHJlcXVpcmUpIHtcbiAgICAgICAgICAgIHZhbHVlLnB1c2goZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIGksIGlpLCBsaW5rRm4sIGNvbnRyb2xsZXIsIGlzb2xhdGVTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxuICAgICAgICAgICAgYXR0cnM7XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICBpc29sYXRlU2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgLy8gdHJhY2sgYGJvdW5kVHJhbnNjbHVkZUZuYCBzbyBpdCBjYW4gYmUgdW53cmFwcGVkIGlmIGB0cmFuc2NsdWRlRm5gXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcbiAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUgPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGBjb250cm9sbGVyc2AgYW5kIGBlbGVtZW50Q29udHJvbGxlcnNgIGludG8gc2luZ2xlIG9iamVjdC5cbiAgICAgICAgICBjb250cm9sbGVycyA9IHt9O1xuICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVycyA9IHt9O1xuICAgICAgICAgIGZvckVhY2goY29udHJvbGxlckRpcmVjdGl2ZXMsIGZ1bmN0aW9uKGRpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIGxvY2FscyA9IHtcbiAgICAgICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgICAgICAgICAgICAkYXR0cnM6IGF0dHJzLFxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgICAgICB9LCBjb250cm9sbGVySW5zdGFuY2U7XG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyID09ICdAJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMsIHRydWUsIGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpO1xuXG4gICAgICAgICAgICAvLyBGb3IgZGlyZWN0aXZlcyB3aXRoIGVsZW1lbnQgdHJhbnNjbHVzaW9uIHRoZSBlbGVtZW50IGlzIGEgY29tbWVudCxcbiAgICAgICAgICAgIC8vIGJ1dCBqUXVlcnkgLmRhdGEgZG9lc24ndCBzdXBwb3J0IGF0dGFjaGluZyBkYXRhIHRvIGNvbW1lbnQgbm9kZXMgYXMgaXQncyBoYXJkIHRvXG4gICAgICAgICAgICAvLyBjbGVhbiB1cCAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODMzNSkuXG4gICAgICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBzYXZlIHRoZSBjb250cm9sbGVycyBmb3IgdGhlIGVsZW1lbnQgaW4gYSBsb2NhbCBoYXNoIGFuZCBhdHRhY2ggdG8gLmRhdGFcbiAgICAgICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LlxuICAgICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICAgIGlmICghaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBkaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlLmluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIGlzb2xhdGVTY29wZSwgdHJ1ZSwgISh0ZW1wbGF0ZURpcmVjdGl2ZSAmJiAodGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fFxuICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSk7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIHRydWUpO1xuXG4gICAgICAgICAgdmFyIGlzb2xhdGVTY29wZUNvbnRyb2xsZXIgPSBjb250cm9sbGVycyAmJiBjb250cm9sbGVyc1tuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZV07XG4gICAgICAgICAgdmFyIGlzb2xhdGVCaW5kaW5nQ29udGV4dCA9IGlzb2xhdGVTY29wZTtcbiAgICAgICAgICBpZiAoaXNvbGF0ZVNjb3BlQ29udHJvbGxlciAmJiBpc29sYXRlU2NvcGVDb250cm9sbGVyLmlkZW50aWZpZXIgJiZcbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlzb2xhdGVCaW5kaW5nQ29udGV4dCA9IGlzb2xhdGVTY29wZUNvbnRyb2xsZXIuaW5zdGFuY2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yRWFjaChpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MgPSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MsIGZ1bmN0aW9uKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gZGVmaW5pdGlvbi5hdHRyTmFtZSxcbiAgICAgICAgICAgICAgICBvcHRpb25hbCA9IGRlZmluaXRpb24ub3B0aW9uYWwsXG4gICAgICAgICAgICAgICAgbW9kZSA9IGRlZmluaXRpb24ubW9kZSwgLy8gQCwgPSwgb3IgJlxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRHZXQsIHBhcmVudFNldCwgY29tcGFyZTtcblxuICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7XG5cbiAgICAgICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzW2F0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZCB0aGVuIHdlIHRyaWdnZXIgYW4gaW50ZXJwb2xhdGlvbiB0byBlbnN1cmVcbiAgICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBpcyB0aGVyZSBmb3IgdXNlIGluIHRoZSBsaW5rIGZuXG4gICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9ICRpbnRlcnBvbGF0ZShhdHRyc1thdHRyTmFtZV0pKHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEdldC5saXRlcmFsKSB7XG4gICAgICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb21wYXJlID0gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYSA9PT0gYiB8fCAoYSAhPT0gYSAmJiBiICE9PSBiKTsgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50U2V0ID0gcGFyZW50R2V0LmFzc2lnbiB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdFxuICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vbmFzc2lnbicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJFeHByZXNzaW9uICd7MH0nIHVzZWQgd2l0aCBkaXJlY3RpdmUgJ3sxfScgaXMgbm9uLWFzc2lnbmFibGUhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFZhbHVlV2F0Y2ggPSBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoKHBhcmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgb3V0IG9mIHN5bmMgYW5kIG5lZWQgdG8gY29weVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc29cbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwYXJlbnRWYWx1ZVdhdGNoLiRzdGF0ZWZ1bCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgdW53YXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdW53YXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGUuJG9uKCckZGVzdHJveScsIHVud2F0Y2gpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgICAgICAgICAgIGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50R2V0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgZm9yRWFjaChjb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnRyb2xsZXJzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBSRUxJTktJTkdcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUkVDVVJTSU9OXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGNoaWxkIGVsZW1lbnRzIGRvIG5vdCBiZWxvbmcgdG8gdGhlIGlzb2xhdGUgZGlyZWN0aXZlLlxuICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7XG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XG4gICAgICAgICAgc2NvcGVUb0NoaWxkID0gaXNvbGF0ZVNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkTGlua0ZuICYmIGNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCwgbGlua05vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBib3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgLy8gUE9TVExJTktJTkdcbiAgICAgICAgZm9yIChpID0gcG9zdExpbmtGbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBsaW5rRm4gPSBwb3N0TGlua0Zuc1tpXTtcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICAgICBhdHRycyxcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cbiAgICAgICAgLy8gTm90ZTogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwhXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztcblxuICAgICAgICAgIC8vIE5vIHNjb3BlIHBhc3NlZCBpbjpcbiAgICAgICAgICBpZiAoIWlzU2NvcGUoc2NvcGUpKSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gY2xvbmVBdHRhY2hGbjtcbiAgICAgICAgICAgIGNsb25lQXR0YWNoRm4gPSBzY29wZTtcbiAgICAgICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gZWxlbWVudENvbnRyb2xsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZ1dHVyZVBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA/ICRlbGVtZW50LnBhcmVudCgpIDogJGVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUoZGlyZWN0aXZlcykge1xuICAgICAgLy8gbWFyayBhbGwgZGlyZWN0aXZlcyBhcyBuZWVkaW5nIGlzb2xhdGUgc2NvcGUuXG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBkaXJlY3RpdmVzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyQkaXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgZGVjb3JhdGVzIGl0IHdpdGggZXhjZXB0aW9uIGhhbmRsaW5nIGFuZCBwcm9wZXIgcGFyYW1ldGVycy4gV2VcbiAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XG4gICAgICpcbiAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcbiAgICAgKiAgICogYENgOiBjbGFzc1xuICAgICAqICAgKiBgTWA6IGNvbW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XG4gICAgICBpZiAobmFtZSA9PT0gaWdub3JlRGlyZWN0aXZlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBtYXRjaCA9IG51bGw7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgICBpZiAoKG1heFByaW9yaXR5ID09PSB1bmRlZmluZWQgfHwgbWF4UHJpb3JpdHkgPiBkaXJlY3RpdmUucHJpb3JpdHkpICYmXG4gICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXN0cmljdC5pbmRleE9mKGxvY2F0aW9uKSAhPSAtMSkge1xuICAgICAgICAgICAgICBpZiAoc3RhcnRBdHRyTmFtZSkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGluaGVyaXQoZGlyZWN0aXZlLCB7JCRzdGFydDogc3RhcnRBdHRyTmFtZSwgJCRlbmQ6IGVuZEF0dHJOYW1lfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdERpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICBtYXRjaCA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7ICRleGNlcHRpb25IYW5kbGVyKGUpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIHJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIG11bHRpLWVsZW1lbnQgZGlyZWN0aXZlLFxuICAgICAqIGFuZCB0aGVyZWZvcmUgcmVxdWlyZXMgRE9NIG5vZGVzIGJldHdlZW4gLXN0YXJ0IGFuZCAtZW5kIG1hcmtlcnMgdG8gYmUgZ3JvdXBlZFxuICAgICAqIHRvZ2V0aGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIHJlZ2lzdGVyZWQgYXMgbXVsdGktZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChuYW1lKSB7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLm11bHRpRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZWxlbWVudCBpcyByZXBsYWNlZCB3aXRoIEhUTUwgdGVtcGxhdGUgdGhlbiB0aGUgbmV3IGF0dHJpYnV0ZXNcbiAgICAgKiBvbiB0aGUgdGVtcGxhdGUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCB0aGUgZXhpc3RpbmcgYXR0cmlidXRlcyBpbiB0aGUgRE9NLlxuICAgICAqIFRoZSBkZXNpcmVkIGVmZmVjdCBpcyB0byBoYXZlIGJvdGggb2YgdGhlIGF0dHJpYnV0ZXMgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkc3QgZGVzdGluYXRpb24gYXR0cmlidXRlcyAob3JpZ2luYWwgRE9NKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgc291cmNlIGF0dHJpYnV0ZXMgKGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3QsIHNyYykge1xuICAgICAgdmFyIHNyY0F0dHIgPSBzcmMuJGF0dHIsXG4gICAgICAgICAgZHN0QXR0ciA9IGRzdC4kYXR0cixcbiAgICAgICAgICAkZWxlbWVudCA9IGRzdC4kJGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlYXBwbHkgdGhlIG9sZCBhdHRyaWJ1dGVzIHRvIHRoZSBuZXcgZWxlbWVudFxuICAgICAgZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XG4gICAgICAgICAgaWYgKHNyY1trZXldICYmIHNyY1trZXldICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgKz0gKGtleSA9PT0gJ3N0eWxlJyA/ICc7JyA6ICcgJykgKyBzcmNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0LiRzZXQoa2V5LCB2YWx1ZSwgdHJ1ZSwgc3JjQXR0cltrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNvcHkgdGhlIG5ldyBhdHRyaWJ1dGVzIG9uIHRoZSBvbGQgYXR0cnMgb2JqZWN0XG4gICAgICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5ID09ICdjbGFzcycpIHtcbiAgICAgICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICBkc3RbJ2NsYXNzJ10gPSAoZHN0WydjbGFzcyddID8gZHN0WydjbGFzcyddICsgJyAnIDogJycpICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdHlsZScpIHtcbiAgICAgICAgICAkZWxlbWVudC5hdHRyKCdzdHlsZScsICRlbGVtZW50LmF0dHIoJ3N0eWxlJykgKyAnOycgKyB2YWx1ZSk7XG4gICAgICAgICAgZHN0WydzdHlsZSddID0gKGRzdFsnc3R5bGUnXSA/IGRzdFsnc3R5bGUnXSArICc7JyA6ICcnKSArIHZhbHVlO1xuICAgICAgICAgIC8vIGBkc3RgIHdpbGwgbmV2ZXIgY29udGFpbiBoYXNPd25Qcm9wZXJ0eSBhcyBET00gcGFyc2VyIHdvbid0IGxldCBpdC5cbiAgICAgICAgICAvLyBZb3Ugd2lsbCBnZXQgYW4gXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3I6IERPTSBFeGNlcHRpb24gNVwiIGVycm9yIGlmIHlvdVxuICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnICYmICFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rUXVldWUgPSBbXSxcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXG4gICAgICAgICAgYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXSxcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXG4gICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBpbmhlcml0KG9yaWdBc3luY0RpcmVjdGl2ZSwge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IG51bGwsIHRyYW5zY2x1ZGU6IG51bGwsIHJlcGxhY2U6IG51bGwsICQkb3JpZ2luYWxEaXJlY3RpdmU6IG9yaWdBc3luY0RpcmVjdGl2ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSlcbiAgICAgICAgICAgICAgPyBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLCB0QXR0cnMpXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxuICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xuXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcblxuICAgICAgJHRlbXBsYXRlUmVxdWVzdCgkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0ZW1wbGF0ZVVybCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIHdoaWxlIChsaW5rUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgbGlua1Jvb3RFbGVtZW50ID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcblxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGJlZm9yZVRlbXBsYXRlTGlua05vZGUgIT09IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgICBpZiAoIShwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgbGlua05vZGUgPSBqcUxpdGVDbG9uZShjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlua1F1ZXVlID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxheWVkTm9kZUxpbmtGbihpZ25vcmVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGxpbmtRdWV1ZSkge1xuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XG4gICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiAoYS5uYW1lIDwgYi5uYW1lKSA/IC0xIDogMTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChwcmV2aW91c0RpcmVjdGl2ZSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30nLFxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgZGlyZWN0aXZlLm5hbWUsIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7XG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gdGV4dEludGVycG9sYXRlQ29tcGlsZUZuKHRlbXBsYXRlTm9kZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTm9kZVBhcmVudCA9IHRlbXBsYXRlTm9kZS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHRyYW5zY2x1ZGluZyBhIHRlbXBsYXRlIHRoYXQgaGFzIGJpbmRpbmdzIGluIHRoZSByb290XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cbiAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XG4gICAgICAgICAgICAgIGlmICghaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyhwYXJlbnQpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVbMF0ubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gd3JhcFRlbXBsYXRlKHR5cGUsIHRlbXBsYXRlKSB7XG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnc3ZnJzpcbiAgICAgIGNhc2UgJ21hdGgnOlxuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XG4gICAgICAgICAgKHRhZyAhPSBcImltZ1wiICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XG4gICAgICBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBhbGxPck5vdGhpbmc7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcblxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcbiAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xuXG5cbiAgICAgIGlmIChuYW1lID09PSBcIm11bHRpcGxlXCIgJiYgbm9kZU5hbWVfKG5vZGUpID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKFwic2VsbXVsdGlcIixcbiAgICAgICAgICAgIFwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9XCIsXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IHt9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgIFwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibmctIHZlcnNpb25zIChzdWNoIGFzIG5nLWNsaWNrIGluc3RlYWQgb2Ygb25jbGljaykgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0ICRpbnRlcnBvbGF0ZSgpZWRcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBhdHRyW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW50ZXJwb2xhdGUgYWdhaW4gc2luY2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxuICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9IG5ld1ZhbHVlICYmICRpbnRlcnBvbGF0ZShuZXdWYWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxuICAgICAgICAgICAgICAgICAgJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9ob29rcyBwcm92aWRlZCBieSB0aGUgJGFuaW1hdGUgc2VydmljZS4gQmUgc3VyZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIENTUyBjbGFzc2VzIGFyZSB0aGUgbm9uLWludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8ocGVyZik6IHdoYXQncyB0aGlzIGRvY3VtZW50IGZyYWdtZW50IGZvcj8gaXMgaXQgbmVlZGVkPyBjYW4gd2UgYXQgbGVhc3QgcmV1c2UgaXQ/XG4gICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG5cbiAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAvLyBkYXRhIGhlcmUgYmVjYXVzZSB0aGVyZSdzIG5vIHB1YmxpYyBpbnRlcmZhY2UgaW4galF1ZXJ5IHRvIGRvIHRoYXQgYW5kIGNvcHlpbmcgb3ZlclxuICAgICAgLy8gZXZlbnQgbGlzdGVuZXJzICh3aGljaCBpcyB0aGUgbWFpbiB1c2Ugb2YgcHJpdmF0ZSBkYXRhKSB3b3VsZG4ndCB3b3JrIGFueXdheS5cbiAgICAgIGpxTGl0ZShuZXdOb2RlKS5kYXRhKGpxTGl0ZShmaXJzdEVsZW1lbnRUb1JlbW92ZSkuZGF0YSgpKTtcblxuICAgICAgLy8gUmVtb3ZlIGRhdGEgb2YgdGhlIHJlcGxhY2VkIGVsZW1lbnQuIFdlIGNhbm5vdCBqdXN0IGNhbGwgLnJlbW92ZSgpXG4gICAgICAvLyBvbiB0aGUgZWxlbWVudCBpdCBzaW5jZSB0aGF0IHdvdWxkIGRlYWxsb2NhdGUgc2NvcGUgdGhhdCBpcyBuZWVkZWRcbiAgICAgIC8vIGZvciB0aGUgbmV3IG5vZGUuIEluc3RlYWQsIHJlbW92ZSB0aGUgZGF0YSBcIm1hbnVhbGx5XCIuXG4gICAgICBpZiAoIWpRdWVyeSkge1xuICAgICAgICBkZWxldGUganFMaXRlLmNhY2hlW2ZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBqUXVlcnkgMi54IGRvZXNuJ3QgZXhwb3NlIHRoZSBkYXRhIHN0b3JhZ2UuIFVzZSBqUXVlcnkuY2xlYW5EYXRhIHRvIGNsZWFuIHVwIGFmdGVyXG4gICAgICAgIC8vIHRoZSByZXBsYWNlZCBlbGVtZW50LiBUaGUgY2xlYW5EYXRhIHZlcnNpb24gbW9ua2V5LXBhdGNoZWQgYnkgQW5ndWxhciB3b3VsZCBjYXVzZVxuICAgICAgICAvLyB0aGUgc2NvcGUgdG8gYmUgdHJhc2hlZCBhbmQgd2UgZG8gbmVlZCB0aGUgdmVyeSBzYW1lIHNjb3BlIHRvIHdvcmsgd2l0aCB0aGUgbmV3XG4gICAgICAgIC8vIGVsZW1lbnQuIEhvd2V2ZXIsIHdlIGNhbm5vdCBqdXN0IGNhY2hlIHRoZSBub24tcGF0Y2hlZCB2ZXJzaW9uIGFuZCB1c2UgaXQgaGVyZSBhc1xuICAgICAgICAvLyB0aGF0IHdvdWxkIGJyZWFrIGlmIGFub3RoZXIgbGlicmFyeSBwYXRjaGVzIHRoZSBtZXRob2QgYWZ0ZXIgQW5ndWxhciBkb2VzIChvbmVcbiAgICAgICAgLy8gZXhhbXBsZSBpcyBqUXVlcnkgVUkpLiBJbnN0ZWFkLCBzZXQgYSBmbGFnIGluZGljYXRpbmcgc2NvcGUgZGVzdHJveWluZyBzaG91bGQgYmVcbiAgICAgICAgLy8gc2tpcHBlZCB0aGlzIG9uZSB0aW1lLlxuICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IHRydWU7XG4gICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoW2ZpcnN0RWxlbWVudFRvUmVtb3ZlXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgPSAxLCBrayA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzVG9SZW1vdmVba107XG4gICAgICAgIGpxTGl0ZShlbGVtZW50KS5yZW1vdmUoKTsgLy8gbXVzdCBkbyB0aGlzIHdheSB0byBjbGVhbiB1cCBleHBhbmRvXG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xuLyoqXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xuICByZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJykpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcbiAgICB9XG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1lbnRzKGpxTm9kZXMpIHtcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcbiAgdmFyIGkgPSBqcU5vZGVzLmxlbmd0aDtcblxuICBpZiAoaSA8PSAxKSB7XG4gICAgcmV0dXJuIGpxTm9kZXM7XG4gIH1cblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIG5vZGUgPSBqcU5vZGVzW2ldO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xuICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBqcU5vZGVzO1xufVxuXG52YXIgJGNvbnRyb2xsZXJNaW5FcnIgPSBtaW5FcnIoJyRjb250cm9sbGVyJyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcbiAqIGNvbnRyb2xsZXJzLlxuICpcbiAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XG4gIHZhciBjb250cm9sbGVycyA9IHt9LFxuICAgICAgZ2xvYmFscyA9IGZhbHNlLFxuICAgICAgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhcXHcrKSk/JC87XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlIGtleXMgYXJlXG4gICAqICAgIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmbiAob3B0aW9uYWxseSBkZWNvcmF0ZWQgd2l0aCBESVxuICAgKiAgICBhbm5vdGF0aW9ucyBpbiB0aGUgYXJyYXkgbm90YXRpb24pLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnRyb2xsZXInKTtcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIGV4dGVuZChjb250cm9sbGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBjYWxsZWQsIGFsbG93cyBgJGNvbnRyb2xsZXJgIHRvIGZpbmQgY29udHJvbGxlciBjb25zdHJ1Y3RvcnMgb24gYHdpbmRvd2BcbiAgICovXG4gIHRoaXMuYWxsb3dHbG9iYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgZ2xvYmFscyA9IHRydWU7XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckd2luZG93JywgZnVuY3Rpb24oJGluamVjdG9yLCAkd2luZG93KSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRjb250cm9sbGVyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGNvbnN0cnVjdG9yIElmIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb24gdGhlbiBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgdGhlXG4gICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXG4gICAgICogICAgdG8gcmV0cmlldmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgdXNpbmcgdGhlIGZvbGxvd2luZyBzdGVwczpcbiAgICAgKlxuICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcbiAgICAgKiAgICAqIGNoZWNrIGlmIGV2YWx1YXRpbmcgdGhlIHN0cmluZyBvbiB0aGUgY3VycmVudCBzY29wZSByZXR1cm5zIGEgY29uc3RydWN0b3JcbiAgICAgKiAgICAqIGlmICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzLCBjaGVjayBgd2luZG93W2NvbnN0cnVjdG9yXWAgb24gdGhlIGdsb2JhbFxuICAgICAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChub3QgcmVjb21tZW5kZWQpXG4gICAgICpcbiAgICAgKiAgICBUaGUgc3RyaW5nIGNhbiB1c2UgdGhlIGBjb250cm9sbGVyIGFzIHByb3BlcnR5YCBzeW50YXgsIHdoZXJlIHRoZSBjb250cm9sbGVyIGluc3RhbmNlIGlzIHB1Ymxpc2hlZFxuICAgICAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xuICAgICAqICAgIHRvIHdvcmsgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cbiAgICAgKlxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cbiAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XG4gICAgICAvLyBQUklWQVRFIEFQSTpcbiAgICAgIC8vICAgcGFyYW0gYGxhdGVyYCAtLS0gaW5kaWNhdGVzIHRoYXQgdGhlIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpcyBpbnZva2VkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgaXMgaW52b2tlZC5cbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXG4gICAgICB2YXIgaW5zdGFuY2UsIG1hdGNoLCBjb25zdHJ1Y3RvciwgaWRlbnRpZmllcjtcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XG4gICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbnRyb2xsZXJNaW5FcnIoJ2N0cmxmbXQnLFxuICAgICAgICAgICAgXCJCYWRseSBmb3JtZWQgY29udHJvbGxlciBzdHJpbmcgJ3swfScuIFwiICtcbiAgICAgICAgICAgIFwiTXVzdCBtYXRjaCBgX19uYW1lX18gYXMgX19pZF9fYCBvciBgX19uYW1lX19gLlwiLCBleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdLFxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIChnbG9iYWxzID8gZ2V0dGVyKCR3aW5kb3csIGNvbnN0cnVjdG9yLCB0cnVlKSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgYXNzZXJ0QXJnRm4oZXhwcmVzc2lvbiwgY29uc3RydWN0b3IsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGF0ZXIpIHtcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgY29udHJvbGxlciBsYXRlcjpcbiAgICAgICAgLy8gVGhpcyBtYWNoaW5lcnkgaXMgdXNlZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG9iamVjdCBiZWZvcmUgY2FsbGluZyB0aGVcbiAgICAgICAgLy8gY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGl0c2VsZi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlciBiZWZvcmUgdGhlIGNvbnN0cnVjdG9yIGlzXG4gICAgICAgIC8vIGludm9rZWQuIFByaW1hcmlseSwgdGhpcyBpcyB1c2VkIGZvciBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGluICRjb21waWxlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZlYXR1cmUgaXMgbm90IGludGVuZGVkIGZvciB1c2UgYnkgYXBwbGljYXRpb25zLCBhbmQgaXMgdGh1cyBub3QgZG9jdW1lbnRlZFxuICAgICAgICAvLyBwdWJsaWNseS5cbiAgICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxuICAgICAgICB2YXIgY29udHJvbGxlclByb3RvdHlwZSA9IChpc0FycmF5KGV4cHJlc3Npb24pID9cbiAgICAgICAgICBleHByZXNzaW9uW2V4cHJlc3Npb24ubGVuZ3RoIC0gMV0gOiBleHByZXNzaW9uKS5wcm90b3R5cGU7XG4gICAgICAgIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShjb250cm9sbGVyUHJvdG90eXBlIHx8IG51bGwpO1xuXG4gICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UgPSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbiwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XG5cbiAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgICAgIGlmICghKGxvY2FscyAmJiBpc09iamVjdChsb2NhbHMuJHNjb3BlKSkpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY29udHJvbGxlcicpKCdub3NjcCcsXG4gICAgICAgICAgXCJDYW5ub3QgZXhwb3J0IGNvbnRyb2xsZXIgJ3swfScgYXMgJ3sxfSchIE5vICRzY29wZSBvYmplY3QgcHJvdmlkZWQgdmlhIGBsb2NhbHNgLlwiLFxuICAgICAgICAgIG5hbWUsIGlkZW50aWZpZXIpO1xuICAgICAgfVxuXG4gICAgICBsb2NhbHMuJHNjb3BlW2lkZW50aWZpZXJdID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGRvY3VtZW50XG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclxuICogQHJlcXVpcmVzIG5nLiRsb2dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5IGRlbGVnYXRlcyB0byBgJGxvZy5lcnJvcmAgd2hpY2ggbG9ncyBpdCBpbnRvXG4gKiB0aGUgYnJvd3NlciBjb25zb2xlLlxuICpcbiAqIEluIHVuaXQgdGVzdHMsIGlmIGBhbmd1bGFyLW1vY2tzLmpzYCBpcyBsb2FkZWQsIHRoaXMgc2VydmljZSBpcyBvdmVycmlkZGVuIGJ5XG4gKiB7QGxpbmsgbmdNb2NrLiRleGNlcHRpb25IYW5kbGVyIG1vY2sgJGV4Y2VwdGlvbkhhbmRsZXJ9IHdoaWNoIGFpZHMgaW4gdGVzdGluZy5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdleGNlcHRpb25PdmVycmlkZScsIFtdKS5mYWN0b3J5KCckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gKiAgICAgICBleGNlcHRpb24ubWVzc2FnZSArPSAnIChjYXVzZWQgYnkgXCInICsgY2F1c2UgKyAnXCIpJztcbiAqICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAqICAgICB9O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXhhbXBsZSB3aWxsIG92ZXJyaWRlIHRoZSBub3JtYWwgYWN0aW9uIG9mIGAkZXhjZXB0aW9uSGFuZGxlcmAsIHRvIG1ha2UgYW5ndWxhclxuICogZXhjZXB0aW9ucyBmYWlsIGhhcmQgd2hlbiB0aGV5IGhhcHBlbiwgaW5zdGVhZCBvZiBqdXN0IGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuXG4gKlxuICogPGhyIC8+XG4gKiBOb3RlLCB0aGF0IGNvZGUgZXhlY3V0ZWQgaW4gZXZlbnQtbGlzdGVuZXJzIChldmVuIHRob3NlIHJlZ2lzdGVyZWQgdXNpbmcganFMaXRlJ3MgYG9uYC9gYmluZGBcbiAqIG1ldGhvZHMpIGRvZXMgbm90IGRlbGVnYXRlIGV4Y2VwdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn1cbiAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cbiAqXG4gKiBJZiB5b3Ugd2lzaCwgeW91IGNhbiBtYW51YWxseSBkZWxlZ2F0ZSBleGNlcHRpb25zLCBlLmcuXG4gKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBleGNlcHRpb24gRXhjZXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXJyb3IuXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIG9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXG4gKiAgICAgICB0aGUgZXJyb3Igd2FzIHRocm93bi5cbiAqXG4gKi9cbmZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGxvZycsIGZ1bmN0aW9uKCRsb2cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1dO1xufVxuXG52YXIgQVBQTElDQVRJT05fSlNPTiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xudmFyIEpTT05fU1RBUlQgPSAvXlxcW3xeXFx7KD8hXFx7KS87XG52YXIgSlNPTl9FTkRTID0ge1xuICAnWyc6IC9dJC8sXG4gICd7JzogL30kL1xufTtcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xuXG5mdW5jdGlvbiBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKGRhdGEsIGhlYWRlcnMpIHtcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XG4gICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcbiAgICB2YXIgdGVtcERhdGEgPSBkYXRhLnJlcGxhY2UoSlNPTl9QUk9URUNUSU9OX1BSRUZJWCwgJycpLnRyaW0oKTtcblxuICAgIGlmICh0ZW1wRGF0YSkge1xuICAgICAgdmFyIGNvbnRlbnRUeXBlID0gaGVhZGVycygnQ29udGVudC1UeXBlJyk7XG4gICAgICBpZiAoKGNvbnRlbnRUeXBlICYmIChjb250ZW50VHlwZS5pbmRleE9mKEFQUExJQ0FUSU9OX0pTT04pID09PSAwKSkgfHwgaXNKc29uTGlrZSh0ZW1wRGF0YSkpIHtcbiAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNKc29uTGlrZShzdHIpIHtcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xuICAgIHJldHVybiBqc29uU3RhcnQgJiYgSlNPTl9FTkRTW2pzb25TdGFydFswXV0udGVzdChzdHIpO1xufVxuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlcnMgUmF3IGhlYWRlcnMgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IGNyZWF0ZU1hcCgpLCBrZXksIHZhbCwgaTtcblxuICBpZiAoIWhlYWRlcnMpIHJldHVybiBwYXJzZWQ7XG5cbiAgZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLCBpKSkpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxuICpcbiAqIEhlYWRlcnMgYXJlIGxhenkgcGFyc2VkIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICogQHNlZSBwYXJzZUhlYWRlcnNcbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gaGVhZGVycyBIZWFkZXJzIHRvIHByb3ZpZGUgYWNjZXNzIHRvLlxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxuICpcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBzaW5nbGUgYW4gYXJndW1lbnQgcmV0dXJucyBhIHNpbmdsZSBoZWFkZXIgdmFsdWUgb3IgbnVsbFxuICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLlxuICovXG5mdW5jdGlvbiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnNPYmogPSBpc09iamVjdChoZWFkZXJzKSA/IGhlYWRlcnMgOiB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNPYmpbbG93ZXJjYXNlKG5hbWUpXTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyc09iajtcbiAgfTtcbn1cblxuXG4vKipcbiAqIENoYWluIGFsbCBnaXZlbiBmdW5jdGlvbnNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIERhdGEgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgZ2V0dGVyIGZuLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1cyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAqIEBwYXJhbSB7KEZ1bmN0aW9ufEFycmF5LjxGdW5jdGlvbj4pfSBmbnMgRnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLlxuICogQHJldHVybnMgeyp9IFRyYW5zZm9ybWVkIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgc3RhdHVzLCBmbnMpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm5zKSlcbiAgICByZXR1cm4gZm5zKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGh0dHBQcm92aWRlcmAgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKiAqL1xuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7T2JqZWN0fSAtIGFuIG9iamVjdCBidWlsdCB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH1cbiAgICogdGhhdCB3aWxsIHByb3ZpZGUgdGhlIGNhY2hlIGZvciBhbGwgcmVxdWVzdHMgd2hvIHNldCB0aGVpciBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYC5cbiAgICogSWYgeW91IHNldCB0aGUgYGRlZmF1bHQuY2FjaGUgPSBmYWxzZWAgdGhlbiBvbmx5IHJlcXVlc3RzIHRoYXQgc3BlY2lmeSB0aGVpciBvd24gY3VzdG9tXG4gICAqIGNhY2hlIG9iamVjdCB3aWxsIGJlIGNhY2hlZC4gU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZDb29raWVOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgKiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1hTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZVxuICAgKiBYU1JGIHRva2VuLiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1gtWFNSRi1UT0tFTidgLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxuICAgKiBSZWZlciB0byB7QGxpbmsgbmcuJGh0dHAjc2V0dGluZy1odHRwLWhlYWRlcnMgJGh0dHB9IGZvciBkb2N1bWVudGF0aW9uIG9uXG4gICAqIHNldHRpbmcgZGVmYXVsdCBoZWFkZXJzLlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnBvc3RgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wdXRgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxuICAgKlxuICAgKiovXG4gIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgLy8gdHJhbnNmb3JtIGluY29taW5nIHJlc3BvbnNlIGRhdGFcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogW2RlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm1dLFxuXG4gICAgLy8gdHJhbnNmb3JtIG91dGdvaW5nIHJlcXVlc3QgZGF0YVxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3QoZCkgJiYgIWlzRmlsZShkKSAmJiAhaXNCbG9iKGQpICYmICFpc0Zvcm1EYXRhKGQpID8gdG9Kc29uKGQpIDogZDtcbiAgICB9XSxcblxuICAgIC8vIGRlZmF1bHQgaGVhZGVyc1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICAgIH0sXG4gICAgICBwb3N0OiAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcbiAgICAgIHB1dDogICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcGF0Y2g6ICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTilcbiAgICB9LFxuXG4gICAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTidcbiAgfTtcblxuICB2YXIgdXNlQXBwbHlBc3luYyA9IGZhbHNlO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI3VzZUFwcGx5QXN5bmNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbmZpZ3VyZSAkaHR0cCBzZXJ2aWNlIHRvIGNvbWJpbmUgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSBodHRwIHJlc3BvbnNlcyByZWNlaXZlZCBhdCBhcm91bmRcbiAgICogdGhlIHNhbWUgdGltZSB2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmMgJHJvb3RTY29wZS4kYXBwbHlBc3luY30uIFRoaXMgY2FuIHJlc3VsdCBpblxuICAgKiBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCBmb3IgYmlnZ2VyIGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UgbWFueSBIVFRQIHJlcXVlc3RzXG4gICAqIGNvbmN1cnJlbnRseSAoY29tbW9uIGR1cmluZyBhcHBsaWNhdGlvbiBib290c3RyYXApLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBmYWxzZS4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICoqL1xuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cbiAgICpcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cbiAgICoqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyRicm93c2VyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkYnJvd3NlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXG4gICAgICpcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAgICAgKlxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IOKAlFxuICAgICAqIHRoYXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBhbiBIVFRQIHJlcXVlc3QgYW5kIHJldHVybnMgIGEge0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogd2l0aCB0d28gJGh0dHAgc3BlY2lmaWMgbWV0aG9kczogYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIFNpbXBsZSBHRVQgcmVxdWVzdCBleGFtcGxlIDpcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyBTaW1wbGUgUE9TVCByZXF1ZXN0IGV4YW1wbGUgKHBhc3NpbmcgZGF0YSkgOlxuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCB7bXNnOidoZWxsbyB3b3JkISd9KS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogU2luY2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGNhbGxpbmcgdGhlICRodHRwIGZ1bmN0aW9uIGlzIGEgYHByb21pc2VgLCB5b3UgY2FuIGFsc28gdXNlXG4gICAgICogdGhlIGB0aGVuYCBtZXRob2QgdG8gcmVnaXN0ZXIgY2FsbGJhY2tzLCBhbmQgdGhlc2UgY2FsbGJhY2tzIHdpbGwgcmVjZWl2ZSBhIHNpbmdsZSBhcmd1bWVudCDigJNcbiAgICAgKiBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNwb25zZS4gU2VlIHRoZSBBUEkgc2lnbmF0dXJlIGFuZCB0eXBlIGluZm8gYmVsb3cgZm9yIG1vcmVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmRcbiAgICAgKiB3aWxsIHJlc3VsdCBpbiB0aGUgc3VjY2VzcyBjYWxsYmFjayBiZWluZyBjYWxsZWQuIE5vdGUgdGhhdCBpZiB0aGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCxcbiAgICAgKiBYTUxIdHRwUmVxdWVzdCB3aWxsIHRyYW5zcGFyZW50bHkgZm9sbG93IGl0LCBtZWFuaW5nIHRoYXQgdGhlIGVycm9yIGNhbGxiYWNrIHdpbGwgbm90IGJlXG4gICAgICogY2FsbGVkIGZvciBzdWNoIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xuICAgICAqICRodHRwLmdldCguLi4pO1xuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xuICAgICAqXG4gICAgICogU2hvcnRjdXQgbWV0aG9kcyBhcmUgYWxzbyBhdmFpbGFibGUuIEFsbCBzaG9ydGN1dCBtZXRob2RzIHJlcXVpcmUgcGFzc2luZyBpbiB0aGUgVVJMLCBhbmRcbiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5zdWNjZXNzKHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICogICAkaHR0cC5wb3N0KCcvc29tZVVybCcsIGRhdGEpLnN1Y2Nlc3Moc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXG4gICAgICpcbiAgICAgKiBUaGUgJGh0dHAgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGNlcnRhaW4gSFRUUCBoZWFkZXJzIHRvIGFsbCByZXF1ZXN0cy4gVGhlc2UgZGVmYXVsdHNcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3QsIHdoaWNoIGN1cnJlbnRseSBjb250YWlucyB0aGlzIGRlZmF1bHQgY29uZmlndXJhdGlvbjpcbiAgICAgKlxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcbiAgICAgKiAgIC0gYEFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKiAvICpgXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wdXRgIChoZWFkZXIgZGVmYXVsdHMgZm9yIFBVVCByZXF1ZXN0cylcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcbiAgICAgKlxuICAgICAqIFRvIGFkZCBvciBvdmVyd3JpdGUgdGhlc2UgZGVmYXVsdHMsIHNpbXBseSBhZGQgb3IgcmVtb3ZlIGEgcHJvcGVydHkgZnJvbSB0aGVzZSBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XG4gICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy5cbiAgICAgKiBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ015LUhlYWRlcicgOiAndmFsdWUnIH0uXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xuICAgICAqICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyBZbVZsY0RwaWIyOXcnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiwgeW91IGNhbiBzdXBwbHkgYSBgaGVhZGVyc2AgcHJvcGVydHkgaW4gdGhlIGNvbmZpZyBvYmplY3QgcGFzc2VkIHdoZW5cbiAgICAgKiBjYWxsaW5nIGAkaHR0cChjb25maWcpYCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0cyB3aXRob3V0IGNoYW5naW5nIHRoZW0gZ2xvYmFsbHkuXG4gICAgICpcbiAgICAgKiBUbyBleHBsaWNpdGx5IHJlbW92ZSBhIGhlYWRlciBhdXRvbWF0aWNhbGx5IGFkZGVkIHZpYSAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMgb24gYSBwZXIgcmVxdWVzdCBiYXNpcyxcbiAgICAgKiBVc2UgdGhlIGBoZWFkZXJzYCBwcm9wZXJ0eSwgc2V0dGluZyB0aGUgZGVzaXJlZCBoZWFkZXIgdG8gYHVuZGVmaW5lZGAuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgcmVxID0ge1xuICAgICAqICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgKiAgdXJsOiAnaHR0cDovL2V4YW1wbGUuY29tJyxcbiAgICAgKiAgaGVhZGVyczoge1xuICAgICAqICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICAgKiAgfSxcbiAgICAgKiAgZGF0YTogeyB0ZXN0OiAndGVzdCcgfSxcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cChyZXEpLnN1Y2Nlc3MoZnVuY3Rpb24oKXsuLi59KS5lcnJvcihmdW5jdGlvbigpey4uLn0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHRyYW5zZm9ybWVkIHZhbHVlIChgZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKWApIG9yIGFuIGFycmF5IG9mIHN1Y2ggdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLFxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cbiAgICAgKlxuICAgICAqICMjIyBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc1xuICAgICAqXG4gICAgICogVGhlIGAkaHR0cFByb3ZpZGVyYCBwcm92aWRlciBhbmQgYCRodHRwYCBzZXJ2aWNlIGV4cG9zZSBgZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kXG4gICAgICogYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzLiBJZiBhIHJlcXVlc3QgZG9lcyBub3QgcHJvdmlkZSBpdHMgb3duIHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIHRoZW4gdGhlc2Ugd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhdWdtZW50IG9yIHJlcGxhY2UgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIGJ5IG1vZGlmeWluZyB0aGVzZSBwcm9wZXJ0aWVzIGJ5IGFkZGluZyB0byBvclxuICAgICAqIHJlcGxhY2luZyB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICpcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCk6XG4gICAgICpcbiAgICAgKiAtIElmIHRoZSBgZGF0YWAgcHJvcGVydHkgb2YgdGhlIHJlcXVlc3QgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbnMgYW4gb2JqZWN0LCBzZXJpYWxpemUgaXRcbiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBSZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBhbmQgYCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCk6XG4gICAgICpcbiAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXQgKHNlZSBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBzZWN0aW9uIGJlbG93KS5cbiAgICAgKiAgLSBJZiBKU09OIHJlc3BvbnNlIGlzIGRldGVjdGVkLCBkZXNlcmlhbGl6ZSBpdCB1c2luZyBhIEpTT04gcGFyc2VyLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyMgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnMgUGVyIFJlcXVlc3RcbiAgICAgKlxuICAgICAqIElmIHlvdSB3aXNoIG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyBvbmx5IGZvciBhIHNpbmdsZSByZXF1ZXN0IHRoZW4gcHJvdmlkZVxuICAgICAqIGB0cmFuc2Zvcm1SZXF1ZXN0YCBhbmQvb3IgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWRcbiAgICAgKiBpbnRvIGAkaHR0cGAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHByb3ZpZGUgdGhlc2UgcHJvcGVydGllcyBvbiB0aGUgY29uZmlnIG9iamVjdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgd2lsbCBiZVxuICAgICAqIG92ZXJ3cml0dGVuLiBJZiB5b3Ugd2lzaCB0byBhdWdtZW50IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB0aGVuIHlvdSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB5b3VyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24gYXJyYXkuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgZGVtb25zdHJhdGVzIGFkZGluZyBhIG5ldyByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBydW4gYWZ0ZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2VcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZnVuY3Rpb24gYXBwZW5kVHJhbnNmb3JtKGRlZmF1bHRzLCB0cmFuc2Zvcm0pIHtcbiAgICAgKlxuICAgICAqICAgLy8gV2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb24gaXMgYW4gYXJyYXlcbiAgICAgKiAgIGRlZmF1bHRzID0gYW5ndWxhci5pc0FycmF5KGRlZmF1bHRzKSA/IGRlZmF1bHRzIDogW2RlZmF1bHRzXTtcbiAgICAgKlxuICAgICAqICAgLy8gQXBwZW5kIHRoZSBuZXcgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGRlZmF1bHRzXG4gICAgICogICByZXR1cm4gZGVmYXVsdHMuY29uY2F0KHRyYW5zZm9ybSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogJGh0dHAoe1xuICAgICAqICAgdXJsOiAnLi4uJyxcbiAgICAgKiAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICogICB0cmFuc2Zvcm1SZXNwb25zZTogYXBwZW5kVHJhbnNmb3JtKCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICByZXR1cm4gZG9UcmFuc2Zvcm0odmFsdWUpO1xuICAgICAqICAgfSlcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgQ2FjaGluZ1xuICAgICAqXG4gICAgICogVG8gZW5hYmxlIGNhY2hpbmcsIHNldCB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgICh0byB1c2UgZGVmYXVsdFxuICAgICAqIGNhY2hlKSBvciB0byBhIGN1c3RvbSBjYWNoZSBvYmplY3QgKGJ1aWx0IHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuXG4gICAgICogV2hlbiB0aGUgY2FjaGUgaXMgZW5hYmxlZCwgYCRodHRwYCBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpbiB0aGUgc3BlY2lmaWVkXG4gICAgICogY2FjaGUuIFRoZSBuZXh0IHRpbWUgdGhlIHNhbWUgcmVxdWVzdCBpcyBtYWRlLCB0aGUgcmVzcG9uc2UgaXMgc2VydmVkIGZyb20gdGhlIGNhY2hlIHdpdGhvdXRcbiAgICAgKiBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHJlc3BvbnNlIGlzIHNlcnZlZCBmcm9tIGNhY2hlLCBkZWxpdmVyeSBvZiB0aGUgZGF0YSBpcyBhc3luY2hyb25vdXMgaW5cbiAgICAgKiB0aGUgc2FtZSB3YXkgdGhhdCByZWFsIHJlcXVlc3RzIGFyZS5cbiAgICAgKlxuICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBHRVQgcmVxdWVzdHMgZm9yIHRoZSBzYW1lIFVSTCB0aGF0IHNob3VsZCBiZSBjYWNoZWQgdXNpbmcgdGhlIHNhbWVcbiAgICAgKiBjYWNoZSwgYnV0IHRoZSBjYWNoZSBpcyBub3QgcG9wdWxhdGVkIHlldCwgb25seSBvbmUgcmVxdWVzdCB0byB0aGUgc2VydmVyIHdpbGwgYmUgbWFkZSBhbmRcbiAgICAgKiB0aGUgcmVtYWluaW5nIHJlcXVlc3RzIHdpbGwgYmUgZnVsZmlsbGVkIHVzaW5nIHRoZSByZXNwb25zZSBmcm9tIHRoZSBmaXJzdCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogWW91IGNhbiBjaGFuZ2UgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYSBuZXcgb2JqZWN0IChidWlsdCB3aXRoXG4gICAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkgYnkgdXBkYXRpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRodHRwI2RlZmF1bHRzIGAkaHR0cC5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LiBBbGwgcmVxdWVzdHMgd2hvIHNldFxuICAgICAqIHRoZWlyIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgIHdpbGwgbm93IHVzZSB0aGlzIGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIElmIHlvdSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYGZhbHNlYCB0aGVuIG9ubHkgcmVxdWVzdHMgdGhhdCBzcGVjaWZ5IHRoZWlyIG93biBjdXN0b21cbiAgICAgKiBjYWNoZSBvYmplY3Qgd2lsbCBiZSBjYWNoZWQuXG4gICAgICpcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcbiAgICAgKlxuICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxuICAgICAqXG4gICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0XG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXG4gICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLlxuICAgICAqXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XG4gICAgICpcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCBgY29uZmlnYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC5cbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxuICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxuICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeVxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xuICAgICAqXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxuICAgICAqXG4gICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcbiAgICAgKlxuICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiApXX0nLFxuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYSB0ZWNobmlxdWUgYnkgd2hpY2hcbiAgICAgKiBhbiB1bmF1dGhvcml6ZWQgc2l0ZSBjYW4gZ2FpbiB5b3VyIHVzZXIncyBwcml2YXRlIGRhdGEuIEFuZ3VsYXIgcHJvdmlkZXMgYSBtZWNoYW5pc21cbiAgICAgKiB0byBjb3VudGVyIFhTUkYuIFdoZW4gcGVyZm9ybWluZyBYSFIgcmVxdWVzdHMsIHRoZSAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZVxuICAgICAqIChieSBkZWZhdWx0LCBgWFNSRi1UT0tFTmApIGFuZCBzZXRzIGl0IGFzIGFuIEhUVFAgaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHlcbiAgICAgKiBKYXZhU2NyaXB0IHRoYXQgcnVucyBvbiB5b3VyIGRvbWFpbiBjb3VsZCByZWFkIHRoZSBjb29raWUsIHlvdXIgc2VydmVyIGNhbiBiZSBhc3N1cmVkIHRoYXRcbiAgICAgKiB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4uIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvclxuICAgICAqIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXG4gICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZVxuICAgICAqIHNlcnZlciBjYW4gdmVyaWZ5IHRoYXQgdGhlIGNvb2tpZSBtYXRjaGVzIGBYLVhTUkYtVE9LRU5gIEhUVFAgaGVhZGVyLCBhbmQgdGhlcmVmb3JlIGJlIHN1cmVcbiAgICAgKiB0aGF0IG9ubHkgSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluIGNvdWxkIGhhdmUgc2VudCB0aGUgcmVxdWVzdC4gVGhlIHRva2VuIG11c3QgYmVcbiAgICAgKiB1bmlxdWUgZm9yIGVhY2ggdXNlciBhbmQgbXVzdCBiZSB2ZXJpZmlhYmxlIGJ5IHRoZSBzZXJ2ZXIgKHRvIHByZXZlbnQgdGhlIEphdmFTY3JpcHQgZnJvbVxuICAgICAqIG1ha2luZyB1cCBpdHMgb3duIHRva2VucykuIFdlIHJlY29tbWVuZCB0aGF0IHRoZSB0b2tlbiBpcyBhIGRpZ2VzdCBvZiB5b3VyIHNpdGUnc1xuICAgICAqIGF1dGhlbnRpY2F0aW9uIGNvb2tpZSB3aXRoIGEgW3NhbHRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhbHRfKGNyeXB0b2dyYXBoeSYjNDE7KVxuICAgICAqIGZvciBhZGRlZCBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZVxuICAgICAqIHByb3BlcnRpZXMgb2YgZWl0aGVyICRodHRwUHJvdmlkZXIuZGVmYXVsdHMgYXQgY29uZmlnLXRpbWUsICRodHRwLmRlZmF1bHRzIGF0IHJ1bi10aW1lLFxuICAgICAqIG9yIHRoZSBwZXItcmVxdWVzdCBjb25maWcgb2JqZWN0LlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcbiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXG4gICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ31gIOKAkyBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkLlxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSB0dXJuZWRcbiAgICAgKiAgICAgIHRvIGA/a2V5MT12YWx1ZTEma2V5Mj12YWx1ZTJgIGFmdGVyIHRoZSB1cmwuIElmIHRoZSB2YWx1ZSBpcyBub3QgYSBzdHJpbmcsIGl0IHdpbGwgYmVcbiAgICAgKiAgICAgIEpTT05pZmllZC5cbiAgICAgKiAgICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgRGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZGF0YS5cbiAgICAgKiAgICAtICoqaGVhZGVycyoqIOKAkyBge09iamVjdH1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnMgd2hpY2ggcmV0dXJuIHN0cmluZ3MgcmVwcmVzZW50aW5nXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXG4gICAgICogICAgICBoZWFkZXIgd2lsbCBub3QgYmUgc2VudC5cbiAgICAgKiAgICAtICoqeHNyZkhlYWRlck5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip4c3JmQ29va2llTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXF1ZXN0Kiog4oCTXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVxdWVzdCBib2R5IGFuZCBoZWFkZXJzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IHNlcmlhbGl6ZWQpIHZlcnNpb24uXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XG4gICAgICogICAgICBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc31cbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVzcG9uc2UqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVzcG9uc2UgYm9keSwgaGVhZGVycyBhbmQgc3RhdHVzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IGRlc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKipjYWNoZSoqIOKAkyBge2Jvb2xlYW58Q2FjaGV9YCDigJMgSWYgdHJ1ZSwgYSBkZWZhdWx0ICRodHRwIGNhY2hlIHdpbGwgYmUgdXNlZCB0byBjYWNoZSB0aGVcbiAgICAgKiAgICAgIEdFVCByZXF1ZXN0LCBvdGhlcndpc2UgaWYgYSBjYWNoZSBpbnN0YW5jZSBidWlsdCB3aXRoXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSwgdGhpcyBjYWNoZSB3aWxsIGJlIHVzZWQgZm9yXG4gICAgICogICAgICBjYWNoaW5nLlxuICAgICAqICAgIC0gKip0aW1lb3V0Kiog4oCTIGB7bnVtYmVyfFByb21pc2V9YCDigJMgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIG9yIHtAbGluayBuZy4kcSBwcm9taXNlfVxuICAgICAqICAgICAgdGhhdCBzaG91bGQgYWJvcnQgdGhlIHJlcXVlc3Qgd2hlbiByZXNvbHZlZC5cbiAgICAgKiAgICAtICoqd2l0aENyZWRlbnRpYWxzKiogLSBge2Jvb2xlYW59YCAtIHdoZXRoZXIgdG8gc2V0IHRoZSBgd2l0aENyZWRlbnRpYWxzYCBmbGFnIG9uIHRoZVxuICAgICAqICAgICAgWEhSIG9iamVjdC4gU2VlIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMjUmVxdWVzdHNfd2l0aF9jcmVkZW50aWFscylcbiAgICAgKiAgICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqICAgIC0gKipyZXNwb25zZVR5cGUqKiAtIGB7c3RyaW5nfWAgLSBzZWVcbiAgICAgKiAgICAgIFtyZXF1ZXN0VHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9ET00vWE1MSHR0cFJlcXVlc3QjcmVzcG9uc2VUeXBlKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gUmV0dXJucyBhIHtAbGluayBuZy4kcSBwcm9taXNlfSBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiAgIHN0YW5kYXJkIGB0aGVuYCBtZXRob2QgYW5kIHR3byBodHRwIHNwZWNpZmljIG1ldGhvZHM6IGBzdWNjZXNzYCBhbmQgYGVycm9yYC4gVGhlIGB0aGVuYFxuICAgICAqICAgbWV0aG9kIHRha2VzIHR3byBhcmd1bWVudHMgYSBzdWNjZXNzIGFuZCBhbiBlcnJvciBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIGFcbiAgICAgKiAgIHJlc3BvbnNlIG9iamVjdC4gVGhlIGBzdWNjZXNzYCBhbmQgYGVycm9yYCBtZXRob2RzIHRha2UgYSBzaW5nbGUgYXJndW1lbnQgLSBhIGZ1bmN0aW9uIHRoYXRcbiAgICAgKiAgIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3Qgc3VjY2VlZHMgb3IgZmFpbHMgcmVzcGVjdGl2ZWx5LiBUaGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvXG4gICAgICogICB0aGVzZSBmdW5jdGlvbnMgYXJlIGRlc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVzcG9uc2Ugb2JqZWN0IHBhc3NlZCBpbnRvIHRoZVxuICAgICAqICAgYHRoZW5gIG1ldGhvZC4gVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxuICAgICAqICAgICBmdW5jdGlvbnMuXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nXG4gICAgICogICByZXF1ZXN0cy4gVGhpcyBpcyBwcmltYXJpbHkgbWVhbnQgdG8gYmUgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwiaHR0cEV4YW1wbGVcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkZldGNoQ29udHJvbGxlclwiPlxuICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtZXRob2RcIj5cbiAgICAgIDxvcHRpb24+R0VUPC9vcHRpb24+XG4gICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1cmxcIiBzaXplPVwiODBcIi8+XG4gICAgPGJ1dHRvbiBpZD1cImZldGNoYnRuXCIgbmctY2xpY2s9XCJmZXRjaCgpXCI+ZmV0Y2g8L2J1dHRvbj48YnI+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWdldGJ0blwiIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0dFVCcsICdodHRwLWhlbGxvLmh0bWwnKVwiPlNhbXBsZSBHRVQ8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLFxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9jYWxsYmFjaz1KU09OX0NBTExCQUNLJm5hbWU9U3VwZXIlMjBIZXJvJylcIj5cbiAgICAgIFNhbXBsZSBKU09OUFxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJpbnZhbGlkanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JmNhbGxiYWNrPUpTT05fQ0FMTEJBQ0snKVwiPlxuICAgICAgICBJbnZhbGlkIEpTT05QXG4gICAgICA8L2J1dHRvbj5cbiAgICA8cHJlPmh0dHAgc3RhdHVzIGNvZGU6IHt7c3RhdHVzfX08L3ByZT5cbiAgICA8cHJlPmh0dHAgcmVzcG9uc2UgZGF0YToge3tkYXRhfX08L3ByZT5cbiAgPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxuICAgIC5jb250cm9sbGVyKCdGZXRjaENvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsXG4gICAgICBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAkc2NvcGUubWV0aG9kID0gJ0dFVCc7XG4gICAgICAgICRzY29wZS51cmwgPSAnaHR0cC1oZWxsby5odG1sJztcblxuICAgICAgICAkc2NvcGUuZmV0Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuY29kZSA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLnJlc3BvbnNlID0gbnVsbDtcblxuICAgICAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAkc2NvcGUudXJsID0gdXJsO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuPC9maWxlPlxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxuICBIZWxsbywgJGh0dHAhXG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcbiAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xuICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICBzYW1wbGVKc29ucEJ0bi5jbGljaygpO1xuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4vLyAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvU3VwZXIgSGVybyEvKTtcbi8vIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFrZSBKU09OUCByZXF1ZXN0IHRvIGludmFsaWQgVVJMIGFuZCBpbnZva2UgdGhlIGVycm9yIGhhbmRsZXInLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgIH0sIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICBjb25maWcuaGVhZGVycyA9IG1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtcbiAgICAgIGNvbmZpZy5tZXRob2QgPSB1cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7XG5cbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XG5cbiAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShoZWFkZXIpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XG4gICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oY29uZmlnKTtcblxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXG4gICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBwcm9taXNlLmVycm9yID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKG51bGwsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgc2luY2UgdGhlIHJlc3BvbnNlIG11c3QgYmUgY2FjaGVhYmxlXG4gICAgICAgIHZhciByZXNwID0gZXh0ZW5kKHt9LCByZXNwb25zZSk7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJlc3AuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcbiAgICAgICAgICA/IHJlc3BcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUhlYWRlckZucyhoZWFkZXJzKSB7XG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XG5cbiAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XG4gICAgICAgICAgICBoZWFkZXJDb250ZW50ID0gaGVhZGVyRm4oKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSGVhZGVycztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZykge1xuICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXG4gICAgICAgICAgICBkZWZIZWFkZXJOYW1lLCBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLCByZXFIZWFkZXJOYW1lO1xuXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xuXG4gICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5lY2Vzc2FyeSBpdGVyYXRpb24gYWZ0ZXIgaGVhZGVyIGhhcyBiZWVuIGZvdW5kXG4gICAgICAgIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOlxuICAgICAgICBmb3IgKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycykge1xuICAgICAgICAgIGxvd2VyY2FzZURlZkhlYWRlck5hbWUgPSBsb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7XG5cbiAgICAgICAgICBmb3IgKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShyZXFIZWFkZXJOYW1lKSA9PT0gbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSkge1xuICAgICAgICAgICAgICBjb250aW51ZSBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGEgZnVuY3Rpb24gZm9yIG1lcmdlZCBoZWFkZXJzXG4gICAgICAgIHJldHVybiBleGVjdXRlSGVhZGVyRm5zKHJlcUhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2dldFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNkZWxldGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBERUxFVEVgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjaGVhZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjanNvbnBcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0LlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHNob3VsZCBiZSB0aGUgc3RyaW5nIGBKU09OX0NBTExCQUNLYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kcygnZ2V0JywgJ2RlbGV0ZScsICdoZWFkJywgJ2pzb25wJyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI3B1dFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJGh0dHAjcGF0Y2hcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQQVRDSGAgcmVxdWVzdC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgKiBAbmFtZSAkaHR0cCNkZWZhdWx0c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUnVudGltZSBlcXVpdmFsZW50IG9mIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0c2AgcHJvcGVydHkuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAqIGRlZmF1bHQgaGVhZGVycywgd2l0aENyZWRlbnRpYWxzIGFzIHdlbGwgYXMgcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUgXCJTZXR0aW5nIEhUVFAgSGVhZGVyc1wiIGFuZCBcIlRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXCIgc2VjdGlvbnMgYWJvdmUuXG4gICAgICAgICAqL1xuICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XG5cblxuICAgIHJldHVybiAkaHR0cDtcblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKG5hbWVzKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOlxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgY2FjaGVkUmVzcCxcbiAgICAgICAgICByZXFIZWFkZXJzID0gY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgdXJsID0gYnVpbGRVcmwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcyk7XG5cbiAgICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGNvbmZpZyk7XG4gICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7XG5cblxuICAgICAgaWYgKChjb25maWcuY2FjaGUgfHwgZGVmYXVsdHMuY2FjaGUpICYmIGNvbmZpZy5jYWNoZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAoY29uZmlnLm1ldGhvZCA9PT0gJ0dFVCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ0pTT05QJykpIHtcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXG4gICAgICAgICAgICAgIDogaXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpID8gZGVmYXVsdHMuY2FjaGVcbiAgICAgICAgICAgICAgOiBkZWZhdWx0Q2FjaGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICBpZiAoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XG4gICAgICAgICAgICBjYWNoZWRSZXNwLnRoZW4ocmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0LCByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxuICAgICAgICAgICAgPyAkYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LFxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxuICAgICAgICogIC0gcmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlXG4gICAgICAgKiAgLSBjYWxscyAkYXBwbHlcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZG9uZShzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xuICAgICAgICAgICAgY2FjaGUucHV0KHVybCwgW3N0YXR1cywgcmVzcG9uc2UsIHBhcnNlSGVhZGVycyhoZWFkZXJzU3RyaW5nKSwgc3RhdHVzVGV4dF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKHJlc29sdmVIdHRwUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xuICAgICAgICAvLyBub3JtYWxpemUgaW50ZXJuYWwgc3RhdHVzZXMgdG8gMFxuICAgICAgICBzdGF0dXMgPSBNYXRoLm1heChzdGF0dXMsIDApO1xuXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XG4gICAgICAgIHZhciBpZHggPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYnVpbGRVcmwodXJsLCBwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gdXJsO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHZhbHVlID0gW3ZhbHVlXTtcblxuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgICBpZiAoaXNEYXRlKHYpKSB7XG4gICAgICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2ID0gdG9Kc29uKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSkgKyAnPScgK1xuICAgICAgICAgICAgICAgICAgICAgZW5jb2RlVXJpUXVlcnkodikpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PSAtMSkgPyAnPycgOiAnJicpICsgcGFydHMuam9pbignJicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYaHIoKSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGh0dHBCYWNrZW5kXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRUUCBiYWNrZW5kIHVzZWQgYnkgdGhlIHtAbGluayBuZy4kaHR0cCBzZXJ2aWNlfSB0aGF0IGRlbGVnYXRlcyB0b1xuICogWE1MSHR0cFJlcXVlc3Qgb2JqZWN0IG9yIEpTT05QIGFuZCBkZWFscyB3aXRoIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMuXG4gKlxuICogWW91IHNob3VsZCBuZXZlciBuZWVkIHRvIHVzZSB0aGlzIHNlcnZpY2UgZGlyZWN0bHksIGluc3RlYWQgdXNlIHRoZSBoaWdoZXItbGV2ZWwgYWJzdHJhY3Rpb25zOlxuICoge0BsaW5rIG5nLiRodHRwICRodHRwfSBvciB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2UgJHJlc291cmNlfS5cbiAqXG4gKiBEdXJpbmcgdGVzdGluZyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIHN3YXBwZWQgd2l0aCB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCBtb2NrXG4gKiAkaHR0cEJhY2tlbmR9IHdoaWNoIGNhbiBiZSB0cmFpbmVkIHdpdGggcmVzcG9uc2VzLlxuICovXG5mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRicm93c2VyLCAkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXIuZGVmZXIsICR3aW5kb3cuYW5ndWxhci5jYWxsYmFja3MsICRkb2N1bWVudFswXSk7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3NlckRlZmVyLCBjYWxsYmFja3MsIHJhd0RvY3VtZW50KSB7XG4gIC8vIFRPRE8odm9qdGEpOiBmaXggdGhlIHNpZ25hdHVyZVxuICByZXR1cm4gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBvc3QsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMsIHJlc3BvbnNlVHlwZSkge1xuICAgICRicm93c2VyLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtcbiAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XG5cbiAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT0gJ2pzb25wJykge1xuICAgICAgdmFyIGNhbGxiYWNrSWQgPSAnXycgKyAoY2FsbGJhY2tzLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xuICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSA9IGRhdGE7XG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybC5yZXBsYWNlKCdKU09OX0NBTExCQUNLJywgJ2FuZ3VsYXIuY2FsbGJhY2tzLicgKyBjYWxsYmFja0lkKSxcbiAgICAgICAgICBjYWxsYmFja0lkLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCBcIlwiLCB0ZXh0KTtcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gbm9vcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciB4aHIgPSBjcmVhdGVYaHIoKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOCAmIDkpXG4gICAgICAgIC8vIHJlc3BvbnNlL3Jlc3BvbnNlVHlwZSBwcm9wZXJ0aWVzIHdlcmUgaW50cm9kdWNlZCBpbiBYSFIgTGV2ZWwyIHNwZWMgKHN1cHBvcnRlZCBieSBJRTEwKVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAvLyBub3JtYWxpemUgSUU5IGJ1ZyAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTQ1MClcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xuXG4gICAgICAgIC8vIGZpeCBzdGF0dXMgY29kZSB3aGVuIGl0IGlzIDAgKDAgc3RhdHVzIGlzIHVuZG9jdW1lbnRlZCkuXG4gICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXG4gICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09ICdmaWxlJyA/IDQwNCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUaGUgcmVzcG9uc2UgaXMgYWx3YXlzIGVtcHR5XG4gICAgICAgIC8vIFNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3QtZXJyb3Itc3RlcHMgYW5kIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW5ldHdvcmstZXJyb3JcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XG4gICAgICB4aHIub25hYm9ydCA9IHJlcXVlc3RFcnJvcjtcblxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxuICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHBvc3QgfHwgbnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2VMaWtlKHRpbWVvdXQpKSB7XG4gICAgICB0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKSB7XG4gICAgICBqc29ucERvbmUgJiYganNvbnBEb25lKCk7XG4gICAgICB4aHIgJiYgeGhyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAvLyBjYW5jZWwgdGltZW91dCBhbmQgc3Vic2VxdWVudCB0aW1lb3V0IHByb21pc2UgcmVzb2x1dGlvblxuICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsO1xuXG4gICAgICBjYWxsYmFjayhzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICAgICRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGpzb25wUmVxKHVybCwgY2FsbGJhY2tJZCwgZG9uZSkge1xuICAgIC8vIHdlIGNhbid0IHVzZSBqUXVlcnkvanFMaXRlIGhlcmUgYmVjYXVzZSBqUXVlcnkgZG9lcyBjcmF6eSBzaGl0IHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cbiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50XG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XG4gICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgIHNjcmlwdC5zcmMgPSB1cmw7XG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuICAgIGNhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICB2YXIgc3RhdHVzID0gLTE7XG4gICAgICB2YXIgdGV4dCA9IFwidW5rbm93blwiO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwibG9hZFwiICYmICFjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkKSB7XG4gICAgICAgICAgZXZlbnQgPSB7IHR5cGU6IFwiZXJyb3JcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHRleHQgPSBldmVudC50eXBlO1xuICAgICAgICBzdGF0dXMgPSBldmVudC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJsb2FkXCIsIGNhbGxiYWNrKTtcbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICByYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9XG59XG5cbnZhciAkaW50ZXJwb2xhdGVNaW5FcnIgPSBtaW5FcnIoJyRpbnRlcnBvbGF0ZScpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2VkIGZvciBjb25maWd1cmluZyB0aGUgaW50ZXJwb2xhdGlvbiBtYXJrdXAuIERlZmF1bHRzIHRvIGB7e2AgYW5kIGB9fWAuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cImN1c3RvbUludGVycG9sYXRpb25BcHBcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48c2NyaXB0PlxuICB2YXIgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjdXN0b21JbnRlcnBvbGF0aW9uQXBwJywgW10pO1xuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJy8vJyk7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpO1xuICB9KTtcblxuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGFiZWwgPSBcIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuXCI7XG4gIH0pO1xuPC9zY3JpcHQ+XG48ZGl2IG5nLWFwcD1cIkFwcFwiIG5nLWNvbnRyb2xsZXI9XCJEZW1vQ29udHJvbGxlciBhcyBkZW1vXCI+XG4gICAgLy9kZW1vLmxhYmVsLy9cbjwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpO1xuICB9KTtcbjwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XG4gIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7XG4gIHZhciBlbmRTeW1ib2wgPSAnfX0nO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBlbmRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5lbmRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyAkcGFyc2VcbiAgICAgKiBAcmVxdWlyZXMgJHNjZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxuICAgICAqIEhUTUwge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSBzZXJ2aWNlIGZvciBkYXRhIGJpbmRpbmcuIFNlZVxuICAgICAqIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciAkaW50ZXJwb2xhdGVQcm92aWRlcn0gZm9yIGNvbmZpZ3VyaW5nIHRoZVxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ0hlbGxvIHt7bmFtZSB8IHVwcGVyY2FzZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KS50b0VxdWFsKCdIZWxsbyBBTkdVTEFSIScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYCRpbnRlcnBvbGF0ZWAgdGFrZXMgYW4gb3B0aW9uYWwgZm91cnRoIGFyZ3VtZW50LCBgYWxsT3JOb3RoaW5nYC4gSWYgYGFsbE9yTm90aGluZ2AgaXNcbiAgICAgKiBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnNcbiAgICAgKiBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBjb250ZXh0ID0ge2dyZWV0aW5nOiAnSGVsbG8nLCBuYW1lOiB1bmRlZmluZWQgfTtcbiAgICAgKlxuICAgICAqICAgLy8gZGVmYXVsdCBcImZvcmdpdmluZ1wiIG1vZGVcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvICEnKTtcbiAgICAgKlxuICAgICAqICAgLy8gXCJhbGxPck5vdGhpbmdcIiBtb2RlXG4gICAgICogICBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnLCBmYWxzZSwgbnVsbCwgdHJ1ZSk7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICogICBjb250ZXh0Lm5hbWUgPSAnQW5ndWxhcic7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyBBbmd1bGFyIScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYGFsbE9yTm90aGluZ2AgaXMgdXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIFVSTHMuIGBuZ1NyY2AgYW5kIGBuZ1NyY3NldGAgdXNlIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiAjIyMjRXNjYXBlZCBJbnRlcnBvbGF0aW9uXG4gICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xuICAgICAqIGNhbiBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBlYWNoIG9mIHRoZWlyIGNoYXJhY3RlcnMgd2l0aCBhIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaCkuXG4gICAgICogSXQgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHJlZ3VsYXIgc3RhcnQvZW5kIG1hcmtlciwgYW5kIHdpbGwgbm90IGJlIGludGVycHJldGVkIGFzIGFuIGV4cHJlc3Npb25cbiAgICAgKiBvciBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIHdlYi1zZXJ2ZXJzIHRvIHByZXZlbnQgc2NyaXB0IGluamVjdGlvbiBhdHRhY2tzIGFuZCBkZWZhY2luZyBhdHRhY2tzLCB0byBzb21lXG4gICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ05vbkJpbmRhYmxlIG5nTm9uQmluZGFibGV9IGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcbiAgICAgKiByZXBsYWNpbmcgYW5nbGUgYnJhY2tldHMgKCZsdDssICZndDspIHdpdGggJmFtcDtsdDsgYW5kICZhbXA7Z3Q7IHJlc3BlY3RpdmVseSwgYW5kIHJlcGxhY2luZyBhbGxcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBjb3VudGVycGFydHMuKipcbiAgICAgKlxuICAgICAqIEVzY2FwZWQgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGFyZSBvbmx5IHJlcGxhY2VkIHdpdGggdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgaW4gcmVuZGVyZWRcbiAgICAgKiBvdXRwdXQgd2hlbiB0aGUgJGludGVycG9sYXRlIHNlcnZpY2UgcHJvY2Vzc2VzIHRoZSB0ZXh0LiBTbywgZm9yIEhUTUwgZWxlbWVudHMgaW50ZXJwb2xhdGVkXG4gICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcbiAgICAgKiBzZXQgdG8gYHRydWVgLCB0aGUgaW50ZXJwb2xhdGVkIHRleHQgbXVzdCBjb250YWluIGFuIHVuZXNjYXBlZCBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24uIEFzIHN1Y2gsXG4gICAgICogdGhpcyBpcyB0eXBpY2FsbHkgdXNlZnVsIG9ubHkgd2hlbiB1c2VyLWRhdGEgaXMgdXNlZCBpbiByZW5kZXJpbmcgYSB0ZW1wbGF0ZSBmcm9tIHRoZSBzZXJ2ZXIsIG9yXG4gICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIDxleGFtcGxlPlxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAqICAgIDxkaXYgbmctaW5pdD1cInVzZXJuYW1lPSdBIHVzZXInXCI+XG4gICAgICogICAgICA8cCBuZy1pbml0PVwiYXBwdGl0bGU9J0VzY2FwaW5nIGRlbW8nXCI+e3thcHB0aXRsZX19OiBcXHtcXHsgdXNlcm5hbWUgPSBcImRlZmFjZWQgdmFsdWVcIjsgXFx9XFx9XG4gICAgICogICAgICAgIDwvcD5cbiAgICAgKiAgICAgIDxwPjxzdHJvbmc+e3t1c2VybmFtZX19PC9zdHJvbmc+IGF0dGVtcHRzIHRvIGluamVjdCBjb2RlIHdoaWNoIHdpbGwgZGVmYWNlIHRoZVxuICAgICAqICAgICAgICBhcHBsaWNhdGlvbiwgYnV0IGZhaWxzIHRvIGFjY29tcGxpc2ggdGhlaXIgdGFzaywgYmVjYXVzZSB0aGUgc2VydmVyIGhhcyBjb3JyZWN0bHlcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycy48L3A+XG4gICAgICogICAgICA8cD5JbnN0ZWFkLCB0aGUgcmVzdWx0IG9mIHRoZSBhdHRlbXB0ZWQgc2NyaXB0IGluamVjdGlvbiBpcyB2aXNpYmxlLCBhbmQgY2FuIGJlIHJlbW92ZWRcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICogICAgPC9kaXY+XG4gICAgICogIDwvZmlsZT5cbiAgICAgKiA8L2V4YW1wbGU+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBtdXN0SGF2ZUV4cHJlc3Npb24gaWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgaW50ZXJwb2xhdGlvbiBzdHJpbmcgbXVzdCBoYXZlXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiBpbiBvcmRlciB0byByZXR1cm4gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi4gU3RyaW5ncyB3aXRoIG5vXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHRydXN0ZWRDb250ZXh0IHdoZW4gcHJvdmlkZWQsIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBwYXNzZXMgdGhlIGludGVycG9sYXRlZFxuICAgICAqICAgIHJlc3VsdCB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkKGludGVycG9sYXRlZFJlc3VsdCxcbiAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0XG4gICAgICogICAgcHJvdmlkZXMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZm9yIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYWxsT3JOb3RoaW5nIGlmIGB0cnVlYCwgdGhlbiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcmV0dXJucyB1bmRlZmluZWRcbiAgICAgKiAgICB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCl9IGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICAgICAqICAgIGludGVycG9sYXRlZCBzdHJpbmcuIFRoZSBmdW5jdGlvbiBoYXMgdGhlc2UgcGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqIC0gYGNvbnRleHRgOiBldmFsdWF0aW9uIGNvbnRleHQgZm9yIGFsbCBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgaW50ZXJwb2xhdGVkIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKSB7XG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcbiAgICAgIHZhciBzdGFydEluZGV4LFxuICAgICAgICAgIGVuZEluZGV4LFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxuICAgICAgICAgIHBhcnNlRm5zID0gW10sXG4gICAgICAgICAgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoLFxuICAgICAgICAgIGV4cCxcbiAgICAgICAgICBjb25jYXQgPSBbXSxcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zID0gW107XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IHRleHRMZW5ndGgpIHtcbiAgICAgICAgaWYgKCgoc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihzdGFydFN5bWJvbCwgaW5kZXgpKSAhPSAtMSkgJiZcbiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT0gLTEpKSB7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0SW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV4cCA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCwgZW5kSW5kZXgpO1xuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goZXhwKTtcbiAgICAgICAgICBwYXJzZUZucy5wdXNoKCRwYXJzZShleHAsIHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IpKTtcbiAgICAgICAgICBpbmRleCA9IGVuZEluZGV4ICsgZW5kU3ltYm9sTGVuZ3RoO1xuICAgICAgICAgIGV4cHJlc3Npb25Qb3NpdGlvbnMucHVzaChjb25jYXQubGVuZ3RoKTtcbiAgICAgICAgICBjb25jYXQucHVzaCgnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2UgZGlkIG5vdCBmaW5kIGFuIGludGVycG9sYXRpb24sIHNvIHdlIGhhdmUgdG8gYWRkIHRoZSByZW1haW5kZXIgdG8gdGhlIHNlcGFyYXRvcnMgYXJyYXlcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHRleHRMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ29uY2F0ZW5hdGluZyBleHByZXNzaW9ucyBtYWtlcyBpdCBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGV0aGVyIHNvbWUgY29tYmluYXRpb24gb2ZcbiAgICAgIC8vIGNvbmNhdGVuYXRlZCB2YWx1ZXMgYXJlIHVuc2FmZSB0byB1c2UgYW5kIGNvdWxkIGVhc2lseSBsZWFkIHRvIFhTUy4gIEJ5IHJlcXVpcmluZyB0aGF0IGFcbiAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIGlmcmFtZVtzcmNdLCBvYmplY3Rbc3JjXSwgZXRjLiwgd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0J3MgdXNlZCBpcyBhc3NpZ25lZCBvciBjb25zdHJ1Y3RlZCBieSBzb21lIEpTIGNvZGUgc29tZXdoZXJlIHRoYXQgaXMgbW9yZSB0ZXN0YWJsZSBvclxuICAgICAgLy8gbWFrZSBpdCBvYnZpb3VzIHRoYXQgeW91IGJvdW5kIHRoZSB2YWx1ZSB0byBzb21lIHVzZXIgY29udHJvbGxlZCB2YWx1ZS4gIFRoaXMgaGVscHMgcmVkdWNlXG4gICAgICAvLyB0aGUgbG9hZCB3aGVuIGF1ZGl0aW5nIGZvciBYU1MgaXNzdWVzLlxuICAgICAgaWYgKHRydXN0ZWRDb250ZXh0ICYmIGNvbmNhdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgJGludGVycG9sYXRlTWluRXJyKCdub2NvbmNhdCcsXG4gICAgICAgICAgICAgIFwiRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XFxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzIFwiICtcbiAgICAgICAgICAgICAgXCJpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIFwiICtcbiAgICAgICAgICAgICAgXCJyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlXCIsIHRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7IC8vIG51bGwgfHwgdW5kZWZpbmVkXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgdmFyIG5ld0VyciA9ICRpbnRlcnBvbGF0ZU1pbkVycignaW50ZXJyJywgXCJDYW4ndCBpbnRlcnBvbGF0ZTogezB9XFxuezF9XCIsIHRleHQsXG4gICAgICAgICAgICAgICAgICBlcnIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKG5ld0Vycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgLy8gYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIHVuZG9jdW1lbnRlZCBmb3Igbm93XG4gICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxuICAgICAgICAgIGV4cHJlc3Npb25zOiBleHByZXNzaW9ucyxcbiAgICAgICAgICAkJHdhdGNoRGVsZWdhdGU6IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoR3JvdXAocGFyc2VGbnMsIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyVmFsdWUgPSBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1bmVzY2FwZVRleHQodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxuICAgICAgICAgIHJlcGxhY2UoZXNjYXBlZEVuZFJlZ2V4cCwgZW5kU3ltYm9sKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcih2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhbHVlID0gZ2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgIHJldHVybiBhbGxPck5vdGhpbmcgJiYgIWlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHZhciBuZXdFcnIgPSAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsIFwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxcbnsxfVwiLCB0ZXh0LFxuICAgICAgICAgICAgZXJyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKG5ld0Vycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjc3RhcnRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLlxuICAgICAqL1xuICAgICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sYH0gdG8gY2hhbmdlXG4gICAgICogdGhlIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVuZCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJHdpbmRvdycsICckcScsICckJHEnLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJHdpbmRvdywgICAkcSwgICAkJHEpIHtcbiAgICB2YXIgaW50ZXJ2YWxzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJGludGVydmFsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGV2ZXJ5IGBkZWxheWBcbiAgICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAgKlxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGFuIGludGVydmFsIGZ1bmN0aW9uIGlzIGEgcHJvbWlzZS4gVGhpcyBwcm9taXNlIHdpbGwgYmVcbiAgICAgICogbm90aWZpZWQgdXBvbiBlYWNoIHRpY2sgb2YgdGhlIGludGVydmFsLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBgY291bnRgIGl0ZXJhdGlvbnMsIG9yXG4gICAgICAqIHJ1biBpbmRlZmluaXRlbHkgaWYgYGNvdW50YCBpcyBub3QgZGVmaW5lZC4gVGhlIHZhbHVlIG9mIHRoZSBub3RpZmljYXRpb24gd2lsbCBiZSB0aGVcbiAgICAgICogbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBoYXZlIHJ1bi5cbiAgICAgICogVG8gY2FuY2VsIGFuIGludGVydmFsLCBjYWxsIGAkaW50ZXJ2YWwuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG9cbiAgICAgICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdFxuICAgICAgKiB0aW1lLlxuICAgICAgKlxuICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkXG4gICAgICAqIHdpdGggdGhlbS4gIEluIHBhcnRpY3VsYXIgdGhleSBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW4gYSBjb250cm9sbGVyJ3Mgc2NvcGUgb3IgYVxuICAgICAgKiBkaXJlY3RpdmUncyBlbGVtZW50IGFyZSBkZXN0cm95ZWQuXG4gICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZVxuICAgICAgKiBhcHByb3ByaWF0ZSBtb21lbnQuICBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIG1vcmUgZGV0YWlscyBvbiBob3cgYW5kIHdoZW4gdG8gZG8gdGhpcy5cbiAgICAgICogPC9kaXY+XG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgcmVwZWF0ZWRseS5cbiAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IE51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvdW50PTBdIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQuIElmIG5vdCBzZXQsIG9yIDAsIHdpbGwgcmVwZWF0XG4gICAgICAqICAgaW5kZWZpbml0ZWx5LlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIG5vdGlmaWVkIG9uIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgKlxuICAgICAgKiBAZXhhbXBsZVxuICAgICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnRlcnZhbEV4YW1wbGVcIj5cbiAgICAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICogICA8c2NyaXB0PlxuICAgICAgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2ludGVydmFsRXhhbXBsZScsIFtdKVxuICAgICAgKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaW50ZXJ2YWwnLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsKSB7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJ00vZC95eSBoOm1tOnNzIGEnO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgIHZhciBzdG9wO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIC8vIERvbid0IHN0YXJ0IGEgbmV3IGZpZ2h0IGlmIHdlIGFyZSBhbHJlYWR5IGZpZ2h0aW5nXG4gICAgICAqICAgICAgICAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoc3RvcCkgKSByZXR1cm47XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIHN0b3AgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ibG9vZF8xID4gMCAmJiAkc2NvcGUuYmxvb2RfMiA+IDApIHtcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gJHNjb3BlLmJsb29kXzEgLSAzO1xuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAkc2NvcGUuYmxvb2RfMiAtIDQ7XG4gICAgICAqICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgICogICAgICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc3RvcCkpIHtcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3ApO1xuICAgICAgKiAgICAgICAgICAgICAgIHN0b3AgPSB1bmRlZmluZWQ7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICogICAgICAgICAgIH07XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAkc2NvcGUucmVzZXRGaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGludGVydmFsIGlzIGRlc3Ryb3llZCB0b29cbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xuICAgICAgKiAgICAgICAgICAgfSk7XG4gICAgICAqICAgICAgICAgfV0pXG4gICAgICAqICAgICAgIC8vIFJlZ2lzdGVyIHRoZSAnbXlDdXJyZW50VGltZScgZGlyZWN0aXZlIGZhY3RvcnkgbWV0aG9kLlxuICAgICAgKiAgICAgICAvLyBXZSBpbmplY3QgJGludGVydmFsIGFuZCBkYXRlRmlsdGVyIHNlcnZpY2Ugc2luY2UgdGhlIGZhY3RvcnkgbWV0aG9kIGlzIERJLlxuICAgICAgKiAgICAgICAuZGlyZWN0aXZlKCdteUN1cnJlbnRUaW1lJywgWyckaW50ZXJ2YWwnLCAnZGF0ZUZpbHRlcicsXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJGludGVydmFsLCBkYXRlRmlsdGVyKSB7XG4gICAgICAqICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRpcmVjdGl2ZSBsaW5rIGZ1bmN0aW9uLiAoY29tcGlsZSBmdW5jdGlvbiBub3QgbmVlZGVkKVxuICAgICAgKiAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgKiAgICAgICAgICAgICB2YXIgZm9ybWF0LCAgLy8gZGF0ZSBmb3JtYXRcbiAgICAgICogICAgICAgICAgICAgICAgIHN0b3BUaW1lOyAvLyBzbyB0aGF0IHdlIGNhbiBjYW5jZWwgdGhlIHRpbWUgdXBkYXRlc1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICAvLyB1c2VkIHRvIHVwZGF0ZSB0aGUgVUlcbiAgICAgICogICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcbiAgICAgICogICAgICAgICAgICAgICBlbGVtZW50LnRleHQoZGF0ZUZpbHRlcihuZXcgRGF0ZSgpLCBmb3JtYXQpKTtcbiAgICAgICogICAgICAgICAgICAgfVxuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICAvLyB3YXRjaCB0aGUgZXhwcmVzc2lvbiwgYW5kIHVwZGF0ZSB0aGUgVUkgb24gY2hhbmdlLlxuICAgICAgKiAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMubXlDdXJyZW50VGltZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICogICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZTtcbiAgICAgICogICAgICAgICAgICAgICB1cGRhdGVUaW1lKCk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICBzdG9wVGltZSA9ICRpbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gbGlzdGVuIG9uIERPTSBkZXN0cm95IChyZW1vdmFsKSBldmVudCwgYW5kIGNhbmNlbCB0aGUgbmV4dCBVSSB1cGRhdGVcbiAgICAgICogICAgICAgICAgICAgLy8gdG8gcHJldmVudCB1cGRhdGluZyB0aW1lIGFmdGVyIHRoZSBET00gZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAgICAgICogICAgICAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3BUaW1lKTtcbiAgICAgICogICAgICAgICAgICAgfSk7XG4gICAgICAqICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgfV0pO1xuICAgICAgKiAgIDwvc2NyaXB0PlxuICAgICAgKlxuICAgICAgKiAgIDxkaXY+XG4gICAgICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgKiAgICAgICBEYXRlIGZvcm1hdDogPGlucHV0IG5nLW1vZGVsPVwiZm9ybWF0XCI+IDxoci8+XG4gICAgICAqICAgICAgIEN1cnJlbnQgdGltZSBpczogPHNwYW4gbXktY3VycmVudC10aW1lPVwiZm9ybWF0XCI+PC9zcGFuPlxuICAgICAgKiAgICAgICA8aHIvPlxuICAgICAgKiAgICAgICBCbG9vZCAxIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8xfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIEJsb29kIDIgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzJ9fTwvZm9udD5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cImZpZ2h0KClcIj5GaWdodDwvYnV0dG9uPlxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwic3RvcEZpZ2h0KClcIj5TdG9wRmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInJlc2V0RmlnaHQoKVwiPnJlc2V0RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgIDwvZGl2PlxuICAgICAgKiAgIDwvZGl2PlxuICAgICAgKlxuICAgICAgKiA8L2ZpbGU+XG4gICAgICAqIDwvZXhhbXBsZT5cbiAgICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJ2YWwoZm4sIGRlbGF5LCBjb3VudCwgaW52b2tlQXBwbHkpIHtcbiAgICAgIHZhciBzZXRJbnRlcnZhbCA9ICR3aW5kb3cuc2V0SW50ZXJ2YWwsXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCA9ICR3aW5kb3cuY2xlYXJJbnRlcnZhbCxcbiAgICAgICAgICBpdGVyYXRpb24gPSAwLFxuICAgICAgICAgIHNraXBBcHBseSA9IChpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSksXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgIGNvdW50ID0gaXNEZWZpbmVkKGNvdW50KSA/IGNvdW50IDogMDtcblxuICAgICAgcHJvbWlzZS50aGVuKG51bGwsIG51bGwsIGZuKTtcblxuICAgICAgcHJvbWlzZS4kJGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpdGVyYXRpb24pO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG5cbiAgICAgIH0sIGRlbGF5KTtcblxuICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWwjY2FuY2VsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtwcm9taXNlfSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIHdhcyBzdWNjZXNzZnVsbHkgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCRpbnRlcnZhbElkIGluIGludGVydmFscykge1xuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcbiAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gaW50ZXJ2YWw7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9jYWxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAkbG9jYWxlIHNlcnZpY2UgcHJvdmlkZXMgbG9jYWxpemF0aW9uIHJ1bGVzIGZvciB2YXJpb3VzIEFuZ3VsYXIgY29tcG9uZW50cy4gQXMgb2YgcmlnaHQgbm93IHRoZVxuICogb25seSBwdWJsaWMgYXBpIGlzOlxuICpcbiAqICogYGlkYCDigJMgYHtzdHJpbmd9YCDigJMgbG9jYWxlIGlkIGZvcm1hdHRlZCBhcyBgbGFuZ3VhZ2VJZC1jb3VudHJ5SWRgIChlLmcuIGBlbi11c2ApXG4gKi9cbmZ1bmN0aW9uICRMb2NhbGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnZW4tdXMnLFxuXG4gICAgICBOVU1CRVJfRk9STUFUUzoge1xuICAgICAgICBERUNJTUFMX1NFUDogJy4nLFxuICAgICAgICBHUk9VUF9TRVA6ICcsJyxcbiAgICAgICAgUEFUVEVSTlM6IFtcbiAgICAgICAgICB7IC8vIERlY2ltYWwgUGF0dGVyblxuICAgICAgICAgICAgbWluSW50OiAxLFxuICAgICAgICAgICAgbWluRnJhYzogMCxcbiAgICAgICAgICAgIG1heEZyYWM6IDMsXG4gICAgICAgICAgICBwb3NQcmU6ICcnLFxuICAgICAgICAgICAgcG9zU3VmOiAnJyxcbiAgICAgICAgICAgIG5lZ1ByZTogJy0nLFxuICAgICAgICAgICAgbmVnU3VmOiAnJyxcbiAgICAgICAgICAgIGdTaXplOiAzLFxuICAgICAgICAgICAgbGdTaXplOiAzXG4gICAgICAgICAgfSx7IC8vQ3VycmVuY3kgUGF0dGVyblxuICAgICAgICAgICAgbWluSW50OiAxLFxuICAgICAgICAgICAgbWluRnJhYzogMixcbiAgICAgICAgICAgIG1heEZyYWM6IDIsXG4gICAgICAgICAgICBwb3NQcmU6ICdcXHUwMEE0JyxcbiAgICAgICAgICAgIHBvc1N1ZjogJycsXG4gICAgICAgICAgICBuZWdQcmU6ICcoXFx1MDBBNCcsXG4gICAgICAgICAgICBuZWdTdWY6ICcpJyxcbiAgICAgICAgICAgIGdTaXplOiAzLFxuICAgICAgICAgICAgbGdTaXplOiAzXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBDVVJSRU5DWV9TWU06ICckJ1xuICAgICAgfSxcblxuICAgICAgREFURVRJTUVfRk9STUFUUzoge1xuICAgICAgICBNT05USDpcbiAgICAgICAgICAgICdKYW51YXJ5LEZlYnJ1YXJ5LE1hcmNoLEFwcmlsLE1heSxKdW5lLEp1bHksQXVndXN0LFNlcHRlbWJlcixPY3RvYmVyLE5vdmVtYmVyLERlY2VtYmVyJ1xuICAgICAgICAgICAgLnNwbGl0KCcsJyksXG4gICAgICAgIFNIT1JUTU9OVEg6ICAnSmFuLEZlYixNYXIsQXByLE1heSxKdW4sSnVsLEF1ZyxTZXAsT2N0LE5vdixEZWMnLnNwbGl0KCcsJyksXG4gICAgICAgIERBWTogJ1N1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Jy5zcGxpdCgnLCcpLFxuICAgICAgICBTSE9SVERBWTogJ1N1bixNb24sVHVlLFdlZCxUaHUsRnJpLFNhdCcuc3BsaXQoJywnKSxcbiAgICAgICAgQU1QTVM6IFsnQU0nLCdQTSddLFxuICAgICAgICBtZWRpdW06ICdNTU0gZCwgeSBoOm1tOnNzIGEnLFxuICAgICAgICAnc2hvcnQnOiAnTS9kL3l5IGg6bW0gYScsXG4gICAgICAgIGZ1bGxEYXRlOiAnRUVFRSwgTU1NTSBkLCB5JyxcbiAgICAgICAgbG9uZ0RhdGU6ICdNTU1NIGQsIHknLFxuICAgICAgICBtZWRpdW1EYXRlOiAnTU1NIGQsIHknLFxuICAgICAgICBzaG9ydERhdGU6ICdNL2QveXknLFxuICAgICAgICBtZWRpdW1UaW1lOiAnaDptbTpzcyBhJyxcbiAgICAgICAgc2hvcnRUaW1lOiAnaDptbSBhJ1xuICAgICAgfSxcblxuICAgICAgcGx1cmFsQ2F0OiBmdW5jdGlvbihudW0pIHtcbiAgICAgICAgaWYgKG51bSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiAnb25lJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ290aGVyJztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuXG52YXIgUEFUSF9NQVRDSCA9IC9eKFteXFw/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLFxuICAgIERFRkFVTFRfUE9SVFMgPSB7J2h0dHAnOiA4MCwgJ2h0dHBzJzogNDQzLCAnZnRwJzogMjF9O1xudmFyICRsb2NhdGlvbk1pbkVyciA9IG1pbkVycignJGxvY2F0aW9uJyk7XG5cblxuLyoqXG4gKiBFbmNvZGUgcGF0aCB1c2luZyBlbmNvZGVVcmlTZWdtZW50LCBpZ25vcmluZyBmb3J3YXJkIHNsYXNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIGVuY29kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XG4gIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSxcbiAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHNlZ21lbnRzW2ldID0gZW5jb2RlVXJpU2VnbWVudChzZWdtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gc2VnbWVudHMuam9pbignLycpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUFic29sdXRlVXJsKGFic29sdXRlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZShhYnNvbHV0ZVVybCk7XG5cbiAgbG9jYXRpb25PYmouJCRwcm90b2NvbCA9IHBhcnNlZFVybC5wcm90b2NvbDtcbiAgbG9jYXRpb25PYmouJCRob3N0ID0gcGFyc2VkVXJsLmhvc3RuYW1lO1xuICBsb2NhdGlvbk9iai4kJHBvcnQgPSBpbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsO1xufVxuXG5cbmZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcHJlZml4ZWQgPSAocmVsYXRpdmVVcmwuY2hhckF0KDApICE9PSAnLycpO1xuICBpZiAocHJlZml4ZWQpIHtcbiAgICByZWxhdGl2ZVVybCA9ICcvJyArIHJlbGF0aXZlVXJsO1xuICB9XG4gIHZhciBtYXRjaCA9IHVybFJlc29sdmUocmVsYXRpdmVVcmwpO1xuICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgP1xuICAgICAgbWF0Y2gucGF0aG5hbWUuc3Vic3RyaW5nKDEpIDogbWF0Y2gucGF0aG5hbWUpO1xuICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTtcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xuXG4gIC8vIG1ha2Ugc3VyZSBwYXRoIHN0YXJ0cyB3aXRoICcvJztcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9ICcvJykge1xuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcbiAgfVxufVxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiZWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHdob2xlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXR1cm5zIHRleHQgZnJvbSB3aG9sZSBhZnRlciBiZWdpbiBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgYmVnaW4gd2l0aFxuICogICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiZWdpbnNXaXRoKGJlZ2luLCB3aG9sZSkge1xuICBpZiAod2hvbGUuaW5kZXhPZihiZWdpbikgPT09IDApIHtcbiAgICByZXR1cm4gd2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7XG4gIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBpbmRleCA9PSAtMSA/IHVybCA6IHVybC5zdWJzdHIoMCwgaW5kZXgpO1xufVxuXG5mdW5jdGlvbiB0cmltRW1wdHlIYXNoKHVybCkge1xuICByZXR1cm4gdXJsLnJlcGxhY2UoLygjLispfCMkLywgJyQxJyk7XG59XG5cblxuZnVuY3Rpb24gc3RyaXBGaWxlKHVybCkge1xuICByZXR1cm4gdXJsLnN1YnN0cigwLCBzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG5cbi8qIHJldHVybiB0aGUgc2VydmVyIG9ubHkgKHNjaGVtZTovL2hvc3Q6cG9ydCkgKi9cbmZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKCcvJywgdXJsLmluZGV4T2YoJy8vJykgKyAyKSk7XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkh0bWw1VXJsIHJlcHJlc2VudHMgYW4gdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gSFRNTDUgbW9kZSBpcyBlbmFibGVkIGFuZCBzdXBwb3J0ZWRcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVByZWZpeCB1cmwgcGF0aCBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IdG1sNVVybChhcHBCYXNlLCBiYXNlUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xuICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBodG1sNSAocmVndWxhcikgdXJsIHN0cmluZyBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIVE1MNSB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciBwYXRoVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIGlmICghaXNTdHJpbmcocGF0aFVybCkpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXB0aHByZngnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIiwgbWlzc2luZyBwYXRoIHByZWZpeCBcInsxfVwiLicsIHVybCxcbiAgICAgICAgICBhcHBCYXNlTm9GaWxlKTtcbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybChwYXRoVXJsLCB0aGlzKTtcblxuICAgIGlmICghdGhpcy4kJHBhdGgpIHtcbiAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xuICAgIH1cblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZU5vRmlsZSArIHRoaXMuJCR1cmwuc3Vic3RyKDEpOyAvLyBmaXJzdCBjaGFyIGlzIGFsd2F5cyAnLydcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGFwcFVybCwgcHJldkFwcFVybDtcbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuXG4gICAgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2UsIHVybCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByZXZBcHBVcmwgPSBhcHBVcmw7XG4gICAgICBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYmFzZVByZWZpeCwgYXBwVXJsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgKGJlZ2luc1dpdGgoJy8nLCBhcHBVcmwpIHx8IGFwcFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgcHJldkFwcFVybDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyBhcHBVcmw7XG4gICAgfSBlbHNlIGlmIChhcHBCYXNlTm9GaWxlID09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBkZXZlbG9wZXIgZG9lc24ndCBvcHQgaW50byBodG1sNSBtb2RlLlxuICogSXQgYWxzbyBzZXJ2ZXMgYXMgdGhlIGJhc2UgY2xhc3MgZm9yIGh0bWw1IG1vZGUgZmFsbGJhY2sgb24gbGVnYWN5IGJyb3dzZXJzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nVXJsKGFwcEJhc2UsIGhhc2hQcmVmaXgpIHtcbiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyB1cmwgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSGFzaGJhbmcgdXJsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgd2l0aG91dEJhc2VVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2UsIHVybCkgfHwgYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIHZhciB3aXRob3V0SGFzaFVybDtcblxuICAgIGlmICh3aXRob3V0QmFzZVVybC5jaGFyQXQoMCkgPT09ICcjJykge1xuXG4gICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgdXJsIHN0YXJ0cyB3aXRoIGEgaGFzaCBzbyB3ZSBoYXZlXG4gICAgICAvLyBnb3QgZWl0aGVyIGEgaGFzaGJhbmcgcGF0aCBvciBhIHBsYWluIGhhc2ggZnJhZ21lbnRcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gYmVnaW5zV2l0aChoYXNoUHJlZml4LCB3aXRob3V0QmFzZVVybCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEhhc2hVcmwpKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwYXRoIG5vciBoYXNoIGZyYWdtZW50OlxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBpZ25vcmUgd2hhdCBpcyBsZWZ0XG4gICAgICB3aXRob3V0SGFzaFVybCA9IHRoaXMuJCRodG1sNSA/IHdpdGhvdXRCYXNlVXJsIDogJyc7XG4gICAgfVxuXG4gICAgcGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsIHRoaXMpO1xuXG4gICAgdGhpcy4kJHBhdGggPSByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHRoaXMuJCRwYXRoLCB3aXRob3V0SGFzaFVybCwgYXBwQmFzZSk7XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgLypcbiAgICAgKiBJbiBXaW5kb3dzLCBvbiBhbiBhbmNob3Igbm9kZSBvbiBkb2N1bWVudHMgbG9hZGVkIGZyb21cbiAgICAgKiB0aGUgZmlsZXN5c3RlbSwgdGhlIGJyb3dzZXIgd2lsbCByZXR1cm4gYSBwYXRobmFtZVxuICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYVxuICAgICAqIHBhdGhuYW1lIHdpdGhvdXQgYSBkcml2ZSBpcyBzZXQ6XG4gICAgICogICogYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnL2ZvbycpXG4gICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWVcbiAgICAgKlxuICAgICAqIEluc2lkZSBvZiBBbmd1bGFyLCB3ZSdyZSBhbHdheXMgdXNpbmcgcGF0aG5hbWVzIHRoYXRcbiAgICAgKiBkbyBub3QgaW5jbHVkZSBkcml2ZSBuYW1lcyBmb3Igcm91dGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHBhdGgsIHVybCwgYmFzZSkge1xuICAgICAgLypcbiAgICAgIE1hdGNoZXMgcGF0aHMgZm9yIGZpbGUgcHJvdG9jb2wgb24gd2luZG93cyxcbiAgICAgIHN1Y2ggYXMgL0M6L2Zvby9iYXIsIGFuZCBjYXB0dXJlcyBvbmx5IC9mb28vYmFyLlxuICAgICAgKi9cbiAgICAgIHZhciB3aW5kb3dzRmlsZVBhdGhFeHAgPSAvXlxcL1tBLVpdOihcXC8uKikvO1xuXG4gICAgICB2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoO1xuXG4gICAgICAvL0dldCB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBpbnB1dCBVUkwuXG4gICAgICBpZiAodXJsLmluZGV4T2YoYmFzZSkgPT09IDApIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cbiAgICAgIGlmICh3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPSB3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKTtcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ29tcG9zZSBoYXNoYmFuZyB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcblxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgKHRoaXMuJCR1cmwgPyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybCA6ICcnKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PSBzdHJpcEhhc2godXJsKSkge1xuICAgICAgdGhpcy4kJHBhcnNlKHVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGh0bWw1IGhpc3RvcnkgYXBpIGlzIGVuYWJsZWQgYnV0IHRoZSBicm93c2VyXG4gKiBkb2VzIG5vdCBzdXBwb3J0IGl0LlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBoYXNoUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuICAgIHZhciBhcHBVcmw7XG5cbiAgICBpZiAoYXBwQmFzZSA9PSBzdHJpcEhhc2godXJsKSkge1xuICAgICAgcmV3cml0dGVuVXJsID0gdXJsO1xuICAgIH0gZWxzZSBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xuXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICAvLyBpbmNsdWRlIGhhc2hQcmVmaXggaW4gJCRhYnNVcmwgd2hlbiAkJHVybCBpcyBlbXB0eSBzbyBJRTggJiA5IGRvIG5vdCByZWxvYWQgcGFnZSBiZWNhdXNlIG9mIHJlbW92YWwgb2YgJyMnXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybDtcbiAgfTtcblxufVxuXG5cbnZhciBsb2NhdGlvblByb3RvdHlwZSA9IHtcblxuICAvKipcbiAgICogQXJlIHdlIGluIGh0bWw1IG1vZGU/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJGh0bWw1OiBmYWxzZSxcblxuICAvKipcbiAgICogSGFzIGFueSBjaGFuZ2UgYmVlbiByZXBsYWNpbmc/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJHJlcGxhY2U6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNhYnNVcmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gZnVsbCB1cmwgcmVwcmVzZW50YXRpb24gd2l0aCBhbGwgc2VnbWVudHMgZW5jb2RlZCBhY2NvcmRpbmcgdG8gcnVsZXMgc3BlY2lmaWVkIGluXG4gICAqIFtSRkMgMzk4Nl0oaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQpLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGFic1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICogLy8gPT4gXCJodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZ1bGwgdXJsXG4gICAqL1xuICBhYnNVcmw6IGxvY2F0aW9uR2V0dGVyKCckJGFic1VybCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHVybCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKSB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2gsIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgdXJsID0gJGxvY2F0aW9uLnVybCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHVybCBOZXcgdXJsIHdpdGhvdXQgYmFzZSBwcmVmaXggKGUuZy4gYC9wYXRoP2E9YiNoYXNoYClcbiAgICogQHJldHVybiB7c3RyaW5nfSB1cmxcbiAgICovXG4gIHVybDogZnVuY3Rpb24odXJsKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHVybCkpXG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcblxuICAgIHZhciBtYXRjaCA9IFBBVEhfTUFUQ0guZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSk7XG4gICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdIHx8IHVybCA9PT0gJycpIHRoaXMuc2VhcmNoKG1hdGNoWzNdIHx8ICcnKTtcbiAgICB0aGlzLmhhc2gobWF0Y2hbNV0gfHwgJycpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3Byb3RvY29sXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHByb3RvY29sIG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHByb3RvY29sID0gJGxvY2F0aW9uLnByb3RvY29sKCk7XG4gICAqIC8vID0+IFwiaHR0cFwiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByb3RvY29sIG9mIGN1cnJlbnQgdXJsXG4gICAqL1xuICBwcm90b2NvbDogbG9jYXRpb25HZXR0ZXIoJyQkcHJvdG9jb2wnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jaG9zdFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBob3N0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICovXG4gIGhvc3Q6IGxvY2F0aW9uR2V0dGVyKCckJGhvc3QnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcG9ydFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwb3J0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xuICAgKiAvLyA9PiA4MFxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBwb3J0XG4gICAqL1xuICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3BhdGhcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKiBOb3RlOiBQYXRoIHNob3VsZCBhbHdheXMgYmVnaW4gd2l0aCBmb3J3YXJkIHNsYXNoICgvKSwgdGhpcyBtZXRob2Qgd2lsbCBhZGQgdGhlIGZvcndhcmQgc2xhc2hcbiAgICogaWYgaXQgaXMgbWlzc2luZy5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwYXRoID0gJGxvY2F0aW9uLnBhdGgoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gcGF0aCBOZXcgcGF0aFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHBhdGhcbiAgICovXG4gIHBhdGg6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJHBhdGgnLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHBhdGggIT09IG51bGwgPyBwYXRoLnRvU3RyaW5nKCkgOiAnJztcbiAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgdXJsIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XG4gICAqXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvI2hhc2hWYWx1ZVxuICAgKiB2YXIgaGFzaCA9ICRsb2NhdGlvbi5oYXNoKCk7XG4gICAqIC8vID0+IFwiaGFzaFZhbHVlXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gaGFzaCBOZXcgaGFzaCBmcmFnbWVudFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhhc2hcbiAgICovXG4gIGhhc2g6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJGhhc2gnLCBmdW5jdGlvbihoYXNoKSB7XG4gICAgcmV0dXJuIGhhc2ggIT09IG51bGwgPyBoYXNoLnRvU3RyaW5nKCkgOiAnJztcbiAgfSksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3JlcGxhY2VcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIGNhbGxlZCwgYWxsIGNoYW5nZXMgdG8gJGxvY2F0aW9uIGR1cmluZyBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIGJlIHJlcGxhY2luZyBjdXJyZW50IGhpc3RvcnlcbiAgICogcmVjb3JkLCBpbnN0ZWFkIG9mIGFkZGluZyBuZXcgb25lLlxuICAgKi9cbiAgcmVwbGFjZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJHJlcGxhY2UgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5mb3JFYWNoKFtMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCwgTG9jYXRpb25IYXNoYmFuZ1VybCwgTG9jYXRpb25IdG1sNVVybF0sIGZ1bmN0aW9uKExvY2F0aW9uKSB7XG4gIExvY2F0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzdGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRoIG9uZSBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICogVGhlIHN0YXRlIG9iamVjdCBpcyBsYXRlciBwYXNzZWQgdG8gYHB1c2hTdGF0ZWAgb3IgYHJlcGxhY2VTdGF0ZWAuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIHN1cHBvcnRlZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZ1xuICAgKiB0aGUgSFRNTDUgSGlzdG9yeSBBUEkgKGkuZS4gbWV0aG9kcyBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWApLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0XG4gICAqIG9sZGVyIGJyb3dzZXJzIChsaWtlIElFOSBvciBBbmRyb2lkIDwgNC4wKSwgZG9uJ3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIFN0YXRlIG9iamVjdCBmb3IgcHVzaFN0YXRlIG9yIHJlcGxhY2VTdGF0ZVxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHN0YXRlXG4gICAqL1xuICBMb2NhdGlvbi5wcm90b3R5cGUuc3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG5cbiAgICBpZiAoTG9jYXRpb24gIT09IExvY2F0aW9uSHRtbDVVcmwgfHwgIXRoaXMuJCRodG1sNSkge1xuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub3N0YXRlJywgJ0hpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgJyArXG4gICAgICAgICdpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEknKTtcbiAgICB9XG4gICAgLy8gVGhlIHVzZXIgbWlnaHQgbW9kaWZ5IGBzdGF0ZU9iamVjdGAgYWZ0ZXIgaW52b2tpbmcgYCRsb2NhdGlvbi5zdGF0ZShzdGF0ZU9iamVjdClgXG4gICAgLy8gYnV0IHdlJ3JlIGNoYW5naW5nIHRoZSAkJHN0YXRlIHJlZmVyZW5jZSB0byAkYnJvd3Nlci5zdGF0ZSgpIGR1cmluZyB0aGUgJGRpZ2VzdFxuICAgIC8vIHNvIHRoZSBtb2RpZmljYXRpb24gd2luZG93IGlzIG5hcnJvdy5cbiAgICB0aGlzLiQkc3RhdGUgPSBpc1VuZGVmaW5lZChzdGF0ZSkgPyBudWxsIDogc3RhdGU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gIH07XG59XG5cblxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXJTZXR0ZXIocHJvcGVydHksIHByZXByb2Nlc3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcblxuICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2NhdGlvblxuICpcbiAqIEByZXF1aXJlcyAkcm9vdEVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSAkbG9jYXRpb24gc2VydmljZSBwYXJzZXMgdGhlIFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciAoYmFzZWQgb24gdGhlXG4gKiBbd2luZG93LmxvY2F0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi93aW5kb3cubG9jYXRpb24pKSBhbmQgbWFrZXMgdGhlIFVSTFxuICogYXZhaWxhYmxlIHRvIHlvdXIgYXBwbGljYXRpb24uIENoYW5nZXMgdG8gdGhlIFVSTCBpbiB0aGUgYWRkcmVzcyBiYXIgYXJlIHJlZmxlY3RlZCBpbnRvXG4gKiAkbG9jYXRpb24gc2VydmljZSBhbmQgY2hhbmdlcyB0byAkbG9jYXRpb24gYXJlIHJlZmxlY3RlZCBpbnRvIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLlxuICpcbiAqICoqVGhlICRsb2NhdGlvbiBzZXJ2aWNlOioqXG4gKlxuICogLSBFeHBvc2VzIHRoZSBjdXJyZW50IFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciwgc28geW91IGNhblxuICogICAtIFdhdGNoIGFuZCBvYnNlcnZlIHRoZSBVUkwuXG4gKiAgIC0gQ2hhbmdlIHRoZSBVUkwuXG4gKiAtIFN5bmNocm9uaXplcyB0aGUgVVJMIHdpdGggdGhlIGJyb3dzZXIgd2hlbiB0aGUgdXNlclxuICogICAtIENoYW5nZXMgdGhlIGFkZHJlc3MgYmFyLlxuICogICAtIENsaWNrcyB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiAob3IgY2xpY2tzIGEgSGlzdG9yeSBsaW5rKS5cbiAqICAgLSBDbGlja3Mgb24gYSBsaW5rLlxuICogLSBSZXByZXNlbnRzIHRoZSBVUkwgb2JqZWN0IGFzIGEgc2V0IG9mIG1ldGhvZHMgKHByb3RvY29sLCBob3N0LCBwb3J0LCBwYXRoLCBzZWFyY2gsIGhhc2gpLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uIERldmVsb3BlciBHdWlkZTogVXNpbmcgJGxvY2F0aW9ufVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuXG4gKi9cbmZ1bmN0aW9uICRMb2NhdGlvblByb3ZpZGVyKCkge1xuICB2YXIgaGFzaFByZWZpeCA9ICcnLFxuICAgICAgaHRtbDVNb2RlID0ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IHRydWUsXG4gICAgICAgIHJld3JpdGVMaW5rczogdHJ1ZVxuICAgICAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNoYXNoUHJlZml4XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxuICAgKiAgIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCxcbiAgICogICAgIGVuYWJsZXMvZGlzYWJsZXMgdXJsIHJld3JpdGluZyBmb3IgcmVsYXRpdmUgbGlua3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGh0bWw1TW9kZSBvYmplY3QgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkge1xuICAgIGlmIChpc0Jvb2xlYW4obW9kZSkpIHtcbiAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobW9kZSkpIHtcblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLmVuYWJsZWQpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZS5lbmFibGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXF1aXJlQmFzZSA9IG1vZGUucmVxdWlyZUJhc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXdyaXRlTGlua3MpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBodG1sNU1vZGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0XG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS5cbiAgICpcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gZm9yIG1vcmVcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgIFwiJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhXCIpO1xuICAgICAgfVxuICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTtcbiAgICAgIExvY2F0aW9uTW9kZSA9ICRzbmlmZmVyLmhpc3RvcnkgPyBMb2NhdGlvbkh0bWw1VXJsIDogTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSBMb2NhdGlvbkhhc2hiYW5nVXJsO1xuICAgIH1cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcilcbiAgICAgIC8vIGN1cnJlbnRseSB3ZSBvcGVuIG5pY2UgdXJsIGxpbmsgYW5kIHJlZGlyZWN0IHRoZW5cblxuICAgICAgaWYgKCFodG1sNU1vZGUucmV3cml0ZUxpbmtzIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC53aGljaCA9PSAyIHx8IGV2ZW50LmJ1dHRvbiA9PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT0gJGJyb3dzZXIudXJsKCkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAvLyBoYWNrIHRvIHdvcmsgYXJvdW5kIEZGNiBidWcgNjg0MjA4IHdoZW4gc2NlbmFyaW8gcnVubmVyIGNsaWNrcyBvbiBsaW5rc1xuICAgICAgICAgICAgJHdpbmRvdy5hbmd1bGFyWydmZi02ODQyMDgtcHJldmVudERlZmF1bHQnXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxuICAgIGlmICh0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSkgIT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xuICAgICAgJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICAvLyB1cGRhdGUgJGxvY2F0aW9uIHdoZW4gJGJyb3dzZXIgdXJsIGNoYW5nZXNcbiAgICAkYnJvd3Nlci5vblVybENoYW5nZShmdW5jdGlvbihuZXdVcmwsIG5ld1N0YXRlKSB7XG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpO1xuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICBuZXdTdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxuICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sob2xkVXJsLCBmYWxzZSwgb2xkU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIGJyb3dzZXJcbiAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAkbG9jYXRpb25XYXRjaCgpIHtcbiAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcbiAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8XG4gICAgICAgICgkbG9jYXRpb24uJCRodG1sNSAmJiAkc25pZmZlci5oaXN0b3J5ICYmIG9sZFN0YXRlICE9PSAkbG9jYXRpb24uJCRzdGF0ZSk7XG5cbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1cmxPclN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG5ld1VybCwgY3VycmVudFJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXG4gICAgICAvLyB0aGVyZSBpcyBhIGNoYW5nZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICRsb2NhdGlvbjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XG4gICAgfVxufV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2dcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaW1wbGUgc2VydmljZSBmb3IgbG9nZ2luZy4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzYWZlbHkgd3JpdGVzIHRoZSBtZXNzYWdlXG4gKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXG4gKlxuICogVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gc2ltcGxpZnkgZGVidWdnaW5nIGFuZCB0cm91Ymxlc2hvb3RpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cbiAgICAgICAgIE1lc3NhZ2U6XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIi8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5sb2cobWVzc2FnZSlcIj5sb2c8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZXJyb3IobWVzc2FnZSlcIj5lcnJvcjwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2dQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcbiAqL1xuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xuICB2YXIgZGVidWcgPSB0cnVlLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBlbmFibGUgb3IgZGlzYWJsZSBkZWJ1ZyBsZXZlbCBtZXNzYWdlc1xuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5kZWJ1Z0VuYWJsZWQgPSBmdW5jdGlvbihmbGFnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xuICAgICAgZGVidWcgPSBmbGFnO1xuICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxuICAgICAgICovXG4gICAgICBpbmZvOiBjb25zb2xlTG9nKCdpbmZvJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICB3YXJuOiBjb25zb2xlTG9nKCd3YXJuJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZGVidWc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGFyZy5zdGFjaykge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcbiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlO1xuXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxuICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlIFwib2JqZWN0XCIgaW4gSUU4Li4uXG4gICAgICB0cnkge1xuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAoaGFzQXBwbHkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIElFIHdoaWNoIGVpdGhlciBkb2Vzbid0IGhhdmUgd2luZG93LmNvbnNvbGUgPT4gdGhpcyBpcyBub29wIGFuZCB3ZSBkbyBub3RoaW5nLFxuICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgICAgICBsb2dGbihhcmcxLCBhcmcyID09IG51bGwgPyAnJyA6IGFyZzIpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcblxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFuZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGdlbmVyYWxseSBjb25zaWRlcmVkIHNhZmUgYmVjYXVzZSB0aGVzZSBleHByZXNzaW9ucyBvbmx5IGhhdmUgZGlyZWN0XG4vLyBhY2Nlc3MgdG8gYCRzY29wZWAgYW5kIGxvY2Fscy4gSG93ZXZlciwgb25lIGNhbiBvYnRhaW4gdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgSlMgY29kZSBieVxuLy8gb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgc3VjaCBhcyB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXG4vL1xuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XG4vL1xuLy8gICB7fS50b1N0cmluZy5jb25zdHJ1Y3RvcignYWxlcnQoXCJldmlsIEpTIGNvZGVcIiknKVxuLy9cbi8vIFRoaXMgc2FuZGJveGluZyB0ZWNobmlxdWUgaXMgbm90IHBlcmZlY3QgYW5kIGRvZXNuJ3QgYWltIHRvIGJlLiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGV4cGxvaXRzXG4vLyBhZ2FpbnN0IHRoZSBleHByZXNzaW9uIGxhbmd1YWdlLCBidXQgbm90IHRvIHByZXZlbnQgZXhwbG9pdHMgdGhhdCB3ZXJlIGVuYWJsZWQgYnkgZXhwb3Npbmdcbi8vIHNlbnNpdGl2ZSBKYXZhU2NyaXB0IG9yIGJyb3dzZXIgQVBJcyBvbiBTY29wZS4gRXhwb3Npbmcgc3VjaCBvYmplY3RzIG9uIGEgU2NvcGUgaXMgbmV2ZXIgYSBnb29kXG4vLyBwcmFjdGljZSBhbmQgdGhlcmVmb3JlIHdlIGFyZSBub3QgZXZlbiB0cnlpbmcgdG8gcHJvdGVjdCBhZ2FpbnN0IGludGVyYWN0aW9uIHdpdGggYW4gb2JqZWN0XG4vLyBleHBsaWNpdGx5IGV4cG9zZWQgaW4gdGhpcyB3YXkuXG4vL1xuLy8gSW4gZ2VuZXJhbCwgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGFjY2VzcyBhIFdpbmRvdyBvYmplY3QgZnJvbSBhbiBhbmd1bGFyIGV4cHJlc3Npb24gdW5sZXNzIGFcbi8vIHdpbmRvdyBvciBzb21lIERPTSBvYmplY3QgdGhhdCBoYXMgYSByZWZlcmVuY2UgdG8gd2luZG93IGlzIHB1Ymxpc2hlZCBvbnRvIGEgU2NvcGUuXG4vLyBTaW1pbGFybHkgd2UgcHJldmVudCBpbnZvY2F0aW9ucyBvZiBmdW5jdGlvbiBrbm93biB0byBiZSBkYW5nZXJvdXMsIGFzIHdlbGwgYXMgYXNzaWdubWVudHMgdG9cbi8vIG5hdGl2ZSBvYmplY3RzLlxuLy9cbi8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxuXG5cbmZ1bmN0aW9uIGVuc3VyZVNhZmVNZW1iZXJOYW1lKG5hbWUsIGZ1bGxFeHByZXNzaW9uKSB7XG4gIGlmIChuYW1lID09PSBcIl9fZGVmaW5lR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fZGVmaW5lU2V0dGVyX19cIlxuICAgICAgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cEdldHRlcl9fXCIgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cFNldHRlcl9fXCJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19wcm90b19fXCIpIHtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbGQnLFxuICAgICAgICAnQXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBkaXNhbGxvd2VkIGZpZWxkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMhICdcbiAgICAgICAgKyAnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzXG4gIGlmIChvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iailcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxuICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxuICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xuICAgICAgICBvYmogPT09IE9iamVjdCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IG9iaiA9PT0gQklORCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxuLy9LZXl3b3JkIGNvbnN0YW50c1xudmFyIENPTlNUQU5UUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCh7XG4gICdudWxsJzogZnVuY3Rpb24oKSB7IHJldHVybiBudWxsOyB9LFxuICAndHJ1ZSc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgJ2ZhbHNlJzogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgJ3VuZGVmaW5lZCc6IGZ1bmN0aW9uKCkge31cbn0sIGZ1bmN0aW9uKGNvbnN0YW50R2V0dGVyLCBuYW1lKSB7XG4gIGNvbnN0YW50R2V0dGVyLmNvbnN0YW50ID0gY29uc3RhbnRHZXR0ZXIubGl0ZXJhbCA9IGNvbnN0YW50R2V0dGVyLnNoYXJlZEdldHRlciA9IHRydWU7XG4gIENPTlNUQU5UU1tuYW1lXSA9IGNvbnN0YW50R2V0dGVyO1xufSk7XG5cbi8vTm90IHF1aXRlIGEgY29uc3RhbnQsIGJ1dCBjYW4gYmUgbGV4L3BhcnNlZCB0aGUgc2FtZVxuQ09OU1RBTlRTWyd0aGlzJ10gPSBmdW5jdGlvbihzZWxmKSB7IHJldHVybiBzZWxmOyB9O1xuQ09OU1RBTlRTWyd0aGlzJ10uc2hhcmVkR2V0dGVyID0gdHJ1ZTtcblxuXG4vL09wZXJhdG9ycyAtIHdpbGwgYmUgd3JhcHBlZCBieSBiaW5hcnlGbi91bmFyeUZuL2Fzc2lnbm1lbnQvZmlsdGVyXG52YXIgT1BFUkFUT1JTID0gZXh0ZW5kKGNyZWF0ZU1hcCgpLCB7XG4gICAgJysnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge1xuICAgICAgYT1hKHNlbGYsIGxvY2Fscyk7IGI9YihzZWxmLCBsb2NhbHMpO1xuICAgICAgaWYgKGlzRGVmaW5lZChhKSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGIpKSB7XG4gICAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzRGVmaW5lZChiKSA/IGIgOiB1bmRlZmluZWQ7fSxcbiAgICAnLSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7XG4gICAgICAgICAgYT1hKHNlbGYsIGxvY2Fscyk7IGI9YihzZWxmLCBsb2NhbHMpO1xuICAgICAgICAgIHJldHVybiAoaXNEZWZpbmVkKGEpID8gYSA6IDApIC0gKGlzRGVmaW5lZChiKSA/IGIgOiAwKTtcbiAgICAgICAgfSxcbiAgICAnKic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSAqIGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICcvJzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpIC8gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyUnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgJSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPT09JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpID09PSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnIT09JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpICE9PSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPT0gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyE9JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpICE9IGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICc8JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpIDwgYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz4nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPiBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPD0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPD0gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz49JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpID49IGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICcmJic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSAmJiBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnfHwnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgfHwgYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyEnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSkge3JldHVybiAhYShzZWxmLCBsb2NhbHMpO30sXG5cbiAgICAvL1Rva2VuaXplZCBhcyBvcGVyYXRvcnMgYnV0IHBhcnNlZCBhcyBhc3NpZ25tZW50L2ZpbHRlcnNcbiAgICAnPSc6dHJ1ZSxcbiAgICAnfCc6dHJ1ZVxufSk7XG52YXIgRVNDQVBFID0ge1wiblwiOlwiXFxuXCIsIFwiZlwiOlwiXFxmXCIsIFwiclwiOlwiXFxyXCIsIFwidFwiOlwiXFx0XCIsIFwidlwiOlwiXFx2XCIsIFwiJ1wiOlwiJ1wiLCAnXCInOidcIid9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIExleGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuTGV4ZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTGV4ZXIsXG5cbiAgbGV4OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgaWYgKGNoID09PSAnXCInIHx8IGNoID09PSBcIidcIikge1xuICAgICAgICB0aGlzLnJlYWRTdHJpbmcoY2gpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKGNoKSB8fCBjaCA9PT0gJy4nICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgIHRoaXMucmVhZE51bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnQoY2gpKSB7XG4gICAgICAgIHRoaXMucmVhZElkZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaH0pO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcbiAgICAgICAgdmFyIGNoMyA9IGNoMiArIHRoaXMucGVlaygyKTtcbiAgICAgICAgdmFyIG9wMSA9IE9QRVJBVE9SU1tjaF07XG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcbiAgICAgICAgdmFyIG9wMyA9IE9QRVJBVE9SU1tjaDNdO1xuICAgICAgICBpZiAob3AxIHx8IG9wMiB8fCBvcDMpIHtcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiB0b2tlbiwgb3BlcmF0b3I6IHRydWV9KTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgJywgdGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfSxcblxuICBpczogZnVuY3Rpb24oY2gsIGNoYXJzKSB7XG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihpKSB7XG4gICAgdmFyIG51bSA9IGkgfHwgMTtcbiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTtcbiAgfSxcblxuICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gXCJzdHJpbmdcIjtcbiAgfSxcblxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XG4gIH0sXG5cbiAgaXNJZGVudDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XG4gIH0sXG5cbiAgaXNFeHBPcGVyYXRvcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHtcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcbiAgICB2YXIgY29sU3RyID0gKGlzRGVmaW5lZChzdGFydClcbiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJ1xuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xuICAgIHRocm93ICRwYXJzZU1pbkVycignbGV4ZXJyJywgJ0xleGVyIEVycm9yOiB7MH0gYXQgY29sdW1uezF9IGluIGV4cHJlc3Npb24gW3syfV0uJyxcbiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTtcbiAgfSxcblxuICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcbiAgICAgIGlmIChjaCA9PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcbiAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xuICAgICAgICAgIG51bWJlciArPSBjaDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiBudW1iZXIsXG4gICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIobnVtYmVyKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRJZGVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoISh0aGlzLmlzSWRlbnQoY2gpIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQuc2xpY2Uoc3RhcnQsIHRoaXMuaW5kZXgpLFxuICAgICAgaWRlbnRpZmllcjogdHJ1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRTdHJpbmc6IGZ1bmN0aW9uKHF1b3RlKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB0aGlzLmluZGV4Kys7XG4gICAgdmFyIHN0cmluZyA9ICcnO1xuICAgIHZhciByYXdTdHJpbmcgPSBxdW90ZTtcbiAgICB2YXIgZXNjYXBlID0gZmFsc2U7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgcmF3U3RyaW5nICs9IGNoO1xuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBpZiAoY2ggPT09ICd1Jykge1xuICAgICAgICAgIHZhciBoZXggPSB0aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCB0aGlzLmluZGV4ICsgNSk7XG4gICAgICAgICAgaWYgKCFoZXgubWF0Y2goL1tcXGRhLWZdezR9L2kpKVxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcbiAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlcCA9IEVTQ0FQRVtjaF07XG4gICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgKHJlcCB8fCBjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHF1b3RlKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgICAgIHRleHQ6IHJhd1N0cmluZyxcbiAgICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogc3RyaW5nXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFcnJvcignVW50ZXJtaW5hdGVkIHF1b3RlJywgc3RhcnQpO1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGlzQ29uc3RhbnQoZXhwKSB7XG4gIHJldHVybiBleHAuY29uc3RhbnQ7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBQYXJzZXIgPSBmdW5jdGlvbihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xuICB0aGlzLmxleGVyID0gbGV4ZXI7XG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5QYXJzZXIuWkVSTyA9IGV4dGVuZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDA7XG59LCB7XG4gIHNoYXJlZEdldHRlcjogdHJ1ZSxcbiAgY29uc3RhbnQ6IHRydWVcbn0pO1xuXG5QYXJzZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxuXG4gIHBhcnNlOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZW1lbnRzKCk7XG5cbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7XG4gICAgfVxuXG4gICAgdmFsdWUubGl0ZXJhbCA9ICEhdmFsdWUubGl0ZXJhbDtcbiAgICB2YWx1ZS5jb25zdGFudCA9ICEhdmFsdWUuY29uc3RhbnQ7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllciAmJiB0aGlzLnBlZWsoKS50ZXh0IGluIENPTlNUQU5UUykge1xuICAgICAgcHJpbWFyeSA9IENPTlNUQU5UU1t0aGlzLmNvbnN1bWUoKS50ZXh0XTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICBwcmltYXJ5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ25vdCBhIHByaW1hcnkgZXhwcmVzc2lvbicsIHRoaXMucGVlaygpKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dCwgY29udGV4dDtcbiAgICB3aGlsZSAoKG5leHQgPSB0aGlzLmV4cGVjdCgnKCcsICdbJywgJy4nKSkpIHtcbiAgICAgIGlmIChuZXh0LnRleHQgPT09ICcoJykge1xuICAgICAgICBwcmltYXJ5ID0gdGhpcy5mdW5jdGlvbkNhbGwocHJpbWFyeSwgY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xuICAgICAgICBjb250ZXh0ID0gcHJpbWFyeTtcbiAgICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSk7XG4gICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJy4nKSB7XG4gICAgICAgIGNvbnRleHQgPSBwcmltYXJ5O1xuICAgICAgICBwcmltYXJ5ID0gdGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJpbWFyeTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihtc2csIHRva2VuKSB7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdzeW50YXgnLFxuICAgICAgICAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJyxcbiAgICAgICAgICB0b2tlbi50ZXh0LCBtc2csICh0b2tlbi5pbmRleCArIDEpLCB0aGlzLnRleHQsIHRoaXMudGV4dC5zdWJzdHJpbmcodG9rZW4uaW5kZXgpKTtcbiAgfSxcblxuICBwZWVrVG9rZW46IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICByZXR1cm4gdGhpcy50b2tlbnNbMF07XG4gIH0sXG5cbiAgcGVlazogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpIHtcbiAgICByZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCwgZTEsIGUyLCBlMywgZTQpO1xuICB9LFxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xuICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8XG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgY29uc3VtZTogZnVuY3Rpb24oZTEpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG5cbiAgdW5hcnlGbjogZnVuY3Rpb24ob3AsIHJpZ2h0KSB7XG4gICAgdmFyIGZuID0gT1BFUkFUT1JTW29wXTtcbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZVVuYXJ5Rm4oc2VsZiwgbG9jYWxzKSB7XG4gICAgICByZXR1cm4gZm4oc2VsZiwgbG9jYWxzLCByaWdodCk7XG4gICAgfSwge1xuICAgICAgY29uc3RhbnQ6cmlnaHQuY29uc3RhbnQsXG4gICAgICBpbnB1dHM6IFtyaWdodF1cbiAgICB9KTtcbiAgfSxcblxuICBiaW5hcnlGbjogZnVuY3Rpb24obGVmdCwgb3AsIHJpZ2h0LCBpc0JyYW5jaGluZykge1xuICAgIHZhciBmbiA9IE9QRVJBVE9SU1tvcF07XG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkcGFyc2VCaW5hcnlGbihzZWxmLCBsb2NhbHMpIHtcbiAgICAgIHJldHVybiBmbihzZWxmLCBsb2NhbHMsIGxlZnQsIHJpZ2h0KTtcbiAgICB9LCB7XG4gICAgICBjb25zdGFudDogbGVmdC5jb25zdGFudCAmJiByaWdodC5jb25zdGFudCxcbiAgICAgIGlucHV0czogIWlzQnJhbmNoaW5nICYmIFtsZWZ0LCByaWdodF1cbiAgICB9KTtcbiAgfSxcblxuICBpZGVudGlmaWVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSB0aGlzLmNvbnN1bWUoKS50ZXh0O1xuXG4gICAgLy9Db250aW51ZSByZWFkaW5nIGVhY2ggYC5pZGVudGlmaWVyYCB1bmxlc3MgaXQgaXMgYSBtZXRob2QgaW52b2NhdGlvblxuICAgIHdoaWxlICh0aGlzLnBlZWsoJy4nKSAmJiB0aGlzLnBlZWtBaGVhZCgxKS5pZGVudGlmaWVyICYmICF0aGlzLnBlZWtBaGVhZCgyLCAnKCcpKSB7XG4gICAgICBpZCArPSB0aGlzLmNvbnN1bWUoKS50ZXh0ICsgdGhpcy5jb25zdW1lKCkudGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGVyRm4oaWQsIHRoaXMub3B0aW9ucywgdGhpcy50ZXh0KTtcbiAgfSxcblxuICBjb25zdGFudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lKCkudmFsdWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZUNvbnN0YW50KCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sIHtcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgbGl0ZXJhbDogdHJ1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHN0YXRlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZW1lbnRzID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwICYmICF0aGlzLnBlZWsoJ30nLCAnKScsICc7JywgJ10nKSlcbiAgICAgICAgc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7XG4gICAgICBpZiAoIXRoaXMuZXhwZWN0KCc7JykpIHtcbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSB0aGVyZSBpcyBvbmx5IG9uZSBzdGF0ZW1lbnQuXG4gICAgICAgIC8vIFRPRE8oc2l6ZSk6IG1heWJlIHdlIHNob3VsZCBub3Qgc3VwcG9ydCBtdWx0aXBsZSBzdGF0ZW1lbnRzP1xuICAgICAgICByZXR1cm4gKHN0YXRlbWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgPyBzdGF0ZW1lbnRzWzBdXG4gICAgICAgICAgICA6IGZ1bmN0aW9uICRwYXJzZVN0YXRlbWVudHMoc2VsZiwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHN0YXRlbWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBzdGF0ZW1lbnRzW2ldKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfCcpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uKGlucHV0Rm4pIHtcbiAgICB2YXIgZm4gPSB0aGlzLiRmaWx0ZXIodGhpcy5jb25zdW1lKCkudGV4dCk7XG4gICAgdmFyIGFyZ3NGbjtcbiAgICB2YXIgYXJncztcblxuICAgIGlmICh0aGlzLnBlZWsoJzonKSkge1xuICAgICAgYXJnc0ZuID0gW107XG4gICAgICBhcmdzID0gW107IC8vIHdlIGNhbiBzYWZlbHkgcmV1c2UgdGhlIGFycmF5XG4gICAgICB3aGlsZSAodGhpcy5leHBlY3QoJzonKSkge1xuICAgICAgICBhcmdzRm4ucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlucHV0cyA9IFtpbnB1dEZuXS5jb25jYXQoYXJnc0ZuIHx8IFtdKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlRmlsdGVyKHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIGlucHV0ID0gaW5wdXRGbihzZWxmLCBsb2NhbHMpO1xuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgYXJnc1swXSA9IGlucHV0O1xuXG4gICAgICAgIHZhciBpID0gYXJnc0ZuLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGFyZ3NbaSArIDFdID0gYXJnc0ZuW2ldKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGlucHV0KTtcbiAgICB9LCB7XG4gICAgICBjb25zdGFudDogIWZuLiRzdGF0ZWZ1bCAmJiBpbnB1dHMuZXZlcnkoaXNDb25zdGFudCksXG4gICAgICBpbnB1dHM6ICFmbi4kc3RhdGVmdWwgJiYgaW5wdXRzXG4gICAgfSk7XG4gIH0sXG5cbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xuICB9LFxuXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy50ZXJuYXJ5KCk7XG4gICAgdmFyIHJpZ2h0O1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJz0nKSkpIHtcbiAgICAgIGlmICghbGVmdC5hc3NpZ24pIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFsnICtcbiAgICAgICAgICAgIHRoaXMudGV4dC5zdWJzdHJpbmcoMCwgdG9rZW4uaW5kZXgpICsgJ10gY2FuIG5vdCBiZSBhc3NpZ25lZCB0bycsIHRva2VuKTtcbiAgICAgIH1cbiAgICAgIHJpZ2h0ID0gdGhpcy50ZXJuYXJ5KCk7XG4gICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZUFzc2lnbm1lbnQoc2NvcGUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gbGVmdC5hc3NpZ24oc2NvcGUsIHJpZ2h0KHNjb3BlLCBsb2NhbHMpLCBsb2NhbHMpO1xuICAgICAgfSwge1xuICAgICAgICBpbnB1dHM6IFtsZWZ0LCByaWdodF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbE9SKCk7XG4gICAgdmFyIG1pZGRsZTtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc/JykpKSB7XG4gICAgICBtaWRkbGUgPSB0aGlzLmFzc2lnbm1lbnQoKTtcbiAgICAgIGlmICh0aGlzLmNvbnN1bWUoJzonKSkge1xuICAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmFzc2lnbm1lbnQoKTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZVRlcm5hcnkoc2VsZiwgbG9jYWxzKSB7XG4gICAgICAgICAgcmV0dXJuIGxlZnQoc2VsZiwgbG9jYWxzKSA/IG1pZGRsZShzZWxmLCBsb2NhbHMpIDogcmlnaHQoc2VsZiwgbG9jYWxzKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvbnN0YW50OiBsZWZ0LmNvbnN0YW50ICYmIG1pZGRsZS5jb25zdGFudCAmJiByaWdodC5jb25zdGFudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsT1I6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5sb2dpY2FsQU5EKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfHwnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMubG9naWNhbEFORCgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgbG9naWNhbEFORDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmVxdWFsaXR5KCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnJiYnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMuZXF1YWxpdHkoKSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGVxdWFsaXR5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJz09JywnIT0nLCc9PT0nLCchPT0nKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMucmVsYXRpb25hbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgcmVsYXRpb25hbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmFkZGl0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnPCcsICc+JywgJzw9JywgJz49JykpKSB7XG4gICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi50ZXh0LCB0aGlzLmFkZGl0aXZlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMubXVsdGlwbGljYXRpdmUoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcqJywnLycsJyUnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMudW5hcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHVuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcrJykpIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9IGVsc2UgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCctJykpKSB7XG4gICAgICByZXR1cm4gdGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTywgdG9rZW4udGV4dCwgdGhpcy51bmFyeSgpKTtcbiAgICB9IGVsc2UgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCchJykpKSB7XG4gICAgICByZXR1cm4gdGhpcy51bmFyeUZuKHRva2VuLnRleHQsIHRoaXMudW5hcnkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9XG4gIH0sXG5cbiAgZmllbGRBY2Nlc3M6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBnZXR0ZXIgPSB0aGlzLmlkZW50aWZpZXIoKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlRmllbGRBY2Nlc3Moc2NvcGUsIGxvY2Fscywgc2VsZikge1xuICAgICAgdmFyIG8gPSBzZWxmIHx8IG9iamVjdChzY29wZSwgbG9jYWxzKTtcbiAgICAgIHJldHVybiAobyA9PSBudWxsKSA/IHVuZGVmaW5lZCA6IGdldHRlcihvKTtcbiAgICB9LCB7XG4gICAgICBhc3NpZ246IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciBvID0gb2JqZWN0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICBpZiAoIW8pIG9iamVjdC5hc3NpZ24oc2NvcGUsIG8gPSB7fSwgbG9jYWxzKTtcbiAgICAgICAgcmV0dXJuIGdldHRlci5hc3NpZ24obywgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIG9iamVjdEluZGV4OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZXhwcmVzc2lvbiA9IHRoaXMudGV4dDtcblxuICAgIHZhciBpbmRleEZuID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdGhpcy5jb25zdW1lKCddJyk7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZU9iamVjdEluZGV4KHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIG8gPSBvYmooc2VsZiwgbG9jYWxzKSxcbiAgICAgICAgICBpID0gaW5kZXhGbihzZWxmLCBsb2NhbHMpLFxuICAgICAgICAgIHY7XG5cbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGksIGV4cHJlc3Npb24pO1xuICAgICAgaWYgKCFvKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgdiA9IGVuc3VyZVNhZmVPYmplY3Qob1tpXSwgZXhwcmVzc2lvbik7XG4gICAgICByZXR1cm4gdjtcbiAgICB9LCB7XG4gICAgICBhc3NpZ246IGZ1bmN0aW9uKHNlbGYsIHZhbHVlLCBsb2NhbHMpIHtcbiAgICAgICAgdmFyIGtleSA9IGVuc3VyZVNhZmVNZW1iZXJOYW1lKGluZGV4Rm4oc2VsZiwgbG9jYWxzKSwgZXhwcmVzc2lvbik7XG4gICAgICAgIC8vIHByZXZlbnQgb3ZlcndyaXRpbmcgb2YgRnVuY3Rpb24uY29uc3RydWN0b3Igd2hpY2ggd291bGQgYnJlYWsgZW5zdXJlU2FmZU9iamVjdCBjaGVja1xuICAgICAgICB2YXIgbyA9IGVuc3VyZVNhZmVPYmplY3Qob2JqKHNlbGYsIGxvY2FscyksIGV4cHJlc3Npb24pO1xuICAgICAgICBpZiAoIW8pIG9iai5hc3NpZ24oc2VsZiwgbyA9IHt9LCBsb2NhbHMpO1xuICAgICAgICByZXR1cm4gb1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZnVuY3Rpb25DYWxsOiBmdW5jdGlvbihmbkdldHRlciwgY29udGV4dEdldHRlcikge1xuICAgIHZhciBhcmdzRm4gPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnKScpO1xuXG4gICAgdmFyIGV4cHJlc3Npb25UZXh0ID0gdGhpcy50ZXh0O1xuICAgIC8vIHdlIGNhbiBzYWZlbHkgcmV1c2UgdGhlIGFycmF5IGFjcm9zcyBpbnZvY2F0aW9uc1xuICAgIHZhciBhcmdzID0gYXJnc0ZuLmxlbmd0aCA/IFtdIDogbnVsbDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAkcGFyc2VGdW5jdGlvbkNhbGwoc2NvcGUsIGxvY2Fscykge1xuICAgICAgdmFyIGNvbnRleHQgPSBjb250ZXh0R2V0dGVyID8gY29udGV4dEdldHRlcihzY29wZSwgbG9jYWxzKSA6IGlzRGVmaW5lZChjb250ZXh0R2V0dGVyKSA/IHVuZGVmaW5lZCA6IHNjb3BlO1xuICAgICAgdmFyIGZuID0gZm5HZXR0ZXIoc2NvcGUsIGxvY2FscywgY29udGV4dCkgfHwgbm9vcDtcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgdmFyIGkgPSBhcmdzRm4ubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGVuc3VyZVNhZmVPYmplY3QoYXJnc0ZuW2ldKHNjb3BlLCBsb2NhbHMpLCBleHByZXNzaW9uVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZW5zdXJlU2FmZU9iamVjdChjb250ZXh0LCBleHByZXNzaW9uVGV4dCk7XG4gICAgICBlbnN1cmVTYWZlRnVuY3Rpb24oZm4sIGV4cHJlc3Npb25UZXh0KTtcblxuICAgICAgLy8gSUUgZG9lc24ndCBoYXZlIGFwcGx5IGZvciBzb21lIG5hdGl2ZSBmdW5jdGlvbnNcbiAgICAgIHZhciB2ID0gZm4uYXBwbHlcbiAgICAgICAgICAgID8gZm4uYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgICAgIDogZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG5cbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIC8vIEZyZWUtdXAgdGhlIG1lbW9yeSAoYXJndW1lbnRzIG9mIHRoZSBsYXN0IGZ1bmN0aW9uIGNhbGwpLlxuICAgICAgICBhcmdzLmxlbmd0aCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbnN1cmVTYWZlT2JqZWN0KHYsIGV4cHJlc3Npb25UZXh0KTtcbiAgICAgIH07XG4gIH0sXG5cbiAgLy8gVGhpcyBpcyB1c2VkIHdpdGgganNvbiBhcnJheSBkZWNsYXJhdGlvblxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudEZucyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudEZucy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ10nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlQXJyYXlMaXRlcmFsKHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbGVtZW50Rm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsIGxvY2FscykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sIHtcbiAgICAgIGxpdGVyYWw6IHRydWUsXG4gICAgICBjb25zdGFudDogZWxlbWVudEZucy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogZWxlbWVudEZuc1xuICAgIH0pO1xuICB9LFxuXG4gIG9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXMgPSBbXSwgdmFsdWVGbnMgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAodG9rZW4uY29uc3RhbnQpIHtcbiAgICAgICAgICBrZXlzLnB1c2godG9rZW4udmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICBrZXlzLnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIiwgdG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICB2YWx1ZUZucy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ30nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlT2JqZWN0TGl0ZXJhbChzZWxmLCBsb2NhbHMpIHtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHZhbHVlRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2JqZWN0W2tleXNbaV1dID0gdmFsdWVGbnNbaV0oc2VsZiwgbG9jYWxzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSwge1xuICAgICAgbGl0ZXJhbDogdHJ1ZSxcbiAgICAgIGNvbnN0YW50OiB2YWx1ZUZucy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogdmFsdWVGbnNcbiAgICB9KTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUGFyc2VyIGhlbHBlciBmdW5jdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHNldHRlcihvYmosIGxvY2FscywgcGF0aCwgc2V0VmFsdWUsIGZ1bGxFeHApIHtcbiAgZW5zdXJlU2FmZU9iamVjdChvYmosIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KGxvY2FscywgZnVsbEV4cCk7XG5cbiAgdmFyIGVsZW1lbnQgPSBwYXRoLnNwbGl0KCcuJyksIGtleTtcbiAgZm9yICh2YXIgaSA9IDA7IGVsZW1lbnQubGVuZ3RoID4gMTsgaSsrKSB7XG4gICAga2V5ID0gZW5zdXJlU2FmZU1lbWJlck5hbWUoZWxlbWVudC5zaGlmdCgpLCBmdWxsRXhwKTtcbiAgICB2YXIgcHJvcGVydHlPYmogPSAoaSA9PT0gMCAmJiBsb2NhbHMgJiYgbG9jYWxzW2tleV0pIHx8IG9ialtrZXldO1xuICAgIGlmICghcHJvcGVydHlPYmopIHtcbiAgICAgIHByb3BlcnR5T2JqID0ge307XG4gICAgICBvYmpba2V5XSA9IHByb3BlcnR5T2JqO1xuICAgIH1cbiAgICBvYmogPSBlbnN1cmVTYWZlT2JqZWN0KHByb3BlcnR5T2JqLCBmdWxsRXhwKTtcbiAgfVxuICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KG9ialtrZXldLCBmdWxsRXhwKTtcbiAgb2JqW2tleV0gPSBzZXRWYWx1ZTtcbiAgcmV0dXJuIHNldFZhbHVlO1xufVxuXG52YXIgZ2V0dGVyRm5DYWNoZURlZmF1bHQgPSBjcmVhdGVNYXAoKTtcbnZhciBnZXR0ZXJGbkNhY2hlRXhwZW5zaXZlID0gY3JlYXRlTWFwKCk7XG5cbmZ1bmN0aW9uIGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUgPT0gJ2NvbnN0cnVjdG9yJztcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgXCJCbGFjayBIb2xlXCIgdmFyaWFudCBmcm9tOlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtcGFyc2UtZ2V0dGVyLzRcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcGF0aC1ldmFsdWF0aW9uLXNpbXBsaWZpZWQvN1xuICovXG5mdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCwga2V5MSwga2V5Miwga2V5Mywga2V5NCwgZnVsbEV4cCwgZXhwZW5zaXZlQ2hlY2tzKSB7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkxLCBmdWxsRXhwKTtcbiAgZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MiwgZnVsbEV4cCk7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXk0LCBmdWxsRXhwKTtcbiAgdmFyIGVzbyA9IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gZW5zdXJlU2FmZU9iamVjdChvLCBmdWxsRXhwKTtcbiAgfTtcbiAgdmFyIGVzbzAgPSAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleTApKSA/IGVzbyA6IGlkZW50aXR5O1xuICB2YXIgZXNvMSA9IChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoa2V5MSkpID8gZXNvIDogaWRlbnRpdHk7XG4gIHZhciBlc28yID0gKGV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShrZXkyKSkgPyBlc28gOiBpZGVudGl0eTtcbiAgdmFyIGVzbzMgPSAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleTMpKSA/IGVzbyA6IGlkZW50aXR5O1xuICB2YXIgZXNvNCA9IChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoa2V5NCkpID8gZXNvIDogaWRlbnRpdHk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNzcFNhZmVHZXR0ZXIoc2NvcGUsIGxvY2Fscykge1xuICAgIHZhciBwYXRoVmFsID0gKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5MCkpID8gbG9jYWxzIDogc2NvcGU7XG5cbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gcGF0aFZhbDtcbiAgICBwYXRoVmFsID0gZXNvMChwYXRoVmFsW2tleTBdKTtcblxuICAgIGlmICgha2V5MSkgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMShwYXRoVmFsW2tleTFdKTtcblxuICAgIGlmICgha2V5MikgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMihwYXRoVmFsW2tleTJdKTtcblxuICAgIGlmICgha2V5MykgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMyhwYXRoVmFsW2tleTNdKTtcblxuICAgIGlmICgha2V5NCkgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvNChwYXRoVmFsW2tleTRdKTtcblxuICAgIHJldHVybiBwYXRoVmFsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXR0ZXJGbldpdGhFbnN1cmVTYWZlT2JqZWN0KGZuLCBmdWxsRXhwcmVzc2lvbikge1xuICByZXR1cm4gZnVuY3Rpb24ocywgbCkge1xuICAgIHJldHVybiBmbihzLCBsLCBlbnN1cmVTYWZlT2JqZWN0LCBmdWxsRXhwcmVzc2lvbik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldHRlckZuKHBhdGgsIG9wdGlvbnMsIGZ1bGxFeHApIHtcbiAgdmFyIGV4cGVuc2l2ZUNoZWNrcyA9IG9wdGlvbnMuZXhwZW5zaXZlQ2hlY2tzO1xuICB2YXIgZ2V0dGVyRm5DYWNoZSA9IChleHBlbnNpdmVDaGVja3MgPyBnZXR0ZXJGbkNhY2hlRXhwZW5zaXZlIDogZ2V0dGVyRm5DYWNoZURlZmF1bHQpO1xuICB2YXIgZm4gPSBnZXR0ZXJGbkNhY2hlW3BhdGhdO1xuICBpZiAoZm4pIHJldHVybiBmbjtcblxuXG4gIHZhciBwYXRoS2V5cyA9IHBhdGguc3BsaXQoJy4nKSxcbiAgICAgIHBhdGhLZXlzTGVuZ3RoID0gcGF0aEtleXMubGVuZ3RoO1xuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1wYXJzZS1nZXR0ZXIvNlxuICBpZiAob3B0aW9ucy5jc3ApIHtcbiAgICBpZiAocGF0aEtleXNMZW5ndGggPCA2KSB7XG4gICAgICBmbiA9IGNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSwgcGF0aEtleXNbMV0sIHBhdGhLZXlzWzJdLCBwYXRoS2V5c1szXSwgcGF0aEtleXNbNF0sIGZ1bGxFeHAsIGV4cGVuc2l2ZUNoZWNrcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuID0gZnVuY3Rpb24gY3NwU2FmZUdldHRlcihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciBpID0gMCwgdmFsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFsID0gY3NwU2FmZUdldHRlckZuKHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhLZXlzW2krK10sIGZ1bGxFeHAsIGV4cGVuc2l2ZUNoZWNrcykoc2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICBsb2NhbHMgPSB1bmRlZmluZWQ7IC8vIGNsZWFyIGFmdGVyIGZpcnN0IGl0ZXJhdGlvblxuICAgICAgICAgIHNjb3BlID0gdmFsO1xuICAgICAgICB9IHdoaWxlIChpIDwgcGF0aEtleXNMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvZGUgPSAnJztcbiAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICBjb2RlICs9ICdzID0gZXNvKHMsIGZlKTtcXG5sID0gZXNvKGwsIGZlKTtcXG4nO1xuICAgIH1cbiAgICB2YXIgbmVlZHNFbnN1cmVTYWZlT2JqZWN0ID0gZXhwZW5zaXZlQ2hlY2tzO1xuICAgIGZvckVhY2gocGF0aEtleXMsIGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleSwgZnVsbEV4cCk7XG4gICAgICB2YXIgbG9va3VwSnMgPSAoaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgZGVyZWZlcmVuY2UgJ3MnIG9uIGFueSAuZG90IG5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgPyAncydcbiAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgaWYgd2UgYXJlIGZpcnN0IHRoZW4gd2UgY2hlY2sgbG9jYWxzIGZpcnN0LCBhbmQgaWYgc28gcmVhZCBpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgIDogJygobCYmbC5oYXNPd25Qcm9wZXJ0eShcIicgKyBrZXkgKyAnXCIpKT9sOnMpJykgKyAnLicgKyBrZXk7XG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleSkpIHtcbiAgICAgICAgbG9va3VwSnMgPSAnZXNvKCcgKyBsb29rdXBKcyArICcsIGZlKSc7XG4gICAgICAgIG5lZWRzRW5zdXJlU2FmZU9iamVjdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb2RlICs9ICdpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XFxuJyArXG4gICAgICAgICAgICAgICdzPScgKyBsb29rdXBKcyArICc7XFxuJztcbiAgICB9KTtcbiAgICBjb2RlICs9ICdyZXR1cm4gczsnO1xuXG4gICAgLyoganNoaW50IC1XMDU0ICovXG4gICAgdmFyIGV2YWxlZEZuR2V0dGVyID0gbmV3IEZ1bmN0aW9uKCdzJywgJ2wnLCAnZXNvJywgJ2ZlJywgY29kZSk7IC8vIHM9c2NvcGUsIGw9bG9jYWxzLCBlc289ZW5zdXJlU2FmZU9iamVjdFxuICAgIC8qIGpzaGludCArVzA1NCAqL1xuICAgIGV2YWxlZEZuR2V0dGVyLnRvU3RyaW5nID0gdmFsdWVGbihjb2RlKTtcbiAgICBpZiAobmVlZHNFbnN1cmVTYWZlT2JqZWN0KSB7XG4gICAgICBldmFsZWRGbkdldHRlciA9IGdldHRlckZuV2l0aEVuc3VyZVNhZmVPYmplY3QoZXZhbGVkRm5HZXR0ZXIsIGZ1bGxFeHApO1xuICAgIH1cbiAgICBmbiA9IGV2YWxlZEZuR2V0dGVyO1xuICB9XG5cbiAgZm4uc2hhcmVkR2V0dGVyID0gdHJ1ZTtcbiAgZm4uYXNzaWduID0gZnVuY3Rpb24oc2VsZiwgdmFsdWUsIGxvY2Fscykge1xuICAgIHJldHVybiBzZXR0ZXIoc2VsZiwgbG9jYWxzLCBwYXRoLCB2YWx1ZSwgcGF0aCk7XG4gIH07XG4gIGdldHRlckZuQ2FjaGVbcGF0aF0gPSBmbjtcbiAgcmV0dXJuIGZuO1xufVxuXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gZ2V0VmFsdWVPZih2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwYXJzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gKlxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gKiAgICAgIGBjb250ZXh0YC5cbiAqXG4gKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcbiAqICAgICAgICBsaXRlcmFsLlxuICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXG4gKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xuICB2YXIgY2FjaGVFeHBlbnNpdmUgPSBjcmVhdGVNYXAoKTtcblxuXG5cbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgJyRzbmlmZmVyJywgZnVuY3Rpb24oJGZpbHRlciwgJHNuaWZmZXIpIHtcbiAgICB2YXIgJHBhcnNlT3B0aW9ucyA9IHtcbiAgICAgICAgICBjc3A6ICRzbmlmZmVyLmNzcCxcbiAgICAgICAgICBleHBlbnNpdmVDaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XG4gICAgICAgICAgY3NwOiAkc25pZmZlci5jc3AsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICBmdW5jdGlvbiB3cmFwU2hhcmVkRXhwcmVzc2lvbihleHApIHtcbiAgICAgIHZhciB3cmFwcGVkID0gZXhwO1xuXG4gICAgICBpZiAoZXhwLnNoYXJlZEdldHRlcikge1xuICAgICAgICB3cmFwcGVkID0gZnVuY3Rpb24gJHBhcnNlV3JhcHBlcihzZWxmLCBsb2NhbHMpIHtcbiAgICAgICAgICByZXR1cm4gZXhwKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgIH07XG4gICAgICAgIHdyYXBwZWQubGl0ZXJhbCA9IGV4cC5saXRlcmFsO1xuICAgICAgICB3cmFwcGVkLmNvbnN0YW50ID0gZXhwLmNvbnN0YW50O1xuICAgICAgICB3cmFwcGVkLmFzc2lnbiA9IGV4cC5hc3NpZ247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAkcGFyc2UoZXhwLCBpbnRlcmNlcHRvckZuLCBleHBlbnNpdmVDaGVja3MpIHtcbiAgICAgIHZhciBwYXJzZWRFeHByZXNzaW9uLCBvbmVUaW1lLCBjYWNoZUtleTtcblxuICAgICAgc3dpdGNoICh0eXBlb2YgZXhwKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHAgPSBleHAudHJpbSgpO1xuXG4gICAgICAgICAgdmFyIGNhY2hlID0gKGV4cGVuc2l2ZUNoZWNrcyA/IGNhY2hlRXhwZW5zaXZlIDogY2FjaGVEZWZhdWx0KTtcbiAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uID0gY2FjaGVbY2FjaGVLZXldO1xuXG4gICAgICAgICAgaWYgKCFwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAoZXhwLmNoYXJBdCgwKSA9PT0gJzonICYmIGV4cC5jaGFyQXQoMSkgPT09ICc6Jykge1xuICAgICAgICAgICAgICBvbmVUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZXhwID0gZXhwLnN1YnN0cmluZygyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQpIHtcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uZVRpbWUpIHtcbiAgICAgICAgICAgICAgLy9vbmVUaW1lIGlzIG5vdCBwYXJ0IG9mIHRoZSBleHAgcGFzc2VkIHRvIHRoZSBQYXJzZXIgc28gd2UgbWF5IGhhdmUgdG9cbiAgICAgICAgICAgICAgLy93cmFwIHRoZSBwYXJzZWRFeHByZXNzaW9uIGJlZm9yZSBhZGRpbmcgYSAkJHdhdGNoRGVsZWdhdGVcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHdyYXBTaGFyZWRFeHByZXNzaW9uKHBhcnNlZEV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/XG4gICAgICAgICAgICAgICAgb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlIDogb25lVGltZVdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gcGFyc2VkRXhwcmVzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24sIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IoZXhwLCBpbnRlcmNlcHRvckZuKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihub29wLCBpbnRlcmNlcHRvckZuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdEV4cHJlc3Npb25JbnB1dHMoaW5wdXRzLCBsaXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07XG4gICAgICAgIGlmICghaW5wdXQuY29uc3RhbnQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRzKSB7XG4gICAgICAgICAgICBjb2xsZWN0RXhwcmVzc2lvbklucHV0cyhpbnB1dC5pbnB1dHMsIGxpc3QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdC5pbmRleE9mKGlucHV0KSA9PT0gLTEpIHsgLy8gVE9ETyhwZXJmKSBjYW4gd2UgZG8gYmV0dGVyP1xuICAgICAgICAgICAgbGlzdC5wdXNoKGlucHV0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlKSB7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG9sZFZhbHVlT2ZWYWx1ZSA9PSBudWxsKSB7IC8vIG51bGwvdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gY29udmVydCB0aGUgdmFsdWUgdG8gYSBwcmltaXRpdmUgdHlwZVxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cbiAgICAgICAgLy8gICAgICAgICAgICAgYmUgY2hlYXBseSBkaXJ0eS1jaGVja2VkXG4gICAgICAgIG5ld1ZhbHVlID0gZ2V0VmFsdWVPZihuZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBvYmplY3RzL2FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCAtIGRlZXAtd2F0Y2hpbmcgdGhlbSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbC10aHJvdWdoIHRvIHRoZSBwcmltaXRpdmUgZXF1YWxpdHkgY2hlY2tcbiAgICAgIH1cblxuICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZSB8fCAobmV3VmFsdWUgIT09IG5ld1ZhbHVlICYmIG9sZFZhbHVlT2ZWYWx1ZSAhPT0gb2xkVmFsdWVPZlZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyB8fFxuICAgICAgICAgICAgICAgICAgICAocGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyA9IGNvbGxlY3RFeHByZXNzaW9uSW5wdXRzKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzLCBbXSkpO1xuXG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dFdhdGNoKHNjb3BlKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWUgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICB9LCBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIHZhbHVlLCBvbGQsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0FsbERlZmluZWQobGFzdFZhbHVlKSkgdW53YXRjaCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG5cbiAgICAgIGZ1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICB2YXIgYWxsRGVmaW5lZCA9IHRydWU7XG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhbGxEZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaDtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gY29uc3RhbnRMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XG4gICAgICBpZiAoIWludGVyY2VwdG9yRm4pIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgdmFyIHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcblxuICAgICAgdmFyIHJlZ3VsYXJXYXRjaCA9XG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlICYmXG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZVdhdGNoRGVsZWdhdGU7XG5cbiAgICAgIHZhciBmbiA9IHJlZ3VsYXJXYXRjaCA/IGZ1bmN0aW9uIHJlZ3VsYXJJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgLy8gd2Ugb25seSByZXR1cm4gdGhlIGludGVyY2VwdG9yJ3MgcmVzdWx0IGlmIHRoZVxuICAgICAgICAvLyBpbml0aWFsIHZhbHVlIGlzIGRlZmluZWQgKGZvciBiaW5kLW9uY2UpXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICAvLyBQcm9wYWdhdGUgJCR3YXRjaERlbGVnYXRlcyBvdGhlciB0aGVuIGlucHV0c1dhdGNoRGVsZWdhdGVcbiAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSAmJlxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlO1xuICAgICAgfSBlbHNlIGlmICghaW50ZXJjZXB0b3JGbi4kc3RhdGVmdWwpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcbiAgICAgICAgLy8gd2UgdHJlYXQgZmlsdGVycyAtIGl0IGlzIGFzc3VtZWQgdG8gYmUgYSBwdXJlIGZ1bmN0aW9uIHVubGVzcyBmbGFnZ2VkIHdpdGggJHN0YXRlZnVsXG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgIGZuLmlucHV0cyA9IFtwYXJzZWRFeHByZXNzaW9uXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRxXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcbiAqIHdoZW4gdGhleSBhcmUgZG9uZSBwcm9jZXNzaW5nLlxuICpcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWQgb2JqZWN0cyBpbnNwaXJlZCBieVxuICogW0tyaXMgS293YWwncyBRXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpLlxuICpcbiAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxuICogaW1wbGVtZW50YXRpb25zLCBhbmQgdGhlIG90aGVyIHdoaWNoIHJlc2VtYmxlcyBFUzYgcHJvbWlzZXMgdG8gc29tZSBkZWdyZWUuXG4gKlxuICogIyAkcSBjb25zdHJ1Y3RvclxuICpcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYgSGFybW9ueSxcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cbiAqXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IEhhcm1vbnkgcHJvbWlzZXMgYXJlXG4gKiBhdmFpbGFibGUgeWV0LlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sIDEwMDApO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cbiAqXG4gKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxuICpcbiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW5cbiAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcbiAqIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseSwgYW5kIG1heSBvciBtYXkgbm90IGJlIGZpbmlzaGVkIGF0IGFueSBnaXZlbiBwb2ludCBpbiB0aW1lLlxuICpcbiAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cbiAqIGFzeW5jaHJvbm91cyBwcm9ncmFtbWluZyB3aGF0IGB0cnlgLCBgY2F0Y2hgIGFuZCBgdGhyb3dgIGtleXdvcmRzIGFyZSB0byBzeW5jaHJvbm91cyBwcm9ncmFtbWluZy5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICpcbiAqICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7XG4gKlxuICogICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xuICogICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICB9XG4gKiAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9LCBmdW5jdGlvbih1cGRhdGUpIHtcbiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxuICogY29tZXMgaW4gdGhlIHdheSBvZiBndWFyYW50ZWVzIHRoYXQgcHJvbWlzZSBhbmQgZGVmZXJyZWQgQVBJcyBtYWtlLCBzZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLlxuICpcbiAqIEFkZGl0aW9uYWxseSB0aGUgcHJvbWlzZSBhcGkgYWxsb3dzIGZvciBjb21wb3NpdGlvbiB0aGF0IGlzIHZlcnkgaGFyZCB0byBkbyB3aXRoIHRoZVxuICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC5cbiAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxuICogc2VjdGlvbiBvbiBzZXJpYWwgb3IgcGFyYWxsZWwgam9pbmluZyBvZiBwcm9taXNlcy5cbiAqXG4gKiAjIFRoZSBEZWZlcnJlZCBBUElcbiAqXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcbiAqIG9mIHRoZSB0YXNrLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICoqUHJvcGVydGllcyoqXG4gKlxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXG4gKlxuICpcbiAqICMgVGhlIFByb21pc2UgQVBJXG4gKlxuICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XG4gKiBjYWxsaW5nIGBkZWZlcnJlZC5wcm9taXNlYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcbiAqIG9mIHRoZSBkZWZlcnJlZCB0YXNrIHdoZW4gaXQgY29tcGxldGVzLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3JcbiAqICAgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCwgYHRoZW5gIGNhbGxzIG9uZSBvZiB0aGUgc3VjY2VzcyBvciBlcnJvciBjYWxsYmFja3MgYXN5bmNocm9ub3VzbHlcbiAqICAgYXMgc29vbiBhcyB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gVGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSByZXN1bHRcbiAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvXG4gKiAgIHByb3ZpZGUgYSBwcm9ncmVzcyBpbmRpY2F0aW9uLCBiZWZvcmUgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXG4gKlxuICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcbiAqICAgYHN1Y2Nlc3NDYWxsYmFja2AsIGBlcnJvckNhbGxiYWNrYC4gSXQgYWxzbyBub3RpZmllcyB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcbiAqICAgYG5vdGlmeUNhbGxiYWNrYCBtZXRob2QuIFRoZSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tIHRoZSBub3RpZnlDYWxsYmFja1xuICogICBtZXRob2QuXG4gKlxuICogLSBgY2F0Y2goZXJyb3JDYWxsYmFjaylgIOKAkyBzaG9ydGhhbmQgZm9yIGBwcm9taXNlLnRoZW4obnVsbCwgZXJyb3JDYWxsYmFjaylgXG4gKlxuICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcbiAqICAgYnV0IHRvIGRvIHNvIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBmaW5hbCB2YWx1ZS4gVGhpcyBpcyB1c2VmdWwgdG8gcmVsZWFzZSByZXNvdXJjZXMgb3IgZG8gc29tZVxuICogICBjbGVhbi11cCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgb3IgcmVzb2x2ZWQuIFNlZSB0aGUgW2Z1bGxcbiAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcbiAqICAgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAjIENoYWluaW5nIHByb21pc2VzXG4gKlxuICogQmVjYXVzZSBjYWxsaW5nIHRoZSBgdGhlbmAgbWV0aG9kIG9mIGEgcHJvbWlzZSByZXR1cm5zIGEgbmV3IGRlcml2ZWQgcHJvbWlzZSwgaXQgaXMgZWFzaWx5XG4gKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcbiAqXG4gKiBgYGBqc1xuICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gKiAgICAgcmV0dXJuIHJlc3VsdCArIDE7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gcHJvbWlzZUIgd2lsbCBiZSByZXNvbHZlZCBpbW1lZGlhdGVseSBhZnRlciBwcm9taXNlQSBpcyByZXNvbHZlZCBhbmQgaXRzIHZhbHVlXG4gKiAgIC8vIHdpbGwgYmUgdGhlIHJlc3VsdCBvZiBwcm9taXNlQSBpbmNyZW1lbnRlZCBieSAxXG4gKiBgYGBcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBjcmVhdGUgY2hhaW5zIG9mIGFueSBsZW5ndGggYW5kIHNpbmNlIGEgcHJvbWlzZSBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBhbm90aGVyXG4gKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXG4gKiB0aGUgcHJvbWlzZXMgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbi4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgcG93ZXJmdWwgQVBJcyBsaWtlXG4gKiAkaHR0cCdzIHJlc3BvbnNlIGludGVyY2VwdG9ycy5cbiAqXG4gKlxuICogIyBEaWZmZXJlbmNlcyBiZXR3ZWVuIEtyaXMgS293YWwncyBRIGFuZCAkcVxuICpcbiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6XG4gKlxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxuICogICBtZWNoYW5pc20gaW4gYW5ndWxhciwgd2hpY2ggbWVhbnMgZmFzdGVyIHByb3BhZ2F0aW9uIG9mIHJlc29sdXRpb24gb3IgcmVqZWN0aW9uIGludG8geW91clxuICogICBtb2RlbHMgYW5kIGF2b2lkaW5nIHVubmVjZXNzYXJ5IGJyb3dzZXIgcmVwYWludHMsIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBmbGlja2VyaW5nIFVJLlxuICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcbiAqICAgYWxsIHRoZSBpbXBvcnRhbnQgZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGNvbW1vbiBhc3luYyB0YXNrcy5cbiAqXG4gKiAgIyBUZXN0aW5nXG4gKlxuICogIGBgYGpzXG4gKiAgICBpdCgnc2hvdWxkIHNpbXVsYXRlIHByb21pc2UnLCBpbmplY3QoZnVuY3Rpb24oJHEsICRyb290U2NvcGUpIHtcbiAqICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAqICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICogICAgICB2YXIgcmVzb2x2ZWRWYWx1ZTtcbiAqXG4gKiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkgeyByZXNvbHZlZFZhbHVlID0gdmFsdWU7IH0pO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIG9mIHByb21pc2VcbiAqICAgICAgZGVmZXJyZWQucmVzb2x2ZSgxMjMpO1xuICogICAgICAvLyBOb3RlIHRoYXQgdGhlICd0aGVuJyBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgY2FsbGVkIHN5bmNocm9ub3VzbHkuXG4gKiAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRoZSBwcm9taXNlIEFQSSB0byBhbHdheXMgYmUgYXN5bmMsIHdoZXRoZXIgb3Igbm90XG4gKiAgICAgIC8vIGl0IGdvdCBjYWxsZWQgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcbiAqXG4gKiAgICAgIC8vIFByb3BhZ2F0ZSBwcm9taXNlIHJlc29sdXRpb24gdG8gJ3RoZW4nIGZ1bmN0aW9ucyB1c2luZyAkYXBwbHkoKS5cbiAqICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvRXF1YWwoMTIzKTtcbiAqICAgIH0pKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uLCBmdW5jdGlvbil9IHJlc29sdmVyIEZ1bmN0aW9uIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciByZXNvbHZpbmcgb3JcbiAqICAgcmVqZWN0aW5nIHRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZXNvbHZlcyB0aGVcbiAqICAgcHJvbWlzZSwgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZWplY3RzIHRoZSBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLlxuICovXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xuXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJGJyb3dzZXIsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIpO1xuICB9XTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxuICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgbWFuYWdlci5cbiAqL1xuZnVuY3Rpb24gcUZhY3RvcnkobmV4dFRpY2ssIGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XG4gIGZ1bmN0aW9uIGNhbGxPbmNlKHNlbGYsIHJlc29sdmVGbiwgcmVqZWN0Rm4pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gd3JhcChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbChzZWxmLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBbd3JhcChyZXNvbHZlRm4pLCB3cmFwKHJlamVjdEZuKV07XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZy4kcSNkZWZlclxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIGBEZWZlcnJlZGAgb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSB0YXNrIHdoaWNoIHdpbGwgZmluaXNoIGluIHRoZSBmdXR1cmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtEZWZlcnJlZH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZC5cbiAgICovXG4gIHZhciBkZWZlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGVmZXJyZWQoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBQcm9taXNlKCkge1xuICAgIHRoaXMuJCRzdGF0ZSA9IHsgc3RhdHVzOiAwIH07XG4gIH1cblxuICBQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nID0gdGhpcy4kJHN0YXRlLnBlbmRpbmcgfHwgW107XG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtyZXN1bHQsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2tdKTtcbiAgICAgIGlmICh0aGlzLiQkc3RhdGUuc3RhdHVzID4gMCkgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy4kJHN0YXRlKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgXCJmaW5hbGx5XCI6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2soZXJyb3IsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICB9LCBwcm9ncmVzc0JhY2spO1xuICAgIH1cbiAgfTtcblxuICAvL0Zhc3RlciwgbW9yZSBiYXNpYyB0aGFuIGFuZ3VsYXIuYmluZCBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLWJpbmQtdnMtY3VzdG9tLXZzLW5hdGl2ZVxuICBmdW5jdGlvbiBzaW1wbGVCaW5kKGNvbnRleHQsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbi5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgdmFyIGZuLCBwcm9taXNlLCBwZW5kaW5nO1xuXG4gICAgcGVuZGluZyA9IHN0YXRlLnBlbmRpbmc7XG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHN0YXRlLnBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGVuZGluZy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBwcm9taXNlID0gcGVuZGluZ1tpXVswXTtcbiAgICAgIGZuID0gcGVuZGluZ1tpXVtzdGF0ZS5zdGF0dXNdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHN0YXRlLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlLnJlamVjdChzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERlZmVycmVkKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG4gICAgLy9OZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xuICAgIHRoaXMucmVzb2x2ZSA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZXNvbHZlKTtcbiAgICB0aGlzLnJlamVjdCA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZWplY3QpO1xuICAgIHRoaXMubm90aWZ5ID0gc2ltcGxlQmluZCh0aGlzLCB0aGlzLm5vdGlmeSk7XG4gIH1cblxuICBEZWZlcnJlZC5wcm90b3R5cGUgPSB7XG4gICAgcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICBpZiAodmFsID09PSB0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdGhpcy4kJHJlamVjdCgkcU1pbkVycihcbiAgICAgICAgICAncWN5Y2xlJyxcbiAgICAgICAgICBcIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9J1wiLFxuICAgICAgICAgIHZhbCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kJHJlc29sdmUodmFsKTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAkJHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFyIHRoZW4sIGZucztcblxuICAgICAgZm5zID0gY2FsbE9uY2UodGhpcywgdGhpcy4kJHJlc29sdmUsIHRoaXMuJCRyZWplY3QpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkpIHRoZW4gPSB2YWwgJiYgdmFsLnRoZW47XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gLTE7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgZm5zWzBdLCBmbnNbMV0sIHRoaXMubm90aWZ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xuICAgICAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBmbnNbMV0oZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICB0aGlzLiQkcmVqZWN0KHJlYXNvbik7XG4gICAgfSxcblxuICAgICQkcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gcmVhc29uO1xuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcbiAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICB9LFxuXG4gICAgbm90aWZ5OiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMucHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7XG5cbiAgICAgIGlmICgodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDApICYmIGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFja3NbaV1bMF07XG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5ub3RpZnkoaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayhwcm9ncmVzcykgOiBwcm9ncmVzcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjcmVqZWN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBgcmVhc29uYC4gVGhpcyBhcGkgc2hvdWxkIGJlXG4gICAqIHVzZWQgdG8gZm9yd2FyZCByZWplY3Rpb24gaW4gYSBjaGFpbiBvZiBwcm9taXNlcy4gSWYgeW91IGFyZSBkZWFsaW5nIHdpdGggdGhlIGxhc3QgcHJvbWlzZSBpblxuICAgKiBhIHByb21pc2UgY2hhaW4sIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGl0LlxuICAgKlxuICAgKiBXaGVuIGNvbXBhcmluZyBkZWZlcnJlZHMvcHJvbWlzZXMgdG8gdGhlIGZhbWlsaWFyIGJlaGF2aW9yIG9mIHRyeS9jYXRjaC90aHJvdywgdGhpbmsgb2ZcbiAgICogYHJlamVjdGAgYXMgdGhlIGB0aHJvd2Aga2V5d29yZCBpbiBKYXZhU2NyaXB0LiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpZiB5b3UgXCJjYXRjaFwiIGFuIGVycm9yIHZpYVxuICAgKiBhIHByb21pc2UgZXJyb3IgY2FsbGJhY2sgYW5kIHlvdSB3YW50IHRvIGZvcndhcmQgdGhlIGVycm9yIHRvIHRoZSBwcm9taXNlIGRlcml2ZWQgZnJvbSB0aGVcbiAgICogY3VycmVudCBwcm9taXNlLCB5b3UgaGF2ZSB0byBcInJldGhyb3dcIiB0aGUgZXJyb3IgYnkgcmV0dXJuaW5nIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYVxuICAgKiBgcmVqZWN0YC5cbiAgICpcbiAgICogYGBganNcbiAgICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUJcbiAgICogICAgIC8vICAgICAgICAgIHdpdGggdGhlIG9sZCBvciBhIG5ldyByZXN1bHRcbiAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAqICAgICAvLyBlcnJvcjogaGFuZGxlIHRoZSBlcnJvciBpZiBwb3NzaWJsZSBhbmRcbiAgICogICAgIC8vICAgICAgICByZXNvbHZlIHByb21pc2VCIHdpdGggbmV3UHJvbWlzZU9yVmFsdWUsXG4gICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQlxuICAgKiAgICAgaWYgKGNhbkhhbmRsZShyZWFzb24pKSB7XG4gICAqICAgICAgLy8gaGFuZGxlIHRoZSBlcnJvciBhbmQgcmVjb3ZlclxuICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTtcbiAgICogICAgIH1cbiAgICogICAgIHJldHVybiAkcS5yZWplY3QocmVhc29uKTtcbiAgICogICB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2FzIGFscmVhZHkgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgYHJlYXNvbmAuXG4gICAqL1xuICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHJlc3VsdC5yZWplY3QocmVhc29uKTtcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gIH07XG5cbiAgdmFyIG1ha2VQcm9taXNlID0gZnVuY3Rpb24gbWFrZVByb21pc2UodmFsdWUsIHJlc29sdmVkKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgcmVzdWx0LnJlc29sdmUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucmVqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICB9O1xuXG4gIHZhciBoYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCBpc1Jlc29sdmVkLCBjYWxsYmFjaykge1xuICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkgY2FsbGJhY2tPdXRwdXQgPSBjYWxsYmFjaygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBtYWtlUHJvbWlzZShlLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gbWFrZVByb21pc2UoZXJyb3IsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSN3aGVuXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXcmFwcyBhbiBvYmplY3QgdGhhdCBtaWdodCBiZSBhIHZhbHVlIG9yIGEgKDNyZCBwYXJ0eSkgdGhlbi1hYmxlIHByb21pc2UgaW50byBhICRxIHByb21pc2UuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSBkZWFsaW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgbWlnaHQgb3IgbWlnaHQgbm90IGJlIGEgcHJvbWlzZSwgb3IgaWZcbiAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2VcbiAgICovXG5cblxuICB2YXIgd2hlbiA9IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2UudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNhbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbWJpbmVzIG11bHRpcGxlIHByb21pc2VzIGludG8gYSBzaW5nbGUgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG9mIHRoZSBpbnB1dFxuICAgKiBwcm9taXNlcyBhcmUgcmVzb2x2ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgc2luZ2xlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYW4gYXJyYXkvaGFzaCBvZiB2YWx1ZXMsXG4gICAqICAgZWFjaCB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9taXNlIGF0IHRoZSBzYW1lIGluZGV4L2tleSBpbiB0aGUgYHByb21pc2VzYCBhcnJheS9oYXNoLlxuICAgKiAgIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiwgdGhpcyByZXN1bHRpbmcgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXG4gICAqICAgd2l0aCB0aGUgc2FtZSByZWplY3Rpb24gdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpLFxuICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgcmVzdWx0cyA9IGlzQXJyYXkocHJvbWlzZXMpID8gW10gOiB7fTtcblxuICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHByb21pc2UsIGtleSkge1xuICAgICAgY291bnRlcisrO1xuICAgICAgd2hlbihwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XG4gICAgICAgIGlmICghKC0tY291bnRlcikpIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICB2YXIgJFEgPSBmdW5jdGlvbiBRKHJlc29sdmVyKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJlc29sdmVyKSkge1xuICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCBcIkV4cGVjdGVkIHJlc29sdmVyRm4sIGdvdCAnezB9J1wiLCByZXNvbHZlcik7XG4gICAgfVxuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFEpKSB7XG4gICAgICAvLyBNb3JlIHVzZWZ1bCB3aGVuICRRIGlzIHRoZSBQcm9taXNlIGl0c2VsZi5cbiAgICAgIHJldHVybiBuZXcgUShyZXNvbHZlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRm4odmFsdWUpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdEZuKHJlYXNvbikge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuXG4gICAgcmVzb2x2ZXIocmVzb2x2ZUZuLCByZWplY3RGbik7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcblxuICAkUS5kZWZlciA9IGRlZmVyO1xuICAkUS5yZWplY3QgPSByZWplY3Q7XG4gICRRLndoZW4gPSB3aGVuO1xuICAkUS5hbGwgPSBhbGw7XG5cbiAgcmV0dXJuICRRO1xufVxuXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gdGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gbWlkZGxlIGFyZSBleHBlbnNpdmUgc28gd2UgdXNlIGxpbmtlZCBsaXN0XG4gKlxuICogVGhlcmUgYXJlIGZldyB3YXRjaGVzIHRoZW4gYSBsb3Qgb2Ygb2JzZXJ2ZXJzLiBUaGlzIGlzIHdoeSB5b3UgZG9uJ3Qgd2FudCB0aGUgb2JzZXJ2ZXIgdG8gYmVcbiAqIGltcGxlbWVudGVkIGluIHRoZSBzYW1lIHdheSBhcyB3YXRjaC4gV2F0Y2ggcmVxdWlyZXMgcmV0dXJuIG9mIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoXG4gKiBhcmUgZXhwZW5zaXZlIHRvIGNvbnN0cnVjdC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyI2RpZ2VzdFR0bFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIGAkZGlnZXN0YCBpdGVyYXRpb25zIHRoZSBzY29wZSBzaG91bGQgYXR0ZW1wdCB0byBleGVjdXRlIGJlZm9yZSBnaXZpbmcgdXAgYW5kXG4gKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cbiAqXG4gKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXG4gKlxuICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cbiAqIHNldmVyYWwgZGlnZXN0IGl0ZXJhdGlvbnMuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwIGRpZ2VzdFxuICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0b1xuICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cbiAqXG4gKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0XG4gKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBhIHNpbmdsZSByb290IHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cbiAqIEFsbCBvdGhlciBzY29wZXMgYXJlIGRlc2NlbmRhbnQgc2NvcGVzIG9mIHRoZSByb290IHNjb3BlLiBTY29wZXMgcHJvdmlkZSBzZXBhcmF0aW9uXG4gKiBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgdGhlIHZpZXcsIHZpYSBhIG1lY2hhbmlzbSBmb3Igd2F0Y2hpbmcgdGhlIG1vZGVsIGZvciBjaGFuZ2VzLlxuICogVGhleSBhbHNvIHByb3ZpZGUgYW4gZXZlbnQgZW1pc3Npb24vYnJvYWRjYXN0IGFuZCBzdWJzY3JpcHRpb24gZmFjaWxpdHkuIFNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9zY29wZSBkZXZlbG9wZXIgZ3VpZGUgb24gc2NvcGVzfS5cbiAqL1xuZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCkge1xuICB2YXIgVFRMID0gMTA7XG4gIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7XG4gIHZhciBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gIHZhciBhcHBseUFzeW5jSWQgPSBudWxsO1xuXG4gIHRoaXMuZGlnZXN0VHRsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgVFRMID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBUVEw7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcbiAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIsICRwYXJzZSwgJGJyb3dzZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKVxuICAgICAqXG4gICAgICogSGVyZSBpcyBhIHNpbXBsZSBzY29wZSBzbmlwcGV0IHRvIHNob3cgaG93IHlvdSBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgc2NvcGUuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxmaWxlIHNyYz1cIi4vdGVzdC9uZy9yb290U2NvcGVTcGVjLmpzXCIgdGFnPVwiZG9jczFcIiAvPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBmdW5jdGlvbiBDaGlsZFNjb3BlKCkge1xuICAgICAgICAgICAgICB0aGlzLiQkd2F0Y2hlcnMgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XG4gICAgICAgICAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgICAgICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUucHJvdG90eXBlID0gdGhpcztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQgPSBuZXcgdGhpcy4kJENoaWxkU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC4kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xuICAgICAgICBpZiAocGFyZW50LiQkY2hpbGRIZWFkKSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIG5ldyBzY29wZSBpcyBub3QgaXNvbGF0ZWQgb3Igd2UgaW5oZXJpdCBmcm9tIGB0aGlzYCwgYW5kXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLCB0aGUgcHJvcGVydHkgYCQkZGVzdHJveWVkYCBpcyBpbmhlcml0ZWRcbiAgICAgICAgLy8gcHJvdG90eXBpY2FsbHkuIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBwcm9wZXJ0eSBuZWVkcyB0byBiZSBzZXRcbiAgICAgICAgLy8gd2hlbiB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgLy8gVGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlIGFkZGVkIGFmdGVyIHRoZSBwYXJlbnQgaXMgc2V0XG4gICAgICAgIGlmIChpc29sYXRlIHx8IHBhcmVudCAhPSB0aGlzKSBjaGlsZC4kb24oJyRkZXN0cm95JywgZGVzdHJveUNoaWxkKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG5cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUNoaWxkKCkge1xuICAgICAgICAgIGNoaWxkLiQkZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKFNpbmNlXG4gICAgICAgKiAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSByZXJ1bnMgd2hlbiBpdCBkZXRlY3RzIGNoYW5nZXMgdGhlXG4gICAgICAgKiAgIGB3YXRjaEV4cHJlc3Npb25gIGNhbiBleGVjdXRlIG11bHRpcGxlIHRpbWVzIHBlclxuICAgICAgICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gYW5kIHNob3VsZCBiZSBpZGVtcG90ZW50LilcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgdmFsdWUgZnJvbSB0aGUgY3VycmVudCBgd2F0Y2hFeHByZXNzaW9uYCBhbmQgdGhlXG4gICAgICAgKiAgIHByZXZpb3VzIGNhbGwgdG8gYHdhdGNoRXhwcmVzc2lvbmAgYXJlIG5vdCBlcXVhbCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBpbml0aWFsIHJ1bixcbiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcbiAgICAgICAqICAgW3N0cmljdCBjb21wYXJpc29uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29tcGFyaXNvbl9PcGVyYXRvcnMpXG4gICAgICAgKiAgICB2aWEgdGhlIGAhPT1gIEphdmFzY3JpcHQgb3BlcmF0b3IsIHVubGVzcyBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWBcbiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxuICAgICAgICogLSBXaGVuIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYCwgaW5lcXVhbGl0eSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgZGV0ZXJtaW5lZFxuICAgICAgICogICBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24uIFRvIHNhdmUgdGhlIHZhbHVlIG9mIHRoZSBvYmplY3QgZm9yXG4gICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XG4gICAgICAgKiAgIHdhdGNoaW5nIGNvbXBsZXggb2JqZWN0cyB3aWxsIGhhdmUgYWR2ZXJzZSBtZW1vcnkgYW5kIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAgICAgICAqIC0gVGhlIHdhdGNoIGBsaXN0ZW5lcmAgbWF5IGNoYW5nZSB0aGUgbW9kZWwsIHdoaWNoIG1heSB0cmlnZ2VyIG90aGVyIGBsaXN0ZW5lcmBzIHRvIGZpcmUuXG4gICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuXG4gICAgICAgKiAgIGl0ZXJhdGlvbiBsaW1pdCBpcyAxMCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AgZGVhZGxvY2suXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gaXMgY2FsbGVkLFxuICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGggbm8gYGxpc3RlbmVyYC4gKFNpbmNlIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSB3aGVuIGFcbiAgICAgICAqIGNoYW5nZSBpcyBkZXRlY3RlZCwgYmUgcHJlcGFyZWQgZm9yIG11bHRpcGxlIGNhbGxzIHRvIHlvdXIgbGlzdGVuZXIuKVxuICAgICAgICpcbiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAqICh2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luYyAkZXZhbEFzeW5jfSkgdG8gaW5pdGlhbGl6ZSB0aGVcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxuICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3VcbiAgICAgICAqIGNhbiBjb21wYXJlIHRoZSBgbmV3VmFsYCBhbmQgYG9sZFZhbGAuIElmIHRoZXNlIHR3byB2YWx1ZXMgYXJlIGlkZW50aWNhbCAoYD09PWApIHRoZW4gdGhlXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG5cblxuXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cbiAgICAgICAgICAgdmFyIGZvb2Q7XG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxuICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNoYW5nZSBsaXN0ZW5lciwgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGFib3ZlIGZ1bmN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAvLyBPbmx5IGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICk7XG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFVwZGF0ZSBmb29kIGFuZCBydW4gZGlnZXN0LiAgTm93IHRoZSBjb3VudGVyIHdpbGwgaW5jcmVtZW50XG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoZnVuY3Rpb24oKXxzdHJpbmcpfSB3YXRjaEV4cHJlc3Npb24gRXhwcmVzc2lvbiB0aGF0IGlzIGV2YWx1YXRlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgbmV3VmFsYCBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gb2JqZWN0RXF1YWxpdHkgQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxuICAgICAgICogICAgIGNvbXBhcmluZyBmb3IgcmVmZXJlbmNlIGVxdWFsaXR5LlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoOiBmdW5jdGlvbih3YXRjaEV4cCwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KSB7XG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xuXG4gICAgICAgIGlmIChnZXQuJCR3YXRjaERlbGVnYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMsXG4gICAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMsXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xuICAgICAgICAgICAgICBmbjogbGlzdGVuZXIsXG4gICAgICAgICAgICAgIGxhc3Q6IGluaXRXYXRjaFZhbCxcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICAgIGV4cDogd2F0Y2hFeHAsXG4gICAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgd2F0Y2hlci5mbiA9IG5vb3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgdXNlIHVuc2hpZnQgc2luY2Ugd2UgdXNlIGEgd2hpbGUgbG9vcCBpbiAkZGlnZXN0IGZvciBzcGVlZC5cbiAgICAgICAgLy8gdGhlIHdoaWxlIGxvb3AgcmVhZHMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgYXJyYXkudW5zaGlmdCh3YXRjaGVyKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkge1xuICAgICAgICAgIGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKTtcbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIHZhcmlhbnQgb2Yge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aGVyZSBpdCB3YXRjaGVzIGFuIGFycmF5IG9mIGB3YXRjaEV4cHJlc3Npb25zYC5cbiAgICAgICAqIElmIGFueSBvbmUgZXhwcmVzc2lvbiBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBgbGlzdGVuZXJgIGlzIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGl0ZW1zIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgYXJlIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBhcmUgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBjaGFuZ2VzLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbihzY29wZSk+fSB3YXRjaEV4cHJlc3Npb25zIEFycmF5IG9mIGV4cHJlc3Npb25zIHRoYXQgd2lsbCBiZSBpbmRpdmlkdWFsbHlcbiAgICAgICAqIHdhdGNoZWQgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSByZXR1cm4gdmFsdWUgb2YgYW55XG4gICAgICAgKiAgICBleHByZXNzaW9uIGluIGB3YXRjaEV4cHJlc3Npb25zYCBjaGFuZ2VzXG4gICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBhbmQgdGhlIGBvbGRWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIFRoZSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciBhbGwgbGlzdGVuZXJzLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hHcm91cDogZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgZGVyZWdpc3RlckZucyA9IFtdO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZmlyc3RSdW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBObyBleHByZXNzaW9ucyBtZWFucyB3ZSBjYWxsIHRoZSBsaXN0ZW5lciBBU0FQXG4gICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2god2F0Y2hFeHByZXNzaW9uc1swXSwgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCAodmFsdWUgPT09IG9sZFZhbHVlKSA/IG5ld1ZhbHVlcyA6IG9sZFZhbHVlcywgc2NvcGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLCBmdW5jdGlvbihleHByLCBpKSB7XG4gICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1tpXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcbiAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgIHdoaWxlIChkZXJlZ2lzdGVyRm5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNoYWxsb3cgd2F0Y2hlcyB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kIGZpcmVzIHdoZW5ldmVyIGFueSBvZiB0aGUgcHJvcGVydGllcyBjaGFuZ2VcbiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZ1xuICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55dGhpbmcgd2l0aGluIHRoZSBgb2JqYCBoYXMgY2hhbmdlZC4gRXhhbXBsZXMgaW5jbHVkZVxuICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ2lnb3InLCAnbWF0aWFzJywgJ21pc2tvJywgJ2phbWVzJ107XG4gICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IDQ7XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmFtZXMnLCBmdW5jdGlvbihuZXdOYW1lcywgb2xkTmFtZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSBuZXdOYW1lcy5sZW5ndGg7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgLy9zdGlsbCBhdCA0IC4uLiBubyBjaGFuZ2VzXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG5cbiAgICAgICAgICAkc2NvcGUubmFtZXMucG9wKCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZVxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDMpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKHNjb3BlKX0gb2JqIEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS4gVGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaFxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQW55IHNoYWxsb3cgY2hhbmdlIHdpdGhpbiB0aGVcbiAgICAgICAqICAgIGNvbGxlY3Rpb24gd2lsbCB0cmlnZ2VyIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld0NvbGxlY3Rpb24sIG9sZENvbGxlY3Rpb24sIHNjb3BlKX0gbGlzdGVuZXIgYSBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWRcbiAgICAgICAqICAgIHdoZW4gYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuXG4gICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb25cbiAgICAgICAqICAgIC0gVGhlIGBvbGRDb2xsZWN0aW9uYCBvYmplY3QgaXMgYSBjb3B5IG9mIHRoZSBmb3JtZXIgY29sbGVjdGlvbiBkYXRhLlxuICAgICAgICogICAgICBEdWUgdG8gcGVyZm9ybWFuY2UgY29uc2lkZXJhdGlvbnMsIHRoZWBvbGRDb2xsZWN0aW9uYCB2YWx1ZSBpcyBjb21wdXRlZCBvbmx5IGlmIHRoZVxuICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cbiAgICAgICAqICAgIC0gVGhlIGBzY29wZWAgYXJndW1lbnQgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZVxuICAgICAgICogICAgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLCB0aGUgaW50ZXJuYWwgd2F0Y2ggb3BlcmF0aW9uIGlzIHRlcm1pbmF0ZWQuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uKG9iaiwgbGlzdGVuZXIpIHtcbiAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyB0aGUgY3VycmVudCB2YWx1ZSwgdXBkYXRlZCBvbiBlYWNoIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgbmV3VmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHRoZSBsYXN0IGRpcnR5LWNoZWNrIHJ1bixcbiAgICAgICAgLy8gdXBkYXRlZCB0byBtYXRjaCBuZXdWYWx1ZSBkdXJpbmcgZGlydHktY2hlY2sgcnVuXG4gICAgICAgIHZhciBvbGRWYWx1ZTtcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gd2hlbiB0aGUgbGFzdCBjaGFuZ2UgaGFwcGVuZWRcbiAgICAgICAgdmFyIHZlcnlPbGRWYWx1ZTtcbiAgICAgICAgLy8gb25seSB0cmFjayB2ZXJ5T2xkVmFsdWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFza2luZyBmb3IgaXRcbiAgICAgICAgdmFyIHRyYWNrVmVyeU9sZFZhbHVlID0gKGxpc3RlbmVyLmxlbmd0aCA+IDEpO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0ZWQgPSAwO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0b3IgPSAkcGFyc2Uob2JqLCAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IpO1xuICAgICAgICB2YXIgaW50ZXJuYWxBcnJheSA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJuYWxPYmplY3QgPSB7fTtcbiAgICAgICAgdmFyIGluaXRSdW4gPSB0cnVlO1xuICAgICAgICB2YXIgb2xkTGVuZ3RoID0gMDtcblxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IoX3ZhbHVlKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBfdmFsdWU7XG4gICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5LCBib3RoTmFOLCBuZXdJdGVtLCBvbGRJdGVtO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZW4gcmV0dXJuIHVuZGVmaW5lZCBhcyB0aGUgd2F0Y2ggbWF5IGJlIGEgb25lLXRpbWUgd2F0Y2hcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobmV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkgeyAvLyBpZiBwcmltaXRpdmVcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbEFycmF5KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gYXJyYXkgaW50byBhcnJheS5cbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbEFycmF5O1xuICAgICAgICAgICAgICBvbGRMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggIT09IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBpZiBsZW5ndGhzIGRvIG5vdCBtYXRjaCB3ZSBuZWVkIHRvIHRyaWdnZXIgY2hhbmdlIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICBvbGRWYWx1ZS5sZW5ndGggPSBvbGRMZW5ndGggPSBuZXdMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2ldO1xuICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVbaV07XG5cbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsT2JqZWN0KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5ld1ZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXG4gICAgICAgKlxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdhdGNoLCB2YWx1ZSwgbGFzdCxcbiAgICAgICAgICAgIHdhdGNoZXJzLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgZGlydHksIHR0bCA9IFRUTCxcbiAgICAgICAgICAgIG5leHQsIGN1cnJlbnQsIHRhcmdldCA9IHRoaXMsXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxuICAgICAgICAgICAgbG9nSWR4LCBsb2dNc2csIGFzeW5jVGFzaztcblxuICAgICAgICBiZWdpblBoYXNlKCckZGlnZXN0Jyk7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHRvIGJyb3dzZXIgdXJsIHRoYXQgaGFwcGVuZWQgaW4gc3luYyBiZWZvcmUgdGhlIGNhbGwgdG8gJGRpZ2VzdFxuICAgICAgICAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgcm9vdCBzY29wZSwgYW5kICRhcHBseUFzeW5jIGhhcyBzY2hlZHVsZWQgYSBkZWZlcnJlZCAkYXBwbHkoKSwgdGhlblxuICAgICAgICAgIC8vIGNhbmNlbCB0aGUgc2NoZWR1bGVkICRhcHBseSBhbmQgZmx1c2ggdGhlIHF1ZXVlIG9mIGV4cHJlc3Npb25zIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcbiAgICAgICAgICBmbHVzaEFwcGx5QXN5bmMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBkbyB7IC8vIFwid2hpbGUgZGlydHlcIiBsb29wXG4gICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgd2hpbGUgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhc3luY1Rhc2sgPSBhc3luY1F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGFzeW5jVGFzay5zY29wZS4kZXZhbChhc3luY1Rhc2suZXhwcmVzc2lvbiwgYXN5bmNUYXNrLmxvY2Fscyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYXZlcnNlU2NvcGVzTG9vcDpcbiAgICAgICAgICBkbyB7IC8vIFwidHJhdmVyc2UgdGhlIHNjb3Blc1wiIGxvb3BcbiAgICAgICAgICAgIGlmICgod2F0Y2hlcnMgPSBjdXJyZW50LiQkd2F0Y2hlcnMpKSB7XG4gICAgICAgICAgICAgIC8vIHByb2Nlc3Mgb3VyIHdhdGNoZXNcbiAgICAgICAgICAgICAgbGVuZ3RoID0gd2F0Y2hlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgd2F0Y2ggPSB3YXRjaGVyc1tsZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgLy8gTW9zdCBjb21tb24gd2F0Y2hlcyBhcmUgb24gcHJpbWl0aXZlcywgaW4gd2hpY2ggY2FzZSB3ZSBjYW4gc2hvcnRcbiAgICAgICAgICAgICAgICAgIC8vIGNpcmN1aXQgaXQgd2l0aCA9PT0gb3BlcmF0b3IsIG9ubHkgd2hlbiA9PT0gZmFpbHMgZG8gd2UgdXNlIC5lcXVhbHNcbiAgICAgICAgICAgICAgICAgIGlmICh3YXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID0gd2F0Y2guZ2V0KGN1cnJlbnQpKSAhPT0gKGxhc3QgPSB3YXRjaC5sYXN0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXF1YWxzKHZhbHVlLCBsYXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxhc3QgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4odmFsdWUpICYmIGlzTmFOKGxhc3QpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIHdhdGNoLmZuKHZhbHVlLCAoKGxhc3QgPT09IGluaXRXYXRjaFZhbCkgPyB2YWx1ZSA6IGxhc3QpLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHRsIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2F0Y2hMb2dbbG9nSWR4XSkgd2F0Y2hMb2dbbG9nSWR4XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBpc0Z1bmN0aW9uKHdhdGNoLmV4cCkgPyAnZm46ICcgKyAod2F0Y2guZXhwLm5hbWUgfHwgd2F0Y2guZXhwLnRvU3RyaW5nKCkpIDogd2F0Y2guZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWw6IGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3YXRjaCA9PT0gbGFzdERpcnR5V2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9zdCByZWNlbnRseSBkaXJ0eSB3YXRjaGVyIGlzIG5vdyBjbGVhbiwgc2hvcnQgY2lyY3VpdCBzaW5jZSB0aGUgcmVtYWluaW5nIHdhdGNoZXJzXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhbHJlYWR5IGJlZW4gdGVzdGVkLlxuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGJyb2FkY2FzdFxuICAgICAgICAgICAgaWYgKCEobmV4dCA9IChjdXJyZW50LiQkY2hpbGRIZWFkIHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpO1xuXG4gICAgICAgICAgLy8gYGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtgIHRha2VzIHVzIHRvIGhlcmVcblxuICAgICAgICAgIGlmICgoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpICYmICEodHRsLS0pKSB7XG4gICAgICAgICAgICBjbGVhclBoYXNlKCk7XG4gICAgICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbmZkaWcnLFxuICAgICAgICAgICAgICAgICd7MH0gJGRpZ2VzdCgpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXFxuJyArXG4gICAgICAgICAgICAgICAgJ1dhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9JyxcbiAgICAgICAgICAgICAgICBUVEwsIHdhdGNoTG9nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGNsZWFyUGhhc2UoKTtcblxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxuICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXG4gICAgICAgKlxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cbiAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gd2UgY2FuJ3QgZGVzdHJveSB0aGUgcm9vdCBzY29wZSBvciBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWRcbiAgICAgICAgaWYgKHRoaXMuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcblxuICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7XG4gICAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xuICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQodGhpcywgdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSwgZXZlbnROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZFRhaWwgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuICAgICAgICBpZiAodGhpcy4kJHByZXZTaWJsaW5nKSB0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZyA9IHRoaXMuJCRuZXh0U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRuZXh0U2libGluZykgdGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgICAgLy8gRGlzYWJsZSBsaXN0ZW5lcnMsIHdhdGNoZXJzIGFuZCBhcHBseS9kaWdlc3QgbWV0aG9kc1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gdGhpcy4kZGlnZXN0ID0gdGhpcy4kYXBwbHkgPSB0aGlzLiRldmFsQXN5bmMgPSB0aGlzLiRhcHBseUFzeW5jID0gbm9vcDtcbiAgICAgICAgdGhpcy4kb24gPSB0aGlzLiR3YXRjaCA9IHRoaXMuJHdhdGNoR3JvdXAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5vb3A7IH07XG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcblxuICAgICAgICAvLyBBbGwgb2YgdGhlIGNvZGUgYmVsb3cgaXMgYm9ndXMgY29kZSB0aGF0IHdvcmtzIGFyb3VuZCBWOCdzIG1lbW9yeSBsZWFrIHZpYSBvcHRpbWl6ZWQgY29kZVxuICAgICAgICAvLyBhbmQgaW5saW5lIGNhY2hlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gc2VlOlxuICAgICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNlxuICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTMxMyNpc3N1ZWNvbW1lbnQtMTAzNzg0NTFcblxuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkY2hpbGRIZWFkID1cbiAgICAgICAgICAgIHRoaXMuJCRjaGlsZFRhaWwgPSB0aGlzLiRyb290ID0gdGhpcy4kJHdhdGNoZXJzID0gbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBgZXhwcmVzc2lvbmAgb24gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gQW55IGV4Y2VwdGlvbnMgaW5cbiAgICAgICAqIHRoZSBleHByZXNzaW9uIGFyZSBwcm9wYWdhdGVkICh1bmNhdWdodCkuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZXZhbHVhdGluZyBBbmd1bGFyXG4gICAgICAgKiBleHByZXNzaW9ucy5cbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IG5nLiRyb290U2NvcGUuU2NvcGUoKTtcbiAgICAgICAgICAgc2NvcGUuYSA9IDE7XG4gICAgICAgICAgIHNjb3BlLmIgPSAyO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbCgnYStiJykpLnRvRXF1YWwoMyk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluICB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgJGV2YWw6IGZ1bmN0aW9uKGV4cHIsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgYCRldmFsQXN5bmNgIG1ha2VzIG5vIGd1YXJhbnRlZXMgYXMgdG8gd2hlbiB0aGUgYGV4cHJlc3Npb25gIHdpbGwgYmUgZXhlY3V0ZWQsIG9ubHlcbiAgICAgICAqIHRoYXQ6XG4gICAgICAgKlxuICAgICAgICogICAtIGl0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgZnVuY3Rpb24gdGhhdCBzY2hlZHVsZWQgdGhlIGV2YWx1YXRpb24gKHByZWZlcmFibHkgYmVmb3JlIERPTVxuICAgICAgICogICAgIHJlbmRlcmluZykuXG4gICAgICAgKiAgIC0gYXQgbGVhc3Qgb25lIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCBjeWNsZX0gd2lsbCBiZSBwZXJmb3JtZWQgYWZ0ZXJcbiAgICAgICAqICAgICBgZXhwcmVzc2lvbmAgZXhlY3V0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIF9fTm90ZTpfXyBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgYCRkaWdlc3RgIGN5Y2xlLCBhIG5ldyBgJGRpZ2VzdGAgY3ljbGVcbiAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkLiBIb3dldmVyLCBpdCBpcyBlbmNvdXJhZ2VkIHRvIGFsd2F5cyBjYWxsIGNvZGUgdGhhdCBjaGFuZ2VzIHRoZSBtb2RlbFxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS5cbiAgICAgICAqL1xuICAgICAgJGV2YWxBc3luYzogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBvdXRzaWRlIG9mIGFuICRkaWdlc3QgbG9vcCBhbmQgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB3ZSBhcmUgc2NoZWR1bGluZyBhc3luY1xuICAgICAgICAvLyB0YXNrIGFsc28gc2NoZWR1bGUgYXN5bmMgYXV0by1mbHVzaFxuICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSAmJiAhYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jUXVldWUucHVzaCh7c2NvcGU6IHRoaXMsIGV4cHJlc3Npb246IGV4cHIsIGxvY2FsczogbG9jYWxzfSk7XG4gICAgICB9LFxuXG4gICAgICAkJHBvc3REaWdlc3Q6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBgJGFwcGx5KClgIGlzIHVzZWQgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIGFuZ3VsYXIgZnJvbSBvdXRzaWRlIG9mIHRoZSBhbmd1bGFyXG4gICAgICAgKiBmcmFtZXdvcmsuIChGb3IgZXhhbXBsZSBmcm9tIGJyb3dzZXIgRE9NIGV2ZW50cywgc2V0VGltZW91dCwgWEhSIG9yIHRoaXJkIHBhcnR5IGxpYnJhcmllcykuXG4gICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxuICAgICAgICogY3ljbGUgb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyIGV4Y2VwdGlvbiBoYW5kbGluZ30sXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0IGV4ZWN1dGluZyB3YXRjaGVzfS5cbiAgICAgICAqXG4gICAgICAgKiAjIyBMaWZlIGN5Y2xlXG4gICAgICAgKlxuICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICBmdW5jdGlvbiAkYXBwbHkoZXhwcikge1xuICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7XG4gICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICRyb290LiRkaWdlc3QoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBTY29wZSdzIGAkYXBwbHkoKWAgbWV0aG9kIHRyYW5zaXRpb25zIHRocm91Z2ggdGhlIGZvbGxvd2luZyBzdGFnZXM6XG4gICAgICAgKlxuICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZVxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWwgJGV2YWwoKX0gbWV0aG9kLlxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKiAzLiBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNofSBsaXN0ZW5lcnMgYXJlIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkYXBwbHk6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBiZWdpblBoYXNlKCckYXBwbHknKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGNsZWFyUGhhc2UoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2NoZWR1bGUgdGhlIGludm9jYXRpb24gb2YgJGFwcGx5IHRvIG9jY3VyIGF0IGEgbGF0ZXIgdGltZS4gVGhlIGFjdHVhbCB0aW1lIGRpZmZlcmVuY2VcbiAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXG4gICAgICAgKlxuICAgICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBxdWV1ZSB1cCBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGljaCBuZWVkIHRvIGJlIGV2YWx1YXRlZCBpbiB0aGUgc2FtZVxuICAgICAgICogZGlnZXN0LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqL1xuICAgICAgJGFwcGx5QXN5bmM6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcbiAgICAgICAgZXhwciAmJiBhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pO1xuICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcblxuICAgICAgICBmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGV2YWwoZXhwcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXG4gICAgICAgKiBkaXNjdXNzaW9uIG9mIGV2ZW50IGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxuICAgICAgICogcGFzc2VkIGludG8gdGhlIGxpc3RlbmVyIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gICAgICAgKlxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcbiAgICAgICAqICAgICBgJGJyb2FkY2FzdGAtZWQuXG4gICAgICAgKiAgIC0gYGN1cnJlbnRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSB0aGF0IGlzIGN1cnJlbnRseSBoYW5kbGluZyB0aGUgZXZlbnQuIE9uY2UgdGhlXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXG4gICAgICAgKiAgIC0gYG5hbWVgIC0gYHtzdHJpbmd9YDogbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgKiAgIC0gYHN0b3BQcm9wYWdhdGlvbmAgLSBge2Z1bmN0aW9uPX1gOiBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIGZ1bmN0aW9uIHdpbGwgY2FuY2VsXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXG4gICAgICAgKiAgIC0gYHByZXZlbnREZWZhdWx0YCAtIGB7ZnVuY3Rpb259YDogY2FsbGluZyBgcHJldmVudERlZmF1bHRgIHNldHMgYGRlZmF1bHRQcmV2ZW50ZWRgIGZsYWdcbiAgICAgICAqICAgICB0byB0cnVlLlxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGxpc3RlbiBvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBuYW1lZExpc3RlbmVycyA9IHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV07XG4gICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XG4gICAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XG4gICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGluZGV4T2ZMaXN0ZW5lciA9IG5hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdID0gbnVsbDtcbiAgICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwgMSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGVtaXRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCB1cHdhcmRzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSBub3RpZnlpbmcgdGhlXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRlbWl0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHRyYXZlcnNlcyB1cHdhcmRzIHRvd2FyZCB0aGUgcm9vdCBzY29wZSBhbmQgY2FsbHMgYWxsXG4gICAgICAgKiByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgd2lsbCBzdG9wIHByb3BhZ2F0aW5nIGlmIG9uZSBvZiB0aGUgbGlzdGVuZXJzXG4gICAgICAgKiBjYW5jZWxzIGl0LlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gZW1pdC5cbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QgKHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259KS5cbiAgICAgICAqL1xuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gW10sXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyxcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtzdG9wUHJvcGFnYXRpb24gPSB0cnVlO30sXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGksIGxlbmd0aDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lZExpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XG4gICAgICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xuICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoc2NvcGUpO1xuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCwgc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAqL1xuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSByZXR1cm4gZXZlbnQ7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbGlzdGVuZXJzLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxuICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSkge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRkaWdlc3RcbiAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkbGlzdGVuZXJDb3VudClcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgJHJvb3RTY29wZSA9IG5ldyBTY29wZSgpO1xuXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXG4gICAgdmFyIGFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZSA9IFtdO1xuICAgIHZhciBwb3N0RGlnZXN0UXVldWUgPSAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlID0gW107XG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcblxuICAgIHJldHVybiAkcm9vdFNjb3BlO1xuXG5cbiAgICBmdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKSB7XG4gICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2lucHJvZycsICd7MH0gYWxyZWFkeSBpbiBwcm9ncmVzcycsICRyb290U2NvcGUuJCRwaGFzZSk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IHBoYXNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyUGhhc2UoKSB7XG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcblxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cbiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XG5cbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlBc3luY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxuICovXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XG4gIHZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxcbiAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO1xuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICAgICAgdmFyIG5vcm1hbGl6ZWRWYWw7XG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiAndW5zYWZlOicgKyBub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICBIVE1MOiAnaHRtbCcsXG4gIENTUzogJ2NzcycsXG4gIFVSTDogJ3VybCcsXG4gIC8vIFJFU09VUkNFX1VSTCBpcyBhIHN1YnR5cGUgb2YgVVJMIHVzZWQgaW4gY29udGV4dHMgd2hlcmUgYSBwcml2aWxlZ2VkIHJlc291cmNlIGlzIHNvdXJjZWQgZnJvbSBhXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG4gIEpTOiAnanMnXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvbGxvdy5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXCpcXFxcKicsICcuKicpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cbiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLFxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcbiAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbihtYXRjaGVyKSB7XG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZURlbGVnYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlRGVsZWdhdGVgIGlzIGEgc2VydmljZSB0aGF0IGlzIHVzZWQgYnkgdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIHByb3ZpZGUge0BsaW5rIG5nLiRzY2UgU3RyaWN0XG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY29uZmlndXJlIG9yIG92ZXJyaWRlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gaW5zdGVhZCBvZlxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXG4gKiBvdmVycmlkZSAzIGNvcmUgZnVuY3Rpb25zIChgdHJ1c3RBc2AsIGBnZXRUcnVzdGVkYCBhbmQgYHZhbHVlT2ZgKSB0byByZXBsYWNlIHRoZSB3YXkgdGhpbmdzXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IHRvIGNvbmZpZ3VyZSB0aGlzIHNlcnZpY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxuICogY2FuIG92ZXJyaWRlIGl0IGNvbXBsZXRlbHkgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZiBgJHNjZWAsIHRoZSBjb21tb24gY2FzZSB3b3VsZFxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcbiAqIHRlbXBsYXRlcy4gIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxuICogdGhhdCB0aGUgVVJMcyB1c2VkIGZvciBzb3VyY2luZyBBbmd1bGFyIHRlbXBsYXRlcyBhcmUgc2FmZS4gIFJlZmVyIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgIE5vdGU6ICoqYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMqKiFcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xuICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxuICAgKlxuICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqL1xuXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCB0cnVzdGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXG4gICAgICAgICAgICB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBtYXliZVRydXN0ZWQgPT09IHVuZGVmaW5lZCB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICB9XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoY29uc3RydWN0b3IgJiYgbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IG9ubHkgdGFrZSBvbmUgb2YgdHdvIGFjdGlvbnMuXG4gICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3JcbiAgICAgIC8vIDIuIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMKSB7XG4gICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHtcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJyxcbiAgICAgICAgICAgICAgJ0Jsb2NrZWQgbG9hZGluZyByZXNvdXJjZSBmcm9tIHVybCBub3QgYWxsb3dlZCBieSAkc2NlRGVsZWdhdGUgcG9saWN5LiAgVVJMOiB7MH0nLFxuICAgICAgICAgICAgICBtYXliZVRydXN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLkhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlICRzY2VQcm92aWRlciBwcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byBjb25maWd1cmUgdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UuXG4gKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcbiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlXG4gKlxuICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqL1xuXG4vKiBqc2hpbnQgbWF4bGVuOiBmYWxzZSovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXG4gKlxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluXG4gKiBjb250ZXh0cyB0byByZXN1bHQgaW4gYSB2YWx1ZSB0aGF0IGlzIG1hcmtlZCBhcyBzYWZlIHRvIHVzZSBmb3IgdGhhdCBjb250ZXh0LiAgT25lIGV4YW1wbGUgb2ZcbiAqIHN1Y2ggYSBjb250ZXh0IGlzIGJpbmRpbmcgYXJiaXRyYXJ5IGh0bWwgY29udHJvbGxlZCBieSB0aGUgdXNlciB2aWEgYG5nLWJpbmQtaHRtbGAuICBXZSByZWZlclxuICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuXG4gKlxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXIgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxuICpcbiAqIE5vdGU6ICBXaGVuIGVuYWJsZWQgKHRoZSBkZWZhdWx0KSwgSUU8MTEgaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU8MTEgYWxsb3dcbiAqIG9uZSB0byBleGVjdXRlIGFyYml0cmFyeSBqYXZhc2NyaXB0IGJ5IHRoZSB1c2Ugb2YgdGhlIGV4cHJlc3Npb24oKSBzeW50YXguICBSZWZlclxuICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLlxuICogWW91IGNhbiBlbnN1cmUgeW91ciBkb2N1bWVudCBpcyBpbiBzdGFuZGFyZHMgbW9kZSBhbmQgbm90IHF1aXJrcyBtb2RlIGJ5IGFkZGluZyBgPCFkb2N0eXBlIGh0bWw+YFxuICogdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgZG9jdW1lbnQuXG4gKlxuICogU0NFIGFzc2lzdHMgaW4gd3JpdGluZyBjb2RlIGluIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzIHN1Y2ggYXMgWFNTLCBjbGlja2phY2tpbmcsIGV0Yy4gYSBsb3QgZWFzaWVyLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcbiAqXG4gKiBgYGBcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCI+XG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXG4gKiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2cgYXJ0aWNsZXMsIGV0Yy4gdmlhXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGFueSBzdWNoIGJpbmRpbmdzIGFyZSBkaXNhbGxvd2VkIHVubGVzcyB5b3UgY2FuXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcbiAqIGZvciB0aG9zZSB2YWx1ZXMgdGhhdCB5b3UgY2FuIGVhc2lseSB0ZWxsIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB5b3VyIHNlcnZlcixcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcbiAqIGV4cG9zZWQgYnkgdGhhdCBjb2RlIGRvZXNuJ3QgbWFya3VwIGFyYml0cmFyeSB2YWx1ZXMgYXMgc2FmZSB0aGVuIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cbiAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXG4gKlxuICpcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXG4gKiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBUaGlzIGFwcGxpZXMgYm90aCB0byB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nLWluY2x1ZGVgfSBkaXJlY3RpdmUgYXMgd2VsbCBhc1xuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICpcbiAqIEJ5IGRlZmF1bHQsIEFuZ3VsYXIgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdFxuICogdGhlbX0gb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgaXR9IGludG8gYSB0cnVzdGVkIHZhbHVlLlxuICpcbiAqICpQbGVhc2Ugbm90ZSo6XG4gKiBUaGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IGFwcGx5IGluIGFkZGl0aW9uIHRvIHRoaXMgYW5kIG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseVxuICogbG9hZGVkLiAgVGhpcyBtZWFucyB0aGF0IHdpdGhvdXQgdGhlIHJpZ2h0IENPUlMgcG9saWN5LCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpblxuICogd29uJ3Qgd29yayBvbiBhbGwgYnJvd3NlcnMuICBBbHNvLCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGBmaWxlOi8vYCBVUkwgZG9lcyBub3Qgd29yayBvbiBzb21lXG4gKiBicm93c2Vycy5cbiAqXG4gKiAjIyBUaGlzIGZlZWxzIGxpa2UgdG9vIG11Y2ggb3ZlcmhlYWRcbiAqXG4gKiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IFNDRSBvbmx5IGFwcGxpZXMgdG8gaW50ZXJwb2xhdGlvbiBleHByZXNzaW9ucy5cbiAqXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXG4gKiBjYWxsIGAkc2NlLnRydXN0QXNgIG9uIHRoZW0gKHJlbWVtYmVyIHRvIGluY2x1ZGUgdGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUpIChlLmcuXG4gKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgYGFbaHJlZl1gIGFuZCBgaW1nW3NyY11gIGF1dG9tYXRpY2FsbHkgc2FuaXRpemUgdGhlaXIgVVJMcyBhbmQgZG8gbm90IHBhc3MgdGhlbVxuICogdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0uICBTQ0UgZG9lc24ndCBwbGF5IGEgcm9sZSBoZXJlLlxuICpcbiAqIFRoZSBpbmNsdWRlZCB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gY29tZXMgd2l0aCBzYW5lIGRlZmF1bHRzIHRvIGFsbG93IHlvdSB0byBsb2FkXG4gKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xuICogc2VydmVkIGRvY3VtZW50LiAgWW91IGNhbiBjaGFuZ2UgdGhlc2UgYnkgc2V0dGluZyB5b3VyIG93biBjdXN0b20ge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxuICpcbiAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcbiAqIHNlY3VyaXR5IG9udG8gYW4gYXBwbGljYXRpb24gbGF0ZXIuXG4gKlxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxuICogIyMgV2hhdCB0cnVzdGVkIGNvbnRleHQgdHlwZXMgYXJlIHN1cHBvcnRlZD9cbiAqXG4gKiB8IENvbnRleHQgICAgICAgICAgICAgfCBOb3RlcyAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAkc2NlLkhUTUxgICAgICAgICAgfCBGb3IgSFRNTCB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBUaGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IGRpcmVjdGl2ZSB1c2VzIHRoaXMgY29udGV4dCBmb3IgYmluZGluZ3MuIElmIGFuIHVuc2FmZSB2YWx1ZSBpcyBlbmNvdW50ZXJlZCBhbmQgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX0gbW9kdWxlIGlzIHByZXNlbnQgdGhpcyB3aWxsIHNhbml0aXplIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiB8XG4gKiB8IGAkc2NlLkNTU2AgICAgICAgICAgfCBGb3IgQ1NTIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcbiAqIHwgYCRzY2UuVVJMYCAgICAgICAgICB8IEZvciBVUkxzIHRoYXQgYXJlIHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLiAgQ3VycmVudGx5IHVudXNlZCAoYDxhIGhyZWY9YCBhbmQgYDxpbWcgc3JjPWAgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4gfFxuICogfCBgJHNjZS5SRVNPVVJDRV9VUkxgIHwgRm9yIFVSTHMgdGhhdCBhcmUgbm90IG9ubHkgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MsIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgYWxzbyBzYWZlIHRvIGluY2x1ZGUgaW4geW91ciBhcHBsaWNhdGlvbi4gIEV4YW1wbGVzIGluY2x1ZGUgYG5nLWluY2x1ZGVgLCBgc3JjYCAvIGBuZ1NyY2AgYmluZGluZ3MgZm9yIHRhZ3Mgb3RoZXIgdGhhbiBgSU1HYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBhcmUgcmVxdWlyZWQuIHxcbiAqIHwgYCRzY2UuSlNgICAgICAgICAgICB8IEZvciBKYXZhU2NyaXB0IHRoYXQgaXMgc2FmZSB0byBleGVjdXRlIGluIHlvdXIgYXBwbGljYXRpb24ncyBjb250ZXh0LiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICpcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxuICpcbiAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogIC0gKionc2VsZicqKlxuICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXG4gKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xuICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJzsnLiAgSXQncyBhIHVzZWZ1bCB3aWxkY2FyZCBmb3IgdXNlXG4gKiAgICAgIGluIGEgd2hpdGVsaXN0LlxuICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdFxuICogICAgICBub3QgYXBwcm9wcmlhdGUgdG8gdXNlIGluIGZvciBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XG4gKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy5cbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxuICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheFxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxuICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZS4pLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXG4gKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAqICAgICAgaWYgdGhleSBhcyBhIGxhc3QgcmVzb3J0LlxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xuICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWRcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxuICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90XG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxuICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZFxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgZS5nLiBSdWJ5IGhhc1xuICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSlcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXG4gKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKFxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuXG4gKlxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJBcHBDb250cm9sbGVyIGFzIG15Q3RybFwiPlxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxuICogICAgIEJ5IGRlZmF1bHQsIEhUTUwgdGhhdCBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQgKGUuZy4gQWxpY2UncyBjb21tZW50KSBpcyBzYW5pdGl6ZWQgd2hlblxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxuICogICAgIGV4cGxvaXQuXG4gKiAgICAgPGRpdiBjbGFzcz1cIndlbGxcIj5cbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XG4gKiAgICAgICAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cInVzZXJDb21tZW50Lmh0bWxDb21tZW50XCIgY2xhc3M9XCJodG1sQ29tbWVudFwiPjwvc3Bhbj5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRzY2UnLFxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KFwidGVzdF9kYXRhLmpzb25cIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgICB9XSk7XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInRlc3RfZGF0YS5qc29uXCI+XG4gKiBbXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6XG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxuICogICB9LFxuICogICB7IFwibmFtZVwiOiBcIkJvYlwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcbiAqICAgfVxuICogXVxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnLmh0bWxDb21tZW50JykpLmZpcnN0KCkuZ2V0SW5uZXJIdG1sKCkpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgU0NFIGFuZCByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9O1xuXG5cbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXG4gICAqXG4gICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XG4gICAqXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcbiAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cbiAgICpcbiAgICogLSB2YWx1ZU9mKHZhbHVlKVxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcbiAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXG4gICAqXG4gICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiAgSW4gc29tZSBmdXR1cmUsIHdlXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJHBhcnNlLCAgICRzY2VEZWxlZ2F0ZSkge1xuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxuICAgICAqICAgcmVzb3VyY2VfdXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0h0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSHRtbCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEh0bWxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZSByZXR1cm5cbiAgICAgKiAgICAgdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRKc1xuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXG4gICAgICogdGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9KCkgY2FsbCBhbmQgcmV0dXJucyB0aGVcbiAgICAgKiBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUgY3JlYXRlZCB0eXBlLlxuICAgICAqIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG9cbiAgICAgKiAgICAgICAgICAgICAge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LlxuICAgICAqICAgICAgICAgICAgICBPdGhlcndpc2UsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZENzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEpzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNIdG1sKGV4cHJlc3Npb24gc3RyaW5nKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvLyBTaG9ydGhhbmQgZGVsZWdhdGlvbnMuXG4gICAgdmFyIHBhcnNlID0gc2NlLnBhcnNlQXMsXG4gICAgICAgIGdldFRydXN0ZWQgPSBzY2UuZ2V0VHJ1c3RlZCxcbiAgICAgICAgdHJ1c3RBcyA9IHNjZS50cnVzdEFzO1xuXG4gICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uKGVudW1WYWx1ZSwgbmFtZSkge1xuICAgICAgdmFyIGxOYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgICAgc2NlW2NhbWVsQ2FzZShcInBhcnNlX2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XG4gICAgICB9O1xuICAgICAgc2NlW2NhbWVsQ2FzZShcImdldF90cnVzdGVkX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJ0cnVzdF9hc19cIiArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RBcyhlbnVtVmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2NlO1xuICB9XTtcbn1cblxuLyoqXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgc2VydmljZSAhISFcbiAqXG4gKiBAbmFtZSAkc25pZmZlclxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhpc3RvcnkgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGh0bWw1IGhpc3RvcnkgYXBpID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNpdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyB0cmFuc2l0aW9uIGV2ZW50cyA/XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuXG4gKi9cbmZ1bmN0aW9uICRTbmlmZmVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICB2YXIgZXZlbnRTdXBwb3J0ID0ge30sXG4gICAgICAgIGFuZHJvaWQgPVxuICAgICAgICAgIGludCgoL2FuZHJvaWQgKFxcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSksXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXG4gICAgICAgIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9LFxuICAgICAgICB2ZW5kb3JQcmVmaXgsXG4gICAgICAgIHZlbmRvclJlZ2V4ID0gL14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxuICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgbWF0Y2g7XG5cbiAgICBpZiAoYm9keVN0eWxlKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGJvZHlTdHlsZSkge1xuICAgICAgICBpZiAobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gbWF0Y2hbMF07XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gdmVuZG9yUHJlZml4LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdmVuZG9yUHJlZml4LnN1YnN0cigxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZlbmRvclByZWZpeCkge1xuICAgICAgICB2ZW5kb3JQcmVmaXggPSAoJ1dlYmtpdE9wYWNpdHknIGluIGJvZHlTdHlsZSkgJiYgJ3dlYmtpdCc7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zaXRpb25zID0gISEoKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnVHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSk7XG4gICAgICBhbmltYXRpb25zICA9ICEhKCgnYW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnQW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpKTtcblxuICAgICAgaWYgKGFuZHJvaWQgJiYgKCF0cmFuc2l0aW9ucyB8fCAgIWFuaW1hdGlvbnMpKSB7XG4gICAgICAgIHRyYW5zaXRpb25zID0gaXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAvLyBBbmRyb2lkIGhhcyBoaXN0b3J5LnB1c2hTdGF0ZSwgYnV0IGl0IGRvZXMgbm90IHVwZGF0ZSBsb2NhdGlvbiBjb3JyZWN0bHlcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC5cbiAgICAgIC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9hbmRyb2lkL2lzc3Vlcy9kZXRhaWw/aWQ9MTc0NzFcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkwNFxuXG4gICAgICAvLyBvbGRlciB3ZWJraXQgYnJvd3NlciAoNTMzLjkpIG9uIEJveGVlIGJveCBoYXMgZXhhY3RseSB0aGUgc2FtZSBwcm9ibGVtIGFzIEFuZHJvaWQgaGFzXG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXG4gICAgICAvLyBXZSBhcmUgcHVycG9zZWZ1bGx5IHVzaW5nIGAhKGFuZHJvaWQgPCA0KWAgdG8gY292ZXIgdGhlIGNhc2Ugd2hlbiBgYW5kcm9pZGAgaXMgdW5kZWZpbmVkXG4gICAgICAvLyBqc2hpbnQgLVcwMThcbiAgICAgIGhpc3Rvcnk6ICEhKCR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlICYmICEoYW5kcm9pZCA8IDQpICYmICFib3hlZSksXG4gICAgICAvLyBqc2hpbnQgK1cwMThcbiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXG4gICAgICAgIC8vIGl0LiBJbiBwYXJ0aWN1bGFyIHRoZSBldmVudCBpcyBub3QgZmlyZWQgd2hlbiBiYWNrc3BhY2Ugb3IgZGVsZXRlIGtleSBhcmUgcHJlc3NlZCBvclxuICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxuICAgICAgICAvLyBJRTEwKyBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgYnV0IGl0IGVycm9uZW91c2x5IGZpcmVzIHVuZGVyIHZhcmlvdXMgc2l0dWF0aW9ucyxcbiAgICAgICAgLy8gZS5nLiB3aGVuIHBsYWNlaG9sZGVyIGNoYW5nZXMsIG9yIGEgZm9ybSBpcyBmb2N1c2VkLlxuICAgICAgICBpZiAoZXZlbnQgPT09ICdpbnB1dCcgJiYgbXNpZSA8PSAxMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudFN1cHBvcnRbZXZlbnRdKSkge1xuICAgICAgICAgIHZhciBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBldmVudFN1cHBvcnRbZXZlbnRdID0gJ29uJyArIGV2ZW50IGluIGRpdkVsbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xuICAgICAgfSxcbiAgICAgIGNzcDogY3NwKCksXG4gICAgICB2ZW5kb3JQcmVmaXg6IHZlbmRvclByZWZpeCxcbiAgICAgIHRyYW5zaXRpb25zOiB0cmFuc2l0aW9ucyxcbiAgICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgICBhbmRyb2lkOiBhbmRyb2lkXG4gICAgfTtcbiAgfV07XG59XG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkdGVtcGxhdGVSZXF1ZXN0YCBzZXJ2aWNlIGRvd25sb2FkcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdXNpbmcgYCRodHRwYCBhbmQsIHVwb24gc3VjY2VzcyxcbiAqIHN0b3JlcyB0aGUgY29udGVudHMgaW5zaWRlIG9mIGAkdGVtcGxhdGVDYWNoZWAuIElmIHRoZSBIVFRQIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGRhdGFcbiAqIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlIGV4Y2VwdGlvbiBjYW4gYmUgdGh3YXJ0ZWRcbiAqIGJ5IHNldHRpbmcgdGhlIDJuZCBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIHRvIHRydWUpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGlnbm9yZVJlcXVlc3RFcnJvciBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIGV4Y2VwdGlvbiB3aGVuIHRoZSByZXF1ZXN0IGZhaWxzIG9yIHRoZSB0ZW1wbGF0ZSBpcyBlbXB0eVxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBIVFRQIFByb21pc2UgZm9yIHRoZSBnaXZlbi5cbiAqXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgJyRodHRwJywgJyRxJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XG5cbiAgICAgIHZhciB0cmFuc2Zvcm1SZXNwb25zZSA9ICRodHRwLmRlZmF1bHRzICYmICRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO1xuXG4gICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1SZXNwb25zZSkpIHtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSB0cmFuc2Zvcm1SZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIgIT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm1SZXNwb25zZSA9PT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBodHRwT3B0aW9ucyA9IHtcbiAgICAgICAgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlLFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkaHR0cC5nZXQodHBsLCBodHRwT3B0aW9ucylcbiAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS07XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0sIGhhbmRsZUVycm9yKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzcCkge1xuICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxvYWQnLCAnRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGU6IHswfScsIHRwbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMgPSAwO1xuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RGbjtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICQkVGVzdGFiaWxpdHlQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRsb2NhdGlvbicsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkYnJvd3NlciwgICAkbG9jYXRpb24pIHtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICR0ZXN0YWJpbGl0eVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIHByaXZhdGUgJCR0ZXN0YWJpbGl0eSBzZXJ2aWNlIHByb3ZpZGVzIGEgY29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciB1c2Ugd2hlbiBkZWJ1Z2dpbmdcbiAgICAgKiBvciBieSBhdXRvbWF0ZWQgdGVzdCBhbmQgZGVidWdnaW5nIHRvb2xzLlxuICAgICAqL1xuICAgIHZhciB0ZXN0YWJpbGl0eSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNmaW5kQmluZGluZ3NcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgYm91bmQgKHZpYSBuZy1iaW5kIG9yIHt7fX0pXG4gICAgICogdG8gZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHJvb3QgdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGJpbmRpbmcgZXhwcmVzc2lvbiB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi4gRmlsdGVycyBhbmQgd2hpdGVzcGFjZSBhcmUgaWdub3JlZC5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5maW5kQmluZGluZ3MgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIGJpbmRpbmdzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZy1iaW5kaW5nJyk7XG4gICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykge1xuICAgICAgICB2YXIgZGF0YUJpbmRpbmcgPSBhbmd1bGFyLmVsZW1lbnQoYmluZGluZykuZGF0YSgnJGJpbmRpbmcnKTtcbiAgICAgICAgaWYgKGRhdGFCaW5kaW5nKSB7XG4gICAgICAgICAgZm9yRWFjaChkYXRhQmluZGluZywgZnVuY3Rpb24oYmluZGluZ05hbWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBlc2NhcGVGb3JSZWdleHAoZXhwcmVzc2lvbikgKyAnKFxcXFxzfFxcXFx8fCQpJyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVyLnRlc3QoYmluZGluZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoYmluZGluZ05hbWUuaW5kZXhPZihleHByZXNzaW9uKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cbiAgICAgKiBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgbW9kZWwgZXhwcmVzc2lvbiB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5maW5kTW9kZWxzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgIHZhciBwcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nXFxcXDonXTtcbiAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJlZml4ZXMubGVuZ3RoOyArK3ApIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUVxdWFscyA9IG9wdF9leGFjdE1hdGNoID8gJz0nIDogJyo9JztcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ1snICsgcHJlZml4ZXNbcF0gKyAnbW9kZWwnICsgYXR0cmlidXRlRXF1YWxzICsgJ1wiJyArIGV4cHJlc3Npb24gKyAnXCJdJztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2dldExvY2F0aW9uXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgbG9jYXRpb24gaW4gYSBicm93c2VyIGFnbm9zdGljIHdheS4gUmV0dXJuc1xuICAgICAqICAgICB0aGUgcGF0aCwgc2VhcmNoLCBhbmQgaGFzaC4gKGUuZy4gL3BhdGg/YT1iI2hhc2gpXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkbG9jYXRpb24udXJsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjc2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBuYXZpZ2F0aW5nIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkb2luZyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBsb2NhdGlvbiB1cmwgKHBhdGgsIHNlYXJjaCBhbmQgaGFzaCxcbiAgICAgKiAgICAgZS5nLiAvcGF0aD9hPWIjaGFzaCkgdG8gZ28gdG8uXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuc2V0TG9jYXRpb24gPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIGlmICh1cmwgIT09ICRsb2NhdGlvbi51cmwoKSkge1xuICAgICAgICAkbG9jYXRpb24udXJsKHVybCk7XG4gICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS53aGVuU3RhYmxlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGVzdGFiaWxpdHk7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHEnLCAnJCRxJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRxLCAgICQkcSwgICAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHZhciBkZWZlcnJlZHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkdGltZW91dFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaFxuICAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXG4gICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICpcbiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiByZWdpc3RlcmluZyBhIHRpbWVvdXQgZnVuY3Rpb24gaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgICogdGhlIHRpbWVvdXQgaXMgcmVhY2hlZCBhbmQgdGhlIHRpbWVvdXQgZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4gICAgICAqXG4gICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvXG4gICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG9zZSBleGVjdXRpb24gc2hvdWxkIGJlIGRlbGF5ZWQuXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIERlbGF5IGluIG1pbGxpc2Vjb25kcy5cbiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcbiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXG4gICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuIFRoZSB2YWx1ZSB0aGlzXG4gICAgICAqICAgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGggaXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYGZuYCBmdW5jdGlvbi5cbiAgICAgICpcbiAgICAgICovXG4gICAgZnVuY3Rpb24gdGltZW91dChmbiwgZGVsYXksIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICB0aW1lb3V0SWQ7XG5cbiAgICAgIHRpbWVvdXRJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBwcm9taXNlLiQkdGltZW91dElkID0gdGltZW91dElkO1xuICAgICAgZGVmZXJyZWRzW3RpbWVvdXRJZF0gPSBkZWZlcnJlZDtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAgICAqICAgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIHRpbWVvdXQuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbWVvdXQ7XG4gIH1dO1xufVxuXG4vLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xuLy8gZGVsaWJlcmF0ZS4gIFRoaXMgc2VydmljZSBkZXBlbmRzIG9uIHRoZSBzcGVjaWZpYyBiZWhhdmlvciBvZiBhbmNob3Igbm9kZXMgY3JlYXRlZCBieSB0aGVcbi8vIGJyb3dzZXIgKHJlc29sdmluZyBhbmQgcGFyc2luZyBVUkxzKSB0aGF0IGlzIHVubGlrZWx5IHRvIGJlIHByb3ZpZGVkIGJ5IG1vY2sgb2JqZWN0cyBhbmRcbi8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcbi8vIGRvZXNuJ3Qga25vdyBhYm91dCBtb2NrZWQgbG9jYXRpb25zIGFuZCByZXNvbHZlcyBVUkxzIHRvIHRoZSByZWFsIGRvY3VtZW50IC0gd2hpY2ggaXNcbi8vIGV4YWN0bHkgdGhlIGJlaGF2aW9yIG5lZWRlZCBoZXJlLiAgVGhlcmUgaXMgbGl0dGxlIHZhbHVlIGlzIG1vY2tpbmcgdGhlc2Ugb3V0IGZvciB0aGlzXG4vLyBzZXJ2aWNlLlxudmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cblxuLyoqXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErLCBPcGVyYSA3KyxlIGV0Yy4gIFNlZVxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElFID49IDggYW5kIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cbiAqXG4gKiBJRTcgZG9lcyBub3Qgbm9ybWFsaXplIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byBhbiBhbmNob3Igbm9kZS4gIChBcHBhcmVudGx5LCBpdCBkb2VzLCBpZiBvbmVcbiAqIHVzZXMgdGhlIGlubmVyIEhUTUwgYXBwcm9hY2ggdG8gYXNzaWduIHRoZSBVUkwgYXMgcGFydCBvZiBhbiBIVE1MIHNuaXBwZXQgLVxuICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDcyNzI5KSAgSG93ZXZlciwgc2V0dGluZyBpbWdbc3JjXSBkb2VzIG5vcm1hbGl6ZSB0aGUgVVJMLlxuICogVW5mb3J0dW5hdGVseSwgc2V0dGluZyBpbWdbc3JjXSB0byBzb21ldGhpbmcgbGlrZSBcImphdmFzY3JpcHQ6Zm9vXCIgb24gSUUgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAqIFNpbmNlIHRoZSBwcmltYXJ5IHVzYWdlIGZvciBub3JtYWxpemluZyBVUkxzIGlzIHRvIHNhbml0aXplIHN1Y2ggVVJMcywgd2UgY2FuJ3QgdXNlIHRoYXRcbiAqIG1ldGhvZCBhbmQgSUUgPCA4IGlzIHVuc3VwcG9ydGVkLlxuICpcbiAqIFJlZmVyZW5jZXM6XG4gKiAgIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxBbmNob3JFbGVtZW50XG4gKiAgIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxuICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzI5MDJcbiAqICAgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3BhcnNpbmctdXJscy13aXRoLXRoZS1kb20vXG4gKlxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWQuXG4gKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLlxuICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBVUkwgYXMgYSBkaWN0aW9uYXJ5LlxuICpcbiAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfFxuICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiAgIHwgaHJlZiAgICAgICAgICB8IEEgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBwcm92aWRlZCBVUkwgaWYgaXQgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwgfFxuICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBob3N0ICAgICAgICAgIHwgVGhlIGhvc3QgYW5kIHBvcnQgKGlmIHRoZSBwb3J0IGlzIG5vbi1kZWZhdWx0KSBvZiB0aGUgbm9ybWFsaXplZFVybCAgICB8XG4gKiAgIHwgc2VhcmNoICAgICAgICB8IFRoZSBzZWFyY2ggcGFyYW1zLCBtaW51cyB0aGUgcXVlc3Rpb24gbWFyayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbFxuICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWVcbiAqICAgfCBwb3J0ICAgICAgICAgIHwgVGhlIHBvcnQsIHdpdGhvdXQgXCI6XCJcbiAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIlxuICpcbiAqL1xuZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpIHtcbiAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgaWYgKG1zaWUpIHtcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xuICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICB9XG5cbiAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICByZXR1cm4ge1xuICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXG4gICAgICA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICA6ICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSByZXF1ZXN0IFVSTCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHNhbWUtb3JpZ2luIHJlcXVlc3QgYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVxdWVzdFVybCBUaGUgdXJsIG9mIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxuICogb3IgYSBwYXJzZWQgVVJMIG9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGZvciB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICovXG5mdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCkge1xuICB2YXIgcGFyc2VkID0gKGlzU3RyaW5nKHJlcXVlc3RVcmwpKSA/IHVybFJlc29sdmUocmVxdWVzdFVybCkgOiByZXF1ZXN0VXJsO1xuICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVXJsLnByb3RvY29sICYmXG4gICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVybC5ob3N0KTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXG4gKiBpcyBnbG9iYWxseSBhdmFpbGFibGUgaW4gSmF2YVNjcmlwdCwgaXQgY2F1c2VzIHRlc3RhYmlsaXR5IHByb2JsZW1zLCBiZWNhdXNlXG4gKiBpdCBpcyBhIGdsb2JhbCB2YXJpYWJsZS4gSW4gYW5ndWxhciB3ZSBhbHdheXMgcmVmZXIgdG8gaXQgdGhyb3VnaCB0aGVcbiAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogRXhwcmVzc2lvbnMsIGxpa2UgdGhlIG9uZSBkZWZpbmVkIGZvciB0aGUgYG5nQ2xpY2tgIGRpcmVjdGl2ZSBpbiB0aGUgZXhhbXBsZVxuICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xuICogbm8gcmlzayBvZiBpbmFkdmVydGVudGx5IGNvZGluZyBpbiBhIGRlcGVuZGVuY3kgb24gYSBnbG9iYWwgdmFsdWUgaW4gc3VjaCBhblxuICogZXhwcmVzc2lvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwid2luZG93RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnd2luZG93RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XG4gICAgICAgICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ0hlbGxvLCBXb3JsZCEnO1xuICAgICAgICAgICAgICRzY29wZS5kb0dyZWV0aW5nID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJncmVldGluZ1wiIC8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZ3JlZXRpbmcgaW4gdGhlIGlucHV0IGJveCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2dyZWV0aW5nJykpLnNlbmRLZXlzKCdIZWxsbywgRTJFIFRlc3RzJyk7XG4gICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxuICAgICAgIC8vIGVsZW1lbnQoJzpidXR0b24nKS5jbGljaygpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSB2YWx1ZUZuKHdpbmRvdyk7XG59XG5cbi8qIGdsb2JhbCBjdXJyZW5jeUZpbHRlcjogdHJ1ZSxcbiBkYXRlRmlsdGVyOiB0cnVlLFxuIGZpbHRlckZpbHRlcjogdHJ1ZSxcbiBqc29uRmlsdGVyOiB0cnVlLFxuIGxpbWl0VG9GaWx0ZXI6IHRydWUsXG4gbG93ZXJjYXNlRmlsdGVyOiB0cnVlLFxuIG51bWJlckZpbHRlcjogdHJ1ZSxcbiBvcmRlckJ5RmlsdGVyOiB0cnVlLFxuIHVwcGVyY2FzZUZpbHRlcjogdHJ1ZSxcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGZpbHRlclByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBGaWx0ZXJzIGFyZSBqdXN0IGZ1bmN0aW9ucyB3aGljaCB0cmFuc2Zvcm0gaW5wdXQgdG8gYW4gb3V0cHV0LiBIb3dldmVyIGZpbHRlcnMgbmVlZCB0byBiZVxuICogRGVwZW5kZW5jeSBJbmplY3RlZC4gVG8gYWNoaWV2ZSB0aGlzIGEgZmlsdGVyIGRlZmluaXRpb24gY29uc2lzdHMgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIGlzXG4gKiBhbm5vdGF0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uXG4gKiAgIGZ1bmN0aW9uIE15TW9kdWxlKCRwcm92aWRlLCAkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAvLyBjcmVhdGUgYSBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIGluamVjdGlvbiAobm90IGFsd2F5cyBuZWVkZWQpXG4gKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7XG4gKiAgICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xuICogICAgIH0pO1xuICpcbiAqICAgICAvLyByZWdpc3RlciBhIGZpbHRlciBmYWN0b3J5IHdoaWNoIHVzZXMgdGhlXG4gKiAgICAgLy8gZ3JlZXQgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBESS5cbiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpe1xuICogICAgICAgLy8gcmV0dXJuIHRoZSBmaWx0ZXIgZnVuY3Rpb24gd2hpY2ggdXNlcyB0aGUgZ3JlZXQgc2VydmljZVxuICogICAgICAgLy8gdG8gZ2VuZXJhdGUgc2FsdXRhdGlvblxuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcbiAqICAgICAgICAgLy8gZmlsdGVycyBuZWVkIHRvIGJlIGZvcmdpdmluZyBzbyBjaGVjayBpbnB1dCB2YWxpZGl0eVxuICogICAgICAgICByZXR1cm4gdGV4dCAmJiBncmVldCh0ZXh0KSB8fCB0ZXh0O1xuICogICAgICAgfTtcbiAqICAgICB9KTtcbiAqICAgfVxuICogYGBgXG4gKlxuICogVGhlIGZpbHRlciBmdW5jdGlvbiBpcyByZWdpc3RlcmVkIHdpdGggdGhlIGAkaW5qZWN0b3JgIHVuZGVyIHRoZSBmaWx0ZXIgbmFtZSBzdWZmaXggd2l0aFxuICogYEZpbHRlcmAuXG4gKlxuICogYGBganNcbiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdChcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigncmV2ZXJzZScsIGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIHJldHVybiAuLi47XG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHtcbiAqICAgICAgIGV4cGVjdCgkZmlsdGVyKCdyZXZlcnNlJykpLnRvQmUocmV2ZXJzZUZpbHRlcik7XG4gKiAgICAgfSk7XG4gKiBgYGBcbiAqXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IGFuZ3VsYXIgZmlsdGVycyB3b3JrLCBhbmQgaG93IHRvIGNyZWF0ZSB5b3VyIG93biBmaWx0ZXJzLCBzZWVcbiAqIHtAbGluayBndWlkZS9maWx0ZXIgRmlsdGVyc30gaW4gdGhlIEFuZ3VsYXIgRGV2ZWxvcGVyIEd1aWRlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgZGF0YSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIuXG4gKlxuICogVGhlIGdlbmVyYWwgc3ludGF4IGluIHRlbXBsYXRlcyBpcyBhcyBmb2xsb3dzOlxuICpcbiAqICAgICAgICAge3sgZXhwcmVzc2lvbiBbfCBmaWx0ZXJfbmFtZVs6cGFyYW1ldGVyX3ZhbHVlXSAuLi4gXSB9fVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiB0byByZXRyaWV2ZVxuICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBmaWx0ZXIgZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwiJGZpbHRlclwiIG1vZHVsZT1cImZpbHRlckV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ3RybFwiPlxuICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz5cbiAgICAgICAgPGgzPnt7IGZpbHRlcmVkVGV4dCB9fTwvaDM+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZmlsdGVyRXhhbXBsZScsIFtdKVxuICAgICAgLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7XG4gICAgICAgICRzY29wZS5vcmlnaW5hbFRleHQgPSAnaGVsbG8nO1xuICAgICAgICAkc2NvcGUuZmlsdGVyZWRUZXh0ID0gJGZpbHRlcigndXBwZXJjYXNlJykoJHNjb3BlLm9yaWdpbmFsVGV4dCk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAqL1xuJEZpbHRlclByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJ107XG5mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpIHtcbiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRmaWx0ZXJQcm92aWRlciNyZWdpc3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBvciBhbiBvYmplY3QgbWFwIG9mIGZpbHRlcnMgd2hlcmVcbiAgICogICAgdGhlIGtleXMgYXJlIHRoZSBmaWx0ZXIgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmaWx0ZXIgZmFjdG9yaWVzLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcFxuICAgKiAgICBvZiB0aGUgcmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2VzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkge1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgIGZvckVhY2gobmFtZSwgZnVuY3Rpb24oZmlsdGVyLCBrZXkpIHtcbiAgICAgICAgZmlsdGVyc1trZXldID0gcmVnaXN0ZXIoa2V5LCBmaWx0ZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlsdGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICRwcm92aWRlLmZhY3RvcnkobmFtZSArIHN1ZmZpeCwgZmFjdG9yeSk7XG4gICAgfVxuICB9XG4gIHRoaXMucmVnaXN0ZXIgPSByZWdpc3RlcjtcblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcbiAgICB9O1xuICB9XTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyogZ2xvYmFsXG4gICAgY3VycmVuY3lGaWx0ZXI6IGZhbHNlLFxuICAgIGRhdGVGaWx0ZXI6IGZhbHNlLFxuICAgIGZpbHRlckZpbHRlcjogZmFsc2UsXG4gICAganNvbkZpbHRlcjogZmFsc2UsXG4gICAgbGltaXRUb0ZpbHRlcjogZmFsc2UsXG4gICAgbG93ZXJjYXNlRmlsdGVyOiBmYWxzZSxcbiAgICBudW1iZXJGaWx0ZXI6IGZhbHNlLFxuICAgIG9yZGVyQnlGaWx0ZXI6IGZhbHNlLFxuICAgIHVwcGVyY2FzZUZpbHRlcjogZmFsc2UsXG4gICovXG5cbiAgcmVnaXN0ZXIoJ2N1cnJlbmN5JywgY3VycmVuY3lGaWx0ZXIpO1xuICByZWdpc3RlcignZGF0ZScsIGRhdGVGaWx0ZXIpO1xuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2pzb24nLCBqc29uRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xpbWl0VG8nLCBsaW1pdFRvRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdudW1iZXInLCBudW1iZXJGaWx0ZXIpO1xuICByZWdpc3Rlcignb3JkZXJCeScsIG9yZGVyQnlGaWx0ZXIpO1xuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc291cmNlIGFycmF5LlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxuICogICBgYXJyYXlgLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYHN0cmluZ2A6IFRoZSBzdHJpbmcgaXMgdXNlZCBmb3IgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgY29udGVudHMgb2YgdGhlIGBhcnJheWAuIEFsbCBzdHJpbmdzIG9yXG4gKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cbiAqICAgICBhcHBsaWVzIHRvIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy5cbiAqICAgICBUaGUgcHJlZGljYXRlIGNhbiBiZSBuZWdhdGVkIGJ5IHByZWZpeGluZyB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICpcbiAqICAgLSBgT2JqZWN0YDogQSBwYXR0ZXJuIG9iamVjdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgc3BlY2lmaWMgcHJvcGVydGllcyBvbiBvYmplY3RzIGNvbnRhaW5lZFxuICogICAgIGJ5IGBhcnJheWAuIEZvciBleGFtcGxlIGB7bmFtZTpcIk1cIiwgcGhvbmU6XCIxXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXNcbiAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxuICogICAgIHByb3BlcnR5IG5hbWUgYCRgIGNhbiBiZSB1c2VkIChhcyBpbiBgeyQ6XCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2ggYWdhaW5zdCBhbnlcbiAqICAgICBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IG9yIGl0cyBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIFRoYXQncyBlcXVpdmFsZW50IHRvIHRoZSBzaW1wbGVcbiAqICAgICBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgIGFzIGRlc2NyaWJlZCBhYm92ZS4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmdcbiAqICAgICB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICogICAgIEZvciBleGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXG4gKiAgICAgbm90IGNvbnRhaW5pbmcgXCJNXCIuXG4gKlxuICogICAgIE5vdGUgdGhhdCBhIG5hbWVkIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvbmx5LCB3aGlsZSB0aGUgc3BlY2lhbFxuICogICAgIGAkYCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb3IgZGVlcGVyLiBFLmcuIGFuIGFycmF5IGl0ZW0gbGlrZVxuICogICAgIGB7bmFtZToge2ZpcnN0OiAnSm9obicsIGxhc3Q6ICdEb2UnfX1gIHdpbGwgKipub3QqKiBiZSBtYXRjaGVkIGJ5IGB7bmFtZTogJ0pvaG4nfWAsIGJ1dFxuICogICAgICoqd2lsbCoqIGJlIG1hdGNoZWQgYnkgYHskOiAnSm9obid9YC5cbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKHZhbHVlLCBpbmRleClgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy4gVGhlXG4gKiAgICAgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YC4gVGhlIGZpbmFsIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aG9zZVxuICogICAgIGVsZW1lbnRzIHRoYXQgdGhlIHByZWRpY2F0ZSByZXR1cm5lZCB0cnVlIGZvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpfHRydWV8dW5kZWZpbmVkfSBjb21wYXJhdG9yIENvbXBhcmF0b3Igd2hpY2ggaXMgdXNlZCBpblxuICogICAgIGRldGVybWluaW5nIGlmIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWwgdmFsdWUgKGZyb21cbiAqICAgICB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaC5cbiAqXG4gKiAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAtIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKWA6XG4gKiAgICAgVGhlIGZ1bmN0aW9uIHdpbGwgYmUgZ2l2ZW4gdGhlIG9iamVjdCB2YWx1ZSBhbmQgdGhlIHByZWRpY2F0ZSB2YWx1ZSB0byBjb21wYXJlIGFuZFxuICogICAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiBib3RoIHZhbHVlcyBzaG91bGQgYmUgY29uc2lkZXJlZCBlcXVhbC5cbiAqXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpfWAuXG4gKiAgICAgVGhpcyBpcyBlc3NlbnRpYWxseSBzdHJpY3QgY29tcGFyaXNvbiBvZiBleHBlY3RlZCBhbmQgYWN0dWFsLlxuICpcbiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxuXG4gICAgICAgU2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+XG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8aHI+XG4gICAgICAgQW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPiA8YnI+XG4gICAgICAgTmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PGJyPlxuICAgICAgIFBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PGJyPlxuICAgICAgIEVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjxicj5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xuICAgICAgICAgZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoa2V5ICsgJyBpbiBmcmllbmRzJykuY29sdW1uKGtleSArICcubmFtZScpKS50aGVuKGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgfSk7XG4gICAgICAgfTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xuXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKb2huJywgJ0p1bGllJ10sICdmcmllbmQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGluIHNwZWNpZmljIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgcHJlZGljYXRlIG9iamVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hBbnkuc2VuZEtleXMoJ2knKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVzZSBhIGVxdWFsIGNvbXBhcmlzb24gd2hlbiBjb21wYXJhdG9yIGlzIHRydWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xuICAgICAgICAgc2VhcmNoTmFtZS5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKdWxpZSddLCAnZnJpZW5kT2JqJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSByZXR1cm4gYXJyYXk7XG5cbiAgICB2YXIgcHJlZGljYXRlRm47XG4gICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiBleHByZXNzaW9uKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gZXhwcmVzc2lvbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBtYXRjaEFnYWluc3RBbnlQcm9wID0gdHJ1ZTtcbiAgICAgICAgLy9qc2hpbnQgLVcwODZcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIC8vanNoaW50ICtXMDg2XG4gICAgICAgIHByZWRpY2F0ZUZuID0gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheS5maWx0ZXIocHJlZGljYXRlRm4pO1xuICB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBgZmlsdGVyRmlsdGVyYFxuZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKCckJyBpbiBleHByZXNzaW9uKTtcbiAgdmFyIHByZWRpY2F0ZUZuO1xuXG4gIGlmIChjb21wYXJhdG9yID09PSB0cnVlKSB7XG4gICAgY29tcGFyYXRvciA9IGVxdWFscztcbiAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjb21wYXJhdG9yKSkge1xuICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYWN0dWFsKSB8fCBpc09iamVjdChleHBlY3RlZCkpIHtcbiAgICAgICAgLy8gUHJldmVudCBhbiBvYmplY3QgdG8gYmUgY29uc2lkZXJlZCBlcXVhbCB0byBhIHN0cmluZyBsaWtlIGAnW29iamVjdCdgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgYWN0dWFsID0gbG93ZXJjYXNlKCcnICsgYWN0dWFsKTtcbiAgICAgIGV4cGVjdGVkID0gbG93ZXJjYXNlKCcnICsgZXhwZWN0ZWQpO1xuICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSAhPT0gLTE7XG4gICAgfTtcbiAgfVxuXG4gIHByZWRpY2F0ZUZuID0gZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChzaG91bGRNYXRjaFByaW1pdGl2ZXMgJiYgIWlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbi4kLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfTtcblxuICByZXR1cm4gcHJlZGljYXRlRm47XG59XG5cbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XG4gIHZhciBhY3R1YWxUeXBlID0gdHlwZW9mIGFjdHVhbDtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IHR5cGVvZiBleHBlY3RlZDtcblxuICBpZiAoKGV4cGVjdGVkVHlwZSA9PT0gJ3N0cmluZycpICYmIChleHBlY3RlZC5jaGFyQXQoMCkgPT09ICchJykpIHtcbiAgICByZXR1cm4gIWRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQuc3Vic3RyaW5nKDEpLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGFjdHVhbCkpIHtcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXG4gICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgfSk7XG4gIH1cblxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIGtleTtcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gICAgICAgIGZvciAoa2V5IGluIGFjdHVhbCkge1xuICAgICAgICAgIGlmICgoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIHRydWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbnRNYXRjaFdob2xlT2JqZWN0ID8gZmFsc2UgOiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVmFsKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1hdGNoQW55UHJvcGVydHkgPSBrZXkgPT09ICckJztcbiAgICAgICAgICB2YXIgYWN0dWFsVmFsID0gbWF0Y2hBbnlQcm9wZXJ0eSA/IGFjdHVhbCA6IGFjdHVhbFtrZXldO1xuICAgICAgICAgIGlmICghZGVlcENvbXBhcmUoYWN0dWFsVmFsLCBleHBlY3RlZFZhbCwgY29tcGFyYXRvciwgbWF0Y2hBbnlQcm9wZXJ0eSwgbWF0Y2hBbnlQcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBjdXJyZW5jeVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBjdXJyZW5jeSAoaWUgJDEsMjM0LjU2KS4gV2hlbiBubyBjdXJyZW5jeSBzeW1ib2wgaXMgcHJvdmlkZWQsIGRlZmF1bHRcbiAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IElucHV0IHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgYW1vdW50IHRvLCBkZWZhdWx0cyB0byBkZWZhdWx0IG1heCBmcmFjdGlvbiBzaXplIGZvciBjdXJyZW50IGxvY2FsZVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIG51bWJlci5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiPiA8YnI+XG4gICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktZGVmYXVsdFwiPnt7YW1vdW50IHwgY3VycmVuY3l9fTwvc3Bhbj48YnI+XG4gICAgICAgICBjdXN0b20gY3VycmVuY3kgaWRlbnRpZmllciAoVVNEJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktY3VzdG9tXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIn19PC9zcGFuPlxuICAgICAgICAgbm8gZnJhY3Rpb25zICgwKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1uby1mcmFjdGlvbnNcIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwiOjB9fTwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBpbml0IHdpdGggMTIzNC41NicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCckMSwyMzQuNTYnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzQuNTYnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzUnKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXG4gICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MVxuICAgICAgICAgICByZXR1cm47XG4gICAgICAgICB9XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5zZW5kS2V5cygnLTEyMzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnKCQxLDIzNC4wMCknKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCcoVVNEJDEsMjM0LjAwKScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJyhVU0QkMSwyMzQpJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuY3VycmVuY3lGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xuZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihhbW91bnQsIGN1cnJlbmN5U3ltYm9sLCBmcmFjdGlvblNpemUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7XG4gICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XG4gICAgfVxuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcbiAgICAgICAgPyBhbW91bnRcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cbiAgICAgICAgICAgIHJlcGxhY2UoL1xcdTAwQTQvZywgY3VycmVuY3lTeW1ib2wpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG51bWJlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gZGVjaW1hbFBsYWNlcyBhbmQgcGxhY2VzIGEg4oCcLOKAnSBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJGaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgRW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PGJyPlxuICAgICAgICAgRGVmYXVsdCBmb3JtYXR0aW5nOiA8c3BhbiBpZD0nbnVtYmVyLWRlZmF1bHQnPnt7dmFsIHwgbnVtYmVyfX08L3NwYW4+PGJyPlxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxuICAgICAgICAgTmVnYXRpdmUgbnVtYmVyOiA8c3Bhbj57ey12YWwgfCBudW1iZXI6NH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMSwyMzUnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuc2VuZEtleXMoJzMzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0zLDM3NC4zMzMwJyk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxubnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKG51bWJlciA9PSBudWxsKVxuICAgICAgICA/IG51bWJlclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxuICAgICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblNpemUpO1xuICB9O1xufVxuXG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XG4gIGlmICghaXNGaW5pdGUobnVtYmVyKSB8fCBpc09iamVjdChudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1iZXIgPCAwO1xuICBudW1iZXIgPSBNYXRoLmFicyhudW1iZXIpO1xuICB2YXIgbnVtU3RyID0gbnVtYmVyICsgJycsXG4gICAgICBmb3JtYXRlZFRleHQgPSAnJyxcbiAgICAgIHBhcnRzID0gW107XG5cbiAgdmFyIGhhc0V4cG9uZW50ID0gZmFsc2U7XG4gIGlmIChudW1TdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhciBtYXRjaCA9IG51bVN0ci5tYXRjaCgvKFtcXGRcXC5dKyllKC0/KShcXGQrKS8pO1xuICAgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PSAnLScgJiYgbWF0Y2hbM10gPiBmcmFjdGlvblNpemUgKyAxKSB7XG4gICAgICBudW1iZXIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtYXRlZFRleHQgPSBudW1TdHI7XG4gICAgICBoYXNFeHBvbmVudCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYXNFeHBvbmVudCkge1xuICAgIHZhciBmcmFjdGlvbkxlbiA9IChudW1TdHIuc3BsaXQoREVDSU1BTF9TRVApWzFdIHx8ICcnKS5sZW5ndGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gTWF0aC5taW4oTWF0aC5tYXgocGF0dGVybi5taW5GcmFjLCBmcmFjdGlvbkxlbiksIHBhdHRlcm4ubWF4RnJhYyk7XG4gICAgfVxuXG4gICAgLy8gc2FmZWx5IHJvdW5kIG51bWJlcnMgaW4gSlMgd2l0aG91dCBoaXR0aW5nIGltcHJlY2lzaW9ucyBvZiBmbG9hdGluZy1wb2ludCBhcml0aG1ldGljc1xuICAgIC8vIGluc3BpcmVkIGJ5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcbiAgICBudW1iZXIgPSArKE1hdGgucm91bmQoKyhudW1iZXIudG9TdHJpbmcoKSArICdlJyArIGZyYWN0aW9uU2l6ZSkpLnRvU3RyaW5nKCkgKyAnZScgKyAtZnJhY3Rpb25TaXplKTtcblxuICAgIHZhciBmcmFjdGlvbiA9ICgnJyArIG51bWJlcikuc3BsaXQoREVDSU1BTF9TRVApO1xuICAgIHZhciB3aG9sZSA9IGZyYWN0aW9uWzBdO1xuICAgIGZyYWN0aW9uID0gZnJhY3Rpb25bMV0gfHwgJyc7XG5cbiAgICB2YXIgaSwgcG9zID0gMCxcbiAgICAgICAgbGdyb3VwID0gcGF0dGVybi5sZ1NpemUsXG4gICAgICAgIGdyb3VwID0gcGF0dGVybi5nU2l6ZTtcblxuICAgIGlmICh3aG9sZS5sZW5ndGggPj0gKGxncm91cCArIGdyb3VwKSkge1xuICAgICAgcG9zID0gd2hvbGUubGVuZ3RoIC0gbGdyb3VwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHBvczsgaSsrKSB7XG4gICAgICAgIGlmICgocG9zIC0gaSkgJSBncm91cCA9PT0gMCAmJiBpICE9PSAwKSB7XG4gICAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IGdyb3VwU2VwO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdGVkVGV4dCArPSB3aG9sZS5jaGFyQXQoaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gcG9zOyBpIDwgd2hvbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICgod2hvbGUubGVuZ3RoIC0gaSkgJSBsZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgICBmb3JtYXRlZFRleHQgKz0gZ3JvdXBTZXA7XG4gICAgICB9XG4gICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBmcmFjdGlvbiBwYXJ0LlxuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCBmcmFjdGlvblNpemUpIHtcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoZnJhY3Rpb25TaXplICYmIGZyYWN0aW9uU2l6ZSAhPT0gXCIwXCIpIGZvcm1hdGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZnJhY3Rpb24uc3Vic3RyKDAsIGZyYWN0aW9uU2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGZyYWN0aW9uU2l6ZSA+IDAgJiYgbnVtYmVyIDwgMSkge1xuICAgICAgZm9ybWF0ZWRUZXh0ID0gbnVtYmVyLnRvRml4ZWQoZnJhY3Rpb25TaXplKTtcbiAgICAgIG51bWJlciA9IHBhcnNlRmxvYXQoZm9ybWF0ZWRUZXh0KTtcbiAgICB9XG4gIH1cblxuICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgcGFydHMucHVzaChpc05lZ2F0aXZlID8gcGF0dGVybi5uZWdQcmUgOiBwYXR0ZXJuLnBvc1ByZSxcbiAgICAgICAgICAgICBmb3JtYXRlZFRleHQsXG4gICAgICAgICAgICAgaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnU3VmIDogcGF0dGVybi5wb3NTdWYpO1xuICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSkge1xuICB2YXIgbmVnID0gJyc7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgbmVnID0gICctJztcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIG51bSA9ICcnICsgbnVtO1xuICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gJzAnICsgbnVtO1xuICBpZiAodHJpbSlcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICByZXR1cm4gbmVnICsgbnVtO1xufVxuXG5cbmZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSwgc2l6ZSwgb2Zmc2V0LCB0cmltKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xuICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldClcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgZ2V0ID0gdXBwZXJjYXNlKHNob3J0Rm9ybSA/ICgnU0hPUlQnICsgbmFtZSkgOiBuYW1lKTtcblxuICAgIHJldHVybiBmb3JtYXRzW2dldF1bdmFsdWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlKSB7XG4gIHZhciB6b25lID0gLTEgKiBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XG5cbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XG5cbiAgcmV0dXJuIHBhZGRlZFpvbmU7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcblxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcblxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xuICAgfTtcbn1cblxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xufVxuXG52YXIgREFURV9GT1JNQVRTID0ge1xuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQpLFxuICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUpLFxuICAgICB5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDEpLFxuICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxuICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxuICAgIE1NOiBkYXRlR2V0dGVyKCdNb250aCcsIDIsIDEpLFxuICAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxuICAgICBhOiBhbXBtR2V0dGVyLFxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcbiAgICB3dzogd2Vla0dldHRlcigyKSxcbiAgICAgdzogd2Vla0dldHRlcigxKVxufTtcblxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TWRIaG1zYVpFdyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8Wnx3KykpKC4qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBkYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBGb3JtYXRzIGBkYXRlYCB0byBhIHN0cmluZyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGBmb3JtYXRgLlxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuICpcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcbiAqICAgKiBgJ3knYDogMSBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBlLmcuIChBRCAxID0+IDEsIEFEIDE5OSA9PiAxOTkpXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcbiAqICAgKiBgJ01NJ2A6IE1vbnRoIGluIHllYXIsIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXG4gKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcbiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXG4gKiAgICogYCdoaCdgOiBIb3VyIGluIEFNL1BNLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSlcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXG4gKiAgICogYCdzc3MnYDogTWlsbGlzZWNvbmQgaW4gc2Vjb25kLCBwYWRkZWQgKDAwMC05OTkpXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxuICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApXG4gKiAgICogYCd3dydgOiBXZWVrIG9mIHllYXIsIHBhZGRlZCAoMDAtNTMpLiBXZWVrIDAxIGlzIHRoZSB3ZWVrIHdpdGggdGhlIGZpcnN0IFRodXJzZGF5IG9mIHRoZSB5ZWFyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWRcbiAqICAge0BsaW5rIGd1aWRlL2kxOG4gbG9jYWxpemFibGUgZm9ybWF0c306XG4gKlxuICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlXG4gKiAgICAgKGUuZy4gU2VwIDMsIDIwMTAgMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydCdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5IGg6bW0gYSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIDkvMy8xMCAxMjowNSBQTSlcbiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZVxuICogICAgIChlLmcuIEZyaWRheSwgU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdsb25nRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdtZWRpdW1EYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcCAzLCAyMDEwKVxuICogICAqIGAnc2hvcnREYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXknYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDkvMy8xMClcbiAqICAgKiBgJ21lZGl1bVRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydFRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW0gYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDUgUE0pXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGNvbnRhaW4gbGl0ZXJhbCB2YWx1ZXMuIFRoZXNlIG5lZWQgdG8gYmUgZXNjYXBlZCBieSBzdXJyb3VuZGluZyB3aXRoIHNpbmdsZSBxdW90ZXMgKGUuZy5cbiAqICAgYFwiaCAnaW4gdGhlIG1vcm5pbmcnXCJgKS4gSW4gb3JkZXIgdG8gb3V0cHV0IGEgc2luZ2xlIHF1b3RlLCBlc2NhcGUgaXQgLSBpLmUuLCB0d28gc2luZ2xlIHF1b3RlcyBpbiBhIHNlcXVlbmNlXG4gKiAgIChlLmcuIGBcImggJ28nJ2Nsb2NrJ1wiYCkuXG4gKlxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcbiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXNcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gUmlnaHQgbm93LCBvbmx5IGAnVVRDJ2AgaXMgc3VwcG9ydGVkLlxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvTWF0Y2goLzIwMTBcXC0xMFxcLTJcXGQgXFxkezJ9OlxcZHsyfTpcXGR7Mn0gKFxcLXxcXCspP1xcZHs0fS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XFxcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVxcXCJcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5kYXRlRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xuXG5cbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxuICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksXG4gICAgICAgICAgdHpIb3VyID0gMCxcbiAgICAgICAgICB0ek1pbiAgPSAwLFxuICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLFxuICAgICAgICAgIHRpbWVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDSG91cnMgOiBkYXRlLnNldEhvdXJzO1xuXG4gICAgICBpZiAobWF0Y2hbOV0pIHtcbiAgICAgICAgdHpIb3VyID0gaW50KG1hdGNoWzldICsgbWF0Y2hbMTBdKTtcbiAgICAgICAgdHpNaW4gPSBpbnQobWF0Y2hbOV0gKyBtYXRjaFsxMV0pO1xuICAgICAgfVxuICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIGludChtYXRjaFsxXSksIGludChtYXRjaFsyXSkgLSAxLCBpbnQobWF0Y2hbM10pKTtcbiAgICAgIHZhciBoID0gaW50KG1hdGNoWzRdIHx8IDApIC0gdHpIb3VyO1xuICAgICAgdmFyIG0gPSBpbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcbiAgICAgIHZhciBzID0gaW50KG1hdGNoWzZdIHx8IDApO1xuICAgICAgdmFyIG1zID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KCcwLicgKyAobWF0Y2hbN10gfHwgMCkpICogMTAwMCk7XG4gICAgICB0aW1lU2V0dGVyLmNhbGwoZGF0ZSwgaCwgbSwgcywgbXMpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cblxuXG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIHRpbWV6b25lKSB7XG4gICAgdmFyIHRleHQgPSAnJyxcbiAgICAgICAgcGFydHMgPSBbXSxcbiAgICAgICAgZm4sIG1hdGNoO1xuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gaW50KGRhdGUpIDoganNvblN0cmluZ1RvRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgd2hpbGUgKGZvcm1hdCkge1xuICAgICAgbWF0Y2ggPSBEQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XG4gICAgICAgIGZvcm1hdCA9IHBhcnRzLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xuICAgICAgICBmb3JtYXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW1lem9uZSAmJiB0aW1lem9uZSA9PT0gJ1VUQycpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgIH1cbiAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdO1xuICAgICAgdGV4dCArPSBmbiA/IGZuKGRhdGUsICRsb2NhbGUuREFURVRJTUVfRk9STUFUUylcbiAgICAgICAgICAgICAgICAgOiB2YWx1ZS5yZXBsYWNlKC8oXid8JyQpL2csICcnKS5yZXBsYWNlKC8nJy9nLCBcIidcIik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGpzb25cbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAgIEFsbG93cyB5b3UgdG8gY29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gSlNPTiBzdHJpbmcuXG4gKlxuICogICBUaGlzIGZpbHRlciBpcyBtb3N0bHkgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuIFdoZW4gdXNpbmcgdGhlIGRvdWJsZSBjdXJseSB7e3ZhbHVlfX0gbm90YXRpb25cbiAqICAgdGhlIGJpbmRpbmcgaXMgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gSlNPTi5cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBBbnkgSmF2YVNjcmlwdCBvYmplY3QgKGluY2x1ZGluZyBhcnJheXMgYW5kIHByaW1pdGl2ZSB0eXBlcykgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtudW1iZXI9fSBzcGFjaW5nIFRoZSBudW1iZXIgb2Ygc3BhY2VzIHRvIHVzZSBwZXIgaW5kZW50YXRpb24sIGRlZmF1bHRzIHRvIDIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIHN0cmluZy5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxwcmUgaWQ9XCJkZWZhdWx0LXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbiB9fTwvcHJlPlxuICAgICAgIDxwcmUgaWQ9XCJjdXN0b20tc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uOjQgfX08L3ByZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBqc29uaWZ5IGZpbHRlcmVkIG9iamVjdHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZWZhdWx0LXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1c3RvbS1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuICAgIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICovXG5mdW5jdGlvbiBqc29uRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBzcGFjaW5nKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHNwYWNpbmcpKSB7XG4gICAgICAgIHNwYWNpbmcgPSAyO1xuICAgIH1cbiAgICByZXR1cm4gdG9Kc29uKG9iamVjdCwgc3BhY2luZyk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsb3dlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIubG93ZXJjYXNlXG4gKi9cbnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSB1cHBlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIudXBwZXJjYXNlXG4gKi9cbnZhciB1cHBlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKHVwcGVyY2FzZSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGltaXRUb1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgb3Igc3RyaW5nIGNvbnRhaW5pbmcgb25seSBhIHNwZWNpZmllZCBudW1iZXIgb2YgZWxlbWVudHMuIFRoZSBlbGVtZW50c1xuICogYXJlIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcbiAqIHRoZSB2YWx1ZSBhbmQgc2lnbiAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG9mIGBsaW1pdGAuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsIGl0IGlzXG4gKiBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd8bnVtYmVyfSBpbnB1dCBTb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gbGltaXQgVGhlIGxlbmd0aCBvZiB0aGUgcmV0dXJuZWQgYXJyYXkgb3Igc3RyaW5nLiBJZiB0aGUgYGxpbWl0YCBudW1iZXJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXG4gKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xuICogICAgIGFyZSBjb3BpZWQuIFRoZSBgbGltaXRgIHdpbGwgYmUgdHJpbW1lZCBpZiBpdCBleGNlZWRzIGBhcnJheS5sZW5ndGhgXG4gKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfSBBIG5ldyBzdWItYXJyYXkgb3Igc3Vic3RyaW5nIG9mIGxlbmd0aCBgbGltaXRgIG9yIGxlc3MgaWYgaW5wdXQgYXJyYXlcbiAqICAgICBoYWQgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cbiAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD5cbiAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxldHRlcnM6IHt7IGxldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0IH19PC9wPlxuICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCkge1xuICAgIGlmIChpc051bWJlcihpbnB1dCkpIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGlmIChNYXRoLmFicyhOdW1iZXIobGltaXQpKSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGltaXQgPSBpbnQobGltaXQpO1xuICAgIH1cblxuICAgIC8vTmFOIGNoZWNrIG9uIGxpbWl0XG4gICAgaWYgKGxpbWl0KSB7XG4gICAgICByZXR1cm4gbGltaXQgPiAwID8gaW5wdXQuc2xpY2UoMCwgbGltaXQpIDogaW5wdXQuc2xpY2UobGltaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXNTdHJpbmcoaW5wdXQpID8gXCJcIiA6IFtdO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBvcmRlckJ5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogT3JkZXJzIGEgc3BlY2lmaWVkIGBhcnJheWAgYnkgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuIEl0IGlzIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHlcbiAqIGZvciBzdHJpbmdzIGFuZCBudW1lcmljYWxseSBmb3IgbnVtYmVycy4gTm90ZTogaWYgeW91IG5vdGljZSBudW1iZXJzIGFyZSBub3QgYmVpbmcgc29ydGVkXG4gKiBjb3JyZWN0bHksIG1ha2Ugc3VyZSB0aGV5IGFyZSBhY3R1YWxseSBiZWluZyBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKil8c3RyaW5nfEFycmF5LjwoZnVuY3Rpb24oKil8c3RyaW5nKT49fSBleHByZXNzaW9uIEEgcHJlZGljYXRlIHRvIGJlXG4gKiAgICB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBmdW5jdGlvbmA6IEdldHRlciBmdW5jdGlvbi4gVGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgc29ydGVkIHVzaW5nIHRoZVxuICogICAgICBgPGAsIGA9YCwgYD5gIG9wZXJhdG9yLlxuICogICAgLSBgc3RyaW5nYDogQW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiBpcyB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHNcbiAqICAgICAgKGZvciBleGFtcGxlIGBuYW1lYCB0byBzb3J0IGJ5IGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCBvciBgbmFtZS5zdWJzdHIoMCwgMylgIHRvIHNvcnQgYnlcbiAqICAgICAgMyBmaXJzdCBjaGFyYWN0ZXJzIG9mIGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCkuIFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uXG4gKiAgICAgIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGluIGNvbXBhcmlzb25zIChmb3IgZXhhbXBsZSBgXCJzcGVjaWFsIG5hbWVcImBcbiAqICAgICAgdG8gc29ydCBvYmplY3QgYnkgdGhlIHZhbHVlIG9mIHRoZWlyIGBzcGVjaWFsIG5hbWVgIHByb3BlcnR5KS4gQW4gZXhwcmVzc2lvbiBjYW4gYmVcbiAqICAgICAgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbCBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXG4gKiAgICAgIChmb3IgZXhhbXBsZSwgYCtuYW1lYCBvciBgLW5hbWVgKS4gSWYgbm8gcHJvcGVydHkgaXMgcHJvdmlkZWQsIChlLmcuIGAnKydgKSB0aGVuIHRoZSBhcnJheVxuICogICAgICBlbGVtZW50IGl0c2VsZiBpcyB1c2VkIHRvIGNvbXBhcmUgd2hlcmUgc29ydGluZy5cbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gb3Igc3RyaW5nIHByZWRpY2F0ZXMuIFRoZSBmaXJzdCBwcmVkaWNhdGUgaW4gdGhlIGFycmF5XG4gKiAgICAgIGlzIHVzZWQgZm9yIHNvcnRpbmcsIGJ1dCB3aGVuIHR3byBpdGVtcyBhcmUgZXF1aXZhbGVudCwgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQuXG4gKlxuICogICAgSWYgdGhlIHByZWRpY2F0ZSBpcyBtaXNzaW5nIG9yIGVtcHR5IHRoZW4gaXQgZGVmYXVsdHMgdG8gYCcrJ2AuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSBSZXZlcnNlIHRoZSBvcmRlciBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFNvcnRlZCBjb3B5IG9mIHRoZSBzb3VyY2UgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID1cbiAgICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dO1xuICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAnLWFnZSc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHByZT5Tb3J0aW5nIHByZWRpY2F0ZSA9IHt7cHJlZGljYXRlfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlPScnXCI+dW5zb3J0ZWQ8L2E+IF1cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInByZWRpY2F0ZSA9ICduYW1lJzsgcmV2ZXJzZT1mYWxzZVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICAgICg8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGUgPSAnLW5hbWUnOyByZXZlcnNlPWZhbHNlXCI+XjwvYT4pPC90aD5cbiAgICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlID0gJ3Bob25lJzsgcmV2ZXJzZT0hcmV2ZXJzZVwiPlBob25lIE51bWJlcjwvYT48L3RoPlxuICAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGUgPSAnYWdlJzsgcmV2ZXJzZT0hcmV2ZXJzZVwiPkFnZTwvYT48L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIG9yZGVyQnkgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYCRmaWx0ZXJgLCByZXRyaWV2aW5nIHRoZVxuICogZmlsdGVyIHJvdXRpbmUgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYCwgYW5kIGNhbGxpbmcgdGhlIHJldHVybmVkIGZpbHRlciByb3V0aW5lIHdpdGggdGhlXG4gKiBkZXNpcmVkIHBhcmFtZXRlcnMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT1mYWxzZTtvcmRlcignbmFtZScsIGZhbHNlKVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICg8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcignLW5hbWUnLGZhbHNlKVwiPl48L2E+KTwvdGg+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT0hcmV2ZXJzZTtvcmRlcigncGhvbmUnLCByZXZlcnNlKVwiPlBob25lIE51bWJlcjwvYT48L3RoPlxuICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInJldmVyc2U9IXJldmVyc2U7b3JkZXIoJ2FnZScscmV2ZXJzZSlcIj5BZ2U8L2E+PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAgIHZhciBvcmRlckJ5ID0gJGZpbHRlcignb3JkZXJCeScpO1xuICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnSm9obicsICAgIHBob25lOiAnNTU1LTEyMTInLCAgICBhZ2U6IDEwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdNYXJ5JywgICAgcGhvbmU6ICc1NTUtOTg3NicsICAgIGFnZTogMTkgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ01pa2UnLCAgICBwaG9uZTogJzU1NS00MzIxJywgICAgYWdlOiAyMSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQWRhbScsICAgIHBob25lOiAnNTU1LTU2NzgnLCAgICBhZ2U6IDM1IH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdKdWxpZScsICAgcGhvbmU6ICc1NTUtODc2NScsICAgIGFnZTogMjkgfVxuICAgICAgICAgIF07XG4gICAgICAgICAgJHNjb3BlLm9yZGVyID0gZnVuY3Rpb24ocHJlZGljYXRlLCByZXZlcnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoJHNjb3BlLmZyaWVuZHMsIHByZWRpY2F0ZSwgcmV2ZXJzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICAkc2NvcGUub3JkZXIoJy1hZ2UnLGZhbHNlKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xub3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyKSB7XG4gICAgaWYgKCEoaXNBcnJheUxpa2UoYXJyYXkpKSkgcmV0dXJuIGFycmF5O1xuICAgIHNvcnRQcmVkaWNhdGUgPSBpc0FycmF5KHNvcnRQcmVkaWNhdGUpID8gc29ydFByZWRpY2F0ZSA6IFtzb3J0UHJlZGljYXRlXTtcbiAgICBpZiAoc29ydFByZWRpY2F0ZS5sZW5ndGggPT09IDApIHsgc29ydFByZWRpY2F0ZSA9IFsnKyddOyB9XG4gICAgc29ydFByZWRpY2F0ZSA9IHNvcnRQcmVkaWNhdGUubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGRlc2NlbmRpbmcgPSBmYWxzZSwgZ2V0ID0gcHJlZGljYXRlIHx8IGlkZW50aXR5O1xuICAgICAgaWYgKGlzU3RyaW5nKHByZWRpY2F0ZSkpIHtcbiAgICAgICAgaWYgKChwcmVkaWNhdGUuY2hhckF0KDApID09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJykpIHtcbiAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLSc7XG4gICAgICAgICAgcHJlZGljYXRlID0gcHJlZGljYXRlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZGljYXRlID09PSAnJykge1xuICAgICAgICAgIC8vIEVmZmVjdGl2ZWx5IG5vIHByZWRpY2F0ZSB3YXMgcGFzc2VkIHNvIHdlIGNvbXBhcmUgaWRlbnRpdHlcbiAgICAgICAgICByZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcGFyZSwgZGVzY2VuZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XG4gICAgICAgIGlmIChnZXQuY29uc3RhbnQpIHtcbiAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7XG4gICAgICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICB9LCBkZXNjZW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmUoZ2V0KGEpLGdldChiKSk7XG4gICAgICB9LCBkZXNjZW5kaW5nKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSkuc29ydChyZXZlcnNlQ29tcGFyYXRvcihjb21wYXJhdG9yLCByZXZlcnNlT3JkZXIpKTtcblxuICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobzEsIG8yKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRQcmVkaWNhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbXAgPSBzb3J0UHJlZGljYXRlW2ldKG8xLCBvMik7XG4gICAgICAgIGlmIChjb21wICE9PSAwKSByZXR1cm4gY29tcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXZlcnNlQ29tcGFyYXRvcihjb21wLCBkZXNjZW5kaW5nKSB7XG4gICAgICByZXR1cm4gZGVzY2VuZGluZ1xuICAgICAgICAgID8gZnVuY3Rpb24oYSwgYikge3JldHVybiBjb21wKGIsYSk7fVxuICAgICAgICAgIDogY29tcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdib29sZWFuJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XG4gICAgICB2YXIgdDEgPSB0eXBlb2YgdjE7XG4gICAgICB2YXIgdDIgPSB0eXBlb2YgdjI7XG4gICAgICBpZiAodDEgPT09IHQyICYmIHQxID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHYxID0gb2JqZWN0VG9TdHJpbmcodjEpO1xuICAgICAgICB2MiA9IG9iamVjdFRvU3RyaW5nKHYyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0MSA9PT0gdDIpIHtcbiAgICAgICAgaWYgKHQxID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgIHYxID0gdjEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgdjIgPSB2Mi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2MSA9PT0gdjIpIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gdjEgPCB2MiA/IC0xIDogMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0MSA8IHQyID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBkaXJlY3RpdmVcbiAgICB9O1xuICB9XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBBIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxuICpcbiAqIFRoaXMgY2hhbmdlIHBlcm1pdHMgdGhlIGVhc3kgY3JlYXRpb24gb2YgYWN0aW9uIGxpbmtzIHdpdGggdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmVcbiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOlxuICogYDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cImxpc3QuYWRkSXRlbSgpXCI+QWRkIEl0ZW08L2E+YFxuICovXG52YXIgaHRtbEFuY2hvckRpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0UnLFxuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgaWYgKCFhdHRyLmhyZWYgJiYgIWF0dHIueGxpbmtIcmVmICYmICFhdHRyLm5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgbGlua2VkIGVsZW1lbnQgaXMgbm90IGFuIGFuY2hvciB0YWcgYW55bW9yZSwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcblxuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBocmVmID0gdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScgP1xuICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJyA6ICdocmVmJztcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gaHJlZiB1cmwsIHRoZW4gZG9uJ3QgbmF2aWdhdGUgYW55d2hlcmUuXG4gICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hyZWZcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhbiBocmVmIGF0dHJpYnV0ZSB3aWxsXG4gKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxuICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBtYXJrdXAgdGhlIGxpbmsgd2lsbCBiZSBicm9rZW5cbiAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxuICogc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgbmctaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgQVxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXNcbiAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsdWVcIiAvPjxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0yXCIgaHJlZj1cIlwiIG5nLWNsaWNrPVwidmFsdWUgPSAyXCI+bGluayAyPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstM1wiIG5nLWhyZWY9XCIve3snMTIzJ319XCI+bGluayAzPC9hPiAobGluaywgcmVsb2FkISk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay01XCIgbmFtZT1cInh4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA1XCI+YW5jaG9yPC9hPiAobm8gbGluayk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTZcIiBuZy1ocmVmPVwie3t2YWx1ZX19XCI+bGluazwvYT4gKGxpbmssIGNoYW5nZSBsb2NhdGlvbilcbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiB3aXRob3V0IHZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzInKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0yJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGFuZCBjaGFuZ2UgdXJsIHdoZW4gbmctaHJlZiBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XG5cbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuY2xpY2soKTtcblxuICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG5hdmlnYXRlIGF3YXkgZnJvbSBhbiBBbmd1bGFyIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cblxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC8xMjMnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5jbGVhcigpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvNicpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY1xuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY2AgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIi8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3JjIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3Jjc2V0XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3Jjc2V0YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmNzZXQgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEaXNhYmxlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBXZSBzaG91bGRuJ3QgZG8gdGhpcywgYmVjYXVzZSBpdCB3aWxsIG1ha2UgdGhlIGJ1dHRvbiBlbmFibGVkIG9uIENocm9tZS9GaXJlZm94IGJ1dCBub3Qgb24gSUU4IGFuZCBvbGRlciBJRXM6XG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWluaXQ9XCJzY29wZSA9IHsgaXNEaXNhYmxlZDogZmFsc2UgfVwiPlxuICogIDxidXR0b24gZGlzYWJsZWQ9XCJ7e3Njb3BlLmlzRGlzYWJsZWR9fVwiPkRpc2FibGVkPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyBkaXNhYmxlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdEaXNhYmxlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgICAgPGJ1dHRvbiBuZy1tb2RlbD1cImJ1dHRvblwiIG5nLWRpc2FibGVkPVwiY2hlY2tlZFwiPkJ1dHRvbjwvYnV0dG9uPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBidXR0b24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwiZGlzYWJsZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NoZWNrZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgY2hlY2tlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdDaGVja2VkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2hlY2sgbWUgdG8gY2hlY2sgYm90aDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwibWFzdGVyXCI+PGJyLz5cbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnbWFzdGVyJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJjaGVja2VkXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZWFkb25seVxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyByZWFkb25seS4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdSZWFkb25seWAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgcmVhZG9ubHlgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICBDaGVjayBtZSB0byBtYWtlIHRleHQgcmVhZG9ubHk6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48YnIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIvPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSByZWFkb25seSBhdHRyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBJTlBVVFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1JlYWRvbmx5IElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcInJlYWRvbmx5XCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTZWxlY3RlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyBzZWxlY3RlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdTZWxlY3RlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjxici8+XG4gICAgICAgIDxzZWxlY3Q+XG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgT1BUSU9OXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcGVuXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIG9wZW4uIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nT3BlbmAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgb3BlbmAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIENoZWNrIG1lIGNoZWNrIG11bHRpcGxlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJvcGVuXCI+PGJyLz5cbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuXG4vLyBib29sZWFuIGF0dHJzIGFyZSBldmFsdWF0ZWRcbmZvckVhY2goQk9PTEVBTl9BVFRSLCBmdW5jdGlvbihwcm9wTmFtZSwgYXR0ck5hbWUpIHtcbiAgLy8gYmluZGluZyB0byBtdWx0aXBsZSBpcyBub3Qgc3VwcG9ydGVkXG4gIGlmIChwcm9wTmFtZSA9PSBcIm11bHRpcGxlXCIpIHJldHVybjtcblxuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSwgZnVuY3Rpb24gbmdCb29sZWFuQXR0cldhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBhbGlhc2VkIGlucHV0IGF0dHJzIGFyZSBldmFsdWF0ZWRcbmZvckVhY2goQUxJQVNFRF9BVFRSLCBmdW5jdGlvbihodG1sQXR0ciwgbmdBdHRyKSB7XG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25nQXR0cl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIC8vc3BlY2lhbCBjYXNlIG5nUGF0dGVybiB3aGVuIGEgbGl0ZXJhbCByZWd1bGFyIGV4cHJlc3Npb24gdmFsdWVcbiAgICAgICAgLy9pcyB1c2VkIGFzIHRoZSBleHByZXNzaW9uICh0aGlzIHdheSB3ZSBkb24ndCBoYXZlIHRvIHdhdGNoIGFueXRoaW5nKS5cbiAgICAgICAgaWYgKG5nQXR0ciA9PT0gXCJuZ1BhdHRlcm5cIiAmJiBhdHRyLm5nUGF0dGVybi5jaGFyQXQoMCkgPT0gXCIvXCIpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBhdHRyLm5nUGF0dGVybi5tYXRjaChSRUdFWF9TVFJJTkdfUkVHRVhQKTtcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldChcIm5nUGF0dGVyblwiLCBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25nQXR0cl0sIGZ1bmN0aW9uIG5nQXR0ckFsaWFzV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBhdHRyLiRzZXQobmdBdHRyLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLy8gbmctc3JjLCBuZy1zcmNzZXQsIG5nLWhyZWYgYXJlIGludGVycG9sYXRlZFxuZm9yRWFjaChbJ3NyYycsICdzcmNzZXQnLCAnaHJlZiddLCBmdW5jdGlvbihhdHRyTmFtZSkge1xuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDk5LCAvLyBpdCBuZWVkcyB0byBydW4gYWZ0ZXIgdGhlIGF0dHJpYnV0ZXMgYXJlIGludGVycG9sYXRlZFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gYXR0ck5hbWUsXG4gICAgICAgICAgICBuYW1lID0gYXR0ck5hbWU7XG5cbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicgJiZcbiAgICAgICAgICAgIHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XG4gICAgICAgICAgbmFtZSA9ICd4bGlua0hyZWYnO1xuICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7XG4gICAgICAgICAgcHJvcE5hbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2hyZWYnKSB7XG4gICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgdmFsdWUpO1xuXG4gICAgICAgICAgLy8gb24gSUUsIGlmIFwibmc6c3JjXCIgZGlyZWN0aXZlIGRlY2xhcmF0aW9uIGlzIHVzZWQgYW5kIFwic3JjXCIgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAvLyB0aGVuIGNhbGxpbmcgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsICdmb28nKSBkb2Vzbid0IGRvIGFueXRoaW5nLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gc2V0IHRoZSBwcm9wZXJ0eSBhcyB3ZWxsIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgICAgICAgIC8vIHdlIHVzZSBhdHRyW2F0dHJOYW1lXSB2YWx1ZSBzaW5jZSAkc2V0IGNhbiBzYW5pdGl6ZSB0aGUgdXJsLlxuICAgICAgICAgIGlmIChtc2llICYmIHByb3BOYW1lKSBlbGVtZW50LnByb3AocHJvcE5hbWUsIGF0dHJbbmFtZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSk7XG5cbi8qIGdsb2JhbCAtbnVsbEZvcm1DdHJsLCAtU1VCTUlUVEVEX0NMQVNTLCBhZGRTZXRWYWxpZGl0eU1ldGhvZDogdHJ1ZVxuICovXG52YXIgbnVsbEZvcm1DdHJsID0ge1xuICAkYWRkQ29udHJvbDogbm9vcCxcbiAgJCRyZW5hbWVDb250cm9sOiBudWxsRm9ybVJlbmFtZUNvbnRyb2wsXG4gICRyZW1vdmVDb250cm9sOiBub29wLFxuICAkc2V0VmFsaWRpdHk6IG5vb3AsXG4gICRzZXREaXJ0eTogbm9vcCxcbiAgJHNldFByaXN0aW5lOiBub29wLFxuICAkc2V0U3VibWl0dGVkOiBub29wXG59LFxuU1VCTUlUVEVEX0NMQVNTID0gJ25nLXN1Ym1pdHRlZCc7XG5cbmZ1bmN0aW9uIG51bGxGb3JtUmVuYW1lQ29udHJvbChjb250cm9sLCBuYW1lKSB7XG4gIGNvbnRyb2wuJG5hbWUgPSBuYW1lO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBjb250YWluaW5nIGNvbnRyb2wgb3IgZm9ybSBpcyBpbnZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkc3VibWl0dGVkIFRydWUgaWYgdXNlciBoYXMgc3VibWl0dGVkIHRoZSBmb3JtIGV2ZW4gaWYgaXRzIGludmFsaWQuXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBJcyBhbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yXG4gKiAgZm9ybXMgd2l0aCBmYWlsaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxuICpcbiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksXG4gKiAgLSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb250cm9scyBvciBmb3JtcyB0aGF0IGhhdmUgYSBmYWlsaW5nIHZhbGlkYXRvciBmb3IgZ2l2ZW4gZXJyb3IgbmFtZS5cbiAqXG4gKiAgQnVpbHQtaW4gdmFsaWRhdGlvbiB0b2tlbnM6XG4gKlxuICogIC0gYGVtYWlsYFxuICogIC0gYG1heGBcbiAqICAtIGBtYXhsZW5ndGhgXG4gKiAgLSBgbWluYFxuICogIC0gYG1pbmxlbmd0aGBcbiAqICAtIGBudW1iZXJgXG4gKiAgLSBgcGF0dGVybmBcbiAqICAtIGByZXF1aXJlZGBcbiAqICAtIGB1cmxgXG4gKiAgLSBgZGF0ZWBcbiAqICAtIGBkYXRldGltZWxvY2FsYFxuICogIC0gYHRpbWVgXG4gKiAgLSBgd2Vla2BcbiAqICAtIGBtb250aGBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBGb3JtQ29udHJvbGxlcmAga2VlcHMgdHJhY2sgb2YgYWxsIGl0cyBjb250cm9scyBhbmQgbmVzdGVkIGZvcm1zIGFzIHdlbGwgYXMgdGhlIHN0YXRlIG9mIHRoZW0sXG4gKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXG4gKlxuICogRWFjaCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0gZGlyZWN0aXZlIGNyZWF0ZXMgYW4gaW5zdGFuY2VcbiAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXG4gKlxuICovXG4vL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxuRm9ybUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnLCAnJGF0dHJzJywgJyRzY29wZScsICckYW5pbWF0ZScsICckaW50ZXJwb2xhdGUnXTtcbmZ1bmN0aW9uIEZvcm1Db250cm9sbGVyKGVsZW1lbnQsIGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkaW50ZXJwb2xhdGUpIHtcbiAgdmFyIGZvcm0gPSB0aGlzLFxuICAgICAgY29udHJvbHMgPSBbXTtcblxuICB2YXIgcGFyZW50Rm9ybSA9IGZvcm0uJCRwYXJlbnRGb3JtID0gZWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCdmb3JtJykgfHwgbnVsbEZvcm1DdHJsO1xuXG4gIC8vIGluaXQgc3RhdGVcbiAgZm9ybS4kZXJyb3IgPSB7fTtcbiAgZm9ybS4kJHN1Y2Nlc3MgPSB7fTtcbiAgZm9ybS4kcGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgZm9ybS4kbmFtZSA9ICRpbnRlcnBvbGF0ZShhdHRycy5uYW1lIHx8IGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcbiAgZm9ybS4kZGlydHkgPSBmYWxzZTtcbiAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICBmb3JtLiR2YWxpZCA9IHRydWU7XG4gIGZvcm0uJGludmFsaWQgPSBmYWxzZTtcbiAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XG5cbiAgcGFyZW50Rm9ybS4kYWRkQ29udHJvbChmb3JtKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUm9sbGJhY2sgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHR5cGljYWxseSBuZWVkZWQgYnkgdGhlIHJlc2V0IGJ1dHRvbiBvZlxuICAgKiBhIGZvcm0gdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBwZW5kIHVwZGF0ZXMuXG4gICAqL1xuICBmb3JtLiRyb2xsYmFja1ZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21taXQgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cbiAgICovXG4gIGZvcm0uJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGFkZENvbnRyb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLlxuICAgKlxuICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBsaW5rZWQuXG4gICAqL1xuICBmb3JtLiRhZGRDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xuICAgIC8vIEJyZWFraW5nIGNoYW5nZSAtIGJlZm9yZSwgaW5wdXRzIHdob3NlIG5hbWUgd2FzIFwiaGFzT3duUHJvcGVydHlcIiB3ZXJlIHF1aWV0bHkgaWdub3JlZFxuICAgIC8vIGFuZCBub3QgYWRkZWQgdG8gdGhlIHNjb3BlLiAgTm93IHdlIHRocm93IGFuIGVycm9yLlxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsICdpbnB1dCcpO1xuICAgIGNvbnRyb2xzLnB1c2goY29udHJvbCk7XG5cbiAgICBpZiAoY29udHJvbC4kbmFtZSkge1xuICAgICAgZm9ybVtjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7XG4gICAgfVxuICB9O1xuXG4gIC8vIFByaXZhdGUgQVBJOiByZW5hbWUgYSBmb3JtIGNvbnRyb2xcbiAgZm9ybS4kJHJlbmFtZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sLCBuZXdOYW1lKSB7XG4gICAgdmFyIG9sZE5hbWUgPSBjb250cm9sLiRuYW1lO1xuXG4gICAgaWYgKGZvcm1bb2xkTmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSBmb3JtW29sZE5hbWVdO1xuICAgIH1cbiAgICBmb3JtW25ld05hbWVdID0gY29udHJvbDtcbiAgICBjb250cm9sLiRuYW1lID0gbmV3TmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyZW1vdmVDb250cm9sXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBEZXJlZ2lzdGVyIGEgY29udHJvbCBmcm9tIHRoZSBmb3JtLlxuICAgKlxuICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBkZXN0cm95ZWQuXG4gICAqL1xuICBmb3JtLiRyZW1vdmVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xuICAgIGlmIChjb250cm9sLiRuYW1lICYmIGZvcm1bY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSBmb3JtW2NvbnRyb2wuJG5hbWVdO1xuICAgIH1cbiAgICBmb3JFYWNoKGZvcm0uJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGZvcm0uJGVycm9yLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSk7XG4gICAgZm9yRWFjaChmb3JtLiQkc3VjY2VzcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuXG4gICAgYXJyYXlSZW1vdmUoY29udHJvbHMsIGNvbnRyb2wpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIHZhbGlkaXR5IG9mIGEgZm9ybSBjb250cm9sLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cbiAgICovXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgICBjdHJsOiB0aGlzLFxuICAgICRlbGVtZW50OiBlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBbY29udHJvbGxlcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBsaXN0LnB1c2goY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXJyYXlSZW1vdmUobGlzdCwgY29udHJvbGxlcik7XG4gICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfSxcbiAgICBwYXJlbnRGb3JtOiBwYXJlbnRGb3JtLFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBhIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcbiAgICogc3RhdGUgKG5nLWRpcnR5IGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gICAqL1xuICBmb3JtLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgZm9ybS4kZGlydHkgPSB0cnVlO1xuICAgIGZvcm0uJHByaXN0aW5lID0gZmFsc2U7XG4gICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChuZy1wcmlzdGluZSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWRcbiAgICogaW4gdGhpcyBmb3JtLlxuICAgKlxuICAgKiBTZXR0aW5nIGEgZm9ybSBiYWNrIHRvIGEgcHJpc3RpbmUgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gd2Ugd2FudCB0byAncmV1c2UnIGEgZm9ybSBhZnRlclxuICAgKiBzYXZpbmcgb3IgcmVzZXR0aW5nIGl0LlxuICAgKi9cbiAgZm9ybS4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUywgRElSVFlfQ0xBU1MgKyAnICcgKyBTVUJNSVRURURfQ0xBU1MpO1xuICAgIGZvcm0uJGRpcnR5ID0gZmFsc2U7XG4gICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICAgIGZvcm0uJHN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHNldFByaXN0aW5lKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctdG91Y2hlZCcgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSBjb250cm9scyB0byB0aGVpclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXG4gICAqXG4gICAqIFNldHRpbmcgYSBmb3JtIGNvbnRyb2xzIGJhY2sgdG8gdGhlaXIgdW50b3VjaGVkIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHNldHRpbmcgdGhlIGZvcm1cbiAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqL1xuICBmb3JtLiRzZXRVbnRvdWNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRzZXRVbnRvdWNoZWQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRTdWJtaXR0ZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHN1Ym1pdHRlZCBzdGF0ZS5cbiAgICovXG4gIGZvcm0uJHNldFN1Ym1pdHRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgZm9ybS4kc3VibWl0dGVkID0gdHJ1ZTtcbiAgICBwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Zvcm1cbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE5lc3RhYmxlIGFsaWFzIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBgZm9ybWB9IGRpcmVjdGl2ZS4gSFRNTFxuICogZG9lcyBub3QgYWxsb3cgbmVzdGluZyBvZiBmb3JtIGVsZW1lbnRzLiBJdCBpcyB1c2VmdWwgdG8gbmVzdCBmb3JtcywgZm9yIGV4YW1wbGUgaWYgdGhlIHZhbGlkaXR5IG9mIGFcbiAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxuICpcbiAqIE5vdGU6IHRoZSBwdXJwb3NlIG9mIGBuZ0Zvcm1gIGlzIHRvIGdyb3VwIGNvbnRyb2xzLFxuICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcbiAqIChlLmcuIHBvc3RpbmcgdG8gdGhlIHNlcnZlciwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBmb3JtXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgaW5zdGFudGlhdGVzXG4gKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciBGb3JtQ29udHJvbGxlcn0uXG4gKlxuICogSWYgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIGlzIHB1Ymxpc2hlZCBvbnRvIHRoZSBjdXJyZW50IHNjb3BlIHVuZGVyXG4gKiB0aGlzIG5hbWUuXG4gKlxuICogIyBBbGlhczoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9XG4gKlxuICogSW4gQW5ndWxhciBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH0gZGlyZWN0aXZlIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cbiAqIGA8Zm9ybT5gIGJ1dCBjYW4gYmUgbmVzdGVkLiAgVGhpcyBhbGxvd3MgeW91IHRvIGhhdmUgbmVzdGVkIGZvcm1zLCB3aGljaCBpcyB2ZXJ5IHVzZWZ1bCB3aGVuXG4gKiB1c2luZyBBbmd1bGFyIHZhbGlkYXRpb24gZGlyZWN0aXZlcyBpbiBmb3JtcyB0aGF0IGFyZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgdXNpbmcgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9IGRpcmVjdGl2ZS4gU2luY2UgeW91IGNhbm5vdCBkeW5hbWljYWxseSBnZW5lcmF0ZSB0aGUgYG5hbWVgXG4gKiBhdHRyaWJ1dGUgb2YgaW5wdXQgZWxlbWVudHMgdXNpbmcgaW50ZXJwb2xhdGlvbiwgeW91IGhhdmUgdG8gd3JhcCBlYWNoIHNldCBvZiByZXBlYXRlZCBpbnB1dHMgaW4gYW5cbiAqIGBuZ0Zvcm1gIGRpcmVjdGl2ZSBhbmQgbmVzdCB0aGVzZSBpbiBhbiBvdXRlciBgZm9ybWAgZWxlbWVudC5cbiAqXG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXG4gKiAgLSBgbmctaW52YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGludmFsaWQuXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cbiAqICAtIGBuZy1kaXJ0eWAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGRpcnR5LlxuICogIC0gYG5nLXN1Ym1pdHRlZGAgaXMgc2V0IGlmIHRoZSBmb3JtIHdhcyBzdWJtaXR0ZWQuXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICpcbiAqICMgU3VibWl0dGluZyBhIGZvcm0gYW5kIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKlxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXG4gKiByb3VuZHRyaXAgYXBwcywgaXQgaXMgZGVzaXJhYmxlIGZvciB0aGUgYnJvd3NlciBub3QgdG8gdHJhbnNsYXRlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW50byBhIGZ1bGxcbiAqIHBhZ2UgcmVsb2FkIHRoYXQgc2VuZHMgdGhlIGRhdGEgdG8gdGhlIHNlcnZlci4gSW5zdGVhZCBzb21lIGphdmFzY3JpcHQgbG9naWMgc2hvdWxkIGJlIHRyaWdnZXJlZFxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxuICpcbiAqIEZvciB0aGlzIHJlYXNvbiwgQW5ndWxhciBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XG4gKlxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudFxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcbiAqXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxuICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246XG4gKlxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XG4gKiAoYG5nU3VibWl0YClcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxuICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlblxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXG4gKlxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueVxuICogb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIHdpdGhpbiB0aGUgZm9ybS4gQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHNpbWlsYXIgdG8gaG93XG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxuICogYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWZvcm0ge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAqICAgYmFja2dyb3VuZDogcmVkO1xuICogICBjb2xvcjp3aGl0ZTtcbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgLm15LWZvcm0ge1xuICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm15LWZvcm0ubmctaW52YWxpZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkZvcm1Db250cm9sbGVyXCIgY2xhc3M9XCJteS1mb3JtXCI+XG4gICAgICAgICB1c2VyVHlwZTogPGlucHV0IG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXNlclR5cGVcIiByZXF1aXJlZD5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICA8dHQ+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgdXNlcklucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlclR5cGUnKSk7XG5cbiAgICAgICAgICB1c2VySW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VySW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9FcXVhbCgndXNlclR5cGUgPScpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cbiAqL1xudmFyIGZvcm1EaXJlY3RpdmVGYWN0b3J5ID0gZnVuY3Rpb24oaXNOZ0Zvcm0pIHtcbiAgcmV0dXJuIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuICAgIHZhciBmb3JtRGlyZWN0aXZlID0ge1xuICAgICAgbmFtZTogJ2Zvcm0nLFxuICAgICAgcmVzdHJpY3Q6IGlzTmdGb3JtID8gJ0VBQycgOiAnRScsXG4gICAgICBjb250cm9sbGVyOiBGb3JtQ29udHJvbGxlcixcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nRm9ybUNvbXBpbGUoZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgICBmb3JtRWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ0Zvcm1QcmVMaW5rKHNjb3BlLCBmb3JtRWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgLy8gaWYgYGFjdGlvbmAgYXR0ciBpcyBub3QgcHJlc2VudCBvbiB0aGUgZm9ybSwgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gKHN1Ym1pc3Npb24pXG4gICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xuICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1c2UganEgZXZlbnRzIGJlY2F1c2UgaWYgYSBmb3JtIGlzIGRlc3Ryb3llZCBkdXJpbmcgc3VibWlzc2lvbiB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgICAvLyBhY3Rpb24gaXMgbm90IHByZXZlbnRlZC4gc2VlICMxMjM4XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIElFIDkgaXMgbm90IGFmZmVjdGVkIGJlY2F1c2UgaXQgZG9lc24ndCBmaXJlIGEgc3VibWl0IGV2ZW50IGFuZCB0cnkgdG8gZG8gYSBmdWxsXG4gICAgICAgICAgICAgIC8vIHBhZ2UgcmVsb2FkIGlmIHRoZSBmb3JtIHdhcyBkZXN0cm95ZWQgYnkgc3VibWlzc2lvbiBvZiB0aGUgZm9ybSB2aWEgYSBjbGljayBoYW5kbGVyXG4gICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXG4gICAgICAgICAgICAgIHZhciBoYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLFxuICAgICAgICAgICAgICAgIGFsaWFzID0gY29udHJvbGxlci4kbmFtZTtcblxuICAgICAgICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgbnVsbCwgYWxpYXMsIGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShhdHRyLm5hbWUgPyAnbmFtZScgOiAnbmdGb3JtJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXMgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBudWxsLCBhbGlhcywgdW5kZWZpbmVkLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgYWxpYXMgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIG51bGwsIGFsaWFzLCBjb250cm9sbGVyLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIGlmIChhbGlhcykge1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgbnVsbCwgYWxpYXMsIHVuZGVmaW5lZCwgYWxpYXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcbiAgVE9VQ0hFRF9DTEFTUzogZmFsc2UsXG4gICRuZ01vZGVsTWluRXJyOiBmYWxzZSxcbiovXG5cbi8vIFJlZ2V4IGNvZGUgaXMgb2J0YWluZWQgZnJvbSBTTzogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE0MzA3MC9qYXZhc2NyaXB0LXJlZ2V4LWlzby1kYXRldGltZSNhbnN3ZXItMzE0MzIzMVxudmFyIElTT19EQVRFX1JFR0VYUCA9IC9cXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoWystXVswLTJdXFxkOlswLTVdXFxkfFopLztcbnZhciBVUkxfUkVHRVhQID0gL14oZnRwfGh0dHB8aHR0cHMpOlxcL1xcLyhcXHcrOnswLDF9XFx3KkApPyhcXFMrKSg6WzAtOV0rKT8oXFwvfFxcLyhbXFx3IyE6Lj8rPSYlQCFcXC1cXC9dKSk/JC87XG52YXIgRU1BSUxfUkVHRVhQID0gL15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2k7XG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpXFxzKiQvO1xudmFyIERBVEVfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvO1xudmFyIERBVEVUSU1FTE9DQUxfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcbnZhciBXRUVLX1JFR0VYUCA9IC9eKFxcZHs0fSktVyhcXGRcXGQpJC87XG52YXIgTU9OVEhfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkXFxkKSQvO1xudmFyIFRJTUVfUkVHRVhQID0gL14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcblxudmFyIGlucHV0VHlwZSA9IHtcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3RleHRdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBhbmd1bGFyIGRhdGEgYmluZGluZywgaW5oZXJpdGVkIGJ5IG1vc3Qgb2YgdGhlIGBpbnB1dGAgZWxlbWVudHMuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0IHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBpcyBhIHN0cmluZyB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgXG4gICAqICAgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAgICogICAgaW5wdXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidGV4dC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0ZXh0SW5wdXRFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndGV4dElucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2d1ZXN0JyxcbiAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgU2luZ2xlIHdvcmQ6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1wYXR0ZXJuPVwiZXhhbXBsZS53b3JkXCIgcmVxdWlyZWQgbmctdHJpbT1cImZhbHNlXCI+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnBhdHRlcm5cIj5cbiAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cblxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZXhhbXBsZS50ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBtdWx0aSB3b3JkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RleHQnOiB0ZXh0SW5wdXRUeXBlLFxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGlucHV0XG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAgKiBkYXRlIGZvcm1hdCAoeXl5eS1NTS1kZCksIGZvciBleGFtcGxlOiBgMjAwOS0wMS0wNmAuIFNpbmNlIG1hbnlcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcbiAgICAgKiBleHBlY3RlZCBpbnB1dCBmb3JtYXQgdmlhIGEgcGxhY2Vob2xkZXIgb3IgbGFiZWwuXG4gICAgICpcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgICogdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICAqIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cImRhdGUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUlucHV0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAyMilcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgICAgUGljayBhIGRhdGUgaW4gMjAxMzpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcbiAgICAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCddKSxcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiBsb2NhbCBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDIwMTAtMTItMjhUMTQ6NTc6MDBgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICpcbiAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgKiB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXG4gICAgKiBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgKlxuICAgICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZXRpbWVsb2NhbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEwLCAxMSwgMjgsIDE0LCA1NylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFRISDptbTpzc1wiIG1pbj1cIjIwMDEtMDEtMDFUMDA6MDA6MDBcIiBtYXg9XCIyMDEzLTEyLTMxVDAwOjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMVQyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVUSU1FTE9DQUxfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnLCAnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAgJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIGxvY2FsIHRpbWUgZm9ybWF0IChISDptbTpzcyksIGZvciBleGFtcGxlOiBgMTQ6NTc6MDBgLiBNb2RlbCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QuIFRoaXMgYmluZGluZyB3aWxsIGFsd2F5cyBvdXRwdXQgYVxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxuICAgKiB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmUgYVxuICAgKiB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cInRpbWUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGltZUV4YW1wbGVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgndGltZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgxOTcwLCAwLCAxLCAxNCwgNTcsIDApXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICBQaWNrIGEgYmV0d2VlbiA4YW0gYW5kIDVwbTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJISDptbTpzc1wiIG1pbj1cIjA4OjAwOjAwXCIgbWF4PVwiMTc6MDA6MDBcIiByZXF1aXJlZCAvPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnRpbWVcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzE0OjU3OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICAqL1xuICAndGltZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3RpbWUnLCBUSU1FX1JFR0VYUCxcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsIFsnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAnSEg6bW06c3Muc3NzJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFt3ZWVrXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCB3ZWVrLW9mLXRoZS15ZWFyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIHRvIERhdGUuIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLCBmb3IgZXhhbXBsZTogYDIwMTMtVzAyYC5cbiAgICAqXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAqXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxuICAgICogdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICogYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICpcbiAgICAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIndlZWstaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwid2Vla0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd3ZWVrRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDAsIDMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIndlZWtcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCIgbWF4PVwiMjAxMy1XNTJcIiByZXF1aXJlZCAvPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LVcwMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFttb250aF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggbW9udGggdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAqIHRoZSBIVE1MNSBtb250aCBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIElmIHRoZSBtb2RlbCBpcyBub3Qgc2V0IHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGgsIHRoZSBuZXh0IHZpZXcgdG8gbW9kZWwgdXBkYXRlIHdpbGwgc2V0IGl0XG4gICAqIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmVcbiAgICogYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3RcbiAgICogYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICBQaWNrIGEgbW9udGggaW4gMjAxMzpcbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTVwiIG1pbj1cIjIwMTMtMDFcIiBtYXg9XCIyMDEzLTEyXCIgcmVxdWlyZWQgLz5cbiAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XG4gICAgICAgICAgTm90IGEgdmFsaWQgbW9udGghPC9zcGFuPlxuICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwifX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICAqL1xuICAnbW9udGgnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdtb250aCcsIE1PTlRIX1JFR0VYUCxcbiAgICAgY3JlYXRlRGF0ZVBhcnNlcihNT05USF9SRUdFWFAsIFsneXl5eScsICdNTSddKSxcbiAgICAgJ3l5eXktTU0nKSxcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W251bWJlcl1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBudW1iZXIgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIFNldHMgdGhlIGBudW1iZXJgIHZhbGlkYXRpb25cbiAgICogZXJyb3IgaWYgbm90IGEgdmFsaWQgbnVtYmVyLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBudW1iZXIsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gaXMgYSBzdHJpbmcgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cCBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYFxuICAgKiAgICBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdmFsdWU6IDEyXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICBOdW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiIG1heD1cIjk5XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm51bWJlclwiPlxuICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWV9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ251bWJlcic6IG51bWJlcklucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdXJsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIFVSTCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgdXJsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgY29udGVudCBpcyBub3QgYVxuICAgKiB2YWxpZCBVUkwuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiBgaW5wdXRbdXJsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIHVybHMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24sIHlvdSBjYW4gdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnlcbiAgICogdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0IHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBpcyBhIHN0cmluZyB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgXG4gICAqICAgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIFVSTDogPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnVybFwiPlxuICAgICAgICAgICAgIE5vdCB2YWxpZCB1cmwhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7dXJsLnRleHR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci51cmwgPSB7eyEhbXlGb3JtLiRlcnJvci51cmx9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCd1cmwudGV4dCcpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXJsLnRleHQnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdodHRwOi8vZ29vZ2xlLmNvbScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IHVybCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdib3gnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAndXJsJzogdXJsSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtlbWFpbF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBlbWFpbCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgZW1haWxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIG5vdCBhIHZhbGlkIGVtYWlsXG4gICAqIGFkZHJlc3MuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiBgaW5wdXRbZW1haWxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgZW1haWwgYWRkcmVzc2VzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uIChlLmcuIHJlcXVpcmluZyBhIHRvcC1sZXZlbCBkb21haW4pLCB5b3UgY2FuXG4gICAqIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5IHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gaXMgYSBzdHJpbmcgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cCBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYFxuICAgKiAgICBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImVtYWlsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImVtYWlsRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2VtYWlsRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdtZUBleGFtcGxlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgICBFbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5lbWFpbFwiPlxuICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzZXRzIHRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGRcbiAgICogICAgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJyZWRcIj4gIFJlZCA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj4gR3JlZW4gPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwiYmx1ZVwiPiBCbHVlIDxici8+XG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gZWxlbWVudChieS5iaW5kaW5nKCdjb2xvci5uYW1lJykpO1xuXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ2NvbG9yLm5hbWUnKSkuZ2V0KDApLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIFZhbHVlMTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj4gPGJyLz5cbiAgICAgICAgICAgVmFsdWUyOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPiA8YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUxID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMX19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1lFUycpO1xuXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKS5jbGljaygpO1xuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTInKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdjaGVja2JveCc6IGNoZWNrYm94SW5wdXRUeXBlLFxuXG4gICdoaWRkZW4nOiBub29wLFxuICAnYnV0dG9uJzogbm9vcCxcbiAgJ3N1Ym1pdCc6IG5vb3AsXG4gICdyZXNldCc6IG5vb3AsXG4gICdmaWxlJzogbm9vcFxufTtcblxuZnVuY3Rpb24gc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCkge1xuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG59XG5cbmZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICB2YXIgdHlwZSA9IGxvd2VyY2FzZShlbGVtZW50WzBdLnR5cGUpO1xuXG4gIC8vIEluIGNvbXBvc2l0aW9uIG1vZGUsIHVzZXJzIGFyZSBzdGlsbCBpbnB1dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsXG4gIC8vIGhvbGQgdGhlIGxpc3RlbmVyIHVudGlsIGNvbXBvc2l0aW9uIGlzIGRvbmUuXG4gIC8vIE1vcmUgYWJvdXQgY29tcG9zaXRpb24gZXZlbnRzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ29tcG9zaXRpb25FdmVudFxuICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHtcbiAgICB2YXIgY29tcG9zaW5nID0gZmFsc2U7XG5cbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29tcG9zaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCksXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcblxuICAgIC8vIEJ5IGRlZmF1bHQgd2Ugd2lsbCB0cmltIHRoZSB2YWx1ZVxuICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcbiAgICBpZiAodHlwZSAhPT0gJ3Bhc3N3b3JkJyAmJiAoIWF0dHIubmdUcmltIHx8IGF0dHIubmdUcmltICE9PSAnZmFsc2UnKSkge1xuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGNvbnRyb2wgaXMgc3VmZmVyaW5nIGZyb20gYmFkIGlucHV0IChkdWUgdG8gbmF0aXZlIHZhbGlkYXRvcnMpLCBicm93c2VycyBkaXNjYXJkIGl0c1xuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcbiAgICAvLyBjb250cm9sJ3MgdmFsdWUgaXMgdGhlIHNhbWUgZW1wdHkgdmFsdWUgdHdpY2UgaW4gYSByb3cuXG4gICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUgfHwgKHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpZiB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgXCJpbnB1dFwiIGV2ZW50LCB3ZSBhcmUgZmluZSAtIGV4Y2VwdCBvbiBJRTkgd2hpY2ggZG9lc24ndCBmaXJlIHRoZVxuICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRpbWVvdXQ7XG5cbiAgICB2YXIgZGVmZXJMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2LCBpbnB1dCwgb3JpZ1ZhbHVlKSB7XG4gICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGtleSA9IGV2ZW50LmtleUNvZGU7XG5cbiAgICAgIC8vIGlnbm9yZVxuICAgICAgLy8gICAgY29tbWFuZCAgICAgICAgICAgIG1vZGlmaWVycyAgICAgICAgICAgICAgICAgICBhcnJvd3NcbiAgICAgIGlmIChrZXkgPT09IDkxIHx8ICgxNSA8IGtleSAmJiBrZXkgPCAxOSkgfHwgKDM3IDw9IGtleSAmJiBrZXkgPD0gNDApKSByZXR1cm47XG5cbiAgICAgIGRlZmVyTGlzdGVuZXIoZXZlbnQsIHRoaXMsIHRoaXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgdXNlciBtb2RpZmllcyBpbnB1dCB2YWx1ZSB1c2luZyBjb250ZXh0IG1lbnUgaW4gSUUsIHdlIG5lZWQgXCJwYXN0ZVwiIGFuZCBcImN1dFwiIGV2ZW50cyB0byBjYXRjaCBpdFxuICAgIGlmICgkc25pZmZlci5oYXNFdmVudCgncGFzdGUnKSkge1xuICAgICAgZWxlbWVudC5vbigncGFzdGUgY3V0JywgZGVmZXJMaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdXNlciBwYXN0ZSBpbnRvIGlucHV0IHVzaW5nIG1vdXNlIG9uIG9sZGVyIGJyb3dzZXJcbiAgLy8gb3IgZm9ybSBhdXRvY29tcGxldGUgb24gbmV3ZXIgYnJvd3Nlciwgd2UgbmVlZCBcImNoYW5nZVwiIGV2ZW50IHRvIGNhdGNoIGl0XG4gIGVsZW1lbnQub24oJ2NoYW5nZScsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50LnZhbChjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtQYXJzZXIoaXNvV2VlaywgZXhpc3RpbmdEYXRlKSB7XG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcbiAgICByZXR1cm4gaXNvV2VlaztcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhpc29XZWVrKSkge1xuICAgIFdFRUtfUkVHRVhQLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcbiAgICBpZiAocGFydHMpIHtcbiAgICAgIHZhciB5ZWFyID0gK3BhcnRzWzFdLFxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXG4gICAgICAgICAgaG91cnMgPSAwLFxuICAgICAgICAgIG1pbnV0ZXMgPSAwLFxuICAgICAgICAgIHNlY29uZHMgPSAwLFxuICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IDAsXG4gICAgICAgICAgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhciksXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xuXG4gICAgICBpZiAoZXhpc3RpbmdEYXRlKSB7XG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xuICAgICAgICBzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldFNlY29uZHMoKTtcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTmFOO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xuICByZXR1cm4gZnVuY3Rpb24oaXNvLCBkYXRlKSB7XG4gICAgdmFyIHBhcnRzLCBtYXA7XG5cbiAgICBpZiAoaXNEYXRlKGlzbykpIHtcbiAgICAgIHJldHVybiBpc287XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxuICAgICAgLy8gc2V0IG9mIGRvdWJsZSBxdW90ZXMuIFRoaXMgbWFrZXMgdGhlIGRhdGUgcGFyc2luZyBjb2RlIHVuYWJsZVxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PSAnXCInICYmIGlzby5jaGFyQXQoaXNvLmxlbmd0aCAtIDEpID09ICdcIicpIHtcbiAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoSVNPX0RBVEVfUkVHRVhQLnRlc3QoaXNvKSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoaXNvKTtcbiAgICAgIH1cbiAgICAgIHJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgcGFydHMgPSByZWdleHAuZXhlYyhpc28pO1xuXG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICBtYXAgPSB7XG4gICAgICAgICAgICB5eXl5OiBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBNTTogZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgICAgIGRkOiBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgIEhIOiBkYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICBtbTogZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgICBzczogZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgICBzc3M6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXAgPSB7IHl5eXk6IDE5NzAsIE1NOiAxLCBkZDogMSwgSEg6IDAsIG1tOiAwLCBzczogMCwgc3NzOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBbbWFwcGluZ1tpbmRleF1dID0gK3BhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hcC55eXl5LCBtYXAuTU0gLSAxLCBtYXAuZGQsIG1hcC5ISCwgbWFwLm1tLCBtYXAuc3MgfHwgMCwgbWFwLnNzcyAqIDEwMDAgfHwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5hTjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLCByZWdleHAsIHBhcnNlRGF0ZSwgZm9ybWF0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkeW5hbWljRGF0ZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyKSB7XG4gICAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICAgIHZhciB0aW1lem9uZSA9IGN0cmwgJiYgY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLnRpbWV6b25lO1xuICAgIHZhciBwcmV2aW91c0RhdGU7XG5cbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9IHR5cGU7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHJlZ2V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAvLyBOb3RlOiBXZSBjYW5ub3QgcmVhZCBjdHJsLiRtb2RlbFZhbHVlLCBhcyB0aGVyZSBtaWdodCBiZSBhIGRpZmZlcmVudFxuICAgICAgICAvLyBwYXJzZXIvZm9ybWF0dGVyIGluIHRoZSBwcm9jZXNzaW5nIGNoYWluIHNvIHRoYXQgdGhlIG1vZGVsXG4gICAgICAgIC8vIGNvbnRhaW5zIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9ybWF0IVxuICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZSwgcHJldmlvdXNEYXRlKTtcbiAgICAgICAgaWYgKHRpbWV6b25lID09PSAnVVRDJykge1xuICAgICAgICAgIHBhcnNlZERhdGUuc2V0TWludXRlcyhwYXJzZWREYXRlLmdldE1pbnV0ZXMoKSAtIHBhcnNlZERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgJiYgIWlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHByZXZpb3VzRGF0ZSAmJiB0aW1lem9uZSA9PT0gJ1VUQycpIHtcbiAgICAgICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSA2MDAwMCAqIHByZXZpb3VzRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IG5ldyBEYXRlKHByZXZpb3VzRGF0ZS5nZXRUaW1lKCkgKyB0aW1lem9uZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKSh2YWx1ZSwgZm9ybWF0LCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XG4gICAgICB2YXIgbWluVmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgICB2YXIgbWF4VmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPD0gbWF4VmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtYXhWYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgICAgLy8gSW52YWxpZCBEYXRlOiBnZXRUaW1lKCkgcmV0dXJucyBOYU5cbiAgICAgIHJldHVybiB2YWx1ZSAmJiAhKHZhbHVlLmdldFRpbWUgJiYgdmFsdWUuZ2V0VGltZSgpICE9PSB2YWx1ZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgPyAoaXNEYXRlKHZhbCkgPyB2YWwgOiBwYXJzZURhdGUodmFsKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XG4gIGlmIChuYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xuICAgICAgLy8gRGV0ZWN0IGJ1ZyBpbiBGRjM1IGZvciBpbnB1dFtlbWFpbF0gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEwNjQ0MzApOlxuICAgICAgLy8gLSBhbHNvIHNldHMgdmFsaWRpdHkuYmFkSW5wdXQgKHNob3VsZCBvbmx5IGJlIHZhbGlkaXR5LnR5cGVNaXNtYXRjaCkuXG4gICAgICAvLyAtIHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9mb3Jtcy5odG1sI2UtbWFpbC1zdGF0ZS0odHlwZT1lbWFpbClcbiAgICAgIC8vIC0gY2FuIGlnbm9yZSB0aGlzIGNhc2UgYXMgd2UgY2FuIHN0aWxsIHJlYWQgb3V0IHRoZSBlcnJvbmVvdXMgZW1haWwuLi5cbiAgICAgIHJldHVybiB2YWxpZGl0eS5iYWRJbnB1dCAmJiAhdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKE5VTUJFUl9SRUdFWFAudGVzdCh2YWx1ZSkpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIWN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChhdHRyLm1pbiB8fCBhdHRyLm5nTWluKSB7XG4gICAgdmFyIG1pblZhbDtcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCB2YWx1ZSA+PSBtaW5WYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gICAgICB9XG4gICAgICBtaW5WYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGF0dHIubWF4IHx8IGF0dHIubmdNYXgpIHtcbiAgICB2YXIgbWF4VmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgICAgIH1cbiAgICAgIG1heFZhbCA9IGlzTnVtYmVyKHZhbCkgJiYgIWlzTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICd1cmwnO1xuICBjdHJsLiR2YWxpZGF0b3JzLnVybCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBVUkxfUkVHRVhQLnRlc3QodmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBlbWFpbElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnZW1haWwnO1xuICBjdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmFkaW9JbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgLy8gbWFrZSB0aGUgbmFtZSB1bmlxdWUsIGlmIG5vdCBkZWZpbmVkXG4gIGlmIChpc1VuZGVmaW5lZChhdHRyLm5hbWUpKSB7XG4gICAgZWxlbWVudC5hdHRyKCduYW1lJywgbmV4dFVpZCgpKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGVsZW1lbnRbMF0uY2hlY2tlZCkge1xuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9ICh2YWx1ZSA9PSBjdHJsLiR2aWV3VmFsdWUpO1xuICB9O1xuXG4gIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgY3RybC4kcmVuZGVyKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBjb250ZXh0LCBuYW1lLCBleHByZXNzaW9uLCBmYWxsYmFjaykge1xuICB2YXIgcGFyc2VGbjtcbiAgaWYgKGlzRGVmaW5lZChleHByZXNzaW9uKSkge1xuICAgIHBhcnNlRm4gPSAkcGFyc2UoZXhwcmVzc2lvbik7XG4gICAgaWYgKCFwYXJzZUZuLmNvbnN0YW50KSB7XG4gICAgICB0aHJvdyBtaW5FcnIoJ25nTW9kZWwnKSgnY29uc3RleHByJywgJ0V4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYHsxfWAuJywgbmFtZSwgZXhwcmVzc2lvbik7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZuKGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHZhciB0cnVlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdUcnVlVmFsdWUnLCBhdHRyLm5nVHJ1ZVZhbHVlLCB0cnVlKTtcbiAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xuICB9O1xuXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcblxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xuICB9KTtcblxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvblxuICogcHJvcGVydGllcyBvZiB0aGlzIGVsZW1lbnQgYXJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGVcbiAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGlucHV0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCBpbnB1dCBlbGVtZW50IGNvbnRyb2wuIFdoZW4gdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sIGl0IHByb3ZpZGVzIGRhdGEtYmluZGluZyxcbiAqIGlucHV0IHN0YXRlIGNvbnRyb2wsIGFuZCB2YWxpZGF0aW9uLlxuICogSW5wdXQgY29udHJvbCBmb2xsb3dzIEhUTUw1IGlucHV0IHR5cGVzIGFuZCBwb2x5ZmlsbHMgdGhlIEhUTUw1IHZhbGlkYXRpb24gYmVoYXZpb3IgZm9yIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogTm90IGV2ZXJ5IGZlYXR1cmUgb2ZmZXJlZCBpcyBhdmFpbGFibGUgZm9yIGFsbCBpbnB1dCB0eXBlcy5cbiAqIFNwZWNpZmljYWxseSwgZGF0YSBiaW5kaW5nIGFuZCBldmVudCBoYW5kbGluZyB2aWEgYG5nLW1vZGVsYCBpcyB1bnN1cHBvcnRlZCBmb3IgYGlucHV0W2ZpbGVdYC5cbiAqIDwvZGl2PlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nUmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBpZiBzZXQgdG8gdHJ1ZVxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGVcbiAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxuICogICAgaW5wdXQuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7bmFtZTogJ2d1ZXN0JywgbGFzdDogJ3Zpc2l0b3InfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgICAgICBVc2VyIG5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICAgIExhc3QgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgbmctbW9kZWw9XCJ1c2VyLmxhc3RcIlxuICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoXCI+XG4gICAgICAgICAgICAgVG9vIHNob3J0ITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aFwiPlxuICAgICAgICAgICAgIFRvbyBsb25nITwvc3Bhbj48YnI+XG4gICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8aHI+XG4gICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kdmFsaWQgPSB7e215Rm9ybS5sYXN0TmFtZS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxicj5cbiAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHVzZXIgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygndXNlcicpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS51c2VyTmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJHZhbGlkJykpO1xuICAgICAgICB2YXIgbGFzdE5hbWVFcnJvciA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiRlcnJvcicpKTtcbiAgICAgICAgdmFyIGZvcm1WYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XG4gICAgICAgIHZhciB1c2VyTGFzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5sYXN0JykpO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwidmlzaXRvclwifScpO1xuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHkgd2hlbiByZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSB2YWxpZCBpZiBlbXB0eSB3aGVuIG1pbiBsZW5ndGggaXMgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxlc3MgdGhhbiByZXF1aXJlZCBtaW4gbGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3h4Jyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWlubGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxvbmdlciB0aGFuIG1heCBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnc29tZSByaWRpY3Vsb3VzbHkgbG9uZyBuYW1lJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWF4bGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgaW5wdXREaXJlY3RpdmUgPSBbJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRmaWx0ZXInLCAnJHBhcnNlJyxcbiAgICBmdW5jdGlvbigkYnJvd3NlciwgJHNuaWZmZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWyc/bmdNb2RlbCddLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIGlmIChjdHJsc1swXSkge1xuICAgICAgICAgIChpbnB1dFR5cGVbbG93ZXJjYXNlKGF0dHIudHlwZSldIHx8IGlucHV0VHlwZS50ZXh0KShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHNbMF0sICRzbmlmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG5cblxudmFyIENPTlNUQU5UX1ZBTFVFX1JFR0VYUCA9IC9eKHRydWV8ZmFsc2V8XFxkKykkLztcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdWYWx1ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQmluZHMgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIG9mIGA8b3B0aW9uPmAgb3Ige0BsaW5rIGlucHV0W3JhZGlvXSBgaW5wdXRbcmFkaW9dYH0sXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCBpcyBzZXQgdG9cbiAqIHRoZSBib3VuZCB2YWx1ZS5cbiAqXG4gKiBgbmdWYWx1ZWAgaXMgdXNlZnVsIHdoZW4gZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBsaXN0cyBvZiByYWRpbyBidXR0b25zIHVzaW5nXG4gKiB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNob3duIGJlbG93LlxuICpcbiAqIExpa2V3aXNlLCBgbmdWYWx1ZWAgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYDxvcHRpb24+YCBlbGVtZW50cyBmb3JcbiAqIHRoZSB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBlbGVtZW50LiBJbiB0aGF0IGNhc2UgaG93ZXZlciwgb25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWRcbiAqIGZvciB0aGUgYHZhbHVlIGBhdHRyaWJ1dGUsIHNvIHRoZSByZXN1bHRpbmcgYG5nTW9kZWxgIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nLlxuICogU3VwcG9ydCBmb3IgYHNlbGVjdGAgbW9kZWxzIHdpdGggbm9uLXN0cmluZyB2YWx1ZXMgaXMgYXZhaWxhYmxlIHZpYSBgbmdPcHRpb25zYC5cbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcbiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudFxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8aDI+V2hpY2ggaXMgeW91ciBmYXZvcml0ZT88L2gyPlxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxuICAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tuYW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBiaW5kIHRoZSB2YWx1ZXMgdG8gdGhlIGlucHV0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XG4gICAgICBpZiAoQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kYCBhdHRyaWJ1dGUgdGVsbHMgQW5ndWxhciB0byByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHNwZWNpZmllZCBIVE1MIGVsZW1lbnRcbiAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXRcbiAqIGV4cHJlc3Npb24gY2hhbmdlcy5cbiAqXG4gKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZVxuICogYHt7IGV4cHJlc3Npb24gfX1gIHdoaWNoIGlzIHNpbWlsYXIgYnV0IGxlc3MgdmVyYm9zZS5cbiAqXG4gKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCBpZiBhIHRlbXBsYXRlIGlzIG1vbWVudGFyaWx5XG4gKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyBzdGF0ZSBiZWZvcmUgQW5ndWxhciBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cbiAqIGVsZW1lbnQgYXR0cmlidXRlLCBpdCBtYWtlcyB0aGUgYmluZGluZ3MgaW52aXNpYmxlIHRvIHRoZSB1c2VyIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcuXG4gKlxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9IGRpcmVjdGl2ZS5cbiAqXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICBFbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48YnI+XG4gICAgICAgICBIZWxsbyA8c3BhbiBuZy1iaW5kPVwibmFtZVwiPjwvc3Bhbj4hXG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygnd29ybGQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmREaXJlY3RpdmUgPSBbJyRjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmQpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJycgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxuICogdGV4dCBjb250ZW50IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHRoZSBpbnRlcnBvbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZVxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxuICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcbiAqIGV4cHJlc3Npb25zLiBUaGlzIGRpcmVjdGl2ZSBpcyBuZWVkZWQgc2luY2Ugc29tZSBIVE1MIGVsZW1lbnRzXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cbiAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBTYWx1dGF0aW9uOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNhbHV0YXRpb25cIj48YnI+XG4gICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjxicj5cbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XG5cbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcblxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8cCBuZy1iaW5kLWh0bWw9XCJteUhUTUxcIj48L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLm15SFRNTCA9XG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXG4gICAgICAgICAgICAgICc8YSBocmVmPVwiI1wiPmxpbmtzITwvYT4gYW5kIG90aGVyIDxlbT5zdHVmZjwvZW0+JztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbXlIVE1MJykpLmdldFRleHQoKSkudG9CZShcbiAgICAgICAgICAgICAnSSBhbSBhbiBIVE1Mc3RyaW5nIHdpdGggbGlua3MhIGFuZCBvdGhlciBzdHVmZicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgJyRwYXJzZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRzY2UsICRwYXJzZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZEh0bWxDb21waWxlKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgIHZhciBuZ0JpbmRIdG1sR2V0dGVyID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKTtcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZEh0bWxMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2gobmdCaW5kSHRtbFdhdGNoLCBmdW5jdGlvbiBuZ0JpbmRIdG1sV2F0Y2hBY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgcmUtZXZhbHVhdGUgdGhlIGV4cHIgYmVjYXVzZSB3ZSB3YW50IGEgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICAgIC8vIGZvciAkc2NlLCBub3QgYSBzdHJpbmdcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKSkgfHwgJycpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xuICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTtcbiAgcmV0dXJuIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBvbGRWYWw7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmFtZV0sIG5nQ2xhc3NXYXRjaEFjdGlvbiwgdHJ1ZSk7XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG5nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKG5hbWUgIT09ICduZ0NsYXNzJykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgICAgICAgICAgdmFyIG1vZCA9ICRpbmRleCAmIDE7XG4gICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHtcbiAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBhcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICAgICAgICBtb2QgPT09IHNlbGVjdG9yID9cbiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDpcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGNsYXNzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCAxKTtcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgY291bnQpIHtcbiAgICAgICAgICB2YXIgY2xhc3NDb3VudHMgPSBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycpIHx8IHt9O1xuICAgICAgICAgIHZhciBjbGFzc2VzVG9VcGRhdGUgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMCB8fCBjbGFzc0NvdW50c1tjbGFzc05hbWVdKSB7XG4gICAgICAgICAgICAgIGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPSAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSB8fCAwKSArIGNvdW50O1xuICAgICAgICAgICAgICBpZiAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9PT0gKyhjb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJywgY2xhc3NDb3VudHMpO1xuICAgICAgICAgIHJldHVybiBjbGFzc2VzVG9VcGRhdGUuam9pbignICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIHRvQWRkID0gYXJyYXlEaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgICB0b0FkZCA9IGRpZ2VzdENsYXNzQ291bnRzKHRvQWRkLCAxKTtcbiAgICAgICAgICB0b1JlbW92ZSA9IGRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlLCAtMSk7XG4gICAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xuICAgICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgdG9BZGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCB0b1JlbW92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gdHJ1ZSB8fCBzY29wZS4kaW5kZXggJSAyID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBhcnJheUNsYXNzZXMobmV3VmFsIHx8IFtdKTtcbiAgICAgICAgICAgIGlmICghb2xkVmFsKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFlcXVhbHMobmV3VmFsLG9sZFZhbCkpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBhcnJheUNsYXNzZXMob2xkVmFsKTtcbiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgb2xkVmFsID0gc2hhbGxvd0NvcHkobmV3VmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSwgdG9rZW5zMikge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zMS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAodG9rZW4gPT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnB1c2godG9rZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUNsYXNzZXMoY2xhc3NWYWwpIHtcbiAgICAgIGlmIChpc0FycmF5KGNsYXNzVmFsKSkge1xuICAgICAgICByZXR1cm4gY2xhc3NWYWw7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNsYXNzVmFsKSkge1xuICAgICAgICByZXR1cm4gY2xhc3NWYWwuc3BsaXQoJyAnKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY2xhc3NWYWwpKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gW107XG4gICAgICAgIGZvckVhY2goY2xhc3NWYWwsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KGsuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xhc3NWYWw7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZHluYW1pY2FsbHkgc2V0IENTUyBjbGFzc2VzIG9uIGFuIEhUTUwgZWxlbWVudCBieSBkYXRhYmluZGluZ1xuICogYW4gZXhwcmVzc2lvbiB0aGF0IHJlcHJlc2VudHMgYWxsIGNsYXNzZXMgdG8gYmUgYWRkZWQuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBvcGVyYXRlcyBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cywgZGVwZW5kaW5nIG9uIHdoaWNoIG9mIHRocmVlIHR5cGVzIHRoZSBleHByZXNzaW9uXG4gKiBldmFsdWF0ZXMgdG86XG4gKlxuICogMS4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHNob3VsZCBiZSBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NcbiAqIG5hbWVzLlxuICpcbiAqIDIuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgYmUgYSBzdHJpbmcgdGhhdCBpc1xuICogb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzIG5hbWVzLlxuICpcbiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBvYmplY3QsIHRoZW4gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlXG4gKiBvYmplY3Qgd2l0aCBhIHRydXRoeSB2YWx1ZSB0aGUgY29ycmVzcG9uZGluZyBrZXkgaXMgdXNlZCBhcyBhIGNsYXNzIG5hbWUuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC5cbiAqXG4gKiBXaGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIHRoZSBwcmV2aW91c2x5IGFkZGVkIGNsYXNzZXMgYXJlIHJlbW92ZWQgYW5kIG9ubHkgdGhlbiB0aGVcbiAqIG5ldyBjbGFzc2VzIGFyZSBhZGRlZC5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogKiphZGQqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRzXG4gKlxuICogKipyZW1vdmUqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsIHJlZDogZXJyb3J9XCI+TWFwIFN5bnRheCBFeGFtcGxlPC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj4gZGVsZXRlZCAoYXBwbHkgXCJzdHJpa2VcIiBjbGFzcyk8YnI+XG4gICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiaW1wb3J0YW50XCI+IGltcG9ydGFudCAoYXBwbHkgXCJib2xkXCIgY2xhc3MpPGJyPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImVycm9yXCI+IGVycm9yIChhcHBseSBcInJlZFwiIGNsYXNzKVxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cInN0eWxlXCI+VXNpbmcgU3RyaW5nIFN5bnRheDwvcD5cbiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInN0eWxlXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCI+PGJyPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMlwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIiBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gICAgICAgfVxuICAgICAgIC5ib2xkIHtcbiAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgfVxuICAgICAgIC5yZWQge1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvcmVkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL3JlZC8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cblxuXG4gICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgbmcuJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Nsb2FrXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xuICogb2YgdGhlIGJyb3dzZXIgdmlldy5cbiAqXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXG4gKiBgYW5ndWxhci5taW4uanNgLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgY3NzXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGlzIGNzcyBydWxlIGlzIGxvYWRlZCBieSB0aGUgYnJvd3NlciwgYWxsIGh0bWwgZWxlbWVudHMgKGluY2x1ZGluZyB0aGVpciBjaGlsZHJlbikgdGhhdFxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBMZWdhY3kgYnJvd3NlcnMsIGxpa2UgSUU3LCBkbyBub3QgcHJvdmlkZSBhdHRyaWJ1dGUgc2VsZWN0b3Igc3VwcG9ydCAoYWRkZWQgaW4gQ1NTIDIuMSkgc28gdGhleVxuICogY2Fubm90IG1hdGNoIHRoZSBgW25nXFw6Y2xvYWtdYCBzZWxlY3Rvci4gVG8gd29yayBhcm91bmQgdGhpcyBsaW1pdGF0aW9uLCB5b3UgbXVzdCBhZGQgdGhlIGNzc1xuICogY2xhc3MgYG5nLWNsb2FrYCBpbiBhZGRpdGlvbiB0byB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBuZy1jbG9hayBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ2hlbGxvIElFNycgfX08L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxuICogc3VwcG9ydHMgdGhlIHByaW5jaXBsZXMgYmVoaW5kIHRoZSBNb2RlbC1WaWV3LUNvbnRyb2xsZXIgZGVzaWduIHBhdHRlcm4uXG4gKlxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcbiAqXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxuICogKiBWaWV3IOKAlCBUaGUgdGVtcGxhdGUgKEhUTUwgd2l0aCBkYXRhIGJpbmRpbmdzKSB0aGF0IGlzIHJlbmRlcmVkIGludG8gdGhlIFZpZXcuXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXG4gKiBhZ2FpbiB1c2luZyBgbmctY29udHJvbGxlcmAgaW4gdGhlIHRlbXBsYXRlIGl0c2VsZi4gIFRoaXMgd2lsbCBjYXVzZSB0aGUgY29udHJvbGxlciB0byBiZSBhdHRhY2hlZFxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNTAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29udHJvbGxlciBOYW1lIG9mIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxuICogYWxzbyBiZSB0aGUgbmFtZSBvZiBhIGdsb2JhbGx5IGFjY2Vzc2libGUgY29uc3RydWN0b3IgZnVuY3Rpb24gKG5vdCByZWNvbW1lbmRlZCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmRcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXIgY29tbXVuaXR5LCBhbmQgaXMgZ2VuZXJhbGx5IHVzZWQgaW4gYm9pbGVycGxhdGVzXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXG4gKlxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxuICogKiBJZiB5b3UgYXJlIHdyaXRpbmcgeW91ciBjb250cm9sbGVycyBhcyBjbGFzc2VzIHlvdSBoYXZlIGVhc2llciBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgYW5kXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcbiAqIGluaGVyaXRhbmNlIG1hc2tpbmcgcHJpbWl0aXZlcy5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxkaXYgaWQ9XCJjdHJsLWFzLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcIj5cbiAqICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPlxuICogICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmdyZWV0KClcIj5ncmVldDwvYT4gXTxici8+XG4gKiAgICAgIENvbnRhY3Q6XG4gKiAgICAgIDx1bD5cbiAqICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0c1wiPlxuICogICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiPlxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9hPlxuICogICAgICAgICAgfCA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpXCI+WDwvYT4gXVxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPlsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9hPiBdPC9saT5cbiAqICAgICA8L3VsPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcbiAqXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xuICogICAgICB0aGlzLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcbiAqICAgIH1cbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICBhbGVydCh0aGlzLm5hbWUpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICB0aGlzLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgfTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKlxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubGlua1RleHQoJ2NsZWFyJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5saW5rVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cbiAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XG4gKiAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPlxuICogICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9hPiBdPGJyLz5cbiAqICAgICBDb250YWN0OlxuICogICAgIDx1bD5cbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgIDwvc2VsZWN0PlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2E+XG4gKiAgICAgICAgIHwgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2E+IF1cbiAqICAgICAgIDwvbGk+XG4gKiAgICAgICA8bGk+WyA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2E+IF08L2xpPlxuICogICAgPC91bD5cbiAqICAgPC9kaXY+XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gKiAgICAgJHNjb3BlLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07XG4gKlxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgICB9O1xuICogICB9XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5saW5rVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmxpbmtUZXh0KCdhZGQnKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICB9KTtcbiAqICA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cblxuICovXG52YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0AnLFxuICAgIHByaW9yaXR5OiA1MDBcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3NwXG4gKlxuICogQGVsZW1lbnQgaHRtbFxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBzdXBwb3J0LlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKiBDU1AgZm9yYmlkcyBhcHBzIHRvIHVzZSBgZXZhbGAgb3IgYEZ1bmN0aW9uKHN0cmluZylgIGdlbmVyYXRlZCBmdW5jdGlvbnMgKGFtb25nIG90aGVyIHRoaW5ncykuXG4gKiBGb3IgQW5ndWxhciB0byBiZSBDU1AgY29tcGF0aWJsZSB0aGVyZSBhcmUgb25seSB0d28gdGhpbmdzIHRoYXQgd2UgbmVlZCB0byBkbyBkaWZmZXJlbnRseTpcbiAqXG4gKiAtIGRvbid0IHVzZSBgRnVuY3Rpb25gIGNvbnN0cnVjdG9yIHRvIGdlbmVyYXRlIG9wdGltaXplZCB2YWx1ZSBnZXR0ZXJzXG4gKiAtIGRvbid0IGluamVjdCBjdXN0b20gc3R5bGVzaGVldCBpbnRvIHRoZSBkb2N1bWVudFxuICpcbiAqIEFuZ3VsYXJKUyB1c2VzIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zIGFzIGEgc3BlZWQgb3B0aW1pemF0aW9uLiBBcHBseWluZyB0aGUgYG5nQ3NwYFxuICogZGlyZWN0aXZlIHdpbGwgY2F1c2UgQW5ndWxhciB0byB1c2UgQ1NQIGNvbXBhdGliaWxpdHkgbW9kZS4gV2hlbiB0aGlzIG1vZGUgaXMgb24gQW5ndWxhckpTIHdpbGxcbiAqIGV2YWx1YXRlIGFsbCBleHByZXNzaW9ucyB1cCB0byAzMCUgc2xvd2VyIHRoYW4gaW4gbm9uLUNTUCBtb2RlLCBidXQgbm8gc2VjdXJpdHkgdmlvbGF0aW9ucyB3aWxsXG4gKiBiZSByYWlzZWQuXG4gKlxuICogQ1NQIGZvcmJpZHMgSmF2YVNjcmlwdCB0byBpbmxpbmUgc3R5bGVzaGVldCBydWxlcy4gSW4gbm9uIENTUCBtb2RlIEFuZ3VsYXIgYXV0b21hdGljYWxseVxuICogaW5jbHVkZXMgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9KS5cbiAqIFRvIG1ha2UgdGhvc2UgZGlyZWN0aXZlcyB3b3JrIGluIENTUCBtb2RlLCBpbmNsdWRlIHRoZSBgYW5ndWxhci1jc3AuY3NzYCBtYW51YWxseS5cbiAqXG4gKiBBbmd1bGFyIHRyaWVzIHRvIGF1dG9kZXRlY3QgaWYgQ1NQIGlzIGFjdGl2ZSBhbmQgYXV0b21hdGljYWxseSB0dXJuIG9uIHRoZSBDU1Atc2FmZSBtb2RlLiBUaGlzXG4gKiBhdXRvZGV0ZWN0aW9uIGhvd2V2ZXIgdHJpZ2dlcnMgYSBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxuICpcbiAqIGBgYFxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSBvbiB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBvciBvbiB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCB0YWcsIHdoaWNoZXZlclxuICogYXBwZWFycyBmaXJzdCBpbiB0aGUgaHRtbCBkb2N1bWVudC5cbiAqXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBhcHBseSB0aGUgYG5nQ3NwYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gICBgYGBodG1sXG4gICAgIDwhZG9jdHlwZSBodG1sPlxuICAgICA8aHRtbCBuZy1hcHAgbmctY3NwPlxuICAgICAuLi5cbiAgICAgLi4uXG4gICAgIDwvaHRtbD5cbiAgIGBgYFxuICAqIEBleGFtcGxlXG4gICAgICAvLyBOb3RlOiB0aGUgc3VmZml4IGAuY3NwYCBpbiB0aGUgZXhhbXBsZSBuYW1lIHRyaWdnZXJzXG4gICAgICAvLyBjc3AgbW9kZSBpbiBvdXIgaHR0cCBzZXJ2ZXIhXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZXhhbXBsZS5jc3BcIiBtb2R1bGU9XCJjc3BFeGFtcGxlXCIgbmctY3NwPVwidHJ1ZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XG4gICAgICAgICAgICAgICAge3tjdHJsLmNvdW50ZXJ9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuZXZpbCgpXCIgaWQ9XCJldmlsXCI+RXZpbDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGpzaGludCBldmlsOnRydWVcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoJzErMicpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2aWxFcnJvciA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHV0aWwsIHdlYmRyaXZlcjtcblxuICAgICAgICAgIHZhciBpbmNCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbmMnKSk7XG4gICAgICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xuICAgICAgICAgIHZhciBldmlsQnRuID0gZWxlbWVudChieS5pZCgnZXZpbCcpKTtcbiAgICAgICAgICB2YXIgZXZpbEVycm9yID0gZWxlbWVudChieS5pZCgnZXZpbEVycm9yJykpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5tYW5hZ2UoKS5sb2dzKCkuZ2V0KCdicm93c2VyJykudGhlbihmdW5jdGlvbihicm93c2VyTG9nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBicm93c2VyTG9nLmZpbHRlcihmdW5jdGlvbihsb2dFbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2dFbnRyeS5sZXZlbC52YWx1ZSA+IHdlYmRyaXZlci5sb2dnaW5nLkxldmVsLldBUk5JTkcudmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdE5vRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExvZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYnJvd3NlciBjb25zb2xlIGVycm9yczogJyArIHV0aWwuaW5zcGVjdChmaWx0ZXJlZExvZykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3RFcnJvcihyZWdleCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBmaWx0ZXJlZExvZy5mb3JFYWNoKGZ1bmN0aW9uKGxvZykge1xuICAgICAgICAgICAgICAgIGlmIChsb2cubWVzc2FnZS5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhbiBlcnJvciB0aGF0IG1hdGNoZXMgJyArIHJlZ2V4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG4gICAgICAgICAgICB3ZWJkcml2ZXIgPSByZXF1aXJlKCdwcm90cmFjdG9yL25vZGVfbW9kdWxlcy9zZWxlbml1bS13ZWJkcml2ZXInKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEZvciBub3csIHdlIG9ubHkgdGVzdCBvbiBDaHJvbWUsXG4gICAgICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcbiAgICAgICAgICAvLyBhbmQgRmlyZWZveCB3ZWJkcml2ZXIgYWx3YXlzIGRpc2FibGVzIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5ICgjNjM1OClcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciAhPT0gJ2Nocm9tZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIG5vdCByZXBvcnQgZXJyb3JzIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgYXJlIG5vdCBkZXBlbmRlbnQgb24gcHJldmlvdXMgdGVzdHNcbiAgICAgICAgICAgIGNsZWFyRXJyb3JzKCk7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbG9hZCB0aGUgcGFnZSBhcyB0aGUgcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3aGVuXG4gICAgICAgICAgICAvLyB3ZSBjb21lIGhlcmVcbiAgICAgICAgICAgIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICBicm93c2VyLmdldCh1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSBleHByZXNzaW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcwJyk7XG4gICAgICAgICAgICBpbmNCdG4uY2xpY2soKTtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBldmlsQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoZXZpbEVycm9yLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICovXG5cbi8vIG5nQ3NwIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBhIHByb3BlciBkaXJlY3RpdmUgYW55IG1vcmUsIGJlY2F1c2Ugd2UgbmVlZCBpdCBiZSBwcm9jZXNzZWQgd2hpbGUgd2Vcbi8vIGJvb3RzdHJhcCB0aGUgc3lzdGVtIChiZWZvcmUgJHBhcnNlIGlzIGluc3RhbnRpYXRlZCksIGZvciB0aGlzIHJlYXNvbiB3ZSBqdXN0IGhhdmVcbi8vIHRoZSBjc3AuaXNBY3RpdmUoKSBmbiB0aGF0IGxvb2tzIGZvciBuZy1jc3AgYXR0cmlidXRlIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvY1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cbiAqIGFuIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudFxuICAgICAgPC9idXR0b24+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICAgPC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi8qXG4gKiBBIGNvbGxlY3Rpb24gb2YgZGlyZWN0aXZlcyB0aGF0IGFsbG93cyBjcmVhdGlvbiBvZiBjdXN0b20gZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhc1xuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXG4gKi9cbnZhciBuZ0V2ZW50RGlyZWN0aXZlcyA9IHt9O1xuXG4vLyBGb3IgZXZlbnRzIHRoYXQgbWlnaHQgZmlyZSBzeW5jaHJvbm91c2x5IGR1cmluZyBET00gbWFuaXB1bGF0aW9uXG4vLyB3ZSBuZWVkIHRvIGV4ZWN1dGUgdGhlaXIgZXZlbnQgaGFuZGxlcnMgYXN5bmNocm9ub3VzbHkgdXNpbmcgJGV2YWxBc3luYyxcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cbnZhciBmb3JjZUFzeW5jRXZlbnRzID0ge1xuICAnYmx1cic6IHRydWUsXG4gICdmb2N1cyc6IHRydWVcbn07XG5mb3JFYWNoKFxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcbiAgZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBldmVudE5hbWUpO1xuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAvLyBXZSBleHBvc2UgdGhlIHBvd2VyZnVsICRldmVudCBvYmplY3Qgb24gdGhlIHNjb3BlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBXaW5kb3csXG4gICAgICAgICAgLy8gZXRjLiB0aGF0IGlzbid0IHByb3RlY3RlZCBieSB0aGUgZmFzdCBwYXRocyBpbiAkcGFyc2UuICBXZSBleHBsaWNpdGx5IHJlcXVlc3QgYmV0dGVyXG4gICAgICAgICAgLy8gY2hlY2tzIGF0IHRoZSBjb3N0IG9mIHNwZWVkIHNpbmNlIGV2ZW50IGhhbmRsZXIgZXhwcmVzc2lvbnMgYXJlIG5vdCBleGVjdXRlZCBhc1xuICAgICAgICAgIC8vIGZyZXF1ZW50bHkgYXMgcmVndWxhciBjaGFuZ2UgZGV0ZWN0aW9uLlxuICAgICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdLCAvKiBpbnRlcmNlcHRvckZuICovIG51bGwsIC8qIGV4cGVuc2l2ZUNoZWNrcyAqLyB0cnVlKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdFdmVudEhhbmRsZXIoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oZXZlbnROYW1lLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDpldmVudH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZm9yY2VBc3luY0V2ZW50c1tldmVudE5hbWVdICYmICRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG4gIH1cbik7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEYmxjbGlja1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0RibGNsaWNrYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBhIGRibGNsaWNrIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEYmxjbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBhIGRibGNsaWNrLiAoVGhlIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGApXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50IChvbiBkb3VibGUgY2xpY2spXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nTW91c2Vkb3duIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgZG93bilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2V1cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2V1cCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2V1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZXVwLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgdXApXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW92ZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlb3ZlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VvdmVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlb3Zlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW92ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBpcyBvdmVyKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWVudGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWVudGVyIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWVudGVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZW50ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VlbnRlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VsZWF2ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VsZWF2ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VsZWF2ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbGVhdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBsZWF2ZXMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbW92ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2Vtb3ZlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW1vdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2Vtb3ZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbW92ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIG1vdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXlkb3duXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICBrZXkgZG93biBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXl1cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5dXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleXVwLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXkgY291bnQ8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPiBrZXkgdXAgY291bnQ6IHt7Y291bnR9fVxuXG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5Y29kZTwvcD5cbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJldmVudD0kZXZlbnRcIj5cbiAgICAgICA8cD5ldmVudCBrZXlDb2RlOiB7eyBldmVudC5rZXlDb2RlIH19PC9wPlxuICAgICAgIDxwPmV2ZW50IGFsdEtleToge3sgZXZlbnQuYWx0S2V5IH19PC9wPlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5cHJlc3NcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXByZXNzIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXByZXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleXByZXNzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfVxuICogYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmcta2V5cHJlc3M9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICBrZXkgcHJlc3MgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3VibWl0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIGJpbmRpbmcgYW5ndWxhciBleHByZXNzaW9ucyB0byBvbnN1Ym1pdCBldmVudHMuXG4gKlxuICogQWRkaXRpb25hbGx5IGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiAod2hpY2ggZm9yIGZvcm0gbWVhbnMgc2VuZGluZyB0aGUgcmVxdWVzdCB0byB0aGVcbiAqIHNlcnZlciBhbmQgcmVsb2FkaW5nIHRoZSBjdXJyZW50IHBhZ2UpLCBidXQgb25seSBpZiB0aGUgZm9ybSBkb2VzIG5vdCBjb250YWluIGBhY3Rpb25gLFxuICogYGRhdGEtYWN0aW9uYCwgb3IgYHgtYWN0aW9uYCBhdHRyaWJ1dGVzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKldhcm5pbmc6KiogQmUgY2FyZWZ1bCBub3QgdG8gY2F1c2UgXCJkb3VibGUtc3VibWlzc2lvblwiIGJ5IHVzaW5nIGJvdGggdGhlIGBuZ0NsaWNrYCBhbmRcbiAqIGBuZ1N1Ym1pdGAgaGFuZGxlcnMgdG9nZXRoZXIuIFNlZSB0aGVcbiAqIHtAbGluayBmb3JtI3N1Ym1pdHRpbmctYS1mb3JtLWFuZC1wcmV2ZW50aW5nLXRoZS1kZWZhdWx0LWFjdGlvbiBgZm9ybWAgZGlyZWN0aXZlIGRvY3VtZW50YXRpb259XG4gKiBmb3IgYSBkZXRhaWxlZCBkaXNjdXNzaW9uIG9mIHdoZW4gYG5nU3VibWl0YCBtYXkgYmUgdHJpZ2dlcmVkLlxuICogPC9kaXY+XG4gKlxuICogQGVsZW1lbnQgZm9ybVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdWJtaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzdWJtaXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3VibWl0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnaGVsbG8nO1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdC5wdXNoKHRoaXMudGV4dCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5nLXN1Ym1pdD1cInN1Ym1pdCgpXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIEVudGVyIHRleHQgYW5kIGhpdCBlbnRlcjpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgbmFtZT1cInRleHRcIiAvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGlkPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxuICAgICAgICA8cHJlPmxpc3Q9e3tsaXN0fX08L3ByZT5cbiAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdWJtaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7XG4gICAgICAgfSk7XG4gICAgICAgaXQoJ3Nob3VsZCBpZ25vcmUgZW1wdHkgc3RyaW5ncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRm9jdXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgZm9jdXNgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgd2hlbiBjYWxsaW5nIGBpbnB1dC5mb2N1cygpYFxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRm9jdXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JsdXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGJsdXIgZXZlbnQuXG4gKlxuICogQSBbYmx1ciBldmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2JsdXIpIGZpcmVzIHdoZW5cbiAqIGFuIGVsZW1lbnQgaGFzIGxvc3QgZm9jdXMuXG4gKlxuICogTm90ZTogQXMgdGhlIGBibHVyYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IGFsc28gZHVyaW5nIERPTSBtYW5pcHVsYXRpb25zXG4gKiAoZS5nLiByZW1vdmluZyBhIGZvY3Vzc2VkIGlucHV0KSxcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JsdXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYmx1ci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29weVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY29weSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvcHkge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY29weS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWNvcHk9XCJjb3BpZWQ9dHJ1ZVwiIG5nLWluaXQ9XCJjb3BpZWQ9ZmFsc2U7IHZhbHVlPSdjb3B5IG1lJ1wiIG5nLW1vZGVsPVwidmFsdWVcIj5cbiAgICAgIGNvcGllZDoge3tjb3BpZWR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0N1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY3V0IGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ3V0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGN1dC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjdXQ6IHt7Y3V0fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQYXN0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gcGFzdGUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdQYXN0ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBwYXN0ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLXBhc3RlPVwicGFzdGU9dHJ1ZVwiIG5nLWluaXQ9XCJwYXN0ZT1mYWxzZVwiIHBsYWNlaG9sZGVyPSdwYXN0ZSBoZXJlJz5cbiAgICAgIHBhc3RlZDoge3twYXN0ZX19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSWZcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSWZgIGRpcmVjdGl2ZSByZW1vdmVzIG9yIHJlY3JlYXRlcyBhIHBvcnRpb24gb2YgdGhlIERPTSB0cmVlIGJhc2VkIG9uIGFuXG4gKiB7ZXhwcmVzc2lvbn0uIElmIHRoZSBleHByZXNzaW9uIGFzc2lnbmVkIHRvIGBuZ0lmYCBldmFsdWF0ZXMgdG8gYSBmYWxzZVxuICogdmFsdWUgdGhlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgb3RoZXJ3aXNlIGEgY2xvbmUgb2YgdGhlXG4gKiBlbGVtZW50IGlzIHJlaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuICpcbiAqIGBuZ0lmYCBkaWZmZXJzIGZyb20gYG5nU2hvd2AgYW5kIGBuZ0hpZGVgIGluIHRoYXQgYG5nSWZgIGNvbXBsZXRlbHkgcmVtb3ZlcyBhbmQgcmVjcmVhdGVzIHRoZVxuICogZWxlbWVudCBpbiB0aGUgRE9NIHJhdGhlciB0aGFuIGNoYW5naW5nIGl0cyB2aXNpYmlsaXR5IHZpYSB0aGUgYGRpc3BsYXlgIGNzcyBwcm9wZXJ0eS4gIEEgY29tbW9uXG4gKiBjYXNlIHdoZW4gdGhpcyBkaWZmZXJlbmNlIGlzIHNpZ25pZmljYW50IGlzIHdoZW4gdXNpbmcgY3NzIHNlbGVjdG9ycyB0aGF0IHJlbHkgb24gYW4gZWxlbWVudCdzXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSwgc3VjaCBhcyB0aGUgYDpmaXJzdC1jaGlsZGAgb3IgYDpsYXN0LWNoaWxkYCBwc2V1ZG8tY2xhc3Nlcy5cbiAqXG4gKiBOb3RlIHRoYXQgd2hlbiBhbiBlbGVtZW50IGlzIHJlbW92ZWQgdXNpbmcgYG5nSWZgIGl0cyBzY29wZSBpcyBkZXN0cm95ZWQgYW5kIGEgbmV3IHNjb3BlXG4gKiBpcyBjcmVhdGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVzdG9yZWQuICBUaGUgc2NvcGUgY3JlYXRlZCB3aXRoaW4gYG5nSWZgIGluaGVyaXRzIGZyb21cbiAqIGl0cyBwYXJlbnQgc2NvcGUgdXNpbmdcbiAqIFtwcm90b3R5cGFsIGluaGVyaXRhbmNlXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMjamF2YXNjcmlwdC1wcm90b3R5cGFsLWluaGVyaXRhbmNlKS5cbiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0b1xuICogYSBqYXZhc2NyaXB0IHByaW1pdGl2ZSBkZWZpbmVkIGluIHRoZSBwYXJlbnQgc2NvcGUuIEluIHRoaXMgY2FzZSBhbnkgbW9kaWZpY2F0aW9ucyBtYWRlIHRvIHRoZVxuICogdmFyaWFibGUgd2l0aGluIHRoZSBjaGlsZCBzY29wZSB3aWxsIG92ZXJyaWRlIChoaWRlKSB0aGUgdmFsdWUgaW4gdGhlIHBhcmVudCBzY29wZS5cbiAqXG4gKiBBbHNvLCBgbmdJZmAgcmVjcmVhdGVzIGVsZW1lbnRzIHVzaW5nIHRoZWlyIGNvbXBpbGVkIHN0YXRlLiBBbiBleGFtcGxlIG9mIHRoaXMgYmVoYXZpb3JcbiAqIGlzIGlmIGFuIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUgaXMgZGlyZWN0bHkgbW9kaWZpZWQgYWZ0ZXIgaXQncyBjb21waWxlZCwgdXNpbmcgc29tZXRoaW5nIGxpa2VcbiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50XG4gKiB0aGUgYWRkZWQgY2xhc3Mgd2lsbCBiZSBsb3N0IGJlY2F1c2UgdGhlIG9yaWdpbmFsIGNvbXBpbGVkIHN0YXRlIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgZWxlbWVudC5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmBcbiAqIGFuZCBgbGVhdmVgIGVmZmVjdHMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBgbmdJZmAgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBgbmdJZmAgY29udGFpbmVyXG4gKiBsZWF2ZSAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGBuZ0lmYCBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDYwMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0lmIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBmYWxzeSB0aGVuXG4gKiAgICAgdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdHJlZS4gSWYgaXQgaXMgdHJ1dGh5IGEgY29weSBvZiB0aGUgY29tcGlsZWRcbiAqICAgICBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBET00gdHJlZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBuZy1pbml0PVwiY2hlY2tlZD10cnVlXCIgLz48YnIvPlxuICAgICAgU2hvdyB3aGVuIGNoZWNrZWQ6XG4gICAgICA8c3BhbiBuZy1pZj1cImNoZWNrZWRcIiBjbGFzcz1cImFuaW1hdGUtaWZcIj5cbiAgICAgICAgVGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1pZiB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsIC5hbmltYXRlLWlmLm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDYwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICByZXN0cmljdDogJ0EnLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgYmxvY2ssIGNoaWxkU2NvcGUsIHByZXZpb3VzRWxlbWVudHM7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgbmV3U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ0lmOiAnICsgJGF0dHIubmdJZiArICcgJyk7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jayA9IHtcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShwcmV2aW91c0VsZW1lbnRzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbmNsdWRlXG4gKiBAcmVzdHJpY3QgRUNBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGZXRjaGVzLCBjb21waWxlcyBhbmQgaW5jbHVkZXMgYW4gZXh0ZXJuYWwgSFRNTCBmcmFnbWVudC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgVVJMIGlzIHJlc3RyaWN0ZWQgdG8gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGVcbiAqIGFwcGxpY2F0aW9uIGRvY3VtZW50LiBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiBpdC4gVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIHByb3RvY29sc1xuICogeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdCB0aGVtfSBvclxuICoge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgdGhlbX0gYXMgdHJ1c3RlZCB2YWx1ZXMuIFJlZmVyIHRvIEFuZ3VsYXIncyB7QGxpbmtcbiAqIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmd9LlxuICpcbiAqIEluIGFkZGl0aW9uLCB0aGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gKiBGb3IgZXhhbXBsZSwgYG5nSW5jbHVkZWAgd29uJ3Qgd29yayBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzIG9uIGFsbCBicm93c2VycyBhbmQgZm9yIGBmaWxlOi8vYFxuICogYWNjZXNzIG9uIHNvbWUgYnJvd3NlcnMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYnJpbmcgbmV3IGNvbnRlbnQgaW50byB0aGUgYnJvd3Nlci5cbiAqIGxlYXZlIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYW5pbWF0ZSBleGlzdGluZyBjb250ZW50IGF3YXkuXG4gKlxuICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxuICpcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDQwMFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0luY2x1ZGV8c3JjIGFuZ3VsYXIgZXhwcmVzc2lvbiBldmFsdWF0aW5nIHRvIFVSTC4gSWYgdGhlIHNvdXJjZSBpcyBhIHN0cmluZyBjb25zdGFudCxcbiAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb25sb2FkIEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiBhIG5ldyBwYXJ0aWFsIGlzIGxvYWRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSBjb250ZW50IGlzIGxvYWRlZC5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJpbmNsdWRlRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPihibGFuayk8L29wdGlvbj5cbiAgICAgICA8L3NlbGVjdD5cbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxuICAgICAgIDxoci8+XG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9XG4gICAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcbiAgICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTtcbiAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMS5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTIuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZSB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRvcDo1MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcbiAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uaXNQcmVzZW50KCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRFcnJvclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgd2hlbiBhIHRlbXBsYXRlIEhUVFAgcmVxdWVzdCB5aWVsZHMgYW4gZXJyb25lb3VzIHJlc3BvbnNlIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID4gMjk5KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xudmFyIG5nSW5jbHVkZURpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlUmVxdWVzdCcsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJywgJyRzY2UnLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlLCAgICRzY2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VDQScsXG4gICAgcHJpb3JpdHk6IDQwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBzcmNFeHAgPSBhdHRyLm5nSW5jbHVkZSB8fCBhdHRyLnNyYyxcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcbiAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQ7XG5cbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoc3JjRXhwKSwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XG4gICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHtcbiAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxuICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcbiAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cbiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkudGhlbihhZnRlckFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWwob25sb2FkRXhwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcbi8vIGlzIGNhbGxlZC5cbnZhciBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLFxuICBmdW5jdGlvbigkY29tcGlsZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICBwcmlvcml0eTogLTQwMCxcbiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCkge1xuICAgICAgICBpZiAoL1NWRy8udGVzdCgkZWxlbWVudFswXS50b1N0cmluZygpKSkge1xuICAgICAgICAgIC8vIFdlYktpdDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTY5OCAtLS0gU1ZHIGVsZW1lbnRzIGRvIG5vdFxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXG4gICAgICAgICAgLy8gc3BlY2lhbGx5LlxuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCBkb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9LCB7ZnV0dXJlUGFyZW50RWxlbWVudDogJGVsZW1lbnR9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xuICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbml0XG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxuICogY3VycmVudCBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj5cbiAqIFRoZSBvbmx5IGFwcHJvcHJpYXRlIHVzZSBvZiBgbmdJbml0YCBpcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93LiBCZXNpZGVzIHRoaXMgY2FzZSwgeW91XG4gKiBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfSByYXRoZXIgdGhhbiBgbmdJbml0YFxuICogdG8gaW5pdGlhbGl6ZSB2YWx1ZXMgb24gYSBzY29wZS5cbiAqIDwvZGl2PlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGgge0BsaW5rIG5nLiRmaWx0ZXIgYCRmaWx0ZXJgfSwgbWFrZVxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNpcyBmb3IgY29ycmVjdCBwcmVjZWRlbmNlOlxuICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoZGF0YSB8IG9yZGVyQnk6J25hbWUnKVwiPjwvZGl2PmBcbiAqIDwvcHJlPlxuICogPC9kaXY+XG4gKlxuICogQHByaW9yaXR5IDQ1MFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiaW5pdEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxzY3JpcHQ+XG4gICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxuICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAkc2NvcGUubGlzdCA9IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXTtcbiAgICAgICB9XSk7XG4gICA8L3NjcmlwdD5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwidmFsdWUgaW4gaW5uZXJMaXN0XCIgbmctaW5pdD1cImlubmVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImV4YW1wbGUtaW5pdFwiPmxpc3RbIHt7b3V0ZXJJbmRleH19IF1bIHt7aW5uZXJJbmRleH19IF0gPSB7e3ZhbHVlfX07PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFsaWFzIGluZGV4IHBvc2l0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMCBdID0gYTsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDEgXSA9IGI7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMSBdID0gZDsnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBwcmlvcml0eTogNDUwLFxuICBjb21waWxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdJbml0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0xpc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICBMaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD5cbiAqICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDxicj5cbiAqICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcbiAqICAgICB2YXIgbmFtZXMgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygnbmFtZXMnKSk7XG4gKiAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQnKSk7XG4gKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpO1xuICpcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIyBFeGFtcGxlIC0gc3BsaXR0aW5nIG9uIHdoaXRlc3BhY2VcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXG4gKi9cbnZhciBuZ0xpc3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICAvLyBXZSB3YW50IHRvIGNvbnRyb2wgd2hpdGVzcGFjZSB0cmltbWluZyBzbyB3ZSB1c2UgdGhpcyBjb252b2x1dGVkIGFwcHJvYWNoXG4gICAgICAvLyB0byBhY2Nlc3MgdGhlIG5nTGlzdCBhdHRyaWJ1dGUsIHdoaWNoIGRvZXNuJ3QgcHJlLXRyaW0gdGhlIGF0dHJpYnV0ZVxuICAgICAgdmFyIG5nTGlzdCA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nTGlzdCkgfHwgJywgJztcbiAgICAgIHZhciB0cmltVmFsdWVzID0gYXR0ci5uZ1RyaW0gIT09ICdmYWxzZSc7XG4gICAgICB2YXIgc2VwYXJhdG9yID0gdHJpbVZhbHVlcyA/IHRyaW0obmdMaXN0KSA6IG5nTGlzdDtcblxuICAgICAgdmFyIHBhcnNlID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgaXMgaW52YWxpZCAoc2F5IHJlcXVpcmVkIGJ1dCBlbXB0eSkgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgaWYgKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuJHBhcnNlcnMucHVzaChwYXJzZSk7XG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4obmdMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LlxuICAgICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyogZ2xvYmFsIFZBTElEX0NMQVNTOiB0cnVlLFxuICBJTlZBTElEX0NMQVNTOiB0cnVlLFxuICBQUklTVElORV9DTEFTUzogdHJ1ZSxcbiAgRElSVFlfQ0xBU1M6IHRydWUsXG4gIFVOVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiAgVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiovXG5cbnZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXG4gICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJyxcbiAgICBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxuICAgIFVOVE9VQ0hFRF9DTEFTUyA9ICduZy11bnRvdWNoZWQnLFxuICAgIFRPVUNIRURfQ0xBU1MgPSAnbmctdG91Y2hlZCcsXG4gICAgUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJztcblxuXG52YXIgJG5nTW9kZWxNaW5FcnIgPSBuZXcgbWluRXJyKCduZ01vZGVsJyk7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gJHZpZXdWYWx1ZSBBY3R1YWwgc3RyaW5nIHZhbHVlIGluIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxuICAgICAgIHRoZSBjb250cm9sIHJlYWRzIHZhbHVlIGZyb20gdGhlIERPTS4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmdcbiAgICAgICBpdHMgcmV0dXJuIHZhbHVlIHRocm91Z2ggdG8gdGhlIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gY29sbGVjdGlvbi5cblxuUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcbmAkdmlld1ZhbHVlYH0uXG5cblJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcbm5vIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IHdpbGwgcnVuIGFuZCB0aGUgYG5nTW9kZWxgXG53aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfVxuaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxuXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAgICAgICB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcbiAgICAgICBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyB0aGUgYWN0dWFsIERPTSB2YWx1ZS5cbiAgICAgICBVc2VkIHRvIGZvcm1hdCAvIGNvbnZlcnQgdmFsdWVzIGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxuICogYGBganNcbiAqIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICogICBpZiAodmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbiAqICAgfVxuICogfVxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcbiAqICAgICAgd2hlbmV2ZXIgdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuIFRoZSBrZXkgdmFsdWUgd2l0aGluIHRoZSBvYmplY3QgcmVmZXJzIHRvIHRoZSBuYW1lIG9mIHRoZVxuICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xuICogICAgICBvbiB0aGUgcmVzcG9uc2Ugb2YgdGhhdCB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiR2YWxpZGF0b3JzLnZhbGlkQ2hhcmFjdGVycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW2Etel0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICRhc3luY1ZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRpb25zIHRoYXQgYXJlIGV4cGVjdGVkIHRvXG4gKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcbiAqICAgICAgaXMgZGVsaXZlcmVkIHRoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdpbGwgYmUgc2V0IHRvIHRydWUgd2hlbiBmdWxmaWxsZWQgYW5kIGZhbHNlIHdoZW4gcmVqZWN0ZWQuXG4gKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxuICogICAgICBpcyB1bmZ1bGZpbGxlZCwgaXRzIGtleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVycyBgJHBlbmRpbmdgIHByb3BlcnR5LiBBbHNvLCBhbGwgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnNcbiAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgaWYgJGh0dHAgaXMgdXNlZCB0aGVuIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHN1Y2Nlc3MgSFRUUCByZXNwb25zZSBjb2RlXG4gKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqXG4gKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cbiAqICAgICAgdGhlbihmdW5jdGlvbiByZXNvbHZlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XG4gKiAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdGVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgIH0pO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRwZW5kaW5nIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIHBlbmRpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBsb3N0IGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIHRoZXJlIGlzIG5vIGVycm9yLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBwcm92aWRlcyBBUEkgZm9yIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IGRpcmVjdGl2ZS5cbiAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcbiAqIGxpc3RlbmluZyB0byBET00gZXZlbnRzLlxuICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoaXMgRE9NIGxvZ2ljIGZvciBtb3N0IHtAbGluayBpbnB1dCBgaW5wdXRgfSBlbGVtZW50cy5cbiAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdNb2RlbENvbnRyb2xsZXJgIHdpdGggYSBjdXN0b20gY29udHJvbCB0byBhY2hpZXZlXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICpcbiAqIE5vdGUgdGhhdCBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxuICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLiAgVGhpcyB3aWxsIG5vdCB3b3JrIG9uIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cbiAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICBbY29udGVudGVkaXRhYmxlXSB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLm5nLWludmFsaWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gICAgICB9XG5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcblxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHJlYWQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXG5cbiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmRcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxuICAgICAgICAgICAgICAgIGlmICggYXR0cnMuc3RyaXBCciAmJiBodG1sID09ICc8YnI+JyApIHtcbiAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGh0bWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlXG4gICAgICAgICAgICBuYW1lPVwibXlXaWRnZXRcIiBuZy1tb2RlbD1cInVzZXJDb250ZW50XCJcbiAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXG4gICAgICAgICAgICByZXF1aXJlZD5DaGFuZ2UgbWUhPC9kaXY+XG4gICAgICAgIDxzcGFuIG5nLXNob3c9XCJteUZvcm0ubXlXaWRnZXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPlxuICAgICAgIDxocj5cbiAgICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiPjwvdGV4dGFyZWE+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgIC8vIFNhZmFyaURyaXZlciBjYW4ndCBoYW5kbGUgY29udGVudGVkaXRhYmxlXG4gICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnQ2hhbmdlIG1lISc7XG5cbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xuXG4gICAgICBjb250ZW50RWRpdGFibGUuY2xlYXIoKTtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKCcnKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9uZy1pbnZhbGlkLXJlcXVpcmVkLyk7XG4gICAgfSk7XG4gICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKi9cbnZhciBOZ01vZGVsQ29udHJvbGxlciA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckcScsICckaW50ZXJwb2xhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRyb290U2NvcGUsICRxLCAkaW50ZXJwb2xhdGUpIHtcbiAgdGhpcy4kdmlld1ZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kbW9kZWxWYWx1ZSA9IE51bWJlci5OYU47XG4gIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cbiAgdGhpcy4kdmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRhc3luY1ZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xuICB0aGlzLiRmb3JtYXR0ZXJzID0gW107XG4gIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcbiAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XG4gIHRoaXMuJHZhbGlkID0gdHJ1ZTtcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJCRzdWNjZXNzID0ge307IC8vIGtlZXAgdmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7IC8vIGtlZXAgcGVuZGluZyBrZXlzIGhlcmVcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblxuXG4gIHZhciBwYXJzZWROZ01vZGVsID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwpLFxuICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHBhcnNlZE5nTW9kZWwuYXNzaWduLFxuICAgICAgbmdNb2RlbEdldCA9IHBhcnNlZE5nTW9kZWwsXG4gICAgICBuZ01vZGVsU2V0ID0gcGFyc2VkTmdNb2RlbEFzc2lnbixcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9IG51bGwsXG4gICAgICBjdHJsID0gdGhpcztcblxuICB0aGlzLiQkc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBjdHJsLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgdmFyIGludm9rZU1vZGVsR2V0dGVyID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwgKyAnKCknKSxcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsICsgJygkJCRwKScpO1xuXG4gICAgICBuZ01vZGVsR2V0ID0gZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIHZhciBtb2RlbFZhbHVlID0gcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgfTtcbiAgICAgIG5nTW9kZWxTZXQgPSBmdW5jdGlvbigkc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcnNlZE5nTW9kZWwoJHNjb3BlKSkpIHtcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlcigkc2NvcGUsIHskJCRwOiBjdHJsLiRtb2RlbFZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbigkc2NvcGUsIGN0cmwuJG1vZGVsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIXBhcnNlZE5nTW9kZWwuYXNzaWduKSB7XG4gICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbm9uYXNzaWduJywgXCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX1cIixcbiAgICAgICAgICAkYXR0ci5uZ01vZGVsLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyZW5kZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHVwZGF0ZWQuIEl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIHVzZXIgb2YgdGhlIG5nLW1vZGVsXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGAkcmVuZGVyKClgIG1ldGhvZCBpcyBpbnZva2VkIGluIHRoZSBmb2xsb3dpbmcgc2l0dWF0aW9uczpcbiAgICpcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcbiAgICogICBjb21taXR0ZWQgdmFsdWUgdGhlbiBgJHJlbmRlcigpYCBpcyBjYWxsZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCBjb250cm9sLlxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCB0byBsYXN0IHRpbWUuXG4gICAqXG4gICAqIFNpbmNlIGBuZy1tb2RlbGAgZG9lcyBub3QgZG8gYSBkZWVwIHdhdGNoLCBgJHJlbmRlcigpYCBpcyBvbmx5IGludm9rZWQgaWYgdGhlIHZhbHVlcyBvZlxuICAgKiBgJG1vZGVsVmFsdWVgIGFuZCBgJHZpZXdWYWx1ZWAgYXJlIGFjdHVhbGx5IGRpZmZlcmVudCB0byB0aGVpciBwcmV2aW91cyB2YWx1ZS4gSWYgYCRtb2RlbFZhbHVlYFxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxuICAgKiBpbnZva2VkIGlmIHlvdSBvbmx5IGNoYW5nZSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3RzLlxuICAgKi9cbiAgdGhpcy4kcmVuZGVyID0gbm9vcDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBgJGlzRW1wdHlgIGZ1bmN0aW9uIGNoZWNrcyB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYCwgYCcnYCwgYG51bGxgIG9yIGBOYU5gLlxuICAgKlxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgdG8gdGhlXG4gICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWBcbiAgICogaW1wbGllcyBlbXB0eS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIGNoZWNrIGZvciBlbXB0aW5lc3MuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgXCJlbXB0eVwiLlxuICAgKi9cbiAgdGhpcy4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xuICB9O1xuXG4gIHZhciBwYXJlbnRGb3JtID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnJGZvcm1Db250cm9sbGVyJykgfHwgbnVsbEZvcm1DdHJsLFxuICAgICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCA9IDA7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUsIGFuZCBub3RpZnkgdGhlIGZvcm0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgd2l0aGluICRwYXJzZXJzLyRmb3JtYXR0ZXJzIG9yIGEgY3VzdG9tIHZhbGlkYXRpb24gaW1wbGVtZW50YXRpb24uXG4gICAqIEhvd2V2ZXIsIGluIG1vc3QgY2FzZXMgaXQgc2hvdWxkIGJlIHN1ZmZpY2llbnQgdG8gdXNlIHRoZSBgbmdNb2RlbC4kdmFsaWRhdG9yc2AgYW5kXG4gICAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYmUgYXNzaWduZWRcbiAgICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxuICAgKiAgICAgICAgKGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2ApLCBzbyB0aGF0IGl0IGlzIGF2YWlsYWJsZSBmb3IgZGF0YS1iaW5kaW5nLlxuICAgKiAgICAgICAgVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZVxuICAgKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcbiAgICogICAgICAgIGNsYXNzIGFuZCBjYW4gYmUgYm91bmQgdG8gYXMgIGB7e3NvbWVGb3JtLnNvbWVDb250cm9sLiRlcnJvci5teUVycm9yfX1gIC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmcgKHVuZGVmaW5lZCksXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBvciBza2lwcGVkIChudWxsKS4gUGVuZGluZyBpcyB1c2VkIGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lwcGVkIGlzIHVzZWQgYnkgQW5ndWxhciB3aGVuIHZhbGlkYXRvcnMgZG8gbm90IHJ1biBiZWNhdXNlIG9mIHBhcnNlIGVycm9ycyBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxuICAgKi9cbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xuICAgIGN0cmw6IHRoaXMsXG4gICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XG4gICAgfSxcbiAgICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfSxcbiAgICBwYXJlbnRGb3JtOiBwYXJlbnRGb3JtLFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctZGlydHlgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChgbmctcHJpc3RpbmVgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHByaXN0aW5lIHdoZW4gdGhlIGNvbnRyb2xcbiAgICogaGFzIG5vdCBiZWVuIGNoYW5nZWQgZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IGZhbHNlO1xuICAgIGN0cmwuJHByaXN0aW5lID0gdHJ1ZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0RGlydHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXByaXN0aW5lYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eVxuICAgKiBzdGF0ZSAoYG5nLWRpcnR5YCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBkaXJ0eSB3aGVuIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWRcbiAgICogZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IHRydWU7XG4gICAgY3RybC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy10b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB1bnRvdWNoZWQgc3RhdGUgKGBuZy11bnRvdWNoZWRgIGNsYXNzKS4gVXBvbiBjb21waWxhdGlvbiwgYSBtb2RlbCBpcyBzZXQgYXMgdW50b3VjaGVkXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xuICAgKiBhbHJlYWR5IGJlZW4gdG91Y2hlZCBieSB0aGUgdXNlci5cbiAgICovXG4gIHRoaXMuJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSBmYWxzZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSB0cnVlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdW50b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB0b3VjaGVkIHN0YXRlIChgbmctdG91Y2hlZGAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgdG91Y2hlZCB3aGVuIHRoZSB1c2VyIGhhc1xuICAgKiBmaXJzdCBmb2N1c2VkIHRoZSBjb250cm9sIGVsZW1lbnQgYW5kIHRoZW4gc2hpZnRlZCBmb2N1cyBhd2F5IGZyb20gdGhlIGNvbnRyb2wgKGJsdXIgZXZlbnQpLlxuICAgKi9cbiAgdGhpcy4kc2V0VG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSB0cnVlO1xuICAgIGN0cmwuJHVudG91Y2hlZCA9IGZhbHNlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBUT1VDSEVEX0NMQVNTLCBVTlRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWwgYW4gdXBkYXRlIGFuZCByZXNldCB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIHRvIHByZXZlbnQgYW4gdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLFxuICAgKiB3aGljaCBtYXkgYmUgY2F1c2VkIGJ5IGEgcGVuZGluZyBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lXG4gICAqIGZ1dHVyZSBldmVudC5cbiAgICpcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIGV2ZW50cyBvciBldmVudHMgc3VjaFxuICAgKiBhcyBibHVyIHlvdSBjYW4gaGF2ZSBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBhIHBlcmlvZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWBcbiAgICogaXMgb3V0IG9mIHN5bmNoIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBJbiB0aGlzIGNhc2UsIHlvdSBjYW4gcnVuIGludG8gZGlmZmljdWx0aWVzIGlmIHlvdSB0cnkgdG8gdXBkYXRlIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYFxuICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXG4gICAqXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICogaW5wdXQgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBtb2RlbCB2YWx1ZSBhbmQgYW55IHBlbmRpbmcgb3BlcmF0aW9ucyBhcmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcbiAgICpcbiAgICogICAgIC5jb250cm9sbGVyKCdDYW5jZWxVcGRhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICogICAgICAgJHNjb3BlLnJlc2V0V2l0aENhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAqICAgICAgICAgICAkc2NvcGUubXlGb3JtLm15SW5wdXQxLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICAgICRzY29wZS5yZXNldFdpdGhvdXRDYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICB9XSk7XG4gICAqICAgPC9maWxlPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYW5jZWxVcGRhdGVDb250cm9sbGVyXCI+XG4gICAqICAgICAgIDxwPlRyeSB0eXBpbmcgc29tZXRoaW5nIGluIGVhY2ggaW5wdXQuICBTZWUgdGhhdCB0aGUgbW9kZWwgb25seSB1cGRhdGVzIHdoZW4geW91XG4gICAqICAgICAgICAgIGJsdXIgb2ZmIHRoZSBpbnB1dC5cbiAgICogICAgICAgIDwvcD5cbiAgICogICAgICAgIDxwPk5vdyBzZWUgd2hhdCBoYXBwZW5zIGlmIHlvdSBzdGFydCB0eXBpbmcgdGhlbiBwcmVzcyB0aGUgRXNjYXBlIGtleTwvcD5cbiAgICpcbiAgICogICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiPlxuICAgKiAgICAgICAgIDxwPldpdGggJHJvbGxiYWNrVmlld1ZhbHVlKCk8L3A+XG4gICAqICAgICAgICAgPGlucHV0IG5hbWU9XCJteUlucHV0MVwiIG5nLW1vZGVsPVwibXlWYWx1ZVwiIG5nLWtleWRvd249XCJyZXNldFdpdGhDYW5jZWwoJGV2ZW50KVwiPjxici8+XG4gICAqICAgICAgICAgbXlWYWx1ZTogXCJ7eyBteVZhbHVlIH19XCJcbiAgICpcbiAgICogICAgICAgICA8cD5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpPC9wPlxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwibXlJbnB1dDJcIiBuZy1tb2RlbD1cIm15VmFsdWVcIiBuZy1rZXlkb3duPVwicmVzZXRXaXRob3V0Q2FuY2VsKCRldmVudClcIj48YnIvPlxuICAgKiAgICAgICAgIG15VmFsdWU6IFwie3sgbXlWYWx1ZSB9fVwiXG4gICAqICAgICAgIDwvZm9ybT5cbiAgICogICAgIDwvZGl2PlxuICAgKiAgIDwvZmlsZT5cbiAgICogPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kcm9sbGJhY2tWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcbiAgICBjdHJsLiR2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICBjdHJsLiRyZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUnVucyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIHZhbGlkYXRvcnMgKGZpcnN0IHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYW5kIHRoZW5cbiAgICogYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMpLlxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byBpbnZhbGlkLCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAsXG4gICAqIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9IGlzIGB0cnVlYC5cbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gdmFsaWQsIGl0IHdpbGwgc2V0IHRoZSBtb2RlbCB0byB0aGUgbGFzdCBhdmFpbGFibGUgdmFsaWRcbiAgICogbW9kZWxWYWx1ZSwgaS5lLiBlaXRoZXIgdGhlIGxhc3QgcGFyc2VkIHZhbHVlIG9yIHRoZSBsYXN0IHZhbHVlIHNldCBmcm9tIHRoZSBzY29wZS5cbiAgICovXG4gIHRoaXMuJHZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gaWdub3JlICR2YWxpZGF0ZSBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgLy8gTm90ZTogd2UgdXNlIHRoZSAkJHJhd01vZGVsVmFsdWUgYXMgJG1vZGVsVmFsdWUgbWlnaHQgaGF2ZSBiZWVuXG4gICAgLy8gc2V0IHRvIHVuZGVmaW5lZCBkdXJpbmcgYSB2aWV3IC0+IG1vZGVsIHVwZGF0ZSB0aGF0IGZvdW5kIHZhbGlkYXRpb25cbiAgICAvLyBlcnJvcnMuIFdlIGNhbid0IHBhcnNlIHRoZSB2aWV3IGhlcmUsIHNpbmNlIHRoYXQgY291bGQgY2hhbmdlXG4gICAgLy8gdGhlIG1vZGVsIGFsdGhvdWdoIG5laXRoZXIgdmlld1ZhbHVlIG5vciB0aGUgbW9kZWwgb24gdGhlIHNjb3BlIGNoYW5nZWRcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHRoZXJlJ3MgYSBwYXJzZSBlcnJvciwgc28gd2UgZG9uJ3QgdW5zZXQgaXQgYWNjaWRlbnRpYWxseVxuICAgIHZhciBwYXJzZXJOYW1lID0gY3RybC4kJHBhcnNlck5hbWUgfHwgJ3BhcnNlJztcbiAgICB2YXIgcGFyc2VyVmFsaWQgPSBjdHJsLiRlcnJvcltwYXJzZXJOYW1lXSA/IGZhbHNlIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIHByZXZWYWxpZCA9IGN0cmwuJHZhbGlkO1xuICAgIHZhciBwcmV2TW9kZWxWYWx1ZSA9IGN0cmwuJG1vZGVsVmFsdWU7XG5cbiAgICB2YXIgYWxsb3dJbnZhbGlkID0gY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLmFsbG93SW52YWxpZDtcblxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKHBhcnNlclZhbGlkLCBtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gY2hhbmdlIGluIHZhbGlkaXR5LCBkb24ndCB1cGRhdGUgdGhlIG1vZGVsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGNoYW5naW5nIGFuIGludmFsaWQgbW9kZWxWYWx1ZSB0byB1bmRlZmluZWRcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgY3RybC4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjdHJsLiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLiQkcnVuVmFsaWRhdG9ycyA9IGZ1bmN0aW9uKHBhcnNlVmFsaWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XG4gICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCsrO1xuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XG5cbiAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcbiAgICBpZiAoIXByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSB7XG4gICAgICB2YXIgZXJyb3JLZXkgPSBjdHJsLiQkcGFyc2VyTmFtZSB8fCAncGFyc2UnO1xuICAgICAgaWYgKHBhcnNlVmFsaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VWYWxpZCk7XG4gICAgICAgIGlmICghcGFyc2VWYWxpZCkge1xuICAgICAgICAgIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xuICAgICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdmFyIGFsbFZhbGlkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKSB7XG4gICAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoXCIkYXN5bmNWYWxpZGF0b3JzXCIsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGFzeW5jaHJvbm91cyB2YWxpZGF0b3IgdG8gcmV0dXJuIGEgcHJvbWlzZSBidXQgZ290ICd7MH0nIGluc3RlYWQuXCIsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHRydWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgZmFsc2UpO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICAgIGlmICghdmFsaWRhdG9yUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgICAgIHZhbGlkYXRpb25Eb25lKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHEuYWxsKHZhbGlkYXRvclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKTtcbiAgICAgICAgfSwgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCkge1xuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG4gICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcblxuICAgICAgICBkb25lQ2FsbGJhY2soYWxsVmFsaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhIHBlbmRpbmcgdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIHRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cbiAgICovXG4gIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiR2aWV3VmFsdWU7XG5cbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcblxuICAgIC8vIElmIHRoZSB2aWV3IHZhbHVlIGhhcyBub3QgY2hhbmdlZCB0aGVuIHdlIHNob3VsZCBqdXN0IGV4aXQsIGV4Y2VwdCBpbiB0aGUgY2FzZSB3aGVyZSB0aGVyZSBpc1xuICAgIC8vIGEgbmF0aXZlIHZhbGlkYXRvciBvbiB0aGUgZWxlbWVudC4gSW4gdGhpcyBjYXNlIHRoZSB2YWxpZGF0aW9uIHN0YXRlIG1heSBoYXZlIGNoYW5nZWQgZXZlbiB0aG91Z2hcbiAgICAvLyB0aGUgdmlld1ZhbHVlIGhhcyBzdGF5ZWQgZW1wdHkuXG4gICAgaWYgKGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID09PSB2aWV3VmFsdWUgJiYgKHZpZXdWYWx1ZSAhPT0gJycgfHwgIWN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmIChjdHJsLiRwcmlzdGluZSkge1xuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICB2YXIgcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICBpZiAocGFyc2VyVmFsaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC4kcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbFZhbHVlID0gY3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgcGFyc2VyVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIC8vIGN0cmwuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgkc2NvcGUpO1xuICAgIH1cbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuICAgIGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcblxuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKHBhcnNlclZhbGlkLCBtb2RlbFZhbHVlLCBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkge1xuICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XG4gICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkd3JpdGVNb2RlbFRvU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgICBuZ01vZGVsU2V0KCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgZm9yRWFjaChjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBVcGRhdGUgdGhlIHZpZXcgdmFsdWUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbiBpbnB1dCBkaXJlY3RpdmUgd2FudCB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIEZvciBleGFtcGxlIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9IGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZFxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9IGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKlxuICAgKiBJZiB0aGUgbmV3IGB2YWx1ZWAgaXMgYW4gb2JqZWN0IChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBhIG51bWJlciksIHdlIHNob3VsZCBtYWtlIGEgY29weSBvZiB0aGVcbiAgICogb2JqZWN0IGJlZm9yZSBwYXNzaW5nIGl0IHRvIGAkc2V0Vmlld1ZhbHVlYC4gIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3QgcGVyZm9ybSBhIGRlZXBcbiAgICogd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZSB0aGUgcHJvcGVydHkgb2ZcbiAgICogdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGlzZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kIHdpbGwgbm90IGludm9rZSB0aGVcbiAgICogYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuXG4gICAqXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZCBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG9cbiAgICogYCRzZXRWaWV3VmFsdWVgLiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cbiAgICpcbiAgICogV2hlbiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXG4gICAqIHZhbHVlIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcsIGZpbmFsbHkgdG8gYmUgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgIGFuZCB0aGVuIHRoZVxuICAgKiAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlLlxuICAgKlxuICAgKiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLCBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCB0cmlnZ2VyIGEgYCRkaWdlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgZnJvbSB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cbiAgICovXG4gIHRoaXMuJHNldFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKCFjdHJsLiRvcHRpb25zIHx8IGN0cmwuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSB7XG4gICAgICBjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICB2YXIgZGVib3VuY2VEZWxheSA9IDAsXG4gICAgICAgIG9wdGlvbnMgPSBjdHJsLiRvcHRpb25zLFxuICAgICAgICBkZWJvdW5jZTtcblxuICAgIGlmIChvcHRpb25zICYmIGlzRGVmaW5lZChvcHRpb25zLmRlYm91bmNlKSkge1xuICAgICAgZGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlO1xuICAgICAgaWYgKGlzTnVtYmVyKGRlYm91bmNlKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2U7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VbdHJpZ2dlcl07XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlWydkZWZhdWx0J10pKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVsnZGVmYXVsdCddO1xuICAgICAgfVxuICAgIH1cblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGlmIChkZWJvdW5jZURlbGF5KSB7XG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9LCBkZWJvdW5jZURlbGF5KTtcbiAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIG1vZGVsIC0+IHZhbHVlXG4gIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XG4gIC8vIDEuIHNjb3BlIHZhbHVlIGlzICdhJ1xuICAvLyAyLiB1c2VyIGVudGVycyAnYidcbiAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xuICAvLyAgICAtPiBzY29wZSB2YWx1ZSBkaWQgbm90IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCBkaWdlc3QgYXNcbiAgLy8gICAgICAgbmctY2hhbmdlIGV4ZWN1dGVzIGluIGFwcGx5IHBoYXNlXG4gIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XG5cbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlKSB7XG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XG5cbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XG4gICAgICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuICAgICAgICBjdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyh1bmRlZmluZWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsVmFsdWU7XG4gIH0pO1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vZGVsXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwcmlvcml0eSAxXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nTW9kZWxgIGRpcmVjdGl2ZSBiaW5kcyBhbiBgaW5wdXRgLGBzZWxlY3RgLCBgdGV4dGFyZWFgIChvciBjdXN0b20gZm9ybSBjb250cm9sKSB0byBhXG4gKiBwcm9wZXJ0eSBvbiB0aGUgc2NvcGUgdXNpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgTmdNb2RlbENvbnRyb2xsZXJ9LFxuICogd2hpY2ggaXMgY3JlYXRlZCBhbmQgZXhwb3NlZCBieSB0aGlzIGRpcmVjdGl2ZS5cbiAqXG4gKiBgbmdNb2RlbGAgaXMgcmVzcG9uc2libGUgZm9yOlxuICpcbiAqIC0gQmluZGluZyB0aGUgdmlldyBpbnRvIHRoZSBtb2RlbCwgd2hpY2ggb3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBpbnB1dGAsIGB0ZXh0YXJlYWAgb3IgYHNlbGVjdGBcbiAqICAgcmVxdWlyZS5cbiAqIC0gUHJvdmlkaW5nIHZhbGlkYXRpb24gYmVoYXZpb3IgKGkuZS4gcmVxdWlyZWQsIG51bWJlciwgZW1haWwsIHVybCkuXG4gKiAtIEtlZXBpbmcgdGhlIHN0YXRlIG9mIHRoZSBjb250cm9sICh2YWxpZC9pbnZhbGlkLCBkaXJ0eS9wcmlzdGluZSwgdG91Y2hlZC91bnRvdWNoZWQsIHZhbGlkYXRpb24gZXJyb3JzKS5cbiAqIC0gU2V0dGluZyByZWxhdGVkIGNzcyBjbGFzc2VzIG9uIHRoZSBlbGVtZW50IChgbmctdmFsaWRgLCBgbmctaW52YWxpZGAsIGBuZy1kaXJ0eWAsIGBuZy1wcmlzdGluZWAsIGBuZy10b3VjaGVkYCwgYG5nLXVudG91Y2hlZGApIGluY2x1ZGluZyBhbmltYXRpb25zLlxuICogLSBSZWdpc3RlcmluZyB0aGUgY29udHJvbCB3aXRoIGl0cyBwYXJlbnQge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19LlxuICpcbiAqIE5vdGU6IGBuZ01vZGVsYCB3aWxsIHRyeSB0byBiaW5kIHRvIHRoZSBwcm9wZXJ0eSBnaXZlbiBieSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uIG9uIHRoZVxuICogY3VycmVudCBzY29wZS4gSWYgdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGlzIHNjb3BlLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIGltcGxpY2l0bHkgYW5kIGFkZGVkIHRvIHRoZSBzY29wZS5cbiAqXG4gKiBGb3IgYmVzdCBwcmFjdGljZXMgb24gdXNpbmcgYG5nTW9kZWxgLCBzZWU6XG4gKlxuICogIC0gW1VuZGVyc3RhbmRpbmcgU2NvcGVzXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMpXG4gKlxuICogRm9yIGJhc2ljIGV4YW1wbGVzLCBob3cgdG8gdXNlIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0ZXh0XSB0ZXh0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbY2hlY2tib3hdIGNoZWNrYm94fVxuICogICAgLSB7QGxpbmsgaW5wdXRbcmFkaW9dIHJhZGlvfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbnVtYmVyXSBudW1iZXJ9XG4gKiAgICAtIHtAbGluayBpbnB1dFtlbWFpbF0gZW1haWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt1cmxdIHVybH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGVdIGRhdGV9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRldGltZS1sb2NhbF0gZGF0ZXRpbWUtbG9jYWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0aW1lXSB0aW1lfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbW9udGhdIG1vbnRofVxuICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6dGV4dGFyZWEgdGV4dGFyZWF9XG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogVGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGFzc29jaWF0ZWQgaW5wdXQvc2VsZWN0L3RleHRhcmVhIGVsZW1lbnRcbiAqIGRlcGVuZGluZyBvbiB0aGUgdmFsaWRpdHkgb2YgdGhlIG1vZGVsLlxuICpcbiAqICAtIGBuZy12YWxpZGA6IHRoZSBtb2RlbCBpcyB2YWxpZFxuICogIC0gYG5nLWludmFsaWRgOiB0aGUgbW9kZWwgaXMgaW52YWxpZFxuICogIC0gYG5nLXZhbGlkLVtrZXldYDogZm9yIGVhY2ggdmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctaW52YWxpZC1ba2V5XWA6IGZvciBlYWNoIGludmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctcHJpc3RpbmVgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBpbnRlcmFjdGVkIHdpdGggeWV0XG4gKiAgLSBgbmctZGlydHlgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGhcbiAqICAtIGBuZy10b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gYmx1cnJlZFxuICogIC0gYG5nLXVudG91Y2hlZGA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy1wZW5kaW5nYDogYW55IGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgdW5mdWxmaWxsZWRcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cbiAqXG4gKiAjIyBBbmltYXRpb24gSG9va3NcbiAqXG4gKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcbiAqIG9uIHRoZSBpbnB1dCBlbGVtZW50IHdoaWNoIGlzIGF0dGFjaGVkIHRvIHRoZSBtb2RlbC4gVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCxcbiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxuICogVGhlIGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdpdGhpbiBuZ01vZGVsIGFyZSBzaW1pbGFyIHRvIGhvdyB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmRcbiAqIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwgYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGFuIGlucHV0IGVsZW1lbnRcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XG4gKlxuICogPHByZT5cbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXG4gKiAubXktaW5wdXQge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktaW5wdXQubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XG4gICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgIC5teS1pbnB1dCB7XG4gICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgIH1cbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIFVwZGF0ZSBpbnB1dCB0byBzZWUgdHJhbnNpdGlvbnMgd2hlbiB2YWxpZC9pbnZhbGlkLlxuICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiIC8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcbiAqXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCB0aGFuIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcbiAqIHRvIHRoZSB2aWV3LlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcbiAqIGZyZXF1ZW50bHkgdGhhbiBvdGhlciBwYXJ0cyBvZiB5b3VyIGNvZGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBZb3UgdXNlIHRoaXMgYmVoYXZpb3IgYnkgYWRkaW5nIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0byBhbiBlbGVtZW50IHRoYXRcbiAqIGhhcyBgbmctbW9kZWxgIGF0dGFjaGVkIHRvIGl0LiBZb3UgY2FuIGFsc28gYWRkIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0b1xuICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zYH0gZm9yIG1vcmUuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICAgTmFtZTpcbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld05hbWUpKSB7XG4gICAgICAgICAgICAgICAgIF9uYW1lID0gbmV3TmFtZTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIHJldHVybiBfbmFtZTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxEaXJlY3RpdmUgPSBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsQ29udHJvbGxlcixcbiAgICAvLyBQcmVsaW5rIG5lZWRzIHRvIHJ1biBiZWZvcmUgYW55IGlucHV0IGRpcmVjdGl2ZVxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHNldCB0aGUgTmdNb2RlbE9wdGlvbnMgaW4gTmdNb2RlbENvbnRyb2xsZXJcbiAgICAvLyBiZWZvcmUgYW55b25lIGVsc2UgdXNlcyBpdC5cbiAgICBwcmlvcml0eTogMSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ01vZGVsQ29tcGlsZShlbGVtZW50KSB7XG4gICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICBlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhVTlRPVUNIRURfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ01vZGVsUHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF0sXG4gICAgICAgICAgICAgIGZvcm1DdHJsID0gY3RybHNbMV0gfHwgbnVsbEZvcm1DdHJsO1xuXG4gICAgICAgICAgbW9kZWxDdHJsLiQkc2V0T3B0aW9ucyhjdHJsc1syXSAmJiBjdHJsc1syXS4kb3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBub3RpZnkgb3RoZXJzLCBlc3BlY2lhbGx5IHBhcmVudCBmb3Jtc1xuICAgICAgICAgIGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCk7XG5cbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG5hbWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIGZvcm1DdHJsLiQkcmVuYW1lQ29udHJvbChtb2RlbEN0cmwsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvcm1DdHJsLiRyZW1vdmVDb250cm9sKG1vZGVsQ3RybCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uIG5nTW9kZWxQb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucyAmJiBtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24pIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24obW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICBtb2RlbEN0cmwuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChldiAmJiBldi50eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgREVGQVVMVF9SRUdFWFAgPSAvKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdHVuaW5nIGhvdyBtb2RlbCB1cGRhdGVzIGFyZSBkb25lLiBVc2luZyBgbmdNb2RlbE9wdGlvbnNgIHlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mXG4gKiBldmVudHMgdGhhdCB3aWxsIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGUgYW5kL29yIGEgZGVib3VuY2luZyBkZWxheSBzbyB0aGF0IHRoZSBhY3R1YWwgdXBkYXRlIG9ubHlcbiAqIHRha2VzIHBsYWNlIHdoZW4gYSB0aW1lciBleHBpcmVzOyB0aGlzIHRpbWVyIHdpbGwgYmUgcmVzZXQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gKlxuICogR2l2ZW4gdGhlIG5hdHVyZSBvZiBgbmdNb2RlbE9wdGlvbnNgLCB0aGUgdmFsdWUgZGlzcGxheWVkIGluc2lkZSBpbnB1dCBmaWVsZHMgaW4gdGhlIHZpZXcgbWlnaHRcbiAqIGJlIGRpZmZlcmVudCB0aGFuIHRoZSB2YWx1ZSBpbiB0aGUgYWN0dWFsIG1vZGVsLiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IHVwZGF0ZSB0aGUgbW9kZWwgeW91XG4gKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9IG9uIHRoZSByZWxldmFudCBpbnB1dCBmaWVsZCBpblxuICogb3JkZXIgdG8gbWFrZSBzdXJlIGl0IGlzIHN5bmNocm9uaXplZCB3aXRoIHRoZSBtb2RlbCBhbmQgdGhhdCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sJ3Mge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9XG4gKiBtZXRob2QgaXMgYnkgbWFraW5nIHN1cmUgdGhlIGlucHV0IGlzIHBsYWNlZCBpbnNpZGUgYSBmb3JtIHRoYXQgaGFzIGEgYG5hbWVgIGF0dHJpYnV0ZS4gVGhpcyBpc1xuICogaW1wb3J0YW50IGJlY2F1c2UgYGZvcm1gIGNvbnRyb2xsZXJzIGFyZSBwdWJsaXNoZWQgdG8gdGhlIHJlbGF0ZWQgc2NvcGUgdW5kZXIgdGhlIG5hbWUgaW4gdGhlaXJcbiAqIGBuYW1lYCBhdHRyaWJ1dGUuXG4gKlxuICogQW55IHBlbmRpbmcgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpcyBzdWJtaXR0ZWQgdmlhIHRoZVxuICogYHN1Ym1pdGAgZXZlbnQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogYG5nTW9kZWxPcHRpb25zYCBoYXMgYW4gZWZmZWN0IG9uIHRoZSBlbGVtZW50IGl0J3MgZGVjbGFyZWQgb24gYW5kIGl0cyBkZXNjZW5kYW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgY3VycmVudCBtb2RlbC4gVmFsaWQga2V5cyBhcmU6XG4gKiAgIC0gYHVwZGF0ZU9uYDogc3RyaW5nIHNwZWNpZnlpbmcgd2hpY2ggZXZlbnQgc2hvdWxkIHRoZSBpbnB1dCBiZSBib3VuZCB0by4gWW91IGNhbiBzZXQgc2V2ZXJhbFxuICogICAgIGV2ZW50cyB1c2luZyBhbiBzcGFjZSBkZWxpbWl0ZWQgbGlzdC4gVGhlcmUgaXMgYSBzcGVjaWFsIGV2ZW50IGNhbGxlZCBgZGVmYXVsdGAgdGhhdFxuICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyBvZiB0aGUgY29udHJvbC5cbiAqICAgLSBgZGVib3VuY2VgOiBpbnRlZ2VyIHZhbHVlIHdoaWNoIGNvbnRhaW5zIHRoZSBkZWJvdW5jZSBtb2RlbCB1cGRhdGUgdmFsdWUgaW4gbWlsbGlzZWNvbmRzLiBBXG4gKiAgICAgdmFsdWUgb2YgMCB0cmlnZ2VycyBhbiBpbW1lZGlhdGUgdXBkYXRlLiBJZiBhbiBvYmplY3QgaXMgc3VwcGxpZWQgaW5zdGVhZCwgeW91IGNhbiBzcGVjaWZ5IGFcbiAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxuICogICAgIGBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsIGRlYm91bmNlOiB7J2RlZmF1bHQnOiA1MDAsICdibHVyJzogMH0gfVwiYFxuICogICAtIGBhbGxvd0ludmFsaWRgOiBib29sZWFuIHZhbHVlIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBjYW4gYmUgc2V0IHdpdGggdmFsdWVzIHRoYXQgZGlkXG4gKiAgICAgbm90IHZhbGlkYXRlIGNvcnJlY3RseSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNldHRpbmcgdGhlIG1vZGVsIHRvIHVuZGVmaW5lZC5cbiAqICAgLSBgZ2V0dGVyU2V0dGVyYDogYm9vbGVhbiB2YWx1ZSB3aGljaCBkZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIHRyZWF0IGZ1bmN0aW9ucyBib3VuZCB0b1xuICAgICAgIGBuZ01vZGVsYCBhcyBnZXR0ZXJzL3NldHRlcnMuXG4gKiAgIC0gYHRpbWV6b25lYDogRGVmaW5lcyB0aGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGZvclxuICogICAgIGA8aW5wdXQgdHlwZT1cImRhdGVcIj5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCI+YCwgLi4uIC4gUmlnaHQgbm93LCB0aGUgb25seSBzdXBwb3J0ZWQgdmFsdWUgaXMgYCdVVEMnYCxcbiAqICAgICBvdGhlcndpc2UgdGhlIGRlZmF1bHQgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxuICpcbiAqIEBleGFtcGxlXG5cbiAgVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBvdmVycmlkZSBpbW1lZGlhdGUgdXBkYXRlcy4gQ2hhbmdlcyBvbiB0aGUgaW5wdXRzIHdpdGhpbiB0aGVcbiAgZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXG4gIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXG5cbiAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1ibHVyXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgTmFtZTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXG4gICAgICAgICAgICAgICAgIG5nLWtleXVwPVwiY2FuY2VsKCRldmVudClcIiAvPjxiciAvPlxuXG4gICAgICAgICAgT3RoZXIgZGF0YTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIuZGF0YVwiIC8+PGJyIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnc2F5JywgZGF0YTogJycgfTtcblxuICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlci5uYW1lJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGFsbG93IGN1c3RvbSBldmVudHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCAkcm9sbGJhY2tWaWV3VmFsdWUgd2hlbiBtb2RlbCBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVTQ0FQRSk7XG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheScpO1xuICAgICAgICBvdGhlci5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBkZWJvdW5jZSBtb2RlbCBjaGFuZ2VzLiBNb2RlbCB3aWxsIGJlIHVwZGF0ZWQgb25seSAxIHNlYyBhZnRlciBsYXN0IGNoYW5nZS5cbiAgSWYgdGhlIGBDbGVhcmAgYnV0dG9uIGlzIHByZXNzZWQsIGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkIGFuZCB0aGUgdmFsdWUgYmVjb21lcyBlbXB0eS5cblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgTmFtZTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGRlYm91bmNlOiAxMDAwIH1cIiAvPlxuICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj48YnIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cblxuICBUaGlzIG9uZSBzaG93cyBob3cgdG8gYmluZCB0byBnZXR0ZXIvc2V0dGVyczpcblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIE5hbWU6XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICAgICAgICAgICRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQobmV3TmFtZSkgPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycykge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhpcy4kb3B0aW9ucyA9ICRzY29wZS4kZXZhbCgkYXR0cnMubmdNb2RlbE9wdGlvbnMpO1xuICAgICAgLy8gQWxsb3cgYWRkaW5nL292ZXJyaWRpbmcgYm91bmQgZXZlbnRzXG4gICAgICBpZiAodGhpcy4kb3B0aW9ucy51cGRhdGVPbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgIC8vIGV4dHJhY3QgXCJkZWZhdWx0XCIgcHNldWRvLWV2ZW50IGZyb20gbGlzdCBvZiBldmVudHMgdGhhdCBjYW4gdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZVxuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uID0gdHJpbSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoREVGQVVMVF9SRUdFWFAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoYXQuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IHRydWU7XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn07XG5cblxuXG4vLyBoZWxwZXIgbWV0aG9kc1xuZnVuY3Rpb24gYWRkU2V0VmFsaWRpdHlNZXRob2QoY29udGV4dCkge1xuICB2YXIgY3RybCA9IGNvbnRleHQuY3RybCxcbiAgICAgICRlbGVtZW50ID0gY29udGV4dC4kZWxlbWVudCxcbiAgICAgIGNsYXNzQ2FjaGUgPSB7fSxcbiAgICAgIHNldCA9IGNvbnRleHQuc2V0LFxuICAgICAgdW5zZXQgPSBjb250ZXh0LnVuc2V0LFxuICAgICAgcGFyZW50Rm9ybSA9IGNvbnRleHQucGFyZW50Rm9ybSxcbiAgICAgICRhbmltYXRlID0gY29udGV4dC4kYW5pbWF0ZTtcblxuICBjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdID0gIShjbGFzc0NhY2hlW1ZBTElEX0NMQVNTXSA9ICRlbGVtZW50Lmhhc0NsYXNzKFZBTElEX0NMQVNTKSk7XG5cbiAgY3RybC4kc2V0VmFsaWRpdHkgPSBzZXRWYWxpZGl0eTtcblxuICBmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNyZWF0ZUFuZFNldCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bnNldEFuZENsZWFudXAoJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jvb2xlYW4oc3RhdGUpKSB7XG4gICAgICB1bnNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIHVuc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICAgIHNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHJsLiRwZW5kaW5nKSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCB0cnVlKTtcbiAgICAgIGN0cmwuJHZhbGlkID0gY3RybC4kaW52YWxpZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCBmYWxzZSk7XG4gICAgICBjdHJsLiR2YWxpZCA9IGlzT2JqZWN0RW1wdHkoY3RybC4kZXJyb3IpO1xuICAgICAgY3RybC4kaW52YWxpZCA9ICFjdHJsLiR2YWxpZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIGN0cmwuJHZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxuICAgIC8vIGNvbWJpbmVkIHN0YXRlIGluIGN0cmwuJGVycm9yW3ZhbGlkYXRpb25FcnJvcl0gKHVzZWQgZm9yIGZvcm1zKSxcbiAgICAvLyB3aGVyZSBzZXR0aW5nL3Vuc2V0dGluZyBvbmx5IGluY3JlbWVudHMvZGVjcmVtZW50cyB0aGUgdmFsdWUsXG4gICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXG4gICAgdmFyIGNvbWJpbmVkU3RhdGU7XG4gICAgaWYgKGN0cmwuJHBlbmRpbmcgJiYgY3RybC4kcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlKTtcbiAgICBwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIGN0cmwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW5kU2V0KG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XG4gICAgICBjdHJsW25hbWVdID0ge307XG4gICAgfVxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAobmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoY3RybFtuYW1lXSkge1xuICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3RFbXB0eShjdHJsW25hbWVdKSkge1xuICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XG4gICAgaWYgKHN3aXRjaFZhbHVlICYmICFjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFzd2l0Y2hWYWx1ZSAmJiBjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQpIHtcbiAgICB2YWxpZGF0aW9uRXJyb3JLZXkgPSB2YWxpZGF0aW9uRXJyb3JLZXkgPyAnLScgKyBzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwgJy0nKSA6ICcnO1xuXG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IHRydWUpO1xuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKElOVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICBpZiAob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdOb25CaW5kYWJsZVxuICogQHJlc3RyaWN0IEFDXG4gKiBAcHJpb3JpdHkgMTAwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxuICogRE9NIGVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBlbGVtZW50IGNvbnRhaW5zIHdoYXQgYXBwZWFycyB0byBiZSBBbmd1bGFyIGRpcmVjdGl2ZXMgYW5kXG4gKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdFxuICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBleGFtcGxlXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XG4gICAgICAgIDxkaXYgbmctbm9uLWJpbmRhYmxlPklnbm9yZWQ6IHt7MSArIDJ9fTwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctbm9uLWJpbmRhYmxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQbHVyYWxpemVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYG5nUGx1cmFsaXplYCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGRpc3BsYXlzIG1lc3NhZ2VzIGFjY29yZGluZyB0byBlbi1VUyBsb2NhbGl6YXRpb24gcnVsZXMuXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxuICogKHNlZSB7QGxpbmsgZ3VpZGUvaTE4biBBbmd1bGFyIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXG4gKiBieSBzcGVjaWZ5aW5nIHRoZSBtYXBwaW5ncyBiZXR3ZWVuXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXG4gKiBUaGVyZSBhcmUgdHdvXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsIFwib3RoZXJcIiBjYW4gbWF0Y2hcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXG4gKiBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIHRocm91Z2hvdXQgdGhlIHJlc3Qgb2YgdGhpcyBkb2N1bWVudGF0aW9uLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemVcbiAqIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgYnkgcHJvdmlkaW5nIDIgYXR0cmlidXRlczogYGNvdW50YCBhbmQgYHdoZW5gLlxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdGhlIGBjb3VudGAgYXR0cmlidXRlIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb25cbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cbiAqXG4gKiBUaGUgYHdoZW5gIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIG1hcHBpbmdzIGJldHdlZW4gcGx1cmFsIGNhdGVnb3JpZXMgYW5kIHRoZSBhY3R1YWxcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY29uZmlndXJlIG5nUGx1cmFsaXplOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t9IHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKmBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxuICogd291bGQgYmUgc2hvd24gaW5zdGVhZCBvZiBcIk5vYm9keSBpcyB2aWV3aW5nXCIuIFlvdSBjYW4gc3BlY2lmeSBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3JcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhciB3aWxsIHJlcGxhY2UgYHt9YCB3aXRoXG4gKiA8c3BhbiBuZy1ub24tYmluZGFibGU+YHt7cGVyc29uQ291bnR9fWA8L3NwYW4+LiBUaGUgY2xvc2VkIGJyYWNlcyBge31gIGlzIGEgcGxhY2Vob2xkZXJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICBQZXJzb24gMTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjFcIiB2YWx1ZT1cIklnb3JcIiAvPjxici8+XG4gICAgICAgICAgUGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PGJyLz5cbiAgICAgICAgICBOdW1iZXIgb2YgUGVvcGxlOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uQ291bnRcIiB2YWx1ZT1cIjFcIiAvPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRsb2NhbGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgQlJBQ0UgPSAve30vZyxcbiAgICAgIElTX1dIRU4gPSAvXndoZW4oTWludXMpPyguKykkLztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgbnVtYmVyRXhwID0gYXR0ci5jb3VudCxcbiAgICAgICAgICB3aGVuRXhwID0gYXR0ci4kYXR0ci53aGVuICYmIGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLCAvLyB3ZSBoYXZlIHt7fX0gaW4gYXR0cnNcbiAgICAgICAgICBvZmZzZXQgPSBhdHRyLm9mZnNldCB8fCAwLFxuICAgICAgICAgIHdoZW5zID0gc2NvcGUuJGV2YWwod2hlbkV4cCkgfHwge30sXG4gICAgICAgICAgd2hlbnNFeHBGbnMgPSB7fSxcbiAgICAgICAgICBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxuICAgICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgICBicmFjZVJlcGxhY2VtZW50ID0gc3RhcnRTeW1ib2wgKyBudW1iZXJFeHAgKyAnLScgKyBvZmZzZXQgKyBlbmRTeW1ib2wsXG4gICAgICAgICAgd2F0Y2hSZW1vdmVyID0gYW5ndWxhci5ub29wLFxuICAgICAgICAgIGxhc3RDb3VudDtcblxuICAgICAgZm9yRWFjaChhdHRyLCBmdW5jdGlvbihleHByZXNzaW9uLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHZhciB0bXBNYXRjaCA9IElTX1dIRU4uZXhlYyhhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKHRtcE1hdGNoKSB7XG4gICAgICAgICAgdmFyIHdoZW5LZXkgPSAodG1wTWF0Y2hbMV0gPyAnLScgOiAnJykgKyBsb3dlcmNhc2UodG1wTWF0Y2hbMl0pO1xuICAgICAgICAgIHdoZW5zW3doZW5LZXldID0gZWxlbWVudC5hdHRyKGF0dHIuJGF0dHJbYXR0cmlidXRlTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvckVhY2god2hlbnMsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGtleSkge1xuICAgICAgICB3aGVuc0V4cEZuc1trZXldID0gJGludGVycG9sYXRlKGV4cHJlc3Npb24ucmVwbGFjZShCUkFDRSwgYnJhY2VSZXBsYWNlbWVudCkpO1xuXG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKG51bWJlckV4cCwgZnVuY3Rpb24gbmdQbHVyYWxpemVXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VGbG9hdChuZXdWYWwpO1xuICAgICAgICB2YXIgY291bnRJc05hTiA9IGlzTmFOKGNvdW50KTtcblxuICAgICAgICBpZiAoIWNvdW50SXNOYU4gJiYgIShjb3VudCBpbiB3aGVucykpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBzdWNoIGFzIDEsIDIsIDMuLi4gaXMgZGVmaW5lZCwganVzdCB1c2UgaXQuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlLlxuICAgICAgICAgIGNvdW50ID0gJGxvY2FsZS5wbHVyYWxDYXQoY291bnQgLSBvZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYm90aCBgY291bnRgIGFuZCBgbGFzdENvdW50YCBhcmUgTmFOLCB3ZSBkb24ndCBuZWVkIHRvIHJlLXJlZ2lzdGVyIGEgd2F0Y2guXG4gICAgICAgIC8vIEluIEpTIGBOYU4gIT09IE5hTmAsIHNvIHdlIGhhdmUgdG8gZXhsaWNpdGx5IGNoZWNrLlxuICAgICAgICBpZiAoKGNvdW50ICE9PSBsYXN0Q291bnQpICYmICEoY291bnRJc05hTiAmJiBpc05hTihsYXN0Q291bnQpKSkge1xuICAgICAgICAgIHdhdGNoUmVtb3ZlcigpO1xuICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IHNjb3BlLiR3YXRjaCh3aGVuc0V4cEZuc1tjb3VudF0sIHVwZGF0ZUVsZW1lbnRUZXh0KTtcbiAgICAgICAgICBsYXN0Q291bnQgPSBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRUZXh0KG5ld1RleHQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1RleHQgfHwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVwZWF0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxuICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXG4gKlxuICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XG4gKlxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxuICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxuICpcbiAqIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXG4gKiBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cbiAqXG4gKiAjIEl0ZXJhdGluZyBvdmVyIG9iamVjdCBwcm9wZXJ0aWVzXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gZ2V0IGBuZ1JlcGVhdGAgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCB1c2luZyB0aGUgZm9sbG93aW5nXG4gKiBzeW50YXg6XG4gKlxuICogYGBganNcbiAqIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIG15T2JqXCI+IC4uLiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFlvdSBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIEphdmFTY3JpcHQgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCBkZWZpbmUgd2hhdCBvcmRlclxuICogaXQgd2lsbCByZXR1cm4gdGhlIGtleXMgZm9yIGFuIG9iamVjdC4gSW4gb3JkZXIgdG8gaGF2ZSBhIGd1YXJhbnRlZWQgZGV0ZXJtaW5pc3RpYyBvcmRlclxuICogZm9yIHRoZSBrZXlzLCBBbmd1bGFyIHZlcnNpb25zIHVwIHRvIGFuZCBpbmNsdWRpbmcgMS4zICoqc29ydCB0aGUga2V5cyBhbHBoYWJldGljYWxseSoqLlxuICpcbiAqIElmIHRoaXMgaXMgbm90IGRlc2lyZWQsIHRoZSByZWNvbW1lbmRlZCB3b3JrYXJvdW5kIGlzIHRvIGNvbnZlcnQgeW91ciBvYmplY3QgaW50byBhbiBhcnJheVxuICogdGhhdCBpcyBzb3J0ZWQgaW50byB0aGUgb3JkZXIgdGhhdCB5b3UgcHJlZmVyIGJlZm9yZSBwcm92aWRpbmcgaXQgdG8gYG5nUmVwZWF0YC4gIFlvdSBjb3VsZFxuICogZG8gdGhpcyB3aXRoIGEgZmlsdGVyIHN1Y2ggYXMgW3RvQXJyYXlGaWx0ZXJdKGh0dHA6Ly9uZ21vZHVsZXMub3JnL21vZHVsZXMvYW5ndWxhci10b0FycmF5RmlsdGVyKVxuICogb3IgaW1wbGVtZW50IGEgYCR3YXRjaGAgb24gdGhlIG9iamVjdCB5b3Vyc2VsZi5cbiAqXG4gKiBJbiB2ZXJzaW9uIDEuNCB3ZSB3aWxsIHJlbW92ZSB0aGUgc29ydGluZywgc2luY2UgaXQgc2VlbXMgdGhhdCBicm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZVxuICogc3RyYXRlZ3kgb2YgcHJvdmlkaW5nIGtleXMgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBkZWZpbmVkLCBhbHRob3VnaCB0aGVyZSBhcmUgZXhjZXB0aW9uc1xuICogd2hlbiBrZXlzIGFyZSBkZWxldGVkIGFuZCByZWluc3RhdGVkLlxuICpcbiAqXG4gKiAjIFNwZWNpYWwgcmVwZWF0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzXG4gKiBUbyByZXBlYXQgYSBzZXJpZXMgb2YgZWxlbWVudHMgaW5zdGVhZCBvZiBqdXN0IG9uZSBwYXJlbnQgZWxlbWVudCwgbmdSZXBlYXQgKGFzIHdlbGwgYXMgb3RoZXIgbmcgZGlyZWN0aXZlcykgc3VwcG9ydHMgZXh0ZW5kaW5nXG4gKiB0aGUgcmFuZ2Ugb2YgdGhlIHJlcGVhdGVyIGJ5IGRlZmluaW5nIGV4cGxpY2l0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGJ5IHVzaW5nICoqbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmctcmVwZWF0LWVuZCoqIHJlc3BlY3RpdmVseS5cbiAqIFRoZSAqKm5nLXJlcGVhdC1zdGFydCoqIGRpcmVjdGl2ZSB3b3JrcyB0aGUgc2FtZSBhcyAqKm5nLXJlcGVhdCoqLCBidXQgd2lsbCByZXBlYXQgYWxsIHRoZSBIVE1MIGNvZGUgKGluY2x1ZGluZyB0aGUgdGFnIGl0J3MgZGVmaW5lZCBvbilcbiAqIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIGVuZGluZyBIVE1MIHRhZyB3aGVyZSAqKm5nLXJlcGVhdC1lbmQqKiBpcyBwbGFjZWQuXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgbWFrZXMgdXNlIG9mIHRoaXMgZmVhdHVyZTpcbiAqIGBgYGh0bWxcbiAqICAgPGhlYWRlciBuZy1yZXBlYXQtc3RhcnQ9XCJpdGVtIGluIGl0ZW1zXCI+XG4gKiAgICAgSGVhZGVyIHt7IGl0ZW0gfX1cbiAqICAgPC9oZWFkZXI+XG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gKiAgICAgQm9keSB7eyBpdGVtIH19XG4gKiAgIDwvZGl2PlxuICogICA8Zm9vdGVyIG5nLXJlcGVhdC1lbmQ+XG4gKiAgICAgRm9vdGVyIHt7IGl0ZW0gfX1cbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBBbmQgd2l0aCBhbiBpbnB1dCBvZiB7QHR5cGUgWydBJywnQiddfSBmb3IgdGhlIGl0ZW1zIHZhcmlhYmxlIGluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgb3V0cHV0IHdpbGwgZXZhbHVhdGUgdG86XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXI+XG4gKiAgICAgSGVhZGVyIEFcbiAqICAgPC9oZWFkZXI+XG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gKiAgICAgQm9keSBBXG4gKiAgIDwvZGl2PlxuICogICA8Zm9vdGVyPlxuICogICAgIEZvb3RlciBBXG4gKiAgIDwvZm9vdGVyPlxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBCXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQlxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQlxuICogICA8L2Zvb3Rlcj5cbiAqIGBgYFxuICpcbiAqIFRoZSBjdXN0b20gc3RhcnQgYW5kIGVuZCBwb2ludHMgZm9yIG5nUmVwZWF0IGFsc28gc3VwcG9ydCBhbGwgb3RoZXIgSFRNTCBkaXJlY3RpdmUgc3ludGF4IGZsYXZvcnMgcHJvdmlkZWQgaW4gQW5ndWxhckpTIChzdWNoXG4gKiBhcyAqKmRhdGEtbmctcmVwZWF0LXN0YXJ0KiosICoqeC1uZy1yZXBlYXQtc3RhcnQqKiBhbmQgKipuZzpyZXBlYXQtc3RhcnQqKikuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqICoqLmVudGVyKiogLSB3aGVuIGEgbmV3IGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIHJldmVhbGVkIGFmdGVyIGEgZmlsdGVyXG4gKlxuICogKioubGVhdmUqKiAtIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIGZpbHRlcmVkIG91dFxuICpcbiAqICoqLm1vdmUqKiAtIHdoZW4gYW4gYWRqYWNlbnQgaXRlbSBpcyBmaWx0ZXJlZCBvdXQgY2F1c2luZyBhIHJlb3JkZXIgb3Igd2hlbiB0aGUgaXRlbSBjb250ZW50cyBhcmUgcmVvcmRlcmVkXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMDAwXG4gKiBAcGFyYW0ge3JlcGVhdF9leHByZXNzaW9ufSBuZ1JlcGVhdCBUaGUgZXhwcmVzc2lvbiBpbmRpY2F0aW5nIGhvdyB0byBlbnVtZXJhdGUgYSBjb2xsZWN0aW9uLiBUaGVzZVxuICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIHZhcmlhYmxlIGlzIHRoZSB1c2VyIGRlZmluZWQgbG9vcCB2YXJpYWJsZSBhbmQgYGV4cHJlc3Npb25gXG4gKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgYWxidW0gaW4gYXJ0aXN0LmFsYnVtc2AuXG4gKlxuICogICAqIGAoa2V5LCB2YWx1ZSkgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIGBrZXlgIGFuZCBgdmFsdWVgIGNhbiBiZSBhbnkgdXNlciBkZWZpbmVkIGlkZW50aWZpZXJzLFxuICogICAgIGFuZCBgZXhwcmVzc2lvbmAgaXMgdGhlIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGAobmFtZSwgYWdlKSBpbiB7J2FkYW0nOjEwLCAnYW1hbGllJzoxMn1gLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZnVuY3Rpb25cbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBmdW5jdGlvblxuICogICAgIGlzIHNwZWNpZmllZCB0aGUgbmctcmVwZWF0IGFzc29jaWF0ZXMgZWxlbWVudHMgYnkgaWRlbnRpdHkgaW4gdGhlIGNvbGxlY3Rpb24uIEl0IGlzIGFuIGVycm9yIHRvIGhhdmVcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGZ1bmN0aW9uIHRvIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlXG4gKiAgICAgbWFwcGVkIHRvIHRoZSBzYW1lIERPTSBlbGVtZW50LCB3aGljaCBpcyBub3QgcG9zc2libGUuKSAgRmlsdGVycyBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgZXhwcmVzc2lvbixcbiAqICAgICBiZWZvcmUgc3BlY2lmeWluZyBhIHRyYWNraW5nIGV4cHJlc3Npb24uXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2lsbCBiZSBhc3NvY2lhdGVkIGJ5IGl0ZW0gaWRlbnRpdHkgaW4gdGhlIGFycmF5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxuICogICAgIGAkJGhhc2hLZXlgIHByb3BlcnR5IHRvIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuIFRoaXMgcHJvcGVydHkgaXMgdGhlbiB1c2VkIGFzIGEga2V5IHRvIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBhcnJheSBieSBpZGVudGl0eS4gTW92aW5nIHRoZSBzYW1lIG9iamVjdCBpbiBhcnJheSB3b3VsZCBtb3ZlIHRoZSBET01cbiAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSB0eXBpY2FsIHBhdHRlcm4gd2hlbiB0aGUgaXRlbXMgY29tZSBmcm9tIHRoZSBkYXRhYmFzZS4gSW4gdGhpc1xuICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXG4gKiAgICAgcHJvcGVydHkgaXMgc2FtZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxuICogICAgIHRvIGl0ZW1zIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0cmFja2luZyBleHByZXNzaW9uLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXG4gKiAgICAgaW50ZXJtZWRpYXRlIHJlc3VsdHMgb2YgdGhlIHJlcGVhdGVyIGFmdGVyIHRoZSBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLiBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIHJlbmRlciBhIHNwZWNpYWwgbWVzc2FnZVxuICogICAgIHdoZW4gYSBmaWx0ZXIgaXMgYWN0aXZlIG9uIHRoZSByZXBlYXRlciwgYnV0IHRoZSBmaWx0ZXJlZCByZXN1bHQgc2V0IGlzIGVtcHR5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6eCBhcyByZXN1bHRzYCB3aWxsIHN0b3JlIHRoZSBmcmFnbWVudCBvZiB0aGUgcmVwZWF0ZWQgaXRlbXMgYXMgYHJlc3VsdHNgLCBidXQgb25seSBhZnRlclxuICogICAgIHRoZSBpdGVtcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHRocm91Z2ggdGhlIGZpbHRlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIGluaXRpYWxpemVzIHRoZSBzY29wZSB0byBhIGxpc3Qgb2YgbmFtZXMgYW5kXG4gKiB0aGVuIHVzZXMgYG5nUmVwZWF0YCB0byBkaXNwbGF5IGV2ZXJ5IHBlcnNvbjpcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctaW5pdD1cImZyaWVuZHMgPSBbXG4gICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonSmVzc2llJywgYWdlOjMwLCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J01hcnknLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidFcmlrYScsIGFnZToyNywgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XG4gICAgICBdXCI+XG4gICAgICAgIEkgaGF2ZSB7e2ZyaWVuZHMubGVuZ3RofX0gZnJpZW5kcy4gVGhleSBhcmU6XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCIgbmctbW9kZWw9XCJxXCIgcGxhY2Vob2xkZXI9XCJmaWx0ZXIgZnJpZW5kcy4uLlwiIC8+XG4gICAgICAgIDx1bCBjbGFzcz1cImV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnEgYXMgcmVzdWx0c1wiPlxuICAgICAgICAgICAgW3t7JGluZGV4ICsgMX19XSB7e2ZyaWVuZC5uYW1lfX0gd2hvIGlzIHt7ZnJpZW5kLmFnZX19IHllYXJzIG9sZC5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctaWY9XCJyZXN1bHRzLmxlbmd0aCA9PSAwXCI+XG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XG4gICAgICAgIG1hcmdpbjowO1xuICAgICAgICBwYWRkaW5nOjAgMTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0IHtcbiAgICAgICAgbGluZS1oZWlnaHQ6NDBweDtcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlciB7XG4gICAgICAgIG9wYWNpdHk6MDtcbiAgICAgICAgbWF4LWhlaWdodDowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZS5uZy1tb3ZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjE7XG4gICAgICAgIG1heC1oZWlnaHQ6NDBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIGZyaWVuZHMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kIGluIGZyaWVuZHMnKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmVuZGVyIGluaXRpYWwgZGF0YSBzZXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBKb2huIHdobyBpcyAyNSB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgxKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBKZXNzaWUgd2hvIGlzIDMwIHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzEwXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdmcmllbmRzLmxlbmd0aCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAudG9NYXRjaChcIkkgaGF2ZSAxMCBmcmllbmRzLiBUaGV5IGFyZTpcIik7XG4gICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIHJlcGVhdGVyIHdoZW4gZmlsdGVyIHByZWRpY2F0ZSBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcblxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgncScpKS5zZW5kS2V5cygnbWEnKTtcblxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgyKTtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBNYXJ5IHdobyBpcyAyOCB5ZWFycyBvbGQuJyk7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1JlcGVhdERpcmVjdGl2ZSA9IFsnJHBhcnNlJywgJyRhbmltYXRlJywgZnVuY3Rpb24oJHBhcnNlLCAkYW5pbWF0ZSkge1xuICB2YXIgTkdfUkVNT1ZFRCA9ICckJE5HX1JFTU9WRUQnO1xuICB2YXIgbmdSZXBlYXRNaW5FcnIgPSBtaW5FcnIoJ25nUmVwZWF0Jyk7XG5cbiAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGFycmF5TGVuZ3RoKSB7XG4gICAgLy8gVE9ETyhwZXJmKTogZ2VuZXJhdGUgc2V0dGVycyB0byBzaGF2ZSBvZmYgfjQwbXMgb3IgMS0xLjUlXG4gICAgc2NvcGVbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgIGlmIChrZXlJZGVudGlmaWVyKSBzY29wZVtrZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICBzY29wZS4kaW5kZXggPSBpbmRleDtcbiAgICBzY29wZS4kZmlyc3QgPSAoaW5kZXggPT09IDApO1xuICAgIHNjb3BlLiRsYXN0ID0gKGluZGV4ID09PSAoYXJyYXlMZW5ndGggLSAxKSk7XG4gICAgc2NvcGUuJG1pZGRsZSA9ICEoc2NvcGUuJGZpcnN0IHx8IHNjb3BlLiRsYXN0KTtcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcbiAgICBzY29wZS4kb2RkID0gIShzY29wZS4kZXZlbiA9IChpbmRleCYxKSA9PT0gMCk7XG4gICAgLy8ganNoaW50IGJpdHdpc2U6IHRydWVcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tTdGFydCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xuICB9O1xuXG4gIHZhciBnZXRCbG9ja0VuZCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lW2Jsb2NrLmNsb25lLmxlbmd0aCAtIDFdO1xuICB9O1xuXG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDEwMDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgJCR0bGI6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcbiAgICAgIHZhciBuZ1JlcGVhdEVuZENvbW1lbnQgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgZW5kIG5nUmVwZWF0OiAnICsgZXhwcmVzc2lvbiArICcgJyk7XG5cbiAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lleHAnLCBcIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX10nIGJ1dCBnb3QgJ3swfScuXCIsXG4gICAgICAgICAgICBleHByZXNzaW9uKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxocyA9IG1hdGNoWzFdO1xuICAgICAgdmFyIHJocyA9IG1hdGNoWzJdO1xuICAgICAgdmFyIGFsaWFzQXMgPSBtYXRjaFszXTtcbiAgICAgIHZhciB0cmFja0J5RXhwID0gbWF0Y2hbNF07XG5cbiAgICAgIG1hdGNoID0gbGhzLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lpZGV4cCcsIFwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLlwiLFxuICAgICAgICAgICAgbGhzKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZUlkZW50aWZpZXIgPSBtYXRjaFszXSB8fCBtYXRjaFsxXTtcbiAgICAgIHZhciBrZXlJZGVudGlmaWVyID0gbWF0Y2hbMl07XG5cbiAgICAgIGlmIChhbGlhc0FzICYmICghL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KGFsaWFzQXMpIHx8XG4gICAgICAgICAgL14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KGFsaWFzQXMpKSkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignYmFkaWRlbnQnLCBcImFsaWFzICd7MH0nIGlzIGludmFsaWQgLS0tIG11c3QgYmUgYSB2YWxpZCBKUyBpZGVudGlmaWVyIHdoaWNoIGlzIG5vdCBhIHJlc2VydmVkIG5hbWUuXCIsXG4gICAgICAgICAgYWxpYXNBcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFja0J5RXhwR2V0dGVyLCB0cmFja0J5SWRFeHBGbiwgdHJhY2tCeUlkQXJyYXlGbiwgdHJhY2tCeUlkT2JqRm47XG4gICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XG5cbiAgICAgIGlmICh0cmFja0J5RXhwKSB7XG4gICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFja0J5SWRBcnJheUZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdSZXBlYXRMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuXG4gICAgICAgIGlmICh0cmFja0J5RXhwR2V0dGVyKSB7XG4gICAgICAgICAgdHJhY2tCeUlkRXhwRm4gPSBmdW5jdGlvbihrZXksIHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl0gPSBrZXk7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLCBoYXNoRm5Mb2NhbHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSBhIGxpc3Qgb2YgZWxlbWVudHMgZnJvbSBwcmV2aW91cyBydW4uIFRoaXMgaXMgYSBoYXNoIHdoZXJlIGtleSBpcyB0aGUgaXRlbSBmcm9tIHRoZVxuICAgICAgICAvLyBpdGVyYXRvciwgYW5kIHRoZSB2YWx1ZSBpcyBvYmplY3RzIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMuXG4gICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGVcbiAgICAgICAgLy8gICAtIGVsZW1lbnQ6IHByZXZpb3VzIGVsZW1lbnQuXG4gICAgICAgIC8vICAgLSBpbmRleDogcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIG5vLXByb3RvIG9iamVjdCBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZ3VhcmQgYWdhaW5zdCBpbmhlcml0ZWQgcHJvcHMgdmlhXG4gICAgICAgIC8vIGhhc093blByb3BlcnR5LlxuICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XG5cbiAgICAgICAgLy93YXRjaCBwcm9wc1xuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsIGZ1bmN0aW9uIG5nUmVwZWF0QWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgaW5kZXgsIGxlbmd0aCxcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gJGVsZW1lbnRbMF0sICAgICAvLyBub2RlIHRoYXQgY2xvbmVkIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemVkIHRvIHRoZSBjb21tZW50IG5vZGUgYW5jaG9yXG4gICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAvLyBTYW1lIGFzIGxhc3RCbG9ja01hcCBidXQgaXQgaGFzIHRoZSBjdXJyZW50IHN0YXRlLiBJdCB3aWxsIGJlY29tZSB0aGVcbiAgICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGgsXG4gICAgICAgICAgICAgIGtleSwgdmFsdWUsIC8vIGtleS92YWx1ZSBvZiBpdGVyYXRpb25cbiAgICAgICAgICAgICAgdHJhY2tCeUlkLFxuICAgICAgICAgICAgICB0cmFja0J5SWRGbixcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXG4gICAgICAgICAgICAgIGJsb2NrLCAgICAgICAvLyBsYXN0IG9iamVjdCBpbmZvcm1hdGlvbiB7c2NvcGUsIGVsZW1lbnQsIGlkfVxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcixcbiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcblxuICAgICAgICAgIGlmIChhbGlhc0FzKSB7XG4gICAgICAgICAgICAkc2NvcGVbYWxpYXNBc10gPSBjb2xsZWN0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBjb2xsZWN0aW9uO1xuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRBcnJheUZuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZE9iakZuO1xuICAgICAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIHNvcnQgdGhlbSBhbmQgdXNlIHRvIGRldGVybWluZSBvcmRlciBvZiBpdGVyYXRpb24gb3ZlciBvYmogcHJvcHNcbiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sbGVjdGlvbktleXMuc29ydCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGggPSBjb2xsZWN0aW9uS2V5cy5sZW5ndGg7XG4gICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XG5cbiAgICAgICAgICAvLyBsb2NhdGUgZXhpc3RpbmcgaXRlbXNcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIHRyYWNrQnlJZCA9IHRyYWNrQnlJZEZuKGtleSwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIGlmIChsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBmb3VuZCBwcmV2aW91c2x5IHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcbiAgICAgICAgICAgICAgZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcbiAgICAgICAgICAgICAgLy8gaWYgY29sbGlzaW9uIGRldGVjdGVkLiByZXN0b3JlIGxhc3RCbG9ja01hcCBhbmQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgJiYgYmxvY2suc2NvcGUpIGxhc3RCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsXG4gICAgICAgICAgICAgICAgICBcIkR1cGxpY2F0ZXMgaW4gYSByZXBlYXRlciBhcmUgbm90IGFsbG93ZWQuIFVzZSAndHJhY2sgYnknIGV4cHJlc3Npb24gdG8gc3BlY2lmeSB1bmlxdWUga2V5cy4gUmVwZWF0ZXI6IHswfSwgRHVwbGljYXRlIGtleTogezF9LCBEdXBsaWNhdGUgdmFsdWU6IHsyfVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBuZXcgbmV2ZXIgYmVmb3JlIHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0ge2lkOiB0cmFja0J5SWQsIHNjb3BlOiB1bmRlZmluZWQsIGNsb25lOiB1bmRlZmluZWR9O1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVtb3ZlIGxlZnRvdmVyIGl0ZW1zXG4gICAgICAgICAgZm9yICh2YXIgYmxvY2tLZXkgaW4gbGFzdEJsb2NrTWFwKSB7XG4gICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFtibG9ja0tleV07XG4gICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlID0gZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSk7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1RvUmVtb3ZlWzBdLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgd2FzIG5vdCByZW1vdmVkIHlldCBiZWNhdXNlIG9mIHBlbmRpbmcgYW5pbWF0aW9uLCBtYXJrIGl0IGFzIGRlbGV0ZWRcbiAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gaWdub3JlIGl0IGxhdGVyXG4gICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlW2luZGV4XVtOR19SRU1PVkVEXSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2NrLnNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gd2UgYXJlIG5vdCB1c2luZyBmb3JFYWNoIGZvciBwZXJmIHJlYXNvbnMgKHRyeWluZyB0byBhdm9pZCAjY2FsbClcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIGJsb2NrID0gbmV4dEJsb2NrT3JkZXJbaW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoYmxvY2suc2NvcGUpIHtcbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGVcbiAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCBzY29wZS9lbGVtZW50XG5cbiAgICAgICAgICAgICAgbmV4dE5vZGUgPSBwcmV2aW91c05vZGU7XG5cbiAgICAgICAgICAgICAgLy8gc2tpcCBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IHBlbmRpbmcgcmVtb3ZhbCB2aWEgbGVhdmUgYW5pbWF0aW9uXG4gICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICB9IHdoaWxlIChuZXh0Tm9kZSAmJiBuZXh0Tm9kZVtOR19SRU1PVkVEXSk7XG5cbiAgICAgICAgICAgICAgaWYgKGdldEJsb2NrU3RhcnQoYmxvY2spICE9IG5leHROb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWRcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCBudWxsLCBqcUxpdGUocHJldmlvdXNOb2RlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZ2V0QmxvY2tFbmQoYmxvY2spO1xuICAgICAgICAgICAgICB1cGRhdGVTY29wZShibG9jay5zY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgY29sbGVjdGlvbkxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBuZXcgaXRlbSB3aGljaCB3ZSBkb24ndCBrbm93IGFib3V0XG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uIG5nUmVwZWF0VHJhbnNjbHVkZShjbG9uZSwgc2NvcGUpIHtcbiAgICAgICAgICAgICAgICBibG9jay5zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb25lLXZzLWNyZWF0ZWNvbW1lbnRcbiAgICAgICAgICAgICAgICB2YXIgZW5kTm9kZSA9IG5nUmVwZWF0RW5kQ29tbWVudC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGVuZE5vZGU7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKHBlcmYpOiBzdXBwb3J0IG5ha2VkIHByZXZpb3VzTm9kZSBpbiBgZW50ZXJgIHRvIGF2b2lkIGNyZWF0aW9uIG9mIGpxTGl0ZSB3cmFwcGVyP1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBqcUxpdGUocHJldmlvdXNOb2RlKSk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxuICAgICAgICAgICAgICAgIGJsb2NrLmNsb25lID0gY2xvbmU7XG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RCbG9ja01hcCA9IG5leHRCbG9ja01hcDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2hvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1Nob3dgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgZmFsc3kgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXG4gKiBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgY2F1c2luZyBpdCB0byBiZWNvbWUgaGlkZGVuLiBXaGVuIHRydXRoeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXG4gKlxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIENTUy4gTm90ZSB0aGF0IHRoZSBzZWxlY3RvciB0aGF0IG5lZWRzIHRvIGJlIHVzZWQgaXMgYWN0dWFsbHkgYC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKWAgdG8gY29wZVxuICogd2l0aCBleHRyYSBhbmltYXRpb24gY2xhc3NlcyB0aGF0IGNhbiBiZSBhZGRlZC5cbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKSB7XG4gKiAgIC8mIzQyOyB0aGlzIGlzIGp1c3QgYW5vdGhlciBmb3JtIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAqICAgdG9wOiAtOTk5OXB4O1xuICogICBsZWZ0OiAtOTk5OXB4O1xuICogfVxuICogYGBgXG4gKlxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlIGRpc3BsYXkgc3R5bGUuXG4gKlxuICogIyMgQSBub3RlIGFib3V0IGFuaW1hdGlvbnMgd2l0aCBgbmdTaG93YFxuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdTaG93L25nSGlkZSB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBkaXJlY3RpdmUgZXhwcmVzc2lvblxuICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MgZXhjZXB0IHRoYXRcbiAqIHlvdSBtdXN0IGFsc28gaW5jbHVkZSB0aGUgIWltcG9ydGFudCBmbGFnIHRvIG92ZXJyaWRlIHRoZSBkaXNwbGF5IHByb3BlcnR5XG4gKiBzbyB0aGF0IHlvdSBjYW4gcGVyZm9ybSBhbiBhbmltYXRpb24gd2hlbiB0aGUgZWxlbWVudCBpcyBoaWRkZW4gZHVyaW5nIHRoZSB0aW1lIG9mIHRoZSBhbmltYXRpb24uXG4gKlxuICogYGBgY3NzXG4gKiAvL1xuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcbiAqIC8vXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xuICogICAvJiM0MjsgdGhpcyBpcyByZXF1aXJlZCBhcyBvZiAxLjN4IHRvIHByb3Blcmx5XG4gKiAgICAgIGFwcGx5IGFsbCBzdHlsaW5nIGluIGEgc2hvdy9oaWRlIGFuaW1hdGlvbiAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjogMHMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC1hY3RpdmUsXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICogICAvJiM0MjsgdGhlIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBpbiB0aGUgYWN0aXZlIGNsYXNzICYjNDI7L1xuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMy4wLWJldGEuMTEsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGFkZENsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIHRoZSBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGVcbiAqIHJlbW92ZUNsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTaG93IElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHlcbiAqICAgICB0aGVuIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc2hvdyB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcblxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTaG93RGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU2hvdywgZnVuY3Rpb24gbmdTaG93V2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gd2UncmUgYWRkaW5nIGEgdGVtcG9yYXJ5LCBhbmltYXRpb24tc3BlY2lmaWMgY2xhc3MgZm9yIG5nLWhpZGUgc2luY2UgdGhpcyB3YXlcbiAgICAgICAgLy8gd2UgY2FuIGNvbnRyb2wgd2hlbiB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgb24gc2NyZWVuIHdpdGhvdXQgaGF2aW5nXG4gICAgICAgIC8vIHRvIGhhdmUgYSBnbG9iYWwvZ3JlZWR5IENTUyBzZWxlY3RvciB0aGF0IGJyZWFrcyB3aGVuIG90aGVyIGFuaW1hdGlvbnMgYXJlIHJ1bi5cbiAgICAgICAgLy8gUmVhZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTEwMyNpc3N1ZWNvbW1lbnQtNTgzMzU4NDVcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hpZGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ0hpZGVgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xuICogdGhlIGBuZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBjbGFzc1xuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXG4gKlxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIGluIENTUzpcbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICB0b3A6IC05OTk5cHg7XG4gKiAgIGxlZnQ6IC05OTk5cHg7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ0hpZGVgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcywgZXhjZXB0IHRoYXQgdGhlIGAubmctaGlkZWBcbiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLlxuICpcbiAqIGBgYGNzc1xuICogLy9cbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXG4gKiAvL1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgdHJhbnNpdGlvbjogMC41cyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMy4wLWJldGEuMTEsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIHJlbW92ZUNsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGVcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaGlkZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCBmdW5jdGlvbiBuZ0hpZGVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxuICAgICAgICAvLyByZW1vdmUgYSB0ZW1wb3JhcnkgY2xhc3MgZm9yIHRoZSBzaG93L2hpZGUgYW5pbWF0aW9uXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdHlsZVxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcbiAqXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB3aGljaCBldmFscyB0byBhblxuICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXG4gKiBrZXlzLlxuICpcbiAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15U3R5bGU9e31cIj5cbiAgICAgICAgPGJyLz5cbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgICAgIDxwcmU+bXlTdHlsZT17e215U3R5bGV9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBzcGFuIHtcbiAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcblxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1cXCdzZXQgY29sb3JcXCddJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0ci5uZ1N0eWxlLCBmdW5jdGlvbiBuZ1N0eWxlV2F0Y2hBY3Rpb24obmV3U3R5bGVzLCBvbGRTdHlsZXMpIHtcbiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHtcbiAgICAgIGZvckVhY2gob2xkU3R5bGVzLCBmdW5jdGlvbih2YWwsIHN0eWxlKSB7IGVsZW1lbnQuY3NzKHN0eWxlLCAnJyk7fSk7XG4gICAgfVxuICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTd2l0Y2hcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N3aXRjaGAgZGlyZWN0aXZlIGlzIHVzZWQgdG8gY29uZGl0aW9uYWxseSBzd2FwIERPTSBzdHJ1Y3R1cmUgb24geW91ciB0ZW1wbGF0ZSBiYXNlZCBvbiBhIHNjb3BlIGV4cHJlc3Npb24uXG4gKiBFbGVtZW50cyB3aXRoaW4gYG5nU3dpdGNoYCBidXQgd2l0aG91dCBgbmdTd2l0Y2hXaGVuYCBvciBgbmdTd2l0Y2hEZWZhdWx0YCBkaXJlY3RpdmVzIHdpbGwgYmUgcHJlc2VydmVkIGF0IHRoZSBsb2NhdGlvblxuICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGl0c2VsZiB3b3JrcyBzaW1pbGFyIHRvIG5nSW5jbHVkZSwgaG93ZXZlciwgaW5zdGVhZCBvZiBkb3dubG9hZGluZyB0ZW1wbGF0ZSBjb2RlIChvciBsb2FkaW5nIGl0XG4gKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudFxuICogbWF0Y2hlcyB0aGUgdmFsdWUgb2J0YWluZWQgZnJvbSB0aGUgZXZhbHVhdGVkIGV4cHJlc3Npb24uIEluIG90aGVyIHdvcmRzLCB5b3UgZGVmaW5lIGEgY29udGFpbmVyIGVsZW1lbnRcbiAqICh3aGVyZSB5b3UgcGxhY2UgdGhlIGRpcmVjdGl2ZSksIHBsYWNlIGFuIGV4cHJlc3Npb24gb24gdGhlICoqYG9uPVwiLi4uXCJgIGF0dHJpYnV0ZSoqXG4gKiAob3IgdGhlICoqYG5nLXN3aXRjaD1cIi4uLlwiYCBhdHRyaWJ1dGUqKiksIGRlZmluZSBhbnkgaW5uZXIgZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBkaXJlY3RpdmUgYW5kIHBsYWNlXG4gKiBhIHdoZW4gYXR0cmlidXRlIHBlciBlbGVtZW50LiBUaGUgd2hlbiBhdHRyaWJ1dGUgaXMgdXNlZCB0byBpbmZvcm0gbmdTd2l0Y2ggd2hpY2ggZWxlbWVudCB0byBkaXNwbGF5IHdoZW4gdGhlIG9uXG4gKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdFxuICogYXR0cmlidXRlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWRcbiAqIGFzIGxpdGVyYWwgc3RyaW5nIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0LlxuICogRm9yIGV4YW1wbGUsICoqYG5nLXN3aXRjaC13aGVuPVwic29tZVZhbFwiYCoqIHdpbGwgbWF0Y2ggYWdhaW5zdCB0aGUgc3RyaW5nIGBcInNvbWVWYWxcImAgbm90IGFnYWluc3QgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhwcmVzc2lvbiBgJHNjb3BlLnNvbWVWYWxgLlxuICogPC9kaXY+XG5cbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXJcbiAqIGxlYXZlIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgXG4gKiA8QU5ZIG5nLXN3aXRjaD1cImV4cHJlc3Npb25cIj5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLXdoZW49XCJtYXRjaFZhbHVlMlwiPi4uLjwvQU5ZPlxuICogICA8QU5ZIG5nLXN3aXRjaC1kZWZhdWx0Pi4uLjwvQU5ZPlxuICogPC9BTlk+XG4gKiBgYGBcbiAqXG4gKlxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTIwMFxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPHR0Pm5nLXN3aXRjaC13aGVuPC90dD4uXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XG4gKlxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXG4gKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLlxuICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXG4gKiAgIGNhc2UgbWF0Y2guXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8dHQ+c2VsZWN0aW9uPXt7c2VsZWN0aW9ufX08L3R0PlxuICAgICAgICA8aHIvPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyXCJcbiAgICAgICAgICBuZy1zd2l0Y2ggb249XCJzZWxlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwic2V0dGluZ3NcIj5TZXR0aW5ncyBEaXY8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwiaG9tZVwiPkhvbWUgU3BhbjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLWRlZmF1bHQ+ZGVmYXVsdDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnc3dpdGNoRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1zID0gWydzZXR0aW5ncycsICdob21lJywgJ290aGVyJ107XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGlvbiA9ICRzY29wZS5pdGVtc1swXTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoIHtcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG5cbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyIHtcbiAgICAgICAgdG9wOi01MHB4O1xuICAgICAgfVxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTtcbiAgICAgIHZhciBzZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWxlY3Rpb24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9TZXR0aW5ncyBEaXYvKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgxKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIHNlbGVjdCBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N3aXRjaERpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXG5cbiAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIG5nU3dpdGNoQ29udHJvbGxlcigpIHtcbiAgICAgdGhpcy5jYXNlcyA9IHt9O1xuICAgIH1dLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ1N3aXRjaENvbnRyb2xsZXIpIHtcbiAgICAgIHZhciB3YXRjaEV4cHIgPSBhdHRyLm5nU3dpdGNoIHx8IGF0dHIub24sXG4gICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMgPSBbXSxcbiAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzID0gW107XG5cbiAgICAgIHZhciBzcGxpY2VGYWN0b3J5ID0gZnVuY3Rpb24oYXJyYXksIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyBhcnJheS5zcGxpY2UoaW5kZXgsIDEpOyB9O1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwciwgZnVuY3Rpb24gbmdTd2l0Y2hXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaSwgaWk7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHNlbGVjdGVkU2NvcGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBnZXRCbG9ja05vZGVzKHNlbGVjdGVkRWxlbWVudHNbaV0uY2xvbmUpO1xuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCk7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSA9ICRhbmltYXRlLmxlYXZlKHNlbGVjdGVkKTtcbiAgICAgICAgICBwcm9taXNlLnRoZW4oc3BsaWNlRmFjdG9yeShwcmV2aW91c0xlYXZlQW5pbWF0aW9ucywgaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgICAgICBzZWxlY3RlZFNjb3Blcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGlmICgoc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snIScgKyB2YWx1ZV0gfHwgbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWyc/J10pKSB7XG4gICAgICAgICAgZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLCBmdW5jdGlvbihzZWxlY3RlZFRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZS50cmFuc2NsdWRlKGZ1bmN0aW9uKGNhc2VFbGVtZW50LCBzZWxlY3RlZFNjb3BlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7XG4gICAgICAgICAgICAgIHZhciBhbmNob3IgPSBzZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtcbiAgICAgICAgICAgICAgY2FzZUVsZW1lbnRbY2FzZUVsZW1lbnQubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ1N3aXRjaFdoZW46ICcpO1xuICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7IGNsb25lOiBjYXNlRWxlbWVudCB9O1xuXG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0gPSAoY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dIHx8IFtdKTtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xuICB9XG59KTtcblxudmFyIG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICBwcmlvcml0eTogMTIwMCxcbiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgY3RybC5jYXNlc1snPyddID0gKGN0cmwuY2FzZXNbJz8nXSB8fCBbXSk7XG4gICAgY3RybC5jYXNlc1snPyddLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nVHJhbnNjbHVkZVxuICogQHJlc3RyaWN0IEVBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uXG4gKlxuICogQW55IGV4aXN0aW5nIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgdGhhdCB0aGlzIGRpcmVjdGl2ZSBpcyBwbGFjZWQgb24gd2lsbCBiZSByZW1vdmVkIGJlZm9yZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBpbnNlcnRlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwidHJhbnNjbHVkZUV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogZ3JheVwiPnt7dGl0bGV9fTwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICAgICAgIH07XG4gICAgICAgICB9KVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcbiAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xuICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiPiA8YnIvPlxuICAgICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPnt7dGV4dH19PC9wYW5lPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICAgICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHJlc3RyaWN0OiAnRUFDJyxcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcbiAgICAgIHRocm93IG1pbkVycignbmdUcmFuc2NsdWRlJykoJ29ycGhhbicsXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcbiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcbiAgICAgICAnRWxlbWVudDogezB9JyxcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cblxuICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXG4gICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0O1xuXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ09wdGlvbnNNaW5FcnIgPSBtaW5FcnIoJ25nT3B0aW9ucycpO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cbiAqXG4gKiAjIGBuZ09wdGlvbnNgXG4gKlxuICogVGhlIGBuZ09wdGlvbnNgIGF0dHJpYnV0ZSBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBhIGxpc3Qgb2YgYDxvcHRpb24+YFxuICogZWxlbWVudHMgZm9yIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQgdXNpbmcgdGhlIGFycmF5IG9yIG9iamVjdCBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZVxuICogYG5nT3B0aW9uc2AgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLlxuICpcbiAqIEluIG1hbnkgY2FzZXMsIGBuZ1JlcGVhdGAgY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYVxuICogc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMgc3VjaCBhcyByZWR1Y2luZyBtZW1vcnkgYW5kXG4gKiBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLiBgbmdPcHRpb25zYCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBgPHNlbGVjdD5gIG1vZGVsIG5lZWRzIHRvIGJlIGJvdW5kXG4gKiAgdG8gYSBub24tc3RyaW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uIGVsZW1lbnQgY2FuIG9ubHkgYmUgYm91bmQgdG8gc3RyaW5nIHZhbHVlcyBhdFxuICogcHJlc2VudC5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XG4gKiByZXByZXNlbnRlZCBieSB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYFxuICogZGlyZWN0aXZlLlxuICpcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIGBuZ01vZGVsYCBjb21wYXJlcyBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgd2hlbiBiaW5kaW5nIHRvIGFuXG4gKiBhcnJheSBvZiBvYmplY3RzLiBTZWUgYW4gZXhhbXBsZSBbaW4gdGhpcyBqc2ZpZGRsZV0oaHR0cDovL2pzZmlkZGxlLm5ldC9xV3pUYi8pLlxuICogPC9kaXY+XG4gKlxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcbiAqXG4gKiBVc2luZyBgc2VsZWN0YCAqKmBhc2AqKiB3aWxsIGJpbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHNlbGVjdGAgZXhwcmVzc2lvbiB0byB0aGUgbW9kZWwsIGJ1dFxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxuICogaXMgdXNlZCwgdGhlIHJlc3VsdCBvZiB0aGF0IGV4cHJlc3Npb24gd2lsbCBiZSBzZXQgYXMgdGhlIHZhbHVlIG9mIHRoZSBgb3B0aW9uYCBhbmQgYHNlbGVjdGAgZWxlbWVudHMuXG4gKlxuICpcbiAqICMjIyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKipcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogRG8gbm90IHVzZSBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi4gVGhleSBhcmUgbm90IGRlc2lnbmVkIHRvIHdvcmsgdG9nZXRoZXIuXG4gKiA8L2Rpdj5cbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XG4gKlxuICogYGBgaHRtbFxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gdmFsdWVzIHRyYWNrIGJ5IGl0ZW0uaWRcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogJHNjb3BlLnZhbHVlcyA9IFt7XG4gKiAgIGlkOiAxLFxuICogICBsYWJlbDogJ2FMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2FTdWJJdGVtJyB9XG4gKiB9LCB7XG4gKiAgIGlkOiAyLFxuICogICBsYWJlbDogJ2JMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2JTdWJJdGVtJyB9XG4gKiB9XTtcbiAqXG4gKiAkc2NvcGUuc2VsZWN0ZWQgPSB7IG5hbWU6ICdhU3ViSXRlbScgfTtcbiAqIGBgYFxuICpcbiAqIFdpdGggdGhlIHB1cnBvc2Ugb2YgcHJlc2VydmluZyB0aGUgc2VsZWN0aW9uLCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHdheXMgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICogb2YgdGhlIGRhdGEgc291cmNlICh0byBgaXRlbWAgaW4gdGhpcyBleGFtcGxlKS4gVG8gY2FsY3VsYXRlIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBzZWxlY3RlZCwgd2UgZG8gdGhlXG4gKiBmb2xsb3dpbmc6XG4gKlxuICogMS4gQXBwbHkgKipgdHJhY2sgYnlgKiogdG8gdGhlIGVsZW1lbnRzIGluIHRoZSBhcnJheS4gSW4gdGhlIGV4YW1wbGU6IGBbMSwgMl1gXG4gKiAyLiBBcHBseSAqKmB0cmFjayBieWAqKiB0byB0aGUgYWxyZWFkeSBzZWxlY3RlZCB2YWx1ZSBpbiBgbmdNb2RlbGAuXG4gKiAgICBJbiB0aGUgZXhhbXBsZTogdGhpcyBpcyBub3QgcG9zc2libGUgYXMgKipgdHJhY2sgYnlgKiogcmVmZXJzIHRvIGBpdGVtLmlkYCwgYnV0IHRoZSBzZWxlY3RlZFxuICogICAgdmFsdWUgZnJvbSBgbmdNb2RlbGAgaXMgYHtuYW1lOiAnYVN1Ykl0ZW0nfWAsIHNvIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFwcGxpZWQgdG9cbiAqICAgIGEgd3Jvbmcgb2JqZWN0LCB0aGUgc2VsZWN0ZWQgZWxlbWVudCBjYW4ndCBiZSBmb3VuZCwgYDxzZWxlY3Q+YCBpcyBhbHdheXMgcmVzZXQgdG8gdGhlIFwibm90XG4gKiAgICBzZWxlY3RlZFwiIG9wdGlvbi5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBUaGUgY29udHJvbCBpcyBjb25zaWRlcmVkIHZhbGlkIG9ubHkgaWYgdmFsdWUgaXMgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb249fSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XG4gKlxuICogICAqIGZvciBhcnJheSBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgfCBvcmRlckJ5OmBvcmRlcmV4cHJgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgICAgKGZvciBpbmNsdWRpbmcgYSBmaWx0ZXIgd2l0aCBgdHJhY2sgYnlgKVxuICogICAqIGZvciBvYmplY3QgZGF0YSBzb3VyY2VzOlxuICogICAgICogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAqIGBhcnJheWAgLyBgb2JqZWN0YDogYW4gZXhwcmVzc2lvbiB3aGljaCBldmFsdWF0ZXMgdG8gYW4gYXJyYXkgLyBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogICAqIGB2YWx1ZWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gZWFjaCBpdGVtIGluIHRoZSBgYXJyYXlgIG9yIGVhY2ggcHJvcGVydHkgdmFsdWVcbiAqICAgICAgb2YgYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBga2V5YDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBhIHByb3BlcnR5IG5hbWUgaW4gYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBgbGFiZWxgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHRoZSBsYWJlbCBmb3IgYDxvcHRpb24+YCBlbGVtZW50LiBUaGVcbiAqICAgICBgZXhwcmVzc2lvbmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGUgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuXG4gKiAgICogYHNlbGVjdGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIG9mIHRoZSBwYXJlbnQgYDxzZWxlY3Q+YFxuICogICAgICBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkLCBgc2VsZWN0YCBleHByZXNzaW9uIHdpbGwgZGVmYXVsdCB0byBgdmFsdWVgLlxuICogICAqIGBncm91cGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBncm91cCBvcHRpb25zIHVzaW5nIHRoZSBgPG9wdGdyb3VwPmBcbiAqICAgICAgRE9NIGVsZW1lbnQuXG4gKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICAgICB1c2VkIHRvIGlkZW50aWZ5IHRoZSBvYmplY3RzIGluIHRoZSBhcnJheS4gVGhlIGB0cmFja2V4cHJgIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlXG4gKiAgICAgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuIFdpdGggdGhpcyB0aGUgc2VsZWN0aW9uIGlzIHByZXNlcnZlZFxuICogICAgICBldmVuIHdoZW4gdGhlIG9wdGlvbnMgYXJlIHJlY3JlYXRlZCAoZS5nLiByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIpLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3NlbGVjdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNvbG9ycyA9IFtcbiAgICAgICAgICAgICAge25hbWU6J2JsYWNrJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0J30sXG4gICAgICAgICAgICAgIHtuYW1lOidyZWQnLCBzaGFkZTonZGFyayd9LFxuICAgICAgICAgICAgICB7bmFtZTonYmx1ZScsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOid5ZWxsb3cnLCBzaGFkZTonbGlnaHQnfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICRzY29wZS5teUNvbG9yID0gJHNjb3BlLmNvbG9yc1syXTsgLy8gcmVkXG4gICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj5cbiAgICAgICAgICAgICAgWzxhIGhyZWYgbmctY2xpY2s9XCJjb2xvcnMuc3BsaWNlKCRpbmRleCwgMSlcIj5YPC9hPl1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIFs8YSBocmVmIG5nLWNsaWNrPVwiY29sb3JzLnB1c2goe30pXCI+YWRkPC9hPl1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIENvbG9yIChudWxsIG5vdCBhbGxvd2VkKTpcbiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD48YnI+XG5cbiAgICAgICAgICBDb2xvciAobnVsbCBhbGxvd2VkKTpcbiAgICAgICAgICA8c3BhbiAgY2xhc3M9XCJudWxsYWJsZVwiPlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvc3Bhbj48YnIvPlxuXG4gICAgICAgICAgQ29sb3IgZ3JvdXBlZCBieSBzaGFkZTpcbiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICA8L3NlbGVjdD48YnIvPlxuXG5cbiAgICAgICAgICBTZWxlY3QgPGEgaHJlZiBuZy1jbGljaz1cIm15Q29sb3IgPSB7IG5hbWU6J25vdCBpbiBsaXN0Jywgc2hhZGU6ICdvdGhlcicgfVwiPmJvZ3VzPC9hPi48YnI+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICBDdXJyZW50bHkgc2VsZWN0ZWQ6IHt7IHtzZWxlY3RlZF9jb2xvcjpteUNvbG9yfSB9fVxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6c29saWQgMXB4IGJsYWNrOyBoZWlnaHQ6MjBweFwiXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215Q29sb3InKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJ3NlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xuICAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbnZhciBuZ09wdGlvbnNEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdBJyxcbiAgdGVybWluYWw6IHRydWVcbn0pO1xuXG4vLyBqc2hpbnQgbWF4bGVuOiBmYWxzZVxudmFyIHNlbGVjdERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICAgJHBhcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDU1NTU1NTU1NTU1NTU1NTAwMDAwMDA2NjY2NjY2NjY2NjY2NjYwMDAwMDAwMDAwMDAwMDA3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODhcbiAgdmFyIE5HX09QVElPTlNfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XSopfCg/OlxcKFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKixcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLyxcbiAgICAgIG51bGxNb2RlbEN0cmwgPSB7JHNldFZpZXdWYWx1ZTogbm9vcH07XG4vLyBqc2hpbnQgbWF4bGVuOiAxMDBcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiBbJyRlbGVtZW50JywgJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkZWxlbWVudCwgJHNjb3BlLCAkYXR0cnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvcHRpb25zTWFwID0ge30sXG4gICAgICAgICAgbmdNb2RlbEN0cmwgPSBudWxsTW9kZWxDdHJsLFxuICAgICAgICAgIG51bGxPcHRpb24sXG4gICAgICAgICAgdW5rbm93bk9wdGlvbjtcblxuXG4gICAgICBzZWxmLmRhdGFib3VuZCA9ICRhdHRycy5uZ01vZGVsO1xuXG5cbiAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgbnVsbE9wdGlvbl8sIHVua25vd25PcHRpb25fKSB7XG4gICAgICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgICAgICBudWxsT3B0aW9uID0gbnVsbE9wdGlvbl87XG4gICAgICAgIHVua25vd25PcHRpb24gPSB1bmtub3duT3B0aW9uXztcbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5hZGRPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCkge1xuICAgICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICAgICAgb3B0aW9uc01hcFt2YWx1ZV0gPSB0cnVlO1xuXG4gICAgICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09IHZhbHVlKSB7XG4gICAgICAgICAgJGVsZW1lbnQudmFsKHZhbHVlKTtcbiAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzgxNDU5XG4gICAgICAgIC8vIEFkZGluZyBhbiA8b3B0aW9uIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4gZWxlbWVudCB0byBhIDxzZWxlY3QgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiPiBzaG91bGRcbiAgICAgICAgLy8gYXV0b21hdGljYWxseSBzZWxlY3QgdGhlIG5ldyBlbGVtZW50XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgZWxlbWVudFswXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5yZW1vdmVPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNPcHRpb24odmFsdWUpKSB7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnNNYXBbdmFsdWVdO1xuICAgICAgICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciB1bmtub3duVmFsID0gJz8gJyArIGhhc2hLZXkodmFsKSArICcgPyc7XG4gICAgICAgIHVua25vd25PcHRpb24udmFsKHVua25vd25WYWwpO1xuICAgICAgICAkZWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pO1xuICAgICAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAgICAgfTtcblxuXG4gICAgICBzZWxmLmhhc09wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zTWFwLmhhc093blByb3BlcnR5KHZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gbm9vcDtcbiAgICAgIH0pO1xuICAgIH1dLFxuXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICBpZiAoIWN0cmxzWzFdKSByZXR1cm47XG5cbiAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF0sXG4gICAgICAgICAgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXSxcbiAgICAgICAgICBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGUsXG4gICAgICAgICAgb3B0aW9uc0V4cCA9IGF0dHIubmdPcHRpb25zLFxuICAgICAgICAgIG51bGxPcHRpb24gPSBmYWxzZSwgLy8gaWYgZmFsc2UsIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBzZWxlY3QgaXQgKHVzZWQgYnkgbmdPcHRpb25zKVxuICAgICAgICAgIGVtcHR5T3B0aW9uLFxuICAgICAgICAgIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlLFxuICAgICAgICAgIC8vIHdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gICAgICAgICAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXG4gICAgICAgICAgb3B0aW9uVGVtcGxhdGUgPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpLFxuICAgICAgICAgIG9wdEdyb3VwVGVtcGxhdGUgPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpKSxcbiAgICAgICAgICB1bmtub3duT3B0aW9uID0gb3B0aW9uVGVtcGxhdGUuY2xvbmUoKTtcblxuICAgICAgLy8gZmluZCBcIm51bGxcIiBvcHRpb25cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKSwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICBlbXB0eU9wdGlvbiA9IG51bGxPcHRpb24gPSBjaGlsZHJlbi5lcShpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxlY3RDdHJsLmluaXQobmdNb2RlbEN0cmwsIG51bGxPcHRpb24sIHVua25vd25PcHRpb24pO1xuXG4gICAgICAvLyByZXF1aXJlZCB2YWxpZGF0b3JcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zRXhwKSBzZXR1cEFzT3B0aW9ucyhzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwpO1xuICAgICAgZWxzZSBpZiAobXVsdGlwbGUpIHNldHVwQXNNdWx0aXBsZShzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwpO1xuICAgICAgZWxzZSBzZXR1cEFzU2luZ2xlKHNjb3BlLCBlbGVtZW50LCBuZ01vZGVsQ3RybCwgc2VsZWN0Q3RybCk7XG5cblxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cblxuICAgICAgZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSwgc2VsZWN0RWxlbWVudCwgbmdNb2RlbEN0cmwsIHNlbGVjdEN0cmwpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdEN0cmwuaGFzT3B0aW9uKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bmtub3duT3B0aW9uLnBhcmVudCgpKSB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgc2VsZWN0RWxlbWVudC52YWwodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2aWV3VmFsdWUgPT09ICcnKSBlbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSAmJiBlbXB0eU9wdGlvbikge1xuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbmRlclVua25vd25PcHRpb24odmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHVua25vd25PcHRpb24ucGFyZW50KCkpIHVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEVsZW1lbnQudmFsKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0dXBBc011bHRpcGxlKHNjb3BlLCBzZWxlY3RFbGVtZW50LCBjdHJsKSB7XG4gICAgICAgIHZhciBsYXN0VmlldztcbiAgICAgICAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEhhc2hNYXAoY3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGRvIGl0IG9uIGVhY2ggd2F0Y2ggc2luY2UgbmdNb2RlbCB3YXRjaGVzIHJlZmVyZW5jZSwgYnV0XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7XG4gICAgICAgICAgaWYgKCFlcXVhbHMobGFzdFZpZXcsIGN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkoY3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgICBmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cEFzT3B0aW9ucyhzY29wZSwgc2VsZWN0RWxlbWVudCwgY3RybCkge1xuICAgICAgICB2YXIgbWF0Y2g7XG5cbiAgICAgICAgaWYgKCEobWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKSkpIHtcbiAgICAgICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgXCIgK1xuICAgICAgICAgICAgXCInX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl8nXCIgK1xuICAgICAgICAgICAgXCIgYnV0IGdvdCAnezB9Jy4gRWxlbWVudDogezF9XCIsXG4gICAgICAgICAgICBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGlzcGxheUZuID0gJHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSxcbiAgICAgICAgICAgIHZhbHVlTmFtZSA9IG1hdGNoWzRdIHx8IG1hdGNoWzZdLFxuICAgICAgICAgICAgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV0sXG4gICAgICAgICAgICBzZWxlY3RBc0ZuID0gc2VsZWN0QXMgPyAkcGFyc2Uoc2VsZWN0QXMpIDogbnVsbCxcbiAgICAgICAgICAgIGtleU5hbWUgPSBtYXRjaFs1XSxcbiAgICAgICAgICAgIGdyb3VwQnlGbiA9ICRwYXJzZShtYXRjaFszXSB8fCAnJyksXG4gICAgICAgICAgICB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpLFxuICAgICAgICAgICAgdmFsdWVzRm4gPSAkcGFyc2UobWF0Y2hbN10pLFxuICAgICAgICAgICAgdHJhY2sgPSBtYXRjaFs4XSxcbiAgICAgICAgICAgIHRyYWNrRm4gPSB0cmFjayA/ICRwYXJzZShtYXRjaFs4XSkgOiBudWxsLFxuICAgICAgICAgICAgdHJhY2tLZXlzQ2FjaGUgPSB7fSxcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXJyYXkgb2YgYXJyYXkgb2YgZXhpc3Rpbmcgb3B0aW9uIGdyb3VwcyBpbiBET00uXG4gICAgICAgICAgICAvLyBXZSB0cnkgdG8gcmV1c2UgdGhlc2UgaWYgcG9zc2libGVcbiAgICAgICAgICAgIC8vIC0gb3B0aW9uR3JvdXBzQ2FjaGVbMF0gaXMgdGhlIG9wdGlvbnMgd2l0aCBubyBvcHRpb24gZ3JvdXBcbiAgICAgICAgICAgIC8vIC0gb3B0aW9uR3JvdXBzQ2FjaGVbP11bMF0gaXMgdGhlIHBhcmVudDogZWl0aGVyIHRoZSBTRUxFQ1Qgb3IgT1BUR1JPVVAgZWxlbWVudFxuICAgICAgICAgICAgb3B0aW9uR3JvdXBzQ2FjaGUgPSBbW3tlbGVtZW50OiBzZWxlY3RFbGVtZW50LCBsYWJlbDonJ31dXSxcbiAgICAgICAgICAgIC8vcmUtdXNhYmxlIG9iamVjdCB0byByZXByZXNlbnQgb3B0aW9uJ3MgbG9jYWxzXG4gICAgICAgICAgICBsb2NhbHMgPSB7fTtcblxuICAgICAgICBpZiAobnVsbE9wdGlvbikge1xuICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXRcbiAgICAgICAgICAkY29tcGlsZShudWxsT3B0aW9uKShzY29wZSk7XG5cbiAgICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdFxuICAgICAgICAgIC8vIGJlY29tZXMgdGhlIGNvbXBpbGF0aW9uIHJvb3RcbiAgICAgICAgICBudWxsT3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xuXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgaXQgYmVmb3JlIGNhbGxpbmcgc2VsZWN0RWxlbWVudC5lbXB0eSgpIGJlY2F1c2Ugb3RoZXJ3aXNlIElFIHdpbGxcbiAgICAgICAgICAvLyByZW1vdmUgdGhlIGxhYmVsIGZyb20gdGhlIGVsZW1lbnQuIHd0Zj9cbiAgICAgICAgICBudWxsT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgY29udGVudHMsIHdlJ2xsIGFkZCB3aGF0J3MgbmVlZGVkIGJhc2VkIG9uIHRoZSBtb2RlbFxuICAgICAgICBzZWxlY3RFbGVtZW50LmVtcHR5KCk7XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgc2VsZWN0aW9uQ2hhbmdlZCk7XG5cbiAgICAgICAgY3RybC4kcmVuZGVyID0gcmVuZGVyO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24odmFsdWVzRm4sIHNjaGVkdWxlUmVuZGVyaW5nKTtcbiAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihnZXRMYWJlbHMsIHNjaGVkdWxlUmVuZGVyaW5nKTtcblxuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3RybC4kbW9kZWxWYWx1ZTsgfSwgc2NoZWR1bGVSZW5kZXJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgICAgICAgZnVuY3Rpb24gY2FsbEV4cHJlc3Npb24oZXhwckZuLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoa2V5TmFtZSkgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xuICAgICAgICAgIHJldHVybiBleHByRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHZpZXdWYWx1ZTtcbiAgICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgICB2aWV3VmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgZm9yRWFjaChzZWxlY3RFbGVtZW50LnZhbCgpLCBmdW5jdGlvbihzZWxlY3RlZEtleSkge1xuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXkgPSB0cmFja0ZuID8gdHJhY2tLZXlzQ2FjaGVbc2VsZWN0ZWRLZXldIDogc2VsZWN0ZWRLZXk7XG4gICAgICAgICAgICAgICAgdmlld1ZhbHVlLnB1c2goZ2V0Vmlld1ZhbHVlKHNlbGVjdGVkS2V5LCBjb2xsZWN0aW9uW3NlbGVjdGVkS2V5XSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleSA9IHRyYWNrRm4gPyB0cmFja0tleXNDYWNoZVtzZWxlY3RFbGVtZW50LnZhbCgpXSA6IHNlbGVjdEVsZW1lbnQudmFsKCk7XG4gICAgICAgICAgICAgIHZpZXdWYWx1ZSA9IGdldFZpZXdWYWx1ZShzZWxlY3RlZEtleSwgY29sbGVjdGlvbltzZWxlY3RlZEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICByZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFZpZXdWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2aWV3VmFsdWVGbiA9IHNlbGVjdEFzRm4gPyBzZWxlY3RBc0ZuIDogdmFsdWVGbjtcbiAgICAgICAgICAgIHJldHVybiBjYWxsRXhwcmVzc2lvbih2aWV3VmFsdWVGbiwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZXNGbihzY29wZSk7XG4gICAgICAgICAgdmFyIHRvRGlzcGxheTtcbiAgICAgICAgICBpZiAodmFsdWVzICYmIGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdG9EaXNwbGF5ID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdmFsdWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgdG9EaXNwbGF5W2ldID0gY2FsbEV4cHJlc3Npb24oZGlzcGxheUZuLCBpLCB2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvRGlzcGxheTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgLy8gVE9ETzogQWRkIGEgdGVzdCBmb3IgdGhpcyBjYXNlXG4gICAgICAgICAgICB0b0Rpc3BsYXkgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0b0Rpc3BsYXlbcHJvcF0gPSBjYWxsRXhwcmVzc2lvbihkaXNwbGF5Rm4sIHByb3AsIHZhbHVlc1twcm9wXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRvRGlzcGxheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlzU2VsZWN0ZWRGbih2aWV3VmFsdWUpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRTZXQ7XG4gICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICBpZiAodHJhY2tGbiAmJiBpc0FycmF5KHZpZXdWYWx1ZSkpIHtcblxuICAgICAgICAgICAgICBzZWxlY3RlZFNldCA9IG5ldyBIYXNoTWFwKFtdKTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgdHJhY2tJbmRleCA9IDA7IHRyYWNrSW5kZXggPCB2aWV3VmFsdWUubGVuZ3RoOyB0cmFja0luZGV4KyspIHtcbiAgICAgICAgICAgICAgICAvLyB0cmFja2luZyBieSBrZXlcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNldC5wdXQoY2FsbEV4cHJlc3Npb24odHJhY2tGbiwgbnVsbCwgdmlld1ZhbHVlW3RyYWNrSW5kZXhdKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkU2V0ID0gbmV3IEhhc2hNYXAodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRyYWNrRm4pIHtcbiAgICAgICAgICAgIHZpZXdWYWx1ZSA9IGNhbGxFeHByZXNzaW9uKHRyYWNrRm4sIG51bGwsIHZpZXdWYWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzU2VsZWN0ZWQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVWYWx1ZUZuO1xuICAgICAgICAgICAgaWYgKHRyYWNrRm4pIHtcbiAgICAgICAgICAgICAgY29tcGFyZVZhbHVlRm4gPSB0cmFja0ZuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RBc0ZuKSB7XG4gICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZUZuID0gc2VsZWN0QXNGbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZUZuID0gdmFsdWVGbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpc0RlZmluZWQoc2VsZWN0ZWRTZXQucmVtb3ZlKGNhbGxFeHByZXNzaW9uKGNvbXBhcmVWYWx1ZUZuLCBrZXksIHZhbHVlKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA9PT0gY2FsbEV4cHJlc3Npb24oY29tcGFyZVZhbHVlRm4sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcmluZygpIHtcbiAgICAgICAgICBpZiAoIXJlbmRlclNjaGVkdWxlZCkge1xuICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KHJlbmRlcik7XG4gICAgICAgICAgICByZW5kZXJTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG5ldyBsYWJlbE1hcCBpcyBjcmVhdGVkIHdpdGggZWFjaCByZW5kZXIuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGV4aXN0aW5nIG9wdGlvbiB3aXRoIGFkZGVkPWZhbHNlLFxuICAgICAgICAgKiBhbmQgZWFjaCBuZXcgb3B0aW9uIHdpdGggYWRkZWQ9dHJ1ZS5cbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIHR3aWNlLFxuICAgICAgICAgKiAob25jZSB3aXRoIGFkZGVkPXRydWUgYW5kIG9uY2Ugd2l0aCBhZGRlZD1mYWxzZSkgd2lsbCBlbmQgdXAgd2l0aCBhIHZhbHVlIG9mIDAsIGFuZFxuICAgICAgICAgKiB3aWxsIGNhdXNlIG5vIGNoYW5nZSB0byBoYXBwZW4gdG8gdGhlIGNvcnJlc3BvbmRpbmcgb3B0aW9uLlxuICAgICAgICAgKiAtIExhYmVscyB0aGF0IGFyZSBwYXNzZWQgdG8gdGhpcyBtZXRob2Qgb25seSBvbmNlIHdpdGggYWRkZWQ9ZmFsc2Ugd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIC0xIGFuZCB3aWxsIGV2ZW50dWFsbHkgYmUgcGFzc2VkIHRvIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKClcbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIG9ubHkgb25jZSB3aXRoIGFkZGVkPXRydWUgd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIDEgYW5kIHdpbGwgZXZlbnR1YWxseSBiZSBwYXNzZWQgdG8gc2VsZWN0Q3RybC5hZGRPcHRpb24oKVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgbGFiZWwsIGFkZGVkKSB7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdID0gbGFiZWxNYXBbbGFiZWxdIHx8IDA7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdICs9IChhZGRlZCA/IDEgOiAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAvLyBUZW1wb3JhcnkgbG9jYXRpb24gZm9yIHRoZSBvcHRpb24gZ3JvdXBzIGJlZm9yZSB3ZSByZW5kZXIgdGhlbVxuICAgICAgICAgIHZhciBvcHRpb25Hcm91cHMgPSB7Jyc6W119LFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cE5hbWVzID0gWycnXSxcbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lLFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cCxcbiAgICAgICAgICAgICAgb3B0aW9uLFxuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCwgZXhpc3RpbmdPcHRpb25zLCBleGlzdGluZ09wdGlvbixcbiAgICAgICAgICAgICAgdmlld1ZhbHVlID0gY3RybC4kdmlld1ZhbHVlLFxuICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW10sXG4gICAgICAgICAgICAgIGtleXMgPSBrZXlOYW1lID8gc29ydGVkS2V5cyh2YWx1ZXMpIDogdmFsdWVzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBncm91cExlbmd0aCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBncm91cEluZGV4LCBpbmRleCxcbiAgICAgICAgICAgICAgbGFiZWxNYXAgPSB7fSxcbiAgICAgICAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKSxcbiAgICAgICAgICAgICAgYW55U2VsZWN0ZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgbGFzdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICBvcHRpb25JZDtcblxuICAgICAgICAgIHRyYWNrS2V5c0NhY2hlID0ge307XG5cbiAgICAgICAgICAvLyBXZSBub3cgYnVpbGQgdXAgdGhlIGxpc3Qgb2Ygb3B0aW9ucyB3ZSBuZWVkICh3ZSBtZXJnZSBsYXRlcilcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgbGVuZ3RoID0ga2V5cy5sZW5ndGgsIGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSBpbmRleDtcbiAgICAgICAgICAgIGlmIChrZXlOYW1lKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2tleV07XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSA9IGNhbGxFeHByZXNzaW9uKGdyb3VwQnlGbiwga2V5LCB2YWx1ZSkgfHwgJyc7XG4gICAgICAgICAgICBpZiAoIShvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdKSkge1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdID0gW107XG4gICAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZXMucHVzaChvcHRpb25Hcm91cE5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBhbnlTZWxlY3RlZCA9IGFueVNlbGVjdGVkIHx8IHNlbGVjdGVkO1xuXG4gICAgICAgICAgICBsYWJlbCA9IGNhbGxFeHByZXNzaW9uKGRpc3BsYXlGbiwga2V5LCB2YWx1ZSk7IC8vIHdoYXQgd2lsbCBiZSBzZWVuIGJ5IHRoZSB1c2VyXG5cbiAgICAgICAgICAgIC8vIGRvaW5nIGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKSB8fCAnJyBvdmVyd3JpdGVzIHplcm8gdmFsdWVzXG4gICAgICAgICAgICBsYWJlbCA9IGlzRGVmaW5lZChsYWJlbCkgPyBsYWJlbCA6ICcnO1xuICAgICAgICAgICAgb3B0aW9uSWQgPSB0cmFja0ZuID8gdHJhY2tGbihzY29wZSwgbG9jYWxzKSA6IChrZXlOYW1lID8ga2V5c1tpbmRleF0gOiBpbmRleCk7XG4gICAgICAgICAgICBpZiAodHJhY2tGbikge1xuICAgICAgICAgICAgICB0cmFja0tleXNDYWNoZVtvcHRpb25JZF0gPSBrZXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwLnB1c2goe1xuICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhlIGluZGV4IGludG8gYXJyYXkgb3Iga2V5IGZyb20gb2JqZWN0XG4gICAgICAgICAgICAgIGlkOiBvcHRpb25JZCxcbiAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmIChudWxsT3B0aW9uIHx8IHZpZXdWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBpbnNlcnQgbnVsbCBvcHRpb24gaWYgd2UgaGF2ZSBhIHBsYWNlaG9sZGVyLCBvciB0aGUgbW9kZWwgaXMgbnVsbFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNbJyddLnVuc2hpZnQoe2lkOicnLCBsYWJlbDonJywgc2VsZWN0ZWQ6IWFueVNlbGVjdGVkfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhbnlTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAvLyBvcHRpb24gY291bGQgbm90IGJlIGZvdW5kLCB3ZSBoYXZlIHRvIGluc2VydCB0aGUgdW5kZWZpbmVkIGl0ZW1cbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBzWycnXS51bnNoaWZ0KHtpZDonPycsIGxhYmVsOicnLCBzZWxlY3RlZDp0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIERPTSBub2RlcyB0byBtYXRjaCB0aGUgb3B0aW9uR3JvdXBzIHdlIGNvbXB1dGVkIGFib3ZlXG4gICAgICAgICAgZm9yIChncm91cEluZGV4ID0gMCwgZ3JvdXBMZW5ndGggPSBvcHRpb25Hcm91cE5hbWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXggPCBncm91cExlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXgrKykge1xuICAgICAgICAgICAgLy8gY3VycmVudCBvcHRpb24gZ3JvdXAgbmFtZSBvciAnJyBpZiBubyBncm91cFxuICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lID0gb3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XTtcblxuICAgICAgICAgICAgLy8gbGlzdCBvZiBvcHRpb25zIGZvciB0aGF0IGdyb3VwLiAoZmlyc3QgaXRlbSBoYXMgdGhlIHBhcmVudClcbiAgICAgICAgICAgIG9wdGlvbkdyb3VwID0gb3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGggPD0gZ3JvdXBJbmRleCkge1xuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdyb3cgdGhlIG9wdGlvbkdyb3Vwc1xuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBvcHRHcm91cFRlbXBsYXRlLmNsb25lKCkuYXR0cignbGFiZWwnLCBvcHRpb25Hcm91cE5hbWUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb25Hcm91cC5sYWJlbFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBleGlzdGluZ09wdGlvbnMgPSBbZXhpc3RpbmdQYXJlbnRdO1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNDYWNoZS5wdXNoKGV4aXN0aW5nT3B0aW9ucyk7XG4gICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmdPcHRpb25zID0gb3B0aW9uR3JvdXBzQ2FjaGVbZ3JvdXBJbmRleF07XG4gICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50ID0gZXhpc3RpbmdPcHRpb25zWzBdOyAgLy8gZWl0aGVyIFNFTEVDVCAobm8gZ3JvdXApIG9yIE9QVEdST1VQIGVsZW1lbnRcblxuICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIE9QVEdST1VQIGxhYmVsIGlmIG5vdCB0aGUgc2FtZS5cbiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGFyZW50LmxhYmVsICE9IG9wdGlvbkdyb3VwTmFtZSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXR0cignbGFiZWwnLCBleGlzdGluZ1BhcmVudC5sYWJlbCA9IG9wdGlvbkdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBudWxsOyAgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9wdGlvbkdyb3VwLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uR3JvdXBbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoKGV4aXN0aW5nT3B0aW9uID0gZXhpc3RpbmdPcHRpb25zW2luZGV4ICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV1c2UgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGV4aXN0aW5nT3B0aW9uLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nT3B0aW9uLmxhYmVsICE9PSBvcHRpb24ubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBleGlzdGluZ09wdGlvbi5sYWJlbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlTGFiZWxNYXAobGFiZWxNYXAsIG9wdGlvbi5sYWJlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC50ZXh0KGV4aXN0aW5nT3B0aW9uLmxhYmVsID0gb3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ2xhYmVsJywgZXhpc3RpbmdPcHRpb24ubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdPcHRpb24uaWQgIT09IG9wdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQudmFsKGV4aXN0aW5nT3B0aW9uLmlkID0gb3B0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbGFzdEVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKSBwcm92aWRlZCBieSBqUXVlcnkgaGFzIHNpZGUtZWZmZWN0c1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RWxlbWVudFswXS5zZWxlY3RlZCAhPT0gb3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC5wcm9wKCdzZWxlY3RlZCcsIChleGlzdGluZ09wdGlvbi5zZWxlY3RlZCA9IG9wdGlvbi5zZWxlY3RlZCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlICM3NjkyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBzZWxlY3RlZCBpdGVtIHdvdWxkbid0IHZpc3VhbGx5IHVwZGF0ZSBvbiBJRSB3aXRob3V0IHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRlc3RlZCBvbiBXaW43OiBJRTksIElFMTAgYW5kIElFMTEuIEZ1dHVyZSBJRXMgc2hvdWxkIGJlIHRlc3RlZCBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ3NlbGVjdGVkJywgZXhpc3RpbmdPcHRpb24uc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBncm93IGVsZW1lbnRzXG5cbiAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIGEgbnVsbCBvcHRpb25cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmlkID09PSAnJyAmJiBudWxsT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAvLyBwdXQgYmFjayB0aGUgcHJlLWNvbXBpbGVkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsT3B0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBqUXVlcnkodjEuNC4yKSBCdWc6IFdlIHNob3VsZCBiZSBhYmxlIHRvIGNoYWluIHRoZSBtZXRob2QgY2FsbHMsIGJ1dFxuICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSBvbiBzb21lIGJyb3dzZXIgdGhlIC50ZXh0KCkgcmV0dXJucyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoZW4gdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAoZWxlbWVudCA9IG9wdGlvblRlbXBsYXRlLmNsb25lKCkpXG4gICAgICAgICAgICAgICAgICAgICAgLnZhbChvcHRpb24uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgLnByb3AoJ3NlbGVjdGVkJywgb3B0aW9uLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzZWxlY3RlZCcsIG9wdGlvbi5zZWxlY3RlZClcbiAgICAgICAgICAgICAgICAgICAgICAucHJvcCgnbGFiZWwnLCBvcHRpb24ubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgICAgLnRleHQob3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleGlzdGluZ09wdGlvbnMucHVzaChleGlzdGluZ09wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IG9wdGlvbi5zZWxlY3RlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBvcHRpb24ubGFiZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXhjZXNzaXZlIE9QVElPTnMgaW4gYSBncm91cFxuICAgICAgICAgICAgaW5kZXgrKzsgLy8gaW5jcmVtZW50IHNpbmNlIHRoZSBleGlzdGluZ09wdGlvbnNbMF0gaXMgcGFyZW50IGVsZW1lbnQgbm90IE9QVElPTlxuICAgICAgICAgICAgd2hpbGUgKGV4aXN0aW5nT3B0aW9ucy5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICAgICAgICBvcHRpb24gPSBleGlzdGluZ09wdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBvcHRpb24ubGFiZWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXhjZXNzaXZlIE9QVEdST1VQcyBmcm9tIHNlbGVjdFxuICAgICAgICAgIHdoaWxlIChvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGggPiBncm91cEluZGV4KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIHRoZSBsYWJlbHMgaW4gdGhlIG9wdGlvbiBncm91cFxuICAgICAgICAgICAgb3B0aW9uR3JvdXAgPSBvcHRpb25Hcm91cHNDYWNoZS5wb3AoKTtcbiAgICAgICAgICAgIGZvciAoaW5kZXggPSAxOyBpbmRleCA8IG9wdGlvbkdyb3VwLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgb3B0aW9uR3JvdXBbaW5kZXhdLmxhYmVsLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25Hcm91cFswXS5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JFYWNoKGxhYmVsTWFwLCBmdW5jdGlvbihjb3VudCwgbGFiZWwpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5hZGRPcHRpb24obGFiZWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24obGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkge1xuICB2YXIgbnVsbFNlbGVjdEN0cmwgPSB7XG4gICAgYWRkT3B0aW9uOiBub29wLFxuICAgIHJlbW92ZU9wdGlvbjogbm9vcFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSkge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBzZWxlY3RDdHJsTmFtZSA9ICckc2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxuICAgICAgICAgICAgICBwYXJlbnQucGFyZW50KCkuZGF0YShzZWxlY3RDdHJsTmFtZSk7IC8vIGluIGNhc2Ugd2UgYXJlIGluIG9wdGdyb3VwXG5cbiAgICAgICAgaWYgKCFzZWxlY3RDdHJsIHx8ICFzZWxlY3RDdHJsLmRhdGFib3VuZCkge1xuICAgICAgICAgIHNlbGVjdEN0cmwgPSBudWxsU2VsZWN0Q3RybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xuICAgICAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RDdHJsLmFkZE9wdGlvbihuZXdWYWwsIGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEN0cmwuYWRkT3B0aW9uKGF0dHIudmFsdWUsIGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgc3R5bGVEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgdGVybWluYWw6IGZhbHNlXG59KTtcblxudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cblxudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XG4gICAgICBhdHRyLiRvYnNlcnZlKCdwYXR0ZXJuJywgZnVuY3Rpb24ocmVnZXgpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xuICAgICAgICAgIHRocm93IG1pbkVycignbmdQYXR0ZXJuJykoJ25vcmVnZXhwJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfScsIHBhdHRlcm5FeHAsXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3QodmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG5cbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heGxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbnRWYWwgPSBpbnQodmFsdWUpO1xuICAgICAgICBtYXhsZW5ndGggPSBpc05hTihpbnRWYWwpID8gLTEgOiBpbnRWYWw7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAobWF4bGVuZ3RoIDwgMCkgfHwgY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8ICh2aWV3VmFsdWUubGVuZ3RoIDw9IG1heGxlbmd0aCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtaW5sZW5ndGggPSAwO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgbWlubGVuZ3RoID0gaW50KHZhbHVlKSB8fCAwO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbmxlbmd0aCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IHZpZXdWYWx1ZS5sZW5ndGggPj0gbWlubGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4gIGlmICh3aW5kb3cuYW5ndWxhci5ib290c3RyYXApIHtcbiAgICAvL0FuZ3VsYXJKUyBpcyBhbHJlYWR5IGxvYWRlZCwgc28gd2UgY2FuIHJldHVybiBoZXJlLi4uXG4gICAgY29uc29sZS5sb2coJ1dBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvL3RyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoKVxuICAvL2J1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXG4gIGJpbmRKUXVlcnkoKTtcblxuICBwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcik7XG5cbiAganFMaXRlKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFySW5pdChkb2N1bWVudCwgYm9vdHN0cmFwKTtcbiAgfSk7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuXG4hd2luZG93LmFuZ3VsYXIuJCRjc3AoKSAmJiB3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9PC9zdHlsZT4nKTsiLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjEzXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FyaWFcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBcmlhYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgY29tbW9uXG4gKiBbPGFiYnIgdGl0bGU9XCJBY2Nlc3NpYmxlIFJpY2ggSW50ZXJuZXQgQXBwbGljYXRpb25zXCI+QVJJQTwvYWJicj5dKGh0dHA6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLylcbiAqIGF0dHJpYnV0ZXMgdGhhdCBjb252ZXkgc3RhdGUgb3Igc2VtYW50aWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFwcGxpY2F0aW9uIGZvciB1c2Vyc1xuICogb2YgYXNzaXN0aXZlIHRlY2hub2xvZ2llcywgc3VjaCBhcyBzY3JlZW4gcmVhZGVycy5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nQXJpYVwiPjwvZGl2PlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogRm9yIG5nQXJpYSB0byBkbyBpdHMgbWFnaWMsIHNpbXBseSBpbmNsdWRlIHRoZSBtb2R1bGUgYXMgYSBkZXBlbmRlbmN5LiBUaGUgZGlyZWN0aXZlcyBzdXBwb3J0ZWRcbiAqIGJ5IG5nQXJpYSBhcmU6XG4gKiBgbmdNb2RlbGAsIGBuZ0Rpc2FibGVkYCwgYG5nU2hvd2AsIGBuZ0hpZGVgLCBgbmdDbGlja2AsIGBuZ0RibENsaWNrYCwgYW5kIGBuZ01lc3NhZ2VzYC5cbiAqXG4gKiBCZWxvdyBpcyBhIG1vcmUgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBhdHRyaWJ1dGVzIGhhbmRsZWQgYnkgbmdBcmlhOlxuICpcbiAqIHwgRGlyZWN0aXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFN1cHBvcnRlZCBBdHRyaWJ1dGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsIG5nTW9kZWx9ICAgICAgICB8IGFyaWEtY2hlY2tlZCwgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCwgYXJpYS12YWx1ZW5vdywgYXJpYS1pbnZhbGlkLCBhcmlhLXJlcXVpcmVkIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Rpc2FibGVkIG5nRGlzYWJsZWR9ICB8IGFyaWEtZGlzYWJsZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1Nob3cgbmdTaG93fSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0hpZGUgbmdIaWRlfSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9ICAgICAgICB8IHRhYmluZGV4LCBrZXlwcmVzcyBldmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0RibGNsaWNrIG5nRGJsY2xpY2t9ICB8IHRhYmluZGV4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG1vZHVsZTpuZ01lc3NhZ2VzIG5nTWVzc2FnZXN9ICAgICAgICB8IGFyaWEtbGl2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiBGaW5kIG91dCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggZGlyZWN0aXZlIGJ5IHJlYWRpbmcgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvYWNjZXNzaWJpbGl0eSBuZ0FyaWEgRGV2ZWxvcGVyIEd1aWRlfS5cbiAqXG4gKiAjI0V4YW1wbGVcbiAqIFVzaW5nIG5nRGlzYWJsZWQgd2l0aCBuZ0FyaWE6XG4gKiBgYGBodG1sXG4gKiA8bWQtY2hlY2tib3ggbmctZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPlxuICogYGBgXG4gKiBCZWNvbWVzOlxuICogYGBgaHRtbFxuICogPG1kLWNoZWNrYm94IG5nLWRpc2FibGVkPVwiZGlzYWJsZWRcIiBhcmlhLWRpc2FibGVkPVwidHJ1ZVwiPlxuICogYGBgXG4gKlxuICogIyNEaXNhYmxpbmcgQXR0cmlidXRlc1xuICogSXQncyBwb3NzaWJsZSB0byBkaXNhYmxlIGluZGl2aWR1YWwgYXR0cmlidXRlcyBhZGRlZCBieSBuZ0FyaWEgd2l0aCB0aGVcbiAqIHtAbGluayBuZ0FyaWEuJGFyaWFQcm92aWRlciNjb25maWcgY29uZmlnfSBtZXRob2QuIEZvciBtb3JlIGRldGFpbHMsIHNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IERldmVsb3BlciBHdWlkZX0uXG4gKi9cbiAvKiBnbG9iYWwgLW5nQXJpYU1vZHVsZSAqL1xudmFyIG5nQXJpYU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ0FyaWEnLCBbJ25nJ10pLlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIoJyRhcmlhJywgJEFyaWFQcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYXJpYVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIEFSSUEgYXR0cmlidXRlcyBpbmplY3RlZCBhbmQgbWFuYWdlZCBieSBuZ0FyaWEuXG4gKlxuICogYGBganNcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdBcmlhJ10sIGZ1bmN0aW9uIGNvbmZpZygkYXJpYVByb3ZpZGVyKSB7XG4gKiAgICRhcmlhUHJvdmlkZXIuY29uZmlnKHtcbiAqICAgICBhcmlhVmFsdWU6IHRydWUsXG4gKiAgICAgdGFiaW5kZXg6IGZhbHNlXG4gKiAgIH0pO1xuICogfSk7XG4gKmBgYFxuICpcbiAqICMjIERlcGVuZGVuY2llc1xuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICovXG5mdW5jdGlvbiAkQXJpYVByb3ZpZGVyKCkge1xuICB2YXIgY29uZmlnID0ge1xuICAgIGFyaWFIaWRkZW46IHRydWUsXG4gICAgYXJpYUNoZWNrZWQ6IHRydWUsXG4gICAgYXJpYURpc2FibGVkOiB0cnVlLFxuICAgIGFyaWFSZXF1aXJlZDogdHJ1ZSxcbiAgICBhcmlhSW52YWxpZDogdHJ1ZSxcbiAgICBhcmlhTXVsdGlsaW5lOiB0cnVlLFxuICAgIGFyaWFWYWx1ZTogdHJ1ZSxcbiAgICB0YWJpbmRleDogdHJ1ZSxcbiAgICBiaW5kS2V5cHJlc3M6IHRydWVcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYXJpYVByb3ZpZGVyI2NvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIG9iamVjdCB0byBlbmFibGUvZGlzYWJsZSBzcGVjaWZpYyBBUklBIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogIC0gKiphcmlhSGlkZGVuKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtaGlkZGVuIHRhZ3NcbiAgICogIC0gKiphcmlhQ2hlY2tlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWNoZWNrZWQgdGFnc1xuICAgKiAgLSAqKmFyaWFEaXNhYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWRpc2FibGVkIHRhZ3NcbiAgICogIC0gKiphcmlhUmVxdWlyZWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1yZXF1aXJlZCB0YWdzXG4gICAqICAtICoqYXJpYUludmFsaWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1pbnZhbGlkIHRhZ3NcbiAgICogIC0gKiphcmlhTXVsdGlsaW5lKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtbXVsdGlsaW5lIHRhZ3NcbiAgICogIC0gKiphcmlhVmFsdWUqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCBhbmQgYXJpYS12YWx1ZW5vdyB0YWdzXG4gICAqICAtICoqdGFiaW5kZXgqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgdGFiaW5kZXggdGFnc1xuICAgKiAgLSAqKmJpbmRLZXlwcmVzcyoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBrZXlwcmVzcyBldmVudCBiaW5kaW5nIG9uIGAmbHQ7ZGl2Jmd0O2AgYW5kXG4gICAqICAgIGAmbHQ7bGkmZ3Q7YCBlbGVtZW50cyB3aXRoIG5nLWNsaWNrXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFbmFibGVzL2Rpc2FibGVzIHZhcmlvdXMgQVJJQSBhdHRyaWJ1dGVzXG4gICAqL1xuICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uKG5ld0NvbmZpZykge1xuICAgIGNvbmZpZyA9IGFuZ3VsYXIuZXh0ZW5kKGNvbmZpZywgbmV3Q29uZmlnKTtcbiAgfTtcblxuICBmdW5jdGlvbiB3YXRjaEV4cHIoYXR0ck5hbWUsIGFyaWFBdHRyLCBuZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIHtcbiAgICAgIHZhciBhcmlhQ2FtZWxOYW1lID0gYXR0ci4kbm9ybWFsaXplKGFyaWFBdHRyKTtcbiAgICAgIGlmIChjb25maWdbYXJpYUNhbWVsTmFtZV0gJiYgIWF0dHJbYXJpYUNhbWVsTmFtZV0pIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbYXR0ck5hbWVdLCBmdW5jdGlvbihib29sVmFsKSB7XG4gICAgICAgICAgaWYgKG5lZ2F0ZSkge1xuICAgICAgICAgICAgYm9vbFZhbCA9ICFib29sVmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtLmF0dHIoYXJpYUF0dHIsIGJvb2xWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhcmlhXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBUaGUgJGFyaWEgc2VydmljZSBjb250YWlucyBoZWxwZXIgbWV0aG9kcyBmb3IgYXBwbHlpbmcgY29tbW9uXG4gICAqIFtBUklBXShodHRwOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS8pIGF0dHJpYnV0ZXMgdG8gSFRNTCBkaXJlY3RpdmVzLlxuICAgKlxuICAgKiBuZ0FyaWEgaW5qZWN0cyBjb21tb24gYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzIHRoYXQgdGVsbCBhc3Npc3RpdmUgdGVjaG5vbG9naWVzIHdoZW4gSFRNTFxuICAgKiBlbGVtZW50cyBhcmUgZW5hYmxlZCwgc2VsZWN0ZWQsIGhpZGRlbiwgYW5kIG1vcmUuIFRvIHNlZSBob3cgdGhpcyBpcyBwZXJmb3JtZWQgd2l0aCBuZ0FyaWEsXG4gICAqIGxldCdzIHJldmlldyBhIGNvZGUgc25pcHBldCBmcm9tIG5nQXJpYSBpdHNlbGY6XG4gICAqXG4gICAqYGBganNcbiAgICogbmdBcmlhTW9kdWxlLmRpcmVjdGl2ZSgnbmdEaXNhYmxlZCcsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICAgKiAgIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdEaXNhYmxlZCcsICdhcmlhLWRpc2FibGVkJyk7XG4gICAqIH1dKVxuICAgKmBgYFxuICAgKiBTaG93biBhYm92ZSwgdGhlIG5nQXJpYSBtb2R1bGUgY3JlYXRlcyBhIGRpcmVjdGl2ZSB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyB0aGVcbiAgICogdHJhZGl0aW9uYWwgYG5nLWRpc2FibGVkYCBkaXJlY3RpdmUuIEJ1dCB0aGlzIG5nQXJpYSB2ZXJzaW9uIGlzIGRlZGljYXRlZCB0b1xuICAgKiBzb2xlbHkgbWFuYWdpbmcgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzLiBUaGUgaW50ZXJuYWwgYCRhcmlhYCBzZXJ2aWNlIGlzIHVzZWQgdG8gd2F0Y2ggdGhlXG4gICAqIGJvb2xlYW4gYXR0cmlidXRlIGBuZ0Rpc2FibGVkYC4gSWYgaXQgaGFzIG5vdCBiZWVuIGV4cGxpY2l0bHkgc2V0IGJ5IHRoZSBkZXZlbG9wZXIsXG4gICAqIGBhcmlhLWRpc2FibGVkYCBpcyBpbmplY3RlZCBhcyBhbiBhdHRyaWJ1dGUgd2l0aCBpdHMgdmFsdWUgc3luY2hyb25pemVkIHRvIHRoZSB2YWx1ZSBpblxuICAgKiBgbmdEaXNhYmxlZGAuXG4gICAqXG4gICAqIEJlY2F1c2UgbmdBcmlhIGhvb2tzIGludG8gdGhlIGBuZy1kaXNhYmxlZGAgZGlyZWN0aXZlLCBkZXZlbG9wZXJzIGRvIG5vdCBoYXZlIHRvIGRvXG4gICAqIGFueXRoaW5nIHRvIGVuYWJsZSB0aGlzIGZlYXR1cmUuIFRoZSBgYXJpYS1kaXNhYmxlZGAgYXR0cmlidXRlIGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZFxuICAgKiBzaW1wbHkgYXMgYSBzaWxlbnQgc2lkZS1lZmZlY3Qgb2YgdXNpbmcgYG5nLWRpc2FibGVkYCB3aXRoIHRoZSBuZ0FyaWEgbW9kdWxlLlxuICAgKlxuICAgKiBUaGUgZnVsbCBsaXN0IG9mIGRpcmVjdGl2ZXMgdGhhdCBpbnRlcmZhY2Ugd2l0aCBuZ0FyaWE6XG4gICAqICogKipuZ01vZGVsKipcbiAgICogKiAqKm5nU2hvdyoqXG4gICAqICogKipuZ0hpZGUqKlxuICAgKiAqICoqbmdDbGljayoqXG4gICAqICogKipuZ0RibGNsaWNrKipcbiAgICogKiAqKm5nTWVzc2FnZXMqKlxuICAgKiAqICoqbmdEaXNhYmxlZCoqXG4gICAqXG4gICAqIFJlYWQgdGhlIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IG5nQXJpYSBEZXZlbG9wZXIgR3VpZGV9IGZvciBhIHRob3JvdWdoIGV4cGxhbmF0aW9uIG9mIGVhY2hcbiAgICogZGlyZWN0aXZlLlxuICAgKlxuICAgKlxuICAgKiAjIyBEZXBlbmRlbmNpZXNcbiAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlnOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1trZXldO1xuICAgICAgfSxcbiAgICAgICQkd2F0Y2hFeHByOiB3YXRjaEV4cHJcbiAgICB9O1xuICB9O1xufVxuXG5cbm5nQXJpYU1vZHVsZS5kaXJlY3RpdmUoJ25nU2hvdycsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gJGFyaWEuJCR3YXRjaEV4cHIoJ25nU2hvdycsICdhcmlhLWhpZGRlbicsIHRydWUpO1xufV0pXG4uZGlyZWN0aXZlKCduZ0hpZGUnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0hpZGUnLCAnYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG59XSlcbi5kaXJlY3RpdmUoJ25nTW9kZWwnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcblxuICBmdW5jdGlvbiBzaG91bGRBdHRhY2hBdHRyKGF0dHIsIG5vcm1hbGl6ZWRBdHRyLCBlbGVtKSB7XG4gICAgcmV0dXJuICRhcmlhLmNvbmZpZyhub3JtYWxpemVkQXR0cikgJiYgIWVsZW0uYXR0cihhdHRyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGF0dHIsIGVsZW0pIHtcbiAgICB2YXIgdHlwZSA9IGF0dHIudHlwZSxcbiAgICAgICAgcm9sZSA9IGF0dHIucm9sZTtcblxuICAgIHJldHVybiAoKHR5cGUgfHwgcm9sZSkgPT09ICdjaGVja2JveCcgfHwgcm9sZSA9PT0gJ21lbnVpdGVtY2hlY2tib3gnKSA/ICdjaGVja2JveCcgOlxuICAgICAgICAgICAoKHR5cGUgfHwgcm9sZSkgPT09ICdyYWRpbycgICAgfHwgcm9sZSA9PT0gJ21lbnVpdGVtcmFkaW8nKSA/ICdyYWRpbycgOlxuICAgICAgICAgICAodHlwZSA9PT0gJ3JhbmdlJyAgICAgICAgICAgICAgfHwgcm9sZSA9PT0gJ3Byb2dyZXNzYmFyJyB8fCByb2xlID09PSAnc2xpZGVyJykgPyAncmFuZ2UnIDpcbiAgICAgICAgICAgKHR5cGUgfHwgcm9sZSkgPT09ICd0ZXh0Ym94JyAgIHx8IGVsZW1bMF0ubm9kZU5hbWUgPT09ICdURVhUQVJFQScgPyAnbXVsdGlsaW5lJyA6ICcnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIsIG5nTW9kZWwpIHtcbiAgICAgIHZhciBzaGFwZSA9IGdldFNoYXBlKGF0dHIsIGVsZW0pO1xuICAgICAgdmFyIG5lZWRzVGFiSW5kZXggPSBzaG91bGRBdHRhY2hBdHRyKCd0YWJpbmRleCcsICd0YWJpbmRleCcsIGVsZW0pO1xuXG4gICAgICBmdW5jdGlvbiBuZ0FyaWFXYXRjaE1vZGVsVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBuZ01vZGVsLiRtb2RlbFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRSYWRpb1JlYWN0aW9uKCkge1xuICAgICAgICBpZiAobmVlZHNUYWJJbmRleCkge1xuICAgICAgICAgIG5lZWRzVGFiSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdBcmlhUmFkaW9SZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgIHZhciBib29sVmFsID0gbmV3VmFsID09PSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLWNoZWNrZWQnLCBib29sVmFsKTtcbiAgICAgICAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwIC0gIWJvb2xWYWwpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQXJpYVJhZGlvUmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsIG5ld1ZhbCA9PT0gYXR0ci52YWx1ZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBuZ0FyaWFDaGVja2JveFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsICEhbmV3VmFsKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChzaGFwZSkge1xuICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1jaGVja2VkJywgJ2FyaWFDaGVja2VkJywgZWxlbSkpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChuZ0FyaWFXYXRjaE1vZGVsVmFsdWUsIHNoYXBlID09PSAncmFkaW8nID9cbiAgICAgICAgICAgICAgICBnZXRSYWRpb1JlYWN0aW9uKCkgOiBuZ0FyaWFDaGVja2JveFJlYWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdhcmlhVmFsdWUnKSkge1xuICAgICAgICAgICAgaWYgKGF0dHIubWluICYmICFlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nKSkge1xuICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCBhdHRyLm1pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0ci5tYXggJiYgIWVsZW0uYXR0cignYXJpYS12YWx1ZW1heCcpKSB7XG4gICAgICAgICAgICAgIGVsZW0uYXR0cignYXJpYS12YWx1ZW1heCcsIGF0dHIubWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWxlbS5hdHRyKCdhcmlhLXZhbHVlbm93JykpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKG5nQXJpYVdhdGNoTW9kZWxWYWx1ZSwgZnVuY3Rpb24gbmdBcmlhVmFsdWVOb3dSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBuZXdWYWwpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ211bHRpbGluZSc6XG4gICAgICAgICAgaWYgKHNob3VsZEF0dGFjaEF0dHIoJ2FyaWEtbXVsdGlsaW5lJywgJ2FyaWFNdWx0aWxpbmUnLCBlbGVtKSkge1xuICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLW11bHRpbGluZScsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRzVGFiSW5kZXgpIHtcbiAgICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgfVxuXG4gICAgICBpZiAobmdNb2RlbC4kdmFsaWRhdG9ycy5yZXF1aXJlZCAmJiBzaG91bGRBdHRhY2hBdHRyKCdhcmlhLXJlcXVpcmVkJywgJ2FyaWFSZXF1aXJlZCcsIGVsZW0pKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ0FyaWFSZXF1aXJlZFdhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRlcnJvci5yZXF1aXJlZDtcbiAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhUmVxdWlyZWRSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtcmVxdWlyZWQnLCAhIW5ld1ZhbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1pbnZhbGlkJywgJ2FyaWFJbnZhbGlkJywgZWxlbSkpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nQXJpYUludmFsaWRXYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaW52YWxpZDtcbiAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhSW52YWxpZFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgIGVsZW0uYXR0cignYXJpYS1pbnZhbGlkJywgISFuZXdWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSlcbi5kaXJlY3RpdmUoJ25nRGlzYWJsZWQnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0Rpc2FibGVkJywgJ2FyaWEtZGlzYWJsZWQnKTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdNZXNzYWdlcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01lc3NhZ2VzJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgbmdNZXNzYWdlcykge1xuICAgICAgaWYgKCFlbGVtLmF0dHIoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgIGVsZW0uYXR0cignYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG4uZGlyZWN0aXZlKCduZ0NsaWNrJyxbJyRhcmlhJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRhcmlhLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW0sIGF0dHIpIHtcbiAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyLm5nQ2xpY2ssIC8qIGludGVyY2VwdG9yRm4gKi8gbnVsbCwgLyogZXhwZW5zaXZlQ2hlY2tzICovIHRydWUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNOb2RlT25lT2YoZWxlbSwgbm9kZVR5cGVBcnJheSkge1xuICAgICAgICAgIGlmIChub2RlVHlwZUFycmF5LmluZGV4T2YoZWxlbVswXS5ub2RlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCd0YWJpbmRleCcpICYmICFlbGVtLmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICBlbGVtLmF0dHIoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdiaW5kS2V5cHJlc3MnKSAmJiAhYXR0ci5uZ0tleXByZXNzICYmIGlzTm9kZU9uZU9mKGVsZW0sIFsnRElWJywgJ0xJJ10pKSB7XG4gICAgICAgICAgZWxlbS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICBmbihzY29wZSwgeyAkZXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdEYmxjbGljaycsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIHtcbiAgICBpZiAoJGFyaWEuY29uZmlnKCd0YWJpbmRleCcpICYmICFlbGVtLmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjEzXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoganNoaW50IG1heGxlbjogZmFsc2UgKi9cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FuaW1hdGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBbmltYXRlYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgSmF2YVNjcmlwdCwgQ1NTMyB0cmFuc2l0aW9uIGFuZCBDU1MzIGtleWZyYW1lIGFuaW1hdGlvbiBob29rcyB3aXRoaW4gZXhpc3RpbmcgY29yZSBhbmQgY3VzdG9tIGRpcmVjdGl2ZXMuXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ0FuaW1hdGVcIj48L2Rpdj5cbiAqXG4gKiAjIFVzYWdlXG4gKlxuICogVG8gc2VlIGFuaW1hdGlvbnMgaW4gYWN0aW9uLCBhbGwgdGhhdCBpcyByZXF1aXJlZCBpcyB0byBkZWZpbmUgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzc2VzXG4gKiBvciB0byByZWdpc3RlciBhIEphdmFTY3JpcHQgYW5pbWF0aW9uIHZpYSB0aGUgYG15TW9kdWxlLmFuaW1hdGlvbigpYCBmdW5jdGlvbi4gVGhlIGRpcmVjdGl2ZXMgdGhhdCBzdXBwb3J0IGFuaW1hdGlvbiBhdXRvbWF0aWNhbGx5IGFyZTpcbiAqIGBuZ1JlcGVhdGAsIGBuZ0luY2x1ZGVgLCBgbmdJZmAsIGBuZ1N3aXRjaGAsIGBuZ1Nob3dgLCBgbmdIaWRlYCwgYG5nVmlld2AgYW5kIGBuZ0NsYXNzYC4gQ3VzdG9tIGRpcmVjdGl2ZXMgY2FuIHRha2UgYWR2YW50YWdlIG9mIGFuaW1hdGlvblxuICogYnkgdXNpbmcgdGhlIGAkYW5pbWF0ZWAgc2VydmljZS5cbiAqXG4gKiBCZWxvdyBpcyBhIG1vcmUgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBzdXBwb3J0ZWQgYW5pbWF0aW9uIGV2ZW50cyBwcm92aWRlZCBieSBwcmUtZXhpc3RpbmcgbmcgZGlyZWN0aXZlczpcbiAqXG4gKiB8IERpcmVjdGl2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU3VwcG9ydGVkIEFuaW1hdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0I2FuaW1hdGlvbnMgbmdSZXBlYXR9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyLCBsZWF2ZSBhbmQgbW92ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcjYW5pbWF0aW9ucyBuZ1ZpZXd9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUjYW5pbWF0aW9ucyBuZ0luY2x1ZGV9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3dpdGNoI2FuaW1hdGlvbnMgbmdTd2l0Y2h9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJZiNhbmltYXRpb25zIG5nSWZ9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzI2FuaW1hdGlvbnMgbmdDbGFzc30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhZGQgYW5kIHJlbW92ZSAodGhlIENTUyBjbGFzcyhlcykgcHJlc2VudCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU2hvdyNhbmltYXRpb25zIG5nU2hvd30gJiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSGlkZSNhbmltYXRpb25zIG5nSGlkZX0gICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlICh0aGUgbmctaGlkZSBjbGFzcyB2YWx1ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSNhbmltYXRpb24taG9va3MgZm9ybX0gJiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWwjYW5pbWF0aW9uLWhvb2tzIG5nTW9kZWx9ICAgIHwgYWRkIGFuZCByZW1vdmUgKGRpcnR5LCBwcmlzdGluZSwgdmFsaWQsIGludmFsaWQgJiBhbGwgb3RoZXIgdmFsaWRhdGlvbnMpIHxcbiAqIHwge0BsaW5rIG1vZHVsZTpuZ01lc3NhZ2VzI2FuaW1hdGlvbnMgbmdNZXNzYWdlc30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhZGQgYW5kIHJlbW92ZSAobmctYWN0aXZlICYgbmctaW5hY3RpdmUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbW9kdWxlOm5nTWVzc2FnZXMjYW5pbWF0aW9ucyBuZ01lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogWW91IGNhbiBmaW5kIG91dCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGFuaW1hdGlvbnMgdXBvbiB2aXNpdGluZyBlYWNoIGRpcmVjdGl2ZSBwYWdlLlxuICpcbiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgb2YgaG93IHRvIGFwcGx5IGFuaW1hdGlvbnMgdG8gYSBkaXJlY3RpdmUgdGhhdCBzdXBwb3J0cyBhbmltYXRpb24gaG9va3M6XG4gKlxuICogYGBgaHRtbFxuICogPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICogLnNsaWRlLm5nLWVudGVyLCAuc2xpZGUubmctbGVhdmUge1xuICogICAtd2Via2l0LXRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAuc2xpZGUubmctZW50ZXIgeyB9ICAgICAgICAvJiM0Mjsgc3RhcnRpbmcgYW5pbWF0aW9ucyBmb3IgZW50ZXIgJiM0MjsvXG4gKiAuc2xpZGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHsgfSAvJiM0MjsgdGVybWluYWwgYW5pbWF0aW9ucyBmb3IgZW50ZXIgJiM0MjsvXG4gKiAuc2xpZGUubmctbGVhdmUgeyB9ICAgICAgICAvJiM0Mjsgc3RhcnRpbmcgYW5pbWF0aW9ucyBmb3IgbGVhdmUgJiM0MjsvXG4gKiAuc2xpZGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHsgfSAvJiM0MjsgdGVybWluYWwgYW5pbWF0aW9ucyBmb3IgbGVhdmUgJiM0MjsvXG4gKiA8L3N0eWxlPlxuICpcbiAqIDwhLS1cbiAqIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCAubmctZW50ZXIgYW5kIC5uZy1sZWF2ZSB0byB0aGUgZWxlbWVudFxuICogdG8gdHJpZ2dlciB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uc1xuICogLS0+XG4gKiA8QU5ZIGNsYXNzPVwic2xpZGVcIiBuZy1pbmNsdWRlPVwiLi4uXCI+PC9BTlk+XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYnkgZGVmYXVsdCwgaWYgYW4gYW5pbWF0aW9uIGlzIHJ1bm5pbmcsIGFueSBjaGlsZCBlbGVtZW50cyBjYW5ub3QgYmUgYW5pbWF0ZWRcbiAqIHVudGlsIHRoZSBwYXJlbnQgZWxlbWVudCdzIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLiBUaGlzIGJsb2NraW5nIGZlYXR1cmUgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIHBsYWNpbmcgdGhlIGBuZy1hbmltYXRlLWNoaWxkcmVuYCBhdHRyaWJ1dGUgb24gYSBwYXJlbnQgY29udGFpbmVyIHRhZy5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0aW9uXCIgbmctaWY9XCJvblwiIG5nLWFuaW1hdGUtY2hpbGRyZW4+XG4gKiAgIDxkaXYgY2xhc3M9XCJmYWRlLWFuaW1hdGlvblwiIG5nLWlmPVwib25cIj5cbiAqICAgICA8ZGl2IGNsYXNzPVwiZXhwbG9kZS1hbmltYXRpb25cIiBuZy1pZj1cIm9uXCI+XG4gKiAgICAgICAgLi4uXG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgb25gIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcyBhbmQgYW4gYW5pbWF0aW9uIGlzIHRyaWdnZXJlZCB0aGVuIGVhY2ggb2YgdGhlIGVsZW1lbnRzIHdpdGhpblxuICogd2lsbCBhbGwgYW5pbWF0ZSB3aXRob3V0IHRoZSBibG9jayBiZWluZyBhcHBsaWVkIHRvIGNoaWxkIGVsZW1lbnRzLlxuICpcbiAqICMjIEFyZSBhbmltYXRpb25zIHJ1biB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHM/XG4gKiBObyB0aGV5IGFyZSBub3QuIFdoZW4gYW4gYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkIEFuZ3VsYXIgd2lsbCBkaXNhYmxlIGFuaW1hdGlvbnMgZnJvbSBydW5uaW5nIHRvIGF2b2lkXG4gKiBhIGZyZW56eSBvZiBhbmltYXRpb25zIGZyb20gYmVpbmcgdHJpZ2dlcmVkIGFzIHNvb24gYXMgdGhlIGJyb3dzZXIgaGFzIHJlbmRlcmVkIHRoZSBzY3JlZW4uIEZvciB0aGlzIHRvIHdvcmssXG4gKiBBbmd1bGFyIHdpbGwgd2FpdCBmb3IgdHdvIGRpZ2VzdCBjeWNsZXMgdW50aWwgZW5hYmxpbmcgYW5pbWF0aW9ucy4gRnJvbSB0aGVyZSBvbiwgYW55IGFuaW1hdGlvbi10cmlnZ2VyaW5nXG4gKiBsYXlvdXQgY2hhbmdlcyBpbiB0aGUgYXBwbGljYXRpb24gd2lsbCB0cmlnZ2VyIGFuaW1hdGlvbnMgYXMgbm9ybWFsLlxuICpcbiAqIEluIGFkZGl0aW9uLCB1cG9uIGJvb3RzdHJhcCwgaWYgdGhlIHJvdXRpbmcgc3lzdGVtIG9yIGFueSBkaXJlY3RpdmVzIG9yIGxvYWQgcmVtb3RlIGRhdGEgKHZpYSAkaHR0cCkgdGhlbiBBbmd1bGFyXG4gKiB3aWxsIGF1dG9tYXRpY2FsbHkgZXh0ZW5kIHRoZSB3YWl0IHRpbWUgdG8gZW5hYmxlIGFuaW1hdGlvbnMgb25jZSAqKmFsbCoqIG9mIHRoZSBvdXRib3VuZCBIVFRQIHJlcXVlc3RzXG4gKiBhcmUgY29tcGxldGUuXG4gKlxuICogIyMgQ1NTLWRlZmluZWQgQW5pbWF0aW9uc1xuICogVGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYXBwbHkgdHdvIENTUyBjbGFzc2VzIHRvIHRoZSBhbmltYXRlZCBlbGVtZW50IGFuZCB0aGVzZSB0d28gQ1NTIGNsYXNzZXNcbiAqIGFyZSBkZXNpZ25lZCB0byBjb250YWluIHRoZSBzdGFydCBhbmQgZW5kIENTUyBzdHlsaW5nLiBCb3RoIENTUyB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucyBhcmUgc3VwcG9ydGVkXG4gKiBhbmQgY2FuIGJlIHVzZWQgdG8gcGxheSBhbG9uZyB3aXRoIHRoaXMgbmFtaW5nIHN0cnVjdHVyZS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGNvZGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byBwZXJmb3JtIGFuaW1hdGlvbnMgdXNpbmcgKipDU1MgdHJhbnNpdGlvbnMqKiB3aXRoIEFuZ3VsYXI6XG4gKlxuICogYGBgaHRtbFxuICogPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICogLyYjNDI7XG4gKiAgVGhlIGFuaW1hdGUgY2xhc3MgaXMgYXBhcnQgb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBuZy1lbnRlciBjbGFzc1xuICogIGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IG9uY2UgdGhlIGVudGVyIGFuaW1hdGlvbiBldmVudCBpcyB0cmlnZ2VyZWRcbiAqICYjNDI7L1xuICogLnJldmVhbC1hbmltYXRpb24ubmctZW50ZXIge1xuICogIC13ZWJraXQtdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDsgLyYjNDI7IFNhZmFyaS9DaHJvbWUgJiM0MjsvXG4gKiAgdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDsgLyYjNDI7IEFsbCBvdGhlciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFMTArICYjNDI7L1xuICpcbiAqICAvJiM0MjsgVGhlIGFuaW1hdGlvbiBwcmVwYXJhdGlvbiBjb2RlICYjNDI7L1xuICogIG9wYWNpdHk6IDA7XG4gKiB9XG4gKlxuICogLyYjNDI7XG4gKiAgS2VlcCBpbiBtaW5kIHRoYXQgeW91IHdhbnQgdG8gY29tYmluZSBib3RoIENTU1xuICogIGNsYXNzZXMgdG9nZXRoZXIgdG8gYXZvaWQgYW55IENTUy1zcGVjaWZpY2l0eVxuICogIGNvbmZsaWN0c1xuICogJiM0MjsvXG4gKiAucmV2ZWFsLWFuaW1hdGlvbi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogIC8mIzQyOyBUaGUgYW5pbWF0aW9uIGNvZGUgaXRzZWxmICYjNDI7L1xuICogIG9wYWNpdHk6IDE7XG4gKiB9XG4gKiA8L3N0eWxlPlxuICpcbiAqIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICogICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJyZXZlYWwtYW5pbWF0aW9uXCI+PC9kaXY+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgY29kZSBiZWxvdyBkZW1vbnN0cmF0ZXMgaG93IHRvIHBlcmZvcm0gYW5pbWF0aW9ucyB1c2luZyAqKkNTUyBhbmltYXRpb25zKiogd2l0aCBBbmd1bGFyOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5cbiAqIC5yZXZlYWwtYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgLXdlYmtpdC1hbmltYXRpb246IGVudGVyX3NlcXVlbmNlIDFzIGxpbmVhcjsgLyYjNDI7IFNhZmFyaS9DaHJvbWUgJiM0MjsvXG4gKiAgIGFuaW1hdGlvbjogZW50ZXJfc2VxdWVuY2UgMXMgbGluZWFyOyAvJiM0MjsgSUUxMCsgYW5kIEZ1dHVyZSBCcm93c2VycyAmIzQyOy9cbiAqIH1cbiAqIEAtd2Via2l0LWtleWZyYW1lcyBlbnRlcl9zZXF1ZW5jZSB7XG4gKiAgIGZyb20geyBvcGFjaXR5OjA7IH1cbiAqICAgdG8geyBvcGFjaXR5OjE7IH1cbiAqIH1cbiAqIEBrZXlmcmFtZXMgZW50ZXJfc2VxdWVuY2Uge1xuICogICBmcm9tIHsgb3BhY2l0eTowOyB9XG4gKiAgIHRvIHsgb3BhY2l0eToxOyB9XG4gKiB9XG4gKiA8L3N0eWxlPlxuICpcbiAqIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICogICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJyZXZlYWwtYW5pbWF0aW9uXCI+PC9kaXY+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEJvdGggQ1NTMyBhbmltYXRpb25zIGFuZCB0cmFuc2l0aW9ucyBjYW4gYmUgdXNlZCB0b2dldGhlciBhbmQgdGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgZHVyYXRpb24gYW5kIGRlbGF5IHRpbWluZy5cbiAqXG4gKiBVcG9uIERPTSBtdXRhdGlvbiwgdGhlIGV2ZW50IGNsYXNzIGlzIGFkZGVkIGZpcnN0IChzb21ldGhpbmcgbGlrZSBgbmctZW50ZXJgKSwgdGhlbiB0aGUgYnJvd3NlciBwcmVwYXJlcyBpdHNlbGYgdG8gYWRkXG4gKiB0aGUgYWN0aXZlIGNsYXNzIChpbiB0aGlzIGNhc2UgYG5nLWVudGVyLWFjdGl2ZWApIHdoaWNoIHRoZW4gdHJpZ2dlcnMgdGhlIGFuaW1hdGlvbi4gVGhlIGFuaW1hdGlvbiBtb2R1bGUgd2lsbCBhdXRvbWF0aWNhbGx5XG4gKiBkZXRlY3QgdGhlIENTUyBjb2RlIHRvIGRldGVybWluZSB3aGVuIHRoZSBhbmltYXRpb24gZW5kcy4gT25jZSB0aGUgYW5pbWF0aW9uIGlzIG92ZXIgdGhlbiBib3RoIENTUyBjbGFzc2VzIHdpbGwgYmVcbiAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NLiBJZiBhIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbnMgb3IgQ1NTIGFuaW1hdGlvbnMgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgc3RhcnQgYW5kIGVuZFxuICogaW1tZWRpYXRlbHkgcmVzdWx0aW5nIGluIGEgRE9NIGVsZW1lbnQgdGhhdCBpcyBhdCBpdHMgZmluYWwgc3RhdGUuIFRoaXMgZmluYWwgc3RhdGUgaXMgd2hlbiB0aGUgRE9NIGVsZW1lbnRcbiAqIGhhcyBubyBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24gY2xhc3NlcyBhcHBsaWVkIHRvIGl0LlxuICpcbiAqICMjIyBTdHJ1Y3R1cmFsIHRyYW5zaXRpb24gYW5pbWF0aW9uc1xuICpcbiAqIFN0cnVjdHVyYWwgdHJhbnNpdGlvbnMgKHN1Y2ggYXMgZW50ZXIsIGxlYXZlIGFuZCBtb3ZlKSB3aWxsIGFsd2F5cyBhcHBseSBhIGAwcyBub25lYCB0cmFuc2l0aW9uXG4gKiB2YWx1ZSB0byBmb3JjZSB0aGUgYnJvd3NlciBpbnRvIHJlbmRlcmluZyB0aGUgc3R5bGVzIGRlZmluZWQgaW4gdGhlIHNldHVwIChgLm5nLWVudGVyYCwgYC5uZy1sZWF2ZWBcbiAqIG9yIGAubmctbW92ZWApIGNsYXNzLiBUaGlzIG1lYW5zIHRoYXQgYW55IGFjdGl2ZSB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgb3BlcmF0aW5nIG9uIHRoZSBlbGVtZW50XG4gKiB3aWxsIGJlIGN1dCBvZmYgdG8gbWFrZSB3YXkgZm9yIHRoZSBlbnRlciwgbGVhdmUgb3IgbW92ZSBhbmltYXRpb24uXG4gKlxuICogIyMjIENsYXNzLWJhc2VkIHRyYW5zaXRpb24gYW5pbWF0aW9uc1xuICpcbiAqIENsYXNzLWJhc2VkIHRyYW5zaXRpb25zIHJlZmVyIHRvIHRyYW5zaXRpb24gYW5pbWF0aW9ucyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiBhIENTUyBjbGFzcyBpc1xuICogYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICh2aWEgYCRhbmltYXRlLmFkZENsYXNzYCwgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCxcbiAqIGAkYW5pbWF0ZS5zZXRDbGFzc2AsIG9yIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsIGBuZ01vZGVsYCBhbmQgYGZvcm1gKS5cbiAqIFRoZXkgYXJlIGRpZmZlcmVudCB3aGVuIGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9ucyBzaW5jZSB0aGV5ICoqZG8gbm90IGNhbmNlbCBleGlzdGluZ1xuICogYW5pbWF0aW9ucyoqIG5vciBkbyB0aGV5ICoqYmxvY2sgc3VjY2Vzc2l2ZSB0cmFuc2l0aW9ucyoqIGZyb20gcmVuZGVyaW5nIG9uIHRoZSBzYW1lIGVsZW1lbnQuXG4gKiBUaGlzIGRpc3RpbmN0aW9uIGFsbG93cyBmb3IgKiptdWx0aXBsZSBjbGFzcy1iYXNlZCB0cmFuc2l0aW9ucyoqIHRvIGJlIHBlcmZvcm1lZCBvbiB0aGUgc2FtZSBlbGVtZW50LlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIG5nQW5pbWF0ZSBzdXBwb3J0aW5nIHRoZSBkZWZhdWx0IChuYXR1cmFsKSBmdW5jdGlvbmFsaXR5IG9mIGNsYXNzLWJhc2VkIHRyYW5zaXRpb25cbiAqIGFuaW1hdGlvbnMsIG5nQW5pbWF0ZSBhbHNvIGRlY29yYXRlcyB0aGUgZWxlbWVudCB3aXRoIHN0YXJ0aW5nIGFuZCBlbmRpbmcgQ1NTIGNsYXNzZXMgdG8gYWlkIHRoZVxuICogZGV2ZWxvcGVyIGluIGZ1cnRoZXIgc3R5bGluZyB0aGUgZWxlbWVudCB0aHJvdWdob3V0IHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbi4gRWFybGllciB2ZXJzaW9uc1xuICogb2YgbmdBbmltYXRlIG1heSBoYXZlIGNhdXNlZCBuYXR1cmFsIENTUyB0cmFuc2l0aW9ucyB0byBicmVhayBhbmQgbm90IHJlbmRlciBwcm9wZXJseSBkdWUgdG9cbiAqICRhbmltYXRlIHRlbXBvcmFyaWx5IGJsb2NraW5nIHRyYW5zaXRpb25zIHVzaW5nIGAwcyBub25lYCBpbiBvcmRlciB0byBhbGxvdyB0aGUgc2V0dXAgQ1NTIGNsYXNzXG4gKiAodGhlIGAtYWRkYCBvciBgLXJlbW92ZWAgY2xhc3MpIHRvIGJlIGFwcGxpZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGFuaW1hdGlvbi4gSG93ZXZlciwgYXMgb2ZcbiAqICoqdmVyc2lvbiAxLjMqKiwgdGhpcyB3b3JrYXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQgd2l0aCBuZ0FuaW1hdGUgYW5kIGFsbCBub24tbmdBbmltYXRlIENTU1xuICogY2xhc3MgdHJhbnNpdGlvbnMgYXJlIGNvbXBhdGlibGUgd2l0aCBuZ0FuaW1hdGUuXG4gKlxuICogVGhlcmUgaXMsIGhvd2V2ZXIsIG9uZSBzcGVjaWFsIGNhc2Ugd2hlbiBkZWFsaW5nIHdpdGggY2xhc3MtYmFzZWQgdHJhbnNpdGlvbnMgaW4gbmdBbmltYXRlLlxuICogV2hlbiByZW5kZXJpbmcgY2xhc3MtYmFzZWQgdHJhbnNpdGlvbnMgdGhhdCBtYWtlIHVzZSBvZiB0aGUgc2V0dXAgYW5kIGFjdGl2ZSBDU1MgY2xhc3Nlc1xuICogKGUuZy4gYC5mYWRlLWFkZGAgYW5kIGAuZmFkZS1hZGQtYWN0aXZlYCBmb3Igd2hlbiBgLmZhZGVgIGlzIGFkZGVkKSBiZSBzdXJlIHRvIGRlZmluZVxuICogdGhlIHRyYW5zaXRpb24gdmFsdWUgKipvbiB0aGUgYWN0aXZlIENTUyBjbGFzcyoqIGFuZCBub3QgdGhlIHNldHVwIGNsYXNzLlxuICpcbiAqIGBgYGNzc1xuICogLmZhZGUtYWRkIHtcbiAqICAgLyYjNDI7IHJlbWVtYmVyIHRvIHBsYWNlIGEgMHMgdHJhbnNpdGlvbiBoZXJlXG4gKiAgICAgIHRvIGVuc3VyZSB0aGF0IHRoZSBzdHlsZXMgYXJlIGFwcGxpZWQgaW5zdGFudGx5XG4gKiAgICAgIGV2ZW4gaWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSB0cmFuc2l0aW9uIHN0eWxlICYjNDI7L1xuICogICB0cmFuc2l0aW9uOjBzIGxpbmVhciBhbGw7XG4gKlxuICogICAvJiM0Mjsgc3RhcnRpbmcgQ1NTIHN0eWxlcyAmIzQyOy9cbiAqICAgb3BhY2l0eToxO1xuICogfVxuICogLmZhZGUtYWRkLmZhZGUtYWRkLWFjdGl2ZSB7XG4gKiAgIC8mIzQyOyB0aGlzIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB0aGUgYW5pbWF0aW9uICYjNDI7L1xuICogICB0cmFuc2l0aW9uOjFzIGxpbmVhciBhbGw7XG4gKiAgIG9wYWNpdHk6MDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBzZXR1cCBDU1MgY2xhc3MgKGluIHRoaXMgY2FzZSBgLmZhZGUtYWRkYCkgYWxzbyBoYXMgYSB0cmFuc2l0aW9uIHN0eWxlIHByb3BlcnR5LCBob3dldmVyLCBpdFxuICogaGFzIGEgZHVyYXRpb24gb2YgemVyby4gVGhpcyBtYXkgbm90IGJlIHJlcXVpcmVkLCBob3dldmVyLCBpbmNhc2UgdGhlIGJyb3dzZXIgaXMgdW5hYmxlIHRvIHJlbmRlclxuICogdGhlIHN0eWxpbmcgcHJlc2VudCBpbiB0aGlzIENTUyBjbGFzcyBpbnN0YW50bHkgdGhlbiBpdCBjb3VsZCBiZSB0aGF0IHRoZSBicm93c2VyIGlzIGF0dGVtcHRpbmdcbiAqIHRvIHBlcmZvcm0gYW4gdW5uZWNlc3NhcnkgdHJhbnNpdGlvbi5cbiAqXG4gKiBUaGlzIHdvcmthcm91bmQsIGhvd2V2ZXIsIGRvZXMgbm90IGFwcGx5IHRvICBzdGFuZGFyZCBjbGFzcy1iYXNlZCB0cmFuc2l0aW9ucyB0aGF0IGFyZSByZW5kZXJlZFxuICogd2hlbiBhIENTUyBjbGFzcyBjb250YWluaW5nIGEgdHJhbnNpdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGVsZW1lbnQ6XG4gKlxuICogYGBgY3NzXG4gKiAvJiM0MjsgdGhpcyB3b3JrcyBhcyBleHBlY3RlZCAmIzQyOy9cbiAqIC5mYWRlIHtcbiAqICAgdHJhbnNpdGlvbjoxcyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBQbGVhc2Uga2VlcCB0aGlzIGluIG1pbmQgd2hlbiBjb2RpbmcgdGhlIENTUyBtYXJrdXAgdGhhdCB3aWxsIGJlIHVzZWQgd2l0aGluIGNsYXNzLWJhc2VkIHRyYW5zaXRpb25zLlxuICogQWxzbywgdHJ5IG5vdCB0byBtaXggdGhlIHR3byBjbGFzcy1iYXNlZCBhbmltYXRpb24gZmxhdm9ycyB0b2dldGhlciBzaW5jZSB0aGUgQ1NTIGNvZGUgbWF5IGJlY29tZVxuICogb3Zlcmx5IGNvbXBsZXguXG4gKlxuICpcbiAqICMjIyBQcmV2ZW50aW5nIENvbGxpc2lvbnMgV2l0aCBUaGlyZCBQYXJ0eSBMaWJyYXJpZXNcbiAqXG4gKiBTb21lIHRoaXJkLXBhcnR5IGZyYW1ld29ya3MgcGxhY2UgYW5pbWF0aW9uIGR1cmF0aW9uIGRlZmF1bHRzIGFjcm9zcyBtYW55IGVsZW1lbnQgb3IgY2xhc3NOYW1lXG4gKiBzZWxlY3RvcnMgaW4gb3JkZXIgdG8gbWFrZSB0aGVpciBjb2RlIHNtYWxsIGFuZCByZXVzZWFibGUuIFRoaXMgY2FuIGxlYWQgdG8gaXNzdWVzIHdpdGggbmdBbmltYXRlLCB3aGljaFxuICogaXMgZXhwZWN0aW5nIGFjdHVhbCBhbmltYXRpb25zIG9uIHRoZXNlIGVsZW1lbnRzIGFuZCBoYXMgdG8gd2FpdCBmb3IgdGhlaXIgY29tcGxldGlvbi5cbiAqXG4gKiBZb3UgY2FuIHByZXZlbnQgdGhpcyB1bndhbnRlZCBiZWhhdmlvciBieSB1c2luZyBhIHByZWZpeCBvbiBhbGwgeW91ciBhbmltYXRpb24gY2xhc3NlczpcbiAqXG4gKiBgYGBjc3NcbiAqIC8mIzQyOyBwcmVmaXhlZCB3aXRoIGFuaW1hdGUtICYjNDI7L1xuICogLmFuaW1hdGUtZmFkZS1hZGQuYW5pbWF0ZS1mYWRlLWFkZC1hY3RpdmUge1xuICogICB0cmFuc2l0aW9uOjFzIGxpbmVhciBhbGw7XG4gKiAgIG9wYWNpdHk6MDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFlvdSB0aGVuIGNvbmZpZ3VyZSBgJGFuaW1hdGVgIHRvIGVuZm9yY2UgdGhpcyBwcmVmaXg6XG4gKlxuICogYGBganNcbiAqICRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKC9hbmltYXRlLS8pO1xuICogYGBgXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMgQ1NTIFN0YWdnZXJpbmcgQW5pbWF0aW9uc1xuICogQSBTdGFnZ2VyaW5nIGFuaW1hdGlvbiBpcyBhIGNvbGxlY3Rpb24gb2YgYW5pbWF0aW9ucyB0aGF0IGFyZSBpc3N1ZWQgd2l0aCBhIHNsaWdodCBkZWxheSBpbiBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBvcGVyYXRpb24gcmVzdWx0aW5nIGluIGFcbiAqIGN1cnRhaW4tbGlrZSBlZmZlY3QuIFRoZSBuZ0FuaW1hdGUgbW9kdWxlICh2ZXJzaW9ucyA+PTEuMikgc3VwcG9ydHMgc3RhZ2dlcmluZyBhbmltYXRpb25zIGFuZCB0aGUgc3RhZ2dlciBlZmZlY3QgY2FuIGJlXG4gKiBwZXJmb3JtZWQgYnkgY3JlYXRpbmcgYSAqKm5nLUVWRU5ULXN0YWdnZXIqKiBDU1MgY2xhc3MgYW5kIGF0dGFjaGluZyB0aGF0IGNsYXNzIHRvIHRoZSBiYXNlIENTUyBjbGFzcyB1c2VkIGZvclxuICogdGhlIGFuaW1hdGlvbi4gVGhlIHN0eWxlIHByb3BlcnR5IGV4cGVjdGVkIHdpdGhpbiB0aGUgc3RhZ2dlciBjbGFzcyBjYW4gZWl0aGVyIGJlIGEgKip0cmFuc2l0aW9uLWRlbGF5Kiogb3IgYW5cbiAqICoqYW5pbWF0aW9uLWRlbGF5KiogcHJvcGVydHkgKG9yIGJvdGggaWYgeW91ciBhbmltYXRpb24gY29udGFpbnMgYm90aCB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucykuXG4gKlxuICogYGBgY3NzXG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgLyYjNDI7IHN0YW5kYXJkIHRyYW5zaXRpb24gY29kZSAmIzQyOy9cbiAqICAgLXdlYmtpdC10cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyLXN0YWdnZXIge1xuICogICAvJiM0MjsgdGhpcyB3aWxsIGhhdmUgYSAxMDBtcyBkZWxheSBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBsZWF2ZSBhbmltYXRpb24gJiM0MjsvXG4gKiAgIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMC4xcztcbiAqICAgdHJhbnNpdGlvbi1kZWxheTogMC4xcztcbiAqXG4gKiAgIC8mIzQyOyBpbiBjYXNlIHRoZSBzdGFnZ2VyIGRvZXNuJ3Qgd29yayB0aGVuIHRoZXNlIHR3byB2YWx1ZXNcbiAqICAgIG11c3QgYmUgc2V0IHRvIDAgdG8gYXZvaWQgYW4gYWNjaWRlbnRhbCBDU1MgaW5oZXJpdGFuY2UgJiM0MjsvXG4gKiAgIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogMHM7XG4gKiAgIHRyYW5zaXRpb24tZHVyYXRpb246IDBzO1xuICogfVxuICogLm15LWFuaW1hdGlvbi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICAvJiM0Mjsgc3RhbmRhcmQgdHJhbnNpdGlvbiBzdHlsZXMgJiM0MjsvXG4gKiAgIG9wYWNpdHk6MTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFN0YWdnZXJpbmcgYW5pbWF0aW9ucyB3b3JrIGJ5IGRlZmF1bHQgaW4gbmdSZXBlYXQgKHNvIGxvbmcgYXMgdGhlIENTUyBjbGFzcyBpcyBkZWZpbmVkKS4gT3V0c2lkZSBvZiBuZ1JlcGVhdCwgdG8gdXNlIHN0YWdnZXJpbmcgYW5pbWF0aW9uc1xuICogb24geW91ciBvd24sIHRoZXkgY2FuIGJlIHRyaWdnZXJlZCBieSBmaXJpbmcgbXVsdGlwbGUgY2FsbHMgdG8gdGhlIHNhbWUgZXZlbnQgb24gJGFuaW1hdGUuIEhvd2V2ZXIsIHRoZSByZXN0cmljdGlvbnMgc3Vycm91bmRpbmcgdGhpc1xuICogYXJlIHRoYXQgZWFjaCBvZiB0aGUgZWxlbWVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIENTUyBjbGFzc05hbWUgdmFsdWUgYXMgd2VsbCBhcyB0aGUgc2FtZSBwYXJlbnQgZWxlbWVudC4gQSBzdGFnZ2VyIG9wZXJhdGlvblxuICogd2lsbCBhbHNvIGJlIHJlc2V0IGlmIG1vcmUgdGhhbiAxMG1zIGhhcyBwYXNzZWQgYWZ0ZXIgdGhlIGxhc3QgYW5pbWF0aW9uIGhhcyBiZWVuIGZpcmVkLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgY29kZSB3aWxsIGlzc3VlIHRoZSAqKm5nLWxlYXZlLXN0YWdnZXIqKiBldmVudCBvbiB0aGUgZWxlbWVudCBwcm92aWRlZDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIGtpZHMgPSBwYXJlbnQuY2hpbGRyZW4oKTtcbiAqXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzBdKTsgLy9zdGFnZ2VyIGluZGV4PTBcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbMV0pOyAvL3N0YWdnZXIgaW5kZXg9MVxuICogJGFuaW1hdGUubGVhdmUoa2lkc1syXSk7IC8vc3RhZ2dlciBpbmRleD0yXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzNdKTsgLy9zdGFnZ2VyIGluZGV4PTNcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbNF0pOyAvL3N0YWdnZXIgaW5kZXg9NFxuICpcbiAqICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAvL3N0YWdnZXIgaGFzIHJlc2V0IGl0c2VsZlxuICogICAkYW5pbWF0ZS5sZWF2ZShraWRzWzVdKTsgLy9zdGFnZ2VyIGluZGV4PTBcbiAqICAgJGFuaW1hdGUubGVhdmUoa2lkc1s2XSk7IC8vc3RhZ2dlciBpbmRleD0xXG4gKiB9LCAxMDAsIGZhbHNlKTtcbiAqIGBgYFxuICpcbiAqIFN0YWdnZXIgYW5pbWF0aW9ucyBhcmUgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIHdpdGhpbiBDU1MtZGVmaW5lZCBhbmltYXRpb25zLlxuICpcbiAqICMjIEphdmFTY3JpcHQtZGVmaW5lZCBBbmltYXRpb25zXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCB5b3UgZG8gbm90IHdhbnQgdG8gdXNlIENTUzMgdHJhbnNpdGlvbnMgb3IgQ1NTMyBhbmltYXRpb25zIG9yIGlmIHlvdSB3aXNoIHRvIG9mZmVyIGFuaW1hdGlvbnMgb24gYnJvd3NlcnMgdGhhdCBkbyBub3RcbiAqIHlldCBzdXBwb3J0IENTUyB0cmFuc2l0aW9ucy9hbmltYXRpb25zLCB0aGVuIHlvdSBjYW4gbWFrZSB1c2Ugb2YgSmF2YVNjcmlwdCBhbmltYXRpb25zIGRlZmluZWQgaW5zaWRlIG9mIHlvdXIgQW5ndWxhckpTIG1vZHVsZS5cbiAqXG4gKiBgYGBqc1xuICogLy8hYW5ub3RhdGU9XCJZb3VyQXBwXCIgWW91ciBBbmd1bGFySlMgTW9kdWxlfFJlcGxhY2UgdGhpcyBvciBuZ01vZHVsZSB3aXRoIHRoZSBtb2R1bGUgdGhhdCB5b3UgdXNlZCB0byBkZWZpbmUgeW91ciBhcHBsaWNhdGlvbi5cbiAqIHZhciBuZ01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdZb3VyQXBwJywgWyduZ0FuaW1hdGUnXSk7XG4gKiBuZ01vZHVsZS5hbmltYXRpb24oJy5teS1jcmF6eS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICogICAgICAgLy9ydW4gdGhlIGFuaW1hdGlvbiBoZXJlIGFuZCBjYWxsIGRvbmUgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24oY2FuY2VsbGVkKSB7XG4gKiAgICAgICAgIC8vdGhpcyAob3B0aW9uYWwpIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvblxuICogICAgICAgICAvL2NvbXBsZXRlcyBvciB3aGVuIHRoZSBhbmltYXRpb24gaXMgY2FuY2VsbGVkICh0aGUgY2FuY2VsbGVkXG4gKiAgICAgICAgIC8vZmxhZyB3aWxsIGJlIHNldCB0byB0cnVlIGlmIGNhbmNlbGxlZCkuXG4gKiAgICAgICB9O1xuICogICAgIH0sXG4gKiAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHsgfSxcbiAqICAgICBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7IH0sXG4gKlxuICogICAgIC8vYW5pbWF0aW9uIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFkZGVkXG4gKiAgICAgYmVmb3JlQWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYWZ0ZXIgdGhlIGNsYXNzIGlzIGFkZGVkXG4gKiAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkXG4gKiAgICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYWZ0ZXIgdGhlIGNsYXNzIGlzIHJlbW92ZWRcbiAqICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7IH1cbiAqICAgfTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgYXJlIGNyZWF0ZWQgd2l0aCBhIENTUy1saWtlIGNsYXNzIHNlbGVjdG9yIGFuZCBhIGNvbGxlY3Rpb24gb2YgZXZlbnRzIHdoaWNoIGFyZSBzZXQgdG8gcnVuXG4gKiBhIGphdmFzY3JpcHQgY2FsbGJhY2sgZnVuY3Rpb24uIFdoZW4gYW4gYW5pbWF0aW9uIGlzIHRyaWdnZXJlZCwgJGFuaW1hdGUgd2lsbCBsb29rIGZvciBhIG1hdGNoaW5nIGFuaW1hdGlvbiB3aGljaCBmaXRzXG4gKiB0aGUgZWxlbWVudCdzIENTUyBjbGFzcyBhdHRyaWJ1dGUgdmFsdWUgYW5kIHRoZW4gcnVuIHRoZSBtYXRjaGluZyBhbmltYXRpb24gZXZlbnQgZnVuY3Rpb24gKGlmIGZvdW5kKS5cbiAqIEluIG90aGVyIHdvcmRzLCBpZiB0aGUgQ1NTIGNsYXNzZXMgcHJlc2VudCBvbiB0aGUgYW5pbWF0ZWQgZWxlbWVudCBtYXRjaCBhbnkgb2YgdGhlIEphdmFTY3JpcHQgYW5pbWF0aW9ucyB0aGVuIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsXG4gKiBiZSBleGVjdXRlZC4gSXQgc2hvdWxkIGJlIGFsc28gbm90ZWQgdGhhdCBvbmx5IHNpbXBsZSwgc2luZ2xlIGNsYXNzIHNlbGVjdG9ycyBhcmUgYWxsb3dlZCAoY29tcG91bmQgY2xhc3Mgc2VsZWN0b3JzIGFyZSBub3Qgc3VwcG9ydGVkKS5cbiAqXG4gKiBXaXRoaW4gYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBldmVudCBjYWxsYmFjayBhbmltYXRpb24gZnVuY3Rpb25zIGlzIGV4cGVjdGVkIHRvIGJlIHJldHVybmVkLlxuICogQXMgZXhwbGFpbmVkIGFib3ZlLCB0aGVzZSBjYWxsYmFja3MgYXJlIHRyaWdnZXJlZCBiYXNlZCBvbiB0aGUgYW5pbWF0aW9uIGV2ZW50LiBUaGVyZWZvcmUgaWYgYW4gZW50ZXIgYW5pbWF0aW9uIGlzIHJ1bixcbiAqIGFuZCB0aGUgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZm91bmQsIHRoZW4gdGhlIGVudGVyIGNhbGxiYWNrIHdpbGwgaGFuZGxlIHRoYXQgYW5pbWF0aW9uIChpbiBhZGRpdGlvbiB0byB0aGUgQ1NTIGtleWZyYW1lIGFuaW1hdGlvblxuICogb3IgdHJhbnNpdGlvbiBjb2RlIHRoYXQgaXMgZGVmaW5lZCB2aWEgYSBzdHlsZXNoZWV0KS5cbiAqXG4gKlxuICogIyMjIEFwcGx5aW5nIERpcmVjdGl2ZS1zcGVjaWZpYyBTdHlsZXMgdG8gYW4gQW5pbWF0aW9uXG4gKiBJbiBzb21lIGNhc2VzIGEgZGlyZWN0aXZlIG9yIHNlcnZpY2UgbWF5IHdhbnQgdG8gcHJvdmlkZSBgJGFuaW1hdGVgIHdpdGggZXh0cmEgZGV0YWlscyB0aGF0IHRoZSBhbmltYXRpb24gd2lsbFxuICogaW5jbHVkZSBpbnRvIGl0cyBhbmltYXRpb24uIExldCdzIHNheSBmb3IgZXhhbXBsZSB3ZSB3YW50ZWQgdG8gcmVuZGVyIGFuIGFuaW1hdGlvbiB0aGF0IGFuaW1hdGVzIGFuIGVsZW1lbnRcbiAqIHRvd2FyZHMgdGhlIG1vdXNlIGNvb3JkaW5hdGVzIGFzIHRvIHdoZXJlIHRoZSB1c2VyIGNsaWNrZWQgbGFzdC4gQnkgY29sbGVjdGluZyB0aGUgWC9ZIGNvb3JkaW5hdGVzIG9mIHRoZSBjbGlja1xuICogKHZpYSB0aGUgZXZlbnQgcGFyYW1ldGVyKSB3ZSBjYW4gc2V0IHRoZSBgdG9wYCBhbmQgYGxlZnRgIHN0eWxlcyBpbnRvIGFuIG9iamVjdCBhbmQgcGFzcyB0aGF0IGludG8gb3VyIGZ1bmN0aW9uXG4gKiBjYWxsIHRvIGAkYW5pbWF0ZS5hZGRDbGFzc2AuXG4gKlxuICogYGBganNcbiAqIGNhbnZhcy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gKiAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdvbicsIHtcbiAqICAgICB0bzoge1xuICogICAgICAgbGVmdCA6IGUuY2xpZW50LnggKyAncHgnLFxuICogICAgICAgdG9wIDogZS5jbGllbnQueSArICdweCdcbiAqICAgICB9XG4gKiAgIH0pOlxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBOb3cgd2hlbiB0aGUgYW5pbWF0aW9uIHJ1bnMsIGFuZCBhIHRyYW5zaXRpb24gb3Iga2V5ZnJhbWUgYW5pbWF0aW9uIGlzIHBpY2tlZCB1cCwgdGhlbiB0aGUgYW5pbWF0aW9uIGl0c2VsZiB3aWxsXG4gKiBhbHNvIGluY2x1ZGUgYW5kIHRyYW5zaXRpb24gdGhlIHN0eWxpbmcgb2YgdGhlIGBsZWZ0YCBhbmQgYHRvcGAgcHJvcGVydGllcyBpbnRvIGl0cyBydW5uaW5nIGFuaW1hdGlvbi4gSWYgd2Ugd2FudFxuICogdG8gcHJvdmlkZSBzb21lIHN0YXJ0aW5nIGFuaW1hdGlvbiB2YWx1ZXMgdGhlbiB3ZSBjYW4gZG8gc28gYnkgcGxhY2luZyB0aGUgc3RhcnRpbmcgYW5pbWF0aW9ucyBzdHlsZXMgaW50byBhbiBvYmplY3RcbiAqIGNhbGxlZCBgZnJvbWAgaW4gdGhlIHNhbWUgb2JqZWN0IGFzIHRoZSBgdG9gIGFuaW1hdGlvbnMuXG4gKlxuICogYGBganNcbiAqIGNhbnZhcy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gKiAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdvbicsIHtcbiAqICAgICBmcm9tOiB7XG4gKiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gKiAgICAgICAgbGVmdDogJzBweCcsXG4gKiAgICAgICAgdG9wOiAnMHB4J1xuICogICAgIH0sXG4gKiAgICAgdG86IHtcbiAqICAgICAgIGxlZnQgOiBlLmNsaWVudC54ICsgJ3B4JyxcbiAqICAgICAgIHRvcCA6IGUuY2xpZW50LnkgKyAncHgnXG4gKiAgICAgfVxuICogICB9KTpcbiAqIH0pO1xuICogYGBgXG4gKlxuICogT25jZSB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlIG9yIGNhbmNlbGxlZCB0aGVuIHRoZSB1bmlvbiBvZiBib3RoIHRoZSBiZWZvcmUgYW5kIGFmdGVyIHN0eWxlcyBhcmUgYXBwbGllZCB0byB0aGVcbiAqIGVsZW1lbnQuIElmIGBuZ0FuaW1hdGVgIGlzIG5vdCBwcmVzZW50IHRoZW4gdGhlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgaW1tZWRpYXRlbHkuXG4gKlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCduZ0FuaW1hdGUnLCBbJ25nJ10pXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm92aWRlclxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBUaGUgYCRhbmltYXRlUHJvdmlkZXJgIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJlZ2lzdGVyIEphdmFTY3JpcHQgYW5pbWF0aW9uIGV2ZW50IGhhbmRsZXJzIGRpcmVjdGx5IGluc2lkZSBvZiBhIG1vZHVsZS5cbiAgICogV2hlbiBhbiBhbmltYXRpb24gaXMgdHJpZ2dlcmVkLCB0aGUgJGFuaW1hdGUgc2VydmljZSB3aWxsIHF1ZXJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlIHRvIGZpbmQgYW55IGFuaW1hdGlvbnMgdGhhdCBtYXRjaFxuICAgKiB0aGUgcHJvdmlkZWQgbmFtZSB2YWx1ZS5cbiAgICpcbiAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FuaW1hdGUgYG5nQW5pbWF0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAqXG4gICAqIFBsZWFzZSB2aXNpdCB0aGUge0BsaW5rIG5nQW5pbWF0ZSBgbmdBbmltYXRlYH0gbW9kdWxlIG92ZXJ2aWV3IHBhZ2UgbGVhcm4gbW9yZSBhYm91dCBob3cgdG8gdXNlIGFuaW1hdGlvbnMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICovXG4gIC5kaXJlY3RpdmUoJ25nQW5pbWF0ZUNoaWxkcmVuJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIE5HX0FOSU1BVEVfQ0hJTERSRU4gPSAnJCRuZ0FuaW1hdGVDaGlsZHJlbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIHZhbCA9IGF0dHJzLm5nQW5pbWF0ZUNoaWxkcmVuO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwKSB7IC8vZW1wdHkgYXR0cmlidXRlXG4gICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCh2YWwsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU4sICEhdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC8vdGhpcyBwcml2YXRlIHNlcnZpY2UgaXMgb25seSB1c2VkIHdpdGhpbiBDU1MtZW5hYmxlZCBhbmltYXRpb25zXG4gIC8vSUU4ICsgSUU5IGRvIG5vdCBzdXBwb3J0IHJBRiBuYXRpdmVseSwgYnV0IHRoYXQgaXMgZmluZSBzaW5jZSB0aGV5XG4gIC8vYWxzbyBkb24ndCBzdXBwb3J0IHRyYW5zaXRpb25zIGFuZCBrZXlmcmFtZXMgd2hpY2ggbWVhbnMgdGhhdCB0aGUgY29kZVxuICAvL2JlbG93IHdpbGwgbmV2ZXIgYmUgdXNlZCBieSB0aGUgdHdvIGJyb3dzZXJzLlxuICAuZmFjdG9yeSgnJCRhbmltYXRlUmVmbG93JywgWyckJHJBRicsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkJHJBRiwgJGRvY3VtZW50KSB7XG4gICAgdmFyIGJvZCA9ICRkb2N1bWVudFswXS5ib2R5O1xuICAgIHJldHVybiBmdW5jdGlvbihmbikge1xuICAgICAgLy90aGUgcmV0dXJuZWQgZnVuY3Rpb24gYWN0cyBhcyB0aGUgY2FuY2VsbGF0aW9uIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vdGhlIGxpbmUgYmVsb3cgd2lsbCBmb3JjZSB0aGUgYnJvd3NlciB0byBwZXJmb3JtIGEgcmVwYWludFxuICAgICAgICAvL3NvIHRoYXQgYWxsIHRoZSBhbmltYXRlZCBlbGVtZW50cyB3aXRoaW4gdGhlIGFuaW1hdGlvbiBmcmFtZVxuICAgICAgICAvL3dpbGwgYmUgcHJvcGVybHkgdXBkYXRlZCBhbmQgZHJhd24gb24gc2NyZWVuLiBUaGlzIGlzXG4gICAgICAgIC8vcmVxdWlyZWQgdG8gcGVyZm9ybSBtdWx0aS1jbGFzcyBDU1MgYmFzZWQgYW5pbWF0aW9ucyB3aXRoXG4gICAgICAgIC8vRmlyZWZveC4gRE8gTk9UIFJFTU9WRSBUSElTIExJTkUuXG4gICAgICAgIHZhciBhID0gYm9kLm9mZnNldFdpZHRoICsgMTtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1dKVxuXG4gIC5jb25maWcoWyckcHJvdmlkZScsICckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHByb3ZpZGUsICRhbmltYXRlUHJvdmlkZXIpIHtcbiAgICB2YXIgbm9vcCA9IGFuZ3VsYXIubm9vcDtcbiAgICB2YXIgZm9yRWFjaCA9IGFuZ3VsYXIuZm9yRWFjaDtcbiAgICB2YXIgc2VsZWN0b3JzID0gJGFuaW1hdGVQcm92aWRlci4kJHNlbGVjdG9ycztcbiAgICB2YXIgaXNBcnJheSA9IGFuZ3VsYXIuaXNBcnJheTtcbiAgICB2YXIgaXNTdHJpbmcgPSBhbmd1bGFyLmlzU3RyaW5nO1xuICAgIHZhciBpc09iamVjdCA9IGFuZ3VsYXIuaXNPYmplY3Q7XG5cbiAgICB2YXIgRUxFTUVOVF9OT0RFID0gMTtcbiAgICB2YXIgTkdfQU5JTUFURV9TVEFURSA9ICckJG5nQW5pbWF0ZVN0YXRlJztcbiAgICB2YXIgTkdfQU5JTUFURV9DSElMRFJFTiA9ICckJG5nQW5pbWF0ZUNoaWxkcmVuJztcbiAgICB2YXIgTkdfQU5JTUFURV9DTEFTU19OQU1FID0gJ25nLWFuaW1hdGUnO1xuICAgIHZhciByb290QW5pbWF0ZVN0YXRlID0ge3J1bm5pbmc6IHRydWV9O1xuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxtID0gZWxlbWVudFtpXTtcbiAgICAgICAgaWYgKGVsbS5ub2RlVHlwZSA9PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICByZXR1cm4gZWxtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNYXRjaGluZ0VsZW1lbnQoZWxtMSwgZWxtMikge1xuICAgICAgcmV0dXJuIGV4dHJhY3RFbGVtZW50Tm9kZShlbG0xKSA9PSBleHRyYWN0RWxlbWVudE5vZGUoZWxtMik7XG4gICAgfVxuICAgIHZhciAkJGpxTGl0ZTtcbiAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRhbmltYXRlJyxcbiAgICAgICAgWyckZGVsZWdhdGUnLCAnJCRxJywgJyRpbmplY3RvcicsICckc25pZmZlcicsICckcm9vdEVsZW1lbnQnLCAnJCRhc3luY0NhbGxiYWNrJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJCRqcUxpdGUnLFxuIGZ1bmN0aW9uKCRkZWxlZ2F0ZSwgICAkJHEsICAgJGluamVjdG9yLCAgICRzbmlmZmVyLCAgICRyb290RWxlbWVudCwgICAkJGFzeW5jQ2FsbGJhY2ssICAgJHJvb3RTY29wZSwgICAkZG9jdW1lbnQsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkJCRqcUxpdGUpIHtcblxuICAgICAgJCRqcUxpdGUgPSAkJCRqcUxpdGU7XG4gICAgICAkcm9vdEVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLCByb290QW5pbWF0ZVN0YXRlKTtcblxuICAgICAgLy8gV2FpdCB1bnRpbCBhbGwgZGlyZWN0aXZlIGFuZCByb3V0ZS1yZWxhdGVkIHRlbXBsYXRlcyBhcmUgZG93bmxvYWRlZCBhbmRcbiAgICAgIC8vIGNvbXBpbGVkLiBUaGUgJHRlbXBsYXRlUmVxdWVzdC50b3RhbFBlbmRpbmdSZXF1ZXN0cyB2YXJpYWJsZSBrZWVwcyB0cmFjayBvZlxuICAgICAgLy8gYWxsIG9mIHRoZSByZW1vdGUgdGVtcGxhdGVzIGJlaW5nIGN1cnJlbnRseSBkb3dubG9hZGVkLiBJZiB0aGVyZSBhcmUgbm9cbiAgICAgIC8vIHRlbXBsYXRlcyBjdXJyZW50bHkgZG93bmxvYWRpbmcgdGhlbiB0aGUgd2F0Y2hlciB3aWxsIHN0aWxsIGZpcmUgYW55d2F5LlxuICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaCA9ICRyb290U2NvcGUuJHdhdGNoKFxuICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuICR0ZW1wbGF0ZVJlcXVlc3QudG90YWxQZW5kaW5nUmVxdWVzdHM7IH0sXG4gICAgICAgIGZ1bmN0aW9uKHZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgaWYgKHZhbCAhPT0gMCkgcmV0dXJuO1xuICAgICAgICAgIGRlcmVnaXN0ZXJXYXRjaCgpO1xuXG4gICAgICAgICAgLy8gTm93IHRoYXQgYWxsIHRlbXBsYXRlcyBoYXZlIGJlZW4gZG93bmxvYWRlZCwgJGFuaW1hdGUgd2lsbCB3YWl0IHVudGlsXG4gICAgICAgICAgLy8gdGhlIHBvc3QgZGlnZXN0IHF1ZXVlIGlzIGVtcHR5IGJlZm9yZSBlbmFibGluZyBhbmltYXRpb25zLiBCeSBoYXZpbmcgdHdvXG4gICAgICAgICAgLy8gY2FsbHMgdG8gJHBvc3REaWdlc3QgY2FsbHMgd2UgY2FuIGVuc3VyZSB0aGF0IHRoZSBmbGFnIGlzIGVuYWJsZWQgYXQgdGhlXG4gICAgICAgICAgLy8gdmVyeSBlbmQgb2YgdGhlIHBvc3QgZGlnZXN0IHF1ZXVlLiBTaW5jZSBhbGwgb2YgdGhlIGFuaW1hdGlvbnMgaW4gJGFuaW1hdGVcbiAgICAgICAgICAvLyB1c2UgJHBvc3REaWdlc3QsIGl0J3MgaW1wb3J0YW50IHRoYXQgdGhlIGNvZGUgYmVsb3cgZXhlY3V0ZXMgYXQgdGhlIGVuZC5cbiAgICAgICAgICAvLyBUaGlzIGJhc2ljYWxseSBtZWFucyB0aGF0IHRoZSBwYWdlIGlzIGZ1bGx5IGRvd25sb2FkZWQgYW5kIGNvbXBpbGVkIGJlZm9yZVxuICAgICAgICAgIC8vIGFueSBhbmltYXRpb25zIGFyZSB0cmlnZ2VyZWQuXG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgdmFyIGdsb2JhbEFuaW1hdGlvbkNvdW50ZXIgPSAwO1xuICAgICAgdmFyIGNsYXNzTmFtZUZpbHRlciA9ICRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKCk7XG4gICAgICB2YXIgaXNBbmltYXRhYmxlQ2xhc3NOYW1lID0gIWNsYXNzTmFtZUZpbHRlclxuICAgICAgICAgICAgICA/IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICA6IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc05hbWVGaWx0ZXIudGVzdChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgc2V0dGVyKSB7XG4gICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpIHx8IHt9O1xuICAgICAgICBpZiAoc2V0dGVyKSB7XG4gICAgICAgICAgZGF0YS5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICBkYXRhLnN0cnVjdHVyYWwgPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YS5kaXNhYmxlZCB8fCAoZGF0YS5ydW5uaW5nICYmIGRhdGEuc3RydWN0dXJhbCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZm4pIHtcbiAgICAgICAgdmFyIGNhbmNlbEZuLCBkZWZlciA9ICQkcS5kZWZlcigpO1xuICAgICAgICBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjYW5jZWxGbiAmJiBjYW5jZWxGbigpO1xuICAgICAgICB9O1xuICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjYW5jZWxGbiA9IGZuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBzb21lIHBsdWdpbiBjb2RlIG1heSBzdGlsbCBiZSBwYXNzaW5nIGluIHRoZSBjYWxsYmFja1xuICAgICAgICAvLyBmdW5jdGlvbiBhcyB0aGUgbGFzdCBwYXJhbSBmb3IgdGhlICRhbmltYXRlIG1ldGhvZHMgc29cbiAgICAgICAgLy8gaXQncyBiZXN0IHRvIG9ubHkgYWxsb3cgc3RyaW5nIG9yIGFycmF5IHZhbHVlcyBmb3Igbm93XG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICAgIGlmIChvcHRpb25zLnRlbXBDbGFzc2VzICYmIGlzU3RyaW5nKG9wdGlvbnMudGVtcENsYXNzZXMpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRlbXBDbGFzc2VzID0gb3B0aW9ucy50ZW1wQ2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgY2FjaGUsIHJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgIHJ1bm5pbmdBbmltYXRpb25zID0gcnVubmluZ0FuaW1hdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIGxvb2t1cCA9IHt9O1xuICAgICAgICBmb3JFYWNoKHJ1bm5pbmdBbmltYXRpb25zLCBmdW5jdGlvbihkYXRhLCBzZWxlY3Rvcikge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0b3Iuc3BsaXQoJyAnKSwgZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgbG9va3VwW3NdPWRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBoYXNDbGFzc2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yRWFjaCgoZWxlbWVudC5hdHRyKCdjbGFzcycpIHx8ICcnKS5zcGxpdCgvXFxzKy8pLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICBoYXNDbGFzc2VzW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdG9BZGQgPSBbXSwgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yRWFjaCgoY2FjaGUgJiYgY2FjaGUuY2xhc3NlcykgfHwgW10sIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdmFyIGhhc0NsYXNzID0gaGFzQ2xhc3Nlc1tjbGFzc05hbWVdO1xuICAgICAgICAgIHZhciBtYXRjaGluZ0FuaW1hdGlvbiA9IGxvb2t1cFtjbGFzc05hbWVdIHx8IHt9O1xuXG4gICAgICAgICAgLy8gV2hlbiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgaXMgY2FsbGVkIHRoZW4gJGFuaW1hdGUgd2lsbCBjaGVjayB0b1xuICAgICAgICAgIC8vIHNlZSBpZiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgY2FuY2VsIGVhY2ggb3RoZXIgb3V0LiBXaGVuIHRoZXJlIGFyZVxuICAgICAgICAgIC8vIG1vcmUgY2FsbHMgdG8gcmVtb3ZlQ2xhc3MgdGhhbiBhZGRDbGFzcyB0aGVuIHRoZSBjb3VudCBmYWxscyBiZWxvdyAwXG4gICAgICAgICAgLy8gYW5kIHRoZW4gdGhlIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiB3aWxsIGJlIGFsbG93ZWQuIE90aGVyd2lzZSBpZiB0aGVcbiAgICAgICAgICAvLyBjb3VudCBpcyBhYm92ZSAwIHRoZW4gdGhhdCBtZWFucyBhbiBhZGRDbGFzcyBhbmltYXRpb24gd2lsbCBjb21tZW5jZS5cbiAgICAgICAgICAvLyBPbmNlIGFuIGFuaW1hdGlvbiBpcyBhbGxvd2VkIHRoZW4gdGhlIGNvZGUgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZlxuICAgICAgICAgIC8vIHRoZXJlIGV4aXN0cyBhbnkgb24tZ29pbmcgYW5pbWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBhZGRpbmcgb3IgcmVtdm9pbmdcbiAgICAgICAgICAvLyB0aGUgbWF0Y2hpbmcgQ1NTIGNsYXNzLlxuICAgICAgICAgIGlmIChzdGF0dXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvL2RvZXMgaXQgaGF2ZSB0aGUgY2xhc3Mgb3Igd2lsbCBpdCBoYXZlIHRoZSBjbGFzc1xuICAgICAgICAgICAgaWYgKGhhc0NsYXNzIHx8IG1hdGNoaW5nQW5pbWF0aW9uLmV2ZW50ID09ICdhZGRDbGFzcycpIHtcbiAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvL2lzIHRoZSBjbGFzcyBtaXNzaW5nIG9yIHdpbGwgaXQgYmUgcmVtb3ZlZD9cbiAgICAgICAgICAgIGlmICghaGFzQ2xhc3MgfHwgbWF0Y2hpbmdBbmltYXRpb24uZXZlbnQgPT0gJ3JlbW92ZUNsYXNzJykge1xuICAgICAgICAgICAgICB0b0FkZC5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKHRvQWRkLmxlbmd0aCArIHRvUmVtb3ZlLmxlbmd0aCkgPiAwICYmIFt0b0FkZC5qb2luKCcgJyksIHRvUmVtb3ZlLmpvaW4oJyAnKV07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxvb2t1cChuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXSxcbiAgICAgICAgICAgICAgZmxhZ01hcCA9IHt9LFxuICAgICAgICAgICAgICBjbGFzc2VzID0gbmFtZS5zdWJzdHIoMSkuc3BsaXQoJy4nKTtcblxuICAgICAgICAgIC8vdGhlIGVtcHR5IHN0cmluZyB2YWx1ZSBpcyB0aGUgZGVmYXVsdCBhbmltYXRpb25cbiAgICAgICAgICAvL29wZXJhdGlvbiB3aGljaCBwZXJmb3JtcyBDU1MgdHJhbnNpdGlvbiBhbmQga2V5ZnJhbWVcbiAgICAgICAgICAvL2FuaW1hdGlvbnMgc25pZmZpbmcuIFRoaXMgaXMgYWx3YXlzIGluY2x1ZGVkIGZvciBlYWNoXG4gICAgICAgICAgLy9lbGVtZW50IGFuaW1hdGlvbiBwcm9jZWR1cmUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHNcbiAgICAgICAgICAvL3RyYW5zaXRpb25zIGFuZC9vciBrZXlmcmFtZSBhbmltYXRpb25zLiBUaGUgZGVmYXVsdFxuICAgICAgICAgIC8vYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3QgdG8gcHJldmVudFxuICAgICAgICAgIC8vYW55IHByZXZpb3VzIGFuaW1hdGlvbnMgZnJvbSBhZmZlY3RpbmcgdGhlIGVsZW1lbnQgc3R5bGluZ1xuICAgICAgICAgIC8vcHJpb3IgdG8gdGhlIGVsZW1lbnQgYmVpbmcgYW5pbWF0ZWQuXG4gICAgICAgICAgaWYgKCRzbmlmZmVyLnRyYW5zaXRpb25zIHx8ICRzbmlmZmVyLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yc1snJ10pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2xhc3MgPSBjbGFzc2VzW2ldLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yRmFjdG9yeU5hbWUgPSBzZWxlY3RvcnNba2xhc3NdO1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yRmFjdG9yeU5hbWUgJiYgIWZsYWdNYXBba2xhc3NdKSB7XG4gICAgICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yRmFjdG9yeU5hbWUpKTtcbiAgICAgICAgICAgICAgZmxhZ01hcFtrbGFzc10gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbmltYXRpb25SdW5uZXIoZWxlbWVudCwgYW5pbWF0aW9uRXZlbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICAvL3RyYW5zY2x1ZGVkIGRpcmVjdGl2ZXMgbWF5IHNvbWV0aW1lcyBmaXJlIGFuIGFuaW1hdGlvbiB1c2luZyBvbmx5IGNvbW1lbnQgbm9kZXNcbiAgICAgICAgLy9iZXN0IHRvIGNhdGNoIHRoaXMgZWFybHkgb24gdG8gcHJldmVudCBhbnkgYW5pbWF0aW9uIG9wZXJhdGlvbnMgZnJvbSBvY2N1cnJpbmdcbiAgICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMudG8gPSBvcHRpb25zLnRvIHx8IHt9O1xuICAgICAgICAgIG9wdGlvbnMuZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjbGFzc05hbWVBZGQ7XG4gICAgICAgIHZhciBjbGFzc05hbWVSZW1vdmU7XG4gICAgICAgIGlmIChpc0FycmF5KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICBjbGFzc05hbWVBZGQgPSBjbGFzc05hbWVbMF07XG4gICAgICAgICAgY2xhc3NOYW1lUmVtb3ZlID0gY2xhc3NOYW1lWzFdO1xuICAgICAgICAgIGlmICghY2xhc3NOYW1lQWRkKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVSZW1vdmU7XG4gICAgICAgICAgICBhbmltYXRpb25FdmVudCA9ICdyZW1vdmVDbGFzcyc7XG4gICAgICAgICAgfSBlbHNlIGlmICghY2xhc3NOYW1lUmVtb3ZlKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVBZGQ7XG4gICAgICAgICAgICBhbmltYXRpb25FdmVudCA9ICdhZGRDbGFzcyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZUFkZCArICcgJyArIGNsYXNzTmFtZVJlbW92ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNTZXRDbGFzc09wZXJhdGlvbiA9IGFuaW1hdGlvbkV2ZW50ID09ICdzZXRDbGFzcyc7XG4gICAgICAgIHZhciBpc0NsYXNzQmFzZWQgPSBpc1NldENsYXNzT3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAnYWRkQ2xhc3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAncmVtb3ZlQ2xhc3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAnYW5pbWF0ZSc7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRDbGFzc05hbWUgPSBlbGVtZW50LmF0dHIoJ2NsYXNzJyk7XG4gICAgICAgIHZhciBjbGFzc2VzID0gY3VycmVudENsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKCFpc0FuaW1hdGFibGVDbGFzc05hbWUoY2xhc3NlcykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmVmb3JlQ29tcGxldGUgPSBub29wLFxuICAgICAgICAgICAgYmVmb3JlQ2FuY2VsID0gW10sXG4gICAgICAgICAgICBiZWZvcmUgPSBbXSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGUgPSBub29wLFxuICAgICAgICAgICAgYWZ0ZXJDYW5jZWwgPSBbXSxcbiAgICAgICAgICAgIGFmdGVyID0gW107XG5cbiAgICAgICAgdmFyIGFuaW1hdGlvbkxvb2t1cCA9ICgnICcgKyBjbGFzc2VzKS5yZXBsYWNlKC9cXHMrL2csJy4nKTtcbiAgICAgICAgZm9yRWFjaChsb29rdXAoYW5pbWF0aW9uTG9va3VwKSwgZnVuY3Rpb24oYW5pbWF0aW9uRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBjcmVhdGVkID0gcmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSwgYW5pbWF0aW9uRXZlbnQpO1xuICAgICAgICAgIGlmICghY3JlYXRlZCAmJiBpc1NldENsYXNzT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICByZWdpc3RlckFuaW1hdGlvbihhbmltYXRpb25GYWN0b3J5LCAnYWRkQ2xhc3MnKTtcbiAgICAgICAgICAgIHJlZ2lzdGVyQW5pbWF0aW9uKGFuaW1hdGlvbkZhY3RvcnksICdyZW1vdmVDbGFzcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSwgZXZlbnQpIHtcbiAgICAgICAgICB2YXIgYWZ0ZXJGbiA9IGFuaW1hdGlvbkZhY3RvcnlbZXZlbnRdO1xuICAgICAgICAgIHZhciBiZWZvcmVGbiA9IGFuaW1hdGlvbkZhY3RvcnlbJ2JlZm9yZScgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnN1YnN0cigxKV07XG4gICAgICAgICAgaWYgKGFmdGVyRm4gfHwgYmVmb3JlRm4pIHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PSAnbGVhdmUnKSB7XG4gICAgICAgICAgICAgIGJlZm9yZUZuID0gYWZ0ZXJGbjtcbiAgICAgICAgICAgICAgLy93aGVuIHNldCBhcyBudWxsIHRoZW4gYW5pbWF0aW9uIGtub3dzIHRvIHNraXAgdGhpcyBwaGFzZVxuICAgICAgICAgICAgICBhZnRlckZuID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyLnB1c2goe1xuICAgICAgICAgICAgICBldmVudDogZXZlbnQsIGZuOiBhZnRlckZuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJlZm9yZS5wdXNoKHtcbiAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LCBmbjogYmVmb3JlRm5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcnVuKGZucywgY2FuY2VsbGF0aW9ucywgYWxsQ29tcGxldGVGbikge1xuICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW107XG4gICAgICAgICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uLmZuICYmIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICBmdW5jdGlvbiBhZnRlckFuaW1hdGlvbkNvbXBsZXRlKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9ucykge1xuICAgICAgICAgICAgICAoY2FuY2VsbGF0aW9uc1tpbmRleF0gfHwgbm9vcCkoKTtcbiAgICAgICAgICAgICAgaWYgKCsrY291bnQgPCBhbmltYXRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsbENvbXBsZXRlRm4oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL1RoZSBjb2RlIGJlbG93IGFkZHMgZGlyZWN0bHkgdG8gdGhlIGFycmF5IGluIG9yZGVyIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIC8vYm90aCBzeW5jIGFuZCBhc3luYyBhbmltYXRpb25zLiBTeW5jIGFuaW1hdGlvbnMgYXJlIHdoZW4gdGhlIGRvbmUoKVxuICAgICAgICAgIC8vb3BlcmF0aW9uIGlzIGNhbGxlZCByaWdodCBhd2F5LiBETyBOT1QgUkVGQUNUT1IhXG4gICAgICAgICAgZm9yRWFjaChhbmltYXRpb25zLCBmdW5jdGlvbihhbmltYXRpb24sIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYWZ0ZXJBbmltYXRpb25Db21wbGV0ZShpbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoIChhbmltYXRpb24uZXZlbnQpIHtcbiAgICAgICAgICAgICAgY2FzZSAnc2V0Q2xhc3MnOlxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCwgY2xhc3NOYW1lQWRkLCBjbGFzc05hbWVSZW1vdmUsIHByb2dyZXNzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2FuaW1hdGUnOlxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20sIG9wdGlvbnMudG8sIHByb2dyZXNzKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2FkZENsYXNzJzpcbiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQsIGNsYXNzTmFtZUFkZCB8fCBjbGFzc05hbWUsICAgICBwcm9ncmVzcywgb3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdyZW1vdmVDbGFzcyc6XG4gICAgICAgICAgICAgICAgY2FuY2VsbGF0aW9ucy5wdXNoKGFuaW1hdGlvbi5mbihlbGVtZW50LCBjbGFzc05hbWVSZW1vdmUgfHwgY2xhc3NOYW1lLCAgcHJvZ3Jlc3MsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQsIHByb2dyZXNzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9ucyAmJiBjYW5jZWxsYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYWxsQ29tcGxldGVGbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBldmVudDogYW5pbWF0aW9uRXZlbnQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgaXNDbGFzc0Jhc2VkOiBpc0NsYXNzQmFzZWQsXG4gICAgICAgICAgaXNTZXRDbGFzc09wZXJhdGlvbjogaXNTZXRDbGFzc09wZXJhdGlvbixcbiAgICAgICAgICBhcHBseVN0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICBlbGVtZW50LmNzcyhhbmd1bGFyLmV4dGVuZChvcHRpb25zLmZyb20gfHwge30sIG9wdGlvbnMudG8gfHwge30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24oYWxsQ29tcGxldGVGbikge1xuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGUgPSBhbGxDb21wbGV0ZUZuO1xuICAgICAgICAgICAgcnVuKGJlZm9yZSwgYmVmb3JlQ2FuY2VsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYmVmb3JlQ29tcGxldGUgPSBub29wO1xuICAgICAgICAgICAgICBhbGxDb21wbGV0ZUZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbihhbGxDb21wbGV0ZUZuKSB7XG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlID0gYWxsQ29tcGxldGVGbjtcbiAgICAgICAgICAgIHJ1bihhZnRlciwgYWZ0ZXJDYW5jZWwsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBhZnRlckNvbXBsZXRlID0gbm9vcDtcbiAgICAgICAgICAgICAgYWxsQ29tcGxldGVGbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZUNhbmNlbCkge1xuICAgICAgICAgICAgICBmb3JFYWNoKGJlZm9yZUNhbmNlbCwgZnVuY3Rpb24oY2FuY2VsRm4pIHtcbiAgICAgICAgICAgICAgICAoY2FuY2VsRm4gfHwgbm9vcCkodHJ1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBiZWZvcmVDb21wbGV0ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlckNhbmNlbCkge1xuICAgICAgICAgICAgICBmb3JFYWNoKGFmdGVyQ2FuY2VsLCBmdW5jdGlvbihjYW5jZWxGbikge1xuICAgICAgICAgICAgICAgIChjYW5jZWxGbiB8fCBub29wKSh0cnVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFmdGVyQ29tcGxldGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZVxuICAgICAgICogQGtpbmQgb2JqZWN0XG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBUaGUgYCRhbmltYXRlYCBzZXJ2aWNlIHByb3ZpZGVzIGFuaW1hdGlvbiBkZXRlY3Rpb24gc3VwcG9ydCB3aGlsZSBwZXJmb3JtaW5nIERPTSBvcGVyYXRpb25zIChlbnRlciwgbGVhdmUgYW5kIG1vdmUpIGFzIHdlbGwgYXMgZHVyaW5nIGFkZENsYXNzIGFuZCByZW1vdmVDbGFzcyBvcGVyYXRpb25zLlxuICAgICAgICogV2hlbiBhbnkgb2YgdGhlc2Ugb3BlcmF0aW9ucyBhcmUgcnVuLCB0aGUgJGFuaW1hdGUgc2VydmljZVxuICAgICAgICogd2lsbCBleGFtaW5lIGFueSBKYXZhU2NyaXB0LWRlZmluZWQgYW5pbWF0aW9ucyAod2hpY2ggYXJlIGRlZmluZWQgYnkgdXNpbmcgdGhlICRhbmltYXRlUHJvdmlkZXIgcHJvdmlkZXIgb2JqZWN0KVxuICAgICAgICogYXMgd2VsbCBhcyBhbnkgQ1NTLWRlZmluZWQgYW5pbWF0aW9ucyBhZ2FpbnN0IHRoZSBDU1MgY2xhc3NlcyBwcmVzZW50IG9uIHRoZSBlbGVtZW50IG9uY2UgdGhlIERPTSBvcGVyYXRpb24gaXMgcnVuLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGFuaW1hdGVgIHNlcnZpY2UgaXMgdXNlZCBiZWhpbmQgdGhlIHNjZW5lcyB3aXRoIHByZS1leGlzdGluZyBkaXJlY3RpdmVzIGFuZCBhbmltYXRpb24gd2l0aCB0aGVzZSBkaXJlY3RpdmVzXG4gICAgICAgKiB3aWxsIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aG91dCBhbnkgZXh0cmEgY29uZmlndXJhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nQW5pbWF0ZSBgbmdBbmltYXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBQbGVhc2UgdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGUgYG5nQW5pbWF0ZWB9IG1vZHVsZSBvdmVydmlldyBwYWdlIGxlYXJuIG1vcmUgYWJvdXQgaG93IHRvIHVzZSBhbmltYXRpb25zIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgKiAjIyBDYWxsYmFjayBQcm9taXNlc1xuICAgICAgICogV2l0aCBBbmd1bGFySlMgMS4zLCBlYWNoIG9mIHRoZSBhbmltYXRpb24gbWV0aG9kcywgb24gdGhlIGAkYW5pbWF0ZWAgc2VydmljZSwgcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGNhbGxlZC4gVGhlXG4gICAgICAgKiBwcm9taXNlIGl0c2VsZiBpcyB0aGVuIHJlc29sdmVkIG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkIGl0c2VsZiwgaGFzIGJlZW4gY2FuY2VsbGVkIG9yIGhhcyBiZWVuXG4gICAgICAgKiBza2lwcGVkIGR1ZSB0byBhbmltYXRpb25zIGJlaW5nIGRpc2FibGVkLiAoTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIGFuaW1hdGlvbiBpcyBjYW5jZWxsZWQgaXQgd2lsbCBzdGlsbFxuICAgICAgICogY2FsbCB0aGUgcmVzb2x2ZSBmdW5jdGlvbiBvZiB0aGUgYW5pbWF0aW9uLilcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgY29udGFpbmVyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICogICAvLy4uLnRoaXMgaXMgY2FsbGVkIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBjb21wbGV0ZS4uLlxuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBBbHNvIG5vdGUgdGhhdCwgZHVlIHRvIHRoZSBuYXR1cmUgb2YgdGhlIGNhbGxiYWNrIHByb21pc2UsIGlmIGFueSBBbmd1bGFyLXNwZWNpZmljIGNvZGUgKGxpa2UgY2hhbmdpbmcgdGhlIHNjb3BlLFxuICAgICAgICogbG9jYXRpb24gb2YgdGhlIHBhZ2UsIGV0Yy4uLikgaXMgZXhlY3V0ZWQgd2l0aGluIHRoZSBjYWxsYmFjayBwcm9taXNlIHRoZW4gYmUgc3VyZSB0byB3cmFwIHRoZSBjb2RlIHVzaW5nXG4gICAgICAgKiBgJHNjb3BlLiRhcHBseSguLi4pYDtcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUubGVhdmUoZWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAqICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAqICAgICAkbG9jYXRpb24ucGF0aCgnL25ldy1wYWdlJyk7XG4gICAgICAgKiAgIH0pO1xuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBBbiBhbmltYXRpb24gY2FuIGFsc28gYmUgY2FuY2VsbGVkIGJ5IGNhbGxpbmcgdGhlIGAkYW5pbWF0ZS5jYW5jZWwocHJvbWlzZSlgIG1ldGhvZCB3aXRoIHRoZSBwcm92aWRlZFxuICAgICAgICogcHJvbWlzZSB0aGF0IHdhcyByZXR1cm5lZCB3aGVuIHRoZSBhbmltYXRpb24gd2FzIHN0YXJ0ZWQuXG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIHZhciBwcm9taXNlID0gJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgJ3N1cGVyLWxvbmctYW5pbWF0aW9uJyk7XG4gICAgICAgKiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgKiAgIC8vdGhpcyB3aWxsIHN0aWxsIGJlIGNhbGxlZCBldmVuIGlmIGNhbmNlbGxlZFxuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAqICAgLy90b29vIGxhenkgdG8gd2FpdCBmb3IgdGhlIGFuaW1hdGlvbiB0byBlbmRcbiAgICAgICAqICAgJGFuaW1hdGUuY2FuY2VsKHByb21pc2UpO1xuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiAoS2VlcCBpbiBtaW5kIHRoYXQgdGhlIHByb21pc2UgY2FuY2VsbGF0aW9uIGlzIHVuaXF1ZSB0byBgJGFuaW1hdGVgIHNpbmNlIHByb21pc2VzIGluXG4gICAgICAgKiBnZW5lcmFsIGNhbm5vdCBiZSBjYW5jZWxsZWQuKVxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjYW5pbWF0ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUGVyZm9ybXMgYW4gaW5saW5lIGFuaW1hdGlvbiBvbiB0aGUgZWxlbWVudCB3aGljaCBhcHBsaWVzIHRoZSBwcm92aWRlZCBgdG9gIGFuZCBgZnJvbWAgQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAgICogSWYgYW55IGRldGVjdGVkIENTUyB0cmFuc2l0aW9uLCBrZXlmcmFtZSBvciBKYXZhU2NyaXB0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGBjbGFzc05hbWVgIHZhbHVlIHRoZW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgKiB3aWxsIHRha2Ugb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lIHRoZW4gdGhlXG4gICAgICAgICAqIHByb3ZpZGVkIGBmcm9tYCBhbmQgYHRvYCBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBpc1xuICAgICAgICAgKiBkZXRlY3RlZCB0aGVuIHRoZSBwcm92aWRlZCBzdHlsZXMgd2lsbCBiZSBnaXZlbiBpbiBhcyBmdW5jdGlvbiBwYXJhbXRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5nTW9kdWxlLmFuaW1hdGlvbignLm15LWlubGluZS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICByZXR1cm4ge1xuICAgICAgICAgKiAgICAgYW5pbWF0ZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZnJvbSwgdG8sIGRvbmUpIHtcbiAgICAgICAgICogICAgICAgLy9zdHlsZXNcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICogICB9XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyB0aGUgYGFuaW1hdGVgIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBBbmltYXRpb24gU3RlcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBXaGF0IHRoZSBlbGVtZW50IGNsYXNzIGF0dHJpYnV0ZSBsb29rcyBsaWtlICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmFuaW1hdGUoLi4uKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDIuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAzLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gdGhlIGBjbGFzc05hbWVgIGNsYXNzIHZhbHVlIGlzIGFkZGVkIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lXCJgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDUuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZVwiYCAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA2LiBgJGFuaW1hdGVgIGJsb2NrcyBhbGwgQ1NTIHRyYW5zaXRpb25zIG9uIHRoZSBlbGVtZW50IHRvIGVuc3VyZSB0aGUgYC5jbGFzc05hbWVgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5fCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWVcImAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCBhcHBsaWVzIHRoZSBwcm92aWRlZCBjb2xsZWN0aW9uIG9mIGBmcm9tYCBDU1Mgc3R5bGVzIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lXCJgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDguIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZVwiYCAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA5LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWVcImAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTAuIHRoZSBgY2xhc3NOYW1lLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lIGNsYXNzTmFtZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDExLiBgJGFuaW1hdGVgIGFwcGxpZXMgdGhlIGNvbGxlY3Rpb24gb2YgYHRvYCBDU1Mgc3R5bGVzIHRvIHRoZSBlbGVtZW50IHdoaWNoIGFyZSB0aGVuIGhhbmRsZWQgYnkgdGhlIHRyYW5zaXRpb24gICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZSBjbGFzc05hbWUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMi4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWUgY2xhc3NOYW1lLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTMuIFRoZSBhbmltYXRpb24gZW5kcyBhbmQgYWxsIGdlbmVyYXRlZCBDU1MgY2xhc3NlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDE0LiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSBhIGNvbGxlY3Rpb24gb2YgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhdCB0aGUgc3RhcnQgb2YgdGhlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gdG8gYSBjb2xsZWN0aW9uIG9mIENTUyBzdHlsZXMgdGhhdCB0aGUgZWxlbWVudCB3aWxsIGFuaW1hdGUgdG93YXJkc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGNsYXNzTmFtZSBhbiBvcHRpb25hbCBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiAodGhlIGRlZmF1bHQgY2xhc3MgaXMgYG5nLWlubGluZS1hbmltYXRlYClcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgJ25nLWlubGluZS1hbmltYXRlJztcbiAgICAgICAgICBvcHRpb25zID0gcGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB8fCB7fTtcbiAgICAgICAgICBvcHRpb25zLmZyb20gPSB0byA/IGZyb20gOiBudWxsO1xuICAgICAgICAgIG9wdGlvbnMudG8gICA9IHRvID8gdG8gOiBmcm9tO1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcmZvcm1BbmltYXRpb24oJ2FuaW1hdGUnLCBjbGFzc05hbWUsIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSwgbnVsbCwgbnVsbCwgbm9vcCwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW50ZXJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFwcGVuZHMgdGhlIGVsZW1lbnQgdG8gdGhlIHBhcmVudEVsZW1lbnQgZWxlbWVudCB0aGF0IHJlc2lkZXMgaW4gdGhlIGRvY3VtZW50IGFuZCB0aGVuIHJ1bnMgdGhlIGVudGVyIGFuaW1hdGlvbi4gT25jZVxuICAgICAgICAgKiB0aGUgYW5pbWF0aW9uIGlzIHN0YXJ0ZWQsIHRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgd2lsbCBiZSBwcmVzZW50IG9uIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBlbnRlciBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmVudGVyKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBlbGVtZW50IGlzIGluc2VydGVkIGludG8gdGhlIGBwYXJlbnRFbGVtZW50YCBlbGVtZW50IG9yIGJlc2lkZSB0aGUgYGFmdGVyRWxlbWVudGAgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gYCRhbmltYXRlYCBydW5zIHRoZSBKYXZhU2NyaXB0LWRlZmluZWQgYW5pbWF0aW9ucyBkZXRlY3RlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5uZy1lbnRlcmAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlclwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWVudGVyXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCBibG9ja3MgYWxsIENTUyB0cmFuc2l0aW9ucyBvbiB0aGUgZWxlbWVudCB0byBlbnN1cmUgdGhlIGAubmctZW50ZXJgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5IHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctZW50ZXJcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA4LiBgJGFuaW1hdGVgIHdhaXRzIGZvciBhIHNpbmdsZSBhbmltYXRpb24gZnJhbWUgKHRoaXMgcGVyZm9ybXMgYSByZWZsb3cpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlclwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIGAkYW5pbWF0ZWAgcmVtb3ZlcyB0aGUgQ1NTIHRyYW5zaXRpb24gYmxvY2sgcGxhY2VkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWVudGVyXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTAuIHRoZSBgLm5nLWVudGVyLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctZW50ZXIgbmctZW50ZXItYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMS4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlciBuZy1lbnRlci1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDEyLiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTMuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIHBhcmVudCBlbGVtZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyRWxlbWVudCB0aGUgc2libGluZyBlbGVtZW50ICh3aGljaCBpcyB0aGUgcHJldmlvdXMgZWxlbWVudCkgb2YgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgZW50ZXIgYW5pbWF0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBpY2tlZCB1cCBieSB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICAqL1xuICAgICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQoYWZ0ZXJFbGVtZW50KTtcblxuICAgICAgICAgIGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICAkZGVsZWdhdGUuZW50ZXIoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVyZm9ybUFuaW1hdGlvbignZW50ZXInLCAnbmctZW50ZXInLCBzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCksIHBhcmVudEVsZW1lbnQsIGFmdGVyRWxlbWVudCwgbm9vcCwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjbGVhdmVcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJ1bnMgdGhlIGxlYXZlIGFuaW1hdGlvbiBvcGVyYXRpb24gYW5kLCB1cG9uIGNvbXBsZXRpb24sIHJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLiBPbmNlXG4gICAgICAgICAqIHRoZSBhbmltYXRpb24gaXMgc3RhcnRlZCwgdGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyB3aWxsIGJlIGFkZGVkIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBsZWF2ZSBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmxlYXZlKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gdGhlIGAubmctbGVhdmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmVcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiBgJGFuaW1hdGVgIHNjYW5zIHRoZSBlbGVtZW50IHN0eWxlcyB0byBnZXQgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbiBkdXJhdGlvbiBhbmQgZGVsYXkgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1sZWF2ZVwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgYmxvY2tzIGFsbCBDU1MgdHJhbnNpdGlvbnMgb24gdGhlIGVsZW1lbnQgdG8gZW5zdXJlIHRoZSBgLm5nLWxlYXZlYCBjbGFzcyBzdHlsaW5nIGlzIGFwcGxpZWQgcmlnaHQgYXdheSB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWxlYXZlXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmVcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA4LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1sZWF2ZVwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIHRoZSBgLm5nLWxlYXZlLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWxlYXZlIG5nLWxlYXZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTAuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmUgbmctbGVhdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMS4gVGhlIGFuaW1hdGlvbiBlbmRzIGFuZCBhbGwgZ2VuZXJhdGVkIENTUyBjbGFzc2VzIGFyZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEyLiBUaGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEzLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgbGVhdmUgYW5pbWF0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGNhbmNlbENoaWxkQW5pbWF0aW9ucyhlbGVtZW50KTtcbiAgICAgICAgICBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcmZvcm1BbmltYXRpb24oJ2xlYXZlJywgJ25nLWxlYXZlJywgc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLCBudWxsLCBudWxsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJGRlbGVnYXRlLmxlYXZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjbW92ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRmlyZXMgdGhlIG1vdmUgRE9NIG9wZXJhdGlvbi4gSnVzdCBiZWZvcmUgdGhlIGFuaW1hdGlvbiBzdGFydHMsIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBlaXRoZXIgYXBwZW5kIGl0IGludG8gdGhlIHBhcmVudEVsZW1lbnQgY29udGFpbmVyIG9yXG4gICAgICAgICAqIGFkZCB0aGUgZWxlbWVudCBkaXJlY3RseSBhZnRlciB0aGUgYWZ0ZXJFbGVtZW50IGVsZW1lbnQgaWYgcHJlc2VudC4gVGhlbiB0aGUgbW92ZSBhbmltYXRpb24gd2lsbCBiZSBydW4uIE9uY2VcbiAgICAgICAgICogdGhlIGFuaW1hdGlvbiBpcyBzdGFydGVkLCB0aGUgZm9sbG93aW5nIENTUyBjbGFzc2VzIHdpbGwgYmUgYWRkZWQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWxvdyBpcyBhIGJyZWFrZG93biBvZiBlYWNoIHN0ZXAgdGhhdCBvY2N1cnMgZHVyaW5nIG1vdmUgYW5pbWF0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IEFuaW1hdGlvbiBTdGVwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5tb3ZlKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMi4gZWxlbWVudCBpcyBtb3ZlZCBpbnRvIHRoZSBwYXJlbnRFbGVtZW50IGVsZW1lbnQgb3IgYmVzaWRlIHRoZSBhZnRlckVsZW1lbnQgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAzLiBgJGFuaW1hdGVgIHdhaXRzIGZvciB0aGUgbmV4dCBkaWdlc3QgdG8gc3RhcnQgdGhlIGFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgcnVucyB0aGUgSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgZGV0ZWN0ZWQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNS4gdGhlIGAubmctbW92ZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlXCJgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA2LiBgJGFuaW1hdGVgIHNjYW5zIHRoZSBlbGVtZW50IHN0eWxlcyB0byBnZXQgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbiBkdXJhdGlvbiBhbmQgZGVsYXkgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLW1vdmVcImAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgYmxvY2tzIGFsbCBDU1MgdHJhbnNpdGlvbnMgb24gdGhlIGVsZW1lbnQgdG8gZW5zdXJlIHRoZSBgLm5nLW1vdmVgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5IHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbW92ZVwiYCAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgOC4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlXCJgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA5LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLW1vdmVcImAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEwLiB0aGUgYC5uZy1tb3ZlLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbW92ZSBuZy1tb3ZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTEuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlIG5nLW1vdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMi4gVGhlIGFuaW1hdGlvbiBlbmRzIGFuZCBhbGwgZ2VuZXJhdGVkIENTUyBjbGFzc2VzIGFyZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEzLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgdGhlIGZvY3VzIG9mIHRoZSBtb3ZlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIHBhcmVudEVsZW1lbnQgZWxlbWVudCBvZiB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgdGhlIGZvY3VzIG9mIHRoZSBtb3ZlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyRWxlbWVudCB0aGUgc2libGluZyBlbGVtZW50ICh3aGljaCBpcyB0aGUgcHJldmlvdXMgZWxlbWVudCkgb2YgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgbW92ZSBhbmltYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygc3R5bGVzIHRoYXQgd2lsbCBiZSBwaWNrZWQgdXAgYnkgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAgKi9cbiAgICAgICAgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQoYWZ0ZXJFbGVtZW50KTtcblxuICAgICAgICAgIGNhbmNlbENoaWxkQW5pbWF0aW9ucyhlbGVtZW50KTtcbiAgICAgICAgICBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgJGRlbGVnYXRlLm1vdmUoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVyZm9ybUFuaW1hdGlvbignbW92ZScsICduZy1tb3ZlJywgc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQsIG5vb3AsIG9wdGlvbnMsIGRvbmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUcmlnZ2VycyBhIGN1c3RvbSBhbmltYXRpb24gZXZlbnQgYmFzZWQgb2ZmIHRoZSBjbGFzc05hbWUgdmFyaWFibGUgYW5kIHRoZW4gYXR0YWNoZXMgdGhlIGNsYXNzTmFtZSB2YWx1ZSB0byB0aGUgZWxlbWVudCBhcyBhIENTUyBjbGFzcy5cbiAgICAgICAgICogVW5saWtlIHRoZSBvdGhlciBhbmltYXRpb24gbWV0aG9kcywgdGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIHN1ZmZpeCB0aGUgY2xhc3NOYW1lIHZhbHVlIHdpdGgge0B0eXBlIC1hZGR9IGluIG9yZGVyIHRvIHByb3ZpZGVcbiAgICAgICAgICogdGhlIGFuaW1hdGUgc2VydmljZSB0aGUgc2V0dXAgYW5kIGFjdGl2ZSBDU1MgY2xhc3NlcyBpbiBvcmRlciB0byB0cmlnZ2VyIHRoZSBhbmltYXRpb24gKHRoaXMgd2lsbCBiZSBza2lwcGVkIGlmIG5vIENTUyB0cmFuc2l0aW9uc1xuICAgICAgICAgKiBvciBrZXlmcmFtZXMgYXJlIGRlZmluZWQgb24gdGhlIC1hZGQtYWN0aXZlIG9yIGJhc2UgQ1NTIGNsYXNzKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBhZGRDbGFzcyBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnc3VwZXInKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMy4gdGhlIGAuc3VwZXItYWRkYCBjbGFzcyBpcyBhZGRlZCB0byB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItYWRkXCJgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIHN1cGVyLWFkZFwiYCAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5zdXBlcmAgYW5kIGAuc3VwZXItYWRkLWFjdGl2ZWAgY2xhc3NlcyBhcmUgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBzdXBlciBzdXBlci1hZGQgc3VwZXItYWRkLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgNi4gYCRhbmltYXRlYCBzY2FucyB0aGUgZWxlbWVudCBzdHlsZXMgdG8gZ2V0IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24gZHVyYXRpb24gYW5kIGRlbGF5ICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXIgc3VwZXItYWRkIHN1cGVyLWFkZC1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIHN1cGVyIHN1cGVyLWFkZCBzdXBlci1hZGQtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCA4LiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gc3VwZXJcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgOS4gVGhlIHN1cGVyIGNsYXNzIGlzIGtlcHQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEwLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBzdXBlclwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50IGFuZCB0aGVuIGFuaW1hdGVkXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIFtdLCBvcHRpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNyZW1vdmVDbGFzc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVHJpZ2dlcnMgYSBjdXN0b20gYW5pbWF0aW9uIGV2ZW50IGJhc2VkIG9mZiB0aGUgY2xhc3NOYW1lIHZhcmlhYmxlIGFuZCB0aGVuIHJlbW92ZXMgdGhlIENTUyBjbGFzcyBwcm92aWRlZCBieSB0aGUgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgICAqIGZyb20gdGhlIGVsZW1lbnQuIFVubGlrZSB0aGUgb3RoZXIgYW5pbWF0aW9uIG1ldGhvZHMsIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBzdWZmaXggdGhlIGNsYXNzTmFtZSB2YWx1ZSB3aXRoIHtAdHlwZSAtcmVtb3ZlfSBpblxuICAgICAgICAgKiBvcmRlciB0byBwcm92aWRlIHRoZSBhbmltYXRlIHNlcnZpY2UgdGhlIHNldHVwIGFuZCBhY3RpdmUgQ1NTIGNsYXNzZXMgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uICh0aGlzIHdpbGwgYmUgc2tpcHBlZCBpZlxuICAgICAgICAgKiBubyBDU1MgdHJhbnNpdGlvbnMgb3Iga2V5ZnJhbWVzIGFyZSBkZWZpbmVkIG9uIHRoZSAtcmVtb3ZlIG9yIGJhc2UgQ1NTIGNsYXNzZXMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWxvdyBpcyBhIGJyZWFrZG93biBvZiBlYWNoIHN0ZXAgdGhhdCBvY2N1cnMgZHVyaW5nIHJlbW92ZUNsYXNzIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBBbmltYXRpb24gU3RlcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFdoYXQgdGhlIGVsZW1lbnQgY2xhc3MgYXR0cmlidXRlIGxvb2tzIGxpa2UgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAnc3VwZXInKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDIuIGAkYW5pbWF0ZWAgcnVucyB0aGUgSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgZGV0ZWN0ZWQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIHRoZSBgLnN1cGVyLXJlbW92ZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlXCJgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlXCJgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDUuIHRoZSBgLnN1cGVyLXJlbW92ZS1hY3RpdmVgIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCBgLnN1cGVyYCBpcyByZW1vdmVkICh0aGlzIHRyaWdnZXJzIHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24pIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDguIFRoZSBhbmltYXRpb24gZW5kcyBhbmQgYWxsIGdlbmVyYXRlZCBDU1MgY2xhc3NlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGFuaW1hdGVkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgYW5pbWF0ZWQgYW5kIHRoZW4gcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LCBbXSwgY2xhc3NOYW1lLCBvcHRpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNzZXRDbGFzc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhbmQvb3IgcmVtb3ZlcyB0aGUgZ2l2ZW4gQ1NTIGNsYXNzZXMgdG8gYW5kIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICAgICAqIE9uY2UgY29tcGxldGUsIHRoZSBgZG9uZSgpYCBjYWxsYmFjayB3aWxsIGJlIGZpcmVkIChpZiBwcm92aWRlZCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBXaGF0IHRoZSBlbGVtZW50IGNsYXNzIGF0dHJpYnV0ZSBsb29rcyBsaWtlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLnNldENsYXNzKGVsZW1lbnQsICdvbicsICdvZmYnKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gb2ZmXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG9mZlwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIHRoZSBgLm9uLWFkZGAgYW5kIGAub2ZmLXJlbW92ZWAgY2xhc3NlcyBhcmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgb24tYWRkIG9mZi1yZW1vdmUgb2ZmXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBvbi1hZGQgb2ZmLXJlbW92ZSBvZmZcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5vbmAsIGAub24tYWRkLWFjdGl2ZWAgYW5kIGAub2ZmLXJlbW92ZS1hY3RpdmVgIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCBgLm9mZmAgaXMgcmVtb3ZlZCAodGhpcyB0cmlnZ2VycyB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uKSB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG9uIG9uLWFkZCBvbi1hZGQtYWN0aXZlIG9mZi1yZW1vdmUgb2ZmLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgb24gb24tYWRkIG9uLWFkZC1hY3RpdmUgb2ZmLXJlbW92ZSBvZmYtcmVtb3ZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBvbiBvbi1hZGQgb24tYWRkLWFjdGl2ZSBvZmYtcmVtb3ZlIG9mZi1yZW1vdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCA4LiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGhhdmUgaXRzIENTUyBjbGFzc2VzIGNoYW5nZWRcbiAgICAgICAgICogICByZW1vdmVkIGZyb20gaXRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3Mgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAgICogICBDU1MgY2xhc3NlcyBoYXZlIGJlZW4gc2V0IG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gcGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAgIHZhciBTVE9SQUdFX0tFWSA9ICckJGFuaW1hdGVDbGFzc2VzJztcbiAgICAgICAgICBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgIGVsZW1lbnQgPSBzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoY2xhc3NCYXNlZEFuaW1hdGlvbnNCbG9ja2VkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gJGRlbGVnYXRlLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gd2UncmUgdXNpbmcgYSBjb21iaW5lZCBhcnJheSBmb3IgYm90aCB0aGUgYWRkIGFuZCByZW1vdmVcbiAgICAgICAgICAvLyBvcGVyYXRpb25zIHNpbmNlIHRoZSBPUkRFUiBPRiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgbWF0dGVyc1xuICAgICAgICAgIHZhciBjbGFzc2VzLCBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgdmFyIGhhc0NhY2hlID0gISFjYWNoZTtcbiAgICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZSA9IHt9O1xuICAgICAgICAgICAgY2FjaGUuY2xhc3NlcyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGFzc2VzID0gY2FjaGUuY2xhc3NlcztcblxuICAgICAgICAgIGFkZCA9IGlzQXJyYXkoYWRkKSA/IGFkZCA6IGFkZC5zcGxpdCgnICcpO1xuICAgICAgICAgIGZvckVhY2goYWRkLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjbGFzc2VzW2NdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlbW92ZSA9IGlzQXJyYXkocmVtb3ZlKSA/IHJlbW92ZSA6IHJlbW92ZS5zcGxpdCgnICcpO1xuICAgICAgICAgIGZvckVhY2gocmVtb3ZlLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjbGFzc2VzW2NdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaGFzQ2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGNhY2hlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgY2FjaGUub3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKGNhY2hlLm9wdGlvbnMgfHwge30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3RoZSBkaWdlc3QgY3ljbGUgd2lsbCBjb21iaW5lIGFsbCB0aGUgYW5pbWF0aW9ucyBpbnRvIG9uZSBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLnByb21pc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSwgY2FjaGUgPSB7XG4gICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjYWNoZS5wcm9taXNlID0gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgICAgICB2YXIgZWxlbWVudE5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGVsZW1lbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAvLyBUT0RPKG1hdHNrbyk6IG1vdmUgdGhpcyBjb2RlIGludG8gdGhlIGFuaW1hdGlvbnNEaXNhYmxlZCgpIGZ1bmN0aW9uIG9uY2UgIzgwOTIgaXMgZml4ZWRcbiAgICAgICAgICAgIGlmICghcGFyZW50Tm9kZSB8fCBwYXJlbnROb2RlWyckJE5HX1JFTU9WRUQnXSB8fCBlbGVtZW50Tm9kZVsnJCROR19SRU1PVkVEJ10pIHtcbiAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZURhdGEoU1RPUkFHRV9LRVkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LCBjYWNoZSwgc3RhdGUuYWN0aXZlKTtcbiAgICAgICAgICAgIHJldHVybiAhY2xhc3Nlc1xuICAgICAgICAgICAgICA/IGRvbmUoKVxuICAgICAgICAgICAgICA6IHBlcmZvcm1BbmltYXRpb24oJ3NldENsYXNzJywgY2xhc3NlcywgZWxlbWVudCwgcGFyZW50RWxlbWVudCwgbnVsbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2xhc3Nlc1swXSkgJGRlbGVnYXRlLiQkYWRkQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBjbGFzc2VzWzBdKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzWzFdKSAkZGVsZWdhdGUuJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsIGNsYXNzZXNbMV0pO1xuICAgICAgICAgICAgICAgIH0sIGNhY2hlLm9wdGlvbnMsIGRvbmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2NhbmNlbFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge1Byb21pc2V9IGFuaW1hdGlvblByb21pc2UgVGhlIGFuaW1hdGlvbiBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RhcnRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENhbmNlbHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgICAgcHJvbWlzZS4kJGNhbmNlbEZuKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW5hYmxlZFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCB0aGVuIHNldCB0aGUgYW5pbWF0aW9uIG9uIG9yIG9mZi5cbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gZWxlbWVudCBJZiBwcm92aWRlZCB0aGVuIHRoZSBlbGVtZW50IHdpbGwgYmUgdXNlZCB0byByZXByZXNlbnQgdGhlIGVuYWJsZS9kaXNhYmxlIG9wZXJhdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDdXJyZW50IGFuaW1hdGlvbiBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEdsb2JhbGx5IGVuYWJsZXMvZGlzYWJsZXMgYW5pbWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgKi9cbiAgICAgICAgZW5hYmxlZDogZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cChlbGVtZW50KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKSB8fCB7fTtcbiAgICAgICAgICAgICAgICBkYXRhLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSwgZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJvb3RBbmltYXRlU3RhdGUuZGlzYWJsZWQgPSAhdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdmFsdWUgPSAhcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gISF2YWx1ZTtcbiAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qXG4gICAgICAgIGFsbCBhbmltYXRpb25zIGNhbGwgdGhpcyBzaGFyZWQgYW5pbWF0aW9uIHRyaWdnZXJpbmcgZnVuY3Rpb24gaW50ZXJuYWxseS5cbiAgICAgICAgVGhlIGFuaW1hdGlvbkV2ZW50IHZhcmlhYmxlIHJlZmVycyB0byB0aGUgSmF2YVNjcmlwdCBhbmltYXRpb24gZXZlbnQgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICAgICAgICBhbmQgdGhlIGNsYXNzTmFtZSB2YWx1ZSBpcyB0aGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHdpdGhpbiB0aGVcbiAgICAgICAgQ1NTIGNvZGUuIEVsZW1lbnQsIGBwYXJlbnRFbGVtZW50YCBhbmQgYGFmdGVyRWxlbWVudGAgYXJlIHByb3ZpZGVkIERPTSBlbGVtZW50cyBmb3IgdGhlIGFuaW1hdGlvblxuICAgICAgICBhbmQgdGhlIG9uQ29tcGxldGUgY2FsbGJhY2sgd2lsbCBiZSBmaXJlZCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXG4gICAgICAqL1xuICAgICAgZnVuY3Rpb24gcGVyZm9ybUFuaW1hdGlvbihhbmltYXRpb25FdmVudCwgY2xhc3NOYW1lLCBlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQsIGRvbU9wZXJhdGlvbiwgb3B0aW9ucywgZG9uZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBub29wQ2FuY2VsID0gbm9vcDtcbiAgICAgICAgdmFyIHJ1bm5lciA9IGFuaW1hdGlvblJ1bm5lcihlbGVtZW50LCBhbmltYXRpb25FdmVudCwgY2xhc3NOYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFydW5uZXIpIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgY2xvc2VBbmltYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gbm9vcENhbmNlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbkV2ZW50ID0gcnVubmVyLmV2ZW50O1xuICAgICAgICBjbGFzc05hbWUgPSBydW5uZXIuY2xhc3NOYW1lO1xuICAgICAgICB2YXIgZWxlbWVudEV2ZW50cyA9IGFuZ3VsYXIuZWxlbWVudC5fZGF0YShydW5uZXIubm9kZSk7XG4gICAgICAgIGVsZW1lbnRFdmVudHMgPSBlbGVtZW50RXZlbnRzICYmIGVsZW1lbnRFdmVudHMuZXZlbnRzO1xuXG4gICAgICAgIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIHBhcmVudEVsZW1lbnQgPSBhZnRlckVsZW1lbnQgPyBhZnRlckVsZW1lbnQucGFyZW50KCkgOiBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9za2lwIHRoZSBhbmltYXRpb24gaWYgYW5pbWF0aW9ucyBhcmUgZGlzYWJsZWQsIGEgcGFyZW50IGlzIGFscmVhZHkgYmVpbmcgYW5pbWF0ZWQsXG4gICAgICAgIC8vdGhlIGVsZW1lbnQgaXMgbm90IGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQgYm9keSBvciB0aGVuIGNvbXBsZXRlbHkgY2xvc2VcbiAgICAgICAgLy90aGUgYW5pbWF0aW9uIGlmIGFueSBtYXRjaGluZyBhbmltYXRpb25zIGFyZSBub3QgZm91bmQgYXQgYWxsLlxuICAgICAgICAvL05PVEU6IElFOCArIElFOSBzaG91bGQgY2xvc2UgcHJvcGVybHkgKHJ1biBjbG9zZUFuaW1hdGlvbigpKSBpbiBjYXNlIGFuIGFuaW1hdGlvbiB3YXMgZm91bmQuXG4gICAgICAgIGlmIChhbmltYXRpb25zRGlzYWJsZWQoZWxlbWVudCwgcGFyZW50RWxlbWVudCkpIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgY2xvc2VBbmltYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gbm9vcENhbmNlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZ0FuaW1hdGVTdGF0ZSAgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgIHZhciBydW5uaW5nQW5pbWF0aW9ucyAgICAgPSBuZ0FuaW1hdGVTdGF0ZS5hY3RpdmUgfHwge307XG4gICAgICAgIHZhciB0b3RhbEFjdGl2ZUFuaW1hdGlvbnMgPSBuZ0FuaW1hdGVTdGF0ZS50b3RhbEFjdGl2ZSB8fCAwO1xuICAgICAgICB2YXIgbGFzdEFuaW1hdGlvbiAgICAgICAgID0gbmdBbmltYXRlU3RhdGUubGFzdDtcbiAgICAgICAgdmFyIHNraXBBbmltYXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodG90YWxBY3RpdmVBbmltYXRpb25zID4gMCkge1xuICAgICAgICAgIHZhciBhbmltYXRpb25zVG9DYW5jZWwgPSBbXTtcbiAgICAgICAgICBpZiAoIXJ1bm5lci5pc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25FdmVudCA9PSAnbGVhdmUnICYmIHJ1bm5pbmdBbmltYXRpb25zWyduZy1sZWF2ZSddKSB7XG4gICAgICAgICAgICAgIHNraXBBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9jYW5jZWwgYWxsIGFuaW1hdGlvbnMgd2hlbiBhIHN0cnVjdHVyYWwgYW5pbWF0aW9uIHRha2VzIHBsYWNlXG4gICAgICAgICAgICAgIGZvciAodmFyIGtsYXNzIGluIHJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uc1RvQ2FuY2VsLnB1c2gocnVubmluZ0FuaW1hdGlvbnNba2xhc3NdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZ0FuaW1hdGVTdGF0ZSA9IHt9O1xuICAgICAgICAgICAgICBjbGVhbnVwKGVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobGFzdEFuaW1hdGlvbi5ldmVudCA9PSAnc2V0Q2xhc3MnKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9DYW5jZWwucHVzaChsYXN0QW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJ1bm5pbmdBbmltYXRpb25zW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gcnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LmV2ZW50ID09IGFuaW1hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICAgIHNraXBBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc1RvQ2FuY2VsLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvQ2FuY2VsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvckVhY2goYW5pbWF0aW9uc1RvQ2FuY2VsLCBmdW5jdGlvbihvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJ1bm5lci5pc0NsYXNzQmFzZWRcbiAgICAgICAgICAgICYmICFydW5uZXIuaXNTZXRDbGFzc09wZXJhdGlvblxuICAgICAgICAgICAgJiYgYW5pbWF0aW9uRXZlbnQgIT0gJ2FuaW1hdGUnXG4gICAgICAgICAgICAmJiAhc2tpcEFuaW1hdGlvbikge1xuICAgICAgICAgIHNraXBBbmltYXRpb24gPSAoYW5pbWF0aW9uRXZlbnQgPT0gJ2FkZENsYXNzJykgPT0gZWxlbWVudC5oYXNDbGFzcyhjbGFzc05hbWUpOyAvL29wcG9zaXRlIG9mIFhPUlxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNraXBBbmltYXRpb24pIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgZmlyZURvbmVDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgcmV0dXJuIG5vb3BDYW5jZWw7XG4gICAgICAgIH1cblxuICAgICAgICBydW5uaW5nQW5pbWF0aW9ucyAgICAgPSBuZ0FuaW1hdGVTdGF0ZS5hY3RpdmUgfHwge307XG4gICAgICAgIHRvdGFsQWN0aXZlQW5pbWF0aW9ucyA9IG5nQW5pbWF0ZVN0YXRlLnRvdGFsQWN0aXZlIHx8IDA7XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbkV2ZW50ID09ICdsZWF2ZScpIHtcbiAgICAgICAgICAvL3RoZXJlJ3Mgbm8gbmVlZCB0byBldmVyIHJlbW92ZSB0aGUgbGlzdGVuZXIgc2luY2UgdGhlIGVsZW1lbnRcbiAgICAgICAgICAvL3dpbGwgYmUgcmVtb3ZlZCAoZGVzdHJveWVkKSBhZnRlciB0aGUgbGVhdmUgYW5pbWF0aW9uIGVuZHMgb3JcbiAgICAgICAgICAvL2lzIGNhbmNlbGxlZCBtaWR3YXlcbiAgICAgICAgICBlbGVtZW50Lm9uZSgnJGRlc3Ryb3knLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICB2YXIgYWN0aXZlTGVhdmVBbmltYXRpb24gPSBzdGF0ZS5hY3RpdmVbJ25nLWxlYXZlJ107XG4gICAgICAgICAgICAgIGlmIChhY3RpdmVMZWF2ZUFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUxlYXZlQW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgJ25nLWxlYXZlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdGhlIG5nLWFuaW1hdGUgY2xhc3MgZG9lcyBub3RoaW5nLCBidXQgaXQncyBoZXJlIHRvIGFsbG93IGZvclxuICAgICAgICAvL3BhcmVudCBhbmltYXRpb25zIHRvIGZpbmQgYW5kIGNhbmNlbCBjaGlsZCBhbmltYXRpb25zIHdoZW4gbmVlZGVkXG4gICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudGVtcENsYXNzZXMpIHtcbiAgICAgICAgICBmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhbEFuaW1hdGlvbkNvdW50ID0gZ2xvYmFsQW5pbWF0aW9uQ291bnRlcisrO1xuICAgICAgICB0b3RhbEFjdGl2ZUFuaW1hdGlvbnMrKztcbiAgICAgICAgcnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXSA9IHJ1bm5lcjtcblxuICAgICAgICBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSwge1xuICAgICAgICAgIGxhc3Q6IHJ1bm5lcixcbiAgICAgICAgICBhY3RpdmU6IHJ1bm5pbmdBbmltYXRpb25zLFxuICAgICAgICAgIGluZGV4OiBsb2NhbEFuaW1hdGlvbkNvdW50LFxuICAgICAgICAgIHRvdGFsQWN0aXZlOiB0b3RhbEFjdGl2ZUFuaW1hdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9maXJzdCB3ZSBydW4gdGhlIGJlZm9yZSBhbmltYXRpb25zIGFuZCB3aGVuIGFsbCBvZiB0aG9zZSBhcmUgY29tcGxldGVcbiAgICAgICAgLy90aGVuIHdlIHBlcmZvcm0gdGhlIERPTSBvcGVyYXRpb24gYW5kIHJ1biB0aGUgbmV4dCBzZXQgb2YgYW5pbWF0aW9uc1xuICAgICAgICBmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpO1xuICAgICAgICBydW5uZXIuYmVmb3JlKGZ1bmN0aW9uKGNhbmNlbGxlZCkge1xuICAgICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO1xuICAgICAgICAgIGNhbmNlbGxlZCA9IGNhbmNlbGxlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEgfHwgIWRhdGEuYWN0aXZlW2NsYXNzTmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChydW5uZXIuaXNDbGFzc0Jhc2VkICYmIGRhdGEuYWN0aXZlW2NsYXNzTmFtZV0uZXZlbnQgIT0gYW5pbWF0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgZmlyZURPTU9wZXJhdGlvbigpO1xuICAgICAgICAgIGlmIChjYW5jZWxsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNsb3NlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpcmVBZnRlckNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICAgIHJ1bm5lci5hZnRlcihjbG9zZUFuaW1hdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcnVubmVyLmNhbmNlbDtcblxuICAgICAgICBmdW5jdGlvbiBmaXJlRE9NQ2FsbGJhY2soYW5pbWF0aW9uUGhhc2UpIHtcbiAgICAgICAgICB2YXIgZXZlbnROYW1lID0gJyRhbmltYXRlOicgKyBhbmltYXRpb25QaGFzZTtcbiAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50cyAmJiBlbGVtZW50RXZlbnRzW2V2ZW50TmFtZV0gJiYgZWxlbWVudEV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQkYXN5bmNDYWxsYmFjayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcihldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBldmVudDogYW5pbWF0aW9uRXZlbnQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpIHtcbiAgICAgICAgICBmaXJlRE9NQ2FsbGJhY2soJ2JlZm9yZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpIHtcbiAgICAgICAgICBmaXJlRE9NQ2FsbGJhY2soJ2FmdGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJlRG9uZUNhbGxiYWNrQXN5bmMoKSB7XG4gICAgICAgICAgZmlyZURPTUNhbGxiYWNrKCdjbG9zZScpO1xuICAgICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pdCBpcyBsZXNzIGNvbXBsaWNhdGVkIHRvIHVzZSBhIGZsYWcgdGhhbiBtYW5hZ2luZyBhbmQgY2FuY2VsaW5nXG4gICAgICAgIC8vdGltZW91dHMgY29udGFpbmluZyBtdWx0aXBsZSBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVET01PcGVyYXRpb24oKSB7XG4gICAgICAgICAgaWYgKCFmaXJlRE9NT3BlcmF0aW9uLmhhc0JlZW5SdW4pIHtcbiAgICAgICAgICAgIGZpcmVET01PcGVyYXRpb24uaGFzQmVlblJ1biA9IHRydWU7XG4gICAgICAgICAgICBkb21PcGVyYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZUFuaW1hdGlvbigpIHtcbiAgICAgICAgICBpZiAoIWNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW4pIHtcbiAgICAgICAgICAgIGlmIChydW5uZXIpIHsgLy90aGUgcnVubmVyIGRvZXNuJ3QgZXhpc3QgaWYgaXQgZmFpbHMgdG8gaW5zdGFudGlhdGVcbiAgICAgICAgICAgICAgcnVubmVyLmFwcGx5U3R5bGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW4gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50ZW1wQ2xhc3Nlcykge1xuICAgICAgICAgICAgICBmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG5cbiAgICAgICAgICAgICAgLyogb25seSBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnMgd2FpdCBmb3IgcmVmbG93IGJlZm9yZSByZW1vdmluZyBhblxuICAgICAgICAgICAgICAgICBhbmltYXRpb24sIGJ1dCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGRvbid0LiBBbiBleGFtcGxlIG9mIHRoaXNcbiAgICAgICAgICAgICAgICAgZmFpbGluZyB3b3VsZCBiZSB3aGVuIGEgcGFyZW50IEhUTUwgdGFnIGhhcyBhIG5nLWNsYXNzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICBjYXVzaW5nIEFMTCBkaXJlY3RpdmVzIGJlbG93IHRvIHNraXAgYW5pbWF0aW9ucyBkdXJpbmcgdGhlIGRpZ2VzdCAqL1xuICAgICAgICAgICAgICBpZiAocnVubmVyICYmIHJ1bm5lci5pc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCRhc3luY0NhbGxiYWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgICAgICAgICAgICBpZiAobG9jYWxBbmltYXRpb25Db3VudCA9PSBkYXRhLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUsIGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJlRG9uZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsQ2hpbGRBbmltYXRpb25zKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgdmFyIG5vZGVzID0gYW5ndWxhci5pc0Z1bmN0aW9uKG5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkgP1xuICAgICAgICAgICAgbm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSkgOlxuICAgICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgICAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgZm9yRWFjaChkYXRhLmFjdGl2ZSwgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhbnVwKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgJHJvb3RFbGVtZW50KSkge1xuICAgICAgICAgIGlmICghcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByb290QW5pbWF0ZVN0YXRlLnN0cnVjdHVyYWwgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG5cbiAgICAgICAgICB2YXIgcmVtb3ZlQW5pbWF0aW9ucyA9IGNsYXNzTmFtZSA9PT0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIXJlbW92ZUFuaW1hdGlvbnMgJiYgZGF0YS5hY3RpdmUgJiYgZGF0YS5hY3RpdmVbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgZGF0YS50b3RhbEFjdGl2ZS0tO1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEuYWN0aXZlW2NsYXNzTmFtZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlbW92ZUFuaW1hdGlvbnMgfHwgIWRhdGEudG90YWxBY3RpdmUpIHtcbiAgICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZURhdGEoTkdfQU5JTUFURV9TVEFURSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGlvbnNEaXNhYmxlZChlbGVtZW50LCBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGlmIChyb290QW5pbWF0ZVN0YXRlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgJHJvb3RFbGVtZW50KSkge1xuICAgICAgICAgIHJldHVybiByb290QW5pbWF0ZVN0YXRlLnJ1bm5pbmc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsb3dDaGlsZEFuaW1hdGlvbnMsIHBhcmVudFJ1bm5pbmdBbmltYXRpb24sIGhhc1BhcmVudDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vdGhlIGVsZW1lbnQgZGlkIG5vdCByZWFjaCB0aGUgcm9vdCBlbGVtZW50IHdoaWNoIG1lYW5zIHRoYXQgaXRcbiAgICAgICAgICAvL2lzIG5vdCBhcGFydCBvZiB0aGUgRE9NLiBUaGVyZWZvcmUgdGhlcmUgaXMgbm8gcmVhc29uIHRvIGRvXG4gICAgICAgICAgLy9hbnkgYW5pbWF0aW9ucyBvbiBpdFxuICAgICAgICAgIGlmIChwYXJlbnRFbGVtZW50Lmxlbmd0aCA9PT0gMCkgYnJlYWs7XG5cbiAgICAgICAgICB2YXIgaXNSb290ID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgICAgICB2YXIgc3RhdGUgPSBpc1Jvb3QgPyByb290QW5pbWF0ZVN0YXRlIDogKHBhcmVudEVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKSB8fCB7fSk7XG4gICAgICAgICAgaWYgKHN0YXRlLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL25vIG1hdHRlciB3aGF0LCBmb3IgYW4gYW5pbWF0aW9uIHRvIHdvcmsgaXQgbXVzdCByZWFjaCB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAgLy90aGlzIGltcGxpZXMgdGhhdCB0aGUgZWxlbWVudCBpcyBhdHRhY2hlZCB0byB0aGUgRE9NIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBydW5cbiAgICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICBoYXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vb25jZSBhIGZsYWcgaXMgZm91bmQgdGhhdCBpcyBzdHJpY3RseSBmYWxzZSB0aGVuIGV2ZXJ5dGhpbmcgYmVmb3JlXG4gICAgICAgICAgLy9pdCB3aWxsIGJlIGRpc2NhcmRlZCBhbmQgYWxsIGNoaWxkIGFuaW1hdGlvbnMgd2lsbCBiZSByZXN0cmljdGVkXG4gICAgICAgICAgaWYgKGFsbG93Q2hpbGRBbmltYXRpb25zICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGVDaGlsZHJlbkZsYWcgPSBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTik7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0ZUNoaWxkcmVuRmxhZykpIHtcbiAgICAgICAgICAgICAgYWxsb3dDaGlsZEFuaW1hdGlvbnMgPSBhbmltYXRlQ2hpbGRyZW5GbGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmVudFJ1bm5pbmdBbmltYXRpb24gPSBwYXJlbnRSdW5uaW5nQW5pbWF0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnJ1bm5pbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRlLmxhc3QgJiYgIXN0YXRlLmxhc3QuaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50KCkpO1xuXG4gICAgICAgIHJldHVybiAhaGFzUGFyZW50IHx8ICghYWxsb3dDaGlsZEFuaW1hdGlvbnMgJiYgcGFyZW50UnVubmluZ0FuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcignJywgWyckd2luZG93JywgJyRzbmlmZmVyJywgJyR0aW1lb3V0JywgJyQkYW5pbWF0ZVJlZmxvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigkd2luZG93LCAgICRzbmlmZmVyLCAgICR0aW1lb3V0LCAgICQkYW5pbWF0ZVJlZmxvdykge1xuICAgICAgLy8gRGV0ZWN0IHByb3BlciB0cmFuc2l0aW9uZW5kL2FuaW1hdGlvbmVuZCBldmVudCBuYW1lcy5cbiAgICAgIHZhciBDU1NfUFJFRklYID0gJycsIFRSQU5TSVRJT05fUFJPUCwgVFJBTlNJVElPTkVORF9FVkVOVCwgQU5JTUFUSU9OX1BST1AsIEFOSU1BVElPTkVORF9FVkVOVDtcblxuICAgICAgLy8gSWYgdW5wcmVmaXhlZCBldmVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgYnV0IHdlYmtpdC1wcmVmaXhlZCBhcmUsIHVzZSB0aGUgbGF0dGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBqdXN0IHVzZSBXM0MgbmFtZXMsIGJyb3dzZXJzIG5vdCBzdXBwb3J0aW5nIHRoZW0gYXQgYWxsIHdpbGwganVzdCBpZ25vcmUgdGhlbS5cbiAgICAgIC8vIE5vdGU6IENocm9tZSBpbXBsZW1lbnRzIGB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmRgIGFuZCBkb2Vzbid0IGltcGxlbWVudCBgd2luZG93Lm9uYW5pbWF0aW9uZW5kYFxuICAgICAgLy8gYnV0IGF0IHRoZSBzYW1lIHRpbWUgZGlzcGF0Y2hlcyB0aGUgYGFuaW1hdGlvbmVuZGAgZXZlbnQgYW5kIG5vdCBgd2Via2l0QW5pbWF0aW9uRW5kYC5cbiAgICAgIC8vIFJlZ2lzdGVyIGJvdGggZXZlbnRzIGluIGNhc2UgYHdpbmRvdy5vbmFuaW1hdGlvbmVuZGAgaXMgbm90IHN1cHBvcnRlZCBiZWNhdXNlIG9mIHRoYXQsXG4gICAgICAvLyBkbyB0aGUgc2FtZSBmb3IgYHRyYW5zaXRpb25lbmRgIGFzIFNhZmFyaSBpcyBsaWtlbHkgdG8gZXhoaWJpdCBzaW1pbGFyIGJlaGF2aW9yLlxuICAgICAgLy8gQWxzbywgdGhlIG9ubHkgbW9kZXJuIGJyb3dzZXIgdGhhdCB1c2VzIHZlbmRvciBwcmVmaXhlcyBmb3IgdHJhbnNpdGlvbnMva2V5ZnJhbWVzIGlzIHdlYmtpdFxuICAgICAgLy8gdGhlcmVmb3JlIHRoZXJlIGlzIG5vIHJlYXNvbiB0byB0ZXN0IGFueW1vcmUgZm9yIG90aGVyIHZlbmRvciBwcmVmaXhlczogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9dHJhbnNpdGlvblxuICAgICAgaWYgKHdpbmRvdy5vbnRyYW5zaXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJiB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gICAgICAgIFRSQU5TSVRJT05fUFJPUCA9ICdXZWJraXRUcmFuc2l0aW9uJztcbiAgICAgICAgVFJBTlNJVElPTkVORF9FVkVOVCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVFJBTlNJVElPTl9QUk9QID0gJ3RyYW5zaXRpb24nO1xuICAgICAgICBUUkFOU0lUSU9ORU5EX0VWRU5UID0gJ3RyYW5zaXRpb25lbmQnO1xuICAgICAgfVxuXG4gICAgICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiYgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gICAgICAgIEFOSU1BVElPTl9QUk9QID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgICAgIEFOSU1BVElPTkVORF9FVkVOVCA9ICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFOSU1BVElPTl9QUk9QID0gJ2FuaW1hdGlvbic7XG4gICAgICAgIEFOSU1BVElPTkVORF9FVkVOVCA9ICdhbmltYXRpb25lbmQnO1xuICAgICAgfVxuXG4gICAgICB2YXIgRFVSQVRJT05fS0VZID0gJ0R1cmF0aW9uJztcbiAgICAgIHZhciBQUk9QRVJUWV9LRVkgPSAnUHJvcGVydHknO1xuICAgICAgdmFyIERFTEFZX0tFWSA9ICdEZWxheSc7XG4gICAgICB2YXIgQU5JTUFUSU9OX0lURVJBVElPTl9DT1VOVF9LRVkgPSAnSXRlcmF0aW9uQ291bnQnO1xuICAgICAgdmFyIEFOSU1BVElPTl9QTEFZU1RBVEVfS0VZID0gJ1BsYXlTdGF0ZSc7XG4gICAgICB2YXIgTkdfQU5JTUFURV9QQVJFTlRfS0VZID0gJyQkbmdBbmltYXRlS2V5JztcbiAgICAgIHZhciBOR19BTklNQVRFX0NTU19EQVRBX0tFWSA9ICckJG5nQW5pbWF0ZUNTUzNEYXRhJztcbiAgICAgIHZhciBFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTID0gMztcbiAgICAgIHZhciBDTE9TSU5HX1RJTUVfQlVGRkVSID0gMS41O1xuICAgICAgdmFyIE9ORV9TRUNPTkQgPSAxMDAwO1xuXG4gICAgICB2YXIgbG9va3VwQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBwYXJlbnRDb3VudGVyID0gMDtcbiAgICAgIHZhciBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgdmFyIGNhbmNlbEFuaW1hdGlvblJlZmxvdztcbiAgICAgIGZ1bmN0aW9uIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxBbmltYXRpb25SZWZsb3cpIHtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25SZWZsb3cgPSAkJGFuaW1hdGVSZWZsb3coZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uUmVmbG93ID0gbnVsbDtcbiAgICAgICAgICAgIGxvb2t1cENhY2hlID0ge307XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWZ0ZXJSZWZsb3coZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbmNlbEFuaW1hdGlvblJlZmxvdykge1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvblJlZmxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1hdGlvblJlZmxvd1F1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25SZWZsb3cgPSAkJGFuaW1hdGVSZWZsb3coZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yRWFjaChhbmltYXRpb25SZWZsb3dRdWV1ZSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvblJlZmxvdyA9IG51bGw7XG4gICAgICAgICAgbG9va3VwQ2FjaGUgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjbG9zaW5nVGltZXIgPSBudWxsO1xuICAgICAgdmFyIGNsb3NpbmdUaW1lc3RhbXAgPSAwO1xuICAgICAgdmFyIGFuaW1hdGlvbkVsZW1lbnRRdWV1ZSA9IFtdO1xuICAgICAgZnVuY3Rpb24gYW5pbWF0aW9uQ2xvc2VIYW5kbGVyKGVsZW1lbnQsIHRvdGFsVGltZSkge1xuICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChub2RlKTtcblxuICAgICAgICAvL3RoaXMgaXRlbSB3aWxsIGJlIGdhcmJhZ2UgY29sbGVjdGVkIGJ5IHRoZSBjbG9zaW5nXG4gICAgICAgIC8vYW5pbWF0aW9uIHRpbWVvdXRcbiAgICAgICAgYW5pbWF0aW9uRWxlbWVudFF1ZXVlLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgLy9idXQgaXQgbWF5IG5vdCBuZWVkIHRvIGNhbmNlbCBvdXQgdGhlIGV4aXN0aW5nIHRpbWVvdXRcbiAgICAgICAgLy9pZiB0aGUgdGltZXN0YW1wIGlzIGxlc3MgdGhhbiB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIHZhciBmdXR1cmVUaW1lc3RhbXAgPSBEYXRlLm5vdygpICsgdG90YWxUaW1lO1xuICAgICAgICBpZiAoZnV0dXJlVGltZXN0YW1wIDw9IGNsb3NpbmdUaW1lc3RhbXApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkdGltZW91dC5jYW5jZWwoY2xvc2luZ1RpbWVyKTtcblxuICAgICAgICBjbG9zaW5nVGltZXN0YW1wID0gZnV0dXJlVGltZXN0YW1wO1xuICAgICAgICBjbG9zaW5nVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjbG9zZUFsbEFuaW1hdGlvbnMoYW5pbWF0aW9uRWxlbWVudFF1ZXVlKTtcbiAgICAgICAgICBhbmltYXRpb25FbGVtZW50UXVldWUgPSBbXTtcbiAgICAgICAgfSwgdG90YWxUaW1lLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsb3NlQWxsQW5pbWF0aW9ucyhlbGVtZW50cykge1xuICAgICAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnREYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtcbiAgICAgICAgICBpZiAoZWxlbWVudERhdGEpIHtcbiAgICAgICAgICAgIGZvckVhY2goZWxlbWVudERhdGEuY2xvc2VBbmltYXRpb25GbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBjYWNoZUtleSkge1xuICAgICAgICB2YXIgZGF0YSA9IGNhY2hlS2V5ID8gbG9va3VwQ2FjaGVbY2FjaGVLZXldIDogbnVsbDtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IDA7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25EZWxheSA9IDA7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMDtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uRGVsYXkgPSAwO1xuXG4gICAgICAgICAgLy93ZSB3YW50IGFsbCB0aGUgc3R5bGVzIGRlZmluZWQgYmVmb3JlIGFuZCBhZnRlclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50U3R5bGVzID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHx8IHt9O1xuXG4gICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb25TdHlsZSA9IGVsZW1lbnRTdHlsZXNbVFJBTlNJVElPTl9QUk9QICsgRFVSQVRJT05fS0VZXTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgocGFyc2VNYXhUaW1lKHRyYW5zaXRpb25EdXJhdGlvblN0eWxlKSwgdHJhbnNpdGlvbkR1cmF0aW9uKTtcblxuICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkRlbGF5U3R5bGUgPSBlbGVtZW50U3R5bGVzW1RSQU5TSVRJT05fUFJPUCArIERFTEFZX0tFWV07XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25EZWxheSAgPSBNYXRoLm1heChwYXJzZU1heFRpbWUodHJhbnNpdGlvbkRlbGF5U3R5bGUpLCB0cmFuc2l0aW9uRGVsYXkpO1xuXG4gICAgICAgICAgICAgIHZhciBhbmltYXRpb25EZWxheVN0eWxlID0gZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWV07XG4gICAgICAgICAgICAgIGFuaW1hdGlvbkRlbGF5ICAgPSBNYXRoLm1heChwYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWV0pLCBhbmltYXRpb25EZWxheSk7XG5cbiAgICAgICAgICAgICAgdmFyIGFEdXJhdGlvbiAgPSBwYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERVUkFUSU9OX0tFWV0pO1xuXG4gICAgICAgICAgICAgIGlmIChhRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgYUR1cmF0aW9uICo9IHBhcnNlSW50KGVsZW1lbnRTdHlsZXNbQU5JTUFUSU9OX1BST1AgKyBBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWV0sIDEwKSB8fCAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgoYUR1cmF0aW9uLCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkRlbGF5OiB0cmFuc2l0aW9uRGVsYXksXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBhbmltYXRpb25EZWxheSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvblxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgICAgICBsb29rdXBDYWNoZVtjYWNoZUtleV0gPSBkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VNYXhUaW1lKHN0cikge1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAwO1xuICAgICAgICB2YXIgdmFsdWVzID0gaXNTdHJpbmcoc3RyKSA/XG4gICAgICAgICAgc3RyLnNwbGl0KC9cXHMqLFxccyovKSA6XG4gICAgICAgICAgW107XG4gICAgICAgIGZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXgocGFyc2VGbG9hdCh2YWx1ZSkgfHwgMCwgbWF4VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1heFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDYWNoZUtleShlbGVtZW50KSB7XG4gICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgdmFyIHBhcmVudElEID0gcGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUEFSRU5UX0tFWSk7XG4gICAgICAgIGlmICghcGFyZW50SUQpIHtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QQVJFTlRfS0VZLCArK3BhcmVudENvdW50ZXIpO1xuICAgICAgICAgIHBhcmVudElEID0gcGFyZW50Q291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50SUQgKyAnLScgKyBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbmltYXRlU2V0dXAoYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgc3R5bGVzKSB7XG4gICAgICAgIHZhciBzdHJ1Y3R1cmFsID0gWyduZy1lbnRlcicsJ25nLWxlYXZlJywnbmctbW92ZSddLmluZGV4T2YoY2xhc3NOYW1lKSA+PSAwO1xuXG4gICAgICAgIHZhciBjYWNoZUtleSA9IGdldENhY2hlS2V5KGVsZW1lbnQpO1xuICAgICAgICB2YXIgZXZlbnRDYWNoZUtleSA9IGNhY2hlS2V5ICsgJyAnICsgY2xhc3NOYW1lO1xuICAgICAgICB2YXIgaXRlbUluZGV4ID0gbG9va3VwQ2FjaGVbZXZlbnRDYWNoZUtleV0gPyArK2xvb2t1cENhY2hlW2V2ZW50Q2FjaGVLZXldLnRvdGFsIDogMDtcblxuICAgICAgICB2YXIgc3RhZ2dlciA9IHt9O1xuICAgICAgICBpZiAoaXRlbUluZGV4ID4gMCkge1xuICAgICAgICAgIHZhciBzdGFnZ2VyQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1zdGFnZ2VyJztcbiAgICAgICAgICB2YXIgc3RhZ2dlckNhY2hlS2V5ID0gY2FjaGVLZXkgKyAnICcgKyBzdGFnZ2VyQ2xhc3NOYW1lO1xuICAgICAgICAgIHZhciBhcHBseUNsYXNzZXMgPSAhbG9va3VwQ2FjaGVbc3RhZ2dlckNhY2hlS2V5XTtcblxuICAgICAgICAgIGFwcGx5Q2xhc3NlcyAmJiAkJGpxTGl0ZS5hZGRDbGFzcyhlbGVtZW50LCBzdGFnZ2VyQ2xhc3NOYW1lKTtcblxuICAgICAgICAgIHN0YWdnZXIgPSBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBzdGFnZ2VyQ2FjaGVLZXkpO1xuXG4gICAgICAgICAgYXBwbHlDbGFzc2VzICYmICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHN0YWdnZXJDbGFzc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblxuICAgICAgICB2YXIgZm9ybWVyRGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSkgfHwge307XG4gICAgICAgIHZhciB0aW1pbmdzID0gZ2V0RWxlbWVudEFuaW1hdGlvbkRldGFpbHMoZWxlbWVudCwgZXZlbnRDYWNoZUtleSk7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbjtcblxuICAgICAgICBpZiAoc3RydWN0dXJhbCAmJiB0cmFuc2l0aW9uRHVyYXRpb24gPT09IDAgJiYgYW5pbWF0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBibG9ja1RyYW5zaXRpb24gPSBzdHlsZXMgfHwgKHN0cnVjdHVyYWwgJiYgdHJhbnNpdGlvbkR1cmF0aW9uID4gMCk7XG4gICAgICAgIHZhciBibG9ja0FuaW1hdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkRlbGF5ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkR1cmF0aW9uID09PSAwO1xuXG4gICAgICAgIHZhciBjbG9zZUFuaW1hdGlvbkZucyA9IGZvcm1lckRhdGEuY2xvc2VBbmltYXRpb25GbnMgfHwgW107XG4gICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSwge1xuICAgICAgICAgIHN0YWdnZXI6IHN0YWdnZXIsXG4gICAgICAgICAgY2FjaGVLZXk6IGV2ZW50Q2FjaGVLZXksXG4gICAgICAgICAgcnVubmluZzogZm9ybWVyRGF0YS5ydW5uaW5nIHx8IDAsXG4gICAgICAgICAgaXRlbUluZGV4OiBpdGVtSW5kZXgsXG4gICAgICAgICAgYmxvY2tUcmFuc2l0aW9uOiBibG9ja1RyYW5zaXRpb24sXG4gICAgICAgICAgY2xvc2VBbmltYXRpb25GbnM6IGNsb3NlQW5pbWF0aW9uRm5zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBub2RlID0gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChibG9ja1RyYW5zaXRpb24pIHtcbiAgICAgICAgICBibG9ja1RyYW5zaXRpb25zKG5vZGUsIHRydWUpO1xuICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJsb2NrQW5pbWF0aW9uKSB7XG4gICAgICAgICAgYmxvY2tBbmltYXRpb25zKG5vZGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGVSdW4oYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcykge1xuICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgdmFyIGVsZW1lbnREYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtcbiAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoY2xhc3NOYW1lKSA9PSAtMSB8fCAhZWxlbWVudERhdGEpIHtcbiAgICAgICAgICBhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSAnJztcbiAgICAgICAgdmFyIHBlbmRpbmdDbGFzc05hbWUgPSAnJztcbiAgICAgICAgZm9yRWFjaChjbGFzc05hbWUuc3BsaXQoJyAnKSwgZnVuY3Rpb24oa2xhc3MsIGkpIHtcbiAgICAgICAgICB2YXIgcHJlZml4ID0gKGkgPiAwID8gJyAnIDogJycpICsga2xhc3M7XG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lICs9IHByZWZpeCArICctYWN0aXZlJztcbiAgICAgICAgICBwZW5kaW5nQ2xhc3NOYW1lICs9IHByZWZpeCArICctcGVuZGluZyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzdHlsZSA9ICcnO1xuICAgICAgICB2YXIgYXBwbGllZFN0eWxlcyA9IFtdO1xuICAgICAgICB2YXIgaXRlbUluZGV4ID0gZWxlbWVudERhdGEuaXRlbUluZGV4O1xuICAgICAgICB2YXIgc3RhZ2dlciA9IGVsZW1lbnREYXRhLnN0YWdnZXI7XG4gICAgICAgIHZhciBzdGFnZ2VyVGltZSA9IDA7XG4gICAgICAgIGlmIChpdGVtSW5kZXggPiAwKSB7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25TdGFnZ2VyRGVsYXkgPSAwO1xuICAgICAgICAgIGlmIChzdGFnZ2VyLnRyYW5zaXRpb25EZWxheSA+IDAgJiYgc3RhZ2dlci50cmFuc2l0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25TdGFnZ2VyRGVsYXkgPSBzdGFnZ2VyLnRyYW5zaXRpb25EZWxheSAqIGl0ZW1JbmRleDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYW5pbWF0aW9uU3RhZ2dlckRlbGF5ID0gMDtcbiAgICAgICAgICBpZiAoc3RhZ2dlci5hbmltYXRpb25EZWxheSA+IDAgJiYgc3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgYW5pbWF0aW9uU3RhZ2dlckRlbGF5ID0gc3RhZ2dlci5hbmltYXRpb25EZWxheSAqIGl0ZW1JbmRleDtcbiAgICAgICAgICAgIGFwcGxpZWRTdHlsZXMucHVzaChDU1NfUFJFRklYICsgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RhZ2dlclRpbWUgPSBNYXRoLnJvdW5kKE1hdGgubWF4KHRyYW5zaXRpb25TdGFnZ2VyRGVsYXksIGFuaW1hdGlvblN0YWdnZXJEZWxheSkgKiAxMDApIC8gMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFnZ2VyVGltZSkge1xuICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnREYXRhLmJsb2NrVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgYmxvY2tUcmFuc2l0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50Q2FjaGVLZXkgPSBlbGVtZW50RGF0YS5jYWNoZUtleSArICcgJyArIGFjdGl2ZUNsYXNzTmFtZTtcbiAgICAgICAgdmFyIHRpbWluZ3MgPSBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBldmVudENhY2hlS2V5KTtcbiAgICAgICAgdmFyIG1heER1cmF0aW9uID0gTWF0aC5tYXgodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24sIHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICBpZiAobWF4RHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhY3RpdmVDbGFzc05hbWUpO1xuICAgICAgICAgIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFnZ2VyVGltZSAmJiBzdHlsZXMgJiYgT2JqZWN0LmtleXMoc3R5bGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKCF0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ3RyYW5zaXRpb24nLCB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uICsgJ3MgbGluZWFyIGFsbCcpO1xuICAgICAgICAgICAgYXBwbGllZFN0eWxlcy5wdXNoKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF4RGVsYXkgPSBNYXRoLm1heCh0aW1pbmdzLnRyYW5zaXRpb25EZWxheSwgdGltaW5ncy5hbmltYXRpb25EZWxheSk7XG4gICAgICAgIHZhciBtYXhEZWxheVRpbWUgPSBtYXhEZWxheSAqIE9ORV9TRUNPTkQ7XG5cbiAgICAgICAgaWYgKGFwcGxpZWRTdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vdGhlIGVsZW1lbnQgYmVpbmcgYW5pbWF0ZWQgbWF5IHNvbWV0aW1lcyBjb250YWluIGNvbW1lbnQgbm9kZXMgaW5cbiAgICAgICAgICAvL3RoZSBqcUxpdGUgb2JqZWN0LCBzbyB3ZSdyZSBzYWZlIHRvIHVzZSBhIHNpbmdsZSB2YXJpYWJsZSB0byBob3VzZVxuICAgICAgICAgIC8vdGhlIHN0eWxlcyBzaW5jZSB0aGVyZSBpcyBhbHdheXMgb25seSBvbmUgZWxlbWVudCBiZWluZyBhbmltYXRlZFxuICAgICAgICAgIHZhciBvbGRTdHlsZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnO1xuICAgICAgICAgIGlmIChvbGRTdHlsZS5jaGFyQXQob2xkU3R5bGUubGVuZ3RoIC0gMSkgIT09ICc7Jykge1xuICAgICAgICAgICAgb2xkU3R5bGUgKz0gJzsnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBvbGRTdHlsZSArICcgJyArIHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgY3NzM0FuaW1hdGlvbkV2ZW50cyA9IEFOSU1BVElPTkVORF9FVkVOVCArICcgJyArIFRSQU5TSVRJT05FTkRfRVZFTlQ7XG4gICAgICAgIHZhciBhbmltYXRpb25UaW1lICAgICA9IChtYXhEZWxheSArIG1heER1cmF0aW9uKSAqIENMT1NJTkdfVElNRV9CVUZGRVI7XG4gICAgICAgIHZhciB0b3RhbFRpbWUgICAgICAgICA9IChzdGFnZ2VyVGltZSArIGFuaW1hdGlvblRpbWUpICogT05FX1NFQ09ORDtcblxuICAgICAgICB2YXIgc3RhZ2dlclRpbWVvdXQ7XG4gICAgICAgIGlmIChzdGFnZ2VyVGltZSA+IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5hZGRDbGFzcyhlbGVtZW50LCBwZW5kaW5nQ2xhc3NOYW1lKTtcbiAgICAgICAgICBzdGFnZ2VyVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3RhZ2dlclRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgIGJsb2NrQW5pbWF0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBwZW5kaW5nQ2xhc3NOYW1lKTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygndHJhbnNpdGlvbicsIHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gKyAncyBsaW5lYXIgYWxsJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxlbWVudC5jc3Moc3R5bGVzKTtcbiAgICAgICAgICAgICAgYXBwbGllZFN0eWxlcy5wdXNoKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgc3RhZ2dlclRpbWUgKiBPTkVfU0VDT05ELCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50Lm9uKGNzczNBbmltYXRpb25FdmVudHMsIG9uQW5pbWF0aW9uUHJvZ3Jlc3MpO1xuICAgICAgICBlbGVtZW50RGF0YS5jbG9zZUFuaW1hdGlvbkZucy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG9uRW5kKCk7XG4gICAgICAgICAgYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudERhdGEucnVubmluZysrO1xuICAgICAgICBhbmltYXRpb25DbG9zZUhhbmRsZXIoZWxlbWVudCwgdG90YWxUaW1lKTtcbiAgICAgICAgcmV0dXJuIG9uRW5kO1xuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNhbGxlZCBieSAkYW5pbWF0ZSBzb1xuICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGF0dGFjaCB0aGlzIGludGVybmFsbHkgdG8gdGhlXG4gICAgICAgIC8vIHRpbWVvdXQgZG9uZSBtZXRob2QuXG4gICAgICAgIGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQub2ZmKGNzczNBbmltYXRpb25FdmVudHMsIG9uQW5pbWF0aW9uUHJvZ3Jlc3MpO1xuICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgcGVuZGluZ0NsYXNzTmFtZSk7XG4gICAgICAgICAgaWYgKHN0YWdnZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoc3RhZ2dlclRpbWVvdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbmltYXRlQ2xvc2UoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgICBmb3IgKHZhciBpIGluIGFwcGxpZWRTdHlsZXMpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoYXBwbGllZFN0eWxlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25BbmltYXRpb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHZhciBldiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQ7XG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IGV2LiRtYW51YWxUaW1lU3RhbXAgfHwgZXYudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cbiAgICAgICAgICAvKiBGaXJlZm94IChvciBwb3NzaWJseSBqdXN0IEdlY2tvKSBsaWtlcyB0byBub3Qgcm91bmQgdmFsdWVzIHVwXG4gICAgICAgICAgICogd2hlbiBhIG1zIG1lYXN1cmVtZW50IGlzIHVzZWQgZm9yIHRoZSBhbmltYXRpb24gKi9cbiAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwYXJzZUZsb2F0KGV2LmVsYXBzZWRUaW1lLnRvRml4ZWQoRUxBUFNFRF9USU1FX01BWF9ERUNJTUFMX1BMQUNFUykpO1xuXG4gICAgICAgICAgLyogJG1hbnVhbFRpbWVTdGFtcCBpcyBhIG1vY2tlZCB0aW1lU3RhbXAgdmFsdWUgd2hpY2ggaXMgc2V0XG4gICAgICAgICAgICogd2l0aGluIGJyb3dzZXJUcmlnZ2VyKCkuIFRoaXMgaXMgb25seSBoZXJlIHNvIHRoYXQgdGVzdHMgY2FuXG4gICAgICAgICAgICogbW9jayBhbmltYXRpb25zIHByb3Blcmx5LiBSZWFsIGV2ZW50cyBmYWxsYmFjayB0byBldmVudC50aW1lU3RhbXAsXG4gICAgICAgICAgICogb3IsIGlmIHRoZXkgZG9uJ3QsIHRoZW4gYSB0aW1lU3RhbXAgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGZvciB0aGVtLlxuICAgICAgICAgICAqIFdlJ3JlIGNoZWNraW5nIHRvIHNlZSBpZiB0aGUgdGltZVN0YW1wIHN1cnBhc3NlcyB0aGUgZXhwZWN0ZWQgZGVsYXksXG4gICAgICAgICAgICogYnV0IHdlJ3JlIHVzaW5nIGVsYXBzZWRUaW1lIGluc3RlYWQgb2YgdGhlIHRpbWVTdGFtcCBvbiB0aGUgMm5kXG4gICAgICAgICAgICogcHJlLWNvbmRpdGlvbiBzaW5jZSBhbmltYXRpb25zIHNvbWV0aW1lcyBjbG9zZSBvZmYgZWFybHkgKi9cbiAgICAgICAgICBpZiAoTWF0aC5tYXgodGltZVN0YW1wIC0gc3RhcnRUaW1lLCAwKSA+PSBtYXhEZWxheVRpbWUgJiYgZWxhcHNlZFRpbWUgPj0gbWF4RHVyYXRpb24pIHtcbiAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgYm9vbCkge1xuICAgICAgICBub2RlLnN0eWxlW1RSQU5TSVRJT05fUFJPUCArIFBST1BFUlRZX0tFWV0gPSBib29sID8gJ25vbmUnIDogJyc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsb2NrQW5pbWF0aW9ucyhub2RlLCBib29sKSB7XG4gICAgICAgIG5vZGUuc3R5bGVbQU5JTUFUSU9OX1BST1AgKyBBTklNQVRJT05fUExBWVNUQVRFX0tFWV0gPSBib29sID8gJ3BhdXNlZCcgOiAnJztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYW5pbWF0ZUJlZm9yZShhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBzdHlsZXMpIHtcbiAgICAgICAgaWYgKGFuaW1hdGVTZXR1cChhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBzdHlsZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgY2FuY2VsbGVkICYmIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYW5pbWF0ZUFmdGVyKGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50LCBjbGFzc05hbWUsIGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcykge1xuICAgICAgICBpZiAoZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKSkge1xuICAgICAgICAgIHJldHVybiBhbmltYXRlUnVuKGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50LCBjbGFzc05hbWUsIGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0ZUNsb3NlKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgYWZ0ZXJBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGUoYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGUsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9JZiB0aGUgYW5pbWF0ZVNldHVwIGZ1bmN0aW9uIGRvZXNuJ3QgYm90aGVyIHJldHVybmluZyBhXG4gICAgICAgIC8vY2FuY2VsbGF0aW9uIGZ1bmN0aW9uIHRoZW4gaXQgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBhbmltYXRpb25cbiAgICAgICAgLy90byBwZXJmb3JtIGF0IGFsbFxuICAgICAgICB2YXIgcHJlUmVmbG93Q2FuY2VsbGF0aW9uID0gYW5pbWF0ZUJlZm9yZShhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20pO1xuICAgICAgICBpZiAoIXByZVJlZmxvd0NhbmNlbGxhdGlvbikge1xuICAgICAgICAgIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpO1xuICAgICAgICAgIGFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9UaGVyZSBhcmUgdHdvIGNhbmNlbGxhdGlvbiBmdW5jdGlvbnM6IG9uZSBpcyBiZWZvcmUgdGhlIGZpcnN0XG4gICAgICAgIC8vcmVmbG93IGFuaW1hdGlvbiBhbmQgdGhlIHNlY29uZCBpcyBkdXJpbmcgdGhlIGFjdGl2ZSBzdGF0ZVxuICAgICAgICAvL2FuaW1hdGlvbi4gVGhlIGZpcnN0IGZ1bmN0aW9uIHdpbGwgdGFrZSBjYXJlIG9mIHJlbW92aW5nIHRoZVxuICAgICAgICAvL2RhdGEgZnJvbSB0aGUgZWxlbWVudCB3aGljaCB3aWxsIG5vdCBtYWtlIHRoZSAybmQgYW5pbWF0aW9uXG4gICAgICAgIC8vaGFwcGVuIGluIHRoZSBmaXJzdCBwbGFjZVxuICAgICAgICB2YXIgY2FuY2VsID0gcHJlUmVmbG93Q2FuY2VsbGF0aW9uO1xuICAgICAgICBhZnRlclJlZmxvdyhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvL29uY2UgdGhlIHJlZmxvdyBpcyBjb21wbGV0ZSB0aGVuIHdlIHBvaW50IGNhbmNlbCB0b1xuICAgICAgICAgIC8vdGhlIG5ldyBjYW5jZWxsYXRpb24gZnVuY3Rpb24gd2hpY2ggd2lsbCByZW1vdmUgYWxsIG9mIHRoZVxuICAgICAgICAgIC8vYW5pbWF0aW9uIHByb3BlcnRpZXMgZnJvbSB0aGUgYWN0aXZlIGFuaW1hdGlvblxuICAgICAgICAgIGNhbmNlbCA9IGFuaW1hdGVBZnRlcihhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZSwgb3B0aW9ucy50byk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYW5jZWxsZWQpIHtcbiAgICAgICAgICAoY2FuY2VsIHx8IG5vb3ApKGNhbmNlbGxlZCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgIGRhdGEucnVubmluZy0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRhdGEucnVubmluZyB8fCBkYXRhLnJ1bm5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZnJvbSwgdG8sIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgICAgICAgb3B0aW9ucy50byA9IHRvO1xuICAgICAgICAgIHJldHVybiBhbmltYXRlKCdhbmltYXRlJywgZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbihlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZSgnZW50ZXInLCBlbGVtZW50LCAnbmctZW50ZXInLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZSgnbGVhdmUnLCBlbGVtZW50LCAnbmctbGVhdmUnLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIHJldHVybiBhbmltYXRlKCdtb3ZlJywgZWxlbWVudCwgJ25nLW1vdmUnLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJlZm9yZVNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHN1ZmZpeENsYXNzZXMocmVtb3ZlLCAnLXJlbW92ZScpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4Q2xhc3NlcyhhZGQsICctYWRkJyk7XG4gICAgICAgICAgdmFyIGNhbmNlbGxhdGlvbk1ldGhvZCA9IGFuaW1hdGVCZWZvcmUoJ3NldENsYXNzJywgZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20pO1xuICAgICAgICAgIGlmIChjYW5jZWxsYXRpb25NZXRob2QpIHtcbiAgICAgICAgICAgIGFmdGVyUmVmbG93KGVsZW1lbnQsIGFuaW1hdGlvbkNvbXBsZXRlZCk7XG4gICAgICAgICAgICByZXR1cm4gY2FuY2VsbGF0aW9uTWV0aG9kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKTtcbiAgICAgICAgICBhbmltYXRpb25Db21wbGV0ZWQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgY2FuY2VsbGF0aW9uTWV0aG9kID0gYW5pbWF0ZUJlZm9yZSgnYWRkQ2xhc3MnLCBlbGVtZW50LCBzdWZmaXhDbGFzc2VzKGNsYXNzTmFtZSwgJy1hZGQnKSwgb3B0aW9ucy5mcm9tKTtcbiAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBhZnRlclJlZmxvdyhlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbmNlbGxhdGlvbk1ldGhvZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYXJDYWNoZUFmdGVyUmVmbG93KCk7XG4gICAgICAgICAgYW5pbWF0aW9uQ29tcGxldGVkKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIGNhbmNlbGxhdGlvbk1ldGhvZCA9IGFuaW1hdGVCZWZvcmUoJ3JlbW92ZUNsYXNzJywgZWxlbWVudCwgc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsICctcmVtb3ZlJyksIG9wdGlvbnMuZnJvbSk7XG4gICAgICAgICAgaWYgKGNhbmNlbGxhdGlvbk1ldGhvZCkge1xuICAgICAgICAgICAgYWZ0ZXJSZWZsb3coZWxlbWVudCwgYW5pbWF0aW9uQ29tcGxldGVkKTtcbiAgICAgICAgICAgIHJldHVybiBjYW5jZWxsYXRpb25NZXRob2Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpO1xuICAgICAgICAgIGFuaW1hdGlvbkNvbXBsZXRlZCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgcmVtb3ZlID0gc3VmZml4Q2xhc3NlcyhyZW1vdmUsICctcmVtb3ZlJyk7XG4gICAgICAgICAgYWRkID0gc3VmZml4Q2xhc3NlcyhhZGQsICctYWRkJyk7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHJlbW92ZSArICcgJyArIGFkZDtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZUFmdGVyKCdzZXRDbGFzcycsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zLnRvKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZUFmdGVyKCdhZGRDbGFzcycsIGVsZW1lbnQsIHN1ZmZpeENsYXNzZXMoY2xhc3NOYW1lLCAnLWFkZCcpLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMudG8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIHJldHVybiBhbmltYXRlQWZ0ZXIoJ3JlbW92ZUNsYXNzJywgZWxlbWVudCwgc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsICctcmVtb3ZlJyksIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucy50byk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHN1ZmZpeENsYXNzZXMoY2xhc3Nlcywgc3VmZml4KSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSAnJztcbiAgICAgICAgY2xhc3NlcyA9IGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzLCBpKSB7XG4gICAgICAgICAgaWYgKGtsYXNzICYmIGtsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAoaSA+IDAgPyAnICcgOiAnJykgKyBrbGFzcyArIHN1ZmZpeDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH1dKTtcbiAgfV0pO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlNcbiAqIEB2ZXJzaW9uIHYwLjIuMTNcbiAqIEBsaW5rIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5jb20vXG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSwgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqL1xuXG4vKiBjb21tb25qcyBwYWNrYWdlIG1hbmFnZXIgc3VwcG9ydCAoZWcgY29tcG9uZW50anMpICovXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cyA9PT0gZXhwb3J0cyl7XG4gIG1vZHVsZS5leHBvcnRzID0gJ3VpLnJvdXRlcic7XG59XG5cbihmdW5jdGlvbiAod2luZG93LCBhbmd1bGFyLCB1bmRlZmluZWQpIHtcbi8qanNoaW50IGdsb2JhbHN0cmljdDp0cnVlKi9cbi8qZ2xvYmFsIGFuZ3VsYXI6ZmFsc2UqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNEZWZpbmVkID0gYW5ndWxhci5pc0RlZmluZWQsXG4gICAgaXNGdW5jdGlvbiA9IGFuZ3VsYXIuaXNGdW5jdGlvbixcbiAgICBpc1N0cmluZyA9IGFuZ3VsYXIuaXNTdHJpbmcsXG4gICAgaXNPYmplY3QgPSBhbmd1bGFyLmlzT2JqZWN0LFxuICAgIGlzQXJyYXkgPSBhbmd1bGFyLmlzQXJyYXksXG4gICAgZm9yRWFjaCA9IGFuZ3VsYXIuZm9yRWFjaCxcbiAgICBleHRlbmQgPSBhbmd1bGFyLmV4dGVuZCxcbiAgICBjb3B5ID0gYW5ndWxhci5jb3B5O1xuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChuZXcgKGV4dGVuZChmdW5jdGlvbigpIHt9LCB7IHByb3RvdHlwZTogcGFyZW50IH0pKSgpLCBleHRyYSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlKGRzdCkge1xuICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiAhPT0gZHN0KSB7XG4gICAgICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoIWRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSBkc3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY29tbW9uIGFuY2VzdG9yIHBhdGggYmV0d2VlbiB0d28gc3RhdGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaXJzdCBUaGUgZmlyc3Qgc3RhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vjb25kIFRoZSBzZWNvbmQgc3RhdGUuXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZSBuYW1lcyBpbiBkZXNjZW5kaW5nIG9yZGVyLCBub3QgaW5jbHVkaW5nIHRoZSByb290LlxuICovXG5mdW5jdGlvbiBhbmNlc3RvcnMoZmlyc3QsIHNlY29uZCkge1xuICB2YXIgcGF0aCA9IFtdO1xuXG4gIGZvciAodmFyIG4gaW4gZmlyc3QucGF0aCkge1xuICAgIGlmIChmaXJzdC5wYXRoW25dICE9PSBzZWNvbmQucGF0aFtuXSkgYnJlYWs7XG4gICAgcGF0aC5wdXNoKGZpcnN0LnBhdGhbbl0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIElFOC1zYWZlIHdyYXBwZXIgZm9yIGBPYmplY3Qua2V5cygpYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IEEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyB0aGUga2V5cyBvZiB0aGUgb2JqZWN0IGFzIGFuIGFycmF5LlxuICovXG5mdW5jdGlvbiBvYmplY3RLZXlzKG9iamVjdCkge1xuICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgYW5ndWxhci5mb3JFYWNoKG9iamVjdCwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICByZXN1bHQucHVzaChrZXkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJRTgtc2FmZSB3cmFwcGVyIGZvciBgQXJyYXkucHJvdG90eXBlLmluZGV4T2YoKWAuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQSBKYXZhU2NyaXB0IGFycmF5LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBBIHZhbHVlIHRvIHNlYXJjaCB0aGUgYXJyYXkgZm9yLlxuICogQHJldHVybiB7TnVtYmVyfSBSZXR1cm5zIHRoZSBhcnJheSBpbmRleCB2YWx1ZSBvZiBgdmFsdWVgLCBvciBgLTFgIGlmIG5vdCBwcmVzZW50LlxuICovXG5mdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSwgTnVtYmVyKGFyZ3VtZW50c1syXSkgfHwgMCk7XG4gIH1cbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aCA+Pj4gMCwgZnJvbSA9IE51bWJlcihhcmd1bWVudHNbMl0pIHx8IDA7XG4gIGZyb20gPSAoZnJvbSA8IDApID8gTWF0aC5jZWlsKGZyb20pIDogTWF0aC5mbG9vcihmcm9tKTtcblxuICBpZiAoZnJvbSA8IDApIGZyb20gKz0gbGVuO1xuXG4gIGZvciAoOyBmcm9tIDwgbGVuOyBmcm9tKyspIHtcbiAgICBpZiAoZnJvbSBpbiBhcnJheSAmJiBhcnJheVtmcm9tXSA9PT0gdmFsdWUpIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBNZXJnZXMgYSBzZXQgb2YgcGFyYW1ldGVycyB3aXRoIGFsbCBwYXJhbWV0ZXJzIGluaGVyaXRlZCBiZXR3ZWVuIHRoZSBjb21tb24gcGFyZW50cyBvZiB0aGVcbiAqIGN1cnJlbnQgc3RhdGUgYW5kIGEgZ2l2ZW4gZGVzdGluYXRpb24gc3RhdGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRQYXJhbXMgVGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IHN0YXRlIHBhcmFtZXRlcnMgKCRzdGF0ZVBhcmFtcykuXG4gKiBAcGFyYW0ge09iamVjdH0gbmV3UGFyYW1zIFRoZSBzZXQgb2YgcGFyYW1ldGVycyB3aGljaCB3aWxsIGJlIGNvbXBvc2l0ZWQgd2l0aCBpbmhlcml0ZWQgcGFyYW1zLlxuICogQHBhcmFtIHtPYmplY3R9ICRjdXJyZW50IEludGVybmFsIGRlZmluaXRpb24gb2Ygb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSAkdG8gSW50ZXJuYWwgZGVmaW5pdGlvbiBvZiBvYmplY3QgcmVwcmVzZW50aW5nIHN0YXRlIHRvIHRyYW5zaXRpb24gdG8uXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXRQYXJhbXMoY3VycmVudFBhcmFtcywgbmV3UGFyYW1zLCAkY3VycmVudCwgJHRvKSB7XG4gIHZhciBwYXJlbnRzID0gYW5jZXN0b3JzKCRjdXJyZW50LCAkdG8pLCBwYXJlbnRQYXJhbXMsIGluaGVyaXRlZCA9IHt9LCBpbmhlcml0TGlzdCA9IFtdO1xuXG4gIGZvciAodmFyIGkgaW4gcGFyZW50cykge1xuICAgIGlmICghcGFyZW50c1tpXS5wYXJhbXMpIGNvbnRpbnVlO1xuICAgIHBhcmVudFBhcmFtcyA9IG9iamVjdEtleXMocGFyZW50c1tpXS5wYXJhbXMpO1xuICAgIGlmICghcGFyZW50UGFyYW1zLmxlbmd0aCkgY29udGludWU7XG5cbiAgICBmb3IgKHZhciBqIGluIHBhcmVudFBhcmFtcykge1xuICAgICAgaWYgKGluZGV4T2YoaW5oZXJpdExpc3QsIHBhcmVudFBhcmFtc1tqXSkgPj0gMCkgY29udGludWU7XG4gICAgICBpbmhlcml0TGlzdC5wdXNoKHBhcmVudFBhcmFtc1tqXSk7XG4gICAgICBpbmhlcml0ZWRbcGFyZW50UGFyYW1zW2pdXSA9IGN1cnJlbnRQYXJhbXNbcGFyZW50UGFyYW1zW2pdXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4dGVuZCh7fSwgaW5oZXJpdGVkLCBuZXdQYXJhbXMpO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGEgbm9uLXN0cmljdCBjb21wYXJpc29uIG9mIHRoZSBzdWJzZXQgb2YgdHdvIG9iamVjdHMsIGRlZmluZWQgYnkgYSBsaXN0IG9mIGtleXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIGZpcnN0IG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBzZWNvbmQgb2JqZWN0LlxuICogQHBhcmFtIHtBcnJheX0ga2V5cyBUaGUgbGlzdCBvZiBrZXlzIHdpdGhpbiBlYWNoIG9iamVjdCB0byBjb21wYXJlLiBJZiB0aGUgbGlzdCBpcyBlbXB0eSBvciBub3Qgc3BlY2lmaWVkLFxuICogICAgICAgICAgICAgICAgICAgICBpdCBkZWZhdWx0cyB0byB0aGUgbGlzdCBvZiBrZXlzIGluIGBhYC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBrZXlzIG1hdGNoLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxGb3JLZXlzKGEsIGIsIGtleXMpIHtcbiAgaWYgKCFrZXlzKSB7XG4gICAga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIG4gaW4gYSkga2V5cy5wdXNoKG4pOyAvLyBVc2VkIGluc3RlYWQgb2YgT2JqZWN0LmtleXMoKSBmb3IgSUU4IGNvbXBhdGliaWxpdHlcbiAgfVxuXG4gIGZvciAodmFyIGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGsgPSBrZXlzW2ldO1xuICAgIGlmIChhW2tdICE9IGJba10pIHJldHVybiBmYWxzZTsgLy8gTm90ICc9PT0nLCB2YWx1ZXMgYXJlbid0IG5lY2Vzc2FyaWx5IG5vcm1hbGl6ZWRcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdWJzZXQgb2YgYW4gb2JqZWN0LCBiYXNlZCBvbiBhIGxpc3Qgb2Yga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBrZXlzXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzXG4gKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGEgc3Vic2V0IG9mIGB2YWx1ZXNgLlxuICovXG5mdW5jdGlvbiBmaWx0ZXJCeUtleXMoa2V5cywgdmFsdWVzKSB7XG4gIHZhciBmaWx0ZXJlZCA9IHt9O1xuXG4gIGZvckVhY2goa2V5cywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBmaWx0ZXJlZFtuYW1lXSA9IHZhbHVlc1tuYW1lXTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZDtcbn1cblxuLy8gbGlrZSBfLmluZGV4Qnlcbi8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZSwgb3IgeW91IHdhbnQgbGFzdC1vbmUtaW4gdG8gd2luXG5mdW5jdGlvbiBpbmRleEJ5KGFycmF5LCBwcm9wTmFtZSkge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvckVhY2goYXJyYXksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXN1bHRbaXRlbVtwcm9wTmFtZV1dID0gaXRlbTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4dHJhY3RlZCBmcm9tIHVuZGVyc2NvcmUuanNcbi8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG5mdW5jdGlvbiBwaWNrKG9iaikge1xuICB2YXIgY29weSA9IHt9O1xuICB2YXIga2V5cyA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgZm9yRWFjaChrZXlzLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoa2V5IGluIG9iaikgY29weVtrZXldID0gb2JqW2tleV07XG4gIH0pO1xuICByZXR1cm4gY29weTtcbn1cblxuLy8gZXh0cmFjdGVkIGZyb20gdW5kZXJzY29yZS5qc1xuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9taXR0aW5nIHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuZnVuY3Rpb24gb21pdChvYmopIHtcbiAgdmFyIGNvcHkgPSB7fTtcbiAgdmFyIGtleXMgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaW5kZXhPZihrZXlzLCBrZXkpID09IC0xKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gcGx1Y2soY29sbGVjdGlvbiwga2V5KSB7XG4gIHZhciByZXN1bHQgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gW10gOiB7fTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwgaSkge1xuICAgIHJlc3VsdFtpXSA9IGlzRnVuY3Rpb24oa2V5KSA/IGtleSh2YWwpIDogdmFsW2tleV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGFycmF5ID0gaXNBcnJheShjb2xsZWN0aW9uKTtcbiAgdmFyIHJlc3VsdCA9IGFycmF5ID8gW10gOiB7fTtcbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGkpIHtcbiAgICBpZiAoY2FsbGJhY2sodmFsLCBpKSkge1xuICAgICAgcmVzdWx0W2FycmF5ID8gcmVzdWx0Lmxlbmd0aCA6IGldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IFtdIDoge307XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGkpIHtcbiAgICByZXN1bHRbaV0gPSBjYWxsYmFjayh2YWwsIGkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHVpLnJvdXRlci51dGlsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAjIHVpLnJvdXRlci51dGlsIHN1Yi1tb2R1bGVcbiAqXG4gKiBUaGlzIG1vZHVsZSBpcyBhIGRlcGVuZGVuY3kgb2Ygb3RoZXIgc3ViLW1vZHVsZXMuIERvIG5vdCBpbmNsdWRlIHRoaXMgbW9kdWxlIGFzIGEgZGVwZW5kZW5jeVxuICogaW4geW91ciBhbmd1bGFyIGFwcCAodXNlIHtAbGluayB1aS5yb3V0ZXJ9IG1vZHVsZSBpbnN0ZWFkKS5cbiAqXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcsIFsnbmcnXSk7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5yb3V0ZXIucm91dGVyXG4gKiBcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIudXRpbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogIyB1aS5yb3V0ZXIucm91dGVyIHN1Yi1tb2R1bGVcbiAqXG4gKiBUaGlzIG1vZHVsZSBpcyBhIGRlcGVuZGVuY3kgb2Ygb3RoZXIgc3ViLW1vZHVsZXMuIERvIG5vdCBpbmNsdWRlIHRoaXMgbW9kdWxlIGFzIGEgZGVwZW5kZW5jeVxuICogaW4geW91ciBhbmd1bGFyIGFwcCAodXNlIHtAbGluayB1aS5yb3V0ZXJ9IG1vZHVsZSBpbnN0ZWFkKS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5yb3V0ZXInLCBbJ3VpLnJvdXRlci51dGlsJ10pO1xuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgdWkucm91dGVyLnN0YXRlXG4gKiBcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIucm91dGVyXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICMgdWkucm91dGVyLnN0YXRlIHN1Yi1tb2R1bGVcbiAqXG4gKiBUaGlzIG1vZHVsZSBpcyBhIGRlcGVuZGVuY3kgb2YgdGhlIG1haW4gdWkucm91dGVyIG1vZHVsZS4gRG8gbm90IGluY2x1ZGUgdGhpcyBtb2R1bGUgYXMgYSBkZXBlbmRlbmN5XG4gKiBpbiB5b3VyIGFuZ3VsYXIgYXBwICh1c2Uge0BsaW5rIHVpLnJvdXRlcn0gbW9kdWxlIGluc3RlYWQpLlxuICogXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnLCBbJ3VpLnJvdXRlci5yb3V0ZXInLCAndWkucm91dGVyLnV0aWwnXSk7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5yb3V0ZXJcbiAqXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnN0YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAjIHVpLnJvdXRlclxuICogXG4gKiAjIyBUaGUgbWFpbiBtb2R1bGUgZm9yIHVpLnJvdXRlciBcbiAqIFRoZXJlIGFyZSBzZXZlcmFsIHN1Yi1tb2R1bGVzIGluY2x1ZGVkIHdpdGggdGhlIHVpLnJvdXRlciBtb2R1bGUsIGhvd2V2ZXIgb25seSB0aGlzIG1vZHVsZSBpcyBuZWVkZWRcbiAqIGFzIGEgZGVwZW5kZW5jeSB3aXRoaW4geW91ciBhbmd1bGFyIGFwcC4gVGhlIG90aGVyIG1vZHVsZXMgYXJlIGZvciBvcmdhbml6YXRpb24gcHVycG9zZXMuIFxuICpcbiAqIFRoZSBtb2R1bGVzIGFyZTpcbiAqICogdWkucm91dGVyIC0gdGhlIG1haW4gXCJ1bWJyZWxsYVwiIG1vZHVsZVxuICogKiB1aS5yb3V0ZXIucm91dGVyIC0gXG4gKiBcbiAqICpZb3UnbGwgbmVlZCB0byBpbmNsdWRlICoqb25seSoqIHRoaXMgbW9kdWxlIGFzIHRoZSBkZXBlbmRlbmN5IHdpdGhpbiB5b3VyIGFuZ3VsYXIgYXBwLipcbiAqIFxuICogPHByZT5cbiAqIDwhZG9jdHlwZSBodG1sPlxuICogPGh0bWwgbmctYXBwPVwibXlBcHBcIj5cbiAqIDxoZWFkPlxuICogICA8c2NyaXB0IHNyYz1cImpzL2FuZ3VsYXIuanNcIj48L3NjcmlwdD5cbiAqICAgPCEtLSBJbmNsdWRlIHRoZSB1aS1yb3V0ZXIgc2NyaXB0IC0tPlxuICogICA8c2NyaXB0IHNyYz1cImpzL2FuZ3VsYXItdWktcm91dGVyLm1pbi5qc1wiPjwvc2NyaXB0PlxuICogICA8c2NyaXB0PlxuICogICAgIC8vIC4uLmFuZCBhZGQgJ3VpLnJvdXRlcicgYXMgYSBkZXBlbmRlbmN5XG4gKiAgICAgdmFyIG15QXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gKiAgIDwvc2NyaXB0PlxuICogPC9oZWFkPlxuICogPGJvZHk+XG4gKiA8L2JvZHk+XG4gKiA8L2h0bWw+XG4gKiA8L3ByZT5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlcicsIFsndWkucm91dGVyLnN0YXRlJ10pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLmNvbXBhdCcsIFsndWkucm91dGVyJ10pO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHVpLnJvdXRlci51dGlsLiRyZXNvbHZlXG4gKlxuICogQHJlcXVpcmVzICRxXG4gKiBAcmVxdWlyZXMgJGluamVjdG9yXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNYW5hZ2VzIHJlc29sdXRpb24gb2YgKGFjeWNsaWMpIGdyYXBocyBvZiBwcm9taXNlcy5cbiAqL1xuJFJlc29sdmUuJGluamVjdCA9IFsnJHEnLCAnJGluamVjdG9yJ107XG5mdW5jdGlvbiAkUmVzb2x2ZSggICRxLCAgICAkaW5qZWN0b3IpIHtcbiAgXG4gIHZhciBWSVNJVF9JTl9QUk9HUkVTUyA9IDEsXG4gICAgICBWSVNJVF9ET05FID0gMixcbiAgICAgIE5PVEhJTkcgPSB7fSxcbiAgICAgIE5PX0RFUEVOREVOQ0lFUyA9IFtdLFxuICAgICAgTk9fTE9DQUxTID0gTk9USElORyxcbiAgICAgIE5PX1BBUkVOVCA9IGV4dGVuZCgkcS53aGVuKE5PVEhJTkcpLCB7ICQkcHJvbWlzZXM6IE5PVEhJTkcsICQkdmFsdWVzOiBOT1RISU5HIH0pO1xuICBcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHVpLnJvdXRlci51dGlsLiRyZXNvbHZlI3N0dWR5XG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIudXRpbC4kcmVzb2x2ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3R1ZGllcyBhIHNldCBvZiBpbnZvY2FibGVzIHRoYXQgYXJlIGxpa2VseSB0byBiZSB1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgKiA8cHJlPlxuICAgKiAkcmVzb2x2ZS5zdHVkeShpbnZvY2FibGVzKShsb2NhbHMsIHBhcmVudCwgc2VsZilcbiAgICogPC9wcmU+XG4gICAqIGlzIGVxdWl2YWxlbnQgdG9cbiAgICogPHByZT5cbiAgICogJHJlc29sdmUucmVzb2x2ZShpbnZvY2FibGVzLCBsb2NhbHMsIHBhcmVudCwgc2VsZilcbiAgICogPC9wcmU+XG4gICAqIGJ1dCB0aGUgZm9ybWVyIGlzIG1vcmUgZWZmaWNpZW50IChpbiBmYWN0IGByZXNvbHZlYCBqdXN0IGNhbGxzIGBzdHVkeWAgXG4gICAqIGludGVybmFsbHkpLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW52b2NhYmxlcyBJbnZvY2FibGUgb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gYSBmdW5jdGlvbiB0byBwYXNzIGluIGxvY2FscywgcGFyZW50IGFuZCBzZWxmXG4gICAqL1xuICB0aGlzLnN0dWR5ID0gZnVuY3Rpb24gKGludm9jYWJsZXMpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGludm9jYWJsZXMpKSB0aHJvdyBuZXcgRXJyb3IoXCInaW52b2NhYmxlcycgbXVzdCBiZSBhbiBvYmplY3RcIik7XG4gICAgdmFyIGludm9jYWJsZUtleXMgPSBvYmplY3RLZXlzKGludm9jYWJsZXMgfHwge30pO1xuICAgIFxuICAgIC8vIFBlcmZvcm0gYSB0b3BvbG9naWNhbCBzb3J0IG9mIGludm9jYWJsZXMgdG8gYnVpbGQgYW4gb3JkZXJlZCBwbGFuXG4gICAgdmFyIHBsYW4gPSBbXSwgY3ljbGUgPSBbXSwgdmlzaXRlZCA9IHt9O1xuICAgIGZ1bmN0aW9uIHZpc2l0KHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2aXNpdGVkW2tleV0gPT09IFZJU0lUX0RPTkUpIHJldHVybjtcbiAgICAgIFxuICAgICAgY3ljbGUucHVzaChrZXkpO1xuICAgICAgaWYgKHZpc2l0ZWRba2V5XSA9PT0gVklTSVRfSU5fUFJPR1JFU1MpIHtcbiAgICAgICAgY3ljbGUuc3BsaWNlKDAsIGluZGV4T2YoY3ljbGUsIGtleSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeTogXCIgKyBjeWNsZS5qb2luKFwiIC0+IFwiKSk7XG4gICAgICB9XG4gICAgICB2aXNpdGVkW2tleV0gPSBWSVNJVF9JTl9QUk9HUkVTUztcbiAgICAgIFxuICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICBwbGFuLnB1c2goa2V5LCBbIGZ1bmN0aW9uKCkgeyByZXR1cm4gJGluamVjdG9yLmdldCh2YWx1ZSk7IH1dLCBOT19ERVBFTkRFTkNJRVMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9ICRpbmplY3Rvci5hbm5vdGF0ZSh2YWx1ZSk7XG4gICAgICAgIGZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICBpZiAocGFyYW0gIT09IGtleSAmJiBpbnZvY2FibGVzLmhhc093blByb3BlcnR5KHBhcmFtKSkgdmlzaXQoaW52b2NhYmxlc1twYXJhbV0sIHBhcmFtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYW4ucHVzaChrZXksIHZhbHVlLCBwYXJhbXMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjeWNsZS5wb3AoKTtcbiAgICAgIHZpc2l0ZWRba2V5XSA9IFZJU0lUX0RPTkU7XG4gICAgfVxuICAgIGZvckVhY2goaW52b2NhYmxlcywgdmlzaXQpO1xuICAgIGludm9jYWJsZXMgPSBjeWNsZSA9IHZpc2l0ZWQgPSBudWxsOyAvLyBwbGFuIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWRcbiAgICBcbiAgICBmdW5jdGlvbiBpc1Jlc29sdmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgdmFsdWUudGhlbiAmJiB2YWx1ZS4kJHByb21pc2VzO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxvY2FscywgcGFyZW50LCBzZWxmKSB7XG4gICAgICBpZiAoaXNSZXNvbHZlKGxvY2FscykgJiYgc2VsZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlbGYgPSBwYXJlbnQ7IHBhcmVudCA9IGxvY2FsczsgbG9jYWxzID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghbG9jYWxzKSBsb2NhbHMgPSBOT19MT0NBTFM7XG4gICAgICBlbHNlIGlmICghaXNPYmplY3QobG9jYWxzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInbG9jYWxzJyBtdXN0IGJlIGFuIG9iamVjdFwiKTtcbiAgICAgIH0gICAgICAgXG4gICAgICBpZiAoIXBhcmVudCkgcGFyZW50ID0gTk9fUEFSRU5UO1xuICAgICAgZWxzZSBpZiAoIWlzUmVzb2x2ZShwYXJlbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIidwYXJlbnQnIG11c3QgYmUgYSBwcm9taXNlIHJldHVybmVkIGJ5ICRyZXNvbHZlLnJlc29sdmUoKVwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVG8gY29tcGxldGUgdGhlIG92ZXJhbGwgcmVzb2x1dGlvbiwgd2UgaGF2ZSB0byB3YWl0IGZvciB0aGUgcGFyZW50XG4gICAgICAvLyBwcm9taXNlIGFuZCBmb3IgdGhlIHByb21pc2UgZm9yIGVhY2ggaW52b2thYmxlIGluIG91ciBwbGFuLlxuICAgICAgdmFyIHJlc29sdXRpb24gPSAkcS5kZWZlcigpLFxuICAgICAgICAgIHJlc3VsdCA9IHJlc29sdXRpb24ucHJvbWlzZSxcbiAgICAgICAgICBwcm9taXNlcyA9IHJlc3VsdC4kJHByb21pc2VzID0ge30sXG4gICAgICAgICAgdmFsdWVzID0gZXh0ZW5kKHt9LCBsb2NhbHMpLFxuICAgICAgICAgIHdhaXQgPSAxICsgcGxhbi5sZW5ndGgvMyxcbiAgICAgICAgICBtZXJnZWQgPSBmYWxzZTtcbiAgICAgICAgICBcbiAgICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICAgIC8vIE1lcmdlIHBhcmVudCB2YWx1ZXMgd2UgaGF2ZW4ndCBnb3QgeWV0IGFuZCBwdWJsaXNoIG91ciBvd24gJCR2YWx1ZXNcbiAgICAgICAgaWYgKCEtLXdhaXQpIHtcbiAgICAgICAgICBpZiAoIW1lcmdlZCkgbWVyZ2UodmFsdWVzLCBwYXJlbnQuJCR2YWx1ZXMpOyBcbiAgICAgICAgICByZXN1bHQuJCR2YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgICAgcmVzdWx0LiQkcHJvbWlzZXMgPSByZXN1bHQuJCRwcm9taXNlcyB8fCB0cnVlOyAvLyBrZWVwIGZvciBpc1Jlc29sdmUoKVxuICAgICAgICAgIGRlbGV0ZSByZXN1bHQuJCRpbmhlcml0ZWRWYWx1ZXM7XG4gICAgICAgICAgcmVzb2x1dGlvbi5yZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZmFpbChyZWFzb24pIHtcbiAgICAgICAgcmVzdWx0LiQkZmFpbHVyZSA9IHJlYXNvbjtcbiAgICAgICAgcmVzb2x1dGlvbi5yZWplY3QocmVhc29uKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvcnQtY2lyY3VpdCBpZiBwYXJlbnQgaGFzIGFscmVhZHkgZmFpbGVkXG4gICAgICBpZiAoaXNEZWZpbmVkKHBhcmVudC4kJGZhaWx1cmUpKSB7XG4gICAgICAgIGZhaWwocGFyZW50LiQkZmFpbHVyZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChwYXJlbnQuJCRpbmhlcml0ZWRWYWx1ZXMpIHtcbiAgICAgICAgbWVyZ2UodmFsdWVzLCBvbWl0KHBhcmVudC4kJGluaGVyaXRlZFZhbHVlcywgaW52b2NhYmxlS2V5cykpO1xuICAgICAgfVxuXG4gICAgICAvLyBNZXJnZSBwYXJlbnQgdmFsdWVzIGlmIHRoZSBwYXJlbnQgaGFzIGFscmVhZHkgcmVzb2x2ZWQsIG9yIG1lcmdlXG4gICAgICAvLyBwYXJlbnQgcHJvbWlzZXMgYW5kIHdhaXQgaWYgdGhlIHBhcmVudCByZXNvbHZlIGlzIHN0aWxsIGluIHByb2dyZXNzLlxuICAgICAgZXh0ZW5kKHByb21pc2VzLCBwYXJlbnQuJCRwcm9taXNlcyk7XG4gICAgICBpZiAocGFyZW50LiQkdmFsdWVzKSB7XG4gICAgICAgIG1lcmdlZCA9IG1lcmdlKHZhbHVlcywgb21pdChwYXJlbnQuJCR2YWx1ZXMsIGludm9jYWJsZUtleXMpKTtcbiAgICAgICAgcmVzdWx0LiQkaW5oZXJpdGVkVmFsdWVzID0gb21pdChwYXJlbnQuJCR2YWx1ZXMsIGludm9jYWJsZUtleXMpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGFyZW50LiQkaW5oZXJpdGVkVmFsdWVzKSB7XG4gICAgICAgICAgcmVzdWx0LiQkaW5oZXJpdGVkVmFsdWVzID0gb21pdChwYXJlbnQuJCRpbmhlcml0ZWRWYWx1ZXMsIGludm9jYWJsZUtleXMpO1xuICAgICAgICB9ICAgICAgICBcbiAgICAgICAgcGFyZW50LnRoZW4oZG9uZSwgZmFpbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgZWFjaCBpbnZvY2FibGUgaW4gdGhlIHBsYW4sIGJ1dCBpZ25vcmUgYW55IHdoZXJlIGEgbG9jYWwgb2YgdGhlIHNhbWUgbmFtZSBleGlzdHMuXG4gICAgICBmb3IgKHZhciBpPTAsIGlpPXBsYW4ubGVuZ3RoOyBpPGlpOyBpKz0zKSB7XG4gICAgICAgIGlmIChsb2NhbHMuaGFzT3duUHJvcGVydHkocGxhbltpXSkpIGRvbmUoKTtcbiAgICAgICAgZWxzZSBpbnZva2UocGxhbltpXSwgcGxhbltpKzFdLCBwbGFuW2krMl0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBpbnZva2Uoa2V5LCBpbnZvY2FibGUsIHBhcmFtcykge1xuICAgICAgICAvLyBDcmVhdGUgYSBkZWZlcnJlZCBmb3IgdGhpcyBpbnZvY2F0aW9uLiBGYWlsdXJlcyB3aWxsIHByb3BhZ2F0ZSB0byB0aGUgcmVzb2x1dGlvbiBhcyB3ZWxsLlxuICAgICAgICB2YXIgaW52b2NhdGlvbiA9ICRxLmRlZmVyKCksIHdhaXRQYXJhbXMgPSAwO1xuICAgICAgICBmdW5jdGlvbiBvbmZhaWx1cmUocmVhc29uKSB7XG4gICAgICAgICAgaW52b2NhdGlvbi5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICBmYWlsKHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2FpdCBmb3IgYW55IHBhcmFtZXRlciB0aGF0IHdlIGhhdmUgYSBwcm9taXNlIGZvciAoZWl0aGVyIGZyb20gcGFyZW50IG9yIGZyb20gdGhpc1xuICAgICAgICAvLyByZXNvbHZlOyBpbiB0aGF0IGNhc2Ugc3R1ZHkoKSB3aWxsIGhhdmUgbWFkZSBzdXJlIGl0J3Mgb3JkZXJlZCBiZWZvcmUgdXMgaW4gdGhlIHBsYW4pLlxuICAgICAgICBmb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gKGRlcCkge1xuICAgICAgICAgIGlmIChwcm9taXNlcy5oYXNPd25Qcm9wZXJ0eShkZXApICYmICFsb2NhbHMuaGFzT3duUHJvcGVydHkoZGVwKSkge1xuICAgICAgICAgICAgd2FpdFBhcmFtcysrO1xuICAgICAgICAgICAgcHJvbWlzZXNbZGVwXS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgdmFsdWVzW2RlcF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgIGlmICghKC0td2FpdFBhcmFtcykpIHByb2NlZWQoKTtcbiAgICAgICAgICAgIH0sIG9uZmFpbHVyZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF3YWl0UGFyYW1zKSBwcm9jZWVkKCk7XG4gICAgICAgIGZ1bmN0aW9uIHByb2NlZWQoKSB7XG4gICAgICAgICAgaWYgKGlzRGVmaW5lZChyZXN1bHQuJCRmYWlsdXJlKSkgcmV0dXJuO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnZvY2F0aW9uLnJlc29sdmUoJGluamVjdG9yLmludm9rZShpbnZvY2FibGUsIHNlbGYsIHZhbHVlcykpO1xuICAgICAgICAgICAgaW52b2NhdGlvbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSwgb25mYWlsdXJlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvbmZhaWx1cmUoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFB1Ymxpc2ggcHJvbWlzZSBzeW5jaHJvbm91c2x5OyBpbnZvY2F0aW9ucyBmdXJ0aGVyIGRvd24gaW4gdGhlIHBsYW4gbWF5IGRlcGVuZCBvbiBpdC5cbiAgICAgICAgcHJvbWlzZXNba2V5XSA9IGludm9jYXRpb24ucHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kcmVzb2x2ZSNyZXNvbHZlXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIudXRpbC4kcmVzb2x2ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVzb2x2ZXMgYSBzZXQgb2YgaW52b2NhYmxlcy4gQW4gaW52b2NhYmxlIGlzIGEgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB2aWEgXG4gICAqIGAkaW5qZWN0b3IuaW52b2tlKClgLCBhbmQgY2FuIGhhdmUgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBkZXBlbmRlbmNpZXMuIFxuICAgKiBBbiBpbnZvY2FibGUgY2FuIGVpdGhlciByZXR1cm4gYSB2YWx1ZSBkaXJlY3RseSxcbiAgICogb3IgYSBgJHFgIHByb21pc2UuIElmIGEgcHJvbWlzZSBpcyByZXR1cm5lZCBpdCB3aWxsIGJlIHJlc29sdmVkIGFuZCB0aGUgXG4gICAqIHJlc3VsdGluZyB2YWx1ZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gRGVwZW5kZW5jaWVzIG9mIGludm9jYWJsZXMgYXJlIHJlc29sdmVkIFxuICAgKiAoaW4gdGhpcyBvcmRlciBvZiBwcmVjZWRlbmNlKVxuICAgKlxuICAgKiAtIGZyb20gdGhlIHNwZWNpZmllZCBgbG9jYWxzYFxuICAgKiAtIGZyb20gYW5vdGhlciBpbnZvY2FibGUgdGhhdCBpcyBwYXJ0IG9mIHRoaXMgYCRyZXNvbHZlYCBjYWxsXG4gICAqIC0gZnJvbSBhbiBpbnZvY2FibGUgdGhhdCBpcyBpbmhlcml0ZWQgZnJvbSBhIGBwYXJlbnRgIGNhbGwgdG8gYCRyZXNvbHZlYCBcbiAgICogICAob3IgcmVjdXJzaXZlbHlcbiAgICogLSBmcm9tIGFueSBhbmNlc3RvciBgJHJlc29sdmVgIG9mIHRoYXQgcGFyZW50KS5cbiAgICpcbiAgICogVGhlIHJldHVybiB2YWx1ZSBvZiBgJHJlc29sdmVgIGlzIGEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgXG4gICAqIChpbiB0aGlzIG9yZGVyIG9mIHByZWNlZGVuY2UpXG4gICAqXG4gICAqIC0gYW55IGBsb2NhbHNgIChpZiBzcGVjaWZpZWQpXG4gICAqIC0gdGhlIHJlc29sdmVkIHJldHVybiB2YWx1ZXMgb2YgYWxsIGluamVjdGFibGVzXG4gICAqIC0gYW55IHZhbHVlcyBpbmhlcml0ZWQgZnJvbSBhIGBwYXJlbnRgIGNhbGwgdG8gYCRyZXNvbHZlYCAoaWYgc3BlY2lmaWVkKVxuICAgKlxuICAgKiBUaGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgYWZ0ZXIgdGhlIGBwYXJlbnRgIHByb21pc2UgKGlmIGFueSkgYW5kIGFsbCBwcm9taXNlcyBcbiAgICogcmV0dXJuZWQgYnkgaW5qZWN0YWJsZXMgaGF2ZSBiZWVuIHJlc29sdmVkLiBJZiBhbnkgaW52b2NhYmxlIFxuICAgKiAob3IgYCRpbmplY3Rvci5pbnZva2VgKSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBvciBpZiBhIHByb21pc2UgcmV0dXJuZWQgYnkgYW4gXG4gICAqIGludm9jYWJsZSBpcyByZWplY3RlZCwgdGhlIGAkcmVzb2x2ZWAgcHJvbWlzZSBpcyBpbW1lZGlhdGVseSByZWplY3RlZCB3aXRoIHRoZSBcbiAgICogc2FtZSBlcnJvci4gQSByZWplY3Rpb24gb2YgYSBgcGFyZW50YCBwcm9taXNlIChpZiBzcGVjaWZpZWQpIHdpbGwgbGlrZXdpc2UgYmUgXG4gICAqIHByb3BhZ2F0ZWQgaW1tZWRpYXRlbHkuIE9uY2UgdGhlIGAkcmVzb2x2ZWAgcHJvbWlzZSBoYXMgYmVlbiByZWplY3RlZCwgbm8gXG4gICAqIGZ1cnRoZXIgaW52b2NhYmxlcyB3aWxsIGJlIGNhbGxlZC5cbiAgICogXG4gICAqIEN5Y2xpYyBkZXBlbmRlbmNpZXMgYmV0d2VlbiBpbnZvY2FibGVzIGFyZSBub3QgcGVybWl0dGVkIGFuZCB3aWxsIGNhdWVzIGAkcmVzb2x2ZWBcbiAgICogdG8gdGhyb3cgYW4gZXJyb3IuIEFzIGEgc3BlY2lhbCBjYXNlLCBhbiBpbmplY3RhYmxlIGNhbiBkZXBlbmQgb24gYSBwYXJhbWV0ZXIgXG4gICAqIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgaW5qZWN0YWJsZSwgd2hpY2ggd2lsbCBiZSBmdWxmaWxsZWQgZnJvbSB0aGUgYHBhcmVudGAgXG4gICAqIGluamVjdGFibGUgb2YgdGhlIHNhbWUgbmFtZS4gVGhpcyBhbGxvd3MgaW5oZXJpdGVkIHZhbHVlcyB0byBiZSBkZWNvcmF0ZWQuIFxuICAgKiBOb3RlIHRoYXQgaW4gdGhpcyBjYXNlIGFueSBvdGhlciBpbmplY3RhYmxlIGluIHRoZSBzYW1lIGAkcmVzb2x2ZWAgd2l0aCB0aGUgc2FtZVxuICAgKiBkZXBlbmRlbmN5IHdvdWxkIHNlZSB0aGUgZGVjb3JhdGVkIHZhbHVlLCBub3QgdGhlIGluaGVyaXRlZCB2YWx1ZS5cbiAgICpcbiAgICogTm90ZSB0aGF0IG1pc3NpbmcgZGVwZW5kZW5jaWVzIC0tIHVubGlrZSBjeWNsaWMgZGVwZW5kZW5jaWVzIC0tIHdpbGwgY2F1c2UgYW4gXG4gICAqIChhc3luY2hyb25vdXMpIHJlamVjdGlvbiBvZiB0aGUgYCRyZXNvbHZlYCBwcm9taXNlIHJhdGhlciB0aGFuIGEgKHN5bmNocm9ub3VzKSBcbiAgICogZXhjZXB0aW9uLlxuICAgKlxuICAgKiBJbnZvY2FibGVzIGFyZSBpbnZva2VkIGVhZ2VybHkgYXMgc29vbiBhcyBhbGwgZGVwZW5kZW5jaWVzIGFyZSBhdmFpbGFibGUuIFxuICAgKiBUaGlzIGlzIHRydWUgZXZlbiBmb3IgZGVwZW5kZW5jaWVzIGluaGVyaXRlZCBmcm9tIGEgYHBhcmVudGAgY2FsbCB0byBgJHJlc29sdmVgLlxuICAgKlxuICAgKiBBcyBhIHNwZWNpYWwgY2FzZSwgYW4gaW52b2NhYmxlIGNhbiBiZSBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSBpdCBpcyB0YWtlbiB0byBcbiAgICogYmUgYSBzZXJ2aWNlIG5hbWUgdG8gYmUgcGFzc2VkIHRvIGAkaW5qZWN0b3IuZ2V0KClgLiBUaGlzIGlzIHN1cHBvcnRlZCBwcmltYXJpbHkgXG4gICAqIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBgcmVzb2x2ZWAgcHJvcGVydHkgb2YgYCRyb3V0ZVByb3ZpZGVyYCBcbiAgICogcm91dGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW52b2NhYmxlcyBmdW5jdGlvbnMgdG8gaW52b2tlIG9yIFxuICAgKiBgJGluamVjdG9yYCBzZXJ2aWNlcyB0byBmZXRjaC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGxvY2FscyAgdmFsdWVzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIHRoZSBpbmplY3RhYmxlc1xuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyZW50ICBhIHByb21pc2UgcmV0dXJuZWQgYnkgYW5vdGhlciBjYWxsIHRvIGAkcmVzb2x2ZWAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmICB0aGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2RzXG4gICAqIEByZXR1cm4ge29iamVjdH0gUHJvbWlzZSBmb3IgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHJlc29sdmVkIHJldHVybiB2YWx1ZVxuICAgKiBvZiBhbGwgaW52b2NhYmxlcywgYXMgd2VsbCBhcyBhbnkgaW5oZXJpdGVkIGFuZCBsb2NhbCB2YWx1ZXMuXG4gICAqL1xuICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoaW52b2NhYmxlcywgbG9jYWxzLCBwYXJlbnQsIHNlbGYpIHtcbiAgICByZXR1cm4gdGhpcy5zdHVkeShpbnZvY2FibGVzKShsb2NhbHMsIHBhcmVudCwgc2VsZik7XG4gIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcpLnNlcnZpY2UoJyRyZXNvbHZlJywgJFJlc29sdmUpO1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeVxuICpcbiAqIEByZXF1aXJlcyAkaHR0cFxuICogQHJlcXVpcmVzICR0ZW1wbGF0ZUNhY2hlXG4gKiBAcmVxdWlyZXMgJGluamVjdG9yXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXJ2aWNlLiBNYW5hZ2VzIGxvYWRpbmcgb2YgdGVtcGxhdGVzLlxuICovXG4kVGVtcGxhdGVGYWN0b3J5LiRpbmplY3QgPSBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRpbmplY3RvciddO1xuZnVuY3Rpb24gJFRlbXBsYXRlRmFjdG9yeSggICRodHRwLCAgICR0ZW1wbGF0ZUNhY2hlLCAgICRpbmplY3Rvcikge1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeSNmcm9tQ29uZmlnXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIudXRpbC4kdGVtcGxhdGVGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgZnJvbSBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIG9iamVjdCBmb3Igd2hpY2ggdG8gbG9hZCBhIHRlbXBsYXRlLiBcbiAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBzZWFyY2ggaW4gdGhlIHNwZWNpZmllZCBvcmRlciwgYW5kIHRoZSBmaXJzdCBvbmUgXG4gICAqIHRoYXQgaXMgZGVmaW5lZCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGVtcGxhdGU6XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gY29uZmlnLnRlbXBsYXRlIGh0bWwgc3RyaW5nIHRlbXBsYXRlIG9yIGZ1bmN0aW9uIHRvIFxuICAgKiBsb2FkIHZpYSB7QGxpbmsgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeSNmcm9tU3RyaW5nIGZyb21TdHJpbmd9LlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IGNvbmZpZy50ZW1wbGF0ZVVybCB1cmwgdG8gbG9hZCBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBcbiAgICogdGhlIHVybCB0byBsb2FkIHZpYSB7QGxpbmsgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeSNmcm9tVXJsIGZyb21Vcmx9LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWcudGVtcGxhdGVQcm92aWRlciBmdW5jdGlvbiB0byBpbnZva2UgdmlhIFxuICAgKiB7QGxpbmsgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeSNmcm9tUHJvdmlkZXIgZnJvbVByb3ZpZGVyfS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAgUGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtvYmplY3R9IGxvY2FscyBMb2NhbHMgdG8gcGFzcyB0byBgaW52b2tlYCBpZiB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIFxuICAgKiB2aWEgYSBgdGVtcGxhdGVQcm92aWRlcmAuIERlZmF1bHRzIHRvIGB7IHBhcmFtczogcGFyYW1zIH1gLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSAgVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBmb3IgXG4gICAqIHRoYXQgc3RyaW5nLG9yIGBudWxsYCBpZiBubyB0ZW1wbGF0ZSBpcyBjb25maWd1cmVkLlxuICAgKi9cbiAgdGhpcy5mcm9tQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZywgcGFyYW1zLCBsb2NhbHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNEZWZpbmVkKGNvbmZpZy50ZW1wbGF0ZSkgPyB0aGlzLmZyb21TdHJpbmcoY29uZmlnLnRlbXBsYXRlLCBwYXJhbXMpIDpcbiAgICAgIGlzRGVmaW5lZChjb25maWcudGVtcGxhdGVVcmwpID8gdGhpcy5mcm9tVXJsKGNvbmZpZy50ZW1wbGF0ZVVybCwgcGFyYW1zKSA6XG4gICAgICBpc0RlZmluZWQoY29uZmlnLnRlbXBsYXRlUHJvdmlkZXIpID8gdGhpcy5mcm9tUHJvdmlkZXIoY29uZmlnLnRlbXBsYXRlUHJvdmlkZXIsIHBhcmFtcywgbG9jYWxzKSA6XG4gICAgICBudWxsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHVpLnJvdXRlci51dGlsLiR0ZW1wbGF0ZUZhY3RvcnkjZnJvbVN0cmluZ1xuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIGZyb20gYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gdGVtcGxhdGUgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBmdW5jdGlvbiB0aGF0IFxuICAgKiByZXR1cm5zIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH0gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBmb3IgdGhhdCBcbiAgICogc3RyaW5nLlxuICAgKi9cbiAgdGhpcy5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0ZW1wbGF0ZSkgPyB0ZW1wbGF0ZShwYXJhbXMpIDogdGVtcGxhdGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdGVtcGxhdGVGYWN0b3J5I2Zyb21VcmxcbiAgICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLiR0ZW1wbGF0ZUZhY3RvcnlcbiAgICogXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBMb2FkcyBhIHRlbXBsYXRlIGZyb20gdGhlIGEgVVJMIHZpYSBgJGh0dHBgIGFuZCBgJHRlbXBsYXRlQ2FjaGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbn0gdXJsIHVybCBvZiB0aGUgdGVtcGxhdGUgdG8gbG9hZCwgb3IgYSBmdW5jdGlvbiBcbiAgICogdGhhdCByZXR1cm5zIGEgdXJsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgdXJsIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8UHJvbWlzZS48c3RyaW5nPn0gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBcbiAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy5mcm9tVXJsID0gZnVuY3Rpb24gKHVybCwgcGFyYW1zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odXJsKSkgdXJsID0gdXJsKHBhcmFtcyk7XG4gICAgaWYgKHVybCA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBlbHNlIHJldHVybiAkaHR0cFxuICAgICAgICAuZ2V0KHVybCwgeyBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsIGhlYWRlcnM6IHsgQWNjZXB0OiAndGV4dC9odG1sJyB9fSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmRhdGE7IH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgdWkucm91dGVyLnV0aWwuJHRlbXBsYXRlRmFjdG9yeSNmcm9tUHJvdmlkZXJcbiAgICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLiR0ZW1wbGF0ZUZhY3RvcnlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBieSBpbnZva2luZyBhbiBpbmplY3RhYmxlIHByb3ZpZGVyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlciBGdW5jdGlvbiB0byBpbnZva2UgdmlhIGAkaW5qZWN0b3IuaW52b2tlYFxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBMb2NhbHMgdG8gcGFzcyB0byBgaW52b2tlYC4gRGVmYXVsdHMgdG8gXG4gICAqIGB7IHBhcmFtczogcGFyYW1zIH1gLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8UHJvbWlzZS48c3RyaW5nPn0gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBcbiAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy5mcm9tUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIsIHBhcmFtcywgbG9jYWxzKSB7XG4gICAgcmV0dXJuICRpbmplY3Rvci5pbnZva2UocHJvdmlkZXIsIG51bGwsIGxvY2FscyB8fCB7IHBhcmFtczogcGFyYW1zIH0pO1xuICB9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnV0aWwnKS5zZXJ2aWNlKCckdGVtcGxhdGVGYWN0b3J5JywgJFRlbXBsYXRlRmFjdG9yeSk7XG5cbnZhciAkJFVNRlA7IC8vIHJlZmVyZW5jZSB0byAkVXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTWF0Y2hlcyBVUkxzIGFnYWluc3QgcGF0dGVybnMgYW5kIGV4dHJhY3RzIG5hbWVkIHBhcmFtZXRlcnMgZnJvbSB0aGUgcGF0aCBvciB0aGUgc2VhcmNoXG4gKiBwYXJ0IG9mIHRoZSBVUkwuIEEgVVJMIHBhdHRlcm4gY29uc2lzdHMgb2YgYSBwYXRoIHBhdHRlcm4sIG9wdGlvbmFsbHkgZm9sbG93ZWQgYnkgJz8nIGFuZCBhIGxpc3RcbiAqIG9mIHNlYXJjaCBwYXJhbWV0ZXJzLiBNdWx0aXBsZSBzZWFyY2ggcGFyYW1ldGVyIG5hbWVzIGFyZSBzZXBhcmF0ZWQgYnkgJyYnLiBTZWFyY2ggcGFyYW1ldGVyc1xuICogZG8gbm90IGluZmx1ZW5jZSB3aGV0aGVyIG9yIG5vdCBhIFVSTCBpcyBtYXRjaGVkLCBidXQgdGhlaXIgdmFsdWVzIGFyZSBwYXNzZWQgdGhyb3VnaCBpbnRvXG4gKiB0aGUgbWF0Y2hlZCBwYXJhbWV0ZXJzIHJldHVybmVkIGJ5IHtAbGluayB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjbWV0aG9kc19leGVjIGV4ZWN9LlxuICogXG4gKiBQYXRoIHBhcmFtZXRlciBwbGFjZWhvbGRlcnMgY2FuIGJlIHNwZWNpZmllZCB1c2luZyBzaW1wbGUgY29sb24vY2F0Y2gtYWxsIHN5bnRheCBvciBjdXJseSBicmFjZVxuICogc3ludGF4LCB3aGljaCBvcHRpb25hbGx5IGFsbG93cyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgdGhlIHBhcmFtZXRlciB0byBiZSBzcGVjaWZpZWQ6XG4gKlxuICogKiBgJzonYCBuYW1lIC0gY29sb24gcGxhY2Vob2xkZXJcbiAqICogYCcqJ2AgbmFtZSAtIGNhdGNoLWFsbCBwbGFjZWhvbGRlclxuICogKiBgJ3snIG5hbWUgJ30nYCAtIGN1cmx5IHBsYWNlaG9sZGVyXG4gKiAqIGAneycgbmFtZSAnOicgcmVnZXhwfHR5cGUgJ30nYCAtIGN1cmx5IHBsYWNlaG9sZGVyIHdpdGggcmVnZXhwIG9yIHR5cGUgbmFtZS4gU2hvdWxkIHRoZVxuICogICByZWdleHAgaXRzZWxmIGNvbnRhaW4gY3VybHkgYnJhY2VzLCB0aGV5IG11c3QgYmUgaW4gbWF0Y2hlZCBwYWlycyBvciBlc2NhcGVkIHdpdGggYSBiYWNrc2xhc2guXG4gKlxuICogUGFyYW1ldGVyIG5hbWVzIG1heSBjb250YWluIG9ubHkgd29yZCBjaGFyYWN0ZXJzIChsYXRpbiBsZXR0ZXJzLCBkaWdpdHMsIGFuZCB1bmRlcnNjb3JlKSBhbmRcbiAqIG11c3QgYmUgdW5pcXVlIHdpdGhpbiB0aGUgcGF0dGVybiAoYWNyb3NzIGJvdGggcGF0aCBhbmQgc2VhcmNoIHBhcmFtZXRlcnMpLiBGb3IgY29sb24gXG4gKiBwbGFjZWhvbGRlcnMgb3IgY3VybHkgcGxhY2Vob2xkZXJzIHdpdGhvdXQgYW4gZXhwbGljaXQgcmVnZXhwLCBhIHBhdGggcGFyYW1ldGVyIG1hdGNoZXMgYW55XG4gKiBudW1iZXIgb2YgY2hhcmFjdGVycyBvdGhlciB0aGFuICcvJy4gRm9yIGNhdGNoLWFsbCBwbGFjZWhvbGRlcnMgdGhlIHBhdGggcGFyYW1ldGVyIG1hdGNoZXNcbiAqIGFueSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqIFxuICogRXhhbXBsZXM6XG4gKiBcbiAqICogYCcvaGVsbG8vJ2AgLSBNYXRjaGVzIG9ubHkgaWYgdGhlIHBhdGggaXMgZXhhY3RseSAnL2hlbGxvLycuIFRoZXJlIGlzIG5vIHNwZWNpYWwgdHJlYXRtZW50IGZvclxuICogICB0cmFpbGluZyBzbGFzaGVzLCBhbmQgcGF0dGVybnMgaGF2ZSB0byBtYXRjaCB0aGUgZW50aXJlIHBhdGgsIG5vdCBqdXN0IGEgcHJlZml4LlxuICogKiBgJy91c2VyLzppZCdgIC0gTWF0Y2hlcyAnL3VzZXIvYm9iJyBvciAnL3VzZXIvMTIzNCEhIScgb3IgZXZlbiAnL3VzZXIvJyBidXQgbm90ICcvdXNlcicgb3JcbiAqICAgJy91c2VyL2JvYi9kZXRhaWxzJy4gVGhlIHNlY29uZCBwYXRoIHNlZ21lbnQgd2lsbCBiZSBjYXB0dXJlZCBhcyB0aGUgcGFyYW1ldGVyICdpZCcuXG4gKiAqIGAnL3VzZXIve2lkfSdgIC0gU2FtZSBhcyB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IHVzaW5nIGN1cmx5IGJyYWNlIHN5bnRheC5cbiAqICogYCcvdXNlci97aWQ6W14vXSp9J2AgLSBTYW1lIGFzIHRoZSBwcmV2aW91cyBleGFtcGxlLlxuICogKiBgJy91c2VyL3tpZDpbMC05YS1mQS1GXXsxLDh9fSdgIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IG9ubHkgbWF0Y2hlcyBpZiB0aGUgaWRcbiAqICAgcGFyYW1ldGVyIGNvbnNpc3RzIG9mIDEgdG8gOCBoZXggZGlnaXRzLlxuICogKiBgJy9maWxlcy97cGF0aDouKn0nYCAtIE1hdGNoZXMgYW55IFVSTCBzdGFydGluZyB3aXRoICcvZmlsZXMvJyBhbmQgY2FwdHVyZXMgdGhlIHJlc3Qgb2YgdGhlXG4gKiAgIHBhdGggaW50byB0aGUgcGFyYW1ldGVyICdwYXRoJy5cbiAqICogYCcvZmlsZXMvKnBhdGgnYCAtIGRpdHRvLlxuICogKiBgJy9jYWxlbmRhci97c3RhcnQ6ZGF0ZX0nYCAtIE1hdGNoZXMgXCIvY2FsZW5kYXIvMjAxNC0xMS0xMlwiIChiZWNhdXNlIHRoZSBwYXR0ZXJuIGRlZmluZWRcbiAqICAgaW4gdGhlIGJ1aWx0LWluICBgZGF0ZWAgVHlwZSBtYXRjaGVzIGAyMDE0LTExLTEyYCkgYW5kIHByb3ZpZGVzIGEgRGF0ZSBvYmplY3QgaW4gJHN0YXRlUGFyYW1zLnN0YXJ0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm4gIFRoZSBwYXR0ZXJuIHRvIGNvbXBpbGUgaW50byBhIG1hdGNoZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnICBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGhhc2g6XG4gKiBAcGFyYW0ge09iamVjdD19IHBhcmVudE1hdGNoZXIgVXNlZCB0byBjb25jYXRlbmF0ZSB0aGUgcGF0dGVybi9jb25maWcgb250b1xuICogICBhbiBleGlzdGluZyBVcmxNYXRjaGVyXG4gKlxuICogKiBgY2FzZUluc2Vuc2l0aXZlYCAtIGB0cnVlYCBpZiBVUkwgbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2UgaW5zZW5zaXRpdmUsIG90aGVyd2lzZSBgZmFsc2VgLCB0aGUgZGVmYXVsdCB2YWx1ZSAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpIGlzIGBmYWxzZWAuXG4gKiAqIGBzdHJpY3RgIC0gYGZhbHNlYCBpZiBtYXRjaGluZyBhZ2FpbnN0IGEgVVJMIHdpdGggYSB0cmFpbGluZyBzbGFzaCBzaG91bGQgYmUgdHJlYXRlZCBhcyBlcXVpdmFsZW50IHRvIGEgVVJMIHdpdGhvdXQgYSB0cmFpbGluZyBzbGFzaCwgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwcmVmaXggIEEgc3RhdGljIHByZWZpeCBvZiB0aGlzIHBhdHRlcm4uIFRoZSBtYXRjaGVyIGd1YXJhbnRlZXMgdGhhdCBhbnlcbiAqICAgVVJMIG1hdGNoaW5nIHRoaXMgbWF0Y2hlciAoaS5lLiBhbnkgc3RyaW5nIGZvciB3aGljaCB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyI21ldGhvZHNfZXhlYyBleGVjKCl9IHJldHVybnNcbiAqICAgbm9uLW51bGwpIHdpbGwgc3RhcnQgd2l0aCB0aGlzIHByZWZpeC5cbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc291cmNlICBUaGUgcGF0dGVybiB0aGF0IHdhcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3JcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc291cmNlUGF0aCAgVGhlIHBhdGggcG9ydGlvbiBvZiB0aGUgc291cmNlIHByb3BlcnR5XG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNvdXJjZVNlYXJjaCAgVGhlIHNlYXJjaCBwb3J0aW9uIG9mIHRoZSBzb3VyY2UgcHJvcGVydHlcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcmVnZXggIFRoZSBjb25zdHJ1Y3RlZCByZWdleCB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYXRjaCBhZ2FpbnN0IHRoZSB1cmwgd2hlbiBcbiAqICAgaXQgaXMgdGltZSB0byBkZXRlcm1pbmUgd2hpY2ggdXJsIHdpbGwgbWF0Y2guXG4gKlxuICogQHJldHVybnMge09iamVjdH0gIE5ldyBgVXJsTWF0Y2hlcmAgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIFVybE1hdGNoZXIocGF0dGVybiwgY29uZmlnLCBwYXJlbnRNYXRjaGVyKSB7XG4gIGNvbmZpZyA9IGV4dGVuZCh7IHBhcmFtczoge30gfSwgaXNPYmplY3QoY29uZmlnKSA/IGNvbmZpZyA6IHt9KTtcblxuICAvLyBGaW5kIGFsbCBwbGFjZWhvbGRlcnMgYW5kIGNyZWF0ZSBhIGNvbXBpbGVkIHBhdHRlcm4sIHVzaW5nIGVpdGhlciBjbGFzc2ljIG9yIGN1cmx5IHN5bnRheDpcbiAgLy8gICAnKicgbmFtZVxuICAvLyAgICc6JyBuYW1lXG4gIC8vICAgJ3snIG5hbWUgJ30nXG4gIC8vICAgJ3snIG5hbWUgJzonIHJlZ2V4cCAnfSdcbiAgLy8gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBzb21ld2hhdCBjb21wbGljYXRlZCBkdWUgdG8gdGhlIG5lZWQgdG8gYWxsb3cgY3VybHkgYnJhY2VzXG4gIC8vIGluc2lkZSB0aGUgcmVndWxhciBleHByZXNzaW9uLiBUaGUgcGxhY2Vob2xkZXIgcmVnZXhwIGJyZWFrcyBkb3duIGFzIGZvbGxvd3M6XG4gIC8vICAgIChbOipdKShbXFx3XFxbXFxdXSspICAgICAgICAgICAgICAtIGNsYXNzaWMgcGxhY2Vob2xkZXIgKCQxIC8gJDIpIChzZWFyY2ggdmVyc2lvbiBoYXMgLSBmb3Igc25ha2UtY2FzZSlcbiAgLy8gICAgXFx7KFtcXHdcXFtcXF1dKykoPzpcXDooIC4uLiApKT9cXH0gIC0gY3VybHkgYnJhY2UgcGxhY2Vob2xkZXIgKCQzKSB3aXRoIG9wdGlvbmFsIHJlZ2V4cC90eXBlIC4uLiAoJDQpIChzZWFyY2ggdmVyc2lvbiBoYXMgLSBmb3Igc25ha2UtY2FzZVxuICAvLyAgICAoPzogLi4uIHwgLi4uIHwgLi4uICkrICAgICAgICAgLSB0aGUgcmVnZXhwIGNvbnNpc3RzIG9mIGFueSBudW1iZXIgb2YgYXRvbXMsIGFuIGF0b20gYmVpbmcgZWl0aGVyXG4gIC8vICAgIFtee31cXFxcXSsgICAgICAgICAgICAgICAgICAgICAgIC0gYW55dGhpbmcgb3RoZXIgdGhhbiBjdXJseSBicmFjZXMgb3IgYmFja3NsYXNoXG4gIC8vICAgIFxcXFwuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYSBiYWNrc2xhc2ggZXNjYXBlXG4gIC8vICAgIFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSAgICAgICAgICAtIGEgbWF0Y2hlZCBzZXQgb2YgY3VybHkgYnJhY2VzIGNvbnRhaW5pbmcgb3RoZXIgYXRvbXNcbiAgdmFyIHBsYWNlaG9sZGVyICAgICAgID0gLyhbOipdKShbXFx3XFxbXFxdXSspfFxceyhbXFx3XFxbXFxdXSspKD86XFw6KCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxcbiAgICAgIHNlYXJjaFBsYWNlaG9sZGVyID0gLyhbOl0/KShbXFx3XFxbXFxdLV0rKXxcXHsoW1xcd1xcW1xcXS1dKykoPzpcXDooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLFxuICAgICAgY29tcGlsZWQgPSAnXicsIGxhc3QgPSAwLCBtLFxuICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzID0gW10sXG4gICAgICBwYXJlbnRQYXJhbXMgPSBwYXJlbnRNYXRjaGVyID8gcGFyZW50TWF0Y2hlci5wYXJhbXMgOiB7fSxcbiAgICAgIHBhcmFtcyA9IHRoaXMucGFyYW1zID0gcGFyZW50TWF0Y2hlciA/IHBhcmVudE1hdGNoZXIucGFyYW1zLiQkbmV3KCkgOiBuZXcgJCRVTUZQLlBhcmFtU2V0KCksXG4gICAgICBwYXJhbU5hbWVzID0gW107XG5cbiAgZnVuY3Rpb24gYWRkUGFyYW1ldGVyKGlkLCB0eXBlLCBjb25maWcsIGxvY2F0aW9uKSB7XG4gICAgcGFyYW1OYW1lcy5wdXNoKGlkKTtcbiAgICBpZiAocGFyZW50UGFyYW1zW2lkXSkgcmV0dXJuIHBhcmVudFBhcmFtc1tpZF07XG4gICAgaWYgKCEvXlxcdysoLStcXHcrKSooPzpcXFtcXF0pPyQvLnRlc3QoaWQpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIiArIGlkICsgXCInIGluIHBhdHRlcm4gJ1wiICsgcGF0dGVybiArIFwiJ1wiKTtcbiAgICBpZiAocGFyYW1zW2lkXSkgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIiArIGlkICsgXCInIGluIHBhdHRlcm4gJ1wiICsgcGF0dGVybiArIFwiJ1wiKTtcbiAgICBwYXJhbXNbaWRdID0gbmV3ICQkVU1GUC5QYXJhbShpZCwgdHlwZSwgY29uZmlnLCBsb2NhdGlvbik7XG4gICAgcmV0dXJuIHBhcmFtc1tpZF07XG4gIH1cblxuICBmdW5jdGlvbiBxdW90ZVJlZ0V4cChzdHJpbmcsIHBhdHRlcm4sIHNxdWFzaCkge1xuICAgIHZhciBzdXJyb3VuZFBhdHRlcm4gPSBbJycsJyddLCByZXN1bHQgPSBzdHJpbmcucmVwbGFjZSgvW1xcXFxcXFtcXF1cXF4kKis/LigpfHt9XS9nLCBcIlxcXFwkJlwiKTtcbiAgICBpZiAoIXBhdHRlcm4pIHJldHVybiByZXN1bHQ7XG4gICAgc3dpdGNoKHNxdWFzaCkge1xuICAgICAgY2FzZSBmYWxzZTogc3Vycm91bmRQYXR0ZXJuID0gWycoJywgJyknXTsgICBicmVhaztcbiAgICAgIGNhc2UgdHJ1ZTogIHN1cnJvdW5kUGF0dGVybiA9IFsnPygnLCAnKT8nXTsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJygnICsgc3F1YXNoICsgXCJ8XCIsICcpPyddOyAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgKyBzdXJyb3VuZFBhdHRlcm5bMF0gKyBwYXR0ZXJuICsgc3Vycm91bmRQYXR0ZXJuWzFdO1xuICB9XG5cbiAgdGhpcy5zb3VyY2UgPSBwYXR0ZXJuO1xuXG4gIC8vIFNwbGl0IGludG8gc3RhdGljIHNlZ21lbnRzIHNlcGFyYXRlZCBieSBwYXRoIHBhcmFtZXRlciBwbGFjZWhvbGRlcnMuXG4gIC8vIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgaXMgYWx3YXlzIDEgbW9yZSB0aGFuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycy5cbiAgZnVuY3Rpb24gbWF0Y2hEZXRhaWxzKG0sIGlzU2VhcmNoKSB7XG4gICAgdmFyIGlkLCByZWdleHAsIHNlZ21lbnQsIHR5cGUsIGNmZywgYXJyYXlNb2RlO1xuICAgIGlkICAgICAgICAgID0gbVsyXSB8fCBtWzNdOyAvLyBJRVs3OF0gcmV0dXJucyAnJyBmb3IgdW5tYXRjaGVkIGdyb3VwcyBpbnN0ZWFkIG9mIG51bGxcbiAgICBjZmcgICAgICAgICA9IGNvbmZpZy5wYXJhbXNbaWRdO1xuICAgIHNlZ21lbnQgICAgID0gcGF0dGVybi5zdWJzdHJpbmcobGFzdCwgbS5pbmRleCk7XG4gICAgcmVnZXhwICAgICAgPSBpc1NlYXJjaCA/IG1bNF0gOiBtWzRdIHx8IChtWzFdID09ICcqJyA/ICcuKicgOiBudWxsKTtcbiAgICB0eXBlICAgICAgICA9ICQkVU1GUC50eXBlKHJlZ2V4cCB8fCBcInN0cmluZ1wiKSB8fCBpbmhlcml0KCQkVU1GUC50eXBlKFwic3RyaW5nXCIpLCB7IHBhdHRlcm46IG5ldyBSZWdFeHAocmVnZXhwKSB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGlkLCByZWdleHA6IHJlZ2V4cCwgc2VnbWVudDogc2VnbWVudCwgdHlwZTogdHlwZSwgY2ZnOiBjZmdcbiAgICB9O1xuICB9XG5cbiAgdmFyIHAsIHBhcmFtLCBzZWdtZW50O1xuICB3aGlsZSAoKG0gPSBwbGFjZWhvbGRlci5leGVjKHBhdHRlcm4pKSkge1xuICAgIHAgPSBtYXRjaERldGFpbHMobSwgZmFsc2UpO1xuICAgIGlmIChwLnNlZ21lbnQuaW5kZXhPZignPycpID49IDApIGJyZWFrOyAvLyB3ZSdyZSBpbnRvIHRoZSBzZWFyY2ggcGFydFxuXG4gICAgcGFyYW0gPSBhZGRQYXJhbWV0ZXIocC5pZCwgcC50eXBlLCBwLmNmZywgXCJwYXRoXCIpO1xuICAgIGNvbXBpbGVkICs9IHF1b3RlUmVnRXhwKHAuc2VnbWVudCwgcGFyYW0udHlwZS5wYXR0ZXJuLnNvdXJjZSwgcGFyYW0uc3F1YXNoKTtcbiAgICBzZWdtZW50cy5wdXNoKHAuc2VnbWVudCk7XG4gICAgbGFzdCA9IHBsYWNlaG9sZGVyLmxhc3RJbmRleDtcbiAgfVxuICBzZWdtZW50ID0gcGF0dGVybi5zdWJzdHJpbmcobGFzdCk7XG5cbiAgLy8gRmluZCBhbnkgc2VhcmNoIHBhcmFtZXRlciBuYW1lcyBhbmQgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgbGFzdCBzZWdtZW50XG4gIHZhciBpID0gc2VnbWVudC5pbmRleE9mKCc/Jyk7XG5cbiAgaWYgKGkgPj0gMCkge1xuICAgIHZhciBzZWFyY2ggPSB0aGlzLnNvdXJjZVNlYXJjaCA9IHNlZ21lbnQuc3Vic3RyaW5nKGkpO1xuICAgIHNlZ21lbnQgPSBzZWdtZW50LnN1YnN0cmluZygwLCBpKTtcbiAgICB0aGlzLnNvdXJjZVBhdGggPSBwYXR0ZXJuLnN1YnN0cmluZygwLCBsYXN0ICsgaSk7XG5cbiAgICBpZiAoc2VhcmNoLmxlbmd0aCA+IDApIHtcbiAgICAgIGxhc3QgPSAwO1xuICAgICAgd2hpbGUgKChtID0gc2VhcmNoUGxhY2Vob2xkZXIuZXhlYyhzZWFyY2gpKSkge1xuICAgICAgICBwID0gbWF0Y2hEZXRhaWxzKG0sIHRydWUpO1xuICAgICAgICBwYXJhbSA9IGFkZFBhcmFtZXRlcihwLmlkLCBwLnR5cGUsIHAuY2ZnLCBcInNlYXJjaFwiKTtcbiAgICAgICAgbGFzdCA9IHBsYWNlaG9sZGVyLmxhc3RJbmRleDtcbiAgICAgICAgLy8gY2hlY2sgaWYgPyZcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zb3VyY2VQYXRoID0gcGF0dGVybjtcbiAgICB0aGlzLnNvdXJjZVNlYXJjaCA9ICcnO1xuICB9XG5cbiAgY29tcGlsZWQgKz0gcXVvdGVSZWdFeHAoc2VnbWVudCkgKyAoY29uZmlnLnN0cmljdCA9PT0gZmFsc2UgPyAnXFwvPycgOiAnJykgKyAnJCc7XG4gIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cbiAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKGNvbXBpbGVkLCBjb25maWcuY2FzZUluc2Vuc2l0aXZlID8gJ2knIDogdW5kZWZpbmVkKTtcbiAgdGhpcy5wcmVmaXggPSBzZWdtZW50c1swXTtcbiAgdGhpcy4kJHBhcmFtTmFtZXMgPSBwYXJhbU5hbWVzO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyI2NvbmNhdFxuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhIG5ldyBtYXRjaGVyIGZvciBhIHBhdHRlcm4gY29uc3RydWN0ZWQgYnkgYXBwZW5kaW5nIHRoZSBwYXRoIHBhcnQgYW5kIGFkZGluZyB0aGVcbiAqIHNlYXJjaCBwYXJhbWV0ZXJzIG9mIHRoZSBzcGVjaWZpZWQgcGF0dGVybiB0byB0aGlzIHBhdHRlcm4uIFRoZSBjdXJyZW50IHBhdHRlcm4gaXMgbm90XG4gKiBtb2RpZmllZC4gVGhpcyBjYW4gYmUgdW5kZXJzdG9vZCBhcyBjcmVhdGluZyBhIHBhdHRlcm4gZm9yIFVSTHMgdGhhdCBhcmUgcmVsYXRpdmUgdG8gKG9yXG4gKiBzdWZmaXhlcyBvZikgdGhlIGN1cnJlbnQgcGF0dGVybi5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhlIGZvbGxvd2luZyB0d28gbWF0Y2hlcnMgYXJlIGVxdWl2YWxlbnQ6XG4gKiA8cHJlPlxuICogbmV3IFVybE1hdGNoZXIoJy91c2VyL3tpZH0/cScpLmNvbmNhdCgnL2RldGFpbHM/ZGF0ZScpO1xuICogbmV3IFVybE1hdGNoZXIoJy91c2VyL3tpZH0vZGV0YWlscz9xJmRhdGUnKTtcbiAqIDwvcHJlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuICBUaGUgcGF0dGVybiB0byBhcHBlbmQuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnICBBbiBvYmplY3QgaGFzaCBvZiB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIG1hdGNoZXIuXG4gKiBAcmV0dXJucyB7VXJsTWF0Y2hlcn0gIEEgbWF0Y2hlciBmb3IgdGhlIGNvbmNhdGVuYXRlZCBwYXR0ZXJuLlxuICovXG5VcmxNYXRjaGVyLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAocGF0dGVybiwgY29uZmlnKSB7XG4gIC8vIEJlY2F1c2Ugb3JkZXIgb2Ygc2VhcmNoIHBhcmFtZXRlcnMgaXMgaXJyZWxldmFudCwgd2UgY2FuIGFkZCBvdXIgb3duIHNlYXJjaFxuICAvLyBwYXJhbWV0ZXJzIHRvIHRoZSBlbmQgb2YgdGhlIG5ldyBwYXR0ZXJuLiBQYXJzZSB0aGUgbmV3IHBhdHRlcm4gYnkgaXRzZWxmXG4gIC8vIGFuZCB0aGVuIGpvaW4gdGhlIGJpdHMgdG9nZXRoZXIsIGJ1dCBpdCdzIG11Y2ggZWFzaWVyIHRvIGRvIHRoaXMgb24gYSBzdHJpbmcgbGV2ZWwuXG4gIHZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgIGNhc2VJbnNlbnNpdGl2ZTogJCRVTUZQLmNhc2VJbnNlbnNpdGl2ZSgpLFxuICAgIHN0cmljdDogJCRVTUZQLnN0cmljdE1vZGUoKSxcbiAgICBzcXVhc2g6ICQkVU1GUC5kZWZhdWx0U3F1YXNoUG9saWN5KClcbiAgfTtcbiAgcmV0dXJuIG5ldyBVcmxNYXRjaGVyKHRoaXMuc291cmNlUGF0aCArIHBhdHRlcm4gKyB0aGlzLnNvdXJjZVNlYXJjaCwgZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyksIHRoaXMpO1xufTtcblxuVXJsTWF0Y2hlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnNvdXJjZTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjZXhlY1xuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGVzdHMgdGhlIHNwZWNpZmllZCBwYXRoIGFnYWluc3QgdGhpcyBtYXRjaGVyLCBhbmQgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY2FwdHVyZWRcbiAqIHBhcmFtZXRlciB2YWx1ZXMsIG9yIG51bGwgaWYgdGhlIHBhdGggZG9lcyBub3QgbWF0Y2guIFRoZSByZXR1cm5lZCBvYmplY3QgY29udGFpbnMgdGhlIHZhbHVlc1xuICogb2YgYW55IHNlYXJjaCBwYXJhbWV0ZXJzIHRoYXQgYXJlIG1lbnRpb25lZCBpbiB0aGUgcGF0dGVybiwgYnV0IHRoZWlyIHZhbHVlIG1heSBiZSBudWxsIGlmXG4gKiB0aGV5IGFyZSBub3QgcHJlc2VudCBpbiBgc2VhcmNoUGFyYW1zYC4gVGhpcyBtZWFucyB0aGF0IHNlYXJjaCBwYXJhbWV0ZXJzIGFyZSBhbHdheXMgdHJlYXRlZFxuICogYXMgb3B0aW9uYWwuXG4gKlxuICogQGV4YW1wbGVcbiAqIDxwcmU+XG4gKiBuZXcgVXJsTWF0Y2hlcignL3VzZXIve2lkfT9xJnInKS5leGVjKCcvdXNlci9ib2InLCB7XG4gKiAgIHg6ICcxJywgcTogJ2hlbGxvJ1xuICogfSk7XG4gKiAvLyByZXR1cm5zIHsgaWQ6ICdib2InLCBxOiAnaGVsbG8nLCByOiBudWxsIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoICBUaGUgVVJMIHBhdGggdG8gbWF0Y2gsIGUuZy4gYCRsb2NhdGlvbi5wYXRoKClgLlxuICogQHBhcmFtIHtPYmplY3R9IHNlYXJjaFBhcmFtcyAgVVJMIHNlYXJjaCBwYXJhbWV0ZXJzLCBlLmcuIGAkbG9jYXRpb24uc2VhcmNoKClgLlxuICogQHJldHVybnMge09iamVjdH0gIFRoZSBjYXB0dXJlZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICovXG5VcmxNYXRjaGVyLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKHBhdGgsIHNlYXJjaFBhcmFtcykge1xuICB2YXIgbSA9IHRoaXMucmVnZXhwLmV4ZWMocGF0aCk7XG4gIGlmICghbSkgcmV0dXJuIG51bGw7XG4gIHNlYXJjaFBhcmFtcyA9IHNlYXJjaFBhcmFtcyB8fCB7fTtcblxuICB2YXIgcGFyYW1OYW1lcyA9IHRoaXMucGFyYW1ldGVycygpLCBuVG90YWwgPSBwYXJhbU5hbWVzLmxlbmd0aCxcbiAgICBuUGF0aCA9IHRoaXMuc2VnbWVudHMubGVuZ3RoIC0gMSxcbiAgICB2YWx1ZXMgPSB7fSwgaSwgaiwgY2ZnLCBwYXJhbU5hbWU7XG5cbiAgaWYgKG5QYXRoICE9PSBtLmxlbmd0aCAtIDEpIHRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIgKyB0aGlzLnNvdXJjZSArIFwiJ1wiKTtcblxuICBmdW5jdGlvbiBkZWNvZGVQYXRoQXJyYXkoc3RyaW5nKSB7XG4gICAgZnVuY3Rpb24gcmV2ZXJzZVN0cmluZyhzdHIpIHsgcmV0dXJuIHN0ci5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTsgfVxuICAgIGZ1bmN0aW9uIHVucXVvdGVEYXNoZXMoc3RyKSB7IHJldHVybiBzdHIucmVwbGFjZSgvXFxcXC0vLCBcIi1cIik7IH1cblxuICAgIHZhciBzcGxpdCA9IHJldmVyc2VTdHJpbmcoc3RyaW5nKS5zcGxpdCgvLSg/IVxcXFwpLyk7XG4gICAgdmFyIGFsbFJldmVyc2VkID0gbWFwKHNwbGl0LCByZXZlcnNlU3RyaW5nKTtcbiAgICByZXR1cm4gbWFwKGFsbFJldmVyc2VkLCB1bnF1b3RlRGFzaGVzKS5yZXZlcnNlKCk7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgblBhdGg7IGkrKykge1xuICAgIHBhcmFtTmFtZSA9IHBhcmFtTmFtZXNbaV07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbcGFyYW1OYW1lXTtcbiAgICB2YXIgcGFyYW1WYWwgPSBtW2krMV07XG4gICAgLy8gaWYgdGhlIHBhcmFtIHZhbHVlIG1hdGNoZXMgYSBwcmUtcmVwbGFjZSBwYWlyLCByZXBsYWNlIHRoZSB2YWx1ZSBiZWZvcmUgZGVjb2RpbmcuXG4gICAgZm9yIChqID0gMDsgaiA8IHBhcmFtLnJlcGxhY2U7IGorKykge1xuICAgICAgaWYgKHBhcmFtLnJlcGxhY2Vbal0uZnJvbSA9PT0gcGFyYW1WYWwpIHBhcmFtVmFsID0gcGFyYW0ucmVwbGFjZVtqXS50bztcbiAgICB9XG4gICAgaWYgKHBhcmFtVmFsICYmIHBhcmFtLmFycmF5ID09PSB0cnVlKSBwYXJhbVZhbCA9IGRlY29kZVBhdGhBcnJheShwYXJhbVZhbCk7XG4gICAgdmFsdWVzW3BhcmFtTmFtZV0gPSBwYXJhbS52YWx1ZShwYXJhbVZhbCk7XG4gIH1cbiAgZm9yICgvKiovOyBpIDwgblRvdGFsOyBpKyspIHtcbiAgICBwYXJhbU5hbWUgPSBwYXJhbU5hbWVzW2ldO1xuICAgIHZhbHVlc1twYXJhbU5hbWVdID0gdGhpcy5wYXJhbXNbcGFyYW1OYW1lXS52YWx1ZShzZWFyY2hQYXJhbXNbcGFyYW1OYW1lXSk7XG4gIH1cblxuICByZXR1cm4gdmFsdWVzO1xufTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciNwYXJhbWV0ZXJzXG4gKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIHRoZSBuYW1lcyBvZiBhbGwgcGF0aCBhbmQgc2VhcmNoIHBhcmFtZXRlcnMgb2YgdGhpcyBwYXR0ZXJuIGluIGFuIHVuc3BlY2lmaWVkIG9yZGVyLlxuICogXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59ICBBbiBhcnJheSBvZiBwYXJhbWV0ZXIgbmFtZXMuIE11c3QgYmUgdHJlYXRlZCBhcyByZWFkLW9ubHkuIElmIHRoZVxuICogICAgcGF0dGVybiBoYXMgbm8gcGFyYW1ldGVycywgYW4gZW1wdHkgYXJyYXkgaXMgcmV0dXJuZWQuXG4gKi9cblVybE1hdGNoZXIucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgaWYgKCFpc0RlZmluZWQocGFyYW0pKSByZXR1cm4gdGhpcy4kJHBhcmFtTmFtZXM7XG4gIHJldHVybiB0aGlzLnBhcmFtc1twYXJhbV0gfHwgbnVsbDtcbn07XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIjdmFsaWRhdGVcbiAqIEBtZXRob2RPZiB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENoZWNrcyBhbiBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlIHRoZWlyIGNvcnJlY3RuZXNzIGFjY29yZGluZyB0byB0aGUgcGFyYW1ldGVyXG4gKiB0eXBlcyBvZiB0aGlzIGBVcmxNYXRjaGVyYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFRoZSBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXJhbXNgIHZhbGlkYXRlcywgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gKi9cblVybE1hdGNoZXIucHJvdG90eXBlLnZhbGlkYXRlcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMucGFyYW1zLiQkdmFsaWRhdGVzKHBhcmFtcyk7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyI2Zvcm1hdFxuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIFVSTCB0aGF0IG1hdGNoZXMgdGhpcyBwYXR0ZXJuIGJ5IHN1YnN0aXR1dGluZyB0aGUgc3BlY2lmaWVkIHZhbHVlc1xuICogZm9yIHRoZSBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycy4gTnVsbCB2YWx1ZXMgZm9yIHBhdGggcGFyYW1ldGVycyBhcmVcbiAqIHRyZWF0ZWQgYXMgZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAZXhhbXBsZVxuICogPHByZT5cbiAqIG5ldyBVcmxNYXRjaGVyKCcvdXNlci97aWR9P3EnKS5mb3JtYXQoeyBpZDonYm9iJywgcToneWVzJyB9KTtcbiAqIC8vIHJldHVybnMgJy91c2VyL2JvYj9xPXllcydcbiAqIDwvcHJlPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXMgIHRoZSB2YWx1ZXMgdG8gc3Vic3RpdHV0ZSBmb3IgdGhlIHBhcmFtZXRlcnMgaW4gdGhpcyBwYXR0ZXJuLlxuICogQHJldHVybnMge3N0cmluZ30gIHRoZSBmb3JtYXR0ZWQgVVJMIChwYXRoIGFuZCBvcHRpb25hbGx5IHNlYXJjaCBwYXJ0KS5cbiAqL1xuVXJsTWF0Y2hlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICB2YWx1ZXMgPSB2YWx1ZXMgfHwge307XG4gIHZhciBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHMsIHBhcmFtcyA9IHRoaXMucGFyYW1ldGVycygpLCBwYXJhbXNldCA9IHRoaXMucGFyYW1zO1xuICBpZiAoIXRoaXMudmFsaWRhdGVzKHZhbHVlcykpIHJldHVybiBudWxsO1xuXG4gIHZhciBpLCBzZWFyY2ggPSBmYWxzZSwgblBhdGggPSBzZWdtZW50cy5sZW5ndGggLSAxLCBuVG90YWwgPSBwYXJhbXMubGVuZ3RoLCByZXN1bHQgPSBzZWdtZW50c1swXTtcblxuICBmdW5jdGlvbiBlbmNvZGVEYXNoZXMoc3RyKSB7IC8vIFJlcGxhY2UgZGFzaGVzIHdpdGggZW5jb2RlZCBcIlxcLVwiXG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoLy0vZywgZnVuY3Rpb24oYykgeyByZXR1cm4gJyU1QyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBuVG90YWw7IGkrKykge1xuICAgIHZhciBpc1BhdGhQYXJhbSA9IGkgPCBuUGF0aDtcbiAgICB2YXIgbmFtZSA9IHBhcmFtc1tpXSwgcGFyYW0gPSBwYXJhbXNldFtuYW1lXSwgdmFsdWUgPSBwYXJhbS52YWx1ZSh2YWx1ZXNbbmFtZV0pO1xuICAgIHZhciBpc0RlZmF1bHRWYWx1ZSA9IHBhcmFtLmlzT3B0aW9uYWwgJiYgcGFyYW0udHlwZS5lcXVhbHMocGFyYW0udmFsdWUoKSwgdmFsdWUpO1xuICAgIHZhciBzcXVhc2ggPSBpc0RlZmF1bHRWYWx1ZSA/IHBhcmFtLnNxdWFzaCA6IGZhbHNlO1xuICAgIHZhciBlbmNvZGVkID0gcGFyYW0udHlwZS5lbmNvZGUodmFsdWUpO1xuXG4gICAgaWYgKGlzUGF0aFBhcmFtKSB7XG4gICAgICB2YXIgbmV4dFNlZ21lbnQgPSBzZWdtZW50c1tpICsgMV07XG4gICAgICBpZiAoc3F1YXNoID09PSBmYWxzZSkge1xuICAgICAgICBpZiAoZW5jb2RlZCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZW5jb2RlZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBtYXAoZW5jb2RlZCwgZW5jb2RlRGFzaGVzKS5qb2luKFwiLVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGVuY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IG5leHRTZWdtZW50O1xuICAgICAgfSBlbHNlIGlmIChzcXVhc2ggPT09IHRydWUpIHtcbiAgICAgICAgdmFyIGNhcHR1cmUgPSByZXN1bHQubWF0Y2goL1xcLyQvKSA/IC9cXC8/KC4qKS8gOiAvKC4qKS87XG4gICAgICAgIHJlc3VsdCArPSBuZXh0U2VnbWVudC5tYXRjaChjYXB0dXJlKVsxXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoc3F1YXNoKSkge1xuICAgICAgICByZXN1bHQgKz0gc3F1YXNoICsgbmV4dFNlZ21lbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbmNvZGVkID09IG51bGwgfHwgKGlzRGVmYXVsdFZhbHVlICYmIHNxdWFzaCAhPT0gZmFsc2UpKSBjb250aW51ZTtcbiAgICAgIGlmICghaXNBcnJheShlbmNvZGVkKSkgZW5jb2RlZCA9IFsgZW5jb2RlZCBdO1xuICAgICAgZW5jb2RlZCA9IG1hcChlbmNvZGVkLCBlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJyYnICsgbmFtZSArICc9Jyk7XG4gICAgICByZXN1bHQgKz0gKHNlYXJjaCA/ICcmJyA6ICc/JykgKyAobmFtZSArICc9JyArIGVuY29kZWQpO1xuICAgICAgc2VhcmNoID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC50eXBlOlR5cGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEltcGxlbWVudHMgYW4gaW50ZXJmYWNlIHRvIGRlZmluZSBjdXN0b20gcGFyYW1ldGVyIHR5cGVzIHRoYXQgY2FuIGJlIGRlY29kZWQgZnJvbSBhbmQgZW5jb2RlZCB0b1xuICogc3RyaW5nIHBhcmFtZXRlcnMgbWF0Y2hlZCBpbiBhIFVSTC4gVXNlZCBieSB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyIGBVcmxNYXRjaGVyYH1cbiAqIG9iamVjdHMgd2hlbiBtYXRjaGluZyBvciBmb3JtYXR0aW5nIFVSTHMsIG9yIGNvbXBhcmluZyBvciB2YWxpZGF0aW5nIHBhcmFtZXRlciB2YWx1ZXMuXG4gKlxuICogU2VlIHtAbGluayB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnkjbWV0aG9kc190eXBlIGAkdXJsTWF0Y2hlckZhY3RvcnkjdHlwZSgpYH0gZm9yIG1vcmVcbiAqIGluZm9ybWF0aW9uIG9uIHJlZ2lzdGVyaW5nIGN1c3RvbSB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnICBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBjdXN0b20gdHlwZSBkZWZpbml0aW9uLiAgVGhlIG9iamVjdCdzXG4gKiAgICAgICAgcHJvcGVydGllcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG1ldGhvZHMgYW5kL29yIHBhdHRlcm4gaW4gYFR5cGVgJ3MgcHVibGljIGludGVyZmFjZS5cbiAqIEBleGFtcGxlXG4gKiA8cHJlPlxuICoge1xuICogICBkZWNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7IH0sXG4gKiAgIGVuY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nKCk7IH0sXG4gKiAgIGVxdWFsczogZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gdGhpcy5pcyhhKSAmJiBhID09PSBiOyB9LFxuICogICBpczogZnVuY3Rpb24odmFsKSB7IHJldHVybiBhbmd1bGFyLmlzTnVtYmVyKHZhbCkgaXNGaW5pdGUodmFsKSAmJiB2YWwgJSAxID09PSAwOyB9LFxuICogICBwYXR0ZXJuOiAvXFxkKy9cbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBwcm9wZXJ0eSB7UmVnRXhwfSBwYXR0ZXJuIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gcGF0dGVybiB1c2VkIHRvIG1hdGNoIHZhbHVlcyBvZiB0aGlzIHR5cGUgd2hlblxuICogICAgICAgICAgIGNvbWluZyBmcm9tIGEgc3Vic3RyaW5nIG9mIGEgVVJMLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9ICBSZXR1cm5zIGEgbmV3IGBUeXBlYCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIFR5cGUoY29uZmlnKSB7XG4gIGV4dGVuZCh0aGlzLCBjb25maWcpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlI2lzXG4gKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlY3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyBvZiBhIHBhcnRpY3VsYXIgdHlwZS4gQWNjZXB0cyBhIG5hdGl2ZSAoZGVjb2RlZCkgdmFsdWVcbiAqIGFuZCBkZXRlcm1pbmVzIHdoZXRoZXIgaXQgbWF0Y2hlcyB0aGUgY3VycmVudCBgVHlwZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsICBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5ICBPcHRpb25hbC4gSWYgdGhlIHR5cGUgY2hlY2sgaXMgaGFwcGVuaW5nIGluIHRoZSBjb250ZXh0IG9mIGEgc3BlY2lmaWNcbiAqICAgICAgICB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyIGBVcmxNYXRjaGVyYH0gb2JqZWN0LCB0aGlzIGlzIHRoZSBuYW1lIG9mIHRoZVxuICogICAgICAgIHBhcmFtZXRlciBpbiB3aGljaCBgdmFsYCBpcyBzdG9yZWQuIENhbiBiZSB1c2VkIGZvciBtZXRhLXByb2dyYW1taW5nIG9mIGBUeXBlYCBvYmplY3RzLlxuICogQHJldHVybnMge0Jvb2xlYW59ICBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWUgbWF0Y2hlcyB0aGUgdHlwZSwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gKi9cblR5cGUucHJvdG90eXBlLmlzID0gZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlI2VuY29kZVxuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VHlwZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRW5jb2RlcyBhIGN1c3RvbS9uYXRpdmUgdHlwZSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGNhbiBiZSBlbWJlZGRlZCBpbiBhIFVSTC4gTm90ZSB0aGF0IHRoZVxuICogcmV0dXJuIHZhbHVlIGRvZXMgKm5vdCogbmVlZCB0byBiZSBVUkwtc2FmZSAoaS5lLiBwYXNzZWQgdGhyb3VnaCBgZW5jb2RlVVJJQ29tcG9uZW50KClgKSwgaXRcbiAqIG9ubHkgbmVlZHMgdG8gYmUgYSByZXByZXNlbnRhdGlvbiBvZiBgdmFsYCB0aGF0IGhhcyBiZWVuIGNvZXJjZWQgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgIFRoZSB2YWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5ICBUaGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIGluIHdoaWNoIGB2YWxgIGlzIHN0b3JlZC4gQ2FuIGJlIHVzZWQgZm9yXG4gKiAgICAgICAgbWV0YS1wcm9ncmFtbWluZyBvZiBgVHlwZWAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9ICBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGB2YWxgIHRoYXQgY2FuIGJlIGVuY29kZWQgaW4gYSBVUkwuXG4gKi9cblR5cGUucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gIHJldHVybiB2YWw7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlI2RlY29kZVxuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VHlwZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydHMgYSBwYXJhbWV0ZXIgdmFsdWUgKGZyb20gVVJMIHN0cmluZyBvciB0cmFuc2l0aW9uIHBhcmFtKSB0byBhIGN1c3RvbS9uYXRpdmUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCAgVGhlIFVSTCBwYXJhbWV0ZXIgdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAgVGhlIG5hbWUgb2YgdGhlIHBhcmFtZXRlciBpbiB3aGljaCBgdmFsYCBpcyBzdG9yZWQuIENhbiBiZSB1c2VkIGZvclxuICogICAgICAgIG1ldGEtcHJvZ3JhbW1pbmcgb2YgYFR5cGVgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Kn0gIFJldHVybnMgYSBjdXN0b20gcmVwcmVzZW50YXRpb24gb2YgdGhlIFVSTCBwYXJhbWV0ZXIgdmFsdWUuXG4gKi9cblR5cGUucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gIHJldHVybiB2YWw7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlI2VxdWFsc1xuICogQG1ldGhvZE9mIHVpLnJvdXRlci51dGlsLnR5cGU6VHlwZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHR3byBkZWNvZGVkIHZhbHVlcyBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAcGFyYW0geyp9IGEgIEEgdmFsdWUgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICogQHBhcmFtIHsqfSBiICBBIHZhbHVlIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSAgUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudC9lcXVhbCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gKi9cblR5cGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYjtcbn07XG5cblR5cGUucHJvdG90eXBlLiRzdWJQYXR0ZXJuID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdWIgPSB0aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtcbiAgcmV0dXJuIHN1Yi5zdWJzdHIoMSwgc3ViLmxlbmd0aCAtIDIpO1xufTtcblxuVHlwZS5wcm90b3R5cGUucGF0dGVybiA9IC8uKi87XG5cblR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIntUeXBlOlwiICsgdGhpcy5uYW1lICsgXCJ9XCI7IH07XG5cbi8qXG4gKiBXcmFwcyBhbiBleGlzdGluZyBjdXN0b20gVHlwZSBhcyBhbiBhcnJheSBvZiBUeXBlLCBkZXBlbmRpbmcgb24gJ21vZGUnLlxuICogZS5nLjpcbiAqIC0gdXJsbWF0Y2hlciBwYXR0ZXJuIFwiL3BhdGg/e3F1ZXJ5UGFyYW1bXTppbnR9XCJcbiAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSZxdWVyeVBhcmFtPTJcbiAqIC0gJHN0YXRlUGFyYW1zLnF1ZXJ5UGFyYW0gd2lsbCBiZSBbMSwgMl1cbiAqIGlmIGBtb2RlYCBpcyBcImF1dG9cIiwgdGhlblxuICogLSB1cmw6IFwiL3BhdGg/cXVlcnlQYXJhbT0xIHdpbGwgY3JlYXRlICRzdGF0ZVBhcmFtcy5xdWVyeVBhcmFtOiAxXG4gKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEmcXVlcnlQYXJhbT0yIHdpbGwgY3JlYXRlICRzdGF0ZVBhcmFtcy5xdWVyeVBhcmFtOiBbMSwgMl1cbiAqL1xuVHlwZS5wcm90b3R5cGUuJGFzQXJyYXkgPSBmdW5jdGlvbihtb2RlLCBpc1NlYXJjaCkge1xuICBpZiAoIW1vZGUpIHJldHVybiB0aGlzO1xuICBpZiAobW9kZSA9PT0gXCJhdXRvXCIgJiYgIWlzU2VhcmNoKSB0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO1xuICByZXR1cm4gbmV3IEFycmF5VHlwZSh0aGlzLCBtb2RlKTtcblxuICBmdW5jdGlvbiBBcnJheVR5cGUodHlwZSwgbW9kZSkge1xuICAgIGZ1bmN0aW9uIGJpbmRUbyh0eXBlLCBjYWxsYmFja05hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVbY2FsbGJhY2tOYW1lXS5hcHBseSh0eXBlLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBXcmFwIG5vbi1hcnJheSB2YWx1ZSBhcyBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5V3JhcCh2YWwpIHsgcmV0dXJuIGlzQXJyYXkodmFsKSA/IHZhbCA6IChpc0RlZmluZWQodmFsKSA/IFsgdmFsIF0gOiBbXSk7IH1cbiAgICAvLyBVbndyYXAgYXJyYXkgdmFsdWUgZm9yIFwiYXV0b1wiIG1vZGUuIFJldHVybiB1bmRlZmluZWQgZm9yIGVtcHR5IGFycmF5LlxuICAgIGZ1bmN0aW9uIGFycmF5VW53cmFwKHZhbCkge1xuICAgICAgc3dpdGNoKHZhbC5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOiByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjYXNlIDE6IHJldHVybiBtb2RlID09PSBcImF1dG9cIiA/IHZhbFswXSA6IHZhbDtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmFsc2V5KHZhbCkgeyByZXR1cm4gIXZhbDsgfVxuXG4gICAgLy8gV3JhcHMgdHlwZSAoLmlzLy5lbmNvZGUvLmRlY29kZSkgZnVuY3Rpb25zIHRvIG9wZXJhdGUgb24gZWFjaCB2YWx1ZSBvZiBhbiBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5SGFuZGxlcihjYWxsYmFjaywgYWxsVHJ1dGh5TW9kZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFycmF5KHZhbCkge1xuICAgICAgICB2YWwgPSBhcnJheVdyYXAodmFsKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG1hcCh2YWwsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGFsbFRydXRoeU1vZGUgPT09IHRydWUpXG4gICAgICAgICAgcmV0dXJuIGZpbHRlcihyZXN1bHQsIGZhbHNleSkubGVuZ3RoID09PSAwO1xuICAgICAgICByZXR1cm4gYXJyYXlVbndyYXAocmVzdWx0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gV3JhcHMgdHlwZSAoLmVxdWFscykgZnVuY3Rpb25zIHRvIG9wZXJhdGUgb24gZWFjaCB2YWx1ZSBvZiBhbiBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5RXF1YWxzSGFuZGxlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFycmF5KHZhbDEsIHZhbDIpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBhcnJheVdyYXAodmFsMSksIHJpZ2h0ID0gYXJyYXlXcmFwKHZhbDIpO1xuICAgICAgICBpZiAobGVmdC5sZW5ndGggIT09IHJpZ2h0Lmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWNhbGxiYWNrKGxlZnRbaV0sIHJpZ2h0W2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLmVuY29kZSA9IGFycmF5SGFuZGxlcihiaW5kVG8odHlwZSwgJ2VuY29kZScpKTtcbiAgICB0aGlzLmRlY29kZSA9IGFycmF5SGFuZGxlcihiaW5kVG8odHlwZSwgJ2RlY29kZScpKTtcbiAgICB0aGlzLmlzICAgICA9IGFycmF5SGFuZGxlcihiaW5kVG8odHlwZSwgJ2lzJyksIHRydWUpO1xuICAgIHRoaXMuZXF1YWxzID0gYXJyYXlFcXVhbHNIYW5kbGVyKGJpbmRUbyh0eXBlLCAnZXF1YWxzJykpO1xuICAgIHRoaXMucGF0dGVybiA9IHR5cGUucGF0dGVybjtcbiAgICB0aGlzLiRhcnJheU1vZGUgPSBtb2RlO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZhY3RvcnkgZm9yIHtAbGluayB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIgYFVybE1hdGNoZXJgfSBpbnN0YW5jZXMuIFRoZSBmYWN0b3J5XG4gKiBpcyBhbHNvIGF2YWlsYWJsZSB0byBwcm92aWRlcnMgdW5kZXIgdGhlIG5hbWUgYCR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyYC5cbiAqL1xuZnVuY3Rpb24gJFVybE1hdGNoZXJGYWN0b3J5KCkge1xuICAkJFVNRlAgPSB0aGlzO1xuXG4gIHZhciBpc0Nhc2VJbnNlbnNpdGl2ZSA9IGZhbHNlLCBpc1N0cmljdE1vZGUgPSB0cnVlLCBkZWZhdWx0U3F1YXNoUG9saWN5ID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gdmFsVG9TdHJpbmcodmFsKSB7IHJldHVybiB2YWwgIT0gbnVsbCA/IHZhbC50b1N0cmluZygpLnJlcGxhY2UoL1xcLy9nLCBcIiUyRlwiKSA6IHZhbDsgfVxuICBmdW5jdGlvbiB2YWxGcm9tU3RyaW5nKHZhbCkgeyByZXR1cm4gdmFsICE9IG51bGwgPyB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC8lMkYvZywgXCIvXCIpIDogdmFsOyB9XG4vLyAgVE9ETzogaW4gMS4wLCBtYWtlIHN0cmluZyAuaXMoKSByZXR1cm4gZmFsc2UgaWYgdmFsdWUgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4vLyAgZnVuY3Rpb24gcmVnZXhwTWF0Y2hlcyh2YWwpIHsgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi8gcmV0dXJuIGlzRGVmaW5lZCh2YWwpICYmIHRoaXMucGF0dGVybi50ZXN0KHZhbCk7IH1cbiAgZnVuY3Rpb24gcmVnZXhwTWF0Y2hlcyh2YWwpIHsgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi8gcmV0dXJuIHRoaXMucGF0dGVybi50ZXN0KHZhbCk7IH1cblxuICB2YXIgJHR5cGVzID0ge30sIGVucXVldWUgPSB0cnVlLCB0eXBlUXVldWUgPSBbXSwgaW5qZWN0b3IsIGRlZmF1bHRUeXBlcyA9IHtcbiAgICBzdHJpbmc6IHtcbiAgICAgIGVuY29kZTogdmFsVG9TdHJpbmcsXG4gICAgICBkZWNvZGU6IHZhbEZyb21TdHJpbmcsXG4gICAgICBpczogcmVnZXhwTWF0Y2hlcyxcbiAgICAgIHBhdHRlcm46IC9bXi9dKi9cbiAgICB9LFxuICAgIGludDoge1xuICAgICAgZW5jb2RlOiB2YWxUb1N0cmluZyxcbiAgICAgIGRlY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiBwYXJzZUludCh2YWwsIDEwKTsgfSxcbiAgICAgIGlzOiBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIGlzRGVmaW5lZCh2YWwpICYmIHRoaXMuZGVjb2RlKHZhbC50b1N0cmluZygpKSA9PT0gdmFsOyB9LFxuICAgICAgcGF0dGVybjogL1xcZCsvXG4gICAgfSxcbiAgICBib29sOiB7XG4gICAgICBlbmNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gdmFsID8gMSA6IDA7IH0sXG4gICAgICBkZWNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCkgIT09IDA7IH0sXG4gICAgICBpczogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZTsgfSxcbiAgICAgIHBhdHRlcm46IC8wfDEvXG4gICAgfSxcbiAgICBkYXRlOiB7XG4gICAgICBlbmNvZGU6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzKHZhbCkpXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIFsgdmFsLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgKCcwJyArICh2YWwuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMiksXG4gICAgICAgICAgKCcwJyArIHZhbC5nZXREYXRlKCkpLnNsaWNlKC0yKVxuICAgICAgICBdLmpvaW4oXCItXCIpO1xuICAgICAgfSxcbiAgICAgIGRlY29kZTogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5pcyh2YWwpKSByZXR1cm4gdmFsO1xuICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzLmNhcHR1cmUuZXhlYyh2YWwpO1xuICAgICAgICByZXR1cm4gbWF0Y2ggPyBuZXcgRGF0ZShtYXRjaFsxXSwgbWF0Y2hbMl0gLSAxLCBtYXRjaFszXSkgOiB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgICAgaXM6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gdmFsIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsLnZhbHVlT2YoKSk7IH0sXG4gICAgICBlcXVhbHM6IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiB0aGlzLmlzKGEpICYmIHRoaXMuaXMoYikgJiYgYS50b0lTT1N0cmluZygpID09PSBiLnRvSVNPU3RyaW5nKCk7IH0sXG4gICAgICBwYXR0ZXJuOiAvWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sXG4gICAgICBjYXB0dXJlOiAvKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvXG4gICAgfSxcbiAgICBqc29uOiB7XG4gICAgICBlbmNvZGU6IGFuZ3VsYXIudG9Kc29uLFxuICAgICAgZGVjb2RlOiBhbmd1bGFyLmZyb21Kc29uLFxuICAgICAgaXM6IGFuZ3VsYXIuaXNPYmplY3QsXG4gICAgICBlcXVhbHM6IGFuZ3VsYXIuZXF1YWxzLFxuICAgICAgcGF0dGVybjogL1teL10qL1xuICAgIH0sXG4gICAgYW55OiB7IC8vIGRvZXMgbm90IGVuY29kZS9kZWNvZGVcbiAgICAgIGVuY29kZTogYW5ndWxhci5pZGVudGl0eSxcbiAgICAgIGRlY29kZTogYW5ndWxhci5pZGVudGl0eSxcbiAgICAgIGlzOiBhbmd1bGFyLmlkZW50aXR5LFxuICAgICAgZXF1YWxzOiBhbmd1bGFyLmVxdWFscyxcbiAgICAgIHBhdHRlcm46IC8uKi9cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdENvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyaWN0OiBpc1N0cmljdE1vZGUsXG4gICAgICBjYXNlSW5zZW5zaXRpdmU6IGlzQ2FzZUluc2Vuc2l0aXZlXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSW5qZWN0YWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgKGlzQXJyYXkodmFsdWUpICYmIGlzRnVuY3Rpb24odmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0pKSk7XG4gIH1cblxuICAvKipcbiAgICogW0ludGVybmFsXSBHZXQgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBwYXJhbWV0ZXIsIHdoaWNoIG1heSBiZSBhbiBpbmplY3RhYmxlIGZ1bmN0aW9uLlxuICAgKi9cbiAgJFVybE1hdGNoZXJGYWN0b3J5LiQkZ2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgaWYgKCFpc0luamVjdGFibGUoY29uZmlnLnZhbHVlKSkgcmV0dXJuIGNvbmZpZy52YWx1ZTtcbiAgICBpZiAoIWluamVjdG9yKSB0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTtcbiAgICByZXR1cm4gaW5qZWN0b3IuaW52b2tlKGNvbmZpZy52YWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnkjY2FzZUluc2Vuc2l0aXZlXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERlZmluZXMgd2hldGhlciBVUkwgbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2Ugc2Vuc2l0aXZlICh0aGUgZGVmYXVsdCBiZWhhdmlvciksIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBgZmFsc2VgIHRvIG1hdGNoIFVSTCBpbiBhIGNhc2Ugc2Vuc2l0aXZlIG1hbm5lcjsgb3RoZXJ3aXNlIGB0cnVlYDtcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRoZSBjdXJyZW50IHZhbHVlIG9mIGNhc2VJbnNlbnNpdGl2ZVxuICAgKi9cbiAgdGhpcy5jYXNlSW5zZW5zaXRpdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKVxuICAgICAgaXNDYXNlSW5zZW5zaXRpdmUgPSB2YWx1ZTtcbiAgICByZXR1cm4gaXNDYXNlSW5zZW5zaXRpdmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3Rvcnkjc3RyaWN0TW9kZVxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBEZWZpbmVzIHdoZXRoZXIgVVJMcyBzaG91bGQgbWF0Y2ggdHJhaWxpbmcgc2xhc2hlcywgb3Igbm90ICh0aGUgZGVmYXVsdCBiZWhhdmlvcikuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIGBmYWxzZWAgdG8gbWF0Y2ggdHJhaWxpbmcgc2xhc2hlcyBpbiBVUkxzLCBvdGhlcndpc2UgYHRydWVgLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdGhlIGN1cnJlbnQgdmFsdWUgb2Ygc3RyaWN0TW9kZVxuICAgKi9cbiAgdGhpcy5zdHJpY3RNb2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSlcbiAgICAgIGlzU3RyaWN0TW9kZSA9IHZhbHVlO1xuICAgIHJldHVybiBpc1N0cmljdE1vZGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnkjZGVmYXVsdFNxdWFzaFBvbGljeVxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIHdoZW4gZ2VuZXJhdGluZyBvciBtYXRjaGluZyBVUkxzIHdpdGggZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBkZWZhdWx0IHBhcmFtZXRlciBVUkwgc3F1YXNoaW5nIGJlaGF2aW9yLlxuICAgKiAgICBgbm9zcXVhc2hgOiBXaGVuIGdlbmVyYXRpbmcgYW4gaHJlZiB3aXRoIGEgZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWUsIGRvIG5vdCBzcXVhc2ggdGhlIHBhcmFtZXRlciB2YWx1ZSBmcm9tIHRoZSBVUkxcbiAgICogICAgYHNsYXNoYDogV2hlbiBnZW5lcmF0aW5nIGFuIGhyZWYgd2l0aCBhIGRlZmF1bHQgcGFyYW1ldGVyIHZhbHVlLCBzcXVhc2ggKHJlbW92ZSkgdGhlIHBhcmFtZXRlciB2YWx1ZSwgYW5kLCBpZiB0aGVcbiAgICogICAgICAgICAgICAgcGFyYW1ldGVyIGlzIHN1cnJvdW5kZWQgYnkgc2xhc2hlcywgc3F1YXNoIChyZW1vdmUpIG9uZSBzbGFzaCBmcm9tIHRoZSBVUkxcbiAgICogICAgYW55IG90aGVyIHN0cmluZywgZS5nLiBcIn5cIjogV2hlbiBnZW5lcmF0aW5nIGFuIGhyZWYgd2l0aCBhIGRlZmF1bHQgcGFyYW1ldGVyIHZhbHVlLCBzcXVhc2ggKHJlbW92ZSlcbiAgICogICAgICAgICAgICAgdGhlIHBhcmFtZXRlciB2YWx1ZSBmcm9tIHRoZSBVUkwgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGlzIHN0cmluZy5cbiAgICovXG4gIHRoaXMuZGVmYXVsdFNxdWFzaFBvbGljeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSByZXR1cm4gZGVmYXVsdFNxdWFzaFBvbGljeTtcbiAgICBpZiAodmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09IGZhbHNlICYmICFpc1N0cmluZyh2YWx1ZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiICsgdmFsdWUgKyBcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO1xuICAgIGRlZmF1bHRTcXVhc2hQb2xpY3kgPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnkjY29tcGlsZVxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciBgVXJsTWF0Y2hlcmB9IGZvciB0aGUgc3BlY2lmaWVkIHBhdHRlcm4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuICBUaGUgVVJMIHBhdHRlcm4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgIFRoZSBjb25maWcgb2JqZWN0IGhhc2guXG4gICAqIEByZXR1cm5zIHtVcmxNYXRjaGVyfSAgVGhlIFVybE1hdGNoZXIuXG4gICAqL1xuICB0aGlzLmNvbXBpbGUgPSBmdW5jdGlvbiAocGF0dGVybiwgY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBVcmxNYXRjaGVyKHBhdHRlcm4sIGV4dGVuZChnZXREZWZhdWx0Q29uZmlnKCksIGNvbmZpZykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5I2lzTWF0Y2hlclxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgYSBgVXJsTWF0Y2hlcmAsIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAgVGhlIG9iamVjdCB0byBwZXJmb3JtIHRoZSB0eXBlIGNoZWNrIGFnYWluc3QuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAgUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBtYXRjaGVzIHRoZSBgVXJsTWF0Y2hlcmAgaW50ZXJmYWNlLCBieVxuICAgKiAgICAgICAgICBpbXBsZW1lbnRpbmcgYWxsIHRoZSBzYW1lIG1ldGhvZHMuXG4gICAqL1xuICB0aGlzLmlzTWF0Y2hlciA9IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKCFpc09iamVjdChvKSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXG4gICAgZm9yRWFjaChVcmxNYXRjaGVyLnByb3RvdHlwZSwgZnVuY3Rpb24odmFsLCBuYW1lKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiAoaXNEZWZpbmVkKG9bbmFtZV0pICYmIGlzRnVuY3Rpb24ob1tuYW1lXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIudXRpbC4kdXJsTWF0Y2hlckZhY3RvcnkjdHlwZVxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBjdXN0b20ge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VHlwZSBgVHlwZWB9IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAqIGdlbmVyYXRlIFVSTHMgd2l0aCB0eXBlZCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgVGhlIHR5cGUgbmFtZS5cbiAgICogQHBhcmFtIHtPYmplY3R8RnVuY3Rpb259IGRlZmluaXRpb24gICBUaGUgdHlwZSBkZWZpbml0aW9uLiBTZWVcbiAgICogICAgICAgIHtAbGluayB1aS5yb3V0ZXIudXRpbC50eXBlOlR5cGUgYFR5cGVgfSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIHZhbHVlcyBhY2NlcHRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R8RnVuY3Rpb259IGRlZmluaXRpb25GbiAob3B0aW9uYWwpIEEgZnVuY3Rpb24gdGhhdCBpcyBpbmplY3RlZCBiZWZvcmUgdGhlIGFwcFxuICAgKiAgICAgICAgcnVudGltZSBzdGFydHMuICBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gaXMgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGBkZWZpbml0aW9uYC5cbiAgICogICAgICAgIFNlZSB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpUeXBlIGBUeXBlYH0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSB2YWx1ZXMgYWNjZXB0ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICBSZXR1cm5zIGAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlcmAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIFRoaXMgaXMgYSBzaW1wbGUgZXhhbXBsZSBvZiBhIGN1c3RvbSB0eXBlIHRoYXQgZW5jb2RlcyBhbmQgZGVjb2RlcyBpdGVtcyBmcm9tIGFuXG4gICAqIGFycmF5LCB1c2luZyB0aGUgYXJyYXkgaW5kZXggYXMgdGhlIFVSTC1lbmNvZGVkIHZhbHVlOlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiB2YXIgbGlzdCA9IFsnSm9obicsICdQYXVsJywgJ0dlb3JnZScsICdSaW5nbyddO1xuICAgKlxuICAgKiAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci50eXBlKCdsaXN0SXRlbScsIHtcbiAgICogICBlbmNvZGU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICogICAgIC8vIFJlcHJlc2VudCB0aGUgbGlzdCBpdGVtIGluIHRoZSBVUkwgdXNpbmcgaXRzIGNvcnJlc3BvbmRpbmcgaW5kZXhcbiAgICogICAgIHJldHVybiBsaXN0LmluZGV4T2YoaXRlbSk7XG4gICAqICAgfSxcbiAgICogICBkZWNvZGU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICogICAgIC8vIExvb2sgdXAgdGhlIGxpc3QgaXRlbSBieSBpbmRleFxuICAgKiAgICAgcmV0dXJuIGxpc3RbcGFyc2VJbnQoaXRlbSwgMTApXTtcbiAgICogICB9LFxuICAgKiAgIGlzOiBmdW5jdGlvbihpdGVtKSB7XG4gICAqICAgICAvLyBFbnN1cmUgdGhlIGl0ZW0gaXMgdmFsaWQgYnkgY2hlY2tpbmcgdG8gc2VlIHRoYXQgaXQgYXBwZWFyc1xuICAgKiAgICAgLy8gaW4gdGhlIGxpc3RcbiAgICogICAgIHJldHVybiBsaXN0LmluZGV4T2YoaXRlbSkgPiAtMTtcbiAgICogICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbGlzdCcsIHtcbiAgICogICB1cmw6IFwiL2xpc3Qve2l0ZW06bGlzdEl0ZW19XCIsXG4gICAqICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcy5pdGVtKTtcbiAgICogICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyAuLi5cbiAgICpcbiAgICogLy8gQ2hhbmdlcyBVUkwgdG8gJy9saXN0LzMnLCBsb2dzIFwiUmluZ29cIiB0byB0aGUgY29uc29sZVxuICAgKiAkc3RhdGUuZ28oJ2xpc3QnLCB7IGl0ZW06IFwiUmluZ29cIiB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFRoaXMgaXMgYSBtb3JlIGNvbXBsZXggZXhhbXBsZSBvZiBhIHR5cGUgdGhhdCByZWxpZXMgb24gZGVwZW5kZW5jeSBpbmplY3Rpb24gdG9cbiAgICogaW50ZXJhY3Qgd2l0aCBzZXJ2aWNlcywgYW5kIHVzZXMgdGhlIHBhcmFtZXRlciBuYW1lIGZyb20gdGhlIFVSTCB0byBpbmZlciBob3cgdG9cbiAgICogaGFuZGxlIGVuY29kaW5nIGFuZCBkZWNvZGluZyBwYXJhbWV0ZXIgdmFsdWVzOlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAvLyBEZWZpbmVzIGEgY3VzdG9tIHR5cGUgdGhhdCBnZXRzIGEgdmFsdWUgZnJvbSBhIHNlcnZpY2UsXG4gICAqIC8vIHdoZXJlIGVhY2ggc2VydmljZSBnZXRzIGRpZmZlcmVudCB0eXBlcyBvZiB2YWx1ZXMgZnJvbVxuICAgKiAvLyBhIGJhY2tlbmQgQVBJOlxuICAgKiAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci50eXBlKCdkYk9iamVjdCcsIHt9LCBmdW5jdGlvbihVc2VycywgUG9zdHMpIHtcbiAgICpcbiAgICogICAvLyBNYXRjaGVzIHVwIHNlcnZpY2VzIHRvIFVSTCBwYXJhbWV0ZXIgbmFtZXNcbiAgICogICB2YXIgc2VydmljZXMgPSB7XG4gICAqICAgICB1c2VyOiBVc2VycyxcbiAgICogICAgIHBvc3Q6IFBvc3RzXG4gICAqICAgfTtcbiAgICpcbiAgICogICByZXR1cm4ge1xuICAgKiAgICAgZW5jb2RlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICogICAgICAgLy8gUmVwcmVzZW50IHRoZSBvYmplY3QgaW4gdGhlIFVSTCB1c2luZyBpdHMgdW5pcXVlIElEXG4gICAqICAgICAgIHJldHVybiBvYmplY3QuaWQ7XG4gICAqICAgICB9LFxuICAgKiAgICAgZGVjb2RlOiBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAqICAgICAgIC8vIExvb2sgdXAgdGhlIG9iamVjdCBieSBJRCwgdXNpbmcgdGhlIHBhcmFtZXRlclxuICAgKiAgICAgICAvLyBuYW1lIChrZXkpIHRvIGNhbGwgdGhlIGNvcnJlY3Qgc2VydmljZVxuICAgKiAgICAgICByZXR1cm4gc2VydmljZXNba2V5XS5maW5kQnlJZCh2YWx1ZSk7XG4gICAqICAgICB9LFxuICAgKiAgICAgaXM6IGZ1bmN0aW9uKG9iamVjdCwga2V5KSB7XG4gICAqICAgICAgIC8vIENoZWNrIHRoYXQgb2JqZWN0IGlzIGEgdmFsaWQgZGJPYmplY3RcbiAgICogICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNPYmplY3Qob2JqZWN0KSAmJiBvYmplY3QuaWQgJiYgc2VydmljZXNba2V5XTtcbiAgICogICAgIH1cbiAgICogICAgIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgKiAgICAgICAvLyBDaGVjayB0aGUgZXF1YWxpdHkgb2YgZGVjb2RlZCBvYmplY3RzIGJ5IGNvbXBhcmluZ1xuICAgKiAgICAgICAvLyB0aGVpciB1bmlxdWUgSURzXG4gICAqICAgICAgIHJldHVybiBhLmlkID09PSBiLmlkO1xuICAgKiAgICAgfVxuICAgKiAgIH07XG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBJbiBhIGNvbmZpZygpIGJsb2NrLCB5b3UgY2FuIHRoZW4gYXR0YWNoIFVSTHMgd2l0aFxuICAgKiAvLyB0eXBlLWFubm90YXRlZCBwYXJhbWV0ZXJzOlxuICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZSgndXNlcnMnLCB7XG4gICAqICAgdXJsOiBcIi91c2Vyc1wiLFxuICAgKiAgIC8vIC4uLlxuICAgKiB9KS5zdGF0ZSgndXNlcnMuaXRlbScsIHtcbiAgICogICB1cmw6IFwiL3t1c2VyOmRiT2JqZWN0fVwiLFxuICAgKiAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAqICAgICAvLyAkc3RhdGVQYXJhbXMudXNlciB3aWxsIG5vdyBiZSBhbiBvYmplY3QgcmV0dXJuZWQgZnJvbVxuICAgKiAgICAgLy8gdGhlIFVzZXJzIHNlcnZpY2VcbiAgICogICB9LFxuICAgKiAgIC8vIC4uLlxuICAgKiB9KTtcbiAgICogPC9wcmU+XG4gICAqL1xuICB0aGlzLnR5cGUgPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbkZuKSB7XG4gICAgaWYgKCFpc0RlZmluZWQoZGVmaW5pdGlvbikpIHJldHVybiAkdHlwZXNbbmFtZV07XG4gICAgaWYgKCR0eXBlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIiArIG5hbWUgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtcblxuICAgICR0eXBlc1tuYW1lXSA9IG5ldyBUeXBlKGV4dGVuZCh7IG5hbWU6IG5hbWUgfSwgZGVmaW5pdGlvbikpO1xuICAgIGlmIChkZWZpbml0aW9uRm4pIHtcbiAgICAgIHR5cGVRdWV1ZS5wdXNoKHsgbmFtZTogbmFtZSwgZGVmOiBkZWZpbml0aW9uRm4gfSk7XG4gICAgICBpZiAoIWVucXVldWUpIGZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIGBmbHVzaFR5cGVRdWV1ZSgpYCB3YWl0cyB1bnRpbCBgJHVybE1hdGNoZXJGYWN0b3J5YCBpcyBpbmplY3RlZCBiZWZvcmUgaW52b2tpbmcgdGhlIHF1ZXVlZCBgZGVmaW5pdGlvbkZuYHNcbiAgZnVuY3Rpb24gZmx1c2hUeXBlUXVldWUoKSB7XG4gICAgd2hpbGUodHlwZVF1ZXVlLmxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlUXVldWUuc2hpZnQoKTtcbiAgICAgIGlmICh0eXBlLnBhdHRlcm4pIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7XG4gICAgICBhbmd1bGFyLmV4dGVuZCgkdHlwZXNbdHlwZS5uYW1lXSwgaW5qZWN0b3IuaW52b2tlKHR5cGUuZGVmKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVnaXN0ZXIgZGVmYXVsdCB0eXBlcy4gU3RvcmUgdGhlbSBpbiB0aGUgcHJvdG90eXBlIG9mICR0eXBlcy5cbiAgZm9yRWFjaChkZWZhdWx0VHlwZXMsIGZ1bmN0aW9uKHR5cGUsIG5hbWUpIHsgJHR5cGVzW25hbWVdID0gbmV3IFR5cGUoZXh0ZW5kKHtuYW1lOiBuYW1lfSwgdHlwZSkpOyB9KTtcbiAgJHR5cGVzID0gaW5oZXJpdCgkdHlwZXMsIHt9KTtcblxuICAvKiBObyBuZWVkIHRvIGRvY3VtZW50ICRnZXQsIHNpbmNlIGl0IHJldHVybnMgdGhpcyAqL1xuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uICgkaW5qZWN0b3IpIHtcbiAgICBpbmplY3RvciA9ICRpbmplY3RvcjtcbiAgICBlbnF1ZXVlID0gZmFsc2U7XG4gICAgZmx1c2hUeXBlUXVldWUoKTtcblxuICAgIGZvckVhY2goZGVmYXVsdFR5cGVzLCBmdW5jdGlvbih0eXBlLCBuYW1lKSB7XG4gICAgICBpZiAoISR0eXBlc1tuYW1lXSkgJHR5cGVzW25hbWVdID0gbmV3IFR5cGUodHlwZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1dO1xuXG4gIHRoaXMuUGFyYW0gPSBmdW5jdGlvbiBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBsb2NhdGlvbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBjb25maWcgPSB1bndyYXBTaG9ydGhhbmQoY29uZmlnKTtcbiAgICB0eXBlID0gZ2V0VHlwZShjb25maWcsIHR5cGUsIGxvY2F0aW9uKTtcbiAgICB2YXIgYXJyYXlNb2RlID0gZ2V0QXJyYXlNb2RlKCk7XG4gICAgdHlwZSA9IGFycmF5TW9kZSA/IHR5cGUuJGFzQXJyYXkoYXJyYXlNb2RlLCBsb2NhdGlvbiA9PT0gXCJzZWFyY2hcIikgOiB0eXBlO1xuICAgIGlmICh0eXBlLm5hbWUgPT09IFwic3RyaW5nXCIgJiYgIWFycmF5TW9kZSAmJiBsb2NhdGlvbiA9PT0gXCJwYXRoXCIgJiYgY29uZmlnLnZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICBjb25maWcudmFsdWUgPSBcIlwiOyAvLyBmb3IgMC4yLng7IGluIDAuMy4wKyBkbyBub3QgYXV0b21hdGljYWxseSBkZWZhdWx0IHRvIFwiXCJcbiAgICB2YXIgaXNPcHRpb25hbCA9IGNvbmZpZy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBzcXVhc2ggPSBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsKTtcbiAgICB2YXIgcmVwbGFjZSA9IGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCk7XG5cbiAgICBmdW5jdGlvbiB1bndyYXBTaG9ydGhhbmQoY29uZmlnKSB7XG4gICAgICB2YXIga2V5cyA9IGlzT2JqZWN0KGNvbmZpZykgPyBvYmplY3RLZXlzKGNvbmZpZykgOiBbXTtcbiAgICAgIHZhciBpc1Nob3J0aGFuZCA9IGluZGV4T2Yoa2V5cywgXCJ2YWx1ZVwiKSA9PT0gLTEgJiYgaW5kZXhPZihrZXlzLCBcInR5cGVcIikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleE9mKGtleXMsIFwic3F1YXNoXCIpID09PSAtMSAmJiBpbmRleE9mKGtleXMsIFwiYXJyYXlcIikgPT09IC0xO1xuICAgICAgaWYgKGlzU2hvcnRoYW5kKSBjb25maWcgPSB7IHZhbHVlOiBjb25maWcgfTtcbiAgICAgIGNvbmZpZy4kJGZuID0gaXNJbmplY3RhYmxlKGNvbmZpZy52YWx1ZSkgPyBjb25maWcudmFsdWUgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25maWcudmFsdWU7IH07XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFR5cGUoY29uZmlnLCB1cmxUeXBlLCBsb2NhdGlvbikge1xuICAgICAgaWYgKGNvbmZpZy50eXBlICYmIHVybFR5cGUpIHRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIitpZCtcIicgaGFzIHR3byB0eXBlIGNvbmZpZ3VyYXRpb25zLlwiKTtcbiAgICAgIGlmICh1cmxUeXBlKSByZXR1cm4gdXJsVHlwZTtcbiAgICAgIGlmICghY29uZmlnLnR5cGUpIHJldHVybiAobG9jYXRpb24gPT09IFwiY29uZmlnXCIgPyAkdHlwZXMuYW55IDogJHR5cGVzLnN0cmluZyk7XG4gICAgICByZXR1cm4gY29uZmlnLnR5cGUgaW5zdGFuY2VvZiBUeXBlID8gY29uZmlnLnR5cGUgOiBuZXcgVHlwZShjb25maWcudHlwZSk7XG4gICAgfVxuXG4gICAgLy8gYXJyYXkgY29uZmlnOiBwYXJhbSBuYW1lIChwYXJhbVtdKSBvdmVycmlkZXMgZGVmYXVsdCBzZXR0aW5ncy4gIGV4cGxpY2l0IGNvbmZpZyBvdmVycmlkZXMgcGFyYW0gbmFtZS5cbiAgICBmdW5jdGlvbiBnZXRBcnJheU1vZGUoKSB7XG4gICAgICB2YXIgYXJyYXlEZWZhdWx0cyA9IHsgYXJyYXk6IChsb2NhdGlvbiA9PT0gXCJzZWFyY2hcIiA/IFwiYXV0b1wiIDogZmFsc2UpIH07XG4gICAgICB2YXIgYXJyYXlQYXJhbU5vbWVuY2xhdHVyZSA9IGlkLm1hdGNoKC9cXFtcXF0kLykgPyB7IGFycmF5OiB0cnVlIH0gOiB7fTtcbiAgICAgIHJldHVybiBleHRlbmQoYXJyYXlEZWZhdWx0cywgYXJyYXlQYXJhbU5vbWVuY2xhdHVyZSwgY29uZmlnKS5hcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGZhbHNlLCB0cnVlLCBvciB0aGUgc3F1YXNoIHZhbHVlIHRvIGluZGljYXRlIHRoZSBcImRlZmF1bHQgcGFyYW1ldGVyIHVybCBzcXVhc2ggcG9saWN5XCIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0U3F1YXNoUG9saWN5KGNvbmZpZywgaXNPcHRpb25hbCkge1xuICAgICAgdmFyIHNxdWFzaCA9IGNvbmZpZy5zcXVhc2g7XG4gICAgICBpZiAoIWlzT3B0aW9uYWwgfHwgc3F1YXNoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCFpc0RlZmluZWQoc3F1YXNoKSB8fCBzcXVhc2ggPT0gbnVsbCkgcmV0dXJuIGRlZmF1bHRTcXVhc2hQb2xpY3k7XG4gICAgICBpZiAoc3F1YXNoID09PSB0cnVlIHx8IGlzU3RyaW5nKHNxdWFzaCkpIHJldHVybiBzcXVhc2g7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIiArIHNxdWFzaCArIFwiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCkge1xuICAgICAgdmFyIHJlcGxhY2UsIGNvbmZpZ3VyZWRLZXlzLCBkZWZhdWx0UG9saWN5ID0gW1xuICAgICAgICB7IGZyb206IFwiXCIsICAgdG86IChpc09wdGlvbmFsIHx8IGFycmF5TW9kZSA/IHVuZGVmaW5lZCA6IFwiXCIpIH0sXG4gICAgICAgIHsgZnJvbTogbnVsbCwgdG86IChpc09wdGlvbmFsIHx8IGFycmF5TW9kZSA/IHVuZGVmaW5lZCA6IFwiXCIpIH1cbiAgICAgIF07XG4gICAgICByZXBsYWNlID0gaXNBcnJheShjb25maWcucmVwbGFjZSkgPyBjb25maWcucmVwbGFjZSA6IFtdO1xuICAgICAgaWYgKGlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgIHJlcGxhY2UucHVzaCh7IGZyb206IHNxdWFzaCwgdG86IHVuZGVmaW5lZCB9KTtcbiAgICAgIGNvbmZpZ3VyZWRLZXlzID0gbWFwKHJlcGxhY2UsIGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uZnJvbTsgfSApO1xuICAgICAgcmV0dXJuIGZpbHRlcihkZWZhdWx0UG9saWN5LCBmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpbmRleE9mKGNvbmZpZ3VyZWRLZXlzLCBpdGVtLmZyb20pID09PSAtMTsgfSkuY29uY2F0KHJlcGxhY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtJbnRlcm5hbF0gR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcGFyYW1ldGVyLCB3aGljaCBtYXkgYmUgYW4gaW5qZWN0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAkJGdldERlZmF1bHRWYWx1ZSgpIHtcbiAgICAgIGlmICghaW5qZWN0b3IpIHRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO1xuICAgICAgcmV0dXJuIGluamVjdG9yLmludm9rZShjb25maWcuJCRmbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW0ludGVybmFsXSBHZXRzIHRoZSBkZWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGEgdmFsdWUgaWYgdGhlIHZhbHVlIGlzIGRlZmluZWQsIG90aGVyd2lzZSwgcmV0dXJucyB0aGVcbiAgICAgKiBkZWZhdWx0IHZhbHVlLCB3aGljaCBtYXkgYmUgdGhlIHJlc3VsdCBvZiBhbiBpbmplY3RhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICR2YWx1ZSh2YWx1ZSkge1xuICAgICAgZnVuY3Rpb24gaGFzUmVwbGFjZVZhbCh2YWwpIHsgcmV0dXJuIGZ1bmN0aW9uKG9iaikgeyByZXR1cm4gb2JqLmZyb20gPT09IHZhbDsgfTsgfVxuICAgICAgZnVuY3Rpb24gJHJlcGxhY2UodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0gbWFwKGZpbHRlcihzZWxmLnJlcGxhY2UsIGhhc1JlcGxhY2VWYWwodmFsdWUpKSwgZnVuY3Rpb24ob2JqKSB7IHJldHVybiBvYmoudG87IH0pO1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQubGVuZ3RoID8gcmVwbGFjZW1lbnRbMF0gOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gJHJlcGxhY2UodmFsdWUpO1xuICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyBzZWxmLnR5cGUuZGVjb2RlKHZhbHVlKSA6ICQkZ2V0RGVmYXVsdFZhbHVlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcoKSB7IHJldHVybiBcIntQYXJhbTpcIiArIGlkICsgXCIgXCIgKyB0eXBlICsgXCIgc3F1YXNoOiAnXCIgKyBzcXVhc2ggKyBcIicgb3B0aW9uYWw6IFwiICsgaXNPcHRpb25hbCArIFwifVwiOyB9XG5cbiAgICBleHRlbmQodGhpcywge1xuICAgICAgaWQ6IGlkLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgIGFycmF5OiBhcnJheU1vZGUsXG4gICAgICBzcXVhc2g6IHNxdWFzaCxcbiAgICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgICBpc09wdGlvbmFsOiBpc09wdGlvbmFsLFxuICAgICAgdmFsdWU6ICR2YWx1ZSxcbiAgICAgIGR5bmFtaWM6IHVuZGVmaW5lZCxcbiAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgdG9TdHJpbmc6IHRvU3RyaW5nXG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gUGFyYW1TZXQocGFyYW1zKSB7XG4gICAgZXh0ZW5kKHRoaXMsIHBhcmFtcyB8fCB7fSk7XG4gIH1cblxuICBQYXJhbVNldC5wcm90b3R5cGUgPSB7XG4gICAgJCRuZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGluaGVyaXQodGhpcywgZXh0ZW5kKG5ldyBQYXJhbVNldCgpLCB7ICQkcGFyZW50OiB0aGlzfSkpO1xuICAgIH0sXG4gICAgJCRrZXlzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIga2V5cyA9IFtdLCBjaGFpbiA9IFtdLCBwYXJlbnQgPSB0aGlzLFxuICAgICAgICBpZ25vcmUgPSBvYmplY3RLZXlzKFBhcmFtU2V0LnByb3RvdHlwZSk7XG4gICAgICB3aGlsZSAocGFyZW50KSB7IGNoYWluLnB1c2gocGFyZW50KTsgcGFyZW50ID0gcGFyZW50LiQkcGFyZW50OyB9XG4gICAgICBjaGFpbi5yZXZlcnNlKCk7XG4gICAgICBmb3JFYWNoKGNoYWluLCBmdW5jdGlvbihwYXJhbXNldCkge1xuICAgICAgICBmb3JFYWNoKG9iamVjdEtleXMocGFyYW1zZXQpLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleE9mKGtleXMsIGtleSkgPT09IC0xICYmIGluZGV4T2YoaWdub3JlLCBrZXkpID09PSAtMSkga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9LFxuICAgICQkdmFsdWVzOiBmdW5jdGlvbihwYXJhbVZhbHVlcykge1xuICAgICAgdmFyIHZhbHVlcyA9IHt9LCBzZWxmID0gdGhpcztcbiAgICAgIGZvckVhY2goc2VsZi4kJGtleXMoKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gc2VsZltrZXldLnZhbHVlKHBhcmFtVmFsdWVzICYmIHBhcmFtVmFsdWVzW2tleV0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH0sXG4gICAgJCRlcXVhbHM6IGZ1bmN0aW9uKHBhcmFtVmFsdWVzMSwgcGFyYW1WYWx1ZXMyKSB7XG4gICAgICB2YXIgZXF1YWwgPSB0cnVlLCBzZWxmID0gdGhpcztcbiAgICAgIGZvckVhY2goc2VsZi4kJGtleXMoKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBsZWZ0ID0gcGFyYW1WYWx1ZXMxICYmIHBhcmFtVmFsdWVzMVtrZXldLCByaWdodCA9IHBhcmFtVmFsdWVzMiAmJiBwYXJhbVZhbHVlczJba2V5XTtcbiAgICAgICAgaWYgKCFzZWxmW2tleV0udHlwZS5lcXVhbHMobGVmdCwgcmlnaHQpKSBlcXVhbCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZXF1YWw7XG4gICAgfSxcbiAgICAkJHZhbGlkYXRlczogZnVuY3Rpb24gJCR2YWxpZGF0ZShwYXJhbVZhbHVlcykge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWUsIGlzT3B0aW9uYWwsIHZhbCwgcGFyYW0sIHNlbGYgPSB0aGlzO1xuXG4gICAgICBmb3JFYWNoKHRoaXMuJCRrZXlzKCksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBwYXJhbSA9IHNlbGZba2V5XTtcbiAgICAgICAgdmFsID0gcGFyYW1WYWx1ZXNba2V5XTtcbiAgICAgICAgaXNPcHRpb25hbCA9ICF2YWwgJiYgcGFyYW0uaXNPcHRpb25hbDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIChpc09wdGlvbmFsIHx8ICEhcGFyYW0udHlwZS5pcyh2YWwpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgICQkcGFyZW50OiB1bmRlZmluZWRcbiAgfTtcblxuICB0aGlzLlBhcmFtU2V0ID0gUGFyYW1TZXQ7XG59XG5cbi8vIFJlZ2lzdGVyIGFzIGEgcHJvdmlkZXIgc28gaXQncyBhdmFpbGFibGUgdG8gb3RoZXIgcHJvdmlkZXJzXG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnV0aWwnKS5wcm92aWRlcignJHVybE1hdGNoZXJGYWN0b3J5JywgJFVybE1hdGNoZXJGYWN0b3J5KTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcpLnJ1bihbJyR1cmxNYXRjaGVyRmFjdG9yeScsIGZ1bmN0aW9uKCR1cmxNYXRjaGVyRmFjdG9yeSkgeyB9XSk7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyUHJvdmlkZXJcbiAqXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcbiAqIEByZXF1aXJlcyAkbG9jYXRpb25Qcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCR1cmxSb3V0ZXJQcm92aWRlcmAgaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB3YXRjaGluZyBgJGxvY2F0aW9uYC4gXG4gKiBXaGVuIGAkbG9jYXRpb25gIGNoYW5nZXMgaXQgcnVucyB0aHJvdWdoIGEgbGlzdCBvZiBydWxlcyBvbmUgYnkgb25lIHVudGlsIGEgXG4gKiBtYXRjaCBpcyBmb3VuZC4gYCR1cmxSb3V0ZXJQcm92aWRlcmAgaXMgdXNlZCBiZWhpbmQgdGhlIHNjZW5lcyBhbnl0aW1lIHlvdSBzcGVjaWZ5IFxuICogYSB1cmwgaW4gYSBzdGF0ZSBjb25maWd1cmF0aW9uLiBBbGwgdXJscyBhcmUgY29tcGlsZWQgaW50byBhIFVybE1hdGNoZXIgb2JqZWN0LlxuICpcbiAqIFRoZXJlIGFyZSBzZXZlcmFsIG1ldGhvZHMgb24gYCR1cmxSb3V0ZXJQcm92aWRlcmAgdGhhdCBtYWtlIGl0IHVzZWZ1bCB0byB1c2UgZGlyZWN0bHlcbiAqIGluIHlvdXIgbW9kdWxlIGNvbmZpZy5cbiAqL1xuJFVybFJvdXRlclByb3ZpZGVyLiRpbmplY3QgPSBbJyRsb2NhdGlvblByb3ZpZGVyJywgJyR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyJ107XG5mdW5jdGlvbiAkVXJsUm91dGVyUHJvdmlkZXIoICAgJGxvY2F0aW9uUHJvdmlkZXIsICAgJHVybE1hdGNoZXJGYWN0b3J5KSB7XG4gIHZhciBydWxlcyA9IFtdLCBvdGhlcndpc2UgPSBudWxsLCBpbnRlcmNlcHREZWZlcnJlZCA9IGZhbHNlLCBsaXN0ZW5lcjtcblxuICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgYSBwcmVmaXggb2YgYWxsIHN0cmluZ3MgbWF0Y2hpbmcgdGhlIFJlZ0V4cFxuICBmdW5jdGlvbiByZWdFeHBQcmVmaXgocmUpIHtcbiAgICB2YXIgcHJlZml4ID0gL15cXF4oKD86XFxcXFteYS16QS1aMC05XXxbXlxcXFxcXFtcXF1cXF4kKis/LigpfHt9XSspKikvLmV4ZWMocmUuc291cmNlKTtcbiAgICByZXR1cm4gKHByZWZpeCAhPSBudWxsKSA/IHByZWZpeFsxXS5yZXBsYWNlKC9cXFxcKC4pL2csIFwiJDFcIikgOiAnJztcbiAgfVxuXG4gIC8vIEludGVycG9sYXRlcyBtYXRjaGVkIHZhbHVlcyBpbnRvIGEgU3RyaW5nLnJlcGxhY2UoKS1zdHlsZSBwYXR0ZXJuXG4gIGZ1bmN0aW9uIGludGVycG9sYXRlKHBhdHRlcm4sIG1hdGNoKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvXFwkKFxcJHxcXGR7MSwyfSkvLCBmdW5jdGlvbiAobSwgd2hhdCkge1xuICAgICAgcmV0dXJuIG1hdGNoW3doYXQgPT09ICckJyA/IDAgOiBOdW1iZXIod2hhdCldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlciNydWxlXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRGVmaW5lcyBydWxlcyB0aGF0IGFyZSB1c2VkIGJ5IGAkdXJsUm91dGVyUHJvdmlkZXJgIHRvIGZpbmQgbWF0Y2hlcyBmb3JcbiAgICogc3BlY2lmaWMgVVJMcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPHByZT5cbiAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAqXG4gICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgKiAgIC8vIEhlcmUncyBhbiBleGFtcGxlIG9mIGhvdyB5b3UgbWlnaHQgYWxsb3cgY2FzZSBpbnNlbnNpdGl2ZSB1cmxzXG4gICAqICAgJHVybFJvdXRlclByb3ZpZGVyLnJ1bGUoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAqICAgICB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCksXG4gICAqICAgICAgICAgbm9ybWFsaXplZCA9IHBhdGgudG9Mb3dlckNhc2UoKTtcbiAgICpcbiAgICogICAgIGlmIChwYXRoICE9PSBub3JtYWxpemVkKSB7XG4gICAqICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKiB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBydWxlIEhhbmRsZXIgZnVuY3Rpb24gdGhhdCB0YWtlcyBgJGluamVjdG9yYCBhbmQgYCRsb2NhdGlvbmBcbiAgICogc2VydmljZXMgYXMgYXJndW1lbnRzLiBZb3UgY2FuIHVzZSB0aGVtIHRvIHJldHVybiBhIHZhbGlkIHBhdGggYXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgLSBgJHVybFJvdXRlclByb3ZpZGVyYCBpbnN0YW5jZVxuICAgKi9cbiAgdGhpcy5ydWxlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocnVsZSkpIHRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgcnVsZXMucHVzaChydWxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlciNvdGhlcndpc2VcbiAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBEZWZpbmVzIGEgcGF0aCB0aGF0IGlzIHVzZWQgd2hlbiBhbiBpbnZhbGlkIHJvdXRlIGlzIHJlcXVlc3RlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPHByZT5cbiAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAqXG4gICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgKiAgIC8vIGlmIHRoZSBwYXRoIGRvZXNuJ3QgbWF0Y2ggYW55IG9mIHRoZSB1cmxzIHlvdSBjb25maWd1cmVkXG4gICAqICAgLy8gb3RoZXJ3aXNlIHdpbGwgdGFrZSBjYXJlIG9mIHJvdXRpbmcgdGhlIHVzZXIgdG8gdGhlXG4gICAqICAgLy8gc3BlY2lmaWVkIHVybFxuICAgKiAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9pbmRleCcpO1xuICAgKlxuICAgKiAgIC8vIEV4YW1wbGUgb2YgdXNpbmcgZnVuY3Rpb24gcnVsZSBhcyBwYXJhbVxuICAgKiAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAqICAgICByZXR1cm4gJy9hL3ZhbGlkL3VybCc7XG4gICAqICAgfSk7XG4gICAqIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBydWxlIFRoZSB1cmwgcGF0aCB5b3Ugd2FudCB0byByZWRpcmVjdCB0byBvciBhIGZ1bmN0aW9uIFxuICAgKiBydWxlIHRoYXQgcmV0dXJucyB0aGUgdXJsIHBhdGguIFRoZSBmdW5jdGlvbiB2ZXJzaW9uIGlzIHBhc3NlZCB0d28gcGFyYW1zOiBcbiAgICogYCRpbmplY3RvcmAgYW5kIGAkbG9jYXRpb25gIHNlcnZpY2VzLCBhbmQgbXVzdCByZXR1cm4gYSB1cmwgc3RyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGAkdXJsUm91dGVyUHJvdmlkZXJgIC0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgaW5zdGFuY2VcbiAgICovXG4gIHRoaXMub3RoZXJ3aXNlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICBpZiAoaXNTdHJpbmcocnVsZSkpIHtcbiAgICAgIHZhciByZWRpcmVjdCA9IHJ1bGU7XG4gICAgICBydWxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVkaXJlY3Q7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0Z1bmN0aW9uKHJ1bGUpKSB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIG90aGVyd2lzZSA9IHJ1bGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICBmdW5jdGlvbiBoYW5kbGVJZk1hdGNoKCRpbmplY3RvciwgaGFuZGxlciwgbWF0Y2gpIHtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHJlc3VsdCA9ICRpbmplY3Rvci5pbnZva2UoaGFuZGxlciwgaGFuZGxlciwgeyAkbWF0Y2g6IG1hdGNoIH0pO1xuICAgIHJldHVybiBpc0RlZmluZWQocmVzdWx0KSA/IHJlc3VsdCA6IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyI3doZW5cbiAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIGZvciBhIGdpdmVuIHVybCBtYXRjaGluZy4gaWYgaGFuZGxlIGlzIGEgc3RyaW5nLCBpdCBpc1xuICAgKiB0cmVhdGVkIGFzIGEgcmVkaXJlY3QsIGFuZCBpcyBpbnRlcnBvbGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzeW50YXggb2YgbWF0Y2hcbiAgICogKGkuZS4gbGlrZSBgU3RyaW5nLnJlcGxhY2UoKWAgZm9yIGBSZWdFeHBgLCBvciBsaWtlIGEgYFVybE1hdGNoZXJgIHBhdHRlcm4gb3RoZXJ3aXNlKS5cbiAgICpcbiAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBmdW5jdGlvbiwgaXQgaXMgaW5qZWN0YWJsZS4gSXQgZ2V0cyBpbnZva2VkIGlmIGAkbG9jYXRpb25gXG4gICAqIG1hdGNoZXMuIFlvdSBoYXZlIHRoZSBvcHRpb24gb2YgaW5qZWN0IHRoZSBtYXRjaCBvYmplY3QgYXMgYCRtYXRjaGAuXG4gICAqXG4gICAqIFRoZSBoYW5kbGVyIGNhbiByZXR1cm5cbiAgICpcbiAgICogLSAqKmZhbHN5KiogdG8gaW5kaWNhdGUgdGhhdCB0aGUgcnVsZSBkaWRuJ3QgbWF0Y2ggYWZ0ZXIgYWxsLCB0aGVuIGAkdXJsUm91dGVyYFxuICAgKiAgIHdpbGwgY29udGludWUgdHJ5aW5nIHRvIGZpbmQgYW5vdGhlciBvbmUgdGhhdCBtYXRjaGVzLlxuICAgKiAtICoqc3RyaW5nKiogd2hpY2ggaXMgdHJlYXRlZCBhcyBhIHJlZGlyZWN0IGFuZCBwYXNzZWQgdG8gYCRsb2NhdGlvbi51cmwoKWBcbiAgICogLSAqKnZvaWQqKiBvciBhbnkgKip0cnV0aHkqKiB2YWx1ZSB0ZWxscyBgJHVybFJvdXRlcmAgdGhhdCB0aGUgdXJsIHdhcyBoYW5kbGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8cHJlPlxuICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcbiAgICpcbiAgICogYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAqICAgJHVybFJvdXRlclByb3ZpZGVyLndoZW4oJHN0YXRlLnVybCwgZnVuY3Rpb24gKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSB7XG4gICAqICAgICBpZiAoJHN0YXRlLiRjdXJyZW50Lm5hdmlnYWJsZSAhPT0gc3RhdGUgfHxcbiAgICogICAgICAgICAhZXF1YWxGb3JLZXlzKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSB7XG4gICAqICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhzdGF0ZSwgJG1hdGNoLCBmYWxzZSk7XG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB3aGF0IFRoZSBpbmNvbWluZyBwYXRoIHRoYXQgeW91IHdhbnQgdG8gcmVkaXJlY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gaGFuZGxlciBUaGUgcGF0aCB5b3Ugd2FudCB0byByZWRpcmVjdCB5b3VyIHVzZXIgdG8uXG4gICAqL1xuICB0aGlzLndoZW4gPSBmdW5jdGlvbiAod2hhdCwgaGFuZGxlcikge1xuICAgIHZhciByZWRpcmVjdCwgaGFuZGxlcklzU3RyaW5nID0gaXNTdHJpbmcoaGFuZGxlcik7XG4gICAgaWYgKGlzU3RyaW5nKHdoYXQpKSB3aGF0ID0gJHVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUod2hhdCk7XG5cbiAgICBpZiAoIWhhbmRsZXJJc1N0cmluZyAmJiAhaXNGdW5jdGlvbihoYW5kbGVyKSAmJiAhaXNBcnJheShoYW5kbGVyKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ2hhbmRsZXInIGluIHdoZW4oKVwiKTtcblxuICAgIHZhciBzdHJhdGVnaWVzID0ge1xuICAgICAgbWF0Y2hlcjogZnVuY3Rpb24gKHdoYXQsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGhhbmRsZXJJc1N0cmluZykge1xuICAgICAgICAgIHJlZGlyZWN0ID0gJHVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUoaGFuZGxlcik7XG4gICAgICAgICAgaGFuZGxlciA9IFsnJG1hdGNoJywgZnVuY3Rpb24gKCRtYXRjaCkgeyByZXR1cm4gcmVkaXJlY3QuZm9ybWF0KCRtYXRjaCk7IH1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUlmTWF0Y2goJGluamVjdG9yLCBoYW5kbGVyLCB3aGF0LmV4ZWMoJGxvY2F0aW9uLnBhdGgoKSwgJGxvY2F0aW9uLnNlYXJjaCgpKSk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBwcmVmaXg6IGlzU3RyaW5nKHdoYXQucHJlZml4KSA/IHdoYXQucHJlZml4IDogJydcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVnZXg6IGZ1bmN0aW9uICh3aGF0LCBoYW5kbGVyKSB7XG4gICAgICAgIGlmICh3aGF0Lmdsb2JhbCB8fCB3aGF0LnN0aWNreSkgdGhyb3cgbmV3IEVycm9yKFwid2hlbigpIFJlZ0V4cCBtdXN0IG5vdCBiZSBnbG9iYWwgb3Igc3RpY2t5XCIpO1xuXG4gICAgICAgIGlmIChoYW5kbGVySXNTdHJpbmcpIHtcbiAgICAgICAgICByZWRpcmVjdCA9IGhhbmRsZXI7XG4gICAgICAgICAgaGFuZGxlciA9IFsnJG1hdGNoJywgZnVuY3Rpb24gKCRtYXRjaCkgeyByZXR1cm4gaW50ZXJwb2xhdGUocmVkaXJlY3QsICRtYXRjaCk7IH1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUlmTWF0Y2goJGluamVjdG9yLCBoYW5kbGVyLCB3aGF0LmV4ZWMoJGxvY2F0aW9uLnBhdGgoKSkpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJlZml4OiByZWdFeHBQcmVmaXgod2hhdClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjaGVjayA9IHsgbWF0Y2hlcjogJHVybE1hdGNoZXJGYWN0b3J5LmlzTWF0Y2hlcih3aGF0KSwgcmVnZXg6IHdoYXQgaW5zdGFuY2VvZiBSZWdFeHAgfTtcblxuICAgIGZvciAodmFyIG4gaW4gY2hlY2spIHtcbiAgICAgIGlmIChjaGVja1tuXSkgcmV0dXJuIHRoaXMucnVsZShzdHJhdGVnaWVzW25dKHdoYXQsIGhhbmRsZXIpKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICd3aGF0JyBpbiB3aGVuKClcIik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJQcm92aWRlciNkZWZlckludGVyY2VwdFxuICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERpc2FibGVzIChvciBlbmFibGVzKSBkZWZlcnJpbmcgbG9jYXRpb24gY2hhbmdlIGludGVyY2VwdGlvbi5cbiAgICpcbiAgICogSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIHRoZSBiZWhhdmlvciBvZiBzeW5jaW5nIHRoZSBVUkwgKGZvciBleGFtcGxlLCBpZiB5b3Ugd2lzaCB0b1xuICAgKiBkZWZlciBhIHRyYW5zaXRpb24gYnV0IG1haW50YWluIHRoZSBjdXJyZW50IFVSTCksIGNhbGwgdGhpcyBtZXRob2QgYXQgY29uZmlndXJhdGlvbiB0aW1lLlxuICAgKiBUaGVuLCBhdCBydW4gdGltZSwgY2FsbCBgJHVybFJvdXRlci5saXN0ZW4oKWAgYWZ0ZXIgeW91IGhhdmUgY29uZmlndXJlZCB5b3VyIG93blxuICAgKiBgJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc2AgZXZlbnQgaGFuZGxlci5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPHByZT5cbiAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAqXG4gICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgKlxuICAgKiAgIC8vIFByZXZlbnQgJHVybFJvdXRlciBmcm9tIGF1dG9tYXRpY2FsbHkgaW50ZXJjZXB0aW5nIFVSTCBjaGFuZ2VzO1xuICAgKiAgIC8vIHRoaXMgYWxsb3dzIHlvdSB0byBjb25maWd1cmUgY3VzdG9tIGJlaGF2aW9yIGluIGJldHdlZW5cbiAgICogICAvLyBsb2NhdGlvbiBjaGFuZ2VzIGFuZCByb3V0ZSBzeW5jaHJvbml6YXRpb246XG4gICAqICAgJHVybFJvdXRlclByb3ZpZGVyLmRlZmVySW50ZXJjZXB0KCk7XG4gICAqXG4gICAqIH0pLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHVybFJvdXRlciwgVXNlclNlcnZpY2UpIHtcbiAgICpcbiAgICogICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICogICAgIC8vIFVzZXJTZXJ2aWNlIGlzIGFuIGV4YW1wbGUgc2VydmljZSBmb3IgbWFuYWdpbmcgdXNlciBzdGF0ZVxuICAgKiAgICAgaWYgKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkgcmV0dXJuO1xuICAgKlxuICAgKiAgICAgLy8gUHJldmVudCAkdXJsUm91dGVyJ3MgZGVmYXVsdCBoYW5kbGVyIGZyb20gZmlyaW5nXG4gICAqICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAqXG4gICAqICAgICBVc2VyU2VydmljZS5oYW5kbGVMb2dpbigpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIC8vIE9uY2UgdGhlIHVzZXIgaGFzIGxvZ2dlZCBpbiwgc3luYyB0aGUgY3VycmVudCBVUkxcbiAgICogICAgICAgLy8gdG8gdGhlIHJvdXRlcjpcbiAgICogICAgICAgJHVybFJvdXRlci5zeW5jKCk7XG4gICAqICAgICB9KTtcbiAgICogICB9KTtcbiAgICpcbiAgICogICAvLyBDb25maWd1cmVzICR1cmxSb3V0ZXIncyBsaXN0ZW5lciAqYWZ0ZXIqIHlvdXIgY3VzdG9tIGxpc3RlbmVyXG4gICAqICAgJHVybFJvdXRlci5saXN0ZW4oKTtcbiAgICogfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZmVyIEluZGljYXRlcyB3aGV0aGVyIHRvIGRlZmVyIGxvY2F0aW9uIGNoYW5nZSBpbnRlcmNlcHRpb24uIFBhc3NpbmdcbiAgICAgICAgICAgIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cbiAgICovXG4gIHRoaXMuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHtcbiAgICBpZiAoZGVmZXIgPT09IHVuZGVmaW5lZCkgZGVmZXIgPSB0cnVlO1xuICAgIGludGVyY2VwdERlZmVycmVkID0gZGVmZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyXG4gICAqXG4gICAqIEByZXF1aXJlcyAkbG9jYXRpb25cbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgKiBAcmVxdWlyZXMgJGJyb3dzZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqL1xuICB0aGlzLiRnZXQgPSAkZ2V0O1xuICAkZ2V0LiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgJyRpbmplY3RvcicsICckYnJvd3NlciddO1xuICBmdW5jdGlvbiAkZ2V0KCAgICRsb2NhdGlvbiwgICAkcm9vdFNjb3BlLCAgICRpbmplY3RvciwgICAkYnJvd3Nlcikge1xuXG4gICAgdmFyIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgbG9jYXRpb24gPSAkbG9jYXRpb24udXJsKCksIGxhc3RQdXNoZWRVcmw7XG5cbiAgICBmdW5jdGlvbiBhcHBlbmRCYXNlUGF0aCh1cmwsIGlzSHRtbDUsIGFic29sdXRlKSB7XG4gICAgICBpZiAoYmFzZUhyZWYgPT09ICcvJykgcmV0dXJuIHVybDtcbiAgICAgIGlmIChpc0h0bWw1KSByZXR1cm4gYmFzZUhyZWYuc2xpY2UoMCwgLTEpICsgdXJsO1xuICAgICAgaWYgKGFic29sdXRlKSByZXR1cm4gYmFzZUhyZWYuc2xpY2UoMSkgKyB1cmw7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIC8vIFRPRE86IE9wdGltaXplIGdyb3VwcyBvZiBydWxlcyB3aXRoIG5vbi1lbXB0eSBwcmVmaXggaW50byBzb21lIHNvcnQgb2YgZGVjaXNpb24gdHJlZVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShldnQpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgIHZhciBpZ25vcmVVcGRhdGUgPSBsYXN0UHVzaGVkVXJsICYmICRsb2NhdGlvbi51cmwoKSA9PT0gbGFzdFB1c2hlZFVybDtcbiAgICAgIGxhc3RQdXNoZWRVcmwgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoaWdub3JlVXBkYXRlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgZnVuY3Rpb24gY2hlY2socnVsZSkge1xuICAgICAgICB2YXIgaGFuZGxlZCA9IHJ1bGUoJGluamVjdG9yLCAkbG9jYXRpb24pO1xuXG4gICAgICAgIGlmICghaGFuZGxlZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaXNTdHJpbmcoaGFuZGxlZCkpICRsb2NhdGlvbi5yZXBsYWNlKCkudXJsKGhhbmRsZWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBuID0gcnVsZXMubGVuZ3RoLCBpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChjaGVjayhydWxlc1tpXSkpIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGFsd2F5cyBjaGVjayBvdGhlcndpc2UgbGFzdCB0byBhbGxvdyBkeW5hbWljIHVwZGF0ZXMgdG8gdGhlIHNldCBvZiBydWxlc1xuICAgICAgaWYgKG90aGVyd2lzZSkgY2hlY2sob3RoZXJ3aXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyIHx8ICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcbiAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBpZiAoIWludGVyY2VwdERlZmVycmVkKSBsaXN0ZW4oKTtcblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyI3N5bmNcbiAgICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZTsgdGhlIHNhbWUgdXBkYXRlIHRoYXQgaGFwcGVucyB3aGVuIHRoZSBhZGRyZXNzIGJhciB1cmwgY2hhbmdlcywgYWthIGAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzYC5cbiAgICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIHRvIHVzZSBgcHJldmVudERlZmF1bHQoKWAgb24gdGhlIGAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzYCBldmVudCxcbiAgICAgICAqIHBlcmZvcm0gc29tZSBjdXN0b20gbG9naWMgKHJvdXRlIHByb3RlY3Rpb24sIGF1dGgsIGNvbmZpZywgcmVkaXJlY3Rpb24sIGV0YykgYW5kIHRoZW4gZmluYWxseSBwcm9jZWVkXG4gICAgICAgKiB3aXRoIHRoZSB0cmFuc2l0aW9uIGJ5IGNhbGxpbmcgYCR1cmxSb3V0ZXIuc3luYygpYC5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogPHByZT5cbiAgICAgICAqIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKVxuICAgICAgICogICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICR1cmxSb3V0ZXIpIHtcbiAgICAgICAqICAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICogICAgICAgLy8gSGFsdCBzdGF0ZSBjaGFuZ2UgZnJvbSBldmVuIHN0YXJ0aW5nXG4gICAgICAgKiAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAqICAgICAgIC8vIFBlcmZvcm0gY3VzdG9tIGxvZ2ljXG4gICAgICAgKiAgICAgICB2YXIgbWVldHNSZXF1aXJlbWVudCA9IC4uLlxuICAgICAgICogICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgdXBkYXRlIGFuZCBzdGF0ZSB0cmFuc2l0aW9uIGlmIGxvZ2ljIGFsbG93c1xuICAgICAgICogICAgICAgaWYgKG1lZXRzUmVxdWlyZW1lbnQpICR1cmxSb3V0ZXIuc3luYygpO1xuICAgICAgICogICAgIH0pO1xuICAgICAgICogfSk7XG4gICAgICAgKiA8L3ByZT5cbiAgICAgICAqL1xuICAgICAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfSxcblxuICAgICAgbGlzdGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbigpO1xuICAgICAgfSxcblxuICAgICAgdXBkYXRlOiBmdW5jdGlvbihyZWFkKSB7XG4gICAgICAgIGlmIChyZWFkKSB7XG4gICAgICAgICAgbG9jYXRpb24gPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkbG9jYXRpb24udXJsKCkgPT09IGxvY2F0aW9uKSByZXR1cm47XG5cbiAgICAgICAgJGxvY2F0aW9uLnVybChsb2NhdGlvbik7XG4gICAgICAgICRsb2NhdGlvbi5yZXBsYWNlKCk7XG4gICAgICB9LFxuXG4gICAgICBwdXNoOiBmdW5jdGlvbih1cmxNYXRjaGVyLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgJGxvY2F0aW9uLnVybCh1cmxNYXRjaGVyLmZvcm1hdChwYXJhbXMgfHwge30pKTtcbiAgICAgICAgbGFzdFB1c2hlZFVybCA9IG9wdGlvbnMgJiYgb3B0aW9ucy4kJGF2b2lkUmVzeW5jID8gJGxvY2F0aW9uLnVybCgpIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlcGxhY2UpICRsb2NhdGlvbi5yZXBsYWNlKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgdWkucm91dGVyLnJvdXRlci4kdXJsUm91dGVyI2hyZWZcbiAgICAgICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIucm91dGVyLiR1cmxSb3V0ZXJcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEEgVVJMIGdlbmVyYXRpb24gbWV0aG9kIHRoYXQgcmV0dXJucyB0aGUgY29tcGlsZWQgVVJMIGZvciBhIGdpdmVuXG4gICAgICAgKiB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyIGBVcmxNYXRjaGVyYH0sIHBvcHVsYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiA8cHJlPlxuICAgICAgICogJGJvYiA9ICR1cmxSb3V0ZXIuaHJlZihuZXcgVXJsTWF0Y2hlcihcIi9hYm91dC86cGVyc29uXCIpLCB7XG4gICAgICAgKiAgIHBlcnNvbjogXCJib2JcIlxuICAgICAgICogfSk7XG4gICAgICAgKiAvLyAkYm9iID09IFwiL2Fib3V0L2JvYlwiO1xuICAgICAgICogPC9wcmU+XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtVcmxNYXRjaGVyfSB1cmxNYXRjaGVyIFRoZSBgVXJsTWF0Y2hlcmAgb2JqZWN0IHdoaWNoIGlzIHVzZWQgYXMgdGhlIHRlbXBsYXRlIG9mIHRoZSBVUkwgdG8gZ2VuZXJhdGUuXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IHBhcmFtcyBBbiBvYmplY3Qgb2YgcGFyYW1ldGVyIHZhbHVlcyB0byBmaWxsIHRoZSBtYXRjaGVyJ3MgcmVxdWlyZWQgcGFyYW1ldGVycy5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAgICpcbiAgICAgICAqIC0gKipgYWJzb2x1dGVgKiogLSB7Ym9vbGVhbj1mYWxzZX0sICBJZiB0cnVlIHdpbGwgZ2VuZXJhdGUgYW4gYWJzb2x1dGUgdXJsLCBlLmcuIFwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS9mdWxsdXJsXCIuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVsbHkgY29tcGlsZWQgVVJMLCBvciBgbnVsbGAgaWYgYHBhcmFtc2AgZmFpbCB2YWxpZGF0aW9uIGFnYWluc3QgYHVybE1hdGNoZXJgXG4gICAgICAgKi9cbiAgICAgIGhyZWY6IGZ1bmN0aW9uKHVybE1hdGNoZXIsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXVybE1hdGNoZXIudmFsaWRhdGVzKHBhcmFtcykpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBpc0h0bWw1ID0gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KGlzSHRtbDUpKSB7XG4gICAgICAgICAgaXNIdG1sNSA9IGlzSHRtbDUuZW5hYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIHVybCA9IHVybE1hdGNoZXIuZm9ybWF0KHBhcmFtcyk7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghaXNIdG1sNSAmJiB1cmwgIT09IG51bGwpIHtcbiAgICAgICAgICB1cmwgPSBcIiNcIiArICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoKSArIHVybDtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBhcHBlbmRCYXNlUGF0aCh1cmwsIGlzSHRtbDUsIG9wdGlvbnMuYWJzb2x1dGUpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5hYnNvbHV0ZSB8fCAhdXJsKSB7XG4gICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzbGFzaCA9ICghaXNIdG1sNSAmJiB1cmwgPyAnLycgOiAnJyksIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xuICAgICAgICBwb3J0ID0gKHBvcnQgPT09IDgwIHx8IHBvcnQgPT09IDQ0MyA/ICcnIDogJzonICsgcG9ydCk7XG5cbiAgICAgICAgcmV0dXJuIFskbG9jYXRpb24ucHJvdG9jb2woKSwgJzovLycsICRsb2NhdGlvbi5ob3N0KCksIHBvcnQsIHNsYXNoLCB1cmxdLmpvaW4oJycpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5yb3V0ZXInKS5wcm92aWRlcignJHVybFJvdXRlcicsICRVcmxSb3V0ZXJQcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVByb3ZpZGVyXG4gKlxuICogQHJlcXVpcmVzIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclByb3ZpZGVyXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZXcgYCRzdGF0ZVByb3ZpZGVyYCB3b3JrcyBzaW1pbGFyIHRvIEFuZ3VsYXIncyB2MSByb3V0ZXIsIGJ1dCBpdCBmb2N1c2VzIHB1cmVseVxuICogb24gc3RhdGUuXG4gKlxuICogQSBzdGF0ZSBjb3JyZXNwb25kcyB0byBhIFwicGxhY2VcIiBpbiB0aGUgYXBwbGljYXRpb24gaW4gdGVybXMgb2YgdGhlIG92ZXJhbGwgVUkgYW5kXG4gKiBuYXZpZ2F0aW9uLiBBIHN0YXRlIGRlc2NyaWJlcyAodmlhIHRoZSBjb250cm9sbGVyIC8gdGVtcGxhdGUgLyB2aWV3IHByb3BlcnRpZXMpIHdoYXRcbiAqIHRoZSBVSSBsb29rcyBsaWtlIGFuZCBkb2VzIGF0IHRoYXQgcGxhY2UuXG4gKlxuICogU3RhdGVzIG9mdGVuIGhhdmUgdGhpbmdzIGluIGNvbW1vbiwgYW5kIHRoZSBwcmltYXJ5IHdheSBvZiBmYWN0b3Jpbmcgb3V0IHRoZXNlXG4gKiBjb21tb25hbGl0aWVzIGluIHRoaXMgbW9kZWwgaXMgdmlhIHRoZSBzdGF0ZSBoaWVyYXJjaHksIGkuZS4gcGFyZW50L2NoaWxkIHN0YXRlcyBha2FcbiAqIG5lc3RlZCBzdGF0ZXMuXG4gKlxuICogVGhlIGAkc3RhdGVQcm92aWRlcmAgcHJvdmlkZXMgaW50ZXJmYWNlcyB0byBkZWNsYXJlIHRoZXNlIHN0YXRlcyBmb3IgeW91ciBhcHAuXG4gKi9cbiRTdGF0ZVByb3ZpZGVyLiRpbmplY3QgPSBbJyR1cmxSb3V0ZXJQcm92aWRlcicsICckdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciddO1xuZnVuY3Rpb24gJFN0YXRlUHJvdmlkZXIoICAgJHVybFJvdXRlclByb3ZpZGVyLCAgICR1cmxNYXRjaGVyRmFjdG9yeSkge1xuXG4gIHZhciByb290LCBzdGF0ZXMgPSB7fSwgJHN0YXRlLCBxdWV1ZSA9IHt9LCBhYnN0cmFjdEtleSA9ICdhYnN0cmFjdCc7XG5cbiAgLy8gQnVpbGRzIHN0YXRlIHByb3BlcnRpZXMgZnJvbSBkZWZpbml0aW9uIHBhc3NlZCB0byByZWdpc3RlclN0YXRlKClcbiAgdmFyIHN0YXRlQnVpbGRlciA9IHtcblxuICAgIC8vIERlcml2ZSBwYXJlbnQgc3RhdGUgZnJvbSBhIGhpZXJhcmNoaWNhbCBuYW1lIG9ubHkgaWYgJ3BhcmVudCcgaXMgbm90IGV4cGxpY2l0bHkgZGVmaW5lZC5cbiAgICAvLyBzdGF0ZS5jaGlsZHJlbiA9IFtdO1xuICAgIC8vIGlmIChwYXJlbnQpIHBhcmVudC5jaGlsZHJlbi5wdXNoKHN0YXRlKTtcbiAgICBwYXJlbnQ6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHN0YXRlLnBhcmVudCkgJiYgc3RhdGUucGFyZW50KSByZXR1cm4gZmluZFN0YXRlKHN0YXRlLnBhcmVudCk7XG4gICAgICAvLyByZWdleCBtYXRjaGVzIGFueSB2YWxpZCBjb21wb3NpdGUgc3RhdGUgbmFtZVxuICAgICAgLy8gd291bGQgbWF0Y2ggXCJjb250YWN0Lmxpc3RcIiBidXQgbm90IFwiY29udGFjdHNcIlxuICAgICAgdmFyIGNvbXBvc2l0ZU5hbWUgPSAvXiguKylcXC5bXi5dKyQvLmV4ZWMoc3RhdGUubmFtZSk7XG4gICAgICByZXR1cm4gY29tcG9zaXRlTmFtZSA/IGZpbmRTdGF0ZShjb21wb3NpdGVOYW1lWzFdKSA6IHJvb3Q7XG4gICAgfSxcblxuICAgIC8vIGluaGVyaXQgJ2RhdGEnIGZyb20gcGFyZW50IGFuZCBvdmVycmlkZSBieSBvd24gdmFsdWVzIChpZiBhbnkpXG4gICAgZGF0YTogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZS5wYXJlbnQgJiYgc3RhdGUucGFyZW50LmRhdGEpIHtcbiAgICAgICAgc3RhdGUuZGF0YSA9IHN0YXRlLnNlbGYuZGF0YSA9IGV4dGVuZCh7fSwgc3RhdGUucGFyZW50LmRhdGEsIHN0YXRlLmRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlLmRhdGE7XG4gICAgfSxcblxuICAgIC8vIEJ1aWxkIGEgVVJMTWF0Y2hlciBpZiBuZWNlc3NhcnksIGVpdGhlciB2aWEgYSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxcbiAgICB1cmw6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICB2YXIgdXJsID0gc3RhdGUudXJsLCBjb25maWcgPSB7IHBhcmFtczogc3RhdGUucGFyYW1zIHx8IHt9IH07XG5cbiAgICAgIGlmIChpc1N0cmluZyh1cmwpKSB7XG4gICAgICAgIGlmICh1cmwuY2hhckF0KDApID09ICdeJykgcmV0dXJuICR1cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHVybC5zdWJzdHJpbmcoMSksIGNvbmZpZyk7XG4gICAgICAgIHJldHVybiAoc3RhdGUucGFyZW50Lm5hdmlnYWJsZSB8fCByb290KS51cmwuY29uY2F0KHVybCwgY29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwgfHwgJHVybE1hdGNoZXJGYWN0b3J5LmlzTWF0Y2hlcih1cmwpKSByZXR1cm4gdXJsO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiICsgdXJsICsgXCInIGluIHN0YXRlICdcIiArIHN0YXRlICsgXCInXCIpO1xuICAgIH0sXG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHN0YXRlIHRoYXQgaGFzIGEgVVJMIChpLmUuIGlzIG5hdmlnYWJsZSlcbiAgICBuYXZpZ2FibGU6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUudXJsID8gc3RhdGUgOiAoc3RhdGUucGFyZW50ID8gc3RhdGUucGFyZW50Lm5hdmlnYWJsZSA6IG51bGwpO1xuICAgIH0sXG5cbiAgICAvLyBPd24gcGFyYW1ldGVycyBmb3IgdGhpcyBzdGF0ZS4gc3RhdGUudXJsLnBhcmFtcyBpcyBhbHJlYWR5IGJ1aWx0IGF0IHRoaXMgcG9pbnQuIENyZWF0ZSBhbmQgYWRkIG5vbi11cmwgcGFyYW1zXG4gICAgb3duUGFyYW1zOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHN0YXRlLnVybCAmJiBzdGF0ZS51cmwucGFyYW1zIHx8IG5ldyAkJFVNRlAuUGFyYW1TZXQoKTtcbiAgICAgIGZvckVhY2goc3RhdGUucGFyYW1zIHx8IHt9LCBmdW5jdGlvbihjb25maWcsIGlkKSB7XG4gICAgICAgIGlmICghcGFyYW1zW2lkXSkgcGFyYW1zW2lkXSA9IG5ldyAkJFVNRlAuUGFyYW0oaWQsIG51bGwsIGNvbmZpZywgXCJjb25maWdcIik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfSxcblxuICAgIC8vIERlcml2ZSBwYXJhbWV0ZXJzIGZvciB0aGlzIHN0YXRlIGFuZCBlbnN1cmUgdGhleSdyZSBhIHN1cGVyLXNldCBvZiBwYXJlbnQncyBwYXJhbWV0ZXJzXG4gICAgcGFyYW1zOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLnBhcmVudCAmJiBzdGF0ZS5wYXJlbnQucGFyYW1zID8gZXh0ZW5kKHN0YXRlLnBhcmVudC5wYXJhbXMuJCRuZXcoKSwgc3RhdGUub3duUGFyYW1zKSA6IG5ldyAkJFVNRlAuUGFyYW1TZXQoKTtcbiAgICB9LFxuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gZXhwbGljaXQgbXVsdGktdmlldyBjb25maWd1cmF0aW9uLCBtYWtlIG9uZSB1cCBzbyB3ZSBkb24ndCBoYXZlXG4gICAgLy8gdG8gaGFuZGxlIGJvdGggY2FzZXMgaW4gdGhlIHZpZXcgZGlyZWN0aXZlIGxhdGVyLiBOb3RlIHRoYXQgaGF2aW5nIGFuIGV4cGxpY2l0XG4gICAgLy8gJ3ZpZXdzJyBwcm9wZXJ0eSB3aWxsIG1lYW4gdGhlIGRlZmF1bHQgdW5uYW1lZCB2aWV3IHByb3BlcnRpZXMgYXJlIGlnbm9yZWQuIFRoaXNcbiAgICAvLyBpcyBhbHNvIGEgZ29vZCB0aW1lIHRvIHJlc29sdmUgdmlldyBuYW1lcyB0byBhYnNvbHV0ZSBuYW1lcywgc28gZXZlcnl0aGluZyBpcyBhXG4gICAgLy8gc3RyYWlnaHQgbG9va3VwIGF0IGxpbmsgdGltZS5cbiAgICB2aWV3czogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgIHZhciB2aWV3cyA9IHt9O1xuXG4gICAgICBmb3JFYWNoKGlzRGVmaW5lZChzdGF0ZS52aWV3cykgPyBzdGF0ZS52aWV3cyA6IHsgJyc6IHN0YXRlIH0sIGZ1bmN0aW9uICh2aWV3LCBuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lLmluZGV4T2YoJ0AnKSA8IDApIG5hbWUgKz0gJ0AnICsgc3RhdGUucGFyZW50Lm5hbWU7XG4gICAgICAgIHZpZXdzW25hbWVdID0gdmlldztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZpZXdzO1xuICAgIH0sXG5cbiAgICAvLyBLZWVwIGEgZnVsbCBwYXRoIGZyb20gdGhlIHJvb3QgZG93biB0byB0aGlzIHN0YXRlIGFzIHRoaXMgaXMgbmVlZGVkIGZvciBzdGF0ZSBhY3RpdmF0aW9uLlxuICAgIHBhdGg6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUucGFyZW50ID8gc3RhdGUucGFyZW50LnBhdGguY29uY2F0KHN0YXRlKSA6IFtdOyAvLyBleGNsdWRlIHJvb3QgZnJvbSBwYXRoXG4gICAgfSxcblxuICAgIC8vIFNwZWVkIHVwICRzdGF0ZS5jb250YWlucygpIGFzIGl0J3MgdXNlZCBhIGxvdFxuICAgIGluY2x1ZGVzOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIGluY2x1ZGVzID0gc3RhdGUucGFyZW50ID8gZXh0ZW5kKHt9LCBzdGF0ZS5wYXJlbnQuaW5jbHVkZXMpIDoge307XG4gICAgICBpbmNsdWRlc1tzdGF0ZS5uYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gaW5jbHVkZXM7XG4gICAgfSxcblxuICAgICRkZWxlZ2F0ZXM6IHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNSZWxhdGl2ZShzdGF0ZU5hbWUpIHtcbiAgICByZXR1cm4gc3RhdGVOYW1lLmluZGV4T2YoXCIuXCIpID09PSAwIHx8IHN0YXRlTmFtZS5pbmRleE9mKFwiXlwiKSA9PT0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTdGF0ZShzdGF0ZU9yTmFtZSwgYmFzZSkge1xuICAgIGlmICghc3RhdGVPck5hbWUpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgaXNTdHIgPSBpc1N0cmluZyhzdGF0ZU9yTmFtZSksXG4gICAgICAgIG5hbWUgID0gaXNTdHIgPyBzdGF0ZU9yTmFtZSA6IHN0YXRlT3JOYW1lLm5hbWUsXG4gICAgICAgIHBhdGggID0gaXNSZWxhdGl2ZShuYW1lKTtcblxuICAgIGlmIChwYXRoKSB7XG4gICAgICBpZiAoIWJhc2UpIHRocm93IG5ldyBFcnJvcihcIk5vIHJlZmVyZW5jZSBwb2ludCBnaXZlbiBmb3IgcGF0aCAnXCIgICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgIGJhc2UgPSBmaW5kU3RhdGUoYmFzZSk7XG4gICAgICBcbiAgICAgIHZhciByZWwgPSBuYW1lLnNwbGl0KFwiLlwiKSwgaSA9IDAsIHBhdGhMZW5ndGggPSByZWwubGVuZ3RoLCBjdXJyZW50ID0gYmFzZTtcblxuICAgICAgZm9yICg7IGkgPCBwYXRoTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlbFtpXSA9PT0gXCJcIiAmJiBpID09PSAwKSB7XG4gICAgICAgICAgY3VycmVudCA9IGJhc2U7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbFtpXSA9PT0gXCJeXCIpIHtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQucGFyZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIiArIG5hbWUgKyBcIicgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBiYXNlLm5hbWUgKyBcIidcIik7XG4gICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVsID0gcmVsLnNsaWNlKGkpLmpvaW4oXCIuXCIpO1xuICAgICAgbmFtZSA9IGN1cnJlbnQubmFtZSArIChjdXJyZW50Lm5hbWUgJiYgcmVsID8gXCIuXCIgOiBcIlwiKSArIHJlbDtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0gc3RhdGVzW25hbWVdO1xuXG4gICAgaWYgKHN0YXRlICYmIChpc1N0ciB8fCAoIWlzU3RyICYmIChzdGF0ZSA9PT0gc3RhdGVPck5hbWUgfHwgc3RhdGUuc2VsZiA9PT0gc3RhdGVPck5hbWUpKSkpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXVlU3RhdGUocGFyZW50TmFtZSwgc3RhdGUpIHtcbiAgICBpZiAoIXF1ZXVlW3BhcmVudE5hbWVdKSB7XG4gICAgICBxdWV1ZVtwYXJlbnROYW1lXSA9IFtdO1xuICAgIH1cbiAgICBxdWV1ZVtwYXJlbnROYW1lXS5wdXNoKHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoUXVldWVkQ2hpbGRyZW4ocGFyZW50TmFtZSkge1xuICAgIHZhciBxdWV1ZWQgPSBxdWV1ZVtwYXJlbnROYW1lXSB8fCBbXTtcbiAgICB3aGlsZShxdWV1ZWQubGVuZ3RoKSB7XG4gICAgICByZWdpc3RlclN0YXRlKHF1ZXVlZC5zaGlmdCgpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlclN0YXRlKHN0YXRlKSB7XG4gICAgLy8gV3JhcCBhIG5ldyBvYmplY3QgYXJvdW5kIHRoZSBzdGF0ZSBzbyB3ZSBjYW4gc3RvcmUgb3VyIHByaXZhdGUgZGV0YWlscyBlYXNpbHkuXG4gICAgc3RhdGUgPSBpbmhlcml0KHN0YXRlLCB7XG4gICAgICBzZWxmOiBzdGF0ZSxcbiAgICAgIHJlc29sdmU6IHN0YXRlLnJlc29sdmUgfHwge30sXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLm5hbWU7IH1cbiAgICB9KTtcblxuICAgIHZhciBuYW1lID0gc3RhdGUubmFtZTtcbiAgICBpZiAoIWlzU3RyaW5nKG5hbWUpIHx8IG5hbWUuaW5kZXhPZignQCcpID49IDApIHRocm93IG5ldyBFcnJvcihcIlN0YXRlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWVcIik7XG4gICAgaWYgKHN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiICsgbmFtZSArIFwiJycgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO1xuXG4gICAgLy8gR2V0IHBhcmVudCBuYW1lXG4gICAgdmFyIHBhcmVudE5hbWUgPSAobmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSA/IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGFzdEluZGV4T2YoJy4nKSlcbiAgICAgICAgOiAoaXNTdHJpbmcoc3RhdGUucGFyZW50KSkgPyBzdGF0ZS5wYXJlbnRcbiAgICAgICAgOiAoaXNPYmplY3Qoc3RhdGUucGFyZW50KSAmJiBpc1N0cmluZyhzdGF0ZS5wYXJlbnQubmFtZSkpID8gc3RhdGUucGFyZW50Lm5hbWVcbiAgICAgICAgOiAnJztcblxuICAgIC8vIElmIHBhcmVudCBpcyBub3QgcmVnaXN0ZXJlZCB5ZXQsIGFkZCBzdGF0ZSB0byBxdWV1ZSBhbmQgcmVnaXN0ZXIgbGF0ZXJcbiAgICBpZiAocGFyZW50TmFtZSAmJiAhc3RhdGVzW3BhcmVudE5hbWVdKSB7XG4gICAgICByZXR1cm4gcXVldWVTdGF0ZShwYXJlbnROYW1lLCBzdGF0ZS5zZWxmKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc3RhdGVCdWlsZGVyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihzdGF0ZUJ1aWxkZXJba2V5XSkpIHN0YXRlW2tleV0gPSBzdGF0ZUJ1aWxkZXJba2V5XShzdGF0ZSwgc3RhdGVCdWlsZGVyLiRkZWxlZ2F0ZXNba2V5XSk7XG4gICAgfVxuICAgIHN0YXRlc1tuYW1lXSA9IHN0YXRlO1xuXG4gICAgLy8gUmVnaXN0ZXIgdGhlIHN0YXRlIGluIHRoZSBnbG9iYWwgc3RhdGUgbGlzdCBhbmQgd2l0aCAkdXJsUm91dGVyIGlmIG5lY2Vzc2FyeS5cbiAgICBpZiAoIXN0YXRlW2Fic3RyYWN0S2V5XSAmJiBzdGF0ZS51cmwpIHtcbiAgICAgICR1cmxSb3V0ZXJQcm92aWRlci53aGVuKHN0YXRlLnVybCwgWyckbWF0Y2gnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgIGlmICgkc3RhdGUuJGN1cnJlbnQubmF2aWdhYmxlICE9IHN0YXRlIHx8ICFlcXVhbEZvcktleXMoJG1hdGNoLCAkc3RhdGVQYXJhbXMpKSB7XG4gICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhzdGF0ZSwgJG1hdGNoLCB7IGluaGVyaXQ6IHRydWUsIGxvY2F0aW9uOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgIH1cblxuICAgIC8vIFJlZ2lzdGVyIGFueSBxdWV1ZWQgY2hpbGRyZW5cbiAgICBmbHVzaFF1ZXVlZENoaWxkcmVuKG5hbWUpO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLy8gQ2hlY2tzIHRleHQgdG8gc2VlIGlmIGl0IGxvb2tzIGxpa2UgYSBnbG9iLlxuICBmdW5jdGlvbiBpc0dsb2IgKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5pbmRleE9mKCcqJykgPiAtMTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiBnbG9iIG1hdGNoZXMgY3VycmVudCAkc3RhdGUgbmFtZS5cbiAgZnVuY3Rpb24gZG9lc1N0YXRlTWF0Y2hHbG9iIChnbG9iKSB7XG4gICAgdmFyIGdsb2JTZWdtZW50cyA9IGdsb2Iuc3BsaXQoJy4nKSxcbiAgICAgICAgc2VnbWVudHMgPSAkc3RhdGUuJGN1cnJlbnQubmFtZS5zcGxpdCgnLicpO1xuXG4gICAgLy9tYXRjaCBncmVlZHkgc3RhcnRzXG4gICAgaWYgKGdsb2JTZWdtZW50c1swXSA9PT0gJyoqJykge1xuICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMuc2xpY2UoaW5kZXhPZihzZWdtZW50cywgZ2xvYlNlZ21lbnRzWzFdKSk7XG4gICAgICAgc2VnbWVudHMudW5zaGlmdCgnKionKTtcbiAgICB9XG4gICAgLy9tYXRjaCBncmVlZHkgZW5kc1xuICAgIGlmIChnbG9iU2VnbWVudHNbZ2xvYlNlZ21lbnRzLmxlbmd0aCAtIDFdID09PSAnKionKSB7XG4gICAgICAgc2VnbWVudHMuc3BsaWNlKGluZGV4T2Yoc2VnbWVudHMsIGdsb2JTZWdtZW50c1tnbG9iU2VnbWVudHMubGVuZ3RoIC0gMl0pICsgMSwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgICAgc2VnbWVudHMucHVzaCgnKionKTtcbiAgICB9XG5cbiAgICBpZiAoZ2xvYlNlZ21lbnRzLmxlbmd0aCAhPSBzZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvL21hdGNoIHNpbmdsZSBzdGFyc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZ2xvYlNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGdsb2JTZWdtZW50c1tpXSA9PT0gJyonKSB7XG4gICAgICAgIHNlZ21lbnRzW2ldID0gJyonO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWdtZW50cy5qb2luKCcnKSA9PT0gZ2xvYlNlZ21lbnRzLmpvaW4oJycpO1xuICB9XG5cblxuICAvLyBJbXBsaWNpdCByb290IHN0YXRlIHRoYXQgaXMgYWx3YXlzIGFjdGl2ZVxuICByb290ID0gcmVnaXN0ZXJTdGF0ZSh7XG4gICAgbmFtZTogJycsXG4gICAgdXJsOiAnXicsXG4gICAgdmlld3M6IG51bGwsXG4gICAgJ2Fic3RyYWN0JzogdHJ1ZVxuICB9KTtcbiAgcm9vdC5uYXZpZ2FibGUgPSBudWxsO1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlUHJvdmlkZXIjZGVjb3JhdG9yXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFsbG93cyB5b3UgdG8gZXh0ZW5kIChjYXJlZnVsbHkpIG9yIG92ZXJyaWRlIChhdCB5b3VyIG93biBwZXJpbCkgdGhlIFxuICAgKiBgc3RhdGVCdWlsZGVyYCBvYmplY3QgdXNlZCBpbnRlcm5hbGx5IGJ5IGAkc3RhdGVQcm92aWRlcmAuIFRoaXMgY2FuIGJlIHVzZWQgXG4gICAqIHRvIGFkZCBjdXN0b20gZnVuY3Rpb25hbGl0eSB0byB1aS1yb3V0ZXIsIGZvciBleGFtcGxlIGluZmVycmluZyB0ZW1wbGF0ZVVybCBcbiAgICogYmFzZWQgb24gdGhlIHN0YXRlIG5hbWUuXG4gICAqXG4gICAqIFdoZW4gcGFzc2luZyBvbmx5IGEgbmFtZSwgaXQgcmV0dXJucyB0aGUgY3VycmVudCAob3JpZ2luYWwgb3IgZGVjb3JhdGVkKSBidWlsZGVyXG4gICAqIGZ1bmN0aW9uIHRoYXQgbWF0Y2hlcyBgbmFtZWAuXG4gICAqXG4gICAqIFRoZSBidWlsZGVyIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBkZWNvcmF0ZWQgYXJlIGxpc3RlZCBiZWxvdy4gVGhvdWdoIG5vdCBhbGxcbiAgICogbmVjZXNzYXJpbHkgaGF2ZSBhIGdvb2QgdXNlIGNhc2UgZm9yIGRlY29yYXRpb24sIHRoYXQgaXMgdXAgdG8geW91IHRvIGRlY2lkZS5cbiAgICpcbiAgICogSW4gYWRkaXRpb24sIHVzZXJzIGNhbiBhdHRhY2ggY3VzdG9tIGRlY29yYXRvcnMsIHdoaWNoIHdpbGwgZ2VuZXJhdGUgbmV3IFxuICAgKiBwcm9wZXJ0aWVzIHdpdGhpbiB0aGUgc3RhdGUncyBpbnRlcm5hbCBkZWZpbml0aW9uLiBUaGVyZSBpcyBjdXJyZW50bHkgbm8gY2xlYXIgXG4gICAqIHVzZS1jYXNlIGZvciB0aGlzIGJleW9uZCBhY2Nlc3NpbmcgaW50ZXJuYWwgc3RhdGVzIChpLmUuICRzdGF0ZS4kY3VycmVudCksIFxuICAgKiBob3dldmVyLCBleHBlY3QgdGhpcyB0byBiZWNvbWUgaW5jcmVhc2luZ2x5IHJlbGV2YW50IGFzIHdlIGludHJvZHVjZSBhZGRpdGlvbmFsIFxuICAgKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuICAgKlxuICAgKiAqKldhcm5pbmcqKjogRGVjb3JhdG9ycyBzaG91bGQgbm90IGJlIGludGVyZGVwZW5kZW50IGJlY2F1c2UgdGhlIG9yZGVyIG9mIFxuICAgKiBleGVjdXRpb24gb2YgdGhlIGJ1aWxkZXIgZnVuY3Rpb25zIGluIG5vbi1kZXRlcm1pbmlzdGljLiBCdWlsZGVyIGZ1bmN0aW9ucyBcbiAgICogc2hvdWxkIG9ubHkgYmUgZGVwZW5kZW50IG9uIHRoZSBzdGF0ZSBkZWZpbml0aW9uIG9iamVjdCBhbmQgc3VwZXIgZnVuY3Rpb24uXG4gICAqXG4gICAqXG4gICAqIEV4aXN0aW5nIGJ1aWxkZXIgZnVuY3Rpb25zIGFuZCBjdXJyZW50IHJldHVybiB2YWx1ZXM6XG4gICAqXG4gICAqIC0gKipwYXJlbnQqKiBge29iamVjdH1gIC0gcmV0dXJucyB0aGUgcGFyZW50IHN0YXRlIG9iamVjdC5cbiAgICogLSAqKmRhdGEqKiBge29iamVjdH1gIC0gcmV0dXJucyBzdGF0ZSBkYXRhLCBpbmNsdWRpbmcgYW55IGluaGVyaXRlZCBkYXRhIHRoYXQgaXMgbm90XG4gICAqICAgb3ZlcnJpZGRlbiBieSBvd24gdmFsdWVzIChpZiBhbnkpLlxuICAgKiAtICoqdXJsKiogYHtvYmplY3R9YCAtIHJldHVybnMgYSB7QGxpbmsgdWkucm91dGVyLnV0aWwudHlwZTpVcmxNYXRjaGVyIFVybE1hdGNoZXJ9XG4gICAqICAgb3IgYG51bGxgLlxuICAgKiAtICoqbmF2aWdhYmxlKiogYHtvYmplY3R9YCAtIHJldHVybnMgY2xvc2VzdCBhbmNlc3RvciBzdGF0ZSB0aGF0IGhhcyBhIFVSTCAoYWthIGlzIFxuICAgKiAgIG5hdmlnYWJsZSkuXG4gICAqIC0gKipwYXJhbXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZSBwYXJhbXMgdGhhdCBhcmUgZW5zdXJlZCB0byBcbiAgICogICBiZSBhIHN1cGVyLXNldCBvZiBwYXJlbnQncyBwYXJhbXMuXG4gICAqIC0gKip2aWV3cyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGEgdmlld3Mgb2JqZWN0IHdoZXJlIGVhY2gga2V5IGlzIGFuIGFic29sdXRlIHZpZXcgXG4gICAqICAgbmFtZSAoaS5lLiBcInZpZXdOYW1lQHN0YXRlTmFtZVwiKSBhbmQgZWFjaCB2YWx1ZSBpcyB0aGUgY29uZmlnIG9iamVjdCBcbiAgICogICAodGVtcGxhdGUsIGNvbnRyb2xsZXIpIGZvciB0aGUgdmlldy4gRXZlbiB3aGVuIHlvdSBkb24ndCB1c2UgdGhlIHZpZXdzIG9iamVjdCBcbiAgICogICBleHBsaWNpdGx5IG9uIGEgc3RhdGUgY29uZmlnLCBvbmUgaXMgc3RpbGwgY3JlYXRlZCBmb3IgeW91IGludGVybmFsbHkuXG4gICAqICAgU28gYnkgZGVjb3JhdGluZyB0aGlzIGJ1aWxkZXIgZnVuY3Rpb24geW91IGhhdmUgYWNjZXNzIHRvIGRlY29yYXRpbmcgdGVtcGxhdGUgXG4gICAqICAgYW5kIGNvbnRyb2xsZXIgcHJvcGVydGllcy5cbiAgICogLSAqKm93blBhcmFtcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIGFycmF5IG9mIHBhcmFtcyB0aGF0IGJlbG9uZyB0byB0aGUgc3RhdGUsIFxuICAgKiAgIG5vdCBpbmNsdWRpbmcgYW55IHBhcmFtcyBkZWZpbmVkIGJ5IGFuY2VzdG9yIHN0YXRlcy5cbiAgICogLSAqKnBhdGgqKiBge3N0cmluZ31gIC0gcmV0dXJucyB0aGUgZnVsbCBwYXRoIGZyb20gdGhlIHJvb3QgZG93biB0byB0aGlzIHN0YXRlLiBcbiAgICogICBOZWVkZWQgZm9yIHN0YXRlIGFjdGl2YXRpb24uXG4gICAqIC0gKippbmNsdWRlcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGluY2x1ZGVzIGV2ZXJ5IHN0YXRlIHRoYXQgXG4gICAqICAgd291bGQgcGFzcyBhIGAkc3RhdGUuaW5jbHVkZXMoKWAgdGVzdC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPHByZT5cbiAgICogLy8gT3ZlcnJpZGUgdGhlIGludGVybmFsICd2aWV3cycgYnVpbGRlciB3aXRoIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgc3RhdGVcbiAgICogLy8gZGVmaW5pdGlvbiwgYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBmdW5jdGlvbiBiZWluZyBvdmVycmlkZGVuOlxuICAgKiAkc3RhdGVQcm92aWRlci5kZWNvcmF0b3IoJ3ZpZXdzJywgZnVuY3Rpb24gKHN0YXRlLCBwYXJlbnQpIHtcbiAgICogICB2YXIgcmVzdWx0ID0ge30sXG4gICAqICAgICAgIHZpZXdzID0gcGFyZW50KHN0YXRlKTtcbiAgICpcbiAgICogICBhbmd1bGFyLmZvckVhY2godmlld3MsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcbiAgICogICAgIHZhciBhdXRvTmFtZSA9IChzdGF0ZS5uYW1lICsgJy4nICsgbmFtZSkucmVwbGFjZSgnLicsICcvJyk7XG4gICAqICAgICBjb25maWcudGVtcGxhdGVVcmwgPSBjb25maWcudGVtcGxhdGVVcmwgfHwgJy9wYXJ0aWFscy8nICsgYXV0b05hbWUgKyAnLmh0bWwnO1xuICAgKiAgICAgcmVzdWx0W25hbWVdID0gY29uZmlnO1xuICAgKiAgIH0pO1xuICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAqIH0pO1xuICAgKlxuICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScsIHtcbiAgICogICB2aWV3czoge1xuICAgKiAgICAgJ2NvbnRhY3QubGlzdCc6IHsgY29udHJvbGxlcjogJ0xpc3RDb250cm9sbGVyJyB9LFxuICAgKiAgICAgJ2NvbnRhY3QuaXRlbSc6IHsgY29udHJvbGxlcjogJ0l0ZW1Db250cm9sbGVyJyB9XG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gLi4uXG4gICAqXG4gICAqICRzdGF0ZS5nbygnaG9tZScpO1xuICAgKiAvLyBBdXRvLXBvcHVsYXRlcyBsaXN0IGFuZCBpdGVtIHZpZXdzIHdpdGggL3BhcnRpYWxzL2hvbWUvY29udGFjdC9saXN0Lmh0bWwsXG4gICAqIC8vIGFuZCAvcGFydGlhbHMvaG9tZS9jb250YWN0L2l0ZW0uaHRtbCwgcmVzcGVjdGl2ZWx5LlxuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGJ1aWxkZXIgZnVuY3Rpb24gdG8gZGVjb3JhdGUuIFxuICAgKiBAcGFyYW0ge29iamVjdH0gZnVuYyBBIGZ1bmN0aW9uIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGRlY29yYXRpbmcgdGhlIG9yaWdpbmFsIFxuICAgKiBidWlsZGVyIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdHdvIHBhcmFtZXRlcnM6XG4gICAqXG4gICAqICAgLSBge29iamVjdH1gIC0gc3RhdGUgLSBUaGUgc3RhdGUgY29uZmlnIG9iamVjdC5cbiAgICogICAtIGB7b2JqZWN0fWAgLSBzdXBlciAtIFRoZSBvcmlnaW5hbCBidWlsZGVyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9ICRzdGF0ZVByb3ZpZGVyIC0gJHN0YXRlUHJvdmlkZXIgaW5zdGFuY2VcbiAgICovXG4gIHRoaXMuZGVjb3JhdG9yID0gZGVjb3JhdG9yO1xuICBmdW5jdGlvbiBkZWNvcmF0b3IobmFtZSwgZnVuYykge1xuICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgIGlmIChpc1N0cmluZyhuYW1lKSAmJiAhaXNEZWZpbmVkKGZ1bmMpKSB7XG4gICAgICByZXR1cm4gc3RhdGVCdWlsZGVyW25hbWVdO1xuICAgIH1cbiAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykgfHwgIWlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHN0YXRlQnVpbGRlcltuYW1lXSAmJiAhc3RhdGVCdWlsZGVyLiRkZWxlZ2F0ZXNbbmFtZV0pIHtcbiAgICAgIHN0YXRlQnVpbGRlci4kZGVsZWdhdGVzW25hbWVdID0gc3RhdGVCdWlsZGVyW25hbWVdO1xuICAgIH1cbiAgICBzdGF0ZUJ1aWxkZXJbbmFtZV0gPSBmdW5jO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlUHJvdmlkZXIjc3RhdGVcbiAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgc3RhdGUgY29uZmlndXJhdGlvbiB1bmRlciBhIGdpdmVuIHN0YXRlIG5hbWUuIFRoZSBzdGF0ZUNvbmZpZyBvYmplY3RcbiAgICogaGFzIHRoZSBmb2xsb3dpbmcgYWNjZXB0YWJsZSBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBBIHVuaXF1ZSBzdGF0ZSBuYW1lLCBlLmcuIFwiaG9tZVwiLCBcImFib3V0XCIsIFwiY29udGFjdHNcIi5cbiAgICogVG8gY3JlYXRlIGEgcGFyZW50L2NoaWxkIHN0YXRlIHVzZSBhIGRvdCwgZS5nLiBcImFib3V0LnNhbGVzXCIsIFwiaG9tZS5uZXdlc3RcIi5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRlQ29uZmlnIFN0YXRlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbj19IHN0YXRlQ29uZmlnLnRlbXBsYXRlXG4gICAqIDxhIGlkPSd0ZW1wbGF0ZSc+PC9hPlxuICAgKiAgIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICogICBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGJ5IHRoZSB1aVZpZXcgZGlyZWN0aXZlcy4gVGhpcyBwcm9wZXJ0eSBcbiAgICogICB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGVtcGxhdGVVcmwuXG4gICAqICAgXG4gICAqICAgSWYgYHRlbXBsYXRlYCBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICpcbiAgICogICAtIHthcnJheS4mbHQ7b2JqZWN0Jmd0O30gLSBzdGF0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50ICRsb2NhdGlvbi5wYXRoKCkgYnlcbiAgICogICAgIGFwcGx5aW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gICAqXG4gICAqIDxwcmU+dGVtcGxhdGU6XG4gICAqICAgXCI8aDE+aW5saW5lIHRlbXBsYXRlIGRlZmluaXRpb248L2gxPlwiICtcbiAgICogICBcIjxkaXYgdWktdmlldz48L2Rpdj5cIjwvcHJlPlxuICAgKiA8cHJlPnRlbXBsYXRlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICogICAgICAgcmV0dXJuIFwiPGgxPmdlbmVyYXRlZCB0ZW1wbGF0ZTwvaDE+XCI7IH08L3ByZT5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uPX0gc3RhdGVDb25maWcudGVtcGxhdGVVcmxcbiAgICogPGEgaWQ9J3RlbXBsYXRlVXJsJz48L2E+XG4gICAqXG4gICAqICAgcGF0aCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoIHRvIGFuIGh0bWxcbiAgICogICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHVpVmlldy5cbiAgICogICBcbiAgICogICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgKlxuICAgKiAgIC0ge2FycmF5LiZsdDtvYmplY3QmZ3Q7fSAtIHN0YXRlIHBhcmFtZXRlcnMgZXh0cmFjdGVkIGZyb20gdGhlIGN1cnJlbnQgJGxvY2F0aW9uLnBhdGgoKSBieSBcbiAgICogICAgIGFwcGx5aW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gICAqXG4gICAqIDxwcmU+dGVtcGxhdGVVcmw6IFwiaG9tZS5odG1sXCI8L3ByZT5cbiAgICogPHByZT50ZW1wbGF0ZVVybDogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAqICAgICByZXR1cm4gbXlUZW1wbGF0ZXNbcGFyYW1zLnBhZ2VJZF07IH08L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbj19IHN0YXRlQ29uZmlnLnRlbXBsYXRlUHJvdmlkZXJcbiAgICogPGEgaWQ9J3RlbXBsYXRlUHJvdmlkZXInPjwvYT5cbiAgICogICAgUHJvdmlkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIEhUTUwgY29udGVudCBzdHJpbmcuXG4gICAqIDxwcmU+IHRlbXBsYXRlUHJvdmlkZXI6XG4gICAqICAgICAgIGZ1bmN0aW9uKE15VGVtcGxhdGVTZXJ2aWNlLCBwYXJhbXMpIHtcbiAgICogICAgICAgICByZXR1cm4gTXlUZW1wbGF0ZVNlcnZpY2UuZ2V0VGVtcGxhdGUocGFyYW1zLnBhZ2VJZCk7XG4gICAqICAgICAgIH08L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb249fSBzdGF0ZUNvbmZpZy5jb250cm9sbGVyXG4gICAqIDxhIGlkPSdjb250cm9sbGVyJz48L2E+XG4gICAqXG4gICAqICBDb250cm9sbGVyIGZuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCBuZXdseVxuICAgKiAgIHJlbGF0ZWQgc2NvcGUgb3IgdGhlIG5hbWUgb2YgYSByZWdpc3RlcmVkIGNvbnRyb2xsZXIgaWYgcGFzc2VkIGFzIGEgc3RyaW5nLlxuICAgKiAgIE9wdGlvbmFsbHksIHRoZSBDb250cm9sbGVyQXMgbWF5IGJlIGRlY2xhcmVkIGhlcmUuXG4gICAqIDxwcmU+Y29udHJvbGxlcjogXCJNeVJlZ2lzdGVyZWRDb250cm9sbGVyXCI8L3ByZT5cbiAgICogPHByZT5jb250cm9sbGVyOlxuICAgKiAgICAgXCJNeVJlZ2lzdGVyZWRDb250cm9sbGVyIGFzIGZvb0N0cmxcIn08L3ByZT5cbiAgICogPHByZT5jb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsIE15U2VydmljZSkge1xuICAgKiAgICAgJHNjb3BlLmRhdGEgPSBNeVNlcnZpY2UuZ2V0RGF0YSgpOyB9PC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBzdGF0ZUNvbmZpZy5jb250cm9sbGVyUHJvdmlkZXJcbiAgICogPGEgaWQ9J2NvbnRyb2xsZXJQcm92aWRlcic+PC9hPlxuICAgKlxuICAgKiBJbmplY3RhYmxlIHByb3ZpZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgYWN0dWFsIGNvbnRyb2xsZXIgb3Igc3RyaW5nLlxuICAgKiA8cHJlPmNvbnRyb2xsZXJQcm92aWRlcjpcbiAgICogICBmdW5jdGlvbihNeVJlc29sdmVEYXRhKSB7XG4gICAqICAgICBpZiAoTXlSZXNvbHZlRGF0YS5mb28pXG4gICAqICAgICAgIHJldHVybiBcIkZvb0N0cmxcIlxuICAgKiAgICAgZWxzZSBpZiAoTXlSZXNvbHZlRGF0YS5iYXIpXG4gICAqICAgICAgIHJldHVybiBcIkJhckN0cmxcIjtcbiAgICogICAgIGVsc2UgcmV0dXJuIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgKiAgICAgICAkc2NvcGUuYmF6ID0gXCJRdXhcIjtcbiAgICogICAgIH1cbiAgICogICB9PC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc3RhdGVDb25maWcuY29udHJvbGxlckFzXG4gICAqIDxhIGlkPSdjb250cm9sbGVyQXMnPjwvYT5cbiAgICogXG4gICAqIEEgY29udHJvbGxlciBhbGlhcyBuYW1lLiBJZiBwcmVzZW50IHRoZSBjb250cm9sbGVyIHdpbGwgYmVcbiAgICogICBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGNvbnRyb2xsZXJBcyBuYW1lLlxuICAgKiA8cHJlPmNvbnRyb2xsZXJBczogXCJteUN0cmxcIjwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlQ29uZmlnLnJlc29sdmVcbiAgICogPGEgaWQ9J3Jlc29sdmUnPjwvYT5cbiAgICpcbiAgICogQW4gb3B0aW9uYWwgbWFwJmx0O3N0cmluZywgZnVuY3Rpb24mZ3Q7IG9mIGRlcGVuZGVuY2llcyB3aGljaFxuICAgKiAgIHNob3VsZCBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBJZiBhbnkgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGFyZSBwcm9taXNlcywgXG4gICAqICAgdGhlIHJvdXRlciB3aWxsIHdhaXQgZm9yIHRoZW0gYWxsIHRvIGJlIHJlc29sdmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQuXG4gICAqICAgSWYgYWxsIHRoZSBwcm9taXNlcyBhcmUgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5LCB0aGUgJHN0YXRlQ2hhbmdlU3VjY2VzcyBldmVudCBpcyBmaXJlZFxuICAgKiAgIGFuZCB0aGUgdmFsdWVzIG9mIHRoZSByZXNvbHZlZCBwcm9taXNlcyBhcmUgaW5qZWN0ZWQgaW50byBhbnkgY29udHJvbGxlcnMgdGhhdCByZWZlcmVuY2UgdGhlbS5cbiAgICogICBJZiBhbnkgIG9mIHRoZSBwcm9taXNlcyBhcmUgcmVqZWN0ZWQgdGhlICRzdGF0ZUNoYW5nZUVycm9yIGV2ZW50IGlzIGZpcmVkLlxuICAgKlxuICAgKiAgIFRoZSBtYXAgb2JqZWN0IGlzOlxuICAgKiAgIFxuICAgKiAgIC0ga2V5IC0ge3N0cmluZ306IG5hbWUgb2YgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJcbiAgICogICAtIGZhY3RvcnkgLSB7c3RyaW5nfGZ1bmN0aW9ufTogSWYgc3RyaW5nIHRoZW4gaXQgaXMgYWxpYXMgZm9yIHNlcnZpY2UuIE90aGVyd2lzZSBpZiBmdW5jdGlvbiwgXG4gICAqICAgICBpdCBpcyBpbmplY3RlZCBhbmQgcmV0dXJuIHZhbHVlIGl0IHRyZWF0ZWQgYXMgZGVwZW5kZW5jeS4gSWYgcmVzdWx0IGlzIGEgcHJvbWlzZSwgaXQgaXMgXG4gICAqICAgICByZXNvbHZlZCBiZWZvcmUgaXRzIHZhbHVlIGlzIGluamVjdGVkIGludG8gY29udHJvbGxlci5cbiAgICpcbiAgICogPHByZT5yZXNvbHZlOiB7XG4gICAqICAgICBteVJlc29sdmUxOlxuICAgKiAgICAgICBmdW5jdGlvbigkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XG4gICAqICAgICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvZm9vcy9cIitzdGF0ZVBhcmFtcy5mb29JRCk7XG4gICAqICAgICAgIH1cbiAgICogICAgIH08L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzdGF0ZUNvbmZpZy51cmxcbiAgICogPGEgaWQ9J3VybCc+PC9hPlxuICAgKlxuICAgKiAgIEEgdXJsIGZyYWdtZW50IHdpdGggb3B0aW9uYWwgcGFyYW1ldGVycy4gV2hlbiBhIHN0YXRlIGlzIG5hdmlnYXRlZCBvclxuICAgKiAgIHRyYW5zaXRpb25lZCB0bywgdGhlIGAkc3RhdGVQYXJhbXNgIHNlcnZpY2Ugd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBhbnkgXG4gICAqICAgcGFyYW1ldGVycyB0aGF0IHdlcmUgcGFzc2VkLlxuICAgKlxuICAgKiBleGFtcGxlczpcbiAgICogPHByZT51cmw6IFwiL2hvbWVcIlxuICAgKiB1cmw6IFwiL3VzZXJzLzp1c2VyaWRcIlxuICAgKiB1cmw6IFwiL2Jvb2tzL3tib29raWQ6W2EtekEtWl8tXX1cIlxuICAgKiB1cmw6IFwiL2Jvb2tzL3tjYXRlZ29yeWlkOmludH1cIlxuICAgKiB1cmw6IFwiL2Jvb2tzL3twdWJsaXNoZXJuYW1lOnN0cmluZ30ve2NhdGVnb3J5aWQ6aW50fVwiXG4gICAqIHVybDogXCIvbWVzc2FnZXM/YmVmb3JlJmFmdGVyXCJcbiAgICogdXJsOiBcIi9tZXNzYWdlcz97YmVmb3JlOmRhdGV9JnthZnRlcjpkYXRlfVwiPC9wcmU+XG4gICAqIHVybDogXCIvbWVzc2FnZXMvOm1haWxib3hpZD97YmVmb3JlOmRhdGV9JnthZnRlcjpkYXRlfVwiXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGVDb25maWcudmlld3NcbiAgICogPGEgaWQ9J3ZpZXdzJz48L2E+XG4gICAqIGFuIG9wdGlvbmFsIG1hcCZsdDtzdHJpbmcsIG9iamVjdCZndDsgd2hpY2ggZGVmaW5lZCBtdWx0aXBsZSB2aWV3cywgb3IgdGFyZ2V0cyB2aWV3c1xuICAgKiBtYW51YWxseS9leHBsaWNpdGx5LlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogVGFyZ2V0cyB0aHJlZSBuYW1lZCBgdWktdmlld2BzIGluIHRoZSBwYXJlbnQgc3RhdGUncyB0ZW1wbGF0ZVxuICAgKiA8cHJlPnZpZXdzOiB7XG4gICAqICAgICBoZWFkZXI6IHtcbiAgICogICAgICAgY29udHJvbGxlcjogXCJoZWFkZXJDdHJsXCIsXG4gICAqICAgICAgIHRlbXBsYXRlVXJsOiBcImhlYWRlci5odG1sXCJcbiAgICogICAgIH0sIGJvZHk6IHtcbiAgICogICAgICAgY29udHJvbGxlcjogXCJib2R5Q3RybFwiLFxuICAgKiAgICAgICB0ZW1wbGF0ZVVybDogXCJib2R5Lmh0bWxcIlxuICAgKiAgICAgfSwgZm9vdGVyOiB7XG4gICAqICAgICAgIGNvbnRyb2xsZXI6IFwiZm9vdEN0cmxcIixcbiAgICogICAgICAgdGVtcGxhdGVVcmw6IFwiZm9vdGVyLmh0bWxcIlxuICAgKiAgICAgfVxuICAgKiAgIH08L3ByZT5cbiAgICpcbiAgICogVGFyZ2V0cyBuYW1lZCBgdWktdmlldz1cImhlYWRlclwiYCBmcm9tIGdyYW5kcGFyZW50IHN0YXRlICd0b3AnJ3MgdGVtcGxhdGUsIGFuZCBuYW1lZCBgdWktdmlldz1cImJvZHlcIiBmcm9tIHBhcmVudCBzdGF0ZSdzIHRlbXBsYXRlLlxuICAgKiA8cHJlPnZpZXdzOiB7XG4gICAqICAgICAnaGVhZGVyQHRvcCc6IHtcbiAgICogICAgICAgY29udHJvbGxlcjogXCJtc2dIZWFkZXJDdHJsXCIsXG4gICAqICAgICAgIHRlbXBsYXRlVXJsOiBcIm1zZ0hlYWRlci5odG1sXCJcbiAgICogICAgIH0sICdib2R5Jzoge1xuICAgKiAgICAgICBjb250cm9sbGVyOiBcIm1lc3NhZ2VzQ3RybFwiLFxuICAgKiAgICAgICB0ZW1wbGF0ZVVybDogXCJtZXNzYWdlcy5odG1sXCJcbiAgICogICAgIH1cbiAgICogICB9PC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdGF0ZUNvbmZpZy5hYnN0cmFjdD1mYWxzZV1cbiAgICogPGEgaWQ9J2Fic3RyYWN0Jz48L2E+XG4gICAqIEFuIGFic3RyYWN0IHN0YXRlIHdpbGwgbmV2ZXIgYmUgZGlyZWN0bHkgYWN0aXZhdGVkLFxuICAgKiAgIGJ1dCBjYW4gcHJvdmlkZSBpbmhlcml0ZWQgcHJvcGVydGllcyB0byBpdHMgY29tbW9uIGNoaWxkcmVuIHN0YXRlcy5cbiAgICogPHByZT5hYnN0cmFjdDogdHJ1ZTwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gc3RhdGVDb25maWcub25FbnRlclxuICAgKiA8YSBpZD0nb25FbnRlcic+PC9hPlxuICAgKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3Igd2hlbiBhIHN0YXRlIGlzIGVudGVyZWQuIEdvb2Qgd2F5XG4gICAqICAgdG8gdHJpZ2dlciBhbiBhY3Rpb24gb3IgZGlzcGF0Y2ggYW4gZXZlbnQsIHN1Y2ggYXMgb3BlbmluZyBhIGRpYWxvZy5cbiAgICogSWYgbWluaWZ5aW5nIHlvdXIgc2NyaXB0cywgbWFrZSBzdXJlIHRvIGV4cGxpY3RseSBhbm5vdGF0ZSB0aGlzIGZ1bmN0aW9uLFxuICAgKiBiZWNhdXNlIGl0IHdvbid0IGJlIGF1dG9tYXRpY2FsbHkgYW5ub3RhdGVkIGJ5IHlvdXIgYnVpbGQgdG9vbHMuXG4gICAqXG4gICAqIDxwcmU+b25FbnRlcjogZnVuY3Rpb24oTXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICogICAgIE15U2VydmljZS5mb28oJHN0YXRlUGFyYW1zLm15UGFyYW0pO1xuICAgKiB9PC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBzdGF0ZUNvbmZpZy5vbkV4aXRcbiAgICogPGEgaWQ9J29uRXhpdCc+PC9hPlxuICAgKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3Igd2hlbiBhIHN0YXRlIGlzIGV4aXRlZC4gR29vZCB3YXkgdG9cbiAgICogICB0cmlnZ2VyIGFuIGFjdGlvbiBvciBkaXNwYXRjaCBhbiBldmVudCwgc3VjaCBhcyBvcGVuaW5nIGEgZGlhbG9nLlxuICAgKiBJZiBtaW5pZnlpbmcgeW91ciBzY3JpcHRzLCBtYWtlIHN1cmUgdG8gZXhwbGljdGx5IGFubm90YXRlIHRoaXMgZnVuY3Rpb24sXG4gICAqIGJlY2F1c2UgaXQgd29uJ3QgYmUgYXV0b21hdGljYWxseSBhbm5vdGF0ZWQgYnkgeW91ciBidWlsZCB0b29scy5cbiAgICpcbiAgICogPHByZT5vbkV4aXQ6IGZ1bmN0aW9uKE15U2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAqICAgICBNeVNlcnZpY2UuY2xlYW51cCgkc3RhdGVQYXJhbXMubXlQYXJhbSk7XG4gICAqIH08L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gW3N0YXRlQ29uZmlnLnJlbG9hZE9uU2VhcmNoPXRydWVdXG4gICAqIDxhIGlkPSdyZWxvYWRPblNlYXJjaCc+PC9hPlxuICAgKlxuICAgKiBJZiBgZmFsc2VgLCB3aWxsIG5vdCByZXRyaWdnZXIgdGhlIHNhbWUgc3RhdGVcbiAgICogICBqdXN0IGJlY2F1c2UgYSBzZWFyY2gvcXVlcnkgcGFyYW1ldGVyIGhhcyBjaGFuZ2VkICh2aWEgJGxvY2F0aW9uLnNlYXJjaCgpIG9yICRsb2NhdGlvbi5oYXNoKCkpLiBcbiAgICogICBVc2VmdWwgZm9yIHdoZW4geW91J2QgbGlrZSB0byBtb2RpZnkgJGxvY2F0aW9uLnNlYXJjaCgpIHdpdGhvdXQgdHJpZ2dlcmluZyBhIHJlbG9hZC5cbiAgICogPHByZT5yZWxvYWRPblNlYXJjaDogZmFsc2U8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZUNvbmZpZy5kYXRhXG4gICAqIDxhIGlkPSdkYXRhJz48L2E+XG4gICAqXG4gICAqIEFyYml0cmFyeSBkYXRhIG9iamVjdCwgdXNlZnVsIGZvciBjdXN0b20gY29uZmlndXJhdGlvbi4gIFRoZSBwYXJlbnQgc3RhdGUncyBgZGF0YWAgaXNcbiAgICogICBwcm90b3R5cGFsbHkgaW5oZXJpdGVkLiAgSW4gb3RoZXIgd29yZHMsIGFkZGluZyBhIGRhdGEgcHJvcGVydHkgdG8gYSBzdGF0ZSBhZGRzIGl0IHRvXG4gICAqICAgdGhlIGVudGlyZSBzdWJ0cmVlIHZpYSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLlxuICAgKlxuICAgKiA8cHJlPmRhdGE6IHtcbiAgICogICAgIHJlcXVpcmVkUm9sZTogJ2ZvbydcbiAgICogfSA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZUNvbmZpZy5wYXJhbXNcbiAgICogPGEgaWQ9J3BhcmFtcyc+PC9hPlxuICAgKlxuICAgKiBBIG1hcCB3aGljaCBvcHRpb25hbGx5IGNvbmZpZ3VyZXMgcGFyYW1ldGVycyBkZWNsYXJlZCBpbiB0aGUgYHVybGAsIG9yXG4gICAqICAgZGVmaW5lcyBhZGRpdGlvbmFsIG5vbi11cmwgcGFyYW1ldGVycy4gIEZvciBlYWNoIHBhcmFtZXRlciBiZWluZ1xuICAgKiAgIGNvbmZpZ3VyZWQsIGFkZCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGtleWVkIHRvIHRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqICAgRWFjaCBwYXJhbWV0ZXIgY29uZmlndXJhdGlvbiBvYmplY3QgbWF5IGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gKiogdmFsdWUgKiogLSB7b2JqZWN0fGZ1bmN0aW9uPX06IHNwZWNpZmllcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpc1xuICAgKiAgICAgcGFyYW1ldGVyLiAgVGhpcyBpbXBsaWNpdGx5IHNldHMgdGhpcyBwYXJhbWV0ZXIgYXMgb3B0aW9uYWwuXG4gICAqXG4gICAqICAgICBXaGVuIFVJLVJvdXRlciByb3V0ZXMgdG8gYSBzdGF0ZSBhbmQgbm8gdmFsdWUgaXNcbiAgICogICAgIHNwZWNpZmllZCBmb3IgdGhpcyBwYXJhbWV0ZXIgaW4gdGhlIFVSTCBvciB0cmFuc2l0aW9uLCB0aGVcbiAgICogICAgIGRlZmF1bHQgdmFsdWUgd2lsbCBiZSB1c2VkIGluc3RlYWQuICBJZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sXG4gICAqICAgICBpdCB3aWxsIGJlIGluamVjdGVkIGFuZCBpbnZva2VkLCBhbmQgdGhlIHJldHVybiB2YWx1ZSB1c2VkLlxuICAgKlxuICAgKiAgICAgKk5vdGUqOiBgdW5kZWZpbmVkYCBpcyB0cmVhdGVkIGFzIFwibm8gZGVmYXVsdCB2YWx1ZVwiIHdoaWxlIGBudWxsYFxuICAgKiAgICAgaXMgdHJlYXRlZCBhcyBcInRoZSBkZWZhdWx0IHZhbHVlIGlzIGBudWxsYFwiLlxuICAgKlxuICAgKiAgICAgKlNob3J0aGFuZCo6IElmIHlvdSBvbmx5IG5lZWQgdG8gY29uZmlndXJlIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZVxuICAgKiAgICAgcGFyYW1ldGVyLCB5b3UgbWF5IHVzZSBhIHNob3J0aGFuZCBzeW50YXguICAgSW4gdGhlICoqYHBhcmFtc2AqKlxuICAgKiAgICAgbWFwLCBpbnN0ZWFkIG1hcHBpbmcgdGhlIHBhcmFtIG5hbWUgdG8gYSBmdWxsIHBhcmFtZXRlciBjb25maWd1cmF0aW9uXG4gICAqICAgICBvYmplY3QsIHNpbXBseSBzZXQgbWFwIGl0IHRvIHRoZSBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZSwgZS5nLjpcbiAgICpcbiAgICogPHByZT4vLyBkZWZpbmUgYSBwYXJhbWV0ZXIncyBkZWZhdWx0IHZhbHVlXG4gICAqIHBhcmFtczoge1xuICAgKiAgICAgcGFyYW0xOiB7IHZhbHVlOiBcImRlZmF1bHRWYWx1ZVwiIH1cbiAgICogfVxuICAgKiAvLyBzaG9ydGhhbmQgZGVmYXVsdCB2YWx1ZXNcbiAgICogcGFyYW1zOiB7XG4gICAqICAgICBwYXJhbTE6IFwiZGVmYXVsdFZhbHVlXCIsXG4gICAqICAgICBwYXJhbTI6IFwicGFyYW0yRGVmYXVsdFwiXG4gICAqIH08L3ByZT5cbiAgICpcbiAgICogICAtICoqIGFycmF5ICoqIC0ge2Jvb2xlYW49fTogKihkZWZhdWx0OiBmYWxzZSkqIElmIHRydWUsIHRoZSBwYXJhbSB2YWx1ZSB3aWxsIGJlXG4gICAqICAgICB0cmVhdGVkIGFzIGFuIGFycmF5IG9mIHZhbHVlcy4gIElmIHlvdSBzcGVjaWZpZWQgYSBUeXBlLCB0aGUgdmFsdWUgd2lsbCBiZVxuICAgKiAgICAgdHJlYXRlZCBhcyBhbiBhcnJheSBvZiB0aGUgc3BlY2lmaWVkIFR5cGUuICBOb3RlOiBxdWVyeSBwYXJhbWV0ZXIgdmFsdWVzXG4gICAqICAgICBkZWZhdWx0IHRvIGEgc3BlY2lhbCBgXCJhdXRvXCJgIG1vZGUuXG4gICAqXG4gICAqICAgICBGb3IgcXVlcnkgcGFyYW1ldGVycyBpbiBgXCJhdXRvXCJgIG1vZGUsIGlmIG11bHRpcGxlICB2YWx1ZXMgZm9yIGEgc2luZ2xlIHBhcmFtZXRlclxuICAgKiAgICAgYXJlIHByZXNlbnQgaW4gdGhlIFVSTCAoZS5nLjogYC9mb28/YmFyPTEmYmFyPTImYmFyPTNgKSB0aGVuIHRoZSB2YWx1ZXNcbiAgICogICAgIGFyZSBtYXBwZWQgdG8gYW4gYXJyYXkgKGUuZy46IGB7IGZvbzogWyAnMScsICcyJywgJzMnIF0gfWApLiAgSG93ZXZlciwgaWZcbiAgICogICAgIG9ubHkgb25lIHZhbHVlIGlzIHByZXNlbnQgKGUuZy46IGAvZm9vP2Jhcj0xYCkgdGhlbiB0aGUgdmFsdWUgaXMgdHJlYXRlZCBhcyBzaW5nbGVcbiAgICogICAgIHZhbHVlIChlLmcuOiBgeyBmb286ICcxJyB9YCkuXG4gICAqXG4gICAqIDxwcmU+cGFyYW1zOiB7XG4gICAqICAgICBwYXJhbTE6IHsgYXJyYXk6IHRydWUgfVxuICAgKiB9PC9wcmU+XG4gICAqXG4gICAqICAgLSAqKiBzcXVhc2ggKiogLSB7Ym9vbHxzdHJpbmc9fTogYHNxdWFzaGAgY29uZmlndXJlcyBob3cgYSBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZSBpcyByZXByZXNlbnRlZCBpbiB0aGUgVVJMIHdoZW5cbiAgICogICAgIHRoZSBjdXJyZW50IHBhcmFtZXRlciB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgZGVmYXVsdCB2YWx1ZS4gSWYgYHNxdWFzaGAgaXMgbm90IHNldCwgaXQgdXNlcyB0aGVcbiAgICogICAgIGNvbmZpZ3VyZWQgZGVmYXVsdCBzcXVhc2ggcG9saWN5LlxuICAgKiAgICAgKFNlZSB7QGxpbmsgdWkucm91dGVyLnV0aWwuJHVybE1hdGNoZXJGYWN0b3J5I21ldGhvZHNfZGVmYXVsdFNxdWFzaFBvbGljeSBgZGVmYXVsdFNxdWFzaFBvbGljeSgpYH0pXG4gICAqXG4gICAqICAgVGhlcmUgYXJlIHRocmVlIHNxdWFzaCBzZXR0aW5nczpcbiAgICpcbiAgICogICAgIC0gZmFsc2U6IFRoZSBwYXJhbWV0ZXIncyBkZWZhdWx0IHZhbHVlIGlzIG5vdCBzcXVhc2hlZC4gIEl0IGlzIGVuY29kZWQgYW5kIGluY2x1ZGVkIGluIHRoZSBVUkxcbiAgICogICAgIC0gdHJ1ZTogVGhlIHBhcmFtZXRlcidzIGRlZmF1bHQgdmFsdWUgaXMgb21pdHRlZCBmcm9tIHRoZSBVUkwuICBJZiB0aGUgcGFyYW1ldGVyIGlzIHByZWNlZWRlZCBhbmQgZm9sbG93ZWRcbiAgICogICAgICAgYnkgc2xhc2hlcyBpbiB0aGUgc3RhdGUncyBgdXJsYCBkZWNsYXJhdGlvbiwgdGhlbiBvbmUgb2YgdGhvc2Ugc2xhc2hlcyBhcmUgb21pdHRlZC5cbiAgICogICAgICAgVGhpcyBjYW4gYWxsb3cgZm9yIGNsZWFuZXIgbG9va2luZyBVUkxzLlxuICAgKiAgICAgLSBgXCI8YXJiaXRyYXJ5IHN0cmluZz5cImA6IFRoZSBwYXJhbWV0ZXIncyBkZWZhdWx0IHZhbHVlIGlzIHJlcGxhY2VkIHdpdGggYW4gYXJiaXRyYXJ5IHBsYWNlaG9sZGVyIG9mICB5b3VyIGNob2ljZS5cbiAgICpcbiAgICogPHByZT5wYXJhbXM6IHtcbiAgICogICAgIHBhcmFtMToge1xuICAgKiAgICAgICB2YWx1ZTogXCJkZWZhdWx0SWRcIixcbiAgICogICAgICAgc3F1YXNoOiB0cnVlXG4gICAqIH0gfVxuICAgKiAvLyBzcXVhc2ggXCJkZWZhdWx0VmFsdWVcIiB0byBcIn5cIlxuICAgKiBwYXJhbXM6IHtcbiAgICogICAgIHBhcmFtMToge1xuICAgKiAgICAgICB2YWx1ZTogXCJkZWZhdWx0VmFsdWVcIixcbiAgICogICAgICAgc3F1YXNoOiBcIn5cIlxuICAgKiB9IH1cbiAgICogPC9wcmU+XG4gICAqXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIDxwcmU+XG4gICAqIC8vIFNvbWUgc3RhdGUgbmFtZSBleGFtcGxlc1xuICAgKlxuICAgKiAvLyBzdGF0ZU5hbWUgY2FuIGJlIGEgc2luZ2xlIHRvcC1sZXZlbCBuYW1lIChtdXN0IGJlIHVuaXF1ZSkuXG4gICAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7fSk7XG4gICAqXG4gICAqIC8vIE9yIGl0IGNhbiBiZSBhIG5lc3RlZCBzdGF0ZSBuYW1lLiBUaGlzIHN0YXRlIGlzIGEgY2hpbGQgb2YgdGhlXG4gICAqIC8vIGFib3ZlIFwiaG9tZVwiIHN0YXRlLlxuICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWUubmV3ZXN0XCIsIHt9KTtcbiAgICpcbiAgICogLy8gTmVzdCBzdGF0ZXMgYXMgZGVlcGx5IGFzIG5lZWRlZC5cbiAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lLm5ld2VzdC5hYmMueHl6LmluY2VwdGlvblwiLCB7fSk7XG4gICAqXG4gICAqIC8vIHN0YXRlKCkgcmV0dXJucyAkc3RhdGVQcm92aWRlciwgc28geW91IGNhbiBjaGFpbiBzdGF0ZSBkZWNsYXJhdGlvbnMuXG4gICAqICRzdGF0ZVByb3ZpZGVyXG4gICAqICAgLnN0YXRlKFwiaG9tZVwiLCB7fSlcbiAgICogICAuc3RhdGUoXCJhYm91dFwiLCB7fSlcbiAgICogICAuc3RhdGUoXCJjb250YWN0c1wiLCB7fSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKi9cbiAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICBmdW5jdGlvbiBzdGF0ZShuYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSBkZWZpbml0aW9uID0gbmFtZTtcbiAgICBlbHNlIGRlZmluaXRpb24ubmFtZSA9IG5hbWU7XG4gICAgcmVnaXN0ZXJTdGF0ZShkZWZpbml0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICpcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICogQHJlcXVpcmVzICRxXG4gICAqIEByZXF1aXJlcyB1aS5yb3V0ZXIuc3RhdGUuJHZpZXdcbiAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgKiBAcmVxdWlyZXMgdWkucm91dGVyLnV0aWwuJHJlc29sdmVcbiAgICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVQYXJhbXNcbiAgICogQHJlcXVpcmVzIHVpLnJvdXRlci5yb3V0ZXIuJHVybFJvdXRlclxuICAgKlxuICAgKiBAcHJvcGVydHkge29iamVjdH0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIHtzZWN0aW9uSWQ6IHNlY3Rpb24uaWQpfSwgdGhhdCBcbiAgICogeW91J2QgbGlrZSB0byB0ZXN0IGFnYWluc3QgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlLlxuICAgKiBAcHJvcGVydHkge29iamVjdH0gY3VycmVudCBBIHJlZmVyZW5jZSB0byB0aGUgc3RhdGUncyBjb25maWcgb2JqZWN0LiBIb3dldmVyIFxuICAgKiB5b3UgcGFzc2VkIGl0IGluLiBVc2VmdWwgZm9yIGFjY2Vzc2luZyBjdXN0b20gZGF0YS5cbiAgICogQHByb3BlcnR5IHtvYmplY3R9IHRyYW5zaXRpb24gQ3VycmVudGx5IHBlbmRpbmcgdHJhbnNpdGlvbi4gQSBwcm9taXNlIHRoYXQnbGwgXG4gICAqIHJlc29sdmUgb3IgcmVqZWN0LlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogYCRzdGF0ZWAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgcmVwcmVzZW50aW5nIHN0YXRlcyBhcyB3ZWxsIGFzIHRyYW5zaXRpb25pbmdcbiAgICogYmV0d2VlbiB0aGVtLiBJdCBhbHNvIHByb3ZpZGVzIGludGVyZmFjZXMgdG8gYXNrIGZvciBjdXJyZW50IHN0YXRlIG9yIGV2ZW4gc3RhdGVzXG4gICAqIHlvdSdyZSBjb21pbmcgZnJvbS5cbiAgICovXG4gIHRoaXMuJGdldCA9ICRnZXQ7XG4gICRnZXQuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckcScsICckdmlldycsICckaW5qZWN0b3InLCAnJHJlc29sdmUnLCAnJHN0YXRlUGFyYW1zJywgJyR1cmxSb3V0ZXInLCAnJGxvY2F0aW9uJywgJyR1cmxNYXRjaGVyRmFjdG9yeSddO1xuICBmdW5jdGlvbiAkZ2V0KCAgICRyb290U2NvcGUsICAgJHEsICAgJHZpZXcsICAgJGluamVjdG9yLCAgICRyZXNvbHZlLCAgICRzdGF0ZVBhcmFtcywgICAkdXJsUm91dGVyLCAgICRsb2NhdGlvbiwgICAkdXJsTWF0Y2hlckZhY3RvcnkpIHtcblxuICAgIHZhciBUcmFuc2l0aW9uU3VwZXJzZWRlZCA9ICRxLnJlamVjdChuZXcgRXJyb3IoJ3RyYW5zaXRpb24gc3VwZXJzZWRlZCcpKTtcbiAgICB2YXIgVHJhbnNpdGlvblByZXZlbnRlZCA9ICRxLnJlamVjdChuZXcgRXJyb3IoJ3RyYW5zaXRpb24gcHJldmVudGVkJykpO1xuICAgIHZhciBUcmFuc2l0aW9uQWJvcnRlZCA9ICRxLnJlamVjdChuZXcgRXJyb3IoJ3RyYW5zaXRpb24gYWJvcnRlZCcpKTtcbiAgICB2YXIgVHJhbnNpdGlvbkZhaWxlZCA9ICRxLnJlamVjdChuZXcgRXJyb3IoJ3RyYW5zaXRpb24gZmFpbGVkJykpO1xuXG4gICAgLy8gSGFuZGxlcyB0aGUgY2FzZSB3aGVyZSBhIHN0YXRlIHdoaWNoIGlzIHRoZSB0YXJnZXQgb2YgYSB0cmFuc2l0aW9uIGlzIG5vdCBmb3VuZCwgYW5kIHRoZSB1c2VyXG4gICAgLy8gY2FuIG9wdGlvbmFsbHkgcmV0cnkgb3IgZGVmZXIgdGhlIHRyYW5zaXRpb25cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdChyZWRpcmVjdCwgc3RhdGUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjJHN0YXRlTm90Rm91bmRcbiAgICAgICAqIEBldmVudE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRmlyZWQgd2hlbiBhIHJlcXVlc3RlZCBzdGF0ZSAqKmNhbm5vdCBiZSBmb3VuZCoqIHVzaW5nIHRoZSBwcm92aWRlZCBzdGF0ZSBuYW1lIGR1cmluZyB0cmFuc2l0aW9uLlxuICAgICAgICogVGhlIGV2ZW50IGlzIGJyb2FkY2FzdCBhbGxvd2luZyBhbnkgaGFuZGxlcnMgYSBzaW5nbGUgY2hhbmNlIHRvIGRlYWwgd2l0aCB0aGUgZXJyb3IgKHVzdWFsbHkgYnlcbiAgICAgICAqIGxhenktbG9hZGluZyB0aGUgdW5mb3VuZCBzdGF0ZSkuIEEgc3BlY2lhbCBgdW5mb3VuZFN0YXRlYCBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBsaXN0ZW5lciBoYW5kbGVyLFxuICAgICAgICogeW91IGNhbiBzZWUgaXRzIHRocmVlIHByb3BlcnRpZXMgaW4gdGhlIGV4YW1wbGUuIFlvdSBjYW4gdXNlIGBldmVudC5wcmV2ZW50RGVmYXVsdCgpYCB0byBhYm9ydCB0aGVcbiAgICAgICAqIHRyYW5zaXRpb24gYW5kIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYGdvYCB3aWxsIGJlIHJlamVjdGVkIHdpdGggYSBgJ3RyYW5zaXRpb24gYWJvcnRlZCdgIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5mb3VuZFN0YXRlIFVuZm91bmQgU3RhdGUgaW5mb3JtYXRpb24uIENvbnRhaW5zOiBgdG8sIHRvUGFyYW1zLCBvcHRpb25zYCBwcm9wZXJ0aWVzLlxuICAgICAgICogQHBhcmFtIHtTdGF0ZX0gZnJvbVN0YXRlIEN1cnJlbnQgc3RhdGUgb2JqZWN0LlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZyb21QYXJhbXMgQ3VycmVudCBzdGF0ZSBwYXJhbXMuXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqXG4gICAgICAgKiA8cHJlPlxuICAgICAgICogLy8gc29tZXdoZXJlLCBhc3N1bWUgbGF6eS5zdGF0ZSBoYXMgbm90IGJlZW4gZGVmaW5lZFxuICAgICAgICogJHN0YXRlLmdvKFwibGF6eS5zdGF0ZVwiLCB7YToxLCBiOjJ9LCB7aW5oZXJpdDpmYWxzZX0pO1xuICAgICAgICpcbiAgICAgICAqIC8vIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgKiAkc2NvcGUuJG9uKCckc3RhdGVOb3RGb3VuZCcsXG4gICAgICAgKiBmdW5jdGlvbihldmVudCwgdW5mb3VuZFN0YXRlLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgICAgICogICAgIGNvbnNvbGUubG9nKHVuZm91bmRTdGF0ZS50byk7IC8vIFwibGF6eS5zdGF0ZVwiXG4gICAgICAgKiAgICAgY29uc29sZS5sb2codW5mb3VuZFN0YXRlLnRvUGFyYW1zKTsgLy8ge2E6MSwgYjoyfVxuICAgICAgICogICAgIGNvbnNvbGUubG9nKHVuZm91bmRTdGF0ZS5vcHRpb25zKTsgLy8ge2luaGVyaXQ6ZmFsc2V9ICsgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgKiB9KVxuICAgICAgICogPC9wcmU+XG4gICAgICAgKi9cbiAgICAgIHZhciBldnQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRzdGF0ZU5vdEZvdW5kJywgcmVkaXJlY3QsIHN0YXRlLCBwYXJhbXMpO1xuXG4gICAgICBpZiAoZXZ0LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgJHVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIFRyYW5zaXRpb25BYm9ydGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV2dC5yZXRyeSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQWxsb3cgdGhlIGhhbmRsZXIgdG8gcmV0dXJuIGEgcHJvbWlzZSB0byBkZWZlciBzdGF0ZSBsb29rdXAgcmV0cnlcbiAgICAgIGlmIChvcHRpb25zLiRyZXRyeSkge1xuICAgICAgICAkdXJsUm91dGVyLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gVHJhbnNpdGlvbkZhaWxlZDtcbiAgICAgIH1cbiAgICAgIHZhciByZXRyeVRyYW5zaXRpb24gPSAkc3RhdGUudHJhbnNpdGlvbiA9ICRxLndoZW4oZXZ0LnJldHJ5KTtcblxuICAgICAgcmV0cnlUcmFuc2l0aW9uLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyZXRyeVRyYW5zaXRpb24gIT09ICRzdGF0ZS50cmFuc2l0aW9uKSByZXR1cm4gVHJhbnNpdGlvblN1cGVyc2VkZWQ7XG4gICAgICAgIHJlZGlyZWN0Lm9wdGlvbnMuJHJldHJ5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRzdGF0ZS50cmFuc2l0aW9uVG8ocmVkaXJlY3QudG8sIHJlZGlyZWN0LnRvUGFyYW1zLCByZWRpcmVjdC5vcHRpb25zKTtcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gVHJhbnNpdGlvbkFib3J0ZWQ7XG4gICAgICB9KTtcbiAgICAgICR1cmxSb3V0ZXIudXBkYXRlKCk7XG5cbiAgICAgIHJldHVybiByZXRyeVRyYW5zaXRpb247XG4gICAgfVxuXG4gICAgcm9vdC5sb2NhbHMgPSB7IHJlc29sdmU6IG51bGwsIGdsb2JhbHM6IHsgJHN0YXRlUGFyYW1zOiB7fSB9IH07XG5cbiAgICAkc3RhdGUgPSB7XG4gICAgICBwYXJhbXM6IHt9LFxuICAgICAgY3VycmVudDogcm9vdC5zZWxmLFxuICAgICAgJGN1cnJlbnQ6IHJvb3QsXG4gICAgICB0cmFuc2l0aW9uOiBudWxsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjcmVsb2FkXG4gICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEEgbWV0aG9kIHRoYXQgZm9yY2UgcmVsb2FkcyB0aGUgY3VycmVudCBzdGF0ZS4gQWxsIHJlc29sdmVzIGFyZSByZS1yZXNvbHZlZCwgZXZlbnRzIGFyZSBub3QgcmUtZmlyZWQsIFxuICAgICAqIGFuZCBjb250cm9sbGVycyByZWluc3RhbnRpYXRlZCAoYnVnIHdpdGggY29udHJvbGxlcnMgcmVpbnN0YW50aWF0aW5nIHJpZ2h0IG5vdywgZml4aW5nIHNvb24pLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBhcHAgYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5yZWxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAqICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiBgcmVsb2FkKClgIGlzIGp1c3QgYW4gYWxpYXMgZm9yOlxuICAgICAqIDxwcmU+XG4gICAgICogJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgJHN0YXRlUGFyYW1zLCB7IFxuICAgICAqICAgcmVsb2FkOiB0cnVlLCBpbmhlcml0OiBmYWxzZSwgbm90aWZ5OiB0cnVlXG4gICAgICogfSk7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLiBTZWVcbiAgICAgKiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNtZXRob2RzX2dvICRzdGF0ZS5nb30uXG4gICAgICovXG4gICAgJHN0YXRlLnJlbG9hZCA9IGZ1bmN0aW9uIHJlbG9hZCgpIHtcbiAgICAgIHJldHVybiAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCAkc3RhdGVQYXJhbXMsIHsgcmVsb2FkOiB0cnVlLCBpbmhlcml0OiBmYWxzZSwgbm90aWZ5OiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI2dvXG4gICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgdHJhbnNpdGlvbmluZyB0byBhIG5ldyBzdGF0ZS4gYCRzdGF0ZS5nb2AgY2FsbHMgXG4gICAgICogYCRzdGF0ZS50cmFuc2l0aW9uVG9gIGludGVybmFsbHkgYnV0IGF1dG9tYXRpY2FsbHkgc2V0cyBvcHRpb25zIHRvIFxuICAgICAqIGB7IGxvY2F0aW9uOiB0cnVlLCBpbmhlcml0OiB0cnVlLCByZWxhdGl2ZTogJHN0YXRlLiRjdXJyZW50LCBub3RpZnk6IHRydWUgfWAuIFxuICAgICAqIFRoaXMgYWxsb3dzIHlvdSB0byBlYXNpbHkgdXNlIGFuIGFic29sdXRlIG9yIHJlbGF0aXZlIHRvIHBhdGggYW5kIHNwZWNpZnkgXG4gICAgICogb25seSB0aGUgcGFyYW1ldGVycyB5b3UnZCBsaWtlIHRvIHVwZGF0ZSAod2hpbGUgbGV0dGluZyB1bnNwZWNpZmllZCBwYXJhbWV0ZXJzIFxuICAgICAqIGluaGVyaXQgZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBhbmNlc3RvciBzdGF0ZXMpLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLmNoYW5nZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAqICAgICAkc3RhdGUuZ28oJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqIDwvcHJlPlxuICAgICAqIDxpbWcgc3JjPScuLi9uZ2RvY19hc3NldHMvU3RhdGVHb0V4YW1wbGVzLnBuZycvPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvIEFic29sdXRlIHN0YXRlIG5hbWUgb3IgcmVsYXRpdmUgc3RhdGUgcGF0aC4gU29tZSBleGFtcGxlczpcbiAgICAgKlxuICAgICAqIC0gYCRzdGF0ZS5nbygnY29udGFjdC5kZXRhaWwnKWAgLSB3aWxsIGdvIHRvIHRoZSBgY29udGFjdC5kZXRhaWxgIHN0YXRlXG4gICAgICogLSBgJHN0YXRlLmdvKCdeJylgIC0gd2lsbCBnbyB0byBhIHBhcmVudCBzdGF0ZVxuICAgICAqIC0gYCRzdGF0ZS5nbygnXi5zaWJsaW5nJylgIC0gd2lsbCBnbyB0byBhIHNpYmxpbmcgc3RhdGVcbiAgICAgKiAtIGAkc3RhdGUuZ28oJy5jaGlsZC5ncmFuZGNoaWxkJylgIC0gd2lsbCBnbyB0byBncmFuZGNoaWxkIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdD19IHBhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsIFxuICAgICAqIHdpbGwgcG9wdWxhdGUgJHN0YXRlUGFyYW1zLiBBbnkgcGFyYW1ldGVycyB0aGF0IGFyZSBub3Qgc3BlY2lmaWVkIHdpbGwgYmUgaW5oZXJpdGVkIGZyb20gY3VycmVudGx5IFxuICAgICAqIGRlZmluZWQgcGFyYW1ldGVycy4gVGhpcyBhbGxvd3MsIGZvciBleGFtcGxlLCBnb2luZyB0byBhIHNpYmxpbmcgc3RhdGUgdGhhdCBzaGFyZXMgcGFyYW1ldGVyc1xuICAgICAqIHNwZWNpZmllZCBpbiBhIHBhcmVudCBzdGF0ZS4gUGFyYW1ldGVyIGluaGVyaXRhbmNlIG9ubHkgd29ya3MgYmV0d2VlbiBjb21tb24gYW5jZXN0b3Igc3RhdGVzLCBJLmUuXG4gICAgICogdHJhbnNpdGlvbmluZyB0byBhIHNpYmxpbmcgd2lsbCBnZXQgeW91IHRoZSBwYXJhbWV0ZXJzIGZvciBhbGwgcGFyZW50cywgdHJhbnNpdGlvbmluZyB0byBhIGNoaWxkXG4gICAgICogd2lsbCBnZXQgeW91IGFsbCBjdXJyZW50IHBhcmFtZXRlcnMsIGV0Yy5cbiAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcbiAgICAgKlxuICAgICAqIC0gKipgbG9jYXRpb25gKiogLSB7Ym9vbGVhbj10cnVlfHN0cmluZz19IC0gSWYgYHRydWVgIHdpbGwgdXBkYXRlIHRoZSB1cmwgaW4gdGhlIGxvY2F0aW9uIGJhciwgaWYgYGZhbHNlYFxuICAgICAqICAgIHdpbGwgbm90LiBJZiBzdHJpbmcsIG11c3QgYmUgYFwicmVwbGFjZVwiYCwgd2hpY2ggd2lsbCB1cGRhdGUgdXJsIGFuZCBhbHNvIHJlcGxhY2UgbGFzdCBoaXN0b3J5IHJlY29yZC5cbiAgICAgKiAtICoqYGluaGVyaXRgKiogLSB7Ym9vbGVhbj10cnVlfSwgSWYgYHRydWVgIHdpbGwgaW5oZXJpdCB1cmwgcGFyYW1ldGVycyBmcm9tIGN1cnJlbnQgdXJsLlxuICAgICAqIC0gKipgcmVsYXRpdmVgKiogLSB7b2JqZWN0PSRzdGF0ZS4kY3VycmVudH0sIFdoZW4gdHJhbnNpdGlvbmluZyB3aXRoIHJlbGF0aXZlIHBhdGggKGUuZyAnXicpLCBcbiAgICAgKiAgICBkZWZpbmVzIHdoaWNoIHN0YXRlIHRvIGJlIHJlbGF0aXZlIGZyb20uXG4gICAgICogLSAqKmBub3RpZnlgKiogLSB7Ym9vbGVhbj10cnVlfSwgSWYgYHRydWVgIHdpbGwgYnJvYWRjYXN0ICRzdGF0ZUNoYW5nZVN0YXJ0IGFuZCAkc3RhdGVDaGFuZ2VTdWNjZXNzIGV2ZW50cy5cbiAgICAgKiAtICoqYHJlbG9hZGAqKiAodjAuMi41KSAtIHtib29sZWFuPWZhbHNlfSwgSWYgYHRydWVgIHdpbGwgZm9yY2UgdHJhbnNpdGlvbiBldmVuIGlmIHRoZSBzdGF0ZSBvciBwYXJhbXMgXG4gICAgICogICAgaGF2ZSBub3QgY2hhbmdlZCwgYWthIGEgcmVsb2FkIG9mIHRoZSBzYW1lIHN0YXRlLiBJdCBkaWZmZXJzIGZyb20gcmVsb2FkT25TZWFyY2ggYmVjYXVzZSB5b3UnZFxuICAgICAqICAgIHVzZSB0aGlzIHdoZW4geW91IHdhbnQgdG8gZm9yY2UgYSByZWxvYWQgd2hlbiAqZXZlcnl0aGluZyogaXMgdGhlIHNhbWUsIGluY2x1ZGluZyBzZWFyY2ggcGFyYW1zLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mIHRoZSBuZXcgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIFBvc3NpYmxlIHN1Y2Nlc3MgdmFsdWVzOlxuICAgICAqXG4gICAgICogLSAkc3RhdGUuY3VycmVudFxuICAgICAqXG4gICAgICogPGJyLz5Qb3NzaWJsZSByZWplY3Rpb24gdmFsdWVzOlxuICAgICAqXG4gICAgICogLSAndHJhbnNpdGlvbiBzdXBlcnNlZGVkJyAtIHdoZW4gYSBuZXdlciB0cmFuc2l0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQgYWZ0ZXIgdGhpcyBvbmVcbiAgICAgKiAtICd0cmFuc2l0aW9uIHByZXZlbnRlZCcgLSB3aGVuIGBldmVudC5wcmV2ZW50RGVmYXVsdCgpYCBoYXMgYmVlbiBjYWxsZWQgaW4gYSBgJHN0YXRlQ2hhbmdlU3RhcnRgIGxpc3RlbmVyXG4gICAgICogLSAndHJhbnNpdGlvbiBhYm9ydGVkJyAtIHdoZW4gYGV2ZW50LnByZXZlbnREZWZhdWx0KClgIGhhcyBiZWVuIGNhbGxlZCBpbiBhIGAkc3RhdGVOb3RGb3VuZGAgbGlzdGVuZXIgb3JcbiAgICAgKiAgIHdoZW4gYSBgJHN0YXRlTm90Rm91bmRgIGBldmVudC5yZXRyeWAgcHJvbWlzZSBlcnJvcnMuXG4gICAgICogLSAndHJhbnNpdGlvbiBmYWlsZWQnIC0gd2hlbiBhIHN0YXRlIGhhcyBiZWVuIHVuc3VjY2Vzc2Z1bGx5IGZvdW5kIGFmdGVyIDIgdHJpZXMuXG4gICAgICogLSAqcmVzb2x2ZSBlcnJvciogLSB3aGVuIGFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aXRoIGEgYHJlc29sdmVgXG4gICAgICpcbiAgICAgKi9cbiAgICAkc3RhdGUuZ28gPSBmdW5jdGlvbiBnbyh0bywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gJHN0YXRlLnRyYW5zaXRpb25Ubyh0bywgcGFyYW1zLCBleHRlbmQoeyBpbmhlcml0OiB0cnVlLCByZWxhdGl2ZTogJHN0YXRlLiRjdXJyZW50IH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSN0cmFuc2l0aW9uVG9cbiAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTG93LWxldmVsIG1ldGhvZCBmb3IgdHJhbnNpdGlvbmluZyB0byBhIG5ldyBzdGF0ZS4ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjbWV0aG9kc19nbyAkc3RhdGUuZ299XG4gICAgICogdXNlcyBgdHJhbnNpdGlvblRvYCBpbnRlcm5hbGx5LiBgJHN0YXRlLmdvYCBpcyByZWNvbW1lbmRlZCBpbiBtb3N0IHNpdHVhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKTtcbiAgICAgKlxuICAgICAqIGFwcC5jb250cm9sbGVyKCdjdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlKSB7XG4gICAgICogICAkc2NvcGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICogICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvIFN0YXRlIG5hbWUuXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSB0b1BhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsXG4gICAgICogd2lsbCBwb3B1bGF0ZSAkc3RhdGVQYXJhbXMuXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG4gICAgICpcbiAgICAgKiAtICoqYGxvY2F0aW9uYCoqIC0ge2Jvb2xlYW49dHJ1ZXxzdHJpbmc9fSAtIElmIGB0cnVlYCB3aWxsIHVwZGF0ZSB0aGUgdXJsIGluIHRoZSBsb2NhdGlvbiBiYXIsIGlmIGBmYWxzZWBcbiAgICAgKiAgICB3aWxsIG5vdC4gSWYgc3RyaW5nLCBtdXN0IGJlIGBcInJlcGxhY2VcImAsIHdoaWNoIHdpbGwgdXBkYXRlIHVybCBhbmQgYWxzbyByZXBsYWNlIGxhc3QgaGlzdG9yeSByZWNvcmQuXG4gICAgICogLSAqKmBpbmhlcml0YCoqIC0ge2Jvb2xlYW49ZmFsc2V9LCBJZiBgdHJ1ZWAgd2lsbCBpbmhlcml0IHVybCBwYXJhbWV0ZXJzIGZyb20gY3VycmVudCB1cmwuXG4gICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtvYmplY3Q9fSwgV2hlbiB0cmFuc2l0aW9uaW5nIHdpdGggcmVsYXRpdmUgcGF0aCAoZS5nICdeJyksIFxuICAgICAqICAgIGRlZmluZXMgd2hpY2ggc3RhdGUgdG8gYmUgcmVsYXRpdmUgZnJvbS5cbiAgICAgKiAtICoqYG5vdGlmeWAqKiAtIHtib29sZWFuPXRydWV9LCBJZiBgdHJ1ZWAgd2lsbCBicm9hZGNhc3QgJHN0YXRlQ2hhbmdlU3RhcnQgYW5kICRzdGF0ZUNoYW5nZVN1Y2Nlc3MgZXZlbnRzLlxuICAgICAqIC0gKipgcmVsb2FkYCoqICh2MC4yLjUpIC0ge2Jvb2xlYW49ZmFsc2V9LCBJZiBgdHJ1ZWAgd2lsbCBmb3JjZSB0cmFuc2l0aW9uIGV2ZW4gaWYgdGhlIHN0YXRlIG9yIHBhcmFtcyBcbiAgICAgKiAgICBoYXZlIG5vdCBjaGFuZ2VkLCBha2EgYSByZWxvYWQgb2YgdGhlIHNhbWUgc3RhdGUuIEl0IGRpZmZlcnMgZnJvbSByZWxvYWRPblNlYXJjaCBiZWNhdXNlIHlvdSdkXG4gICAgICogICAgdXNlIHRoaXMgd2hlbiB5b3Ugd2FudCB0byBmb3JjZSBhIHJlbG9hZCB3aGVuICpldmVyeXRoaW5nKiBpcyB0aGUgc2FtZSwgaW5jbHVkaW5nIHNlYXJjaCBwYXJhbXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLiBTZWVcbiAgICAgKiB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNtZXRob2RzX2dvICRzdGF0ZS5nb30uXG4gICAgICovXG4gICAgJHN0YXRlLnRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIHRyYW5zaXRpb25Ubyh0bywgdG9QYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgIHRvUGFyYW1zID0gdG9QYXJhbXMgfHwge307XG4gICAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgbG9jYXRpb246IHRydWUsIGluaGVyaXQ6IGZhbHNlLCByZWxhdGl2ZTogbnVsbCwgbm90aWZ5OiB0cnVlLCByZWxvYWQ6IGZhbHNlLCAkcmV0cnk6IGZhbHNlXG4gICAgICB9LCBvcHRpb25zIHx8IHt9KTtcblxuICAgICAgdmFyIGZyb20gPSAkc3RhdGUuJGN1cnJlbnQsIGZyb21QYXJhbXMgPSAkc3RhdGUucGFyYW1zLCBmcm9tUGF0aCA9IGZyb20ucGF0aDtcbiAgICAgIHZhciBldnQsIHRvU3RhdGUgPSBmaW5kU3RhdGUodG8sIG9wdGlvbnMucmVsYXRpdmUpO1xuXG4gICAgICBpZiAoIWlzRGVmaW5lZCh0b1N0YXRlKSkge1xuICAgICAgICB2YXIgcmVkaXJlY3QgPSB7IHRvOiB0bywgdG9QYXJhbXM6IHRvUGFyYW1zLCBvcHRpb25zOiBvcHRpb25zIH07XG4gICAgICAgIHZhciByZWRpcmVjdFJlc3VsdCA9IGhhbmRsZVJlZGlyZWN0KHJlZGlyZWN0LCBmcm9tLnNlbGYsIGZyb21QYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChyZWRpcmVjdFJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZWRpcmVjdFJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsd2F5cyByZXRyeSBvbmNlIGlmIHRoZSAkc3RhdGVOb3RGb3VuZCB3YXMgbm90IHByZXZlbnRlZFxuICAgICAgICAvLyAoaGFuZGxlcyBlaXRoZXIgcmVkaXJlY3QgY2hhbmdlZCBvciBzdGF0ZSBsYXp5LWRlZmluaXRpb24pXG4gICAgICAgIHRvID0gcmVkaXJlY3QudG87XG4gICAgICAgIHRvUGFyYW1zID0gcmVkaXJlY3QudG9QYXJhbXM7XG4gICAgICAgIG9wdGlvbnMgPSByZWRpcmVjdC5vcHRpb25zO1xuICAgICAgICB0b1N0YXRlID0gZmluZFN0YXRlKHRvLCBvcHRpb25zLnJlbGF0aXZlKTtcblxuICAgICAgICBpZiAoIWlzRGVmaW5lZCh0b1N0YXRlKSkge1xuICAgICAgICAgIGlmICghb3B0aW9ucy5yZWxhdGl2ZSkgdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCBzdGF0ZSAnXCIgKyB0byArIFwiJ1wiKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIgKyB0byArIFwiJyBmcm9tIHN0YXRlICdcIiArIG9wdGlvbnMucmVsYXRpdmUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0b1N0YXRlW2Fic3RyYWN0S2V5XSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiICsgdG8gKyBcIidcIik7XG4gICAgICBpZiAob3B0aW9ucy5pbmhlcml0KSB0b1BhcmFtcyA9IGluaGVyaXRQYXJhbXMoJHN0YXRlUGFyYW1zLCB0b1BhcmFtcyB8fCB7fSwgJHN0YXRlLiRjdXJyZW50LCB0b1N0YXRlKTtcbiAgICAgIGlmICghdG9TdGF0ZS5wYXJhbXMuJCR2YWxpZGF0ZXModG9QYXJhbXMpKSByZXR1cm4gVHJhbnNpdGlvbkZhaWxlZDtcblxuICAgICAgdG9QYXJhbXMgPSB0b1N0YXRlLnBhcmFtcy4kJHZhbHVlcyh0b1BhcmFtcyk7XG4gICAgICB0byA9IHRvU3RhdGU7XG5cbiAgICAgIHZhciB0b1BhdGggPSB0by5wYXRoO1xuXG4gICAgICAvLyBTdGFydGluZyBmcm9tIHRoZSByb290IG9mIHRoZSBwYXRoLCBrZWVwIGFsbCBsZXZlbHMgdGhhdCBoYXZlbid0IGNoYW5nZWRcbiAgICAgIHZhciBrZWVwID0gMCwgc3RhdGUgPSB0b1BhdGhba2VlcF0sIGxvY2FscyA9IHJvb3QubG9jYWxzLCB0b0xvY2FscyA9IFtdO1xuXG4gICAgICBpZiAoIW9wdGlvbnMucmVsb2FkKSB7XG4gICAgICAgIHdoaWxlIChzdGF0ZSAmJiBzdGF0ZSA9PT0gZnJvbVBhdGhba2VlcF0gJiYgc3RhdGUub3duUGFyYW1zLiQkZXF1YWxzKHRvUGFyYW1zLCBmcm9tUGFyYW1zKSkge1xuICAgICAgICAgIGxvY2FscyA9IHRvTG9jYWxzW2tlZXBdID0gc3RhdGUubG9jYWxzO1xuICAgICAgICAgIGtlZXArKztcbiAgICAgICAgICBzdGF0ZSA9IHRvUGF0aFtrZWVwXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSdyZSBnb2luZyB0byB0aGUgc2FtZSBzdGF0ZSBhbmQgYWxsIGxvY2FscyBhcmUga2VwdCwgd2UndmUgZ290IG5vdGhpbmcgdG8gZG8uXG4gICAgICAvLyBCdXQgY2xlYXIgJ3RyYW5zaXRpb24nLCBhcyB3ZSBzdGlsbCB3YW50IHRvIGNhbmNlbCBhbnkgb3RoZXIgcGVuZGluZyB0cmFuc2l0aW9ucy5cbiAgICAgIC8vIFRPRE86IFdlIG1heSBub3Qgd2FudCB0byBidW1wICd0cmFuc2l0aW9uJyBpZiB3ZSdyZSBjYWxsZWQgZnJvbSBhIGxvY2F0aW9uIGNoYW5nZVxuICAgICAgLy8gdGhhdCB3ZSd2ZSBpbml0aWF0ZWQgb3Vyc2VsdmVzLCBiZWNhdXNlIHdlIG1pZ2h0IGFjY2lkZW50YWxseSBhYm9ydCBhIGxlZ2l0aW1hdGVcbiAgICAgIC8vIHRyYW5zaXRpb24gaW5pdGlhdGVkIGZyb20gY29kZT9cbiAgICAgIGlmIChzaG91bGRUcmlnZ2VyUmVsb2FkKHRvLCBmcm9tLCBsb2NhbHMsIG9wdGlvbnMpKSB7XG4gICAgICAgIGlmICh0by5zZWxmLnJlbG9hZE9uU2VhcmNoICE9PSBmYWxzZSkgJHVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgJHN0YXRlLnRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICByZXR1cm4gJHEud2hlbigkc3RhdGUuY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRlciBwYXJhbWV0ZXJzIGJlZm9yZSB3ZSBwYXNzIHRoZW0gdG8gZXZlbnQgaGFuZGxlcnMgZXRjLlxuICAgICAgdG9QYXJhbXMgPSBmaWx0ZXJCeUtleXModG8ucGFyYW1zLiQka2V5cygpLCB0b1BhcmFtcyB8fCB7fSk7XG5cbiAgICAgIC8vIEJyb2FkY2FzdCBzdGFydCBldmVudCBhbmQgY2FuY2VsIHRoZSB0cmFuc2l0aW9uIGlmIHJlcXVlc3RlZFxuICAgICAgaWYgKG9wdGlvbnMubm90aWZ5KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSMkc3RhdGVDaGFuZ2VTdGFydFxuICAgICAgICAgKiBAZXZlbnRPZiB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG4gICAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHN0YXRlIHRyYW5zaXRpb24gKipiZWdpbnMqKi4gWW91IGNhbiB1c2UgYGV2ZW50LnByZXZlbnREZWZhdWx0KClgXG4gICAgICAgICAqIHRvIHByZXZlbnQgdGhlIHRyYW5zaXRpb24gZnJvbSBoYXBwZW5pbmcgYW5kIHRoZW4gdGhlIHRyYW5zaXRpb24gcHJvbWlzZSB3aWxsIGJlXG4gICAgICAgICAqIHJlamVjdGVkIHdpdGggYSBgJ3RyYW5zaXRpb24gcHJldmVudGVkJ2AgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7U3RhdGV9IHRvU3RhdGUgVGhlIHN0YXRlIGJlaW5nIHRyYW5zaXRpb25lZCB0by5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRvUGFyYW1zIFRoZSBwYXJhbXMgc3VwcGxpZWQgdG8gdGhlIGB0b1N0YXRlYC5cbiAgICAgICAgICogQHBhcmFtIHtTdGF0ZX0gZnJvbVN0YXRlIFRoZSBjdXJyZW50IHN0YXRlLCBwcmUtdHJhbnNpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZyb21QYXJhbXMgVGhlIHBhcmFtcyBzdXBwbGllZCB0byB0aGUgYGZyb21TdGF0ZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsXG4gICAgICAgICAqIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcbiAgICAgICAgICogICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAqICAgICAvLyB0cmFuc2l0aW9uVG8oKSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aFxuICAgICAgICAgKiAgICAgLy8gYSAndHJhbnNpdGlvbiBwcmV2ZW50ZWQnIGVycm9yXG4gICAgICAgICAqIH0pXG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHN0YXRlQ2hhbmdlU3RhcnQnLCB0by5zZWxmLCB0b1BhcmFtcywgZnJvbS5zZWxmLCBmcm9tUGFyYW1zKS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgJHVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgICByZXR1cm4gVHJhbnNpdGlvblByZXZlbnRlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXNvbHZlIGxvY2FscyBmb3IgdGhlIHJlbWFpbmluZyBzdGF0ZXMsIGJ1dCBkb24ndCB1cGRhdGUgYW55IGdsb2JhbCBzdGF0ZSBqdXN0XG4gICAgICAvLyB5ZXQgLS0gaWYgYW55dGhpbmcgZmFpbHMgdG8gcmVzb2x2ZSB0aGUgY3VycmVudCBzdGF0ZSBuZWVkcyB0byByZW1haW4gdW50b3VjaGVkLlxuICAgICAgLy8gV2UgYWxzbyBzZXQgdXAgYW4gaW5oZXJpdGFuY2UgY2hhaW4gZm9yIHRoZSBsb2NhbHMgaGVyZS4gVGhpcyBhbGxvd3MgdGhlIHZpZXcgZGlyZWN0aXZlXG4gICAgICAvLyB0byBxdWlja2x5IGxvb2sgdXAgdGhlIGNvcnJlY3QgZGVmaW5pdGlvbiBmb3IgZWFjaCB2aWV3IGluIHRoZSBjdXJyZW50IHN0YXRlLiBFdmVuXG4gICAgICAvLyB0aG91Z2ggd2UgY3JlYXRlIHRoZSBsb2NhbHMgb2JqZWN0IGl0c2VsZiBvdXRzaWRlIHJlc29sdmVTdGF0ZSgpLCBpdCBpcyBpbml0aWFsbHlcbiAgICAgIC8vIGVtcHR5IGFuZCBnZXRzIGZpbGxlZCBhc3luY2hyb25vdXNseS4gV2UgbmVlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBwcm9taXNlIGZvciB0aGVcbiAgICAgIC8vIChmdWxseSByZXNvbHZlZCkgY3VycmVudCBsb2NhbHMsIGFuZCBwYXNzIHRoaXMgZG93biB0aGUgY2hhaW4uXG4gICAgICB2YXIgcmVzb2x2ZWQgPSAkcS53aGVuKGxvY2Fscyk7XG5cbiAgICAgIGZvciAodmFyIGwgPSBrZWVwOyBsIDwgdG9QYXRoLmxlbmd0aDsgbCsrLCBzdGF0ZSA9IHRvUGF0aFtsXSkge1xuICAgICAgICBsb2NhbHMgPSB0b0xvY2Fsc1tsXSA9IGluaGVyaXQobG9jYWxzKTtcbiAgICAgICAgcmVzb2x2ZWQgPSByZXNvbHZlU3RhdGUoc3RhdGUsIHRvUGFyYW1zLCBzdGF0ZSA9PT0gdG8sIHJlc29sdmVkLCBsb2NhbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmNlIGV2ZXJ5dGhpbmcgaXMgcmVzb2x2ZWQsIHdlIGFyZSByZWFkeSB0byBwZXJmb3JtIHRoZSBhY3R1YWwgdHJhbnNpdGlvblxuICAgICAgLy8gYW5kIHJldHVybiBhIHByb21pc2UgZm9yIHRoZSBuZXcgc3RhdGUuIFdlIGFsc28ga2VlcCB0cmFjayBvZiB3aGF0IHRoZVxuICAgICAgLy8gY3VycmVudCBwcm9taXNlIGlzLCBzbyB0aGF0IHdlIGNhbiBkZXRlY3Qgb3ZlcmxhcHBpbmcgdHJhbnNpdGlvbnMgYW5kXG4gICAgICAvLyBrZWVwIG9ubHkgdGhlIG91dGNvbWUgb2YgdGhlIGxhc3QgdHJhbnNpdGlvbi5cbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJHN0YXRlLnRyYW5zaXRpb24gPSByZXNvbHZlZC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGwsIGVudGVyaW5nLCBleGl0aW5nO1xuXG4gICAgICAgIGlmICgkc3RhdGUudHJhbnNpdGlvbiAhPT0gdHJhbnNpdGlvbikgcmV0dXJuIFRyYW5zaXRpb25TdXBlcnNlZGVkO1xuXG4gICAgICAgIC8vIEV4aXQgJ2Zyb20nIHN0YXRlcyBub3Qga2VwdFxuICAgICAgICBmb3IgKGwgPSBmcm9tUGF0aC5sZW5ndGggLSAxOyBsID49IGtlZXA7IGwtLSkge1xuICAgICAgICAgIGV4aXRpbmcgPSBmcm9tUGF0aFtsXTtcbiAgICAgICAgICBpZiAoZXhpdGluZy5zZWxmLm9uRXhpdCkge1xuICAgICAgICAgICAgJGluamVjdG9yLmludm9rZShleGl0aW5nLnNlbGYub25FeGl0LCBleGl0aW5nLnNlbGYsIGV4aXRpbmcubG9jYWxzLmdsb2JhbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleGl0aW5nLmxvY2FscyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnRlciAndG8nIHN0YXRlcyBub3Qga2VwdFxuICAgICAgICBmb3IgKGwgPSBrZWVwOyBsIDwgdG9QYXRoLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgZW50ZXJpbmcgPSB0b1BhdGhbbF07XG4gICAgICAgICAgZW50ZXJpbmcubG9jYWxzID0gdG9Mb2NhbHNbbF07XG4gICAgICAgICAgaWYgKGVudGVyaW5nLnNlbGYub25FbnRlcikge1xuICAgICAgICAgICAgJGluamVjdG9yLmludm9rZShlbnRlcmluZy5zZWxmLm9uRW50ZXIsIGVudGVyaW5nLnNlbGYsIGVudGVyaW5nLmxvY2Fscy5nbG9iYWxzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gaXQgYWdhaW4sIHRvIGNhdGNoIGFueSB0cmFuc2l0aW9ucyBpbiBjYWxsYmFja3NcbiAgICAgICAgaWYgKCRzdGF0ZS50cmFuc2l0aW9uICE9PSB0cmFuc2l0aW9uKSByZXR1cm4gVHJhbnNpdGlvblN1cGVyc2VkZWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIGdsb2JhbHMgaW4gJHN0YXRlXG4gICAgICAgICRzdGF0ZS4kY3VycmVudCA9IHRvO1xuICAgICAgICAkc3RhdGUuY3VycmVudCA9IHRvLnNlbGY7XG4gICAgICAgICRzdGF0ZS5wYXJhbXMgPSB0b1BhcmFtcztcbiAgICAgICAgY29weSgkc3RhdGUucGFyYW1zLCAkc3RhdGVQYXJhbXMpO1xuICAgICAgICAkc3RhdGUudHJhbnNpdGlvbiA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb24gJiYgdG8ubmF2aWdhYmxlKSB7XG4gICAgICAgICAgJHVybFJvdXRlci5wdXNoKHRvLm5hdmlnYWJsZS51cmwsIHRvLm5hdmlnYWJsZS5sb2NhbHMuZ2xvYmFscy4kc3RhdGVQYXJhbXMsIHtcbiAgICAgICAgICAgICQkYXZvaWRSZXN5bmM6IHRydWUsIHJlcGxhY2U6IG9wdGlvbnMubG9jYXRpb24gPT09ICdyZXBsYWNlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubm90aWZ5KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSMkc3RhdGVDaGFuZ2VTdWNjZXNzXG4gICAgICAgICAqIEBldmVudE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRmlyZWQgb25jZSB0aGUgc3RhdGUgdHJhbnNpdGlvbiBpcyAqKmNvbXBsZXRlKiouXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7U3RhdGV9IHRvU3RhdGUgVGhlIHN0YXRlIGJlaW5nIHRyYW5zaXRpb25lZCB0by5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRvUGFyYW1zIFRoZSBwYXJhbXMgc3VwcGxpZWQgdG8gdGhlIGB0b1N0YXRlYC5cbiAgICAgICAgICogQHBhcmFtIHtTdGF0ZX0gZnJvbVN0YXRlIFRoZSBjdXJyZW50IHN0YXRlLCBwcmUtdHJhbnNpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZyb21QYXJhbXMgVGhlIHBhcmFtcyBzdXBwbGllZCB0byB0aGUgYGZyb21TdGF0ZWAuXG4gICAgICAgICAqL1xuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHN0YXRlQ2hhbmdlU3VjY2VzcycsIHRvLnNlbGYsIHRvUGFyYW1zLCBmcm9tLnNlbGYsIGZyb21QYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgICR1cmxSb3V0ZXIudXBkYXRlKHRydWUpO1xuXG4gICAgICAgIHJldHVybiAkc3RhdGUuY3VycmVudDtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoJHN0YXRlLnRyYW5zaXRpb24gIT09IHRyYW5zaXRpb24pIHJldHVybiBUcmFuc2l0aW9uU3VwZXJzZWRlZDtcblxuICAgICAgICAkc3RhdGUudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSMkc3RhdGVDaGFuZ2VFcnJvclxuICAgICAgICAgKiBAZXZlbnRPZiB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG4gICAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYW4gKiplcnJvciBvY2N1cnMqKiBkdXJpbmcgdHJhbnNpdGlvbi4gSXQncyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGlmIHlvdVxuICAgICAgICAgKiBoYXZlIGFueSBlcnJvcnMgaW4geW91ciByZXNvbHZlIGZ1bmN0aW9ucyAoamF2YXNjcmlwdCBlcnJvcnMsIG5vbi1leGlzdGVudCBzZXJ2aWNlcywgZXRjKVxuICAgICAgICAgKiB0aGV5IHdpbGwgbm90IHRocm93IHRyYWRpdGlvbmFsbHkuIFlvdSBtdXN0IGxpc3RlbiBmb3IgdGhpcyAkc3RhdGVDaGFuZ2VFcnJvciBldmVudCB0b1xuICAgICAgICAgKiBjYXRjaCAqKkFMTCoqIGVycm9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtTdGF0ZX0gdG9TdGF0ZSBUaGUgc3RhdGUgYmVpbmcgdHJhbnNpdGlvbmVkIHRvLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdG9QYXJhbXMgVGhlIHBhcmFtcyBzdXBwbGllZCB0byB0aGUgYHRvU3RhdGVgLlxuICAgICAgICAgKiBAcGFyYW0ge1N0YXRlfSBmcm9tU3RhdGUgVGhlIGN1cnJlbnQgc3RhdGUsIHByZS10cmFuc2l0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJvbVBhcmFtcyBUaGUgcGFyYW1zIHN1cHBsaWVkIHRvIHRoZSBgZnJvbVN0YXRlYC5cbiAgICAgICAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIHJlc29sdmUgZXJyb3Igb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZXZ0ID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckc3RhdGVDaGFuZ2VFcnJvcicsIHRvLnNlbGYsIHRvUGFyYW1zLCBmcm9tLnNlbGYsIGZyb21QYXJhbXMsIGVycm9yKTtcblxuICAgICAgICBpZiAoIWV2dC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAkdXJsUm91dGVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRyYW5zaXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjaXNcbiAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2ltaWxhciB0byB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNtZXRob2RzX2luY2x1ZGVzICRzdGF0ZS5pbmNsdWRlc30sXG4gICAgICogYnV0IG9ubHkgY2hlY2tzIGZvciB0aGUgZnVsbCBzdGF0ZSBuYW1lLiBJZiBwYXJhbXMgaXMgc3VwcGxpZWQgdGhlbiBpdCB3aWxsIGJlXG4gICAgICogdGVzdGVkIGZvciBzdHJpY3QgZXF1YWxpdHkgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgcGFyYW1zIG9iamVjdCwgc28gYWxsIHBhcmFtc1xuICAgICAqIG11c3QgbWF0Y2ggd2l0aCBub25lIG1pc3NpbmcgYW5kIG5vIGV4dHJhcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAkc3RhdGUuJGN1cnJlbnQubmFtZSA9ICdjb250YWN0cy5kZXRhaWxzLml0ZW0nO1xuICAgICAqXG4gICAgICogLy8gYWJzb2x1dGUgbmFtZVxuICAgICAqICRzdGF0ZS5pcygnY29udGFjdC5kZXRhaWxzLml0ZW0nKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmlzKGNvbnRhY3REZXRhaWxJdGVtU3RhdGVPYmplY3QpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKlxuICAgICAqIC8vIHJlbGF0aXZlIG5hbWUgKC4gYW5kIF4pLCB0eXBpY2FsbHkgZnJvbSBhIHRlbXBsYXRlXG4gICAgICogLy8gRS5nLiBmcm9tIHRoZSAnY29udGFjdHMuZGV0YWlscycgdGVtcGxhdGVcbiAgICAgKiA8ZGl2IG5nLWNsYXNzPVwie2hpZ2hsaWdodGVkOiAkc3RhdGUuaXMoJy5pdGVtJyl9XCI+SXRlbTwvZGl2PlxuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzdGF0ZU9yTmFtZSBUaGUgc3RhdGUgbmFtZSAoYWJzb2x1dGUgb3IgcmVsYXRpdmUpIG9yIHN0YXRlIG9iamVjdCB5b3UnZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIGB7c2VjdGlvbklkOiBzZWN0aW9uLmlkfWAsIHRoYXQgeW91J2QgbGlrZVxuICAgICAqIHRvIHRlc3QgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LiAgVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtzdHJpbmd8b2JqZWN0fSAtICBJZiBgc3RhdGVPck5hbWVgIGlzIGEgcmVsYXRpdmUgc3RhdGUgbmFtZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCwgLmlzIHdpbGxcbiAgICAgKiB0ZXN0IHJlbGF0aXZlIHRvIGBvcHRpb25zLnJlbGF0aXZlYCBzdGF0ZSAob3IgbmFtZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGl0IGlzIHRoZSBzdGF0ZS5cbiAgICAgKi9cbiAgICAkc3RhdGUuaXMgPSBmdW5jdGlvbiBpcyhzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gZXh0ZW5kKHsgcmVsYXRpdmU6ICRzdGF0ZS4kY3VycmVudCB9LCBvcHRpb25zIHx8IHt9KTtcbiAgICAgIHZhciBzdGF0ZSA9IGZpbmRTdGF0ZShzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSk7XG5cbiAgICAgIGlmICghaXNEZWZpbmVkKHN0YXRlKSkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG4gICAgICBpZiAoJHN0YXRlLiRjdXJyZW50ICE9PSBzdGF0ZSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgIHJldHVybiBwYXJhbXMgPyBlcXVhbEZvcktleXMoc3RhdGUucGFyYW1zLiQkdmFsdWVzKHBhcmFtcyksICRzdGF0ZVBhcmFtcykgOiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI2luY2x1ZGVzXG4gICAgICogQG1ldGhvZE9mIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEEgbWV0aG9kIHRvIGRldGVybWluZSBpZiB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUgaXMgZXF1YWwgdG8gb3IgaXMgdGhlIGNoaWxkIG9mIHRoZVxuICAgICAqIHN0YXRlIHN0YXRlTmFtZS4gSWYgYW55IHBhcmFtcyBhcmUgcGFzc2VkIHRoZW4gdGhleSB3aWxsIGJlIHRlc3RlZCBmb3IgYSBtYXRjaCBhcyB3ZWxsLlxuICAgICAqIE5vdCBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZCB0byBiZSBwYXNzZWQsIGp1c3QgdGhlIG9uZXMgeW91J2QgbGlrZSB0byB0ZXN0IGZvciBlcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogUGFydGlhbCBhbmQgcmVsYXRpdmUgbmFtZXNcbiAgICAgKiA8cHJlPlxuICAgICAqICRzdGF0ZS4kY3VycmVudC5uYW1lID0gJ2NvbnRhY3RzLmRldGFpbHMuaXRlbSc7XG4gICAgICpcbiAgICAgKiAvLyBVc2luZyBwYXJ0aWFsIG5hbWVzXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiY29udGFjdHNcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmRldGFpbHNcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmRldGFpbHMuaXRlbVwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiY29udGFjdHMubGlzdFwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImFib3V0XCIpOyAvLyByZXR1cm5zIGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBVc2luZyByZWxhdGl2ZSBuYW1lcyAoLiBhbmQgXiksIHR5cGljYWxseSBmcm9tIGEgdGVtcGxhdGVcbiAgICAgKiAvLyBFLmcuIGZyb20gdGhlICdjb250YWN0cy5kZXRhaWxzJyB0ZW1wbGF0ZVxuICAgICAqIDxkaXYgbmctY2xhc3M9XCJ7aGlnaGxpZ2h0ZWQ6ICRzdGF0ZS5pbmNsdWRlcygnLml0ZW0nKX1cIj5JdGVtPC9kaXY+XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiBCYXNpYyBnbG9iYmluZyBwYXR0ZXJuc1xuICAgICAqIDxwcmU+XG4gICAgICogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPSAnY29udGFjdHMuZGV0YWlscy5pdGVtLnVybCc7XG4gICAgICpcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKi4qXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIioqLml0ZW0uKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy5pdGVtLnVybFwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLioudXJsXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKlwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIml0ZW0uKipcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZU9yTmFtZSBBIHBhcnRpYWwgbmFtZSwgcmVsYXRpdmUgbmFtZSwgb3IgZ2xvYiBwYXR0ZXJuXG4gICAgICogdG8gYmUgc2VhcmNoZWQgZm9yIHdpdGhpbiB0aGUgY3VycmVudCBzdGF0ZSBuYW1lLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIGB7c2VjdGlvbklkOiBzZWN0aW9uLmlkfWAsXG4gICAgICogdGhhdCB5b3UnZCBsaWtlIHRvIHRlc3QgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LiAgVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogLSAqKmByZWxhdGl2ZWAqKiAtIHtzdHJpbmd8b2JqZWN0PX0gLSAgSWYgYHN0YXRlT3JOYW1lYCBpcyBhIHJlbGF0aXZlIHN0YXRlIHJlZmVyZW5jZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCxcbiAgICAgKiAuaW5jbHVkZXMgd2lsbCB0ZXN0IHJlbGF0aXZlIHRvIGBvcHRpb25zLnJlbGF0aXZlYCBzdGF0ZSAob3IgbmFtZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGl0IGRvZXMgaW5jbHVkZSB0aGUgc3RhdGVcbiAgICAgKi9cbiAgICAkc3RhdGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyhzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gZXh0ZW5kKHsgcmVsYXRpdmU6ICRzdGF0ZS4kY3VycmVudCB9LCBvcHRpb25zIHx8IHt9KTtcbiAgICAgIGlmIChpc1N0cmluZyhzdGF0ZU9yTmFtZSkgJiYgaXNHbG9iKHN0YXRlT3JOYW1lKSkge1xuICAgICAgICBpZiAoIWRvZXNTdGF0ZU1hdGNoR2xvYihzdGF0ZU9yTmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGVPck5hbWUgPSAkc3RhdGUuJGN1cnJlbnQubmFtZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXRlID0gZmluZFN0YXRlKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgIGlmICghaXNEZWZpbmVkKHN0YXRlKSkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG4gICAgICBpZiAoIWlzRGVmaW5lZCgkc3RhdGUuJGN1cnJlbnQuaW5jbHVkZXNbc3RhdGUubmFtZV0pKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgcmV0dXJuIHBhcmFtcyA/IGVxdWFsRm9yS2V5cyhzdGF0ZS5wYXJhbXMuJCR2YWx1ZXMocGFyYW1zKSwgJHN0YXRlUGFyYW1zLCBvYmplY3RLZXlzKHBhcmFtcykpIDogdHJ1ZTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI2hyZWZcbiAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSB1cmwgZ2VuZXJhdGlvbiBtZXRob2QgdGhhdCByZXR1cm5zIHRoZSBjb21waWxlZCB1cmwgZm9yIHRoZSBnaXZlbiBzdGF0ZSBwb3B1bGF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIGV4cGVjdCgkc3RhdGUuaHJlZihcImFib3V0LnBlcnNvblwiLCB7IHBlcnNvbjogXCJib2JcIiB9KSkudG9FcXVhbChcIi9hYm91dC9ib2JcIik7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0YXRlT3JOYW1lIFRoZSBzdGF0ZSBuYW1lIG9yIHN0YXRlIG9iamVjdCB5b3UnZCBsaWtlIHRvIGdlbmVyYXRlIGEgdXJsIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgc3RhdGUncyByZXF1aXJlZCBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogLSAqKmBsb3NzeWAqKiAtIHtib29sZWFuPXRydWV9IC0gIElmIHRydWUsIGFuZCBpZiB0aGVyZSBpcyBubyB1cmwgYXNzb2NpYXRlZCB3aXRoIHRoZSBzdGF0ZSBwcm92aWRlZCBpbiB0aGVcbiAgICAgKiAgICBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gdGhlIGNvbnN0cnVjdGVkIGhyZWYgdXJsIHdpbGwgYmUgYnVpbHQgZnJvbSB0aGUgZmlyc3QgbmF2aWdhYmxlIGFuY2VzdG9yIChha2FcbiAgICAgKiAgICBhbmNlc3RvciB3aXRoIGEgdmFsaWQgdXJsKS5cbiAgICAgKiAtICoqYGluaGVyaXRgKiogLSB7Ym9vbGVhbj10cnVlfSwgSWYgYHRydWVgIHdpbGwgaW5oZXJpdCB1cmwgcGFyYW1ldGVycyBmcm9tIGN1cnJlbnQgdXJsLlxuICAgICAqIC0gKipgcmVsYXRpdmVgKiogLSB7b2JqZWN0PSRzdGF0ZS4kY3VycmVudH0sIFdoZW4gdHJhbnNpdGlvbmluZyB3aXRoIHJlbGF0aXZlIHBhdGggKGUuZyAnXicpLCBcbiAgICAgKiAgICBkZWZpbmVzIHdoaWNoIHN0YXRlIHRvIGJlIHJlbGF0aXZlIGZyb20uXG4gICAgICogLSAqKmBhYnNvbHV0ZWAqKiAtIHtib29sZWFuPWZhbHNlfSwgIElmIHRydWUgd2lsbCBnZW5lcmF0ZSBhbiBhYnNvbHV0ZSB1cmwsIGUuZy4gXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2Z1bGx1cmxcIi5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb21waWxlZCBzdGF0ZSB1cmxcbiAgICAgKi9cbiAgICAkc3RhdGUuaHJlZiA9IGZ1bmN0aW9uIGhyZWYoc3RhdGVPck5hbWUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgIGxvc3N5OiAgICB0cnVlLFxuICAgICAgICBpbmhlcml0OiAgdHJ1ZSxcbiAgICAgICAgYWJzb2x1dGU6IGZhbHNlLFxuICAgICAgICByZWxhdGl2ZTogJHN0YXRlLiRjdXJyZW50XG4gICAgICB9LCBvcHRpb25zIHx8IHt9KTtcblxuICAgICAgdmFyIHN0YXRlID0gZmluZFN0YXRlKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKTtcblxuICAgICAgaWYgKCFpc0RlZmluZWQoc3RhdGUpKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChvcHRpb25zLmluaGVyaXQpIHBhcmFtcyA9IGluaGVyaXRQYXJhbXMoJHN0YXRlUGFyYW1zLCBwYXJhbXMgfHwge30sICRzdGF0ZS4kY3VycmVudCwgc3RhdGUpO1xuICAgICAgXG4gICAgICB2YXIgbmF2ID0gKHN0YXRlICYmIG9wdGlvbnMubG9zc3kpID8gc3RhdGUubmF2aWdhYmxlIDogc3RhdGU7XG5cbiAgICAgIGlmICghbmF2IHx8IG5hdi51cmwgPT09IHVuZGVmaW5lZCB8fCBuYXYudXJsID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuICR1cmxSb3V0ZXIuaHJlZihuYXYudXJsLCBmaWx0ZXJCeUtleXMoc3RhdGUucGFyYW1zLiQka2V5cygpLCBwYXJhbXMgfHwge30pLCB7XG4gICAgICAgIGFic29sdXRlOiBvcHRpb25zLmFic29sdXRlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNnZXRcbiAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGFueSBzcGVjaWZpYyBzdGF0ZSBvciBhbGwgc3RhdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0PX0gc3RhdGVPck5hbWUgKGFic29sdXRlIG9yIHJlbGF0aXZlKSBJZiBwcm92aWRlZCwgd2lsbCBvbmx5IGdldCB0aGUgY29uZmlnIGZvclxuICAgICAqIHRoZSByZXF1ZXN0ZWQgc3RhdGUuIElmIG5vdCBwcm92aWRlZCwgcmV0dXJucyBhbiBhcnJheSBvZiBBTEwgc3RhdGUgY29uZmlncy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3Q9fSBjb250ZXh0IFdoZW4gc3RhdGVPck5hbWUgaXMgYSByZWxhdGl2ZSBzdGF0ZSByZWZlcmVuY2UsIHRoZSBzdGF0ZSB3aWxsIGJlIHJldHJpZXZlZCByZWxhdGl2ZSB0byBjb250ZXh0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IFN0YXRlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG9yIGFycmF5IG9mIGFsbCBvYmplY3RzLlxuICAgICAqL1xuICAgICRzdGF0ZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGNvbnRleHQpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gbWFwKG9iamVjdEtleXMoc3RhdGVzKSwgZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gc3RhdGVzW25hbWVdLnNlbGY7IH0pO1xuICAgICAgdmFyIHN0YXRlID0gZmluZFN0YXRlKHN0YXRlT3JOYW1lLCBjb250ZXh0IHx8ICRzdGF0ZS4kY3VycmVudCk7XG4gICAgICByZXR1cm4gKHN0YXRlICYmIHN0YXRlLnNlbGYpID8gc3RhdGUuc2VsZiA6IG51bGw7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVTdGF0ZShzdGF0ZSwgcGFyYW1zLCBwYXJhbXNBcmVGaWx0ZXJlZCwgaW5oZXJpdGVkLCBkc3QsIG9wdGlvbnMpIHtcbiAgICAgIC8vIE1ha2UgYSByZXN0cmljdGVkICRzdGF0ZVBhcmFtcyB3aXRoIG9ubHkgdGhlIHBhcmFtZXRlcnMgdGhhdCBhcHBseSB0byB0aGlzIHN0YXRlIGlmXG4gICAgICAvLyBuZWNlc3NhcnkuIEluIGFkZGl0aW9uIHRvIGJlaW5nIGF2YWlsYWJsZSB0byB0aGUgY29udHJvbGxlciBhbmQgb25FbnRlci9vbkV4aXQgY2FsbGJhY2tzLFxuICAgICAgLy8gd2UgYWxzbyBuZWVkICRzdGF0ZVBhcmFtcyB0byBiZSBhdmFpbGFibGUgZm9yIGFueSAkaW5qZWN0b3IgY2FsbHMgd2UgbWFrZSBkdXJpbmcgdGhlXG4gICAgICAvLyBkZXBlbmRlbmN5IHJlc29sdXRpb24gcHJvY2Vzcy5cbiAgICAgIHZhciAkc3RhdGVQYXJhbXMgPSAocGFyYW1zQXJlRmlsdGVyZWQpID8gcGFyYW1zIDogZmlsdGVyQnlLZXlzKHN0YXRlLnBhcmFtcy4kJGtleXMoKSwgcGFyYW1zKTtcbiAgICAgIHZhciBsb2NhbHMgPSB7ICRzdGF0ZVBhcmFtczogJHN0YXRlUGFyYW1zIH07XG5cbiAgICAgIC8vIFJlc29sdmUgJ2dsb2JhbCcgZGVwZW5kZW5jaWVzIGZvciB0aGUgc3RhdGUsIGkuZS4gdGhvc2Ugbm90IHNwZWNpZmljIHRvIGEgdmlldy5cbiAgICAgIC8vIFdlJ3JlIGFsc28gaW5jbHVkaW5nICRzdGF0ZVBhcmFtcyBpbiB0aGlzOyB0aGF0IHdheSB0aGUgcGFyYW1ldGVycyBhcmUgcmVzdHJpY3RlZFxuICAgICAgLy8gdG8gdGhlIHNldCB0aGF0IHNob3VsZCBiZSB2aXNpYmxlIHRvIHRoZSBzdGF0ZSwgYW5kIGFyZSBpbmRlcGVuZGVudCBvZiB3aGVuIHdlIHVwZGF0ZVxuICAgICAgLy8gdGhlIGdsb2JhbCAkc3RhdGUgYW5kICRzdGF0ZVBhcmFtcyB2YWx1ZXMuXG4gICAgICBkc3QucmVzb2x2ZSA9ICRyZXNvbHZlLnJlc29sdmUoc3RhdGUucmVzb2x2ZSwgbG9jYWxzLCBkc3QucmVzb2x2ZSwgc3RhdGUpO1xuICAgICAgdmFyIHByb21pc2VzID0gW2RzdC5yZXNvbHZlLnRoZW4oZnVuY3Rpb24gKGdsb2JhbHMpIHtcbiAgICAgICAgZHN0Lmdsb2JhbHMgPSBnbG9iYWxzO1xuICAgICAgfSldO1xuICAgICAgaWYgKGluaGVyaXRlZCkgcHJvbWlzZXMucHVzaChpbmhlcml0ZWQpO1xuXG4gICAgICAvLyBSZXNvbHZlIHRlbXBsYXRlIGFuZCBkZXBlbmRlbmNpZXMgZm9yIGFsbCB2aWV3cy5cbiAgICAgIGZvckVhY2goc3RhdGUudmlld3MsIGZ1bmN0aW9uICh2aWV3LCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmplY3RhYmxlcyA9ICh2aWV3LnJlc29sdmUgJiYgdmlldy5yZXNvbHZlICE9PSBzdGF0ZS5yZXNvbHZlID8gdmlldy5yZXNvbHZlIDoge30pO1xuICAgICAgICBpbmplY3RhYmxlcy4kdGVtcGxhdGUgPSBbIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHZpZXcubG9hZChuYW1lLCB7IHZpZXc6IHZpZXcsIGxvY2FsczogbG9jYWxzLCBwYXJhbXM6ICRzdGF0ZVBhcmFtcywgbm90aWZ5OiBvcHRpb25zLm5vdGlmeSB9KSB8fCAnJztcbiAgICAgICAgfV07XG5cbiAgICAgICAgcHJvbWlzZXMucHVzaCgkcmVzb2x2ZS5yZXNvbHZlKGluamVjdGFibGVzLCBsb2NhbHMsIGRzdC5yZXNvbHZlLCBzdGF0ZSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgLy8gUmVmZXJlbmNlcyB0byB0aGUgY29udHJvbGxlciAob25seSBpbnN0YW50aWF0ZWQgYXQgbGluayB0aW1lKVxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZpZXcuY29udHJvbGxlclByb3ZpZGVyKSB8fCBpc0FycmF5KHZpZXcuY29udHJvbGxlclByb3ZpZGVyKSkge1xuICAgICAgICAgICAgdmFyIGluamVjdExvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBpbmplY3RhYmxlcywgbG9jYWxzKTtcbiAgICAgICAgICAgIHJlc3VsdC4kJGNvbnRyb2xsZXIgPSAkaW5qZWN0b3IuaW52b2tlKHZpZXcuY29udHJvbGxlclByb3ZpZGVyLCBudWxsLCBpbmplY3RMb2NhbHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuJCRjb250cm9sbGVyID0gdmlldy5jb250cm9sbGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcm92aWRlIGFjY2VzcyB0byB0aGUgc3RhdGUgaXRzZWxmIGZvciBpbnRlcm5hbCB1c2VcbiAgICAgICAgICByZXN1bHQuJCRzdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgIHJlc3VsdC4kJGNvbnRyb2xsZXJBcyA9IHZpZXcuY29udHJvbGxlckFzO1xuICAgICAgICAgIGRzdFtuYW1lXSA9IHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCB0aGUgcHJvbWlzZXMgYW5kIHRoZW4gcmV0dXJuIHRoZSBhY3RpdmF0aW9uIG9iamVjdFxuICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBkc3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkVHJpZ2dlclJlbG9hZCh0bywgZnJvbSwgbG9jYWxzLCBvcHRpb25zKSB7XG4gICAgaWYgKHRvID09PSBmcm9tICYmICgobG9jYWxzID09PSBmcm9tLmxvY2FscyAmJiAhb3B0aW9ucy5yZWxvYWQpIHx8ICh0by5zZWxmLnJlbG9hZE9uU2VhcmNoID09PSBmYWxzZSkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gIC52YWx1ZSgnJHN0YXRlUGFyYW1zJywge30pXG4gIC5wcm92aWRlcignJHN0YXRlJywgJFN0YXRlUHJvdmlkZXIpO1xuXG5cbiRWaWV3UHJvdmlkZXIuJGluamVjdCA9IFtdO1xuZnVuY3Rpb24gJFZpZXdQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSAkZ2V0O1xuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHZpZXdcbiAgICpcbiAgICogQHJlcXVpcmVzIHVpLnJvdXRlci51dGlsLiR0ZW1wbGF0ZUZhY3RvcnlcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqL1xuICAkZ2V0LiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRlbXBsYXRlRmFjdG9yeSddO1xuICBmdW5jdGlvbiAkZ2V0KCAgICRyb290U2NvcGUsICAgJHRlbXBsYXRlRmFjdG9yeSkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyAkdmlldy5sb2FkKCdmdWxsLnZpZXdOYW1lJywgeyB0ZW1wbGF0ZTogLi4uLCBjb250cm9sbGVyOiAuLi4sIHJlc29sdmU6IC4uLiwgYXN5bmM6IGZhbHNlLCBwYXJhbXM6IC4uLiB9KVxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kdmlldyNsb2FkXG4gICAgICAgKiBAbWV0aG9kT2YgdWkucm91dGVyLnN0YXRlLiR2aWV3XG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZVxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgb3B0aW9uIG9iamVjdC5cbiAgICAgICAqL1xuICAgICAgbG9hZDogZnVuY3Rpb24gbG9hZChuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByZXN1bHQsIGRlZmF1bHRzID0ge1xuICAgICAgICAgIHRlbXBsYXRlOiBudWxsLCBjb250cm9sbGVyOiBudWxsLCB2aWV3OiBudWxsLCBsb2NhbHM6IG51bGwsIG5vdGlmeTogdHJ1ZSwgYXN5bmM6IHRydWUsIHBhcmFtczoge31cbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlldykge1xuICAgICAgICAgIHJlc3VsdCA9ICR0ZW1wbGF0ZUZhY3RvcnkuZnJvbUNvbmZpZyhvcHRpb25zLnZpZXcsIG9wdGlvbnMucGFyYW1zLCBvcHRpb25zLmxvY2Fscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCAmJiBvcHRpb25zLm5vdGlmeSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGV2ZW50XG4gICAgICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjJHZpZXdDb250ZW50TG9hZGluZ1xuICAgICAgICAgKiBAZXZlbnRPZiB1aS5yb3V0ZXIuc3RhdGUuJHZpZXdcbiAgICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogRmlyZWQgb25jZSB0aGUgdmlldyAqKmJlZ2lucyBsb2FkaW5nKiosICpiZWZvcmUqIHRoZSBET00gaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3Q29uZmlnIFRoZSB2aWV3IGNvbmZpZyBwcm9wZXJ0aWVzICh0ZW1wbGF0ZSwgY29udHJvbGxlciwgZXRjKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogJHNjb3BlLiRvbignJHZpZXdDb250ZW50TG9hZGluZycsXG4gICAgICAgICAqIGZ1bmN0aW9uKGV2ZW50LCB2aWV3Q29uZmlnKXtcbiAgICAgICAgICogICAgIC8vIEFjY2VzcyB0byBhbGwgdGhlIHZpZXcgY29uZmlnIHByb3BlcnRpZXMuXG4gICAgICAgICAqICAgICAvLyBhbmQgb25lIHNwZWNpYWwgcHJvcGVydHkgJ3RhcmdldFZpZXcnXG4gICAgICAgICAqICAgICAvLyB2aWV3Q29uZmlnLnRhcmdldFZpZXdcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyR2aWV3Q29udGVudExvYWRpbmcnLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLnByb3ZpZGVyKCckdmlldycsICRWaWV3UHJvdmlkZXIpO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFByb3ZpZGVyIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsfSBzZXJ2aWNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiAkVmlld1Njcm9sbFByb3ZpZGVyKCkge1xuXG4gIHZhciB1c2VBbmNob3JTY3JvbGwgPSBmYWxzZTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsUHJvdmlkZXIjdXNlQW5jaG9yU2Nyb2xsXG4gICAqIEBtZXRob2RPZiB1aS5yb3V0ZXIuc3RhdGUuJHVpVmlld1Njcm9sbFByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXZlcnRzIGJhY2sgdG8gdXNpbmcgdGhlIGNvcmUgW2AkYW5jaG9yU2Nyb2xsYF0oaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcuJGFuY2hvclNjcm9sbCkgc2VydmljZSBmb3JcbiAgICogc2Nyb2xsaW5nIGJhc2VkIG9uIHRoZSB1cmwgYW5jaG9yLlxuICAgKi9cbiAgdGhpcy51c2VBbmNob3JTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdXNlQW5jaG9yU2Nyb2xsID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuJHVpVmlld1Njcm9sbFxuICAgKlxuICAgKiBAcmVxdWlyZXMgJGFuY2hvclNjcm9sbFxuICAgKiBAcmVxdWlyZXMgJHRpbWVvdXRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBqcUxpdGUgZWxlbWVudCwgaXQgc2Nyb2xscyB0aGUgZWxlbWVudCBpbnRvIHZpZXcgKGFmdGVyIGFcbiAgICogYCR0aW1lb3V0YCBzbyB0aGUgRE9NIGhhcyB0aW1lIHRvIHJlZnJlc2gpLlxuICAgKlxuICAgKiBJZiB5b3UgcHJlZmVyIHRvIHJlbHkgb24gYCRhbmNob3JTY3JvbGxgIHRvIHNjcm9sbCB0aGUgdmlldyB0byB0aGUgYW5jaG9yLFxuICAgKiB0aGlzIGNhbiBiZSBlbmFibGVkIGJ5IGNhbGxpbmcge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kdWlWaWV3U2Nyb2xsUHJvdmlkZXIjbWV0aG9kc191c2VBbmNob3JTY3JvbGwgYCR1aVZpZXdTY3JvbGxQcm92aWRlci51c2VBbmNob3JTY3JvbGwoKWB9LlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckYW5jaG9yU2Nyb2xsJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICR0aW1lb3V0KSB7XG4gICAgaWYgKHVzZUFuY2hvclNjcm9sbCkge1xuICAgICAgcmV0dXJuICRhbmNob3JTY3JvbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkZWxlbWVudFswXS5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfSwgMCwgZmFsc2UpO1xuICAgIH07XG4gIH1dO1xufVxuXG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykucHJvdmlkZXIoJyR1aVZpZXdTY3JvbGwnLCAkVmlld1Njcm9sbFByb3ZpZGVyKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuZGlyZWN0aXZlOnVpLXZpZXdcbiAqXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVxuICogQHJlcXVpcmVzICRjb21waWxlXG4gKiBAcmVxdWlyZXMgJGNvbnRyb2xsZXJcbiAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIuc3RhdGUuJHVpVmlld1Njcm9sbFxuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEByZXN0cmljdCBFQ0FcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB1aS12aWV3IGRpcmVjdGl2ZSB0ZWxscyAkc3RhdGUgd2hlcmUgdG8gcGxhY2UgeW91ciB0ZW1wbGF0ZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIEEgdmlldyBuYW1lLiBUaGUgbmFtZSBzaG91bGQgYmUgdW5pcXVlIGFtb25nc3QgdGhlIG90aGVyIHZpZXdzIGluIHRoZVxuICogc2FtZSBzdGF0ZS4gWW91IGNhbiBoYXZlIHZpZXdzIG9mIHRoZSBzYW1lIG5hbWUgdGhhdCBsaXZlIGluIGRpZmZlcmVudCBzdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIEl0IGFsbG93cyB5b3UgdG8gc2V0IHRoZSBzY3JvbGwgYmVoYXZpb3Igb2YgdGhlIGJyb3dzZXIgd2luZG93XG4gKiB3aGVuIGEgdmlldyBpcyBwb3B1bGF0ZWQuIEJ5IGRlZmF1bHQsICRhbmNob3JTY3JvbGwgaXMgb3ZlcnJpZGRlbiBieSB1aS1yb3V0ZXIncyBjdXN0b20gc2Nyb2xsXG4gKiBzZXJ2aWNlLCB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiR1aVZpZXdTY3JvbGx9LiBUaGlzIGN1c3RvbSBzZXJ2aWNlIGxldCdzIHlvdVxuICogc2Nyb2xsIHVpLXZpZXcgZWxlbWVudHMgaW50byB2aWV3IHdoZW4gdGhleSBhcmUgcG9wdWxhdGVkIGR1cmluZyBhIHN0YXRlIGFjdGl2YXRpb24uXG4gKlxuICogKk5vdGU6IFRvIHJldmVydCBiYWNrIHRvIG9sZCBbYCRhbmNob3JTY3JvbGxgXShodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kYW5jaG9yU2Nyb2xsKVxuICogZnVuY3Rpb25hbGl0eSwgY2FsbCBgJHVpVmlld1Njcm9sbFByb3ZpZGVyLnVzZUFuY2hvclNjcm9sbCgpYC4qXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBvbmxvYWQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuZXZlciB0aGUgdmlldyB1cGRhdGVzLlxuICogXG4gKiBAZXhhbXBsZVxuICogQSB2aWV3IGNhbiBiZSB1bm5hbWVkIG9yIG5hbWVkLiBcbiAqIDxwcmU+XG4gKiA8IS0tIFVubmFtZWQgLS0+XG4gKiA8ZGl2IHVpLXZpZXc+PC9kaXY+IFxuICogXG4gKiA8IS0tIE5hbWVkIC0tPlxuICogPGRpdiB1aS12aWV3PVwidmlld05hbWVcIj48L2Rpdj5cbiAqIDwvcHJlPlxuICpcbiAqIFlvdSBjYW4gb25seSBoYXZlIG9uZSB1bm5hbWVkIHZpZXcgd2l0aGluIGFueSB0ZW1wbGF0ZSAob3Igcm9vdCBodG1sKS4gSWYgeW91IGFyZSBvbmx5IHVzaW5nIGEgXG4gKiBzaW5nbGUgdmlldyBhbmQgaXQgaXMgdW5uYW1lZCB0aGVuIHlvdSBjYW4gcG9wdWxhdGUgaXQgbGlrZSBzbzpcbiAqIDxwcmU+XG4gKiA8ZGl2IHVpLXZpZXc+PC9kaXY+IFxuICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAqICAgdGVtcGxhdGU6IFwiPGgxPkhFTExPITwvaDE+XCJcbiAqIH0pXG4gKiA8L3ByZT5cbiAqIFxuICogVGhlIGFib3ZlIGlzIGEgY29udmVuaWVudCBzaG9ydGN1dCBlcXVpdmFsZW50IHRvIHNwZWNpZnlpbmcgeW91ciB2aWV3IGV4cGxpY2l0bHkgd2l0aCB0aGUge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVQcm92aWRlciN2aWV3cyBgdmlld3NgfVxuICogY29uZmlnIHByb3BlcnR5LCBieSBuYW1lLCBpbiB0aGlzIGNhc2UgYW4gZW1wdHkgbmFtZTpcbiAqIDxwcmU+XG4gKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICogICB2aWV3czoge1xuICogICAgIFwiXCI6IHtcbiAqICAgICAgIHRlbXBsYXRlOiBcIjxoMT5IRUxMTyE8L2gxPlwiXG4gKiAgICAgfVxuICogICB9ICAgIFxuICogfSlcbiAqIDwvcHJlPlxuICogXG4gKiBCdXQgdHlwaWNhbGx5IHlvdSdsbCBvbmx5IHVzZSB0aGUgdmlld3MgcHJvcGVydHkgaWYgeW91IG5hbWUgeW91ciB2aWV3IG9yIGhhdmUgbW9yZSB0aGFuIG9uZSB2aWV3IFxuICogaW4gdGhlIHNhbWUgdGVtcGxhdGUuIFRoZXJlJ3Mgbm90IHJlYWxseSBhIGNvbXBlbGxpbmcgcmVhc29uIHRvIG5hbWUgYSB2aWV3IGlmIGl0cyB0aGUgb25seSBvbmUsIFxuICogYnV0IHlvdSBjb3VsZCBpZiB5b3Ugd2FudGVkLCBsaWtlIHNvOlxuICogPHByZT5cbiAqIDxkaXYgdWktdmlldz1cIm1haW5cIj48L2Rpdj5cbiAqIDwvcHJlPiBcbiAqIDxwcmU+XG4gKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICogICB2aWV3czoge1xuICogICAgIFwibWFpblwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICogICAgIH1cbiAqICAgfSAgICBcbiAqIH0pXG4gKiA8L3ByZT5cbiAqIFxuICogUmVhbGx5IHRob3VnaCwgeW91J2xsIHVzZSB2aWV3cyB0byBzZXQgdXAgbXVsdGlwbGUgdmlld3M6XG4gKiA8cHJlPlxuICogPGRpdiB1aS12aWV3PjwvZGl2PlxuICogPGRpdiB1aS12aWV3PVwiY2hhcnRcIj48L2Rpdj4gXG4gKiA8ZGl2IHVpLXZpZXc9XCJkYXRhXCI+PC9kaXY+IFxuICogPC9wcmU+XG4gKiBcbiAqIDxwcmU+XG4gKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICogICB2aWV3czoge1xuICogICAgIFwiXCI6IHtcbiAqICAgICAgIHRlbXBsYXRlOiBcIjxoMT5IRUxMTyE8L2gxPlwiXG4gKiAgICAgfSxcbiAqICAgICBcImNoYXJ0XCI6IHtcbiAqICAgICAgIHRlbXBsYXRlOiBcIjxjaGFydF90aGluZy8+XCJcbiAqICAgICB9LFxuICogICAgIFwiZGF0YVwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8ZGF0YV90aGluZy8+XCJcbiAqICAgICB9XG4gKiAgIH0gICAgXG4gKiB9KVxuICogPC9wcmU+XG4gKlxuICogRXhhbXBsZXMgZm9yIGBhdXRvc2Nyb2xsYDpcbiAqXG4gKiA8cHJlPlxuICogPCEtLSBJZiBhdXRvc2Nyb2xsIHByZXNlbnQgd2l0aCBubyBleHByZXNzaW9uLFxuICogICAgICB0aGVuIHNjcm9sbCB1aS12aWV3IGludG8gdmlldyAtLT5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGwvPlxuICpcbiAqIDwhLS0gSWYgYXV0b3Njcm9sbCBwcmVzZW50IHdpdGggdmFsaWQgZXhwcmVzc2lvbixcbiAqICAgICAgdGhlbiBzY3JvbGwgdWktdmlldyBpbnRvIHZpZXcgaWYgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZSAtLT5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J3RydWUnLz5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J2ZhbHNlJy8+XG4gKiA8dWktdmlldyBhdXRvc2Nyb2xsPSdzY29wZVZhcmlhYmxlJy8+XG4gKiA8L3ByZT5cbiAqL1xuJFZpZXdEaXJlY3RpdmUuJGluamVjdCA9IFsnJHN0YXRlJywgJyRpbmplY3RvcicsICckdWlWaWV3U2Nyb2xsJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gJFZpZXdEaXJlY3RpdmUoICAgJHN0YXRlLCAgICRpbmplY3RvciwgICAkdWlWaWV3U2Nyb2xsLCAgICRpbnRlcnBvbGF0ZSkge1xuXG4gIGZ1bmN0aW9uIGdldFNlcnZpY2UoKSB7XG4gICAgcmV0dXJuICgkaW5qZWN0b3IuaGFzKSA/IGZ1bmN0aW9uKHNlcnZpY2UpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuaGFzKHNlcnZpY2UpID8gJGluamVjdG9yLmdldChzZXJ2aWNlKSA6IG51bGw7XG4gICAgfSA6IGZ1bmN0aW9uKHNlcnZpY2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KHNlcnZpY2UpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNlcnZpY2UgPSBnZXRTZXJ2aWNlKCksXG4gICAgICAkYW5pbWF0b3IgPSBzZXJ2aWNlKCckYW5pbWF0b3InKSxcbiAgICAgICRhbmltYXRlID0gc2VydmljZSgnJGFuaW1hdGUnKTtcblxuICAvLyBSZXR1cm5zIGEgc2V0IG9mIERPTSBtYW5pcHVsYXRpb24gZnVuY3Rpb25zIGJhc2VkIG9uIHdoaWNoIEFuZ3VsYXIgdmVyc2lvblxuICAvLyBpdCBzaG91bGQgdXNlXG4gIGZ1bmN0aW9uIGdldFJlbmRlcmVyKGF0dHJzLCBzY29wZSkge1xuICAgIHZhciBzdGF0aWNzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnRlcjogZnVuY3Rpb24gKGVsZW1lbnQsIHRhcmdldCwgY2IpIHsgdGFyZ2V0LmFmdGVyKGVsZW1lbnQpOyBjYigpOyB9LFxuICAgICAgICBsZWF2ZTogZnVuY3Rpb24gKGVsZW1lbnQsIGNiKSB7IGVsZW1lbnQucmVtb3ZlKCk7IGNiKCk7IH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICgkYW5pbWF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHRhcmdldCwgY2IpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG51bGwsIHRhcmdldCwgY2IpO1xuICAgICAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UudGhlbikgcHJvbWlzZS50aGVuKGNiKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNiKSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50LCBjYik7XG4gICAgICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS50aGVuKSBwcm9taXNlLnRoZW4oY2IpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICgkYW5pbWF0b3IpIHtcbiAgICAgIHZhciBhbmltYXRlID0gJGFuaW1hdG9yICYmICRhbmltYXRvcihzY29wZSwgYXR0cnMpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgdGFyZ2V0LCBjYikge2FuaW1hdGUuZW50ZXIoZWxlbWVudCwgbnVsbCwgdGFyZ2V0KTsgY2IoKTsgfSxcbiAgICAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNiKSB7IGFuaW1hdGUubGVhdmUoZWxlbWVudCk7IGNiKCk7IH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRpY3MoKTtcbiAgfVxuXG4gIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgcmVzdHJpY3Q6ICdFQ0EnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHByaW9yaXR5OiA0MDAsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHJzLCAkdHJhbnNjbHVkZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0VsLCBjdXJyZW50RWwsIGN1cnJlbnRTY29wZSwgbGF0ZXN0TG9jYWxzLFxuICAgICAgICAgICAgb25sb2FkRXhwICAgICA9IGF0dHJzLm9ubG9hZCB8fCAnJyxcbiAgICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRycy5hdXRvc2Nyb2xsLFxuICAgICAgICAgICAgcmVuZGVyZXIgICAgICA9IGdldFJlbmRlcmVyKGF0dHJzLCBzY29wZSk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXBkYXRlVmlldyhmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzY29wZS4kb24oJyR2aWV3Q29udGVudExvYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1cGRhdGVWaWV3KGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdXBkYXRlVmlldyh0cnVlKTtcblxuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwTGFzdFZpZXcoKSB7XG4gICAgICAgICAgaWYgKHByZXZpb3VzRWwpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWwucmVtb3ZlKCk7XG4gICAgICAgICAgICBwcmV2aW91c0VsID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1cnJlbnRFbCkge1xuICAgICAgICAgICAgcmVuZGVyZXIubGVhdmUoY3VycmVudEVsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJldmlvdXNFbCA9IGN1cnJlbnRFbDtcbiAgICAgICAgICAgIGN1cnJlbnRFbCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVmlldyhmaXJzdFRpbWUpIHtcbiAgICAgICAgICB2YXIgbmV3U2NvcGUsXG4gICAgICAgICAgICAgIG5hbWUgICAgICAgICAgICA9IGdldFVpVmlld05hbWUoc2NvcGUsIGF0dHJzLCAkZWxlbWVudCwgJGludGVycG9sYXRlKSxcbiAgICAgICAgICAgICAgcHJldmlvdXNMb2NhbHMgID0gbmFtZSAmJiAkc3RhdGUuJGN1cnJlbnQgJiYgJHN0YXRlLiRjdXJyZW50LmxvY2Fsc1tuYW1lXTtcblxuICAgICAgICAgIGlmICghZmlyc3RUaW1lICYmIHByZXZpb3VzTG9jYWxzID09PSBsYXRlc3RMb2NhbHMpIHJldHVybjsgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgIG5ld1Njb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgIGxhdGVzdExvY2FscyA9ICRzdGF0ZS4kY3VycmVudC5sb2NhbHNbbmFtZV07XG5cbiAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmVudGVyKGNsb25lLCAkZWxlbWVudCwgZnVuY3Rpb24gb25VaVZpZXdFbnRlcigpIHtcbiAgICAgICAgICAgICAgaWYoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZCcpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmICFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSB7XG4gICAgICAgICAgICAgICAgJHVpVmlld1Njcm9sbChjbG9uZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2xlYW51cExhc3RWaWV3KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjdXJyZW50RWwgPSBjbG9uZTtcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAgICAgKiBAbmFtZSB1aS5yb3V0ZXIuc3RhdGUuZGlyZWN0aXZlOnVpLXZpZXcjJHZpZXdDb250ZW50TG9hZGVkXG4gICAgICAgICAgICogQGV2ZW50T2YgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3XG4gICAgICAgICAgICogQGV2ZW50VHlwZSBlbWl0cyBvbiB1aS12aWV3IGRpcmVjdGl2ZSBzY29wZVxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEZpcmVkIG9uY2UgdGhlIHZpZXcgaXMgKipsb2FkZWQqKiwgKmFmdGVyKiB0aGUgRE9NIGlzIHJlbmRlcmVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyR2aWV3Q29udGVudExvYWRlZCcpO1xuICAgICAgICAgIGN1cnJlbnRTY29wZS4kZXZhbChvbmxvYWRFeHApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZGlyZWN0aXZlO1xufVxuXG4kVmlld0RpcmVjdGl2ZUZpbGwuJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJGNvbnRyb2xsZXInLCAnJHN0YXRlJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gJFZpZXdEaXJlY3RpdmVGaWxsICggICRjb21waWxlLCAgICRjb250cm9sbGVyLCAgICRzdGF0ZSwgICAkaW50ZXJwb2xhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VDQScsXG4gICAgcHJpb3JpdHk6IC00MDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XG4gICAgICB2YXIgaW5pdGlhbCA9IHRFbGVtZW50Lmh0bWwoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgY3VycmVudCA9ICRzdGF0ZS4kY3VycmVudCxcbiAgICAgICAgICAgIG5hbWUgPSBnZXRVaVZpZXdOYW1lKHNjb3BlLCBhdHRycywgJGVsZW1lbnQsICRpbnRlcnBvbGF0ZSksXG4gICAgICAgICAgICBsb2NhbHMgID0gY3VycmVudCAmJiBjdXJyZW50LmxvY2Fsc1tuYW1lXTtcblxuICAgICAgICBpZiAoISBsb2NhbHMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5kYXRhKCckdWlWaWV3JywgeyBuYW1lOiBuYW1lLCBzdGF0ZTogbG9jYWxzLiQkc3RhdGUgfSk7XG4gICAgICAgICRlbGVtZW50Lmh0bWwobG9jYWxzLiR0ZW1wbGF0ZSA/IGxvY2Fscy4kdGVtcGxhdGUgOiBpbml0aWFsKTtcblxuICAgICAgICB2YXIgbGluayA9ICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpO1xuXG4gICAgICAgIGlmIChsb2NhbHMuJCRjb250cm9sbGVyKSB7XG4gICAgICAgICAgbG9jYWxzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICAgIHZhciBjb250cm9sbGVyID0gJGNvbnRyb2xsZXIobG9jYWxzLiQkY29udHJvbGxlciwgbG9jYWxzKTtcbiAgICAgICAgICBpZiAobG9jYWxzLiQkY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICBzY29wZVtsb2NhbHMuJCRjb250cm9sbGVyQXNdID0gY29udHJvbGxlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5rKHNjb3BlKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFNoYXJlZCB1aS12aWV3IGNvZGUgZm9yIGJvdGggZGlyZWN0aXZlczpcbiAqIEdpdmVuIHNjb3BlLCBlbGVtZW50LCBhbmQgaXRzIGF0dHJpYnV0ZXMsIHJldHVybiB0aGUgdmlldydzIG5hbWVcbiAqL1xuZnVuY3Rpb24gZ2V0VWlWaWV3TmFtZShzY29wZSwgYXR0cnMsIGVsZW1lbnQsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgbmFtZSA9ICRpbnRlcnBvbGF0ZShhdHRycy51aVZpZXcgfHwgYXR0cnMubmFtZSB8fCAnJykoc2NvcGUpO1xuICB2YXIgaW5oZXJpdGVkID0gZWxlbWVudC5pbmhlcml0ZWREYXRhKCckdWlWaWV3Jyk7XG4gIHJldHVybiBuYW1lLmluZGV4T2YoJ0AnKSA+PSAwID8gIG5hbWUgOiAgKG5hbWUgKyAnQCcgKyAoaW5oZXJpdGVkID8gaW5oZXJpdGVkLnN0YXRlLm5hbWUgOiAnJykpO1xufVxuXG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCAkVmlld0RpcmVjdGl2ZSk7XG5hbmd1bGFyLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCAkVmlld0RpcmVjdGl2ZUZpbGwpO1xuXG5mdW5jdGlvbiBwYXJzZVN0YXRlUmVmKHJlZiwgY3VycmVudCkge1xuICB2YXIgcHJlcGFyc2VkID0gcmVmLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyksIHBhcnNlZDtcbiAgaWYgKHByZXBhcnNlZCkgcmVmID0gY3VycmVudCArICcoJyArIHByZXBhcnNlZFsxXSArICcpJztcbiAgcGFyc2VkID0gcmVmLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO1xuICBpZiAoIXBhcnNlZCB8fCBwYXJzZWQubGVuZ3RoICE9PSA0KSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIgKyByZWYgKyBcIidcIik7XG4gIHJldHVybiB7IHN0YXRlOiBwYXJzZWRbMV0sIHBhcmFtRXhwcjogcGFyc2VkWzNdIHx8IG51bGwgfTtcbn1cblxuZnVuY3Rpb24gc3RhdGVDb250ZXh0KGVsKSB7XG4gIHZhciBzdGF0ZURhdGEgPSBlbC5wYXJlbnQoKS5pbmhlcml0ZWREYXRhKCckdWlWaWV3Jyk7XG5cbiAgaWYgKHN0YXRlRGF0YSAmJiBzdGF0ZURhdGEuc3RhdGUgJiYgc3RhdGVEYXRhLnN0YXRlLm5hbWUpIHtcbiAgICByZXR1cm4gc3RhdGVEYXRhLnN0YXRlO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS1zcmVmXG4gKlxuICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAqIEByZXF1aXJlcyAkdGltZW91dFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGJpbmRzIGEgbGluayAoYDxhPmAgdGFnKSB0byBhIHN0YXRlLiBJZiB0aGUgc3RhdGUgaGFzIGFuIGFzc29jaWF0ZWQgXG4gKiBVUkwsIHRoZSBkaXJlY3RpdmUgd2lsbCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlICYgdXBkYXRlIHRoZSBgaHJlZmAgYXR0cmlidXRlIHZpYSBcbiAqIHRoZSB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNtZXRob2RzX2hyZWYgJHN0YXRlLmhyZWYoKX0gbWV0aG9kLiBDbGlja2luZyBcbiAqIHRoZSBsaW5rIHdpbGwgdHJpZ2dlciBhIHN0YXRlIHRyYW5zaXRpb24gd2l0aCBvcHRpb25hbCBwYXJhbWV0ZXJzLiBcbiAqXG4gKiBBbHNvIG1pZGRsZS1jbGlja2luZywgcmlnaHQtY2xpY2tpbmcsIGFuZCBjdHJsLWNsaWNraW5nIG9uIHRoZSBsaW5rIHdpbGwgYmUgXG4gKiBoYW5kbGVkIG5hdGl2ZWx5IGJ5IHRoZSBicm93c2VyLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgcmVsYXRpdmUgc3RhdGUgcGF0aHMgd2l0aGluIHVpLXNyZWYsIGp1c3QgbGlrZSB0aGUgcmVsYXRpdmUgXG4gKiBwYXRocyBwYXNzZWQgdG8gYCRzdGF0ZS5nbygpYC4gWW91IGp1c3QgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZSBwYXRoIGlzIHJlbGF0aXZlXG4gKiB0byB0aGUgc3RhdGUgdGhhdCB0aGUgbGluayBsaXZlcyBpbiwgaW4gb3RoZXIgd29yZHMgdGhlIHN0YXRlIHRoYXQgbG9hZGVkIHRoZSBcbiAqIHRlbXBsYXRlIGNvbnRhaW5pbmcgdGhlIGxpbmsuXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IG9wdGlvbnMgdG8gcGFzcyB0byB7QGxpbmsgdWkucm91dGVyLnN0YXRlLiRzdGF0ZSNnbyAkc3RhdGUuZ28oKX1cbiAqIHVzaW5nIHRoZSBgdWktc3JlZi1vcHRzYCBhdHRyaWJ1dGUuIE9wdGlvbnMgYXJlIHJlc3RyaWN0ZWQgdG8gYGxvY2F0aW9uYCwgYGluaGVyaXRgLFxuICogYW5kIGByZWxvYWRgLlxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBob3cgeW91J2QgdXNlIHVpLXNyZWYgYW5kIGhvdyBpdCB3b3VsZCBjb21waWxlLiBJZiB5b3UgaGF2ZSB0aGUgXG4gKiBmb2xsb3dpbmcgdGVtcGxhdGU6XG4gKiA8cHJlPlxuICogPGEgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9hPiB8IDxhIHVpLXNyZWY9XCJhYm91dFwiPkFib3V0PC9hPiB8IDxhIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKiBcbiAqIDx1bD5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSB1aS1zcmVmPVwiY29udGFjdHMuZGV0YWlsKHsgaWQ6IGNvbnRhY3QuaWQgfSlcIj57eyBjb250YWN0Lm5hbWUgfX08L2E+XG4gKiAgICAgPC9saT5cbiAqIDwvdWw+XG4gKiA8L3ByZT5cbiAqIFxuICogVGhlbiB0aGUgY29tcGlsZWQgaHRtbCB3b3VsZCBiZSAoYXNzdW1pbmcgSHRtbDVNb2RlIGlzIG9mZiBhbmQgY3VycmVudCBzdGF0ZSBpcyBjb250YWN0cyk6XG4gKiA8cHJlPlxuICogPGEgaHJlZj1cIiMvaG9tZVwiIHVpLXNyZWY9XCJob21lXCI+SG9tZTwvYT4gfCA8YSBocmVmPVwiIy9hYm91dFwiIHVpLXNyZWY9XCJhYm91dFwiPkFib3V0PC9hPiB8IDxhIGhyZWY9XCIjL2NvbnRhY3RzP3BhZ2U9MlwiIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKiBcbiAqIDx1bD5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8xXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+Sm9lPC9hPlxuICogICAgIDwvbGk+XG4gKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAqICAgICAgICAgPGEgaHJlZj1cIiMvY29udGFjdHMvMlwiIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPkFsaWNlPC9hPlxuICogICAgIDwvbGk+XG4gKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAqICAgICAgICAgPGEgaHJlZj1cIiMvY29udGFjdHMvM1wiIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPkJvYjwvYT5cbiAqICAgICA8L2xpPlxuICogPC91bD5cbiAqXG4gKiA8YSB1aS1zcmVmPVwiaG9tZVwiIHVpLXNyZWYtb3B0cz1cIntyZWxvYWQ6IHRydWV9XCI+SG9tZTwvYT5cbiAqIDwvcHJlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1aS1zcmVmICdzdGF0ZU5hbWUnIGNhbiBiZSBhbnkgdmFsaWQgYWJzb2x1dGUgb3IgcmVsYXRpdmUgc3RhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB1aS1zcmVmLW9wdHMgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlI2dvICRzdGF0ZS5nbygpfVxuICovXG4kU3RhdGVSZWZEaXJlY3RpdmUuJGluamVjdCA9IFsnJHN0YXRlJywgJyR0aW1lb3V0J107XG5mdW5jdGlvbiAkU3RhdGVSZWZEaXJlY3RpdmUoJHN0YXRlLCAkdGltZW91dCkge1xuICB2YXIgYWxsb3dlZE9wdGlvbnMgPSBbJ2xvY2F0aW9uJywgJ2luaGVyaXQnLCAncmVsb2FkJ107XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdWlTcmVmQWN0aXZlKSB7XG4gICAgICB2YXIgcmVmID0gcGFyc2VTdGF0ZVJlZihhdHRycy51aVNyZWYsICRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuICAgICAgdmFyIHBhcmFtcyA9IG51bGwsIHVybCA9IG51bGwsIGJhc2UgPSBzdGF0ZUNvbnRleHQoZWxlbWVudCkgfHwgJHN0YXRlLiRjdXJyZW50O1xuICAgICAgdmFyIG5ld0hyZWYgPSBudWxsLCBpc0FuY2hvciA9IGVsZW1lbnQucHJvcChcInRhZ05hbWVcIikgPT09IFwiQVwiO1xuICAgICAgdmFyIGlzRm9ybSA9IGVsZW1lbnRbMF0ubm9kZU5hbWUgPT09IFwiRk9STVwiO1xuICAgICAgdmFyIGF0dHIgPSBpc0Zvcm0gPyBcImFjdGlvblwiIDogXCJocmVmXCIsIG5hdiA9IHRydWU7XG5cbiAgICAgIHZhciBvcHRpb25zID0geyByZWxhdGl2ZTogYmFzZSwgaW5oZXJpdDogdHJ1ZSB9O1xuICAgICAgdmFyIG9wdGlvbnNPdmVycmlkZSA9IHNjb3BlLiRldmFsKGF0dHJzLnVpU3JlZk9wdHMpIHx8IHt9O1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goYWxsb3dlZE9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICBpZiAob3B0aW9uIGluIG9wdGlvbnNPdmVycmlkZSkge1xuICAgICAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNPdmVycmlkZVtvcHRpb25dO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG5ld1ZhbCkge1xuICAgICAgICBpZiAobmV3VmFsKSBwYXJhbXMgPSBhbmd1bGFyLmNvcHkobmV3VmFsKTtcbiAgICAgICAgaWYgKCFuYXYpIHJldHVybjtcblxuICAgICAgICBuZXdIcmVmID0gJHN0YXRlLmhyZWYocmVmLnN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBhY3RpdmVEaXJlY3RpdmUgPSB1aVNyZWZBY3RpdmVbMV0gfHwgdWlTcmVmQWN0aXZlWzBdO1xuICAgICAgICBpZiAoYWN0aXZlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgYWN0aXZlRGlyZWN0aXZlLiQkc2V0U3RhdGVJbmZvKHJlZi5zdGF0ZSwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SHJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgIG5hdiA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhdHRycy4kc2V0KGF0dHIsIG5ld0hyZWYpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHJlZi5wYXJhbUV4cHIpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKHJlZi5wYXJhbUV4cHIsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgaWYgKG5ld1ZhbCAhPT0gcGFyYW1zKSB1cGRhdGUobmV3VmFsKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHBhcmFtcyA9IGFuZ3VsYXIuY29weShzY29wZS4kZXZhbChyZWYucGFyYW1FeHByKSk7XG4gICAgICB9XG4gICAgICB1cGRhdGUoKTtcblxuICAgICAgaWYgKGlzRm9ybSkgcmV0dXJuO1xuXG4gICAgICBlbGVtZW50LmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBidXR0b24gPSBlLndoaWNoIHx8IGUuYnV0dG9uO1xuICAgICAgICBpZiAoICEoYnV0dG9uID4gMSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkgfHwgZWxlbWVudC5hdHRyKCd0YXJnZXQnKSkgKSB7XG4gICAgICAgICAgLy8gSEFDSzogVGhpcyBpcyB0byBhbGxvdyBuZy1jbGlja3MgdG8gYmUgcHJvY2Vzc2VkIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyBpbml0aWF0ZWQ6XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzdGF0ZS5nbyhyZWYuc3RhdGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgLy8gaWYgdGhlIHN0YXRlIGhhcyBubyBVUkwsIGlnbm9yZSBvbmUgcHJldmVudERlZmF1bHQgZnJvbSB0aGUgPGE+IGRpcmVjdGl2ZS5cbiAgICAgICAgICB2YXIgaWdub3JlUHJldmVudERlZmF1bHRDb3VudCA9IGlzQW5jaG9yICYmICFuZXdIcmVmID8gMTogMDtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlUHJldmVudERlZmF1bHRDb3VudC0tIDw9IDApXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS1zcmVmLWFjdGl2ZVxuICpcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVBhcmFtc1xuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGRpcmVjdGl2ZSB3b3JraW5nIGFsb25nc2lkZSB1aS1zcmVmIHRvIGFkZCBjbGFzc2VzIHRvIGFuIGVsZW1lbnQgd2hlbiB0aGVcbiAqIHJlbGF0ZWQgdWktc3JlZiBkaXJlY3RpdmUncyBzdGF0ZSBpcyBhY3RpdmUsIGFuZCByZW1vdmluZyB0aGVtIHdoZW4gaXQgaXMgaW5hY3RpdmUuXG4gKiBUaGUgcHJpbWFyeSB1c2UtY2FzZSBpcyB0byBzaW1wbGlmeSB0aGUgc3BlY2lhbCBhcHBlYXJhbmNlIG9mIG5hdmlnYXRpb24gbWVudXNcbiAqIHJlbHlpbmcgb24gYHVpLXNyZWZgLCBieSBoYXZpbmcgdGhlIFwiYWN0aXZlXCIgc3RhdGUncyBtZW51IGJ1dHRvbiBhcHBlYXIgZGlmZmVyZW50LFxuICogZGlzdGluZ3Vpc2hpbmcgaXQgZnJvbSB0aGUgaW5hY3RpdmUgbWVudSBpdGVtcy5cbiAqXG4gKiB1aS1zcmVmLWFjdGl2ZSBjYW4gbGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIHVpLXNyZWYgb3Igb24gYSBwYXJlbnQgZWxlbWVudC4gVGhlIGZpcnN0XG4gKiB1aS1zcmVmLWFjdGl2ZSBmb3VuZCBhdCB0aGUgc2FtZSBsZXZlbCBvciBhYm92ZSB0aGUgdWktc3JlZiB3aWxsIGJlIHVzZWQuXG4gKlxuICogV2lsbCBhY3RpdmF0ZSB3aGVuIHRoZSB1aS1zcmVmJ3MgdGFyZ2V0IHN0YXRlIG9yIGFueSBjaGlsZCBzdGF0ZSBpcyBhY3RpdmUuIElmIHlvdVxuICogbmVlZCB0byBhY3RpdmF0ZSBvbmx5IHdoZW4gdGhlIHVpLXNyZWYgdGFyZ2V0IHN0YXRlIGlzIGFjdGl2ZSBhbmQgKm5vdCogYW55IG9mXG4gKiBpdCdzIGNoaWxkcmVuLCB0aGVuIHlvdSB3aWxsIHVzZVxuICoge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS5kaXJlY3RpdmU6dWktc3JlZi1hY3RpdmUtZXEgdWktc3JlZi1hY3RpdmUtZXF9XG4gKlxuICogQGV4YW1wbGVcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGU6XG4gKiA8cHJlPlxuICogPHVsPlxuICogICA8bGkgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIiBjbGFzcz1cIml0ZW1cIj5cbiAqICAgICA8YSBocmVmIHVpLXNyZWY9XCJhcHAudXNlcih7dXNlcjogJ2JpbGJvYmFnZ2lucyd9KVwiPkBiaWxib2JhZ2dpbnM8L2E+XG4gKiAgIDwvbGk+XG4gKiA8L3VsPlxuICogPC9wcmU+XG4gKlxuICpcbiAqIFdoZW4gdGhlIGFwcCBzdGF0ZSBpcyBcImFwcC51c2VyXCIgKG9yIGFueSBjaGlsZHJlbiBzdGF0ZXMpLCBhbmQgY29udGFpbnMgdGhlIHN0YXRlIHBhcmFtZXRlciBcInVzZXJcIiB3aXRoIHZhbHVlIFwiYmlsYm9iYWdnaW5zXCIsXG4gKiB0aGUgcmVzdWx0aW5nIEhUTUwgd2lsbCBhcHBlYXIgYXMgKG5vdGUgdGhlICdhY3RpdmUnIGNsYXNzKTpcbiAqIDxwcmU+XG4gKiA8dWw+XG4gKiAgIDxsaSB1aS1zcmVmLWFjdGl2ZT1cImFjdGl2ZVwiIGNsYXNzPVwiaXRlbSBhY3RpdmVcIj5cbiAqICAgICA8YSB1aS1zcmVmPVwiYXBwLnVzZXIoe3VzZXI6ICdiaWxib2JhZ2dpbnMnfSlcIiBocmVmPVwiL3VzZXJzL2JpbGJvYmFnZ2luc1wiPkBiaWxib2JhZ2dpbnM8L2E+XG4gKiAgIDwvbGk+XG4gKiA8L3VsPlxuICogPC9wcmU+XG4gKlxuICogVGhlIGNsYXNzIG5hbWUgaXMgaW50ZXJwb2xhdGVkICoqb25jZSoqIGR1cmluZyB0aGUgZGlyZWN0aXZlcyBsaW5rIHRpbWUgKGFueSBmdXJ0aGVyIGNoYW5nZXMgdG8gdGhlXG4gKiBpbnRlcnBvbGF0ZWQgdmFsdWUgYXJlIGlnbm9yZWQpLlxuICpcbiAqIE11bHRpcGxlIGNsYXNzZXMgbWF5IGJlIHNwZWNpZmllZCBpbiBhIHNwYWNlLXNlcGFyYXRlZCBmb3JtYXQ6XG4gKiA8cHJlPlxuICogPHVsPlxuICogICA8bGkgdWktc3JlZi1hY3RpdmU9J2NsYXNzMSBjbGFzczIgY2xhc3MzJz5cbiAqICAgICA8YSB1aS1zcmVmPVwiYXBwLnVzZXJcIj5saW5rPC9hPlxuICogICA8L2xpPlxuICogPC91bD5cbiAqIDwvcHJlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS1zcmVmLWFjdGl2ZS1lcVxuICpcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIuc3RhdGUuJHN0YXRlXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLnN0YXRlLiRzdGF0ZVBhcmFtc1xuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgc2FtZSBhcyB7QGxpbmsgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS1zcmVmLWFjdGl2ZSB1aS1zcmVmLWFjdGl2ZX0gYnV0IHdpbGwgb25seSBhY3RpdmF0ZVxuICogd2hlbiB0aGUgZXhhY3QgdGFyZ2V0IHN0YXRlIHVzZWQgaW4gdGhlIGB1aS1zcmVmYCBpcyBhY3RpdmU7IG5vIGNoaWxkIHN0YXRlcy5cbiAqXG4gKi9cbiRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZS4kaW5qZWN0ID0gWyckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gJFN0YXRlUmVmQWN0aXZlRGlyZWN0aXZlKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJwb2xhdGUpIHtcbiAgcmV0dXJuICB7XG4gICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRhdHRycycsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbiAgICAgIHZhciBzdGF0ZSwgcGFyYW1zLCBhY3RpdmVDbGFzcztcblxuICAgICAgLy8gVGhlcmUgcHJvYmFibHkgaXNuJ3QgbXVjaCBwb2ludCBpbiAkb2JzZXJ2aW5nIHRoaXNcbiAgICAgIC8vIHVpU3JlZkFjdGl2ZSBhbmQgdWlTcmVmQWN0aXZlRXEgc2hhcmUgdGhlIHNhbWUgZGlyZWN0aXZlIG9iamVjdCB3aXRoIHNvbWVcbiAgICAgIC8vIHNsaWdodCBkaWZmZXJlbmNlIGluIGxvZ2ljIHJvdXRpbmdcbiAgICAgIGFjdGl2ZUNsYXNzID0gJGludGVycG9sYXRlKCRhdHRycy51aVNyZWZBY3RpdmVFcSB8fCAkYXR0cnMudWlTcmVmQWN0aXZlIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblxuICAgICAgLy8gQWxsb3cgdWlTcmVmIHRvIGNvbW11bmljYXRlIHdpdGggdWlTcmVmQWN0aXZlW0VxdWFsc11cbiAgICAgIHRoaXMuJCRzZXRTdGF0ZUluZm8gPSBmdW5jdGlvbiAobmV3U3RhdGUsIG5ld1BhcmFtcykge1xuICAgICAgICBzdGF0ZSA9ICRzdGF0ZS5nZXQobmV3U3RhdGUsIHN0YXRlQ29udGV4dCgkZWxlbWVudCkpO1xuICAgICAgICBwYXJhbXMgPSBuZXdQYXJhbXM7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZSk7XG5cbiAgICAgIC8vIFVwZGF0ZSByb3V0ZSBzdGF0ZVxuICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICBpZiAoaXNNYXRjaCgpKSB7XG4gICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50LnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc01hdGNoKCkge1xuICAgICAgICBpZiAodHlwZW9mICRhdHRycy51aVNyZWZBY3RpdmVFcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUgJiYgJHN0YXRlLmlzKHN0YXRlLm5hbWUsIHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlICYmICRzdGF0ZS5pbmNsdWRlcyhzdGF0ZS5uYW1lLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gIC5kaXJlY3RpdmUoJ3VpU3JlZicsICRTdGF0ZVJlZkRpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgndWlTcmVmQWN0aXZlJywgJFN0YXRlUmVmQWN0aXZlRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmVFcScsICRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmZpbHRlcjppc1N0YXRlXG4gKlxuICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRyYW5zbGF0ZXMgdG8ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjbWV0aG9kc19pcyAkc3RhdGUuaXMoXCJzdGF0ZU5hbWVcIil9LlxuICovXG4kSXNTdGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcbmZ1bmN0aW9uICRJc1N0YXRlRmlsdGVyKCRzdGF0ZSkge1xuICB2YXIgaXNGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gJHN0YXRlLmlzKHN0YXRlKTtcbiAgfTtcbiAgaXNGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgcmV0dXJuIGlzRmlsdGVyO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS5maWx0ZXI6aW5jbHVkZWRCeVN0YXRlXG4gKlxuICogQHJlcXVpcmVzIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRyYW5zbGF0ZXMgdG8ge0BsaW5rIHVpLnJvdXRlci5zdGF0ZS4kc3RhdGUjbWV0aG9kc19pbmNsdWRlcyAkc3RhdGUuaW5jbHVkZXMoJ2Z1bGxPclBhcnRpYWxTdGF0ZU5hbWUnKX0uXG4gKi9cbiRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXIuJGluamVjdCA9IFsnJHN0YXRlJ107XG5mdW5jdGlvbiAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKCRzdGF0ZSkge1xuICB2YXIgaW5jbHVkZXNGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gJHN0YXRlLmluY2x1ZGVzKHN0YXRlKTtcbiAgfTtcbiAgaW5jbHVkZXNGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgcmV0dXJuICBpbmNsdWRlc0ZpbHRlcjtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gIC5maWx0ZXIoJ2lzU3RhdGUnLCAkSXNTdGF0ZUZpbHRlcilcbiAgLmZpbHRlcignaW5jbHVkZWRCeVN0YXRlJywgJEluY2x1ZGVkQnlTdGF0ZUZpbHRlcik7XG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTsiLCIvKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nTWF0ZXJpYWwnLCBbXCJuZ1wiLFwibmdBbmltYXRlXCIsXCJuZ0FyaWFcIixcIm1hdGVyaWFsLmNvcmVcIixcIm1hdGVyaWFsLmNvcmUudGhlbWluZy5wYWxldHRlXCIsXCJtYXRlcmlhbC5jb3JlLnRoZW1pbmdcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvblwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmRpdmlkZXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuaWNvblwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudGFic1wiLFwibWF0ZXJpYWwuY29tcG9uZW50cy50ZXh0RmllbGRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudG9hc3RcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLndoaXRlZnJhbWVcIl0pO1xuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBmdW5jdGlvbiB0aGF0IHZhbGlkYXRlcyBlbnZpcm9ubWVudFxuICogcmVxdWlyZW1lbnRzLlxuICovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnLCBbJ21hdGVyaWFsLmNvcmUudGhlbWluZyddKVxuICAuY29uZmlnKE1kQ29yZUNvbmZpZ3VyZSk7XG5cblxuZnVuY3Rpb24gTWRDb3JlQ29uZmlndXJlKCRwcm92aWRlLCAkbWRUaGVtaW5nUHJvdmlkZXIpIHtcbiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckJHJBRicsIFtcIiRkZWxlZ2F0ZVwiLCByQUZEZWNvcmF0b3JdKTtcblxuICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxuICAgIC5wcmltYXJ5UGFsZXR0ZSgnaW5kaWdvJylcbiAgICAuYWNjZW50UGFsZXR0ZSgncGluaycpXG4gICAgLndhcm5QYWxldHRlKCdyZWQnKVxuICAgIC5iYWNrZ3JvdW5kUGFsZXR0ZSgnZ3JleScpO1xufVxuTWRDb3JlQ29uZmlndXJlLiRpbmplY3QgPSBbXCIkcHJvdmlkZVwiLCBcIiRtZFRoZW1pbmdQcm92aWRlclwiXTtcblxuZnVuY3Rpb24gckFGRGVjb3JhdG9yKCAkZGVsZWdhdGUgKSB7XG4gIC8qKlxuICAgKiBVc2UgdGhpcyB0byB0aHJvdHRsZSBldmVudHMgdGhhdCBjb21lIGluIG9mdGVuLlxuICAgKiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgYWx3YXlzIHVzZSB0aGUgKmxhc3QqIGludm9jYXRpb24gYmVmb3JlIHRoZVxuICAgKiBjb21pbmcgZnJhbWUuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB3aW5kb3cgcmVzaXplIGV2ZW50cyB0aGF0IGZpcmUgbWFueSB0aW1lcyBhIHNlY29uZDpcbiAgICogSWYgd2Ugc2V0IHRvIHVzZSBhbiByYWYtdGhyb3R0bGVkIGNhbGxiYWNrIG9uIHdpbmRvdyByZXNpemUsIHRoZW5cbiAgICogb3VyIGNhbGxiYWNrIHdpbGwgb25seSBiZSBmaXJlZCBvbmNlIHBlciBmcmFtZSwgd2l0aCB0aGUgbGFzdCByZXNpemVcbiAgICogZXZlbnQgdGhhdCBoYXBwZW5lZCBiZWZvcmUgdGhhdCBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZGVib3VuY2VcbiAgICovXG4gICRkZWxlZ2F0ZS50aHJvdHRsZSA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgdmFyIHF1ZXVlQXJncywgYWxyZWFkeVF1ZXVlZCwgcXVldWVDYiwgY29udGV4dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgcXVldWVBcmdzID0gYXJndW1lbnRzO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBxdWV1ZUNiID0gY2I7XG4gICAgICBpZiAoIWFscmVhZHlRdWV1ZWQpIHtcbiAgICAgICAgYWxyZWFkeVF1ZXVlZCA9IHRydWU7XG4gICAgICAgICRkZWxlZ2F0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBxdWV1ZUNiLmFwcGx5KGNvbnRleHQsIHF1ZXVlQXJncyk7XG4gICAgICAgICAgYWxyZWFkeVF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gJGRlbGVnYXRlO1xufVxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4uZmFjdG9yeSgnJG1kQ29uc3RhbnQnLCBNZENvbnN0YW50RmFjdG9yeSk7XG5cbmZ1bmN0aW9uIE1kQ29uc3RhbnRGYWN0b3J5KCQkckFGLCAkc25pZmZlcikge1xuXG4gIHZhciB3ZWJraXQgPSAvd2Via2l0L2kudGVzdCgkc25pZmZlci52ZW5kb3JQcmVmaXgpO1xuICBmdW5jdGlvbiB2ZW5kb3JQcm9wZXJ0eShuYW1lKSB7XG4gICAgcmV0dXJuIHdlYmtpdCA/ICAoJ3dlYmtpdCcgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSkpIDogbmFtZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgS0VZX0NPREU6IHtcbiAgICAgIEVOVEVSOiAxMyxcbiAgICAgIEVTQ0FQRTogMjcsXG4gICAgICBTUEFDRTogMzIsXG4gICAgICBMRUZUX0FSUk9XIDogMzcsXG4gICAgICBVUF9BUlJPVyA6IDM4LFxuICAgICAgUklHSFRfQVJST1cgOiAzOSxcbiAgICAgIERPV05fQVJST1cgOiA0MFxuICAgIH0sXG4gICAgQ1NTOiB7XG4gICAgICAvKiBDb25zdGFudHMgKi9cbiAgICAgIFRSQU5TSVRJT05FTkQ6ICd0cmFuc2l0aW9uZW5kJyArICh3ZWJraXQgPyAnIHdlYmtpdFRyYW5zaXRpb25FbmQnIDogJycpLFxuICAgICAgQU5JTUFUSU9ORU5EOiAnYW5pbWF0aW9uZW5kJyArICh3ZWJraXQgPyAnIHdlYmtpdEFuaW1hdGlvbkVuZCcgOiAnJyksXG5cbiAgICAgIFRSQU5TRk9STTogdmVuZG9yUHJvcGVydHkoJ3RyYW5zZm9ybScpLFxuICAgICAgVFJBTlNGT1JNX09SSUdJTjogdmVuZG9yUHJvcGVydHkoJ3RyYW5zZm9ybU9yaWdpbicpLFxuICAgICAgVFJBTlNJVElPTjogdmVuZG9yUHJvcGVydHkoJ3RyYW5zaXRpb24nKSxcbiAgICAgIFRSQU5TSVRJT05fRFVSQVRJT046IHZlbmRvclByb3BlcnR5KCd0cmFuc2l0aW9uRHVyYXRpb24nKSxcbiAgICAgIEFOSU1BVElPTl9QTEFZX1NUQVRFOiB2ZW5kb3JQcm9wZXJ0eSgnYW5pbWF0aW9uUGxheVN0YXRlJyksXG4gICAgICBBTklNQVRJT05fRFVSQVRJT046IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25EdXJhdGlvbicpLFxuICAgICAgQU5JTUFUSU9OX05BTUU6IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25OYW1lJyksXG4gICAgICBBTklNQVRJT05fVElNSU5HOiB2ZW5kb3JQcm9wZXJ0eSgnYW5pbWF0aW9uVGltaW5nRnVuY3Rpb24nKSxcbiAgICAgIEFOSU1BVElPTl9ESVJFQ1RJT046IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25EaXJlY3Rpb24nKVxuICAgIH0sXG4gICAgTUVESUE6IHtcbiAgICAgICdzbSc6ICcobWF4LXdpZHRoOiA2MDBweCknLFxuICAgICAgJ2d0LXNtJzogJyhtaW4td2lkdGg6IDYwMHB4KScsXG4gICAgICAnbWQnOiAnKG1pbi13aWR0aDogNjAwcHgpIGFuZCAobWF4LXdpZHRoOiA5NjBweCknLFxuICAgICAgJ2d0LW1kJzogJyhtaW4td2lkdGg6IDk2MHB4KScsXG4gICAgICAnbGcnOiAnKG1pbi13aWR0aDogOTYwcHgpIGFuZCAobWF4LXdpZHRoOiAxMjAwcHgpJyxcbiAgICAgICdndC1sZyc6ICcobWluLXdpZHRoOiAxMjAwcHgpJ1xuICAgIH0sXG4gICAgTUVESUFfUFJJT1JJVFk6IFtcbiAgICAgICdndC1sZycsXG4gICAgICAnbGcnLFxuICAgICAgJ2d0LW1kJyxcbiAgICAgICdtZCcsXG4gICAgICAnZ3Qtc20nLFxuICAgICAgJ3NtJ1xuICAgIF1cbiAgfTtcbn1cbk1kQ29uc3RhbnRGYWN0b3J5LiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRzbmlmZmVyXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCl7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAgIC5jb25maWcoIFtcIiRwcm92aWRlXCIsIGZ1bmN0aW9uKCRwcm92aWRlKXtcbiAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRtZFV0aWwnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uICgkZGVsZWdhdGUpe1xuICAgICAgICAgICAvKipcbiAgICAgICAgICAgICogSW5qZWN0IHRoZSBpdGVyYXRvciBmYWNhZGUgdG8gZWFzaWx5IHN1cHBvcnQgaXRlcmF0aW9uIGFuZCBhY2Nlc3NvcnNcbiAgICAgICAgICAgICogQHNlZSBpdGVyYXRvciBiZWxvd1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgJGRlbGVnYXRlLml0ZXJhdG9yID0gSXRlcmF0b3I7XG5cbiAgICAgICAgICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAgICAgICAgIH1cbiAgICAgICBdKTtcbiAgICAgfV0pO1xuXG4gIC8qKlxuICAgKiBpdGVyYXRvciBpcyBhIGxpc3QgZmFjYWRlIHRvIGVhc2lseSBzdXBwb3J0IGl0ZXJhdGlvbiBhbmQgYWNjZXNzb3JzXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyBBcnJheSBsaXN0IHdoaWNoIHRoaXMgaXRlcmF0b3Igd2lsbCBlbnVtZXJhdGVcbiAgICogQHBhcmFtIHJlbG9vcCBCb29sZWFuIGVuYWJsZXMgaXRlcmF0b3IgdG8gY29uc2lkZXIgdGhlIGxpc3QgYXMgYW4gZW5kbGVzcyByZWxvb3BcbiAgICovXG4gIGZ1bmN0aW9uIEl0ZXJhdG9yKGl0ZW1zLCByZWxvb3ApIHtcbiAgICB2YXIgdHJ1ZUZuID0gZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9O1xuXG4gICAgaWYgKGl0ZW1zICYmICFhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICBpdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGl0ZW1zKTtcbiAgICB9XG5cbiAgICByZWxvb3AgPSAhIXJlbG9vcDtcbiAgICB2YXIgX2l0ZW1zID0gaXRlbXMgfHwgWyBdO1xuXG4gICAgLy8gUHVibGlzaGVkIEFQSVxuICAgIHJldHVybiB7XG4gICAgICBpdGVtczogZ2V0SXRlbXMsXG4gICAgICBjb3VudDogY291bnQsXG5cbiAgICAgIGluUmFuZ2U6IGluUmFuZ2UsXG4gICAgICBjb250YWluczogY29udGFpbnMsXG4gICAgICBpbmRleE9mOiBpbmRleE9mLFxuICAgICAgaXRlbUF0OiBpdGVtQXQsXG5cbiAgICAgIGZpbmRCeTogZmluZEJ5LFxuXG4gICAgICBhZGQ6IGFkZCxcbiAgICAgIHJlbW92ZTogcmVtb3ZlLFxuXG4gICAgICBmaXJzdDogZmlyc3QsXG4gICAgICBsYXN0OiBsYXN0LFxuICAgICAgbmV4dDogYW5ndWxhci5iaW5kKG51bGwsIGZpbmRTdWJzZXF1ZW50SXRlbSwgZmFsc2UpLFxuICAgICAgcHJldmlvdXM6IGFuZ3VsYXIuYmluZChudWxsLCBmaW5kU3Vic2VxdWVudEl0ZW0sIHRydWUpLFxuXG4gICAgICBoYXNQcmV2aW91czogaGFzUHJldmlvdXMsXG4gICAgICBoYXNOZXh0OiBoYXNOZXh0XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaCBjb3B5IG9mIHRoZSBlbnVtZXJhYmxlIHNldFxuICAgICAqIEByZXR1cm5zIHtBcnJheXwqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZW1zKCkge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdChfaXRlbXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBsZW5ndGggb2YgdGhlIGxpc3RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvdW50KCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIGluZGV4IHNwZWNpZmllZCB2YWxpZFxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtBcnJheS5sZW5ndGh8KnxudW1iZXJ8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKGluZGV4KSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCAmJiAoIGluZGV4ID4gLTEgKSAmJiAoaW5kZXggPCBfaXRlbXMubGVuZ3RoICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHRoZSBpdGVyYXRvciBwcm9jZWVkIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGxpc3Q7IHJlbGF0aXZlIHRvXG4gICAgICogdGhlIHNwZWNpZmllZCBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfGJvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzTmV4dChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbSA/IGluUmFuZ2UoaW5kZXhPZihpdGVtKSArIDEpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHRoZSBpdGVyYXRvciBwcm9jZWVkIHRvIHRoZSBwcmV2aW91cyBpdGVtIGluIHRoZSBsaXN0OyByZWxhdGl2ZSB0b1xuICAgICAqIHRoZSBzcGVjaWZpZWQgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMge0FycmF5Lmxlbmd0aHwqfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1ByZXZpb3VzKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtID8gaW5SYW5nZShpbmRleE9mKGl0ZW0pIC0gMSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgaXRlbSBhdCBzcGVjaWZpZWQgaW5kZXgvcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVtQXQoaW5kZXgpIHtcbiAgICAgIHJldHVybiBpblJhbmdlKGluZGV4KSA/IF9pdGVtc1tpbmRleF0gOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBrZXkvdmFsdWUgcGFpclxuICAgICAqIG90aGVyd2lzZSByZXR1cm4gbnVsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kQnkoa2V5LCB2YWwpIHtcbiAgICAgIHJldHVybiBfaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1ba2V5XSA9PT0gdmFsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGl0ZW0gdG8gbGlzdFxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKGl0ZW0sIGluZGV4KSB7XG4gICAgICBpZiAoICFpdGVtICkgcmV0dXJuIC0xO1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoaW5kZXgpKSB7XG4gICAgICAgIGluZGV4ID0gX2l0ZW1zLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgX2l0ZW1zLnNwbGljZShpbmRleCwgMCwgaXRlbSk7XG5cbiAgICAgIHJldHVybiBpbmRleE9mKGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBpdGVtIGZyb20gbGlzdC4uLlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGl0ZW0pIHtcbiAgICAgIGlmICggY29udGFpbnMoaXRlbSkgKXtcbiAgICAgICAgX2l0ZW1zLnNwbGljZShpbmRleE9mKGl0ZW0pLCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHplcm8tYmFzZWQgaW5kZXggb2YgdGhlIHRhcmdldCBpdGVtXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGl0ZW0pIHtcbiAgICAgIHJldHVybiBfaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCb29sZWFuIGV4aXN0ZW5jZSBjaGVja1xuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gJiYgKGluZGV4T2YoaXRlbSkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3RcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoID8gX2l0ZW1zWzBdIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gbGFzdCBpdGVtIGluIHRoZSBsaXN0Li4uXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdCgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoID8gX2l0ZW1zW19pdGVtcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbmV4dCBpdGVtLiBJZiByZWxvb3AgaXMgdHJ1ZSBhbmQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCwgaXQgd2lsbFxuICAgICAqIGdvIGJhY2sgdG8gdGhlIGZpcnN0IGl0ZW0uIElmIGdpdmVuICx0aGUgYHZhbGlkYXRlYCBjYWxsYmFjayB3aWxsIGJlIHVzZWRcbiAgICAgKiBkZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBpdGVtIGlzIHZhbGlkLiBJZiBub3QgdmFsaWQsIGl0IHdpbGwgdHJ5IHRvIGZpbmQgdGhlXG4gICAgICogbmV4dCBpdGVtIGFnYWluLlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHBhcmFtIHtvcHRpb25hbH0gdmFsaWRhdGUgVmFsaWRhdGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29wdGlvbmFsfSBsaW1pdCBSZWN1cnNpb24gbGltaXRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kU3Vic2VxdWVudEl0ZW0oYmFja3dhcmRzLCBpdGVtLCB2YWxpZGF0ZSwgbGltaXQpIHtcbiAgICAgIHZhbGlkYXRlID0gdmFsaWRhdGUgfHwgdHJ1ZUZuO1xuXG4gICAgICB2YXIgY3VySW5kZXggPSBpbmRleE9mKGl0ZW0pO1xuICAgICAgaWYgKCFpblJhbmdlKGN1ckluZGV4KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHRJbmRleCA9IGN1ckluZGV4ICsgKGJhY2t3YXJkcyA/IC0xIDogMSk7XG4gICAgICB2YXIgZm91bmRJdGVtID0gbnVsbDtcbiAgICAgIGlmIChpblJhbmdlKG5leHRJbmRleCkpIHtcbiAgICAgICAgZm91bmRJdGVtID0gX2l0ZW1zW25leHRJbmRleF07XG4gICAgICB9IGVsc2UgaWYgKHJlbG9vcCkge1xuICAgICAgICBmb3VuZEl0ZW0gPSBiYWNrd2FyZHMgPyBsYXN0KCkgOiBmaXJzdCgpO1xuICAgICAgICBuZXh0SW5kZXggPSBpbmRleE9mKGZvdW5kSXRlbSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoZm91bmRJdGVtID09PSBudWxsKSB8fCAobmV4dEluZGV4ID09PSBsaW1pdCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGxpbWl0KSkge1xuICAgICAgICBsaW1pdCA9IG5leHRJbmRleDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbGlkYXRlKGZvdW5kSXRlbSkgPyBmb3VuZEl0ZW0gOiBmaW5kU3Vic2VxdWVudEl0ZW0oYmFja3dhcmRzLCBmb3VuZEl0ZW0sIHZhbGlkYXRlLCBsaW1pdCk7XG4gICAgfVxuICB9XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4uZmFjdG9yeSgnJG1kTWVkaWEnLCBtZE1lZGlhRmFjdG9yeSk7XG5cbi8qKlxuICogRXhwb3NlcyBhIGZ1bmN0aW9uIG9uIHRoZSAnJG1kTWVkaWEnIHNlcnZpY2Ugd2hpY2ggd2lsbCByZXR1cm4gdHJ1ZSBvciBmYWxzZSxcbiAqIHdoZXRoZXIgdGhlIGdpdmVuIG1lZGlhIHF1ZXJ5IG1hdGNoZXMuIFJlLWV2YWx1YXRlcyBvbiByZXNpemUuIEFsbG93cyBwcmVzZXRzXG4gKiBmb3IgJ3NtJywgJ21kJywgJ2xnJy5cbiAqXG4gKiBAZXhhbXBsZSAkbWRNZWRpYSgnc20nKSA9PSB0cnVlIGlmIGRldmljZS13aWR0aCA8PSBzbVxuICogQGV4YW1wbGUgJG1kTWVkaWEoJyhtaW4td2lkdGg6IDEyMDBweCknKSA9PSB0cnVlIGlmIGRldmljZS13aWR0aCA+PSAxMjAwcHhcbiAqIEBleGFtcGxlICRtZE1lZGlhKCdtYXgtd2lkdGg6IDMwMHB4JykgPT0gdHJ1ZSBpZiBkZXZpY2Utd2lkdGggPD0gMzAwcHggKHNhbml0aXplcyBpbnB1dCwgYWRkaW5nIHBhcmVucylcbiAqL1xuZnVuY3Rpb24gbWRNZWRpYUZhY3RvcnkoJG1kQ29uc3RhbnQsICRyb290U2NvcGUsICR3aW5kb3cpIHtcbiAgdmFyIHF1ZXJpZXMgPSB7fTtcbiAgdmFyIG1xbHMgPSB7fTtcbiAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgdmFyIG5vcm1hbGl6ZUNhY2hlID0ge307XG5cbiAgJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZSA9IGdldFJlc3BvbnNpdmVBdHRyaWJ1dGU7XG4gICRtZE1lZGlhLmdldFF1ZXJ5ID0gZ2V0UXVlcnk7XG4gICRtZE1lZGlhLndhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXMgPSB3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzO1xuXG4gIHJldHVybiAkbWRNZWRpYTtcblxuICBmdW5jdGlvbiAkbWRNZWRpYShxdWVyeSkge1xuICAgIHZhciB2YWxpZGF0ZWQgPSBxdWVyaWVzW3F1ZXJ5XTtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWxpZGF0ZWQpKSB7XG4gICAgICB2YWxpZGF0ZWQgPSBxdWVyaWVzW3F1ZXJ5XSA9IHZhbGlkYXRlKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c1t2YWxpZGF0ZWRdO1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IGFkZCh2YWxpZGF0ZWQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZShxdWVyeSkge1xuICAgIHJldHVybiAkbWRDb25zdGFudC5NRURJQVtxdWVyeV0gfHxcbiAgICAgICAgICAgKChxdWVyeS5jaGFyQXQoMCkgIT09ICcoJykgPyAoJygnICsgcXVlcnkgKyAnKScpIDogcXVlcnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkKHF1ZXJ5KSB7XG4gICAgdmFyIHJlc3VsdCA9IG1xbHNbcXVlcnldID0gJHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICByZXN1bHQuYWRkTGlzdGVuZXIob25RdWVyeUNoYW5nZSk7XG4gICAgcmV0dXJuIChyZXN1bHRzW3Jlc3VsdC5tZWRpYV0gPSAhIXJlc3VsdC5tYXRjaGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUXVlcnlDaGFuZ2UocXVlcnkpIHtcbiAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICByZXN1bHRzW3F1ZXJ5Lm1lZGlhXSA9ICEhcXVlcnkubWF0Y2hlcztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5KG5hbWUpIHtcbiAgICByZXR1cm4gbXFsc1tuYW1lXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsIGF0dHJOYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkbWRDb25zdGFudC5NRURJQV9QUklPUklUWS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1lZGlhTmFtZSA9ICRtZENvbnN0YW50Lk1FRElBX1BSSU9SSVRZW2ldO1xuICAgICAgaWYgKCFtcWxzW3F1ZXJpZXNbbWVkaWFOYW1lXV0ubWF0Y2hlcykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5vcm1hbGl6ZWROYW1lID0gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lICsgJy0nICsgbWVkaWFOYW1lKTtcbiAgICAgIGlmIChhdHRyc1tub3JtYWxpemVkTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzW25vcm1hbGl6ZWROYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmYWxsYmFjayBvbiB1bnByZWZpeGVkXG4gICAgcmV0dXJuIGF0dHJzW2dldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSldO1xuICB9XG5cbiAgZnVuY3Rpb24gd2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyhhdHRyTmFtZXMsIGF0dHJzLCB3YXRjaEZuKSB7XG4gICAgdmFyIHVud2F0Y2hGbnMgPSBbXTtcbiAgICBhdHRyTmFtZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyTmFtZSkge1xuICAgICAgdmFyIG5vcm1hbGl6ZWROYW1lID0gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lKTtcbiAgICAgIGlmIChhdHRyc1tub3JtYWxpemVkTmFtZV0pIHtcbiAgICAgICAgdW53YXRjaEZucy5wdXNoKFxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUobm9ybWFsaXplZE5hbWUsIGFuZ3VsYXIuYmluZCh2b2lkIDAsIHdhdGNoRm4sIG51bGwpKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZE5hbWUgPSBnZXROb3JtYWxpemVkTmFtZShhdHRycywgYXR0ck5hbWUgKyAnLScgKyBtZWRpYU5hbWUpO1xuICAgICAgICBpZiAoIWF0dHJzW25vcm1hbGl6ZWROYW1lXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVud2F0Y2hGbnMucHVzaChhdHRycy4kb2JzZXJ2ZShub3JtYWxpemVkTmFtZSwgYW5ndWxhci5iaW5kKHZvaWQgMCwgd2F0Y2hGbiwgbWVkaWFOYW1lKSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVud2F0Y2goKSB7XG4gICAgICB1bndhdGNoRm5zLmZvckVhY2goZnVuY3Rpb24oZm4pIHsgZm4oKTsgfSlcbiAgICB9O1xuICB9XG5cbiAgLy8gSW1wcm92ZXMgcGVyZm9ybWFuY2UgZHJhbWF0aWNhbGx5XG4gIGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSkge1xuICAgIHJldHVybiBub3JtYWxpemVDYWNoZVthdHRyTmFtZV0gfHxcbiAgICAgICAgKG5vcm1hbGl6ZUNhY2hlW2F0dHJOYW1lXSA9IGF0dHJzLiRub3JtYWxpemUoYXR0ck5hbWUpKTtcbiAgfVxufVxubWRNZWRpYUZhY3RvcnkuJGluamVjdCA9IFtcIiRtZENvbnN0YW50XCIsIFwiJHJvb3RTY29wZVwiLCBcIiR3aW5kb3dcIl07XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBUaGlzIHZhciBoYXMgdG8gYmUgb3V0c2lkZSB0aGUgYW5ndWxhciBmYWN0b3J5LCBvdGhlcndpc2Ugd2hlblxuICogdGhlcmUgYXJlIG11bHRpcGxlIG1hdGVyaWFsIGFwcHMgb24gdGhlIHNhbWUgcGFnZSwgZWFjaCBhcHBcbiAqIHdpbGwgY3JlYXRlIGl0cyBvd24gaW5zdGFuY2Ugb2YgdGhpcyBhcnJheSBhbmQgdGhlIGFwcCdzIElEc1xuICogd2lsbCBub3QgYmUgdW5pcXVlLlxuICovXG52YXIgbmV4dFVuaXF1ZUlkID0gWycwJywnMCcsJzAnXTtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuLmZhY3RvcnkoJyRtZFV0aWwnLCBbXCIkY2FjaGVGYWN0b3J5XCIsIFwiJGRvY3VtZW50XCIsIFwiJHRpbWVvdXRcIiwgXCIkcVwiLCBcIiRtZENvbnN0YW50XCIsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnksICRkb2N1bWVudCwgJHRpbWVvdXQsICRxLCAkbWRDb25zdGFudCkge1xuICB2YXIgVXRpbDtcblxuICBmdW5jdGlvbiBnZXROb2RlKGVsKSB7XG4gICAgcmV0dXJuIGVsWzBdIHx8IGVsO1xuICB9XG5cbiAgcmV0dXJuIFV0aWwgPSB7XG4gICAgbm93OiB3aW5kb3cucGVyZm9ybWFuY2UgP1xuICAgICAgYW5ndWxhci5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSwgd2luZG93LnBlcmZvcm1hbmNlLm5vdykgOiBcbiAgICAgIERhdGUubm93LFxuXG4gICAgY2xpZW50UmVjdDogZnVuY3Rpb24oZWxlbWVudCwgb2Zmc2V0UGFyZW50LCBpc09mZnNldFJlY3QpIHtcbiAgICAgIHZhciBub2RlID0gZ2V0Tm9kZShlbGVtZW50KTtcbiAgICAgIG9mZnNldFBhcmVudCA9IGdldE5vZGUob2Zmc2V0UGFyZW50IHx8IG5vZGUub2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50LmJvZHkpO1xuICAgICAgdmFyIG5vZGVSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgLy8gVGhlIHVzZXIgY2FuIGFzayBmb3IgYW4gb2Zmc2V0UmVjdDogYSByZWN0IHJlbGF0aXZlIHRvIHRoZSBvZmZzZXRQYXJlbnQsXG4gICAgICAvLyBvciBhIGNsaWVudFJlY3Q6IGEgcmVjdCByZWxhdGl2ZSB0byB0aGUgcGFnZVxuICAgICAgdmFyIG9mZnNldFJlY3QgPSBpc09mZnNldFJlY3QgP1xuICAgICAgICBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBcbiAgICAgICAgeyBsZWZ0OiAwLCB0b3A6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG5vZGVSZWN0LmxlZnQgLSBvZmZzZXRSZWN0LmxlZnQgKyBvZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgdG9wOiBub2RlUmVjdC50b3AgLSBvZmZzZXRSZWN0LnRvcCArIG9mZnNldFBhcmVudC5zY3JvbGxUb3AsXG4gICAgICAgIHdpZHRoOiBub2RlUmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBub2RlUmVjdC5oZWlnaHRcbiAgICAgIH07XG4gICAgfSxcbiAgICBvZmZzZXRSZWN0OiBmdW5jdGlvbihlbGVtZW50LCBvZmZzZXRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBVdGlsLmNsaWVudFJlY3QoZWxlbWVudCwgb2Zmc2V0UGFyZW50LCB0cnVlKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIE1vYmlsZSBzYWZhcmkgb25seSBhbGxvd3MgeW91IHRvIHNldCBmb2N1cyBpbiBjbGljayBldmVudCBsaXN0ZW5lcnMuLi5cbiAgICBmb3JjZUZvY3VzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBmb2N1c09uQ2xpY2soZXYpIHtcbiAgICAgICAgaWYgKGV2LnRhcmdldCA9PT0gbm9kZSAmJiBldi4kZm9jdXMpIHtcbiAgICAgICAgICBub2RlLmZvY3VzKCk7XG4gICAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9jdXNPbkNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgIHZhciBuZXdFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgbmV3RXZlbnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgZmFsc2UsIHRydWUsIHdpbmRvdywge30sIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgIG5ld0V2ZW50LiRtYXRlcmlhbCA9IHRydWU7XG4gICAgICBuZXdFdmVudC4kZm9jdXMgPSB0cnVlO1xuICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9LFxuXG4gICAgdHJhbnNpdGlvbkVuZFByb21pc2U6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICBlbGVtZW50Lm9uKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9ORU5ELCBmaW5pc2hlZCk7XG4gICAgICBmdW5jdGlvbiBmaW5pc2hlZChldikge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyB0cmFuc2l0aW9uZW5kIGRpZG4ndCBidWJibGUgdXAgZnJvbSBhIGNoaWxkXG4gICAgICAgIGlmIChldi50YXJnZXQgPT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICBlbGVtZW50Lm9mZigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgZmluaXNoZWQpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSxcblxuICAgIGZha2VOZ01vZGVsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRmYWtlOiB0cnVlLFxuICAgICAgICAkc2V0VG91Y2hlZCA6IGFuZ3VsYXIubm9vcCxcbiAgICAgICAgJHNldFZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLiRyZW5kZXIodmFsdWUpO1xuICAgICAgICAgIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihjYikgeyBjYigpOyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgJGlzRW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICgnJyt2YWx1ZSkubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VyczogW10sXG4gICAgICAgICRmb3JtYXR0ZXJzOiBbXSxcbiAgICAgICAgJHZpZXdDaGFuZ2VMaXN0ZW5lcnM6IFtdLFxuICAgICAgICAkcmVuZGVyOiBhbmd1bGFyLm5vb3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gICAgLy8gTiBtaWxsaXNlY29uZHMuXG4gICAgLy8gQHBhcmFtIHdhaXQgSW50ZWdlciB2YWx1ZSBvZiBtc2VjcyB0byBkZWxheSAoc2luY2UgbGFzdCBkZWJvdW5jZSByZXNldCk7IGRlZmF1bHQgdmFsdWUgMTAgbXNlY3NcbiAgICAvLyBAcGFyYW0gaW52b2tlQXBwbHkgc2hvdWxkIHRoZSAkdGltZW91dCB0cmlnZ2VyICRkaWdlc3QoKSBkaXJ0eSBjaGVja2luZ1xuICAgIGRlYm91bmNlOiBmdW5jdGlvbiAoZnVuYywgd2FpdCwgc2NvcGUsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgdGltZXI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gc2NvcGUsXG4gICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgIHRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cbiAgICAgICAgfSwgd2FpdCB8fCAxMCwgaW52b2tlQXBwbHkgKTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBvbmx5IGJlIHRyaWdnZXJlZCBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcy5cbiAgICAvLyBJbiBvdGhlciB3b3JkcywgdGhlIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgaXQgaGFzIGJlZW4gbW9yZVxuICAgIC8vIHRoYW4gYGRlbGF5YCBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgZGVsYXkpIHtcbiAgICAgIHZhciByZWNlbnQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gdGhyb3R0bGVkKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbm93ID0gVXRpbC5ub3coKTtcblxuICAgICAgICBpZiAoIXJlY2VudCB8fCAobm93IC0gcmVjZW50ID4gZGVsYXkpKSB7XG4gICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICByZWNlbnQgPSBub3c7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRha2VuIHRvIHJ1biB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbi4gVXNlcyBhIGhpZ2gtcHJlY2lzaW9uIHRpbWVyIGlmIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKGNiKSB7XG4gICAgICB2YXIgc3RhcnQgPSBVdGlsLm5vdygpO1xuICAgICAgY2IoKTtcbiAgICAgIHJldHVybiBVdGlsLm5vdygpIC0gc3RhcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG5leHRVaWQsIGZyb20gYW5ndWxhci5qcy5cbiAgICAgKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci4gVGhlIElEIGlzIGEgc2VxdWVuY2Ugb2YgYWxwaGEgbnVtZXJpY1xuICAgICAqIGNoYXJhY3RlcnMgc3VjaCBhcyAnMDEyQUJDJy4gVGhlIHJlYXNvbiB3aHkgd2UgYXJlIG5vdCB1c2luZyBzaW1wbHkgYSBudW1iZXIgY291bnRlciBpcyB0aGF0XG4gICAgICogdGhlIG51bWJlciBzdHJpbmcgZ2V0cyBsb25nZXIgb3ZlciB0aW1lLCBhbmQgaXQgY2FuIGFsc28gb3ZlcmZsb3csIHdoZXJlIGFzIHRoZSBuZXh0SWRcbiAgICAgKiB3aWxsIGdyb3cgbXVjaCBzbG93ZXIsIGl0IGlzIGEgc3RyaW5nLCBhbmQgaXQgd2lsbCBuZXZlciBvdmVyZmxvdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIHVuaXF1ZSBhbHBoYS1udW1lcmljIHN0cmluZ1xuICAgICAqL1xuICAgIG5leHRVaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZGV4ID0gbmV4dFVuaXF1ZUlkLmxlbmd0aDtcbiAgICAgIHZhciBkaWdpdDtcblxuICAgICAgd2hpbGUoaW5kZXgpIHtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgZGlnaXQgPSBuZXh0VW5pcXVlSWRbaW5kZXhdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChkaWdpdCA9PSA1NyAvKic5JyovKSB7XG4gICAgICAgICAgbmV4dFVuaXF1ZUlkW2luZGV4XSA9ICdBJztcbiAgICAgICAgICByZXR1cm4gbmV4dFVuaXF1ZUlkLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWdpdCA9PSA5MCAgLyonWicqLykge1xuICAgICAgICAgIG5leHRVbmlxdWVJZFtpbmRleF0gPSAnMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dFVuaXF1ZUlkW2luZGV4XSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGlnaXQgKyAxKTtcbiAgICAgICAgICByZXR1cm4gbmV4dFVuaXF1ZUlkLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0VW5pcXVlSWQudW5zaGlmdCgnMCcpO1xuICAgICAgcmV0dXJuIG5leHRVbmlxdWVJZC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLy8gU3RvcCB3YXRjaGVycyBhbmQgZXZlbnRzIGZyb20gZmlyaW5nIG9uIGEgc2NvcGUgd2l0aG91dCBkZXN0cm95aW5nIGl0LFxuICAgIC8vIGJ5IGRpc2Nvbm5lY3RpbmcgaXQgZnJvbSBpdHMgcGFyZW50IGFuZCBpdHMgc2libGluZ3MnIGxpbmtlZCBsaXN0cy5cbiAgICBkaXNjb25uZWN0U2NvcGU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3RTY29wZShzY29wZSkge1xuICAgICAgaWYgKCFzY29wZSkgcmV0dXJuO1xuXG4gICAgICAvLyB3ZSBjYW4ndCBkZXN0cm95IHRoZSByb290IHNjb3BlIG9yIGEgc2NvcGUgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGRlc3Ryb3llZFxuICAgICAgaWYgKHNjb3BlLiRyb290ID09PSBzY29wZSkgcmV0dXJuO1xuICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkICkgcmV0dXJuO1xuXG4gICAgICB2YXIgcGFyZW50ID0gc2NvcGUuJHBhcmVudDtcbiAgICAgIHNjb3BlLiQkZGlzY29ubmVjdGVkID0gdHJ1ZTtcblxuICAgICAgLy8gU2VlIFNjb3BlLiRkZXN0cm95XG4gICAgICBpZiAocGFyZW50LiQkY2hpbGRIZWFkID09PSBzY29wZSkgcGFyZW50LiQkY2hpbGRIZWFkID0gc2NvcGUuJCRuZXh0U2libGluZztcbiAgICAgIGlmIChwYXJlbnQuJCRjaGlsZFRhaWwgPT09IHNjb3BlKSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBzY29wZS4kJHByZXZTaWJsaW5nO1xuICAgICAgaWYgKHNjb3BlLiQkcHJldlNpYmxpbmcpIHNjb3BlLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZyA9IHNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICBpZiAoc2NvcGUuJCRuZXh0U2libGluZykgc2NvcGUuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gc2NvcGUuJCRwcmV2U2libGluZztcblxuICAgICAgc2NvcGUuJCRuZXh0U2libGluZyA9IHNjb3BlLiQkcHJldlNpYmxpbmcgPSBudWxsO1xuXG4gICAgfSxcblxuICAgIC8vIFVuZG8gdGhlIGVmZmVjdHMgb2YgZGlzY29ubmVjdFNjb3BlIGFib3ZlLlxuICAgIHJlY29ubmVjdFNjb3BlOiBmdW5jdGlvbiByZWNvbm5lY3RTY29wZShzY29wZSkge1xuICAgICAgaWYgKCFzY29wZSkgcmV0dXJuO1xuXG4gICAgICAvLyB3ZSBjYW4ndCBkaXNjb25uZWN0IHRoZSByb290IG5vZGUgb3Igc2NvcGUgYWxyZWFkeSBkaXNjb25uZWN0ZWRcbiAgICAgIGlmIChzY29wZS4kcm9vdCA9PT0gc2NvcGUpIHJldHVybjtcbiAgICAgIGlmICghc2NvcGUuJCRkaXNjb25uZWN0ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGNoaWxkID0gc2NvcGU7XG5cbiAgICAgIHZhciBwYXJlbnQgPSBjaGlsZC4kcGFyZW50O1xuICAgICAgY2hpbGQuJCRkaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIFNlZSBTY29wZS4kbmV3IGZvciB0aGlzIGxvZ2ljLi4uXG4gICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xuICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwuJCRuZXh0U2libGluZyA9IGNoaWxkO1xuICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC4kJGNoaWxkSGVhZCA9IHBhcmVudC4kJGNoaWxkVGFpbCA9IGNoaWxkO1xuICAgICAgfVxuICAgIH0sXG4gIC8qXG4gICAqIGdldENsb3Nlc3QgcmVwbGljYXRlcyBqUXVlcnkuY2xvc2VzdCgpIHRvIHdhbGsgdXAgdGhlIERPTSB0cmVlIHVudGlsIGl0IGZpbmRzIGEgbWF0Y2hpbmcgbm9kZU5hbWVcbiAgICpcbiAgICogQHBhcmFtIGVsIEVsZW1lbnQgdG8gc3RhcnQgd2Fsa2luZyB0aGUgRE9NIGZyb21cbiAgICogQHBhcmFtIHRhZ05hbWUgVGFnIG5hbWUgdG8gZmluZCBjbG9zZXN0IHRvIGVsLCBzdWNoIGFzICdmb3JtJ1xuICAgKi9cbiAgICBnZXRDbG9zZXN0OiBmdW5jdGlvbiBnZXRDbG9zZXN0KGVsLCB0YWdOYW1lKSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoZWwubm9kZU5hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsID0gZWwucGFyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbn1dKTtcblxuLypcbiAqIFNpbmNlIHJlbW92aW5nIGpRdWVyeSBmcm9tIHRoZSBkZW1vcywgc29tZSBjb2RlIHRoYXQgdXNlcyBgZWxlbWVudC5mb2N1cygpYCBpcyBicm9rZW4uXG4gKlxuICogV2UgbmVlZCB0byBhZGQgYGVsZW1lbnQuZm9jdXMoKWAsIGJlY2F1c2UgaXQncyB0ZXN0YWJsZSB1bmxpa2UgYGVsZW1lbnRbMF0uZm9jdXNgLlxuICpcbiAqIFRPRE8oYWpvc2xpbik6IFRoaXMgc2hvdWxkIGJlIGFkZGVkIGluIGEgYmV0dGVyIHBsYWNlIGxhdGVyLlxuICovXG5cbmFuZ3VsYXIuZWxlbWVudC5wcm90b3R5cGUuZm9jdXMgPSBhbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzIHx8IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5sZW5ndGgpIHtcbiAgICB0aGlzWzBdLmZvY3VzKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5ibHVyID0gYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5ibHVyIHx8IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5sZW5ndGgpIHtcbiAgICB0aGlzWzBdLmJsdXIoKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgLnNlcnZpY2UoJyRtZEFyaWEnLCBBcmlhU2VydmljZSk7XG5cbmZ1bmN0aW9uIEFyaWFTZXJ2aWNlKCQkckFGLCAkbG9nLCAkd2luZG93KSB7XG5cbiAgcmV0dXJuIHtcbiAgICBleHBlY3Q6IGV4cGVjdCxcbiAgICBleHBlY3RBc3luYzogZXhwZWN0QXN5bmMsXG4gICAgZXhwZWN0V2l0aFRleHQ6IGV4cGVjdFdpdGhUZXh0XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGV4cGVjdGVkIGF0dHJpYnV0ZSBoYXMgYmVlbiBzcGVjaWZpZWQgb24gdGhlIHRhcmdldCBlbGVtZW50IG9yIGNoaWxkXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEBwYXJhbSBhdHRyTmFtZVxuICAgKiBAcGFyYW0ge29wdGlvbmFsfSBkZWZhdWx0VmFsdWUgV2hhdCB0byBzZXQgdGhlIGF0dHIgdG8gaWYgbm8gdmFsdWUgaXMgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIGV4cGVjdChlbGVtZW50LCBhdHRyTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuXG4gICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShhdHRyTmFtZSkgJiYgIWNoaWxkSGFzQXR0cmlidXRlKG5vZGUsIGF0dHJOYW1lKSkge1xuXG4gICAgICBkZWZhdWx0VmFsdWUgPSBhbmd1bGFyLmlzU3RyaW5nKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUudHJpbSgpIDogJyc7XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbG9nLndhcm4oJ0FSSUE6IEF0dHJpYnV0ZSBcIicsIGF0dHJOYW1lLCAnXCIsIHJlcXVpcmVkIGZvciBhY2Nlc3NpYmlsaXR5LCBpcyBtaXNzaW5nIG9uIG5vZGU6Jywgbm9kZSk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RBc3luYyhlbGVtZW50LCBhdHRyTmFtZSwgZGVmYXVsdFZhbHVlR2V0dGVyKSB7XG4gICAgLy8gUHJvYmxlbTogd2hlbiByZXRyaWV2aW5nIHRoZSBlbGVtZW50J3MgY29udGVudHMgc3luY2hyb25vdXNseSB0byBmaW5kIHRoZSBsYWJlbCxcbiAgICAvLyB0aGUgdGV4dCBtYXkgbm90IGJlIGRlZmluZWQgeWV0IGluIHRoZSBjYXNlIG9mIGEgYmluZGluZy5cbiAgICAvLyBUaGVyZSBpcyBhIGhpZ2hlciBjaGFuY2UgdGhhdCBhIGJpbmRpbmcgd2lsbCBiZSBkZWZpbmVkIGlmIHdlIHdhaXQgb25lIGZyYW1lLlxuICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KGVsZW1lbnQsIGF0dHJOYW1lLCBkZWZhdWx0VmFsdWVHZXR0ZXIoKSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RXaXRoVGV4dChlbGVtZW50LCBhdHRyTmFtZSkge1xuICAgIGV4cGVjdEFzeW5jKGVsZW1lbnQsIGF0dHJOYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRUZXh0KGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQudGV4dCgpLnRyaW0oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoaWxkSGFzQXR0cmlidXRlKG5vZGUsIGF0dHJOYW1lKSB7XG4gICAgdmFyIGhhc0NoaWxkcmVuID0gbm9kZS5oYXNDaGlsZE5vZGVzKCksXG4gICAgICAgIGhhc0F0dHIgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGlzSGlkZGVuKGVsKSB7XG4gICAgICB2YXIgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGUgPyBlbC5jdXJyZW50U3R5bGUgOiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgcmV0dXJuIChzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpO1xuICAgIH1cblxuICAgIGlmKGhhc0NoaWxkcmVuKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICBmb3IodmFyIGk9MDsgaTxjaGlsZHJlbi5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZihjaGlsZC5ub2RlVHlwZSA9PT0gMSAmJiBjaGlsZC5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgaWYoIWlzSGlkZGVuKGNoaWxkKSl7XG4gICAgICAgICAgICBoYXNBdHRyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc0F0dHI7XG4gIH1cbn1cbkFyaWFTZXJ2aWNlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRsb2dcIiwgXCIkd2luZG93XCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAuc2VydmljZSgnJG1kQ29tcGlsZXInLCBtZENvbXBpbGVyU2VydmljZSk7XG5cbmZ1bmN0aW9uIG1kQ29tcGlsZXJTZXJ2aWNlKCRxLCAkaHR0cCwgJGluamVjdG9yLCAkY29tcGlsZSwgJGNvbnRyb2xsZXIsICR0ZW1wbGF0ZUNhY2hlKSB7XG4gIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cblxuICAvKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkbWRDb21waWxlclxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSAkbWRDb21waWxlciBzZXJ2aWNlIGlzIGFuIGFic3RyYWN0aW9uIG9mIGFuZ3VsYXIncyBjb21waWxlciwgdGhhdCBhbGxvd3MgdGhlIGRldmVsb3BlclxuICAgKiB0byBlYXNpbHkgY29tcGlsZSBhbiBlbGVtZW50IHdpdGggYSB0ZW1wbGF0ZVVybCwgY29udHJvbGxlciwgYW5kIGxvY2Fscy5cbiAgICpcbiAgICogQHVzYWdlXG4gICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgKiAkbWRDb21waWxlci5jb21waWxlKHtcbiAgICogICB0ZW1wbGF0ZVVybDogJ21vZGFsLmh0bWwnLFxuICAgKiAgIGNvbnRyb2xsZXI6ICdNb2RhbEN0cmwnLFxuICAgKiAgIGxvY2Fsczoge1xuICAgKiAgICAgbW9kYWw6IG15TW9kYWxJbnN0YW5jZTtcbiAgICogICB9XG4gICAqIH0pLnRoZW4oZnVuY3Rpb24oY29tcGlsZURhdGEpIHtcbiAgICogICBjb21waWxlRGF0YS5lbGVtZW50OyAvLyBtb2RhbC5odG1sJ3MgdGVtcGxhdGUgaW4gYW4gZWxlbWVudFxuICAgKiAgIGNvbXBpbGVEYXRhLmxpbmsobXlTY29wZSk7IC8vYXR0YWNoIGNvbnRyb2xsZXIgJiBzY29wZSB0byBlbGVtZW50XG4gICAqIH0pO1xuICAgKiA8L2hsanM+XG4gICAqL1xuXG4gICAvKlxuICAgICogQG5nZG9jIG1ldGhvZFxuICAgICogQG5hbWUgJG1kQ29tcGlsZXIjY29tcGlsZVxuICAgICogQGRlc2NyaXB0aW9uIEEgaGVscGVyIHRvIGNvbXBpbGUgYW4gSFRNTCB0ZW1wbGF0ZS90ZW1wbGF0ZVVybCB3aXRoIGEgZ2l2ZW4gY29udHJvbGxlcixcbiAgICAqIGxvY2FscywgYW5kIHNjb3BlLlxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QsIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICpcbiAgICAqICAgIC0gYGNvbnRyb2xsZXJgIC0gYHsoc3RyaW5nPXxmdW5jdGlvbigpPX1gIENvbnRyb2xsZXIgZm4gdGhhdCBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoXG4gICAgKiAgICAgIG5ld2x5IGNyZWF0ZWQgc2NvcGUgb3IgdGhlIG5hbWUgb2YgYSByZWdpc3RlcmVkIGNvbnRyb2xsZXIgaWYgcGFzc2VkIGFzIGEgc3RyaW5nLlxuICAgICogICAgLSBgY29udHJvbGxlckFzYCAtIGB7c3RyaW5nPX1gIEEgY29udHJvbGxlciBhbGlhcyBuYW1lLiBJZiBwcmVzZW50IHRoZSBjb250cm9sbGVyIHdpbGwgYmVcbiAgICAqICAgICAgcHVibGlzaGVkIHRvIHNjb3BlIHVuZGVyIHRoZSBgY29udHJvbGxlckFzYCBuYW1lLlxuICAgICogICAgLSBgdGVtcGxhdGVgIC0gYHtzdHJpbmc9fWAgQW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZy5cbiAgICAqICAgIC0gYHRlbXBsYXRlVXJsYCAtIGB7c3RyaW5nPX1gIEEgcGF0aCB0byBhbiBodG1sIHRlbXBsYXRlLlxuICAgICogICAgLSBgdHJhbnNmb3JtVGVtcGxhdGVgIC0gYHtmdW5jdGlvbih0ZW1wbGF0ZSk9fWAgQSBmdW5jdGlvbiB3aGljaCB0cmFuc2Zvcm1zIHRoZSB0ZW1wbGF0ZSBhZnRlclxuICAgICogICAgICBpdCBpcyBsb2FkZWQuIEl0IHdpbGwgYmUgZ2l2ZW4gdGhlIHRlbXBsYXRlIHN0cmluZyBhcyBhIHBhcmFtZXRlciwgYW5kIHNob3VsZFxuICAgICogICAgICByZXR1cm4gYSBhIG5ldyBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB0cmFuc2Zvcm1lZCB0ZW1wbGF0ZS5cbiAgICAqICAgIC0gYHJlc29sdmVgIC0gYHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+PX1gIC0gQW4gb3B0aW9uYWwgbWFwIG9mIGRlcGVuZGVuY2llcyB3aGljaCBzaG91bGRcbiAgICAqICAgICAgYmUgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci4gSWYgYW55IG9mIHRoZXNlIGRlcGVuZGVuY2llcyBhcmUgcHJvbWlzZXMsIHRoZSBjb21waWxlclxuICAgICogICAgICB3aWxsIHdhaXQgZm9yIHRoZW0gYWxsIHRvIGJlIHJlc29sdmVkLCBvciBpZiBvbmUgaXMgcmVqZWN0ZWQgYmVmb3JlIHRoZSBjb250cm9sbGVyIGlzXG4gICAgKiAgICAgIGluc3RhbnRpYXRlZCBgY29tcGlsZSgpYCB3aWxsIGZhaWwuLlxuICAgICogICAgICAqIGBrZXlgIC0gYHtzdHJpbmd9YDogYSBuYW1lIG9mIGEgZGVwZW5kZW5jeSB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLlxuICAgICogICAgICAqIGBmYWN0b3J5YCAtIGB7c3RyaW5nfGZ1bmN0aW9ufWA6IElmIGBzdHJpbmdgIHRoZW4gaXQgaXMgYW4gYWxpYXMgZm9yIGEgc2VydmljZS5cbiAgICAqICAgICAgICBPdGhlcndpc2UgaWYgZnVuY3Rpb24sIHRoZW4gaXQgaXMgaW5qZWN0ZWQgYW5kIHRoZSByZXR1cm4gdmFsdWUgaXMgdHJlYXRlZCBhcyB0aGVcbiAgICAqICAgICAgICBkZXBlbmRlbmN5LiBJZiB0aGUgcmVzdWx0IGlzIGEgcHJvbWlzZSwgaXQgaXMgcmVzb2x2ZWQgYmVmb3JlIGl0cyB2YWx1ZSBpcyBcbiAgICAqICAgICAgICBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtvYmplY3Q9fSBwcm9taXNlIEEgcHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCB3aXRoIGEgYGNvbXBpbGVEYXRhYCBvYmplY3QuXG4gICAgKiBgY29tcGlsZURhdGFgIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6IFxuICAgICpcbiAgICAqICAgLSBgZWxlbWVudGAgLSBge2VsZW1lbnR9YDogYW4gdW5jb21waWxlZCBlbGVtZW50IG1hdGNoaW5nIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZS5cbiAgICAqICAgLSBgbGlua2AgLSBge2Z1bmN0aW9uKHNjb3BlKX1gOiBBIGxpbmsgZnVuY3Rpb24sIHdoaWNoLCB3aGVuIGNhbGxlZCwgd2lsbCBjb21waWxlXG4gICAgKiAgICAgdGhlIGVsZW1lbnQgYW5kIGluc3RhbnRpYXRlIHRoZSBwcm92aWRlZCBjb250cm9sbGVyIChpZiBnaXZlbikuXG4gICAgKiAgIC0gYGxvY2Fsc2AgLSBge29iamVjdH1gOiBUaGUgbG9jYWxzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIGludG8gdGhlIGNvbnRyb2xsZXIgb25jZSBgbGlua2AgaXNcbiAgICAqICAgICBjYWxsZWQuIElmIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnVlLCB0aGV5IHdpbGwgYmUgY29wcGllZCB0byB0aGUgY3RybCBpbnN0ZWFkXG4gICAgKiAgIC0gYGJpbmRUb0NvbnRyb2xsZXJgIC0gYGJvb2xgOiBiaW5kIHRoZSBsb2NhbHMgdG8gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQgb2YgcGFzc2luZyB0aGVtIGluXG4gICAgKi9cbiAgdGhpcy5jb21waWxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciB0ZW1wbGF0ZVVybCA9IG9wdGlvbnMudGVtcGxhdGVVcmw7XG4gICAgdmFyIHRlbXBsYXRlID0gb3B0aW9ucy50ZW1wbGF0ZSB8fCAnJztcbiAgICB2YXIgY29udHJvbGxlciA9IG9wdGlvbnMuY29udHJvbGxlcjtcbiAgICB2YXIgY29udHJvbGxlckFzID0gb3B0aW9ucy5jb250cm9sbGVyQXM7XG4gICAgdmFyIHJlc29sdmUgPSBvcHRpb25zLnJlc29sdmUgfHwge307XG4gICAgdmFyIGxvY2FscyA9IG9wdGlvbnMubG9jYWxzIHx8IHt9O1xuICAgIHZhciB0cmFuc2Zvcm1UZW1wbGF0ZSA9IG9wdGlvbnMudHJhbnNmb3JtVGVtcGxhdGUgfHwgYW5ndWxhci5pZGVudGl0eTtcbiAgICB2YXIgYmluZFRvQ29udHJvbGxlciA9IG9wdGlvbnMuYmluZFRvQ29udHJvbGxlcjtcblxuICAgIC8vIFRha2UgcmVzb2x2ZSB2YWx1ZXMgYW5kIGludm9rZSB0aGVtLiAgXG4gICAgLy8gUmVzb2x2ZXMgY2FuIGVpdGhlciBiZSBhIHN0cmluZyAodmFsdWU6ICdNeVJlZ2lzdGVyZWRBbmd1bGFyQ29uc3QnKSxcbiAgICAvLyBvciBhbiBpbnZva2FibGUgJ2ZhY3RvcnknIG9mIHNvcnRzOiAodmFsdWU6IGZ1bmN0aW9uIFZhbHVlR2V0dGVyKCRkZXBlbmRlbmN5KSB7fSlcbiAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJlc29sdmVba2V5XSA9ICRpbmplY3Rvci5nZXQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZVtrZXldID0gJGluamVjdG9yLmludm9rZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9BZGQgdGhlIGxvY2Fscywgd2hpY2ggYXJlIGp1c3Qgc3RyYWlnaHQgdmFsdWVzIHRvIGluamVjdFxuICAgIC8vZWcgbG9jYWxzOiB7IHRocmVlOiAzIH0sIHdpbGwgaW5qZWN0IHRocmVlIGludG8gdGhlIGNvbnRyb2xsZXJcbiAgICBhbmd1bGFyLmV4dGVuZChyZXNvbHZlLCBsb2NhbHMpO1xuXG4gICAgaWYgKHRlbXBsYXRlVXJsKSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRodHRwLmdldCh0ZW1wbGF0ZVVybCwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRxLndoZW4odGVtcGxhdGUpO1xuICAgIH1cblxuICAgIC8vIFdhaXQgZm9yIGFsbCB0aGUgcmVzb2x2ZXMgdG8gZmluaXNoIGlmIHRoZXkgYXJlIHByb21pc2VzXG4gICAgcmV0dXJuICRxLmFsbChyZXNvbHZlKS50aGVuKGZ1bmN0aW9uKGxvY2Fscykge1xuXG4gICAgICB2YXIgdGVtcGxhdGUgPSB0cmFuc2Zvcm1UZW1wbGF0ZShsb2NhbHMuJHRlbXBsYXRlKTtcbiAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PicpLmh0bWwodGVtcGxhdGUudHJpbSgpKS5jb250ZW50cygpO1xuICAgICAgdmFyIGxpbmtGbiA9ICRjb21waWxlKGVsZW1lbnQpO1xuXG4gICAgICAvL1JldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCBsYXRlciB3aGVuIHRoZSBlbGVtZW50IGlzIHJlYWR5XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbHM6IGxvY2FscyxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSkge1xuICAgICAgICAgIGxvY2Fscy4kc2NvcGUgPSBzY29wZTtcblxuICAgICAgICAgIC8vSW5zdGFudGlhdGUgY29udHJvbGxlciBpZiBpdCBleGlzdHMsIGJlY2F1c2Ugd2UgaGF2ZSBzY29wZVxuICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgY3RybCA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGxvY2Fscyk7XG4gICAgICAgICAgICBpZiAoYmluZFRvQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjdHJsLCBsb2NhbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9TZWUgYW5ndWxhci1yb3V0ZSBzb3VyY2UgZm9yIHRoaXMgbG9naWNcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjdHJsKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2hpbGRyZW4oKS5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGN0cmwpO1xuXG4gICAgICAgICAgICBpZiAoY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgIHNjb3BlW2NvbnRyb2xsZXJBc10gPSBjdHJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIH07XG59XG5tZENvbXBpbGVyU2VydmljZS4kaW5qZWN0ID0gW1wiJHFcIiwgXCIkaHR0cFwiLCBcIiRpbmplY3RvclwiLCBcIiRjb21waWxlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCIkdGVtcGxhdGVDYWNoZVwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBUT0RPOiBBZGQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgZmluZ2VycyBvbiB0aGUgYHBvaW50ZXJgIG9iamVjdCAoZW5hYmxlcyBwaW5jaCBnZXN0dXJlKVxuICovXG5cbnZhciBTVEFSVF9FVkVOVFMgPSAnbW91c2Vkb3duIHRvdWNoc3RhcnQgcG9pbnRlcmRvd24nO1xudmFyIE1PVkVfRVZFTlRTID0gJ21vdXNlbW92ZSB0b3VjaG1vdmUgcG9pbnRlcm1vdmUnO1xudmFyIEVORF9FVkVOVFMgPSAnbW91c2V1cCBtb3VzZWxlYXZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcbnZhciBIQU5ETEVSUztcblxuZG9jdW1lbnQuY29udGFpbnMgfHwgKGRvY3VtZW50LmNvbnRhaW5zID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5jb250YWlucyhub2RlKTtcbn0pO1xuXG4vLyBUT0RPIGFkZCB3aW5kb3dzIHBob25lIHRvIHRoaXNcbnZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhO1xudmFyIGlzSW9zID0gdXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKTtcbnZhciBpc0FuZHJvaWQgPSB1c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSk7XG52YXIgc2hvdWxkSGlqYWNrQ2xpY2tzID0gaXNJb3MgfHwgaXNBbmRyb2lkO1xuXG5pZiAoc2hvdWxkSGlqYWNrQ2xpY2tzKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXYpIHtcbiAgICAvLyBTcGFjZS9lbnRlciBvbiBhIGJ1dHRvbiwgYW5kIHN1Ym1pdCBldmVudHMsIGNhbiBzZW5kIGNsaWNrc1xuICAgIHZhciBpc0tleUNsaWNrID0gZXYuY2xpZW50WCA9PT0gMCAmJiBldi5jbGllbnRZID09PSAwO1xuICAgIGlmIChpc0tleUNsaWNrIHx8IGV2LiRtYXRlcmlhbCkgcmV0dXJuO1xuXG4gICAgLy8gUHJldmVudCBjbGlja3MgdW5sZXNzIHRoZXkncmUgc2VudCBieSBtYXRlcmlhbFxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0sIHRydWUpO1xufVxuXG5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpXG4gIC5vbihTVEFSVF9FVkVOVFMsIGdlc3R1cmVTdGFydClcbiAgLm9uKE1PVkVfRVZFTlRTLCBnZXN0dXJlTW92ZSlcbiAgLm9uKEVORF9FVkVOVFMsIGdlc3R1cmVFbmQpXG4gIC8vIEZvciB0ZXN0aW5nXG4gIC5vbignJCRtZEdlc3R1cmVSZXNldCcsIGZ1bmN0aW9uKCkge1xuICAgIGxhc3RQb2ludGVyID0gcG9pbnRlciA9IG51bGw7XG4gIH0pO1xuXG4vLyBUaGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgYW5kIHByZXZpb3VzICdwb2ludGVyJyAodXNlcidzIGhhbmQpXG52YXIgcG9pbnRlciwgbGFzdFBvaW50ZXI7XG5cbmZ1bmN0aW9uIHJ1bkhhbmRsZXJzKGhhbmRsZXJFdmVudCwgZXZlbnQpIHtcbiAgdmFyIGhhbmRsZXI7XG4gIGZvciAodmFyIGhhbmRsZXJOYW1lIGluIEhBTkRMRVJTKSB7XG4gICAgaGFuZGxlciA9IEhBTkRMRVJTW2hhbmRsZXJOYW1lXTtcbiAgICBpZiAoaGFuZGxlckV2ZW50ID09PSAnc3RhcnQnKSB7XG4gICAgICAvLyBSdW4gY2FuY2VsIHRvIHJlc2V0IGFueSBoYW5kbGVycycgc3RhdGVcbiAgICAgIGhhbmRsZXIuY2FuY2VsKCk7XG4gICAgfVxuICAgIGhhbmRsZXJbaGFuZGxlckV2ZW50XShldmVudCwgcG9pbnRlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VzdHVyZVN0YXJ0KGV2KSB7XG4gIC8vIElmIHdlJ3JlIGFscmVhZHkgdG91Y2hlZCBkb3duLCBhYm9ydFxuICBpZiAocG9pbnRlcikgcmV0dXJuO1xuXG4gIHZhciBub3cgPSArRGF0ZS5ub3coKTtcblxuICAvLyBpT1MgJiBvbGQgYW5kcm9pZCBidWc6IGFmdGVyIGEgdG91Y2ggZXZlbnQsIGEgY2xpY2sgZXZlbnQgaXMgc2VudCAzNTAgbXMgbGF0ZXIuXG4gIC8vIElmIDw0MDBtcyBoYXZlIHBhc3NlZCwgZG9uJ3QgYWxsb3cgYW4gZXZlbnQgb2YgYSBkaWZmZXJlbnQgdHlwZSB0aGFuIHRoZSBwcmV2aW91cyBldmVudFxuICBpZiAobGFzdFBvaW50ZXIgJiYgIXR5cGVzTWF0Y2goZXYsIGxhc3RQb2ludGVyKSAmJiAobm93IC0gbGFzdFBvaW50ZXIuZW5kVGltZSA8IDE1MDApKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcG9pbnRlciA9IG1ha2VTdGFydFBvaW50ZXIoZXYpO1xuXG4gIHJ1bkhhbmRsZXJzKCdzdGFydCcsIGV2KTtcbn1cblxuZnVuY3Rpb24gZ2VzdHVyZU1vdmUoZXYpIHtcbiAgaWYgKCFwb2ludGVyIHx8ICF0eXBlc01hdGNoKGV2LCBwb2ludGVyKSkgcmV0dXJuO1xuXG4gIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgcG9pbnRlcik7XG4gIHJ1bkhhbmRsZXJzKCdtb3ZlJywgZXYpO1xufVxuXG5mdW5jdGlvbiBnZXN0dXJlRW5kKGV2KSB7XG4gIGlmICghcG9pbnRlciB8fCAhdHlwZXNNYXRjaChldiwgcG9pbnRlcikpIHJldHVybjtcblxuICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpO1xuICBwb2ludGVyLmVuZFRpbWUgPSArRGF0ZS5ub3coKTtcblxuICBydW5IYW5kbGVycygnZW5kJywgZXYpO1xuXG4gIGxhc3RQb2ludGVyID0gcG9pbnRlcjtcbiAgcG9pbnRlciA9IG51bGw7XG59XG5cbi8qKioqKioqKiBIZWxwZXJzICoqKioqKioqKi9cbmZ1bmN0aW9uIHR5cGVzTWF0Y2goZXYsIHBvaW50ZXIpIHtcbiAgcmV0dXJuIGV2ICYmIHBvaW50ZXIgJiYgZXYudHlwZS5jaGFyQXQoMCkgPT09IHBvaW50ZXIudHlwZTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRQb2ludChldikge1xuICBldiA9IGV2Lm9yaWdpbmFsRXZlbnQgfHwgZXY7IC8vIHN1cHBvcnQgalF1ZXJ5IGV2ZW50c1xuICByZXR1cm4gKGV2LnRvdWNoZXMgJiYgZXYudG91Y2hlc1swXSkgfHxcbiAgICAoZXYuY2hhbmdlZFRvdWNoZXMgJiYgZXYuY2hhbmdlZFRvdWNoZXNbMF0pIHx8XG4gICAgZXY7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgcG9pbnRlcikge1xuICB2YXIgcG9pbnQgPSBnZXRFdmVudFBvaW50KGV2KTtcbiAgdmFyIHggPSBwb2ludGVyLnggPSBwb2ludC5wYWdlWDtcbiAgdmFyIHkgPSBwb2ludGVyLnkgPSBwb2ludC5wYWdlWTtcblxuICBwb2ludGVyLmRpc3RhbmNlWCA9IHggLSBwb2ludGVyLnN0YXJ0WDtcbiAgcG9pbnRlci5kaXN0YW5jZVkgPSB5IC0gcG9pbnRlci5zdGFydFk7XG4gIHBvaW50ZXIuZGlzdGFuY2UgPSBNYXRoLnNxcnQoXG4gICAgcG9pbnRlci5kaXN0YW5jZVggKiBwb2ludGVyLmRpc3RhbmNlWCArIHBvaW50ZXIuZGlzdGFuY2VZICogcG9pbnRlci5kaXN0YW5jZVlcbiAgKTtcblxuICBwb2ludGVyLmRpcmVjdGlvblggPSBwb2ludGVyLmRpc3RhbmNlWCA+IDAgPyAncmlnaHQnIDogcG9pbnRlci5kaXN0YW5jZVggPCAwID8gJ2xlZnQnIDogJyc7XG4gIHBvaW50ZXIuZGlyZWN0aW9uWSA9IHBvaW50ZXIuZGlzdGFuY2VZID4gMCA/ICd1cCcgOiBwb2ludGVyLmRpc3RhbmNlWSA8IDAgPyAnZG93bicgOiAnJztcblxuICBwb2ludGVyLmR1cmF0aW9uID0gK0RhdGUubm93KCkgLSBwb2ludGVyLnN0YXJ0VGltZTtcbiAgcG9pbnRlci52ZWxvY2l0eVggPSBwb2ludGVyLmRpc3RhbmNlWCAvIHBvaW50ZXIuZHVyYXRpb247XG4gIHBvaW50ZXIudmVsb2NpdHlZID0gcG9pbnRlci5kaXN0YW5jZVkgLyBwb2ludGVyLmR1cmF0aW9uO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VTdGFydFBvaW50ZXIoZXYpIHtcbiAgdmFyIHBvaW50ID0gZ2V0RXZlbnRQb2ludChldik7XG4gIHZhciBzdGFydFBvaW50ZXIgPSB7XG4gICAgc3RhcnRUaW1lOiArRGF0ZS5ub3coKSxcbiAgICB0YXJnZXQ6IGV2LnRhcmdldCxcbiAgICAvLyAncCcgZm9yIHBvaW50ZXIsICdtJyBmb3IgbW91c2UsICd0JyBmb3IgdG91Y2hcbiAgICB0eXBlOiBldi50eXBlLmNoYXJBdCgwKVxuICB9O1xuICBzdGFydFBvaW50ZXIuc3RhcnRYID0gc3RhcnRQb2ludGVyLnggPSBwb2ludC5wYWdlWDtcbiAgc3RhcnRQb2ludGVyLnN0YXJ0WSA9IHN0YXJ0UG9pbnRlci55ID0gcG9pbnQucGFnZVk7XG4gIHJldHVybiBzdGFydFBvaW50ZXI7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbi5ydW4oW1wiJG1kR2VzdHVyZVwiLCBmdW5jdGlvbigkbWRHZXN0dXJlKSB7fV0pIC8vIG1ha2Ugc3VyZSAkbWRHZXN0dXJlIGlzIGFsd2F5cyBpbnN0YW50aWF0ZWRcbi5mYWN0b3J5KCckbWRHZXN0dXJlJywgW1wiJCRNZEdlc3R1cmVIYW5kbGVyXCIsIFwiJCRyQUZcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbigkJE1kR2VzdHVyZUhhbmRsZXIsICQkckFGLCAkdGltZW91dCkge1xuICBIQU5ETEVSUyA9IHt9O1xuXG4gIGlmIChzaG91bGRIaWphY2tDbGlja3MpIHtcbiAgICBhZGRIYW5kbGVyKCdjbGljaycsIHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgbWF4RGlzdGFuY2U6IDZcbiAgICAgIH0sXG4gICAgICBvbkVuZDogZnVuY3Rpb24oZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgaWYgKHBvaW50ZXIuZGlzdGFuY2UgPCB0aGlzLnN0YXRlLm9wdGlvbnMubWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICdjbGljaycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhZGRIYW5kbGVyKCdwcmVzcycsIHtcbiAgICBvblN0YXJ0OiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLnByZXNzZG93bicpO1xuICAgIH0sXG4gICAgb25FbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQucHJlc3N1cCcpO1xuICAgIH1cbiAgfSk7XG5cblxuICBhZGRIYW5kbGVyKCdob2xkJywge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIGtlZXBzIGhpcyBmaW5nZXIgd2l0aGluIHRoZSBzYW1lIDxtYXhEaXN0YW5jZT4gYXJlYSBmb3JcbiAgICAgIC8vIDxkZWxheT4gbXMsIGRpc3BhdGNoIGEgaG9sZCBldmVudC5cbiAgICAgIG1heERpc3RhbmNlOiA2LFxuICAgICAgZGVsYXk6IDUwMCxcbiAgICB9LFxuICAgIG9uQ2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbCh0aGlzLnN0YXRlLnRpbWVvdXQpO1xuICAgIH0sXG4gICAgb25TdGFydDogZnVuY3Rpb24oZXYsIHBvaW50ZXIpIHtcbiAgICAgIC8vIEZvciBob2xkLCByZXF1aXJlIGEgcGFyZW50IHRvIGJlIHJlZ2lzdGVyZWQgd2l0aCAkbWRHZXN0dXJlLnJlZ2lzdGVyKClcbiAgICAgIC8vIEJlY2F1c2Ugd2UgcHJldmVudCBzY3JvbGwgZXZlbnRzLCB0aGlzIGlzIG5lY2Vzc2FyeS5cbiAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWdpc3RlcmVkUGFyZW50KSByZXR1cm4gdGhpcy5jYW5jZWwoKTtcblxuICAgICAgdGhpcy5zdGF0ZS5wb3MgPSB7eDogcG9pbnRlci54LCB5OiBwb2ludGVyLnl9O1xuICAgICAgdGhpcy5zdGF0ZS50aW1lb3V0ID0gJHRpbWVvdXQoYW5ndWxhci5iaW5kKHRoaXMsIGZ1bmN0aW9uIGhvbGREZWxheUZuKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQuaG9sZCcpO1xuICAgICAgICB0aGlzLmNhbmNlbCgpOyAvL3dlJ3JlIGRvbmUhXG4gICAgICB9KSwgdGhpcy5zdGF0ZS5vcHRpb25zLmRlbGF5LCBmYWxzZSk7XG4gICAgfSxcbiAgICBvbk1vdmU6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICAvLyBEb24ndCBzY3JvbGwgd2hpbGUgd2FpdGluZyBmb3IgaG9sZFxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkeCA9IHRoaXMuc3RhdGUucG9zLnggLSBwb2ludGVyLng7XG4gICAgICB2YXIgZHkgPSB0aGlzLnN0YXRlLnBvcy55IC0gcG9pbnRlci55O1xuICAgICAgaWYgKE1hdGguc3FydChkeCpkeCArIGR5KmR5KSA+IHRoaXMub3B0aW9ucy5tYXhEaXN0YW5jZSkge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25FbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICB0aGlzLm9uQ2FuY2VsKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgYWRkSGFuZGxlcignZHJhZycsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBtaW5EaXN0YW5jZTogNixcbiAgICAgIGhvcml6b250YWw6IHRydWUsXG4gICAgfSxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbihldikge1xuICAgICAgLy8gRm9yIGRyYWcsIHJlcXVpcmUgYSBwYXJlbnQgdG8gYmUgcmVnaXN0ZXJlZCB3aXRoICRtZEdlc3R1cmUucmVnaXN0ZXIoKVxuICAgICAgaWYgKCF0aGlzLnN0YXRlLnJlZ2lzdGVyZWRQYXJlbnQpIHRoaXMuY2FuY2VsKCk7XG4gICAgfSxcbiAgICBvbk1vdmU6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICB2YXIgc2hvdWxkU3RhcnREcmFnLCBzaG91bGRDYW5jZWw7XG4gICAgICAvLyBEb24ndCBhbGxvdyB0b3VjaCBldmVudHMgdG8gc2Nyb2xsIHdoaWxlIHdlJ3JlIGRyYWdnaW5nIG9yXG4gICAgICAvLyBkZWNpZGluZyBpZiB0aGlzIHRvdWNobW92ZSBpcyBhIHByb3BlciBkcmFnXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgc2hvdWxkU3RhcnREcmFnID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlO1xuICAgICAgICAgIHNob3VsZENhbmNlbCA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VZKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZSAqIDEuNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG91bGRTdGFydERyYWcgPSBNYXRoLmFicyhwb2ludGVyLmRpc3RhbmNlWSkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluRGlzdGFuY2U7XG4gICAgICAgICAgc2hvdWxkQ2FuY2VsID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlICogMS41O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3VsZFN0YXJ0RHJhZykge1xuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwb2ludGVyLCBzdGFydGluZyBhdCB0aGlzIHBvaW50IHdoZXJlIHRoZSBkcmFnIHN0YXJ0ZWQuXG4gICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlciA9IG1ha2VTdGFydFBvaW50ZXIoZXYpO1xuICAgICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLmRyYWdzdGFydCcsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQ2FuY2VsKSB7XG4gICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaERyYWdNb3ZlKGV2KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIE9ubHkgZGlzcGF0Y2ggdGhlc2UgZXZlcnkgZnJhbWU7IGFueSBtb3JlIGlzIHVubmVjZXNzcmF5XG4gICAgZGlzcGF0Y2hEcmFnTW92ZTogJCRyQUYudGhyb3R0bGUoZnVuY3Rpb24oZXYpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZHJhZyBkaWRuJ3Qgc3RvcCB3aGlsZSB3YWl0aW5nIGZvciB0aGUgbmV4dCBmcmFtZVxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNSdW5uaW5nKSB7XG4gICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5kcmFnJywgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICB9XG4gICAgfSksXG4gICAgb25FbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnUG9pbnRlcikge1xuICAgICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQuZHJhZ2VuZCcsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYWRkSGFuZGxlcignc3dpcGUnLCB7XG4gICAgb3B0aW9uczoge1xuICAgICAgbWluVmVsb2NpdHk6IDAuNjUsXG4gICAgICBtaW5EaXN0YW5jZTogMTAsXG4gICAgfSxcbiAgICBvbkVuZDogZnVuY3Rpb24oZXYsIHBvaW50ZXIpIHtcbiAgICAgIGlmIChNYXRoLmFicyhwb2ludGVyLnZlbG9jaXR5WCkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluVmVsb2NpdHkgJiZcbiAgICAgICAgICBNYXRoLmFicyhwb2ludGVyLmRpc3RhbmNlWCkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluRGlzdGFuY2UpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IHBvaW50ZXIuZGlyZWN0aW9uWCA9PSAnbGVmdCcgPyAnJG1kLnN3aXBlbGVmdCcgOiAnJG1kLnN3aXBlcmlnaHQnO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsIGV2ZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgc2VsZjtcbiAgcmV0dXJuIHNlbGYgPSB7XG4gICAgaGFuZGxlcjogYWRkSGFuZGxlcixcbiAgICByZWdpc3RlcjogcmVnaXN0ZXJcbiAgfTtcblxuICBmdW5jdGlvbiBhZGRIYW5kbGVyKG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICB2YXIgaGFuZGxlciA9IG5ldyAkJE1kR2VzdHVyZUhhbmRsZXIobmFtZSk7XG4gICAgYW5ndWxhci5leHRlbmQoaGFuZGxlciwgZGVmaW5pdGlvbik7XG4gICAgSEFORExFUlNbbmFtZV0gPSBoYW5kbGVyO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXIoZWxlbWVudCwgaGFuZGxlck5hbWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGFuZGxlciA9IEhBTkRMRVJTWyBoYW5kbGVyTmFtZS5yZXBsYWNlKC9eXFwkbWQuLywgJycpIF07XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWdpc3RlciBlbGVtZW50IHdpdGggaGFuZGxlciAnICsgaGFuZGxlck5hbWUgKyAnLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAnQXZhaWxhYmxlIGhhbmRsZXJzOiAnICsgT2JqZWN0LmtleXMoSEFORExFUlMpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlci5yZWdpc3RlckVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cbn1dKVxuLmZhY3RvcnkoJyQkTWRHZXN0dXJlSGFuZGxlcicsIFtcIiQkckFGXCIsIGZ1bmN0aW9uKCQkckFGKSB7XG5cbiAgZnVuY3Rpb24gR2VzdHVyZUhhbmRsZXIobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG4gIEdlc3R1cmVIYW5kbGVyLnByb3RvdHlwZSA9IHtcbiAgICBvblN0YXJ0OiBhbmd1bGFyLm5vb3AsXG4gICAgb25Nb3ZlOiBhbmd1bGFyLm5vb3AsXG4gICAgb25FbmQ6IGFuZ3VsYXIubm9vcCxcbiAgICBvbkNhbmNlbDogYW5ndWxhci5ub29wLFxuICAgIG9wdGlvbnM6IHt9LFxuXG4gICAgZGlzcGF0Y2hFdmVudDogdHlwZW9mIGpRdWVyeSAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhci5lbGVtZW50ID09PSBqUXVlcnkgPyBcbiAgICAgIGpRdWVyeURpc3BhdGNoRXZlbnQgOiBcbiAgICAgIG5hdGl2ZURpc3BhdGNoRXZlbnQsXG5cbiAgICBzdGFydDogZnVuY3Rpb24oZXYsIHBvaW50ZXIpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgdmFyIHBhcmVudFRhcmdldCA9IHRoaXMuZ2V0TmVhcmVzdFBhcmVudChldi50YXJnZXQpO1xuICAgICAgdmFyIHBhcmVudFRhcmdldE9wdGlvbnMgPSBwYXJlbnRUYXJnZXQgJiYgcGFyZW50VGFyZ2V0LiRtZEdlc3R1cmVbdGhpcy5uYW1lXSB8fCB7fTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgaXNSdW5uaW5nOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBwYXJlbnRUYXJnZXRPcHRpb25zKSxcbiAgICAgICAgcmVnaXN0ZXJlZFBhcmVudDogcGFyZW50VGFyZ2V0XG4gICAgICB9O1xuICAgICAgdGhpcy5vblN0YXJ0KGV2LCBwb2ludGVyKTtcbiAgICB9LFxuICAgIG1vdmU6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNSdW5uaW5nKSByZXR1cm47XG4gICAgICB0aGlzLm9uTW92ZShldiwgcG9pbnRlcik7XG4gICAgfSxcbiAgICBlbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNSdW5uaW5nKSByZXR1cm47XG4gICAgICB0aGlzLm9uRW5kKGV2LCBwb2ludGVyKTtcbiAgICAgIHRoaXMuc3RhdGUuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICB0aGlzLm9uQ2FuY2VsKGV2LCBwb2ludGVyKTtcbiAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB9LFxuXG4gICAgLy8gRmluZCBhbmQgcmV0dXJuIHRoZSBuZWFyZXN0IHBhcmVudCBlbGVtZW50IHRoYXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCB2aWFcbiAgICAvLyAkbWRHZXN0dXJlLnJlZ2lzdGVyKGVsZW1lbnQsICdoYW5kbGVyTmFtZScpLlxuICAgIGdldE5lYXJlc3RQYXJlbnQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gbm9kZTtcbiAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgIGlmICggKGN1cnJlbnQuJG1kR2VzdHVyZSB8fCB7fSlbdGhpcy5uYW1lXSApIHtcbiAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWdpc3RlckVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGVsZW1lbnRbMF0uJG1kR2VzdHVyZSA9IGVsZW1lbnRbMF0uJG1kR2VzdHVyZSB8fCB7fTtcbiAgICAgIGVsZW1lbnRbMF0uJG1kR2VzdHVyZVt0aGlzLm5hbWVdID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95Jywgb25EZXN0cm95KTtcblxuICAgICAgcmV0dXJuIG9uRGVzdHJveTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgICAgICBkZWxldGUgZWxlbWVudFswXS4kbWRHZXN0dXJlW3NlbGYubmFtZV07XG4gICAgICAgIGVsZW1lbnQub2ZmKCckZGVzdHJveScsIG9uRGVzdHJveSk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcblxuICBmdW5jdGlvbiBqUXVlcnlEaXNwYXRjaEV2ZW50KHNyY0V2ZW50LCBldmVudFR5cGUsIGV2ZW50UG9pbnRlcikge1xuICAgIGV2ZW50UG9pbnRlciA9IGV2ZW50UG9pbnRlciB8fCBwb2ludGVyO1xuICAgIHZhciBldmVudE9iaiA9IG5ldyBhbmd1bGFyLmVsZW1lbnQuRXZlbnQoZXZlbnRUeXBlKVxuXG4gICAgZXZlbnRPYmouJG1hdGVyaWFsID0gdHJ1ZTtcbiAgICBldmVudE9iai5wb2ludGVyID0gZXZlbnRQb2ludGVyO1xuICAgIGV2ZW50T2JqLnNyY0V2ZW50ID0gc3JjRXZlbnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZChldmVudE9iaiwge1xuICAgICAgY2xpZW50WDogZXZlbnRQb2ludGVyLngsXG4gICAgICBjbGllbnRZOiBldmVudFBvaW50ZXIueSxcbiAgICAgIHNjcmVlblg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgc2NyZWVuWTogZXZlbnRQb2ludGVyLnksXG4gICAgICBwYWdlWDogZXZlbnRQb2ludGVyLngsXG4gICAgICBwYWdlWTogZXZlbnRQb2ludGVyLnksXG4gICAgICBjdHJsS2V5OiBzcmNFdmVudC5jdHJsS2V5LFxuICAgICAgYWx0S2V5OiBzcmNFdmVudC5hbHRLZXksXG4gICAgICBzaGlmdEtleTogc3JjRXZlbnQuc2hpZnRLZXksXG4gICAgICBtZXRhS2V5OiBzcmNFdmVudC5tZXRhS2V5XG4gICAgfSk7XG4gICAgYW5ndWxhci5lbGVtZW50KGV2ZW50UG9pbnRlci50YXJnZXQpLnRyaWdnZXIoZXZlbnRPYmopO1xuICB9XG5cbiAgLypcbiAgICogTk9URTogbmF0aXZlRGlzcGF0Y2hFdmVudCBpcyB2ZXJ5IHBlcmZvcm1hbmNlIHNlbnNpdGl2ZS4gXG4gICAqL1xuICBmdW5jdGlvbiBuYXRpdmVEaXNwYXRjaEV2ZW50KHNyY0V2ZW50LCBldmVudFR5cGUsIGV2ZW50UG9pbnRlcikge1xuICAgIGV2ZW50UG9pbnRlciA9IGV2ZW50UG9pbnRlciB8fCBwb2ludGVyO1xuICAgIHZhciBldmVudE9iajtcblxuICAgIGlmIChldmVudFR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgIGV2ZW50T2JqID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICBldmVudE9iai5pbml0TW91c2VFdmVudChcbiAgICAgICAgJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgd2luZG93LCBzcmNFdmVudC5kZXRhaWwsXG4gICAgICAgIGV2ZW50UG9pbnRlci54LCBldmVudFBvaW50ZXIueSwgZXZlbnRQb2ludGVyLngsIGV2ZW50UG9pbnRlci55LFxuICAgICAgICBzcmNFdmVudC5jdHJsS2V5LCBzcmNFdmVudC5hbHRLZXksIHNyY0V2ZW50LnNoaWZ0S2V5LCBzcmNFdmVudC5tZXRhS2V5LFxuICAgICAgICBzcmNFdmVudC5idXR0b24sIHNyY0V2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbnVsbFxuICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBldmVudE9iaiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgZXZlbnRPYmouaW5pdEN1c3RvbUV2ZW50KGV2ZW50VHlwZSwgdHJ1ZSwgdHJ1ZSwge30pO1xuICAgIH1cbiAgICBldmVudE9iai4kbWF0ZXJpYWwgPSB0cnVlO1xuICAgIGV2ZW50T2JqLnBvaW50ZXIgPSBldmVudFBvaW50ZXI7XG4gICAgZXZlbnRPYmouc3JjRXZlbnQgPSBzcmNFdmVudDtcbiAgICBldmVudFBvaW50ZXIudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnRPYmopO1xuICB9XG5cbiAgcmV0dXJuIEdlc3R1cmVIYW5kbGVyO1xufV0pO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5wcm92aWRlcignJCRpbnRlcmltRWxlbWVudCcsIEludGVyaW1FbGVtZW50UHJvdmlkZXIpO1xuXG4vKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEZhY3RvcnkgdGhhdCBjb250cnVjdHMgYCQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2VgIHNlcnZpY2VzLlxuICogVXNlZCBpbnRlcm5hbGx5IGluIG1hdGVyaWFsIGRlc2lnbiBmb3IgZWxlbWVudHMgdGhhdCBhcHBlYXIgb24gc2NyZWVuIHRlbXBvcmFyaWx5LlxuICogVGhlIHNlcnZpY2UgcHJvdmlkZXMgYSBwcm9taXNlLWxpa2UgQVBJIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSB0ZW1wb3JhcnlcbiAqIGVsZW1lbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBhcHAuc2VydmljZSgnJG1kVG9hc3QnLCBmdW5jdGlvbigkJGludGVyaW1FbGVtZW50KSB7XG4gKiAgIHZhciAkbWRUb2FzdCA9ICQkaW50ZXJpbUVsZW1lbnQodG9hc3REZWZhdWx0T3B0aW9ucyk7XG4gKiAgIHJldHVybiAkbWRUb2FzdDtcbiAqIH0pO1xuICogYGBgXG4gKiBAcGFyYW0ge29iamVjdD19IGRlZmF1bHRPcHRpb25zIE9wdGlvbnMgdXNlZCBieSBkZWZhdWx0IGZvciB0aGUgYHNob3dgIG1ldGhvZCBvbiB0aGUgc2VydmljZS5cbiAqXG4gKiBAcmV0dXJucyB7JCRpbnRlcmltRWxlbWVudC4kc2VydmljZX1cbiAqXG4gKi9cblxuZnVuY3Rpb24gSW50ZXJpbUVsZW1lbnRQcm92aWRlcigpIHtcbiAgY3JlYXRlSW50ZXJpbUVsZW1lbnRQcm92aWRlci4kZ2V0ID0gSW50ZXJpbUVsZW1lbnRGYWN0b3J5O1xuICBJbnRlcmltRWxlbWVudEZhY3RvcnkuJGluamVjdCA9IFtcIiRkb2N1bWVudFwiLCBcIiRxXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJGFuaW1hdGVcIiwgXCIkaW50ZXJwb2xhdGVcIiwgXCIkbWRDb21waWxlclwiLCBcIiRtZFRoZW1pbmdcIl07XG4gIHJldHVybiBjcmVhdGVJbnRlcmltRWxlbWVudFByb3ZpZGVyO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IHByb3ZpZGVyIHdoaWNoIGFsbG93cyBjb25maWd1cmF0aW9uIG9mIGEgbmV3IGludGVyaW1FbGVtZW50XG4gICAqIHNlcnZpY2UuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mIGRlZmF1bHQgb3B0aW9ucyAmIG1ldGhvZHMgZm9yIG9wdGlvbnMsXG4gICAqIGFzIHdlbGwgYXMgY29uZmlndXJhdGlvbiBvZiAncHJlc2V0JyBtZXRob2RzIChlZyBkaWFsb2cuYmFzaWMoKTogYmFzaWMgaXMgYSBwcmVzZXQgbWV0aG9kKVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJpbUVsZW1lbnRQcm92aWRlcihpbnRlcmltRmFjdG9yeU5hbWUpIHtcbiAgICB2YXIgRVhQT1NFRF9NRVRIT0RTID0gWydvbkhpZGUnLCAnb25TaG93JywgJ29uUmVtb3ZlJ107XG5cbiAgICB2YXIgY3VzdG9tTWV0aG9kcyA9IHt9O1xuICAgIHZhciBwcm92aWRlckNvbmZpZyA9IHtcbiAgICAgIHByZXNldHM6IHt9XG4gICAgfTtcblxuICAgIHZhciBwcm92aWRlciA9IHtcbiAgICAgIHNldERlZmF1bHRzOiBzZXREZWZhdWx0cyxcbiAgICAgIGFkZFByZXNldDogYWRkUHJlc2V0LFxuICAgICAgYWRkTWV0aG9kOiBhZGRNZXRob2QsXG4gICAgICAkZ2V0OiBmYWN0b3J5XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFsbCBpbnRlcmltIGVsZW1lbnRzIHdpbGwgY29tZSB3aXRoIHRoZSAnYnVpbGQnIHByZXNldFxuICAgICAqL1xuICAgIHByb3ZpZGVyLmFkZFByZXNldCgnYnVpbGQnLCB7XG4gICAgICBtZXRob2RzOiBbJ2NvbnRyb2xsZXInLCAnY29udHJvbGxlckFzJywgJ3Jlc29sdmUnLFxuICAgICAgICAndGVtcGxhdGUnLCAndGVtcGxhdGVVcmwnLCAndGhlbWFibGUnLCAndHJhbnNmb3JtVGVtcGxhdGUnLCAncGFyZW50J11cbiAgICB9KTtcblxuICAgIGZhY3RvcnkuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRcIiwgXCIkYW5pbWF0ZVwiLCBcIiRpbmplY3RvclwiXTtcbiAgICByZXR1cm4gcHJvdmlkZXI7XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBjb25maWd1cmVkIGRlZmF1bHRzIHRvIGJlIHVzZWQgd2hlbiB0aGUgZmFjdG9yeSBpcyBpbnN0YW50aWF0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXREZWZhdWx0cyhkZWZpbml0aW9uKSB7XG4gICAgICBwcm92aWRlckNvbmZpZy5vcHRpb25zRmFjdG9yeSA9IGRlZmluaXRpb24ub3B0aW9ucztcbiAgICAgIHByb3ZpZGVyQ29uZmlnLm1ldGhvZHMgPSAoZGVmaW5pdGlvbi5tZXRob2RzIHx8IFtdKS5jb25jYXQoRVhQT1NFRF9NRVRIT0RTKTtcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtZXRob2QgdG8gdGhlIGZhY3RvcnkgdGhhdCBpc24ndCBzcGVjaWZpYyB0byBhbnkgaW50ZXJpbSBlbGVtZW50IG9wZXJhdGlvbnNcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIGFkZE1ldGhvZChuYW1lLCBmbikge1xuICAgICAgY3VzdG9tTWV0aG9kc1tuYW1lXSA9IGZuO1xuICAgICAgcmV0dXJuIHByb3ZpZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGNvbmZpZ3VyZWQgcHJlc2V0IHRvIGJlIHVzZWQgd2hlbiB0aGUgZmFjdG9yeSBpcyBpbnN0YW50aWF0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRQcmVzZXQobmFtZSwgZGVmaW5pdGlvbikge1xuICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24gfHwge307XG4gICAgICBkZWZpbml0aW9uLm1ldGhvZHMgPSBkZWZpbml0aW9uLm1ldGhvZHMgfHwgW107XG4gICAgICBkZWZpbml0aW9uLm9wdGlvbnMgPSBkZWZpbml0aW9uLm9wdGlvbnMgfHwgZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfTtcblxuICAgICAgaWYgKC9eY2FuY2VsfGhpZGV8c2hvdyQvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJlc2V0ICdcIiArIG5hbWUgKyBcIicgaW4gXCIgKyBpbnRlcmltRmFjdG9yeU5hbWUgKyBcIiBpcyByZXNlcnZlZCFcIik7XG4gICAgICB9XG4gICAgICBpZiAoZGVmaW5pdGlvbi5tZXRob2RzLmluZGV4T2YoJ19vcHRpb25zJykgPiAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgJ19vcHRpb25zJyBpbiBcIiArIGludGVyaW1GYWN0b3J5TmFtZSArIFwiIGlzIHJlc2VydmVkIVwiKTtcbiAgICAgIH1cbiAgICAgIHByb3ZpZGVyQ29uZmlnLnByZXNldHNbbmFtZV0gPSB7XG4gICAgICAgIG1ldGhvZHM6IGRlZmluaXRpb24ubWV0aG9kcy5jb25jYXQoRVhQT1NFRF9NRVRIT0RTKSxcbiAgICAgICAgb3B0aW9uc0ZhY3Rvcnk6IGRlZmluaXRpb24ub3B0aW9ucyxcbiAgICAgICAgYXJnT3B0aW9uOiBkZWZpbml0aW9uLmFyZ09wdGlvblxuICAgICAgfTtcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmYWN0b3J5IHRoYXQgaGFzIHRoZSBnaXZlbiBtZXRob2RzICYgZGVmYXVsdHMgaW1wbGVtZW50aW5nIGludGVyaW1FbGVtZW50XG4gICAgICovXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmFjdG9yeSgkJGludGVyaW1FbGVtZW50LCAkYW5pbWF0ZSwgJGluamVjdG9yKSB7XG4gICAgICB2YXIgZGVmYXVsdE1ldGhvZHM7XG4gICAgICB2YXIgZGVmYXVsdE9wdGlvbnM7XG4gICAgICB2YXIgaW50ZXJpbUVsZW1lbnRTZXJ2aWNlID0gJCRpbnRlcmltRWxlbWVudCgpO1xuXG4gICAgICAvKlxuICAgICAgICogcHVibGljU2VydmljZSBpcyB3aGF0IHRoZSBkZXZlbG9wZXIgd2lsbCBiZSB1c2luZy5cbiAgICAgICAqIEl0IGhhcyBtZXRob2RzIGhpZGUoKSwgY2FuY2VsKCksIHNob3coKSwgYnVpbGQoKSwgYW5kIGFueSBvdGhlclxuICAgICAgICogcHJlc2V0cyB3aGljaCB3ZXJlIHNldCBkdXJpbmcgdGhlIGNvbmZpZyBwaGFzZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHB1YmxpY1NlcnZpY2UgPSB7XG4gICAgICAgIGhpZGU6IGludGVyaW1FbGVtZW50U2VydmljZS5oaWRlLFxuICAgICAgICBjYW5jZWw6IGludGVyaW1FbGVtZW50U2VydmljZS5jYW5jZWwsXG4gICAgICAgIHNob3c6IHNob3dJbnRlcmltRWxlbWVudFxuICAgICAgfTtcblxuICAgICAgZGVmYXVsdE1ldGhvZHMgPSBwcm92aWRlckNvbmZpZy5tZXRob2RzIHx8IFtdO1xuICAgICAgLy8gVGhpcyBtdXN0IGJlIGludm9rZWQgYWZ0ZXIgdGhlIHB1YmxpY1NlcnZpY2UgaXMgaW5pdGlhbGl6ZWRcbiAgICAgIGRlZmF1bHRPcHRpb25zID0gaW52b2tlRmFjdG9yeShwcm92aWRlckNvbmZpZy5vcHRpb25zRmFjdG9yeSwge30pO1xuXG4gICAgICAvLyBDb3B5IG92ZXIgdGhlIHNpbXBsZSBjdXN0b20gbWV0aG9kc1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGN1c3RvbU1ldGhvZHMsIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gICAgICAgIHB1YmxpY1NlcnZpY2VbbmFtZV0gPSBmbjtcbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2gocHJvdmlkZXJDb25maWcucHJlc2V0cywgZnVuY3Rpb24oZGVmaW5pdGlvbiwgbmFtZSkge1xuICAgICAgICB2YXIgcHJlc2V0RGVmYXVsdHMgPSBpbnZva2VGYWN0b3J5KGRlZmluaXRpb24ub3B0aW9uc0ZhY3RvcnksIHt9KTtcbiAgICAgICAgdmFyIHByZXNldE1ldGhvZHMgPSAoZGVmaW5pdGlvbi5tZXRob2RzIHx8IFtdKS5jb25jYXQoZGVmYXVsdE1ldGhvZHMpO1xuXG4gICAgICAgIC8vIEV2ZXJ5IGludGVyaW1FbGVtZW50IGJ1aWx0IHdpdGggYSBwcmVzZXQgaGFzIGEgZmllbGQgY2FsbGVkIGAkdHlwZWAsXG4gICAgICAgIC8vIHdoaWNoIG1hdGNoZXMgdGhlIG5hbWUgb2YgdGhlIHByZXNldC5cbiAgICAgICAgLy8gRWcgaW4gcHJlc2V0ICdjb25maXJtJywgb3B0aW9ucy4kdHlwZSA9PT0gJ2NvbmZpcm0nXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHByZXNldERlZmF1bHRzLCB7ICR0eXBlOiBuYW1lIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgY3JlYXRlcyBhIHByZXNldCBjbGFzcyB3aGljaCBoYXMgc2V0dGVyIG1ldGhvZHMgZm9yIGV2ZXJ5XG4gICAgICAgIC8vIG1ldGhvZCBnaXZlbiBpbiB0aGUgYC5hZGRQcmVzZXQoKWAgZnVuY3Rpb24sIGFzIHdlbGwgYXMgZXZlcnlcbiAgICAgICAgLy8gbWV0aG9kIGdpdmVuIGluIHRoZSBgLnNldERlZmF1bHRzKClgIGZ1bmN0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBAZXhhbXBsZVxuICAgICAgICAvLyAuc2V0RGVmYXVsdHMoe1xuICAgICAgICAvLyAgIG1ldGhvZHM6IFsnaGFzQmFja2Ryb3AnLCAnY2xpY2tPdXRzaWRlVG9DbG9zZScsICdlc2NhcGVUb0Nsb3NlJywgJ3RhcmdldEV2ZW50J10sXG4gICAgICAgIC8vICAgb3B0aW9uczogZGlhbG9nRGVmYXVsdE9wdGlvbnNcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy8gLmFkZFByZXNldCgnYWxlcnQnLCB7XG4gICAgICAgIC8vICAgbWV0aG9kczogWyd0aXRsZScsICdvayddLFxuICAgICAgICAvLyAgIG9wdGlvbnM6IGFsZXJ0RGlhbG9nT3B0aW9uc1xuICAgICAgICAvLyB9KVxuICAgICAgICAvL1xuICAgICAgICAvLyBTZXQgdmFsdWVzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBvcHRpb25zIHdoZW4gaW50ZXJpbUVsZW1udC5zaG93KCkgaXMgY2FsbGVkLlxuICAgICAgICBmdW5jdGlvbiBQcmVzZXQob3B0cykge1xuICAgICAgICAgIHRoaXMuX29wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgcHJlc2V0RGVmYXVsdHMsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcmVzZXRNZXRob2RzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgUHJlc2V0LnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgc2hvcnRjdXQgbWV0aG9kIGZvciBvbmUtbGluZWFyIG1ldGhvZHNcbiAgICAgICAgaWYgKGRlZmluaXRpb24uYXJnT3B0aW9uKSB7XG4gICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSAnc2hvdycgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcbiAgICAgICAgICBwdWJsaWNTZXJ2aWNlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gcHVibGljU2VydmljZVtuYW1lXShhcmcpO1xuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY1NlcnZpY2Uuc2hvdyhjb25maWcpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlZyAkbWREaWFsb2cuYWxlcnQoKSB3aWxsIHJldHVybiBhIG5ldyBhbGVydCBwcmVzZXRcbiAgICAgICAgcHVibGljU2VydmljZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgIC8vIElmIGFyZ09wdGlvbiBpcyBzdXBwbGllZCwgZWcgYGFyZ09wdGlvbjogJ2NvbnRlbnQnYCwgdGhlbiB3ZSBhc3N1bWVcbiAgICAgICAgICAvLyBpZiB0aGUgYXJndW1lbnQgaXMgbm90IGFuIG9wdGlvbnMgb2JqZWN0IHRoZW4gaXQgaXMgdGhlIGBhcmdPcHRpb25gIG9wdGlvbi5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIEBleGFtcGxlIGAkbWRUb2FzdC5zaW1wbGUoJ2hlbGxvJylgIC8vIHNldHMgb3B0aW9ucy5jb250ZW50IHRvIGhlbGxvXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBhcmdPcHRpb24gPT09ICdjb250ZW50J1xuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIGRlZmluaXRpb24uYXJnT3B0aW9uICYmICFhbmd1bGFyLmlzT2JqZWN0KGFyZykgJiZcbiAgICAgICAgICAgICAgIWFuZ3VsYXIuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gKG5ldyBQcmVzZXQoKSlbZGVmaW5pdGlvbi5hcmdPcHRpb25dKGFyZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJlc2V0KGFyZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHB1YmxpY1NlcnZpY2U7XG5cbiAgICAgIGZ1bmN0aW9uIHNob3dJbnRlcmltRWxlbWVudChvcHRzKSB7XG4gICAgICAgIC8vIG9wdHMgaXMgZWl0aGVyIGEgcHJlc2V0IHdoaWNoIHN0b3JlcyBpdHMgb3B0aW9ucyBvbiBhbiBfb3B0aW9ucyBmaWVsZCxcbiAgICAgICAgLy8gb3IganVzdCBhbiBvYmplY3QgbWFkZSB1cCBvZiBvcHRpb25zXG4gICAgICAgIGlmIChvcHRzICYmIG9wdHMuX29wdGlvbnMpIG9wdHMgPSBvcHRzLl9vcHRpb25zO1xuICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnRTZXJ2aWNlLnNob3coXG4gICAgICAgICAgYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRzKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhlbHBlciB0byBjYWxsICRpbmplY3Rvci5pbnZva2Ugd2l0aCBhIGxvY2FsIG9mIHRoZSBmYWN0b3J5IG5hbWUgZm9yXG4gICAgICAgKiB0aGlzIHByb3ZpZGVyLlxuICAgICAgICogSWYgYW4gJG1kRGlhbG9nIGlzIHByb3ZpZGluZyBvcHRpb25zIGZvciBhIGRpYWxvZyBhbmQgdHJpZXMgdG8gaW5qZWN0XG4gICAgICAgKiAkbWREaWFsb2csIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBlcnJvciB3aWxsIGhhcHBlbi5cbiAgICAgICAqIFdlIGdldCBhcm91bmQgdGhhdCBieSBtYW51YWxseSBpbmplY3RpbmcgJG1kRGlhbG9nIGFzIGEgbG9jYWwuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZhY3RvcnkoZmFjdG9yeSwgZGVmYXVsdFZhbCkge1xuICAgICAgICB2YXIgbG9jYWxzID0ge307XG4gICAgICAgIGxvY2Fsc1tpbnRlcmltRmFjdG9yeU5hbWVdID0gcHVibGljU2VydmljZTtcbiAgICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnZva2UoZmFjdG9yeSB8fCBmdW5jdGlvbigpIHsgcmV0dXJuIGRlZmF1bHRWYWw7IH0sIHt9LCBsb2NhbHMpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gIH1cblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gSW50ZXJpbUVsZW1lbnRGYWN0b3J5KCRkb2N1bWVudCwgJHEsICRyb290U2NvcGUsICR0aW1lb3V0LCAkcm9vdEVsZW1lbnQsICRhbmltYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludGVycG9sYXRlLCAkbWRDb21waWxlciwgJG1kVGhlbWluZyApIHtcbiAgICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICB1c2VzU3RhbmRhcmRTeW1ib2xzID0gKChzdGFydFN5bWJvbCA9PT0gJ3t7JykgJiYgKGVuZFN5bWJvbCA9PT0gJ319JykpLFxuICAgICAgICBwcm9jZXNzVGVtcGxhdGUgID0gdXNlc1N0YW5kYXJkU3ltYm9scyA/IGFuZ3VsYXIuaWRlbnRpdHkgOiByZXBsYWNlSW50ZXJwb2xhdGlvblN5bWJvbHM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlSW50ZXJpbUVsZW1lbnRTZXJ2aWNlKCkge1xuICAgICAgLypcbiAgICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICAgKiBAbmFtZSAkJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIHNlcnZpY2UgdXNlZCB0byBjb250cm9sIGluc2VydGluZyBhbmQgcmVtb3ZpbmcgYW4gZWxlbWVudCBpbnRvIHRoZSBET00uXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgIHZhciBzZXJ2aWNlO1xuICAgICAgcmV0dXJuIHNlcnZpY2UgPSB7XG4gICAgICAgIHNob3c6IHNob3csXG4gICAgICAgIGhpZGU6IGhpZGUsXG4gICAgICAgIGNhbmNlbDogY2FuY2VsXG4gICAgICB9O1xuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNzaG93XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgdG8gdGhlIERPTSBhbmQgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgKiB3aXRoIGhpZGUgb3IgY2FuY2VsLCByZXNwZWN0aXZlbHkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSBvcHRpb25zIGlzIGhhc2hNYXAgb2Ygc2V0dGluZ3NcbiAgICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZVxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gc2hvdyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gc2VydmljZS5jYW5jZWwoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNob3cob3B0aW9ucyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGludGVyaW1FbGVtZW50ID0gbmV3IEludGVyaW1FbGVtZW50KG9wdGlvbnMpO1xuICAgICAgICAgIHN0YWNrLnB1c2goaW50ZXJpbUVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudC5zaG93KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudC5kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlI2hpZGVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBgJGludGVyaW1FbGVtZW50YCBmcm9tIHRoZSBET00gYW5kIHJlc29sdmVzIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYHNob3dgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSByZXNvbHZlUGFyYW0gRGF0YSB0byByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGhcbiAgICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGhpZGUocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIGludGVyaW1FbGVtZW50ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIGludGVyaW1FbGVtZW50ICYmIGludGVyaW1FbGVtZW50LnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW50ZXJpbUVsZW1lbnQuZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNjYW5jZWxcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBgJGludGVyaW1FbGVtZW50YCBmcm9tIHRoZSBET00gYW5kIHJlamVjdHMgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgc2hvd2BcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyp9IHJlYXNvbiBEYXRhIHRvIHJlamVjdCB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciB0aGUgZWxlbWVudCBoYXMgYmVlbiByZW1vdmVkLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gY2FuY2VsKHJlYXNvbikge1xuICAgICAgICB2YXIgaW50ZXJpbUVsZW1lbnQgPSBzdGFjay5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnQgJiYgaW50ZXJpbUVsZW1lbnQucmVtb3ZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbnRlcmltRWxlbWVudC5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgLypcbiAgICAgICAqIEludGVybmFsIEludGVyaW0gRWxlbWVudCBPYmplY3RcbiAgICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBtYW5hZ2UgdGhlIERPTSBlbGVtZW50IGFuZCByZWxhdGVkIGRhdGFcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gSW50ZXJpbUVsZW1lbnQob3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZjtcbiAgICAgICAgdmFyIGhpZGVUaW1lb3V0LCBlbGVtZW50O1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe1xuICAgICAgICAgIHByZXNlcnZlU2NvcGU6IGZhbHNlLFxuICAgICAgICAgIHNjb3BlOiBvcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUuJG5ldyhvcHRpb25zLmlzb2xhdGVTY29wZSksXG4gICAgICAgICAgb25TaG93OiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmVtb3ZlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gRWxlbWVudCBjb3VsZCBiZSB1bmRlZmluZWQgaWYgYSBuZXcgZWxlbWVudCBpcyBzaG93biBiZWZvcmVcbiAgICAgICAgICAgIC8vIHRoZSBvbGQgb25lIGZpbmlzaGVzIGNvbXBpbGluZy5cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ICYmICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpIHx8ICRxLndoZW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnRlbXBsYXRlKSB7XG4gICAgICAgICAgb3B0aW9ucy50ZW1wbGF0ZSA9IHByb2Nlc3NUZW1wbGF0ZShvcHRpb25zLnRlbXBsYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG93RmFpbGVkO1xuICAgICAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIGRlZmVycmVkOiAkcS5kZWZlcigpLFxuICAgICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2hvd0ZhaWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuICRtZENvbXBpbGVyLmNvbXBpbGUob3B0aW9ucykudGhlbihmdW5jdGlvbihjb21waWxlRGF0YSkge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjb21waWxlRGF0YS5sb2NhbHMsIHNlbGYub3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgZWxlbWVudCA9IGNvbXBpbGVEYXRhLmxpbmsob3B0aW9ucy5zY29wZSk7XG5cbiAgICAgICAgICAgICAgLy8gU2VhcmNoIGZvciBwYXJlbnQgYXQgaW5zZXJ0aW9uIHRpbWUsIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudCA9IG9wdGlvbnMucGFyZW50KG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5wYXJlbnQpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIHBhcmVudCBxdWVyeVNlbGVjdG9yL2dldHRlciBmdW5jdGlvbiBmYWlscywgb3IgaXQncyBqdXN0IG51bGwsXG4gICAgICAgICAgICAgIC8vIGZpbmQgYSBkZWZhdWx0LlxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnBhcmVudCB8fCB7fSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnQgPSAkcm9vdEVsZW1lbnQuZmluZCgnYm9keScpO1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5wYXJlbnQubGVuZ3RoKSBvcHRpb25zLnBhcmVudCA9ICRyb290RWxlbWVudDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnRoZW1hYmxlKSAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgICAgICAgICB2YXIgcmV0ID0gb3B0aW9ucy5vblNob3cob3B0aW9ucy5zY29wZSwgZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKHJldClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgLy8gSXNzdWUgb25Db21wbGV0ZSBjYWxsYmFjayB3aGVuIHRoZSBgc2hvdygpYCBmaW5pc2hlc1xuICAgICAgICAgICAgICAgICAgKG9wdGlvbnMub25Db21wbGV0ZSB8fCBhbmd1bGFyLm5vb3ApKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgc3RhcnRIaWRlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHN0YXJ0SGlkZVRpbWVvdXQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZURlbGF5KSB7XG4gICAgICAgICAgICAgICAgICBoaWRlVGltZW91dCA9ICR0aW1lb3V0KHNlcnZpY2UuY2FuY2VsLCBvcHRpb25zLmhpZGVEZWxheSkgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7IHNob3dGYWlsZWQgPSB0cnVlOyBzZWxmLmRlZmVycmVkLnJlamVjdChyZWFzb24pOyB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhbmNlbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGhpZGVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChoaWRlVGltZW91dCk7XG4gICAgICAgICAgICAgIGhpZGVUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuY2FuY2VsVGltZW91dCgpO1xuICAgICAgICAgICAgdmFyIHJldDtcbiAgICAgICAgICAgIGlmIChzaG93RmFpbGVkKSB7XG4gICAgICAgICAgICAgIHJldCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXQgPSBvcHRpb25zLm9uUmVtb3ZlKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICRxLndoZW4ocmV0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucHJlc2VydmVTY29wZSkgb3B0aW9ucy5zY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFJlcGxhY2UgYHt7YCBhbmQgYH19YCBpbiBhIHN0cmluZyAodXN1YWxseSBhIHRlbXBsYXRlKSB3aXRoIHRoZSBhY3R1YWwgc3RhcnQtL2VuZFN5bWJvbHMgdXNlZFxuICAgICAqIGZvciBpbnRlcnBvbGF0aW9uLiBUaGlzIGFsbG93cyBwcmUtZGVmaW5lZCB0ZW1wbGF0ZXMgKGZvciBjb21wb25lbnRzIHN1Y2ggYXMgZGlhbG9nLCB0b2FzdCBldGMpXG4gICAgICogdG8gY29udGludWUgdG8gd29yayBpbiBhcHBzIHRoYXQgdXNlIGN1c3RvbSBpbnRlcnBvbGF0aW9uIHN0YXJ0LS9lbmRTeW1ib2xzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgaW4gd2hpY2ggdG8gcmVwbGFjZSBge3tgIC8gYH19YFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBtb2RpZmllZCBzdHJpbmcgdXNpbmcgdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIHN0YXJ0LS9lbmRTeW1ib2xzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzKHRleHQpIHtcbiAgICAgIGlmICghdGV4dCB8fCAhYW5ndWxhci5pc1N0cmluZyh0ZXh0KSkgcmV0dXJuIHRleHQ7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgfVxuICB9XG5cbn1cblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbW9kdWxlXG4gICAqIEBuYW1lIG1hdGVyaWFsLmNvcmUuY29tcG9uZW50UmVnaXN0cnlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEEgY29tcG9uZW50IGluc3RhbmNlIHJlZ2lzdHJhdGlvbiBzZXJ2aWNlLlxuICAgKiBOb3RlOiBjdXJyZW50bHkgdGhpcyBhcyBhIHByaXZhdGUgc2VydmljZSBpbiB0aGUgU2lkZU5hdiBjb21wb25lbnQuXG4gICAqL1xuICBhbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gICAgLmZhY3RvcnkoJyRtZENvbXBvbmVudFJlZ2lzdHJ5JywgQ29tcG9uZW50UmVnaXN0cnkpO1xuXG4gIC8qXG4gICAqIEBwcml2YXRlXG4gICAqIEBuZ2RvYyBmYWN0b3J5XG4gICAqIEBuYW1lIENvbXBvbmVudFJlZ2lzdHJ5XG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZS5jb21wb25lbnRSZWdpc3RyeVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gQ29tcG9uZW50UmVnaXN0cnkoJGxvZywgJHEpIHtcblxuICAgIHZhciBzZWxmO1xuICAgIHZhciBpbnN0YW5jZXMgPSBbIF07XG4gICAgdmFyIHBlbmRpbmdzID0geyB9O1xuXG4gICAgcmV0dXJuIHNlbGYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcHJpbnQgYW4gZXJyb3Igd2hlbiBhbiBpbnN0YW5jZSBmb3IgYSBoYW5kbGUgaXNuJ3QgZm91bmQuXG4gICAgICAgKi9cbiAgICAgIG5vdEZvdW5kRXJyb3I6IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAkbG9nLmVycm9yKCdObyBpbnN0YW5jZSBmb3VuZCBmb3IgaGFuZGxlJywgaGFuZGxlKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybiBhbGwgcmVnaXN0ZXJlZCBpbnN0YW5jZXMgYXMgYW4gYXJyYXkuXG4gICAgICAgKi9cbiAgICAgIGdldEluc3RhbmNlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBhIHJlZ2lzdGVyZWQgaW5zdGFuY2UuXG4gICAgICAgKiBAcGFyYW0gaGFuZGxlIHRoZSBTdHJpbmcgaGFuZGxlIHRvIGxvb2sgdXAgZm9yIGEgcmVnaXN0ZXJlZCBpbnN0YW5jZS5cbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgaWYgKCAhaXNWYWxpZElEKGhhbmRsZSkgKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgaSwgaiwgaW5zdGFuY2U7XG4gICAgICAgIGZvcihpID0gMCwgaiA9IGluc3RhbmNlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlc1tpXTtcbiAgICAgICAgICBpZihpbnN0YW5jZS4kJG1kSGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlZ2lzdGVyIGFuIGluc3RhbmNlLlxuICAgICAgICogQHBhcmFtIGluc3RhbmNlIHRoZSBpbnN0YW5jZSB0byByZWdpc3RlclxuICAgICAgICogQHBhcmFtIGhhbmRsZSB0aGUgaGFuZGxlIHRvIGlkZW50aWZ5IHRoZSBpbnN0YW5jZSB1bmRlci5cbiAgICAgICAqL1xuICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGluc3RhbmNlLCBoYW5kbGUpIHtcbiAgICAgICAgaWYgKCAhaGFuZGxlICkgcmV0dXJuIGFuZ3VsYXIubm9vcDtcblxuICAgICAgICBpbnN0YW5jZS4kJG1kSGFuZGxlID0gaGFuZGxlO1xuICAgICAgICBpbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIHJlc29sdmVXaGVuKCk7XG5cbiAgICAgICAgcmV0dXJuIGRlcmVnaXN0ZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSByZWdpc3RyYXRpb24gZm9yIGFuIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZXJlZ2lzdGVyKCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IGluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBpbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzb2x2ZSBhbnkgcGVuZGluZyBwcm9taXNlcyBmb3IgdGhpcyBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZVdoZW4oKSB7XG4gICAgICAgICAgdmFyIGRmZCA9IHBlbmRpbmdzW2hhbmRsZV07XG4gICAgICAgICAgaWYgKCBkZmQgKSB7XG4gICAgICAgICAgICBkZmQucmVzb2x2ZSggaW5zdGFuY2UgKTtcbiAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nc1toYW5kbGVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBc3luYyBhY2Nlc3NvciB0byByZWdpc3RlcmVkIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICogSWYgbm90IGF2YWlsYWJsZSB0aGVuIGEgcHJvbWlzZSBpcyBjcmVhdGVkIHRvIG5vdGlmeVxuICAgICAgICogYWxsIGxpc3RlbmVycyB3aGVuIHRoZSBpbnN0YW5jZSBpcyByZWdpc3RlcmVkLlxuICAgICAgICovXG4gICAgICB3aGVuIDogZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGlmICggaXNWYWxpZElEKGhhbmRsZSkgKSB7XG4gICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBzZWxmLmdldChoYW5kbGUpO1xuXG4gICAgICAgICAgaWYgKCBpbnN0YW5jZSApICB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCBpbnN0YW5jZSApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZW5kaW5nc1toYW5kbGVdID0gZGVmZXJyZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChcIkludmFsaWQgYG1kLWNvbXBvbmVudC1pZGAgdmFsdWUuXCIpO1xuICAgICAgfVxuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzVmFsaWRJRChoYW5kbGUpe1xuICAgICAgcmV0dXJuIGhhbmRsZSAmJiAoaGFuZGxlICE9PSBcIlwiKTtcbiAgICB9XG5cbiAgfVxuICBDb21wb25lbnRSZWdpc3RyeS4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRxXCJdO1xuXG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgLmZhY3RvcnkoJyRtZElua1JpcHBsZScsIElua1JpcHBsZVNlcnZpY2UpXG4gIC5kaXJlY3RpdmUoJ21kSW5rUmlwcGxlJywgSW5rUmlwcGxlRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZE5vSW5rJywgYXR0ck5vRGlyZWN0aXZlKCkpXG4gIC5kaXJlY3RpdmUoJ21kTm9CYXInLCBhdHRyTm9EaXJlY3RpdmUoKSlcbiAgLmRpcmVjdGl2ZSgnbWROb1N0cmV0Y2gnLCBhdHRyTm9EaXJlY3RpdmUoKSk7XG5cbmZ1bmN0aW9uIElua1JpcHBsZURpcmVjdGl2ZSgkbWRJbmtSaXBwbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWRJbmtSaXBwbGVDaGVja2JveCcpKSB7XG4gICAgICAgICRtZElua1JpcHBsZS5hdHRhY2hDaGVja2JveEJlaGF2aW9yKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRtZElua1JpcHBsZS5hdHRhY2hCdXR0b25CZWhhdmlvcihzY29wZSwgZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuSW5rUmlwcGxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRJbmtSaXBwbGVcIl07XG5cbmZ1bmN0aW9uIElua1JpcHBsZVNlcnZpY2UoJHdpbmRvdywgJHRpbWVvdXQpIHtcblxuICByZXR1cm4ge1xuICAgIGF0dGFjaEJ1dHRvbkJlaGF2aW9yOiBhdHRhY2hCdXR0b25CZWhhdmlvcixcbiAgICBhdHRhY2hDaGVja2JveEJlaGF2aW9yOiBhdHRhY2hDaGVja2JveEJlaGF2aW9yLFxuICAgIGF0dGFjaFRhYkJlaGF2aW9yOiBhdHRhY2hUYWJCZWhhdmlvcixcbiAgICBhdHRhY2g6IGF0dGFjaFxuICB9O1xuXG4gIGZ1bmN0aW9uIGF0dGFjaEJ1dHRvbkJlaGF2aW9yKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoe1xuICAgICAgaXNGQUI6IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLWZhYicpLFxuICAgICAgaXNNZW51SXRlbTogZWxlbWVudC5oYXNDbGFzcygnbWQtbWVudS1pdGVtJyksXG4gICAgICBjZW50ZXI6IGZhbHNlLFxuICAgICAgZGltQmFja2dyb3VuZDogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dGFjaENoZWNrYm94QmVoYXZpb3Ioc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICBjZW50ZXI6IHRydWUsXG4gICAgICBkaW1CYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICAgIGZpdFJpcHBsZTogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dGFjaFRhYkJlaGF2aW9yKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoe1xuICAgICAgY2VudGVyOiBmYWxzZSxcbiAgICAgIGRpbUJhY2tncm91bmQ6IHRydWUsXG4gICAgICBvdXRsaW5lOiB0cnVlXG4gICAgfSwgb3B0aW9ucykpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKGVsZW1lbnQuY29udHJvbGxlcignbWROb0luaycpKSByZXR1cm4gYW5ndWxhci5ub29wO1xuXG4gICAgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIGNvbG9yRWxlbWVudDogZWxlbWVudCxcbiAgICAgIG1vdXNlZG93bjogdHJ1ZSxcbiAgICAgIGhvdmVyOiB0cnVlLFxuICAgICAgZm9jdXM6IHRydWUsXG4gICAgICBjZW50ZXI6IGZhbHNlLFxuICAgICAgbW91c2Vkb3duUGF1c2VUaW1lOiAxNTAsXG4gICAgICBkaW1CYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgaXNGQUI6IGZhbHNlLFxuICAgICAgaXNNZW51SXRlbTogZmFsc2UsXG4gICAgICBmaXRSaXBwbGU6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgcmlwcGxlU2l6ZSxcbiAgICAgICAgY29udHJvbGxlciA9IGVsZW1lbnQuY29udHJvbGxlcignbWRJbmtSaXBwbGUnKSB8fCB7fSxcbiAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgIHJpcHBsZXMgPSBbXSxcbiAgICAgICAgc3RhdGVzID0gW10sXG4gICAgICAgIGlzQWN0aXZlRXhwciA9IGVsZW1lbnQuYXR0cignbWQtaGlnaGxpZ2h0JyksXG4gICAgICAgIGlzQWN0aXZlID0gZmFsc2UsXG4gICAgICAgIGlzSGVsZCA9IGZhbHNlLFxuICAgICAgICBub2RlID0gZWxlbWVudFswXSxcbiAgICAgICAgcmlwcGxlU2l6ZVNldHRpbmcgPSBlbGVtZW50LmF0dHIoJ21kLXJpcHBsZS1zaXplJyksXG4gICAgICAgIGNvbG9yID0gcGFyc2VDb2xvcihlbGVtZW50LmF0dHIoJ21kLWluay1yaXBwbGUnKSkgfHwgcGFyc2VDb2xvcigkd2luZG93LmdldENvbXB1dGVkU3R5bGUob3B0aW9ucy5jb2xvckVsZW1lbnRbMF0pLmNvbG9yIHx8ICdyZ2IoMCwgMCwgMCknKTtcblxuICAgIHN3aXRjaCAocmlwcGxlU2l6ZVNldHRpbmcpIHtcbiAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICBvcHRpb25zLmlzRkFCID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwYXJ0aWFsJzpcbiAgICAgICAgb3B0aW9ucy5pc0ZBQiA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBleHBvc2Ugb25JbnB1dCBmb3IgcmlwcGxlIHRlc3RpbmdcbiAgICBpZiAob3B0aW9ucy5tb3VzZWRvd24pIHtcbiAgICAgIGVsZW1lbnQub24oJyRtZC5wcmVzc2Rvd24nLCBvblByZXNzRG93bilcbiAgICAgICAgLm9uKCckbWQucHJlc3N1cCcsIG9uUHJlc3NVcCk7XG4gICAgfVxuXG4gICAgY29udHJvbGxlci5jcmVhdGVSaXBwbGUgPSBjcmVhdGVSaXBwbGU7XG5cbiAgICBpZiAoaXNBY3RpdmVFeHByKSB7XG4gICAgICBzY29wZS4kd2F0Y2goaXNBY3RpdmVFeHByLCBmdW5jdGlvbiB3YXRjaEFjdGl2ZShuZXdWYWx1ZSkge1xuICAgICAgICBpc0FjdGl2ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBpZiAoaXNBY3RpdmUgJiYgIXJpcHBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjcmVhdGVSaXBwbGUoMCwgMCk7IH0sIDAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gocmlwcGxlcywgdXBkYXRlRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQdWJsaXNoIHNlbGYtZGV0YWNoIG1ldGhvZCBpZiBkZXNpcmVkLi4uXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGVsZW1lbnQub2ZmKCckbWQucHJlc3Nkb3duJywgb25QcmVzc0Rvd24pXG4gICAgICAgIC5vZmYoJyRtZC5wcmVzc3VwJywgb25QcmVzc1VwKTtcbiAgICAgIGdldFJpcHBsZUNvbnRhaW5lcigpLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHJpcHBsZSBjb250YWluZXJcbiAgICAgKiBJZiB0aGVyZSBpcyBubyByaXBwbGUgY29udGFpbmVyLCBpdCBjcmVhdGVzIG9uZSBhbmQgcmV0dXJucyBpdFxuICAgICAqXG4gICAgICogQHJldHVybnMge2FuZ3VsYXIuZWxlbWVudH0gcmlwcGxlIGNvbnRhaW5lciBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmlwcGxlQ29udGFpbmVyKCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQuZGF0YSgnJG1kUmlwcGxlQ29udGFpbmVyJyk7XG4gICAgICBpZiAoY29udGFpbmVyKSByZXR1cm4gY29udGFpbmVyO1xuICAgICAgY29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwibWQtcmlwcGxlLWNvbnRhaW5lclwiPicpO1xuICAgICAgZWxlbWVudC5hcHBlbmQoY29udGFpbmVyKTtcbiAgICAgIGVsZW1lbnQuZGF0YSgnJG1kUmlwcGxlQ29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcikge1xuICAgICAgaWYgKCFjb2xvcikgcmV0dXJuO1xuICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJ3JnYmEnKSA9PT0gMCkgcmV0dXJuIGNvbG9yLnJlcGxhY2UoL1xcZD9cXC4/XFxkKlxccypcXClcXHMqJC8sICcwLjEpJyk7XG4gICAgICBpZiAoY29sb3IuaW5kZXhPZigncmdiJykgID09PSAwKSByZXR1cm4gcmdiVG9SR0JBKGNvbG9yKTtcbiAgICAgIGlmIChjb2xvci5pbmRleE9mKCcjJykgICAgPT09IDApIHJldHVybiBoZXhUb1JHQkEoY29sb3IpO1xuXG4gICAgICAvKipcbiAgICAgICAqIENvbnZlcnRzIGEgaGV4IHZhbHVlIHRvIGFuIHJnYmEgc3RyaW5nXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGhleCB2YWx1ZSAoMyBvciA2IGRpZ2l0cykgdG8gYmUgY29udmVydGVkXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gcmdiYSBjb2xvciB3aXRoIDAuMSBhbHBoYVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBoZXhUb1JHQkEoY29sb3IpIHtcbiAgICAgICAgdmFyIGhleCA9IGNvbG9yLmNoYXJBdCgwKSA9PT0gJyMnID8gY29sb3Iuc3Vic3RyKDEpIDogY29sb3IsXG4gICAgICAgICAgZGlnID0gaGV4Lmxlbmd0aCAvIDMsXG4gICAgICAgICAgcmVkID0gaGV4LnN1YnN0cigwLCBkaWcpLFxuICAgICAgICAgIGdybiA9IGhleC5zdWJzdHIoZGlnLCBkaWcpLFxuICAgICAgICAgIGJsdSA9IGhleC5zdWJzdHIoZGlnICogMik7XG4gICAgICAgIGlmIChkaWcgPT09IDEpIHtcbiAgICAgICAgICByZWQgKz0gcmVkO1xuICAgICAgICAgIGdybiArPSBncm47XG4gICAgICAgICAgYmx1ICs9IGJsdTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3JnYmEoJyArIHBhcnNlSW50KHJlZCwgMTYpICsgJywnICsgcGFyc2VJbnQoZ3JuLCAxNikgKyAnLCcgKyBwYXJzZUludChibHUsIDE2KSArICcsMC4xKSc7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ29udmVydHMgcmdiIHZhbHVlIHRvIHJnYmEgc3RyaW5nXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJnYiBjb2xvciBzdHJpbmdcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSByZ2JhIGNvbG9yIHdpdGggMC4xIGFscGhhXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJnYlRvUkdCQShjb2xvcikge1xuICAgICAgICByZXR1cm4gY29sb3IucmVwbGFjZSgnKScsICcsIDAuMSknKS5yZXBsYWNlKCcoJywgJ2EoJyk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsZW0sIHdhaXQpIHtcbiAgICAgIHJpcHBsZXMuc3BsaWNlKHJpcHBsZXMuaW5kZXhPZihlbGVtKSwgMSk7XG4gICAgICBpZiAocmlwcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UmlwcGxlQ29udGFpbmVyKCkuY3NzKHsgYmFja2dyb3VuZENvbG9yOiAnJyB9KTtcbiAgICAgIH1cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgZWxlbS5yZW1vdmUoKTsgfSwgd2FpdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQoZWxlbSkge1xuICAgICAgdmFyIGluZGV4ID0gcmlwcGxlcy5pbmRleE9mKGVsZW0pLFxuICAgICAgICAgIHN0YXRlID0gc3RhdGVzW2luZGV4XSB8fCB7fSxcbiAgICAgICAgICBlbGVtSXNBY3RpdmUgPSByaXBwbGVzLmxlbmd0aCA+IDEgPyBmYWxzZSA6IGlzQWN0aXZlLFxuICAgICAgICAgIGVsZW1Jc0hlbGQgICA9IHJpcHBsZXMubGVuZ3RoID4gMSA/IGZhbHNlIDogaXNIZWxkO1xuICAgICAgaWYgKGVsZW1Jc0FjdGl2ZSB8fCBzdGF0ZS5hbmltYXRpbmcgfHwgZWxlbUlzSGVsZCkge1xuICAgICAgICBlbGVtLmFkZENsYXNzKCdtZC1yaXBwbGUtdmlzaWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ21kLXJpcHBsZS12aXNpYmxlJyk7XG4gICAgICAgIGlmIChvcHRpb25zLm91dGxpbmUpIHtcbiAgICAgICAgICBlbGVtLmNzcyh7XG4gICAgICAgICAgICB3aWR0aDogcmlwcGxlU2l6ZSArICdweCcsXG4gICAgICAgICAgICBoZWlnaHQ6IHJpcHBsZVNpemUgKyAncHgnLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogKHJpcHBsZVNpemUgKiAtMSkgKyAncHgnLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiAocmlwcGxlU2l6ZSAqIC0xKSArICdweCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVFbGVtZW50KGVsZW0sIG9wdGlvbnMub3V0bGluZSA/IDQ1MCA6IDY1MCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJpcHBsZSBhdCB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IGN1cnNvciBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgY3Vyc29yIHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5lbGVtZW50fSB0aGUgZ2VuZXJhdGVkIHJpcHBsZSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmlwcGxlKGxlZnQsIHRvcCkge1xuXG4gICAgICBjb2xvciA9IHBhcnNlQ29sb3IoZWxlbWVudC5hdHRyKCdtZC1pbmstcmlwcGxlJykpIHx8IHBhcnNlQ29sb3IoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9wdGlvbnMuY29sb3JFbGVtZW50WzBdKS5jb2xvciB8fCAncmdiKDAsIDAsIDApJyk7XG5cbiAgICAgIHZhciBjb250YWluZXIgPSBnZXRSaXBwbGVDb250YWluZXIoKSxcbiAgICAgICAgICBzaXplID0gZ2V0UmlwcGxlU2l6ZShsZWZ0LCB0b3ApLFxuICAgICAgICAgIGNzcyA9IGdldFJpcHBsZUNzcyhzaXplLCBsZWZ0LCB0b3ApLFxuICAgICAgICAgIGVsZW0gPSBnZXRSaXBwbGVFbGVtZW50KGNzcyksXG4gICAgICAgICAgaW5kZXggPSByaXBwbGVzLmluZGV4T2YoZWxlbSksXG4gICAgICAgICAgc3RhdGUgPSBzdGF0ZXNbaW5kZXhdIHx8IHt9O1xuXG4gICAgICByaXBwbGVTaXplID0gc2l6ZTtcblxuICAgICAgc3RhdGUuYW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0aW9ucy5kaW1CYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgY29udGFpbmVyLmNzcyh7IGJhY2tncm91bmRDb2xvcjogY29sb3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5hZGRDbGFzcygnbWQtcmlwcGxlLXBsYWNlZCBtZC1yaXBwbGUtc2NhbGVkJyk7XG4gICAgICAgIGlmIChvcHRpb25zLm91dGxpbmUpIHtcbiAgICAgICAgICBlbGVtLmNzcyh7XG4gICAgICAgICAgICBib3JkZXJXaWR0aDogKHNpemUgKiAwLjUpICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IChzaXplICogLTAuNSkgKyAncHgnLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiAoc2l6ZSAqIC0wLjUpICsgJ3B4J1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW0uY3NzKHsgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlRWxlbWVudChlbGVtKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0YXRlLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHVwZGF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgICAgIH0sIChvcHRpb25zLm91dGxpbmUgPyA0NTAgOiAyMjUpLCBmYWxzZSk7XG4gICAgICB9LCAwLCBmYWxzZSk7XG5cbiAgICAgIHJldHVybiBlbGVtO1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgdGhlIHJpcHBsZSBlbGVtZW50IHdpdGggdGhlIHByb3ZpZGVkIGNzc1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjc3MgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuZWxlbWVudH0gdGhlIGdlbmVyYXRlZCByaXBwbGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBnZXRSaXBwbGVFbGVtZW50KGNzcykge1xuICAgICAgICB2YXIgZWxlbSA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLXJpcHBsZVwiIGRhdGEtY291bnRlcj1cIicgKyBjb3VudGVyKysgKyAnXCI+Jyk7XG4gICAgICAgIHJpcHBsZXMudW5zaGlmdChlbGVtKTtcbiAgICAgICAgc3RhdGVzLnVuc2hpZnQoeyBhbmltYXRpbmc6IHRydWUgfSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoZWxlbSk7XG4gICAgICAgIGNzcyAmJiBlbGVtLmNzcyhjc3MpO1xuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxjdWxhdGUgdGhlIHJpcHBsZSBzaXplXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge251bWJlcn0gY2FsY3VsYXRlZCByaXBwbGUgZGlhbWV0ZXJcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0UmlwcGxlU2l6ZShsZWZ0LCB0b3ApIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY29udGFpbmVyLnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgICBoZWlnaHQgPSBjb250YWluZXIucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgICBtdWx0aXBsaWVyLCBzaXplLCByZWN0O1xuICAgICAgICBpZiAob3B0aW9ucy5pc01lbnVJdGVtKSB7XG4gICAgICAgICAgc2l6ZSA9IE1hdGguc3FydChNYXRoLnBvdyh3aWR0aCwgMikgKyBNYXRoLnBvdyhoZWlnaHQsIDIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm91dGxpbmUpIHtcbiAgICAgICAgICByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBsZWZ0IC09IHJlY3QubGVmdDtcbiAgICAgICAgICB0b3AgLT0gcmVjdC50b3A7XG4gICAgICAgICAgd2lkdGggPSBNYXRoLm1heChsZWZ0LCB3aWR0aCAtIGxlZnQpO1xuICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KHRvcCwgaGVpZ2h0IC0gdG9wKTtcbiAgICAgICAgICBzaXplID0gMiAqIE1hdGguc3FydChNYXRoLnBvdyh3aWR0aCwgMikgKyBNYXRoLnBvdyhoZWlnaHQsIDIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtdWx0aXBsaWVyID0gb3B0aW9ucy5pc0ZBQiA/IDEuMSA6IDAuODtcbiAgICAgICAgICBzaXplID0gTWF0aC5zcXJ0KE1hdGgucG93KHdpZHRoLCAyKSArIE1hdGgucG93KGhlaWdodCwgMikpICogbXVsdGlwbGllcjtcbiAgICAgICAgICBpZiAob3B0aW9ucy5maXRSaXBwbGUpIHtcbiAgICAgICAgICAgIHNpemUgPSBNYXRoLm1pbihoZWlnaHQsIHdpZHRoLCBzaXplKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2VuZXJhdGVzIHRoZSByaXBwbGUgY3NzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRoZSBkaWFtZXRlciBvZiB0aGUgcmlwcGxlXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGhlIGxlZnQgY3Vyc29yIG9mZnNldFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRoZSB0b3AgY3Vyc29yIG9mZnNldFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHt7YmFja2dyb3VuZENvbG9yOiAqLCB3aWR0aDogc3RyaW5nLCBoZWlnaHQ6IHN0cmluZywgbWFyZ2luTGVmdDogc3RyaW5nLCBtYXJnaW5Ub3A6IHN0cmluZ319XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFJpcHBsZUNzcyhzaXplLCBsZWZ0LCB0b3ApIHtcbiAgICAgICAgdmFyIHJlY3QsXG4gICAgICAgICAgICBjc3MgPSB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogcmdiYVRvUkdCKGNvbG9yKSxcbiAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHJnYmFUb1JHQihjb2xvciksXG4gICAgICAgICAgICAgIHdpZHRoOiBzaXplICsgJ3B4JyxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBzaXplICsgJ3B4J1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgY3NzLndpZHRoID0gMDtcbiAgICAgICAgICBjc3MuaGVpZ2h0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3MubWFyZ2luTGVmdCA9IGNzcy5tYXJnaW5Ub3AgPSAoc2l6ZSAqIC0wLjUpICsgJ3B4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmNlbnRlcikge1xuICAgICAgICAgIGNzcy5sZWZ0ID0gY3NzLnRvcCA9ICc1MCUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIGNzcy5sZWZ0ID0gTWF0aC5yb3VuZCgobGVmdCAtIHJlY3QubGVmdCkgLyBjb250YWluZXIucHJvcCgnb2Zmc2V0V2lkdGgnKSAqIDEwMCkgKyAnJSc7XG4gICAgICAgICAgY3NzLnRvcCA9IE1hdGgucm91bmQoKHRvcCAtIHJlY3QudG9wKSAvIGNvbnRhaW5lci5wcm9wKCdvZmZzZXRIZWlnaHQnKSAqIDEwMCkgKyAnJSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3NzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0cyByZ2JhIHN0cmluZyB0byByZ2IsIHJlbW92aW5nIHRoZSBhbHBoYSB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmdiYSBjb2xvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSByZ2IgY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJnYmFUb1JHQihjb2xvcikge1xuICAgICAgICAgIHJldHVybiBjb2xvci5yZXBsYWNlKCdyZ2JhJywgJ3JnYicpLnJlcGxhY2UoLyxbXlxcKVxcLF0rXFwpLywgJyknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdXNlciBpbnB1dCBzdGFydCBhbmQgc3RvcCBldmVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uUHJlc3NEb3duKGV2KSB7XG4gICAgICBpZiAoIWlzUmlwcGxlQWxsb3dlZCgpKSByZXR1cm47XG5cbiAgICAgIHZhciByaXBwbGUgPSBjcmVhdGVSaXBwbGUoZXYucG9pbnRlci54LCBldi5wb2ludGVyLnkpO1xuICAgICAgaXNIZWxkID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25QcmVzc1VwKGV2KSB7XG4gICAgICBpc0hlbGQgPSBmYWxzZTtcbiAgICAgIHZhciByaXBwbGUgPSByaXBwbGVzWyByaXBwbGVzLmxlbmd0aCAtIDEgXTtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgdXBkYXRlRWxlbWVudChyaXBwbGUpOyB9LCAwLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgcmlwcGxlIGlzIGFsbG93ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSByaXBwbGUgaXMgYWxsb3dlZCwgZmFsc2UgaWYgbm90XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNSaXBwbGVBbGxvd2VkKCkge1xuICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHZhciBncmFuZHBhcmVudCA9IHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIHZhciBhbmNlc3RvciA9IGdyYW5kcGFyZW50ICYmIGdyYW5kcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICByZXR1cm4gIWlzRGlzYWJsZWQobm9kZSkgJiYgIWlzRGlzYWJsZWQocGFyZW50KSAmJiAhaXNEaXNhYmxlZChncmFuZHBhcmVudCkgJiYgIWlzRGlzYWJsZWQoYW5jZXN0b3IpO1xuICAgICAgZnVuY3Rpb24gaXNEaXNhYmxlZCAoZWxlbSkge1xuICAgICAgICByZXR1cm4gZWxlbSAmJiBlbGVtLmhhc0F0dHJpYnV0ZSAmJiBlbGVtLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxufVxuSW5rUmlwcGxlU2VydmljZS4kaW5qZWN0ID0gW1wiJHdpbmRvd1wiLCBcIiR0aW1lb3V0XCJdO1xuXG4vKipcbiAqIG5vaW5rL25vYmFyL25vc3RyZXRjaCBkaXJlY3RpdmU6IG1ha2UgYW55IGVsZW1lbnQgdGhhdCBoYXMgb25lIG9mXG4gKiB0aGVzZSBhdHRyaWJ1dGVzIGJlIGdpdmVuIGEgY29udHJvbGxlciwgc28gdGhhdCBvdGhlciBkaXJlY3RpdmVzIGNhblxuICogYHJlcXVpcmU6YCB0aGVzZSBhbmQgc2VlIGlmIHRoZXJlIGlzIGEgYG5vPHh4eD5gIHBhcmVudCBhdHRyaWJ1dGUuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPHBhcmVudCBtZC1uby1pbms+XG4gKiAgIDxjaGlsZCBkZXRlY3Qtbm8+XG4gKiAgIDwvY2hpbGQ+XG4gKiA8L3BhcmVudD5cbiAqIDwvaGxqcz5cbiAqXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIG15QXBwLmRpcmVjdGl2ZSgnZGV0ZWN0Tm8nLCBmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICByZXF1aXJlOiBbJ14/bWROb0luaycsIF4/bWROb0JhciddLFxuICogICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICogICAgICAgdmFyIG5vaW5rQ3RybCA9IGN0cmxzWzBdO1xuICogICAgICAgdmFyIG5vYmFyQ3RybCA9IGN0cmxzWzFdO1xuICogICAgICAgaWYgKG5vSW5rQ3RybCkge1xuICogICAgICAgICBhbGVydChcInRoZSBtZC1uby1pbmsgZmxhZyBoYXMgYmVlbiBzcGVjaWZpZWQgb24gYW4gYW5jZXN0b3IhXCIpO1xuICogICAgICAgfVxuICogICAgICAgaWYgKG5vYmFyQ3RybCkge1xuICogICAgICAgICBhbGVydChcInRoZSBtZC1uby1iYXIgZmxhZyBoYXMgYmVlbiBzcGVjaWZpZWQgb24gYW4gYW5jZXN0b3IhXCIpO1xuICogICAgICAgfVxuICogICAgIH1cbiAqICAgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBhdHRyTm9EaXJlY3RpdmUoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wXG4gICAgfTtcbiAgfTtcbn1cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZScsIFtdKVxuLmNvbnN0YW50KCckbWRDb2xvclBhbGV0dGUnLCB7XG4gICdyZWQnOiB7XG4gICAgJzUwJzogJyNmZmViZWUnLFxuICAgICcxMDAnOiAnI2ZmY2RkMicsXG4gICAgJzIwMCc6ICcjZWY5YTlhJyxcbiAgICAnMzAwJzogJyNlNTczNzMnLFxuICAgICc0MDAnOiAnI2VmNTM1MCcsXG4gICAgJzUwMCc6ICcjZjQ0MzM2JyxcbiAgICAnNjAwJzogJyNlNTM5MzUnLFxuICAgICc3MDAnOiAnI2QzMmYyZicsXG4gICAgJzgwMCc6ICcjYzYyODI4JyxcbiAgICAnOTAwJzogJyNiNzFjMWMnLFxuICAgICdBMTAwJzogJyNmZjhhODAnLFxuICAgICdBMjAwJzogJyNmZjUyNTInLFxuICAgICdBNDAwJzogJyNmZjE3NDQnLFxuICAgICdBNzAwJzogJyNkNTAwMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCA0MDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdwaW5rJzoge1xuICAgICc1MCc6ICcjZmNlNGVjJyxcbiAgICAnMTAwJzogJyNmOGJiZDAnLFxuICAgICcyMDAnOiAnI2Y0OGZiMScsXG4gICAgJzMwMCc6ICcjZjA2MjkyJyxcbiAgICAnNDAwJzogJyNlYzQwN2EnLFxuICAgICc1MDAnOiAnI2U5MWU2MycsXG4gICAgJzYwMCc6ICcjZDgxYjYwJyxcbiAgICAnNzAwJzogJyNjMjE4NWInLFxuICAgICc4MDAnOiAnI2FkMTQ1NycsXG4gICAgJzkwMCc6ICcjODgwZTRmJyxcbiAgICAnQTEwMCc6ICcjZmY4MGFiJyxcbiAgICAnQTIwMCc6ICcjZmY0MDgxJyxcbiAgICAnQTQwMCc6ICcjZjUwMDU3JyxcbiAgICAnQTcwMCc6ICcjYzUxMTYyJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgNDAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdwdXJwbGUnOiB7XG4gICAgJzUwJzogJyNmM2U1ZjUnLFxuICAgICcxMDAnOiAnI2UxYmVlNycsXG4gICAgJzIwMCc6ICcjY2U5M2Q4JyxcbiAgICAnMzAwJzogJyNiYTY4YzgnLFxuICAgICc0MDAnOiAnI2FiNDdiYycsXG4gICAgJzUwMCc6ICcjOWMyN2IwJyxcbiAgICAnNjAwJzogJyM4ZTI0YWEnLFxuICAgICc3MDAnOiAnIzdiMWZhMicsXG4gICAgJzgwMCc6ICcjNmExYjlhJyxcbiAgICAnOTAwJzogJyM0YTE0OGMnLFxuICAgICdBMTAwJzogJyNlYTgwZmMnLFxuICAgICdBMjAwJzogJyNlMDQwZmInLFxuICAgICdBNDAwJzogJyNkNTAwZjknLFxuICAgICdBNzAwJzogJyNhYTAwZmYnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzMwMCA0MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdkZWVwLXB1cnBsZSc6IHtcbiAgICAnNTAnOiAnI2VkZTdmNicsXG4gICAgJzEwMCc6ICcjZDFjNGU5JyxcbiAgICAnMjAwJzogJyNiMzlkZGInLFxuICAgICczMDAnOiAnIzk1NzVjZCcsXG4gICAgJzQwMCc6ICcjN2U1N2MyJyxcbiAgICAnNTAwJzogJyM2NzNhYjcnLFxuICAgICc2MDAnOiAnIzVlMzViMScsXG4gICAgJzcwMCc6ICcjNTEyZGE4JyxcbiAgICAnODAwJzogJyM0NTI3YTAnLFxuICAgICc5MDAnOiAnIzMxMWI5MicsXG4gICAgJ0ExMDAnOiAnI2IzODhmZicsXG4gICAgJ0EyMDAnOiAnIzdjNGRmZicsXG4gICAgJ0E0MDAnOiAnIzY1MWZmZicsXG4gICAgJ0E3MDAnOiAnIzYyMDBlYScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnMzAwIDQwMCBBMjAwJ1xuICB9LFxuICAnaW5kaWdvJzoge1xuICAgICc1MCc6ICcjZThlYWY2JyxcbiAgICAnMTAwJzogJyNjNWNhZTknLFxuICAgICcyMDAnOiAnIzlmYThkYScsXG4gICAgJzMwMCc6ICcjNzk4NmNiJyxcbiAgICAnNDAwJzogJyM1YzZiYzAnLFxuICAgICc1MDAnOiAnIzNmNTFiNScsXG4gICAgJzYwMCc6ICcjMzk0OWFiJyxcbiAgICAnNzAwJzogJyMzMDNmOWYnLFxuICAgICc4MDAnOiAnIzI4MzU5MycsXG4gICAgJzkwMCc6ICcjMWEyMzdlJyxcbiAgICAnQTEwMCc6ICcjOGM5ZWZmJyxcbiAgICAnQTIwMCc6ICcjNTM2ZGZlJyxcbiAgICAnQTQwMCc6ICcjM2Q1YWZlJyxcbiAgICAnQTcwMCc6ICcjMzA0ZmZlJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwIEEyMDAgQTQwMCdcbiAgfSxcbiAgJ2JsdWUnOiB7XG4gICAgJzUwJzogJyNlM2YyZmQnLFxuICAgICcxMDAnOiAnI2JiZGVmYicsXG4gICAgJzIwMCc6ICcjOTBjYWY5JyxcbiAgICAnMzAwJzogJyM2NGI1ZjYnLFxuICAgICc0MDAnOiAnIzQyYTVmNScsXG4gICAgJzUwMCc6ICcjMjE5NmYzJyxcbiAgICAnNjAwJzogJyMxZTg4ZTUnLFxuICAgICc3MDAnOiAnIzE5NzZkMicsXG4gICAgJzgwMCc6ICcjMTU2NWMwJyxcbiAgICAnOTAwJzogJyMwZDQ3YTEnLFxuICAgICdBMTAwJzogJyM4MmIxZmYnLFxuICAgICdBMjAwJzogJyM0NDhhZmYnLFxuICAgICdBNDAwJzogJyMyOTc5ZmYnLFxuICAgICdBNzAwJzogJyMyOTYyZmYnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICcxMDAgMjAwIDMwMCA0MDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdsaWdodC1ibHVlJzoge1xuICAgICc1MCc6ICcjZTFmNWZlJyxcbiAgICAnMTAwJzogJyNiM2U1ZmMnLFxuICAgICcyMDAnOiAnIzgxZDRmYScsXG4gICAgJzMwMCc6ICcjNGZjM2Y3JyxcbiAgICAnNDAwJzogJyMyOWI2ZjYnLFxuICAgICc1MDAnOiAnIzAzYTlmNCcsXG4gICAgJzYwMCc6ICcjMDM5YmU1JyxcbiAgICAnNzAwJzogJyMwMjg4ZDEnLFxuICAgICc4MDAnOiAnIzAyNzdiZCcsXG4gICAgJzkwMCc6ICcjMDE1NzliJyxcbiAgICAnQTEwMCc6ICcjODBkOGZmJyxcbiAgICAnQTIwMCc6ICcjNDBjNGZmJyxcbiAgICAnQTQwMCc6ICcjMDBiMGZmJyxcbiAgICAnQTcwMCc6ICcjMDA5MWVhJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCBBNzAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgQTcwMCdcbiAgfSxcbiAgJ2N5YW4nOiB7XG4gICAgJzUwJzogJyNlMGY3ZmEnLFxuICAgICcxMDAnOiAnI2IyZWJmMicsXG4gICAgJzIwMCc6ICcjODBkZWVhJyxcbiAgICAnMzAwJzogJyM0ZGQwZTEnLFxuICAgICc0MDAnOiAnIzI2YzZkYScsXG4gICAgJzUwMCc6ICcjMDBiY2Q0JyxcbiAgICAnNjAwJzogJyMwMGFjYzEnLFxuICAgICc3MDAnOiAnIzAwOTdhNycsXG4gICAgJzgwMCc6ICcjMDA4MzhmJyxcbiAgICAnOTAwJzogJyMwMDYwNjQnLFxuICAgICdBMTAwJzogJyM4NGZmZmYnLFxuICAgICdBMjAwJzogJyMxOGZmZmYnLFxuICAgICdBNDAwJzogJyMwMGU1ZmYnLFxuICAgICdBNzAwJzogJyMwMGI4ZDQnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAnXG4gIH0sXG4gICd0ZWFsJzoge1xuICAgICc1MCc6ICcjZTBmMmYxJyxcbiAgICAnMTAwJzogJyNiMmRmZGInLFxuICAgICcyMDAnOiAnIzgwY2JjNCcsXG4gICAgJzMwMCc6ICcjNGRiNmFjJyxcbiAgICAnNDAwJzogJyMyNmE2OWEnLFxuICAgICc1MDAnOiAnIzAwOTY4OCcsXG4gICAgJzYwMCc6ICcjMDA4OTdiJyxcbiAgICAnNzAwJzogJyMwMDc5NmInLFxuICAgICc4MDAnOiAnIzAwNjk1YycsXG4gICAgJzkwMCc6ICcjMDA0ZDQwJyxcbiAgICAnQTEwMCc6ICcjYTdmZmViJyxcbiAgICAnQTIwMCc6ICcjNjRmZmRhJyxcbiAgICAnQTQwMCc6ICcjMWRlOWI2JyxcbiAgICAnQTcwMCc6ICcjMDBiZmE1JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAnXG4gIH0sXG4gICdncmVlbic6IHtcbiAgICAnNTAnOiAnI2U4ZjVlOScsXG4gICAgJzEwMCc6ICcjYzhlNmM5JyxcbiAgICAnMjAwJzogJyNhNWQ2YTcnLFxuICAgICczMDAnOiAnIzgxYzc4NCcsXG4gICAgJzQwMCc6ICcjNjZiYjZhJyxcbiAgICAnNTAwJzogJyM0Y2FmNTAnLFxuICAgICc2MDAnOiAnIzQzYTA0NycsXG4gICAgJzcwMCc6ICcjMzg4ZTNjJyxcbiAgICAnODAwJzogJyMyZTdkMzInLFxuICAgICc5MDAnOiAnIzFiNWUyMCcsXG4gICAgJ0ExMDAnOiAnI2I5ZjZjYScsXG4gICAgJ0EyMDAnOiAnIzY5ZjBhZScsXG4gICAgJ0E0MDAnOiAnIzAwZTY3NicsXG4gICAgJ0E3MDAnOiAnIzAwYzg1MycsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwJ1xuICB9LFxuICAnbGlnaHQtZ3JlZW4nOiB7XG4gICAgJzUwJzogJyNmMWY4ZTknLFxuICAgICcxMDAnOiAnI2RjZWRjOCcsXG4gICAgJzIwMCc6ICcjYzVlMWE1JyxcbiAgICAnMzAwJzogJyNhZWQ1ODEnLFxuICAgICc0MDAnOiAnIzljY2M2NScsXG4gICAgJzUwMCc6ICcjOGJjMzRhJyxcbiAgICAnNjAwJzogJyM3Y2IzNDInLFxuICAgICc3MDAnOiAnIzY4OWYzOCcsXG4gICAgJzgwMCc6ICcjNTU4YjJmJyxcbiAgICAnOTAwJzogJyMzMzY5MWUnLFxuICAgICdBMTAwJzogJyNjY2ZmOTAnLFxuICAgICdBMjAwJzogJyNiMmZmNTknLFxuICAgICdBNDAwJzogJyM3NmZmMDMnLFxuICAgICdBNzAwJzogJyM2NGRkMTcnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc4MDAgOTAwJ1xuICB9LFxuICAnbGltZSc6IHtcbiAgICAnNTAnOiAnI2Y5ZmJlNycsXG4gICAgJzEwMCc6ICcjZjBmNGMzJyxcbiAgICAnMjAwJzogJyNlNmVlOWMnLFxuICAgICczMDAnOiAnI2RjZTc3NScsXG4gICAgJzQwMCc6ICcjZDRlMTU3JyxcbiAgICAnNTAwJzogJyNjZGRjMzknLFxuICAgICc2MDAnOiAnI2MwY2EzMycsXG4gICAgJzcwMCc6ICcjYWZiNDJiJyxcbiAgICAnODAwJzogJyM5ZTlkMjQnLFxuICAgICc5MDAnOiAnIzgyNzcxNycsXG4gICAgJ0ExMDAnOiAnI2Y0ZmY4MScsXG4gICAgJ0EyMDAnOiAnI2VlZmY0MScsXG4gICAgJ0E0MDAnOiAnI2M2ZmYwMCcsXG4gICAgJ0E3MDAnOiAnI2FlZWEwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnOTAwJ1xuICB9LFxuICAneWVsbG93Jzoge1xuICAgICc1MCc6ICcjZmZmZGU3JyxcbiAgICAnMTAwJzogJyNmZmY5YzQnLFxuICAgICcyMDAnOiAnI2ZmZjU5ZCcsXG4gICAgJzMwMCc6ICcjZmZmMTc2JyxcbiAgICAnNDAwJzogJyNmZmVlNTgnLFxuICAgICc1MDAnOiAnI2ZmZWIzYicsXG4gICAgJzYwMCc6ICcjZmRkODM1JyxcbiAgICAnNzAwJzogJyNmYmMwMmQnLFxuICAgICc4MDAnOiAnI2Y5YTgyNScsXG4gICAgJzkwMCc6ICcjZjU3ZjE3JyxcbiAgICAnQTEwMCc6ICcjZmZmZjhkJyxcbiAgICAnQTIwMCc6ICcjZmZmZjAwJyxcbiAgICAnQTQwMCc6ICcjZmZlYTAwJyxcbiAgICAnQTcwMCc6ICcjZmZkNjAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaydcbiAgfSxcbiAgJ2FtYmVyJzoge1xuICAgICc1MCc6ICcjZmZmOGUxJyxcbiAgICAnMTAwJzogJyNmZmVjYjMnLFxuICAgICcyMDAnOiAnI2ZmZTA4MicsXG4gICAgJzMwMCc6ICcjZmZkNTRmJyxcbiAgICAnNDAwJzogJyNmZmNhMjgnLFxuICAgICc1MDAnOiAnI2ZmYzEwNycsXG4gICAgJzYwMCc6ICcjZmZiMzAwJyxcbiAgICAnNzAwJzogJyNmZmEwMDAnLFxuICAgICc4MDAnOiAnI2ZmOGYwMCcsXG4gICAgJzkwMCc6ICcjZmY2ZjAwJyxcbiAgICAnQTEwMCc6ICcjZmZlNTdmJyxcbiAgICAnQTIwMCc6ICcjZmZkNzQwJyxcbiAgICAnQTQwMCc6ICcjZmZjNDAwJyxcbiAgICAnQTcwMCc6ICcjZmZhYjAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaydcbiAgfSxcbiAgJ29yYW5nZSc6IHtcbiAgICAnNTAnOiAnI2ZmZjNlMCcsXG4gICAgJzEwMCc6ICcjZmZlMGIyJyxcbiAgICAnMjAwJzogJyNmZmNjODAnLFxuICAgICczMDAnOiAnI2ZmYjc0ZCcsXG4gICAgJzQwMCc6ICcjZmZhNzI2JyxcbiAgICAnNTAwJzogJyNmZjk4MDAnLFxuICAgICc2MDAnOiAnI2ZiOGMwMCcsXG4gICAgJzcwMCc6ICcjZjU3YzAwJyxcbiAgICAnODAwJzogJyNlZjZjMDAnLFxuICAgICc5MDAnOiAnI2U2NTEwMCcsXG4gICAgJ0ExMDAnOiAnI2ZmZDE4MCcsXG4gICAgJ0EyMDAnOiAnI2ZmYWI0MCcsXG4gICAgJ0E0MDAnOiAnI2ZmOTEwMCcsXG4gICAgJ0E3MDAnOiAnI2ZmNmQwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzgwMCA5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzgwMCA5MDAnXG4gIH0sXG4gICdkZWVwLW9yYW5nZSc6IHtcbiAgICAnNTAnOiAnI2ZiZTllNycsXG4gICAgJzEwMCc6ICcjZmZjY2JjJyxcbiAgICAnMjAwJzogJyNmZmFiOTEnLFxuICAgICczMDAnOiAnI2ZmOGE2NScsXG4gICAgJzQwMCc6ICcjZmY3MDQzJyxcbiAgICAnNTAwJzogJyNmZjU3MjInLFxuICAgICc2MDAnOiAnI2Y0NTExZScsXG4gICAgJzcwMCc6ICcjZTY0YTE5JyxcbiAgICAnODAwJzogJyNkODQzMTUnLFxuICAgICc5MDAnOiAnI2JmMzYwYycsXG4gICAgJ0ExMDAnOiAnI2ZmOWU4MCcsXG4gICAgJ0EyMDAnOiAnI2ZmNmU0MCcsXG4gICAgJ0E0MDAnOiAnI2ZmM2QwMCcsXG4gICAgJ0E3MDAnOiAnI2RkMmMwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIDQwMCBBMTAwIEEyMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnYnJvd24nOiB7XG4gICAgJzUwJzogJyNlZmViZTknLFxuICAgICcxMDAnOiAnI2Q3Y2NjOCcsXG4gICAgJzIwMCc6ICcjYmNhYWE0JyxcbiAgICAnMzAwJzogJyNhMTg4N2YnLFxuICAgICc0MDAnOiAnIzhkNmU2MycsXG4gICAgJzUwMCc6ICcjNzk1NTQ4JyxcbiAgICAnNjAwJzogJyM2ZDRjNDEnLFxuICAgICc3MDAnOiAnIzVkNDAzNycsXG4gICAgJzgwMCc6ICcjNGUzNDJlJyxcbiAgICAnOTAwJzogJyMzZTI3MjMnLFxuICAgICdBMTAwJzogJyNkN2NjYzgnLFxuICAgICdBMjAwJzogJyNiY2FhYTQnLFxuICAgICdBNDAwJzogJyM4ZDZlNjMnLFxuICAgICdBNzAwJzogJyM1ZDQwMzcnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwJ1xuICB9LFxuICAnZ3JleSc6IHtcbiAgICAnMCc6ICcjZmZmZmZmJyxcbiAgICAnNTAnOiAnI2ZhZmFmYScsXG4gICAgJzEwMCc6ICcjZjVmNWY1JyxcbiAgICAnMjAwJzogJyNlZWVlZWUnLFxuICAgICczMDAnOiAnI2UwZTBlMCcsXG4gICAgJzQwMCc6ICcjYmRiZGJkJyxcbiAgICAnNTAwJzogJyM5ZTllOWUnLFxuICAgICc2MDAnOiAnIzc1NzU3NScsXG4gICAgJzcwMCc6ICcjNjE2MTYxJyxcbiAgICAnODAwJzogJyM0MjQyNDInLFxuICAgICc5MDAnOiAnIzIxMjEyMScsXG4gICAgJzEwMDAnOiAnIzAwMDAwMCcsXG4gICAgJ0ExMDAnOiAnI2ZmZmZmZicsXG4gICAgJ0EyMDAnOiAnI2VlZWVlZScsXG4gICAgJ0E0MDAnOiAnI2JkYmRiZCcsXG4gICAgJ0E3MDAnOiAnIzYxNjE2MScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzYwMCA3MDAgODAwIDkwMCdcbiAgfSxcbiAgJ2JsdWUtZ3JleSc6IHtcbiAgICAnNTAnOiAnI2VjZWZmMScsXG4gICAgJzEwMCc6ICcjY2ZkOGRjJyxcbiAgICAnMjAwJzogJyNiMGJlYzUnLFxuICAgICczMDAnOiAnIzkwYTRhZScsXG4gICAgJzQwMCc6ICcjNzg5MDljJyxcbiAgICAnNTAwJzogJyM2MDdkOGInLFxuICAgICc2MDAnOiAnIzU0NmU3YScsXG4gICAgJzcwMCc6ICcjNDU1YTY0JyxcbiAgICAnODAwJzogJyMzNzQ3NGYnLFxuICAgICc5MDAnOiAnIzI2MzIzOCcsXG4gICAgJ0ExMDAnOiAnI2NmZDhkYycsXG4gICAgJ0EyMDAnOiAnI2IwYmVjNScsXG4gICAgJ0E0MDAnOiAnIzc4OTA5YycsXG4gICAgJ0E3MDAnOiAnIzQ1NWE2NCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc0MDAgNTAwJ1xuICB9XG59KTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlLnRoZW1pbmcnLCBbJ21hdGVyaWFsLmNvcmUudGhlbWluZy5wYWxldHRlJ10pXG4gIC5kaXJlY3RpdmUoJ21kVGhlbWUnLCBUaGVtaW5nRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZFRoZW1hYmxlJywgVGhlbWFibGVEaXJlY3RpdmUpXG4gIC5wcm92aWRlcignJG1kVGhlbWluZycsIFRoZW1pbmdQcm92aWRlcilcbiAgLnJ1bihnZW5lcmF0ZVRoZW1lcyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbWRUaGVtaW5nUHJvdmlkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICpcbiAqIEBkZXNjcmlwdGlvbiBQcm92aWRlciB0byBjb25maWd1cmUgdGhlIGAkbWRUaGVtaW5nYCBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyI3NldERlZmF1bHRUaGVtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lTmFtZSBEZWZhdWx0IHRoZW1lIG5hbWUgdG8gYmUgYXBwbGllZCB0byBlbGVtZW50cy4gRGVmYXVsdCB2YWx1ZSBpcyBgZGVmYXVsdGAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUaGVtaW5nUHJvdmlkZXIjYWx3YXlzV2F0Y2hUaGVtZVxuICogQHBhcmFtIHtib29sZWFufSB3YXRjaCBXaGV0aGVyIG9yIG5vdCB0byBhbHdheXMgd2F0Y2ggdGhlbWVzIGZvciBjaGFuZ2VzIGFuZCByZS1hcHBseVxuICogY2xhc3NlcyB3aGVuIHRoZXkgY2hhbmdlLiBEZWZhdWx0IGlzIGBmYWxzZWAuIEVuYWJsaW5nIGNhbiByZWR1Y2UgcGVyZm9ybWFuY2UuXG4gKi9cblxuLy8gSW4gbWVtb3J5IHN0b3JhZ2Ugb2YgZGVmaW5lZCB0aGVtZXMgYW5kIGNvbG9yIHBhbGV0dGVzIChib3RoIGxvYWRlZCBieSBDU1MsIGFuZCB1c2VyIHNwZWNpZmllZClcbnZhciBQQUxFVFRFUztcbnZhciBUSEVNRVM7XG52YXIgdGhlbWluZ1Byb3ZpZGVyO1xudmFyIGdlbmVyYXRpb25Jc0RvbmU7XG5cbnZhciBEQVJLX0ZPUkVHUk9VTkQgPSB7XG4gIG5hbWU6ICdkYXJrJyxcbiAgJzEnOiAncmdiYSgwLDAsMCwwLjg3KScsXG4gICcyJzogJ3JnYmEoMCwwLDAsMC41NCknLFxuICAnMyc6ICdyZ2JhKDAsMCwwLDAuMjYpJyxcbiAgJzQnOiAncmdiYSgwLDAsMCwwLjEyKSdcbn07XG52YXIgTElHSFRfRk9SRUdST1VORCA9IHtcbiAgbmFtZTogJ2xpZ2h0JyxcbiAgJzEnOiAncmdiYSgyNTUsMjU1LDI1NSwxLjApJyxcbiAgJzInOiAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJyxcbiAgJzMnOiAncmdiYSgyNTUsMjU1LDI1NSwwLjMpJyxcbiAgJzQnOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEyKSdcbn07XG5cbnZhciBEQVJLX1NIQURPVyA9ICcxcHggMXB4IDBweCByZ2JhKDAsMCwwLDAuNCksIC0xcHggLTFweCAwcHggcmdiYSgwLDAsMCwwLjQpJztcbnZhciBMSUdIVF9TSEFET1cgPSAnJztcblxudmFyIERBUktfQ09OVFJBU1RfQ09MT1IgPSBjb2xvclRvUmdiYUFycmF5KCdyZ2JhKDAsMCwwLDAuODcpJyk7XG52YXIgTElHSFRfQ09OVFJBU1RfQ09MT1IgPSBjb2xvclRvUmdiYUFycmF5KCdyZ2JhKDI1NSwyNTUsMjU1LDAuODcnKTtcbnZhciBTVFJPTkdfTElHSFRfQ09OVFJBU1RfQ09MT1IgPSBjb2xvclRvUmdiYUFycmF5KCdyZ2IoMjU1LDI1NSwyNTUpJyk7XG5cbnZhciBUSEVNRV9DT0xPUl9UWVBFUyA9IFsncHJpbWFyeScsICdhY2NlbnQnLCAnd2FybicsICdiYWNrZ3JvdW5kJ107XG52YXIgREVGQVVMVF9DT0xPUl9UWVBFID0gJ3ByaW1hcnknO1xuXG4vLyBBIGNvbG9yIGluIGEgdGhlbWUgd2lsbCB1c2UgdGhlc2UgaHVlcyBieSBkZWZhdWx0LCBpZiBub3Qgc3BlY2lmaWVkIGJ5IHVzZXIuXG52YXIgTElHSFRfREVGQVVMVF9IVUVTID0ge1xuICAnYWNjZW50Jzoge1xuICAgICdkZWZhdWx0JzogJ0EyMDAnLFxuICAgICdodWUtMSc6ICdBMTAwJyxcbiAgICAnaHVlLTInOiAnQTQwMCcsXG4gICAgJ2h1ZS0zJzogJ0E3MDAnXG4gIH1cbn07XG52YXIgREFSS19ERUZBVUxUX0hVRVMgPSB7XG4gICdiYWNrZ3JvdW5kJzoge1xuICAgICdkZWZhdWx0JzogJzUwMCcsXG4gICAgJ2h1ZS0xJzogJzMwMCcsXG4gICAgJ2h1ZS0yJzogJzYwMCcsXG4gICAgJ2h1ZS0zJzogJzgwMCdcbiAgfVxufTtcblRIRU1FX0NPTE9SX1RZUEVTLmZvckVhY2goZnVuY3Rpb24oY29sb3JUeXBlKSB7XG4gIC8vIENvbG9yIHR5cGVzIHdpdGggdW5zcGVjaWZpZWQgZGVmYXVsdCBodWVzIHdpbGwgdXNlIHRoZXNlIGRlZmF1bHQgaHVlIHZhbHVlc1xuICB2YXIgZGVmYXVsdERlZmF1bHRIdWVzID0ge1xuICAgICdkZWZhdWx0JzogJzUwMCcsXG4gICAgJ2h1ZS0xJzogJzMwMCcsXG4gICAgJ2h1ZS0yJzogJzgwMCcsXG4gICAgJ2h1ZS0zJzogJ0ExMDAnXG4gIH07XG4gIGlmICghTElHSFRfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0pIExJR0hUX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdID0gZGVmYXVsdERlZmF1bHRIdWVzO1xuICBpZiAoIURBUktfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0pIERBUktfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0gPSBkZWZhdWx0RGVmYXVsdEh1ZXM7XG59KTtcblxudmFyIFZBTElEX0hVRV9WQUxVRVMgPSBbXG4gICc1MCcsICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsXG4gICc3MDAnLCAnODAwJywgJzkwMCcsICdBMTAwJywgJ0EyMDAnLCAnQTQwMCcsICdBNzAwJ1xuXTtcblxuZnVuY3Rpb24gVGhlbWluZ1Byb3ZpZGVyKCRtZENvbG9yUGFsZXR0ZSkge1xuICBQQUxFVFRFUyA9IHt9O1xuICBUSEVNRVMgPSB7fTtcbiAgdmFyIGRlZmF1bHRUaGVtZSA9ICdkZWZhdWx0JztcbiAgdmFyIGFsd2F5c1dhdGNoVGhlbWUgPSBmYWxzZTtcblxuICAvLyBMb2FkIEpTIERlZmluZWQgUGFsZXR0ZXNcbiAgYW5ndWxhci5leHRlbmQoUEFMRVRURVMsICRtZENvbG9yUGFsZXR0ZSk7XG5cbiAgLy8gRGVmYXVsdCB0aGVtZSBkZWZpbmVkIGluIGNvcmUuanNcblxuICBUaGVtaW5nU2VydmljZS4kaW5qZWN0ID0gW1wiJHJvb3RTY29wZVwiLCBcIiRsb2dcIl07XG4gIHJldHVybiB0aGVtaW5nUHJvdmlkZXIgPSB7XG4gICAgZGVmaW5lUGFsZXR0ZTogZGVmaW5lUGFsZXR0ZSxcbiAgICBleHRlbmRQYWxldHRlOiBleHRlbmRQYWxldHRlLFxuICAgIHRoZW1lOiByZWdpc3RlclRoZW1lLFxuXG4gICAgc2V0RGVmYXVsdFRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuICAgICAgZGVmYXVsdFRoZW1lID0gdGhlbWU7XG4gICAgfSxcbiAgICBhbHdheXNXYXRjaFRoZW1lOiBmdW5jdGlvbihhbHdheXNXYXRjaCkge1xuICAgICAgYWx3YXlzV2F0Y2hUaGVtZSA9IGFsd2F5c1dhdGNoO1xuICAgIH0sXG4gICAgJGdldDogVGhlbWluZ1NlcnZpY2UsXG4gICAgX0xJR0hUX0RFRkFVTFRfSFVFUzogTElHSFRfREVGQVVMVF9IVUVTLFxuICAgIF9EQVJLX0RFRkFVTFRfSFVFUzogREFSS19ERUZBVUxUX0hVRVMsXG4gICAgX1BBTEVUVEVTOiBQQUxFVFRFUyxcbiAgICBfVEhFTUVTOiBUSEVNRVMsXG4gICAgX3BhcnNlUnVsZXM6IHBhcnNlUnVsZXMsXG4gICAgX3JnYmE6IHJnYmFcbiAgfTtcblxuICAvLyBFeGFtcGxlOiAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnbmVvblJlZCcsIHsgNTA6ICcjZjVmYWZhJywgLi4uIH0pO1xuICBmdW5jdGlvbiBkZWZpbmVQYWxldHRlKG5hbWUsIG1hcCkge1xuICAgIG1hcCA9IG1hcCB8fCB7fTtcbiAgICBQQUxFVFRFU1tuYW1lXSA9IGNoZWNrUGFsZXR0ZVZhbGlkKG5hbWUsIG1hcCk7XG4gICAgcmV0dXJuIHRoZW1pbmdQcm92aWRlcjtcbiAgfVxuXG4gIC8vIFJldHVybnMgYW4gbmV3IG9iamVjdCB3aGljaCBpcyBhIGNvcHkgb2YgYSBnaXZlbiBwYWxldHRlIGBuYW1lYCB3aXRoIHZhcmlhYmxlcyBmcm9tXG4gIC8vIGBtYXBgIG92ZXJ3cml0dGVuXG4gIC8vIEV4YW1wbGU6IHZhciBuZW9uUmVkTWFwID0gJG1kVGhlbWluZ1Byb3ZpZGVyLmV4dGVuZFBhbGV0dGUoJ3JlZCcsIHsgNTA6ICcjZjVmYWZhZmEnIH0pO1xuICBmdW5jdGlvbiBleHRlbmRQYWxldHRlKG5hbWUsIG1hcCkge1xuICAgIHJldHVybiBjaGVja1BhbGV0dGVWYWxpZChuYW1lLCAgYW5ndWxhci5leHRlbmQoe30sIFBBTEVUVEVTW25hbWVdIHx8IHt9LCBtYXApICk7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgdGhhdCBwYWxldHRlIGhhcyBhbGwgcmVxdWlyZWQgaHVlc1xuICBmdW5jdGlvbiBjaGVja1BhbGV0dGVWYWxpZChuYW1lLCBtYXApIHtcbiAgICB2YXIgbWlzc2luZ0NvbG9ycyA9IFZBTElEX0hVRV9WQUxVRVMuZmlsdGVyKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICByZXR1cm4gIW1hcFtmaWVsZF07XG4gICAgfSk7XG4gICAgaWYgKG1pc3NpbmdDb2xvcnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGNvbG9ycyAlMSBpbiBwYWxldHRlICUyIVwiXG4gICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgbWlzc2luZ0NvbG9ycy5qb2luKCcsICcpKVxuICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIG5hbWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgLy8gUmVnaXN0ZXIgYSB0aGVtZSAod2hpY2ggaXMgYSBjb2xsZWN0aW9uIG9mIGNvbG9yIHBhbGV0dGVzIHRvIHVzZSB3aXRoIHZhcmlvdXMgc3RhdGVzXG4gIC8vIGllLiB3YXJuLCBhY2NlbnQsIHByaW1hcnkgKVxuICAvLyBPcHRpb25hbGx5IGluaGVyaXQgZnJvbSBhbiBleGlzdGluZyB0aGVtZVxuICAvLyAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2N1c3RvbS10aGVtZScpLnByaW1hcnlQYWxldHRlKCdyZWQnKTtcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUaGVtZShuYW1lLCBpbmhlcml0RnJvbSkge1xuICAgIGluaGVyaXRGcm9tID0gaW5oZXJpdEZyb20gfHwgJ2RlZmF1bHQnO1xuICAgIGlmIChUSEVNRVNbbmFtZV0pIHJldHVybiBUSEVNRVNbbmFtZV07XG5cbiAgICB2YXIgcGFyZW50VGhlbWUgPSB0eXBlb2YgaW5oZXJpdEZyb20gPT09ICdzdHJpbmcnID8gVEhFTUVTW2luaGVyaXRGcm9tXSA6IGluaGVyaXRGcm9tO1xuICAgIHZhciB0aGVtZSA9IG5ldyBUaGVtZShuYW1lKTtcblxuICAgIGlmIChwYXJlbnRUaGVtZSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHBhcmVudFRoZW1lLmNvbG9ycywgZnVuY3Rpb24oY29sb3IsIGNvbG9yVHlwZSkge1xuICAgICAgICB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXSA9IHtcbiAgICAgICAgICBuYW1lOiBjb2xvci5uYW1lLFxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhIENPUFkgb2YgdGhlIGh1ZXMgaXMgZ2l2ZW4gdG8gdGhlIGNoaWxkIGNvbG9yLFxuICAgICAgICAgIC8vIG5vdCB0aGUgc2FtZSByZWZlcmVuY2UuXG4gICAgICAgICAgaHVlczogYW5ndWxhci5leHRlbmQoe30sIGNvbG9yLmh1ZXMpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgVEhFTUVTW25hbWVdID0gdGhlbWU7XG5cbiAgICByZXR1cm4gdGhlbWU7XG4gIH1cblxuICBmdW5jdGlvbiBUaGVtZShuYW1lKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmFtZSA9IG5hbWU7XG4gICAgc2VsZi5jb2xvcnMgPSB7fTtcblxuICAgIHNlbGYuZGFyayA9IHNldERhcms7XG4gICAgc2V0RGFyayhmYWxzZSk7XG5cbiAgICBmdW5jdGlvbiBzZXREYXJrKGlzRGFyaykge1xuICAgICAgaXNEYXJrID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IHRydWUgOiAhIWlzRGFyaztcblxuICAgICAgLy8gSWYgbm8gY2hhbmdlLCBhYm9ydFxuICAgICAgaWYgKGlzRGFyayA9PT0gc2VsZi5pc0RhcmspIHJldHVybjtcblxuICAgICAgc2VsZi5pc0RhcmsgPSBpc0Rhcms7XG5cbiAgICAgIHNlbGYuZm9yZWdyb3VuZFBhbGV0dGUgPSBzZWxmLmlzRGFyayA/IExJR0hUX0ZPUkVHUk9VTkQgOiBEQVJLX0ZPUkVHUk9VTkQ7XG4gICAgICBzZWxmLmZvcmVncm91bmRTaGFkb3cgPSBzZWxmLmlzRGFyayA/IERBUktfU0hBRE9XIDogTElHSFRfU0hBRE9XO1xuICAgICAgXG4gICAgICAvLyBMaWdodCBhbmQgZGFyayB0aGVtZXMgaGF2ZSBkaWZmZXJlbnQgZGVmYXVsdCBodWVzLlxuICAgICAgLy8gR28gdGhyb3VnaCBlYWNoIGV4aXN0aW5nIGNvbG9yIHR5cGUgZm9yIHRoaXMgdGhlbWUsIGFuZCBmb3IgZXZlcnlcbiAgICAgIC8vIGh1ZSB2YWx1ZSB0aGF0IGlzIHN0aWxsIHRoZSBkZWZhdWx0IGh1ZSB2YWx1ZSBmcm9tIHRoZSBwcmV2aW91cyBsaWdodC9kYXJrIHNldHRpbmcsXG4gICAgICAvLyBzZXQgaXQgdG8gdGhlIGRlZmF1bHQgaHVlIHZhbHVlIGZyb20gdGhlIG5ldyBsaWdodC9kYXJrIHNldHRpbmcuXG4gICAgICB2YXIgbmV3RGVmYXVsdEh1ZXMgPSBzZWxmLmlzRGFyayA/IERBUktfREVGQVVMVF9IVUVTIDogTElHSFRfREVGQVVMVF9IVUVTO1xuICAgICAgdmFyIG9sZERlZmF1bHRIdWVzID0gc2VsZi5pc0RhcmsgPyBMSUdIVF9ERUZBVUxUX0hVRVMgOiBEQVJLX0RFRkFVTFRfSFVFUztcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChuZXdEZWZhdWx0SHVlcywgZnVuY3Rpb24obmV3RGVmYXVsdHMsIGNvbG9yVHlwZSkge1xuICAgICAgICB2YXIgY29sb3IgPSBzZWxmLmNvbG9yc1tjb2xvclR5cGVdO1xuICAgICAgICB2YXIgb2xkRGVmYXVsdHMgPSBvbGREZWZhdWx0SHVlc1tjb2xvclR5cGVdO1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICBmb3IgKHZhciBodWVOYW1lIGluIGNvbG9yLmh1ZXMpIHtcbiAgICAgICAgICAgIGlmIChjb2xvci5odWVzW2h1ZU5hbWVdID09PSBvbGREZWZhdWx0c1todWVOYW1lXSkge1xuICAgICAgICAgICAgICBjb2xvci5odWVzW2h1ZU5hbWVdID0gbmV3RGVmYXVsdHNbaHVlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihjb2xvclR5cGUpIHtcbiAgICAgIHZhciBkZWZhdWx0SHVlcyA9IChzZWxmLmlzRGFyayA/IERBUktfREVGQVVMVF9IVUVTIDogTElHSFRfREVGQVVMVF9IVUVTKVtjb2xvclR5cGVdO1xuICAgICAgc2VsZltjb2xvclR5cGUgKyAnUGFsZXR0ZSddID0gZnVuY3Rpb24gc2V0UGFsZXR0ZVR5cGUocGFsZXR0ZU5hbWUsIGh1ZXMpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gc2VsZi5jb2xvcnNbY29sb3JUeXBlXSA9IHtcbiAgICAgICAgICBuYW1lOiBwYWxldHRlTmFtZSxcbiAgICAgICAgICBodWVzOiBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdEh1ZXMsIGh1ZXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgT2JqZWN0LmtleXMoY29sb3IuaHVlcykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgaWYgKCFkZWZhdWx0SHVlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBodWUgbmFtZSAnJTEnIGluIHRoZW1lICUyJ3MgJTMgY29sb3IgJTQuIEF2YWlsYWJsZSBodWUgbmFtZXM6ICU0XCJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgbmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgc2VsZi5uYW1lKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTMnLCBwYWxldHRlTmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU0JywgT2JqZWN0LmtleXMoZGVmYXVsdEh1ZXMpLmpvaW4oJywgJykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbG9yLmh1ZXMpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gY29sb3IuaHVlc1trZXldO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGh1ZVZhbHVlKSB7XG4gICAgICAgICAgaWYgKFZBTElEX0hVRV9WQUxVRVMuaW5kZXhPZihodWVWYWx1ZSkgPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaHVlIHZhbHVlICclMScgaW4gdGhlbWUgJTIncyAlMyBjb2xvciAlNC4gQXZhaWxhYmxlIGh1ZSB2YWx1ZXM6ICU1XCJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgaHVlVmFsdWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIHNlbGYubmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgY29sb3JUeXBlKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTQnLCBwYWxldHRlTmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU1JywgVkFMSURfSFVFX1ZBTFVFUy5qb2luKCcsICcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH07XG5cbiAgICAgIHNlbGZbY29sb3JUeXBlICsgJ0NvbG9yJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLndhcm4oJyRtZFRoZW1pbmdQcm92aWRlclRoZW1lLicgKyBjb2xvclR5cGUgKyAnQ29sb3IoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICdVc2UgJG1kVGhlbWluZ1Byb3ZpZGVyVGhlbWUuJyArIGNvbG9yVHlwZSArICdQYWxldHRlKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIHNlbGZbY29sb3JUeXBlICsgJ1BhbGV0dGUnXS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kVGhlbWluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogU2VydmljZSB0aGF0IG1ha2VzIGFuIGVsZW1lbnQgYXBwbHkgdGhlbWluZyByZWxhdGVkIGNsYXNzZXMgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBhcHAuZGlyZWN0aXZlKCdteUZhbmN5RGlyZWN0aXZlJywgZnVuY3Rpb24oJG1kVGhlbWluZykge1xuICAgKiAgIHJldHVybiB7XG4gICAqICAgICByZXN0cmljdDogJ2UnLFxuICAgKiAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycykge1xuICAgKiAgICAgICAkbWRUaGVtaW5nKGVsKTtcbiAgICogICAgIH1cbiAgICogICB9O1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7ZWw9fSBlbGVtZW50IHRvIGFwcGx5IHRoZW1pbmcgdG9cbiAgICovXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBUaGVtaW5nU2VydmljZSgkcm9vdFNjb3BlLCAkbG9nKSB7XG4gICAgYXBwbHlUaGVtZS5pbmhlcml0ID0gZnVuY3Rpb24oZWwsIHBhcmVudCkge1xuICAgICAgdmFyIGN0cmwgPSBwYXJlbnQuY29udHJvbGxlcignbWRUaGVtZScpO1xuXG4gICAgICB2YXIgYXR0clRoZW1lVmFsdWUgPSBlbC5hdHRyKCdtZC10aGVtZS13YXRjaCcpO1xuICAgICAgaWYgKCAoYWx3YXlzV2F0Y2hUaGVtZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRyVGhlbWVWYWx1ZSkpICYmIGF0dHJUaGVtZVZhbHVlICE9ICdmYWxzZScpIHtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaCA9ICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjdHJsICYmIGN0cmwuJG1kVGhlbWUgfHwgZGVmYXVsdFRoZW1lO1xuICAgICAgICB9LCBjaGFuZ2VUaGVtZSk7XG4gICAgICAgIGVsLm9uKCckZGVzdHJveScsIGRlcmVnaXN0ZXJXYXRjaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGhlbWUgPSBjdHJsICYmIGN0cmwuJG1kVGhlbWUgfHwgZGVmYXVsdFRoZW1lO1xuICAgICAgICBjaGFuZ2VUaGVtZSh0aGVtZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoYW5nZVRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGlmICghcmVnaXN0ZXJlZCh0aGVtZSkpIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ0F0dGVtcHRlZCB0byB1c2UgdW5yZWdpc3RlcmVkIHRoZW1lIFxcJycgKyB0aGVtZSArICdcXCcuICcgK1xuICAgICAgICAgICAgICAgICAgICAnUmVnaXN0ZXIgaXQgd2l0aCAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoKS4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2xkVGhlbWUgPSBlbC5kYXRhKCckbWRUaGVtZU5hbWUnKTtcbiAgICAgICAgaWYgKG9sZFRoZW1lKSBlbC5yZW1vdmVDbGFzcygnbWQtJyArIG9sZFRoZW1lICsnLXRoZW1lJyk7XG4gICAgICAgIGVsLmFkZENsYXNzKCdtZC0nICsgdGhlbWUgKyAnLXRoZW1lJyk7XG4gICAgICAgIGVsLmRhdGEoJyRtZFRoZW1lTmFtZScsIHRoZW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYXBwbHlUaGVtZS5yZWdpc3RlcmVkID0gcmVnaXN0ZXJlZDtcbiAgICBhcHBseVRoZW1lLmRlZmF1bHRUaGVtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRUaGVtZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGFwcGx5VGhlbWU7XG5cbiAgICBmdW5jdGlvbiByZWdpc3RlcmVkKHRoZW1lKSB7XG4gICAgICBpZiAodGhlbWUgPT09IHVuZGVmaW5lZCB8fCB0aGVtZSA9PT0gJycpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIFRIRU1FU1t0aGVtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVRoZW1lKHNjb3BlLCBlbCkge1xuICAgICAgLy8gQWxsb3cgdXMgdG8gYmUgaW52b2tlZCB2aWEgYSBsaW5raW5nIGZ1bmN0aW9uIHNpZ25hdHVyZS5cbiAgICAgIGlmIChlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsID0gc2NvcGU7XG4gICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgICAgfVxuICAgICAgYXBwbHlUaGVtZS5pbmhlcml0KGVsLCBlbCk7XG4gICAgfVxuICB9XG59XG5UaGVtaW5nUHJvdmlkZXIuJGluamVjdCA9IFtcIiRtZENvbG9yUGFsZXR0ZVwiXTtcblxuZnVuY3Rpb24gVGhlbWluZ0RpcmVjdGl2ZSgkbWRUaGVtaW5nLCAkaW50ZXJwb2xhdGUsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycykge1xuICAgICAgICB2YXIgY3RybCA9IHtcbiAgICAgICAgICAkc2V0VGhlbWU6IGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgICAgICAgICBpZiAoISRtZFRoZW1pbmcucmVnaXN0ZXJlZCh0aGVtZSkpIHtcbiAgICAgICAgICAgICAgJGxvZy53YXJuKCdhdHRlbXB0ZWQgdG8gdXNlIHVucmVnaXN0ZXJlZCB0aGVtZSBcXCcnICsgdGhlbWUgKyAnXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHJsLiRtZFRoZW1lID0gdGhlbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbC5kYXRhKCckbWRUaGVtZUNvbnRyb2xsZXInLCBjdHJsKTtcbiAgICAgICAgY3RybC4kc2V0VGhlbWUoJGludGVycG9sYXRlKGF0dHJzLm1kVGhlbWUpKHNjb3BlKSk7XG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtZFRoZW1lJywgY3RybC4kc2V0VGhlbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblRoZW1pbmdEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkaW50ZXJwb2xhdGVcIiwgXCIkbG9nXCJdO1xuXG5mdW5jdGlvbiBUaGVtYWJsZURpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiAkbWRUaGVtaW5nO1xufVxuVGhlbWFibGVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG5cbmZ1bmN0aW9uIHBhcnNlUnVsZXModGhlbWUsIGNvbG9yVHlwZSwgcnVsZXMpIHtcbiAgY2hlY2tWYWxpZFBhbGV0dGUodGhlbWUsIGNvbG9yVHlwZSk7XG5cbiAgcnVsZXMgPSBydWxlcy5yZXBsYWNlKC9USEVNRV9OQU1FL2csIHRoZW1lLm5hbWUpO1xuICB2YXIgZ2VuZXJhdGVkUnVsZXMgPSBbXTtcbiAgdmFyIGNvbG9yID0gdGhlbWUuY29sb3JzW2NvbG9yVHlwZV07XG5cbiAgdmFyIHRoZW1lTmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLm1kLScgKyB0aGVtZS5uYW1lICsgJy10aGVtZScsICdnJyk7XG4gIC8vIE1hdGNoZXMgJ3t7IHByaW1hcnktY29sb3IgfX0nLCBldGNcbiAgdmFyIGh1ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnKFxcJ3xcIik/e3tcXFxccyooJyArIGNvbG9yVHlwZSArICcpLShjb2xvcnxjb250cmFzdCktPyhcXFxcZFxcXFwuP1xcXFxkKik/XFxcXHMqfX0oXFxcInxcXCcpPycsJ2cnKTtcbiAgdmFyIHNpbXBsZVZhcmlhYmxlUmVnZXggPSAvJz9cIj9cXHtcXHtcXHMqKFthLXpBLVpdKyktKEE/XFxkK3xodWVcXC1bMC0zXXxzaGFkb3cpLT8oXFxkXFwuP1xcZCopP1xccypcXH1cXH0nP1wiPy9nO1xuICB2YXIgcGFsZXR0ZSA9IFBBTEVUVEVTW2NvbG9yLm5hbWVdO1xuXG4gIC8vIGZpbmQgYW5kIHJlcGxhY2Ugc2ltcGxlIHZhcmlhYmxlcyB3aGVyZSB3ZSB1c2UgYSBzcGVjaWZpYyBodWUsIG5vdCBhbmdlbnRpcmUgcGFsZXR0ZVxuICAvLyBlZy4gXCJ7e3ByaW1hcnktMTAwfX1cIlxuICAvL1xcKCcgKyBUSEVNRV9DT0xPUl9UWVBFUy5qb2luKCdcXHwnKSArICdcXCknXG4gIHJ1bGVzID0gcnVsZXMucmVwbGFjZShzaW1wbGVWYXJpYWJsZVJlZ2V4LCBmdW5jdGlvbihtYXRjaCwgY29sb3JUeXBlLCBodWUsIG9wYWNpdHkpIHtcbiAgICBpZiAoY29sb3JUeXBlID09PSAnZm9yZWdyb3VuZCcpIHtcbiAgICAgIGlmIChodWUgPT0gJ3NoYWRvdycpIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmZvcmVncm91bmRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhlbWUuZm9yZWdyb3VuZFBhbGV0dGVbaHVlXSB8fCB0aGVtZS5mb3JlZ3JvdW5kUGFsZXR0ZVsnMSddO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaHVlLmluZGV4T2YoJ2h1ZScpID09PSAwKSB7XG4gICAgICBodWUgPSB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXS5odWVzW2h1ZV07XG4gICAgfVxuICAgIHJldHVybiByZ2JhKCAoUEFMRVRURVNbIHRoZW1lLmNvbG9yc1tjb2xvclR5cGVdLm5hbWUgXVtodWVdIHx8ICcnKS52YWx1ZSwgb3BhY2l0eSApO1xuICB9KTtcblxuICAvLyBGb3IgZWFjaCB0eXBlLCBnZW5lcmF0ZSBydWxlcyBmb3IgZWFjaCBodWUgKGllLiBkZWZhdWx0LCBtZC1odWUtMSwgbWQtaHVlLTIsIG1kLWh1ZS0zKVxuICBhbmd1bGFyLmZvckVhY2goY29sb3IuaHVlcywgZnVuY3Rpb24oaHVlVmFsdWUsIGh1ZU5hbWUpIHtcbiAgICB2YXIgbmV3UnVsZSA9IHJ1bGVzXG4gICAgICAucmVwbGFjZShodWVSZWdleCwgZnVuY3Rpb24obWF0Y2gsIF8sIGNvbG9yVHlwZSwgaHVlVHlwZSwgb3BhY2l0eSkge1xuICAgICAgICByZXR1cm4gcmdiYShwYWxldHRlW2h1ZVZhbHVlXVtodWVUeXBlID09PSAnY29sb3InID8gJ3ZhbHVlJyA6ICdjb250cmFzdCddLCBvcGFjaXR5KTtcbiAgICAgIH0pO1xuICAgIGlmIChodWVOYW1lICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgIG5ld1J1bGUgPSBuZXdSdWxlLnJlcGxhY2UodGhlbWVOYW1lUmVnZXgsICcubWQtJyArIHRoZW1lLm5hbWUgKyAnLXRoZW1lLm1kLScgKyBodWVOYW1lKTtcbiAgICB9XG4gICAgZ2VuZXJhdGVkUnVsZXMucHVzaChuZXdSdWxlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdlbmVyYXRlZFJ1bGVzLmpvaW4oJycpO1xufVxuXG4vLyBHZW5lcmF0ZSBvdXIgdGhlbWVzIGF0IHJ1biB0aW1lIGdpdmVuIHRoZSBzdGF0ZSBvZiBUSEVNRVMgYW5kIFBBTEVUVEVTXG5mdW5jdGlvbiBnZW5lcmF0ZVRoZW1lcygkaW5qZWN0b3IpIHtcbiAgdmFyIHRoZW1lQ3NzID0gJGluamVjdG9yLmhhcygnJE1EX1RIRU1FX0NTUycpID8gJGluamVjdG9yLmdldCgnJE1EX1RIRU1FX0NTUycpIDogJyc7XG5cbiAgLy8gTURfVEhFTUVfQ1NTIGlzIGEgc3RyaW5nIGdlbmVyYXRlZCBieSB0aGUgYnVpbGQgcHJvY2VzcyB0aGF0IGluY2x1ZGVzIGFsbCB0aGUgdGhlbWFibGVcbiAgLy8gY29tcG9uZW50cyBhcyB0ZW1wbGF0ZXNcblxuICAvLyBFeHBvc2UgY29udHJhc3QgY29sb3JzIGZvciBwYWxldHRlcyB0byBlbnN1cmUgdGhhdCB0ZXh0IGlzIGFsd2F5cyByZWFkYWJsZVxuICBhbmd1bGFyLmZvckVhY2goUEFMRVRURVMsIHNhbml0aXplUGFsZXR0ZSk7XG5cbiAgLy8gQnJlYWsgdGhlIENTUyBpbnRvIGluZGl2aWR1YWwgcnVsZXNcbiAgdmFyIHJ1bGVzID0gdGhlbWVDc3Muc3BsaXQoL1xcfSg/IShcXH18J3xcInw7KSkvKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24ocnVsZSkgeyByZXR1cm4gcnVsZSAmJiBydWxlLmxlbmd0aDsgfSlcbiAgICAubWFwKGZ1bmN0aW9uKHJ1bGUpIHsgcmV0dXJuIHJ1bGUudHJpbSgpICsgJ30nOyB9KTtcblxuICB2YXIgcnVsZXNCeVR5cGUgPSB7fTtcbiAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbih0eXBlKSB7XG4gICAgcnVsZXNCeVR5cGVbdHlwZV0gPSAnJztcbiAgfSk7XG4gIHZhciBydWxlTWF0Y2hSZWdleCA9IG5ldyBSZWdFeHAoJ21kLSgnICsgVEhFTUVfQ09MT1JfVFlQRVMuam9pbignfCcpICsgJyknLCAnZycpO1xuXG4gIC8vIFNvcnQgdGhlIHJ1bGVzIGJhc2VkIG9uIHR5cGUsIGFsbG93aW5nIHVzIHRvIGRvIGNvbG9yIHN1YnN0aXR1dGlvbiBvbiBhIHBlci10eXBlIGJhc2lzXG4gIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2gocnVsZU1hdGNoUmVnZXgpO1xuICAgIC8vIEZpcnN0OiB0ZXN0IHRoYXQgaWYgdGhlIHJ1bGUgaGFzICcubWQtYWNjZW50JywgaXQgZ29lcyBpbnRvIHRoZSBhY2NlbnQgc2V0IG9mIHJ1bGVzXG4gICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKCcubWQtJyArIHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gZWcgJ21kLWFjY2VudCcgY2xhc3MgaXMgZm91bmQsIHRyeSB0byBqdXN0IGZpbmQgJ2FjY2VudCcgaW4gdGhlIHJ1bGUgYW5kIGd1ZXNzIGZyb21cbiAgICAvLyB0aGVyZVxuICAgIGZvciAoaSA9IDA7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byB0aGUgcHJpbWFyeSBhcnJheVxuICAgIHJldHVybiBydWxlc0J5VHlwZVtERUZBVUxUX0NPTE9SX1RZUEVdICs9IHJ1bGU7XG4gIH0pO1xuXG4gIHZhciBzdHlsZVN0cmluZyA9ICcnO1xuXG4gIC8vIEZvciBlYWNoIHRoZW1lLCB1c2UgdGhlIGNvbG9yIHBhbGV0dGVzIHNwZWNpZmllZCBmb3IgYHByaW1hcnlgLCBgd2FybmAgYW5kIGBhY2NlbnRgXG4gIC8vIHRvIGdlbmVyYXRlIENTUyBydWxlcy5cbiAgYW5ndWxhci5mb3JFYWNoKFRIRU1FUywgZnVuY3Rpb24odGhlbWUpIHtcbiAgICBUSEVNRV9DT0xPUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKGNvbG9yVHlwZSkge1xuICAgICAgc3R5bGVTdHJpbmcgKz0gcGFyc2VSdWxlcyh0aGVtZSwgY29sb3JUeXBlLCBydWxlc0J5VHlwZVtjb2xvclR5cGVdICsgJycpO1xuICAgIH0pO1xuICAgIGlmICh0aGVtZS5jb2xvcnMucHJpbWFyeS5uYW1lID09IHRoZW1lLmNvbG9ycy5hY2NlbnQubmFtZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiJG1kVGhlbWluZ1Byb3ZpZGVyOiBVc2luZyB0aGUgc2FtZSBwYWxldHRlIGZvciBwcmltYXJ5IGFuZFwiICtcbiAgICAgICAgICAgICAgICAgICBcIiBhY2NlbnQuIFRoaXMgdmlvbGF0ZXMgdGhlIG1hdGVyaWFsIGRlc2lnbiBzcGVjLlwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEluc2VydCBvdXIgbmV3bHkgbWludGVkIHN0eWxlcyBpbnRvIHRoZSBET01cbiAgaWYgKCFnZW5lcmF0aW9uSXNEb25lKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS5pbm5lckhUTUwgPSBzdHlsZVN0cmluZztcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGUsIGhlYWQuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgIGdlbmVyYXRpb25Jc0RvbmUgPSB0cnVlO1xuICB9XG5cbiAgLy8gVGhlIHVzZXIgc3BlY2lmaWVzIGEgJ2RlZmF1bHQnIGNvbnRyYXN0IGNvbG9yIGFzIGVpdGhlciBsaWdodCBvciBkYXJrLFxuICAvLyB0aGVuIGV4cGxpY2l0bHkgbGlzdHMgd2hpY2ggaHVlcyBhcmUgdGhlIG9wcG9zaXRlIGNvbnRyYXN0IChlZy4gQTEwMCBoYXMgZGFyaywgQTIwMCBoYXMgbGlnaHQpXG4gIGZ1bmN0aW9uIHNhbml0aXplUGFsZXR0ZShwYWxldHRlKSB7XG4gICAgdmFyIGRlZmF1bHRDb250cmFzdCA9IHBhbGV0dGUuY29udHJhc3REZWZhdWx0Q29sb3I7XG4gICAgdmFyIGxpZ2h0Q29sb3JzID0gcGFsZXR0ZS5jb250cmFzdExpZ2h0Q29sb3JzIHx8IFtdO1xuICAgIHZhciBzdHJvbmdMaWdodENvbG9ycyA9IHBhbGV0dGUuY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyB8fCBbXTtcbiAgICB2YXIgZGFya0NvbG9ycyA9IHBhbGV0dGUuY29udHJhc3REYXJrQ29sb3JzIHx8IFtdO1xuXG4gICAgLy8gVGhlc2UgY29sb3JzIGFyZSBwcm92aWRlZCBhcyBzcGFjZS1zZXBhcmF0ZWQgbGlzdHNcbiAgICBpZiAodHlwZW9mIGxpZ2h0Q29sb3JzID09PSAnc3RyaW5nJykgbGlnaHRDb2xvcnMgPSBsaWdodENvbG9ycy5zcGxpdCgnICcpO1xuICAgIGlmICh0eXBlb2Ygc3Ryb25nTGlnaHRDb2xvcnMgPT09ICdzdHJpbmcnKSBzdHJvbmdMaWdodENvbG9ycyA9IHN0cm9uZ0xpZ2h0Q29sb3JzLnNwbGl0KCcgJyk7XG4gICAgaWYgKHR5cGVvZiBkYXJrQ29sb3JzID09PSAnc3RyaW5nJykgZGFya0NvbG9ycyA9IGRhcmtDb2xvcnMuc3BsaXQoJyAnKTtcblxuICAgIC8vIENsZWFudXAgYWZ0ZXIgb3Vyc2VsdmVzXG4gICAgZGVsZXRlIHBhbGV0dGUuY29udHJhc3REZWZhdWx0Q29sb3I7XG4gICAgZGVsZXRlIHBhbGV0dGUuY29udHJhc3RMaWdodENvbG9ycztcbiAgICBkZWxldGUgcGFsZXR0ZS5jb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzO1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0RGFya0NvbG9ycztcblxuICAgIC8vIENoYW5nZSB7ICdBMTAwJzogJyNmZmZlZWUnIH0gdG8geyAnQTEwMCc6IHsgdmFsdWU6ICcjZmZmZWVlJywgY29udHJhc3Q6REFSS19DT05UUkFTVF9DT0xPUiB9XG4gICAgYW5ndWxhci5mb3JFYWNoKHBhbGV0dGUsIGZ1bmN0aW9uKGh1ZVZhbHVlLCBodWVOYW1lKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdChodWVWYWx1ZSkpIHJldHVybjsgLy8gQWxyZWFkeSBjb252ZXJ0ZWRcbiAgICAgIC8vIE1hcCBldmVyeXRoaW5nIHRvIHJnYiBjb2xvcnNcbiAgICAgIHZhciByZ2JWYWx1ZSA9IGNvbG9yVG9SZ2JhQXJyYXkoaHVlVmFsdWUpO1xuICAgICAgaWYgKCFyZ2JWYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb2xvciAlMSwgaW4gcGFsZXR0ZSAlMidzIGh1ZSAlMywgaXMgaW52YWxpZC4gSGV4IG9yIHJnYihhKSBjb2xvciBleHBlY3RlZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgaHVlVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBwYWxldHRlLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTMnLCBodWVOYW1lKSk7XG4gICAgICB9XG5cbiAgICAgIHBhbGV0dGVbaHVlTmFtZV0gPSB7XG4gICAgICAgIHZhbHVlOiByZ2JWYWx1ZSxcbiAgICAgICAgY29udHJhc3Q6IGdldENvbnRyYXN0Q29sb3IoKVxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIGdldENvbnRyYXN0Q29sb3IoKSB7XG4gICAgICAgIGlmIChkZWZhdWx0Q29udHJhc3QgPT09ICdsaWdodCcpIHtcbiAgICAgICAgICBpZiAoZGFya0NvbG9ycy5pbmRleE9mKGh1ZU5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBEQVJLX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3Ryb25nTGlnaHRDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xID8gU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SIFxuICAgICAgICAgICAgICA6IExJR0hUX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobGlnaHRDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Ryb25nTGlnaHRDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xID8gU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SIFxuICAgICAgICAgICAgICA6IExJR0hUX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gREFSS19DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG5nZW5lcmF0ZVRoZW1lcy4kaW5qZWN0ID0gW1wiJGluamVjdG9yXCJdO1xuXG5mdW5jdGlvbiBjaGVja1ZhbGlkUGFsZXR0ZSh0aGVtZSwgY29sb3JUeXBlKSB7XG4gIC8vIElmIHRoZW1lIGF0dGVtcHRzIHRvIHVzZSBhIHBhbGV0dGUgdGhhdCBkb2VzbnQgZXhpc3QsIHRocm93IGVycm9yXG4gIGlmICghUEFMRVRURVNbICh0aGVtZS5jb2xvcnNbY29sb3JUeXBlXSB8fCB7fSkubmFtZSBdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3Ugc3VwcGxpZWQgYW4gaW52YWxpZCBjb2xvciBwYWxldHRlIGZvciB0aGVtZSAlMSdzICUyIHBhbGV0dGUuIEF2YWlsYWJsZSBwYWxldHRlczogJTNcIlxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTEnLCB0aGVtZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBjb2xvclR5cGUpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMycsIE9iamVjdC5rZXlzKFBBTEVUVEVTKS5qb2luKCcsICcpKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYmFBcnJheShjbHIpIHtcbiAgaWYgKGFuZ3VsYXIuaXNBcnJheShjbHIpICYmIGNsci5sZW5ndGggPT0gMykgcmV0dXJuIGNscjtcbiAgaWYgKC9ecmdiLy50ZXN0KGNscikpIHtcbiAgICByZXR1cm4gY2xyLnJlcGxhY2UoLyheXFxzKnJnYmE/XFwofFxcKVxccyokKS9nLCAnJykuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24odmFsdWUsIGkpIHtcbiAgICAgIHJldHVybiBpID09IDMgPyBwYXJzZUZsb2F0KHZhbHVlLCAxMCkgOiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG4gIGlmIChjbHIuY2hhckF0KDApID09ICcjJykgY2xyID0gY2xyLnN1YnN0cmluZygxKTtcbiAgaWYgKCEvXihbYS1mQS1GMC05XXszfSl7MSwyfSQvZy50ZXN0KGNscikpIHJldHVybjtcblxuICB2YXIgZGlnID0gY2xyLmxlbmd0aCAvIDM7XG4gIHZhciByZWQgPSBjbHIuc3Vic3RyKDAsIGRpZyk7XG4gIHZhciBncm4gPSBjbHIuc3Vic3RyKGRpZywgZGlnKTtcbiAgdmFyIGJsdSA9IGNsci5zdWJzdHIoZGlnICogMik7XG4gIGlmIChkaWcgPT09IDEpIHtcbiAgICByZWQgKz0gcmVkO1xuICAgIGdybiArPSBncm47XG4gICAgYmx1ICs9IGJsdTtcbiAgfVxuICByZXR1cm4gW3BhcnNlSW50KHJlZCwgMTYpLCBwYXJzZUludChncm4sIDE2KSwgcGFyc2VJbnQoYmx1LCAxNildO1xufVxuXG5mdW5jdGlvbiByZ2JhKHJnYkFycmF5LCBvcGFjaXR5KSB7XG4gIGlmIChyZ2JBcnJheS5sZW5ndGggPT0gNCkge1xuICAgIHJnYkFycmF5ID0gYW5ndWxhci5jb3B5KHJnYkFycmF5KTtcbiAgICBvcGFjaXR5ID8gcmdiQXJyYXkucG9wKCkgOiBvcGFjaXR5ID0gcmdiQXJyYXkucG9wKCk7XG4gIH1cbiAgcmV0dXJuIG9wYWNpdHkgJiYgKHR5cGVvZiBvcGFjaXR5ID09ICdudW1iZXInIHx8ICh0eXBlb2Ygb3BhY2l0eSA9PSAnc3RyaW5nJyAmJiBvcGFjaXR5Lmxlbmd0aCkpID9cbiAgICAncmdiYSgnICsgcmdiQXJyYXkuam9pbignLCcpICsgJywnICsgb3BhY2l0eSArICcpJyA6XG4gICAgJ3JnYignICsgcmdiQXJyYXkuam9pbignLCcpICsgJyknO1xufVxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgICogQG5nZG9jIG1vZHVsZVxuICAgKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZVxuICAgKi9cbiAgLypcbiAgICogQHNlZSBqcyBmb2xkZXIgZm9yIGF1dG9jb21wbGV0ZSBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJywgWyAnbWF0ZXJpYWwuY29yZScgXSk7XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcFxuICogQGRlc2NyaXB0aW9uIEJhY2tkcm9wXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEJhY2tkcm9wXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3BcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1iYWNrZHJvcD5gIGlzIGEgYmFja2Ryb3AgZWxlbWVudCB1c2VkIGJ5IG90aGVyIGNvcG9uZW50cywgc3VjaCBhcyBkaWFsb2cgYW5kIGJvdHRvbSBzaGVldC5cbiAqIEFwcGx5IGNsYXNzIGBvcGFxdWVgIHRvIG1ha2UgdGhlIGJhY2tkcm9wIHVzZSB0aGUgdGhlbWUgYmFja2Ryb3AgY29sb3IuXG4gKlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kQmFja2Ryb3AnLCBCYWNrZHJvcERpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIEJhY2tkcm9wRGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuICRtZFRoZW1pbmc7XG59XG5CYWNrZHJvcERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5ib3R0b21TaGVldFxuICogQGRlc2NyaXB0aW9uXG4gKiBCb3R0b21TaGVldFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5ib3R0b21TaGVldCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kQm90dG9tU2hlZXQnLCBNZEJvdHRvbVNoZWV0RGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZEJvdHRvbVNoZWV0JywgTWRCb3R0b21TaGVldFByb3ZpZGVyKTtcblxuZnVuY3Rpb24gTWRCb3R0b21TaGVldERpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnXG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZEJvdHRvbVNoZWV0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYm90dG9tU2hlZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRCb3R0b21TaGVldGAgb3BlbnMgYSBib3R0b20gc2hlZXQgb3ZlciB0aGUgYXBwIGFuZCBwcm92aWRlcyBhIHNpbXBsZSBwcm9taXNlIEFQSS5cbiAqXG4gKiAjIyBSZXN0cmljdGlvbnNcbiAqXG4gKiAtIFRoZSBib3R0b20gc2hlZXQncyB0ZW1wbGF0ZSBtdXN0IGhhdmUgYW4gb3V0ZXIgYDxtZC1ib3R0b20tc2hlZXQ+YCBlbGVtZW50LlxuICogLSBBZGQgdGhlIGBtZC1ncmlkYCBjbGFzcyB0byB0aGUgYm90dG9tIHNoZWV0IGZvciBhIGdyaWQgbGF5b3V0LlxuICogLSBBZGQgdGhlIGBtZC1saXN0YCBjbGFzcyB0byB0aGUgYm90dG9tIHNoZWV0IGZvciBhIGxpc3QgbGF5b3V0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlbkJvdHRvbVNoZWV0KClcIj5cbiAqICAgICBPcGVuIGEgQm90dG9tIFNoZWV0IVxuICogICA8L21kLWJ1dHRvbj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZEJvdHRvbVNoZWV0KSB7XG4gKiAgICRzY29wZS5vcGVuQm90dG9tU2hlZXQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAkbWRCb3R0b21TaGVldC5zaG93KHtcbiAqICAgICAgIHRlbXBsYXRlOiAnPG1kLWJvdHRvbS1zaGVldD5IZWxsbyE8L21kLWJvdHRvbS1zaGVldD4nXG4gKiAgICAgfSk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRCb3R0b21TaGVldCNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaG93IGEgYm90dG9tIHNoZWV0IHdpdGggdGhlIHNwZWNpZmllZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gYHRlbXBsYXRlVXJsYCAtIGB7c3RyaW5nPX1gOiBUaGUgdXJsIG9mIGFuIGh0bWwgdGVtcGxhdGUgZmlsZSB0aGF0IHdpbGxcbiAqICAgYmUgdXNlZCBhcyB0aGUgY29udGVudCBvZiB0aGUgYm90dG9tIHNoZWV0LiBSZXN0cmljdGlvbnM6IHRoZSB0ZW1wbGF0ZSBtdXN0XG4gKiAgIGhhdmUgYW4gb3V0ZXIgYG1kLWJvdHRvbS1zaGVldGAgZWxlbWVudC5cbiAqICAgLSBgdGVtcGxhdGVgIC0gYHtzdHJpbmc9fWA6IFNhbWUgYXMgdGVtcGxhdGVVcmwsIGV4Y2VwdCB0aGlzIGlzIGFuIGFjdHVhbFxuICogICB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiAgIC0gYGNvbnRyb2xsZXJgIC0gYHtzdHJpbmc9fWA6IFRoZSBjb250cm9sbGVyIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgYm90dG9tIHNoZWV0LlxuICogICAtIGBsb2NhbHNgIC0gYHtzdHJpbmc9fWA6IEFuIG9iamVjdCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycy4gVGhlIGtleXMgd2lsbFxuICogICBiZSB1c2VkIGFzIG5hbWVzIG9mIHZhbHVlcyB0byBpbmplY3QgaW50byB0aGUgY29udHJvbGxlci4gRm9yIGV4YW1wbGUsXG4gKiAgIGBsb2NhbHM6IHt0aHJlZTogM31gIHdvdWxkIGluamVjdCBgdGhyZWVgIGludG8gdGhlIGNvbnRyb2xsZXIgd2l0aCB0aGUgdmFsdWVcbiAqICAgb2YgMy5cbiAqICAgLSBgdGFyZ2V0RXZlbnRgIC0gYHtET01DbGlja0V2ZW50PX1gOiBBIGNsaWNrJ3MgZXZlbnQgb2JqZWN0LiBXaGVuIHBhc3NlZCBpbiBhcyBhbiBvcHRpb24sXG4gKiAgIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2xpY2sgd2lsbCBiZSB1c2VkIGFzIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG9wZW5pbmcgYW5pbWF0aW9uXG4gKiAgIG9mIHRoZSB0aGUgZGlhbG9nLlxuICogICAtIGByZXNvbHZlYCAtIGB7b2JqZWN0PX1gOiBTaW1pbGFyIHRvIGxvY2FscywgZXhjZXB0IGl0IHRha2VzIHByb21pc2VzIGFzIHZhbHVlc1xuICogICBhbmQgdGhlIGJvdHRvbSBzaGVldCB3aWxsIG5vdCBvcGVuIHVudGlsIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICogICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWA6IEFuIGFsaWFzIHRvIGFzc2lnbiB0aGUgY29udHJvbGxlciB0byBvbiB0aGUgc2NvcGUuXG4gKiAgIC0gYHBhcmVudGAgLSBge2VsZW1lbnQ9fWA6IFRoZSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgYm90dG9tIHNoZWV0IHRvLiBEZWZhdWx0cyB0byBhcHBlbmRpbmdcbiAqICAgICB0byB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqICAgLSBgZGlzYWJsZVBhcmVudFNjcm9sbGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdG8gZGlzYWJsZSBzY3JvbGxpbmcgd2hpbGUgdGhlIGJvdHRvbSBzaGVldCBpcyBvcGVuLlxuICogICAgIERlZmF1bHQgdHJ1ZS5cbiAqXG4gKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIHdpdGggYCRtZEJvdHRvbVNoZWV0LmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZEJvdHRvbVNoZWV0LmNhbmNlbCgpYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZEJvdHRvbVNoZWV0I2hpZGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhpZGUgdGhlIGV4aXN0aW5nIGJvdHRvbSBzaGVldCBhbmQgcmVzb2x2ZSB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kQm90dG9tU2hlZXQuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlc29sdmVkIHByb21pc2UuXG4gKlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjY2FuY2VsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIHRoZSBleGlzdGluZyBib3R0b20gc2hlZXQgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kQm90dG9tU2hlZXQuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1kQm90dG9tU2hlZXRQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgLy8gaG93IGZhc3Qgd2UgbmVlZCB0byBmbGljayBkb3duIHRvIGNsb3NlIHRoZSBzaGVldCwgcGl4ZWxzL21zXG4gIHZhciBDTE9TSU5HX1ZFTE9DSVRZID0gMC41O1xuICB2YXIgUEFERElORyA9IDgwOyAvLyBzYW1lIGFzIGNzc1xuXG4gIGJvdHRvbVNoZWV0RGVmYXVsdHMuJGluamVjdCA9IFtcIiRhbmltYXRlXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkdGltZW91dFwiLCBcIiQkckFGXCIsIFwiJGNvbXBpbGVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kQm90dG9tU2hlZXRcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJG1kR2VzdHVyZVwiXTtcbiAgcmV0dXJuICQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcignJG1kQm90dG9tU2hlZXQnKVxuICAgIC5zZXREZWZhdWx0cyh7XG4gICAgICBtZXRob2RzOiBbJ2Rpc2FibGVQYXJlbnRTY3JvbGwnLCAnZXNjYXBlVG9DbG9zZScsICd0YXJnZXRFdmVudCddLFxuICAgICAgb3B0aW9uczogYm90dG9tU2hlZXREZWZhdWx0c1xuICAgIH0pO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBib3R0b21TaGVldERlZmF1bHRzKCRhbmltYXRlLCAkbWRDb25zdGFudCwgJHRpbWVvdXQsICQkckFGLCAkY29tcGlsZSwgJG1kVGhlbWluZywgJG1kQm90dG9tU2hlZXQsICRyb290RWxlbWVudCwgJHJvb3RTY29wZSwgJG1kR2VzdHVyZSkge1xuICAgIHZhciBiYWNrZHJvcDtcblxuICAgIHJldHVybiB7XG4gICAgICB0aGVtYWJsZTogdHJ1ZSxcbiAgICAgIHRhcmdldEV2ZW50OiBudWxsLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIC8vIEFkZCBhIGJhY2tkcm9wIHRoYXQgd2lsbCBjbG9zZSBvbiBjbGlja1xuICAgICAgYmFja2Ryb3AgPSAkY29tcGlsZSgnPG1kLWJhY2tkcm9wIGNsYXNzPVwibWQtb3BhcXVlIG1kLWJvdHRvbS1zaGVldC1iYWNrZHJvcFwiPicpKHNjb3BlKTtcbiAgICAgIGJhY2tkcm9wLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkdGltZW91dCgkbWRCb3R0b21TaGVldC5jYW5jZWwpO1xuICAgICAgfSk7XG5cbiAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChiYWNrZHJvcCwgb3B0aW9ucy5wYXJlbnQpO1xuXG4gICAgICAkYW5pbWF0ZS5lbnRlcihiYWNrZHJvcCwgb3B0aW9ucy5wYXJlbnQsIG51bGwpO1xuXG4gICAgICB2YXIgYm90dG9tU2hlZXQgPSBuZXcgQm90dG9tU2hlZXQoZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgICAgb3B0aW9ucy5ib3R0b21TaGVldCA9IGJvdHRvbVNoZWV0O1xuXG4gICAgICAvLyBHaXZlIHVwIGZvY3VzIG9uIGNhbGxpbmcgaXRlbVxuICAgICAgb3B0aW9ucy50YXJnZXRFdmVudCAmJiBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy50YXJnZXRFdmVudC50YXJnZXQpLmJsdXIoKTtcbiAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChib3R0b21TaGVldC5lbGVtZW50LCBvcHRpb25zLnBhcmVudCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgb3B0aW9ucy5sYXN0T3ZlcmZsb3cgPSBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93Jyk7XG4gICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkYW5pbWF0ZS5lbnRlcihib3R0b21TaGVldC5lbGVtZW50LCBvcHRpb25zLnBhcmVudClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGZvY3VzYWJsZSA9IGFuZ3VsYXIuZWxlbWVudChcbiAgICAgICAgICAgIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykgfHxcbiAgICAgICAgICAgIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignYScpIHx8XG4gICAgICAgICAgICBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jbGlja10nKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9jdXNhYmxlLmZvY3VzKCk7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVUb0Nsb3NlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoJG1kQm90dG9tU2hlZXQuY2FuY2VsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRyb290RWxlbWVudC5vbigna2V5dXAnLCBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUmVtb3ZlKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgYm90dG9tU2hlZXQgPSBvcHRpb25zLmJvdHRvbVNoZWV0O1xuXG5cbiAgICAgICRhbmltYXRlLmxlYXZlKGJhY2tkcm9wKTtcbiAgICAgIHJldHVybiAkYW5pbWF0ZS5sZWF2ZShib3R0b21TaGVldC5lbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgICAgb3B0aW9ucy5wYXJlbnQuY3NzKCdvdmVyZmxvdycsIG9wdGlvbnMubGFzdE92ZXJmbG93KTtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5sYXN0T3ZlcmZsb3c7XG4gICAgICAgIH1cblxuICAgICAgICBib3R0b21TaGVldC5jbGVhbnVwKCk7XG5cbiAgICAgICAgLy8gUmVzdG9yZSBmb2N1c1xuICAgICAgICBvcHRpb25zLnRhcmdldEV2ZW50ICYmIGFuZ3VsYXIuZWxlbWVudChvcHRpb25zLnRhcmdldEV2ZW50LnRhcmdldCkuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvdHRvbVNoZWV0IGNsYXNzIHRvIGFwcGx5IGJvdHRvbS1zaGVldCBiZWhhdmlvciB0byBhbiBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQm90dG9tU2hlZXQoZWxlbWVudCwgcGFyZW50KSB7XG4gICAgICB2YXIgZGVyZWdpc3RlciA9ICRtZEdlc3R1cmUucmVnaXN0ZXIocGFyZW50LCAnZHJhZycsIHsgaG9yaXpvbnRhbDogZmFsc2UgfSk7XG4gICAgICBwYXJlbnQub24oJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydClcbiAgICAgICAgLm9uKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgICAgLm9uKCckbWQuZHJhZ2VuZCcsIG9uRHJhZ0VuZCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGNsZWFudXA6IGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgZGVyZWdpc3RlcigpO1xuICAgICAgICAgIHBhcmVudC5vZmYoJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydClcbiAgICAgICAgICAgIC5vZmYoJyRtZC5kcmFnJywgb25EcmFnKVxuICAgICAgICAgICAgLm9mZignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBvbkRyYWdTdGFydChldikge1xuICAgICAgICAvLyBEaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRyYW5zZm9ybSBzbyB0aGF0IGl0IGZlZWxzIGZhc3RcbiAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sICcwbXMnKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25EcmFnKGV2KSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBldi5wb2ludGVyLmRpc3RhbmNlWTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybSA8IDUpIHtcbiAgICAgICAgICAvLyBTbG93IGRvd24gZHJhZyB3aGVuIHRyeWluZyB0byBkcmFnIHVwLCBhbmQgc3RvcCBhZnRlciBQQURESU5HXG4gICAgICAgICAgdHJhbnNmb3JtID0gTWF0aC5tYXgoLVBBRERJTkcsIHRyYW5zZm9ybSAvIDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICd0cmFuc2xhdGUzZCgwLCcgKyAoUEFERElORyArIHRyYW5zZm9ybSkgKyAncHgsMCknKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25EcmFnRW5kKGV2KSB7XG4gICAgICAgIGlmIChldi5wb2ludGVyLmRpc3RhbmNlWSA+IDAgJiZcbiAgICAgICAgICAgIChldi5wb2ludGVyLmRpc3RhbmNlWSA+IDIwIHx8IE1hdGguYWJzKGV2LnBvaW50ZXIudmVsb2NpdHlZKSA+IENMT1NJTkdfVkVMT0NJVFkpKSB7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlUmVtYWluaW5nID0gZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSAtIGV2LnBvaW50ZXIuZGlzdGFuY2VZO1xuICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBNYXRoLm1pbihkaXN0YW5jZVJlbWFpbmluZyAvIGV2LnBvaW50ZXIudmVsb2NpdHlZICogMC43NSwgNTAwKTtcbiAgICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTl9EVVJBVElPTiwgdHJhbnNpdGlvbkR1cmF0aW9uICsgJ21zJyk7XG4gICAgICAgICAgJHRpbWVvdXQoJG1kQm90dG9tU2hlZXQuY2FuY2VsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTl9EVVJBVElPTiwgJycpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbn1cbk1kQm90dG9tU2hlZXRQcm92aWRlci4kaW5qZWN0ID0gW1wiJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuYnV0dG9uXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBCdXR0b25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYnV0dG9uJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kQnV0dG9uJywgTWRCdXR0b25EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQnV0dG9uXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYnV0dG9uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYnV0dG9uPmAgaXMgYSBidXR0b24gZGlyZWN0aXZlIHdpdGggb3B0aW9uYWwgaW5rIHJpcHBsZXMgKGRlZmF1bHQgZW5hYmxlZCkuXG4gKlxuICogSWYgeW91IHN1cHBseSBhIGBocmVmYCBvciBgbmctaHJlZmAgYXR0cmlidXRlLCBpdCB3aWxsIGJlY29tZSBhbiBgPGE+YCBlbGVtZW50LiBPdGhlcndpc2UsIGl0IHdpbGxcbiAqIGJlY29tZSBhIGA8YnV0dG9uPmAgZWxlbWVudC5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgRkFCIGJ1dHRvbiBpcyBpbiB0aGUgYWNjZW50IGNvbG9yIGJ5IGRlZmF1bHQuIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgSWYgcHJlc2VudCwgZGlzYWJsZSByaXBwbGUgaW5rIGVmZmVjdHMuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy1kaXNhYmxlZCBFbi9EaXNhYmxlIGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLXJpcHBsZS1zaXplIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCByaXBwbGUgc2l6ZSBsb2dpYy4gT3B0aW9uczogYGZ1bGxgLCBgcGFydGlhbGAsIGBhdXRvYFxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIEFkZHMgYWx0ZXJuYXRpdmUgdGV4dCB0byBidXR0b24gZm9yIGFjY2Vzc2liaWxpdHksIHVzZWZ1bCBmb3IgaWNvbiBidXR0b25zLlxuICogSWYgbm8gZGVmYXVsdCB0ZXh0IGlzIGZvdW5kLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC1idXR0b24+XG4gKiAgICBCdXR0b25cbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtYnV0dG9uIGhyZWY9XCJodHRwOi8vZ29vZ2xlLmNvbVwiIGNsYXNzPVwibWQtYnV0dG9uLWNvbG9yZWRcIj5cbiAqICAgIEknbSBhIGxpbmtcbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtYnV0dG9uIG5nLWRpc2FibGVkPVwidHJ1ZVwiIGNsYXNzPVwibWQtY29sb3JlZFwiPlxuICogICAgSSdtIGEgZGlzYWJsZWQgYnV0dG9uXG4gKiAgPC9tZC1idXR0b24+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIE1kQnV0dG9uRGlyZWN0aXZlKCRtZElua1JpcHBsZSwgJG1kVGhlbWluZywgJG1kQXJpYSkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNBbmNob3IoYXR0cikge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLmhyZWYpIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdIcmVmKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoZWxlbWVudCwgYXR0cikge1xuICAgIHJldHVybiBpc0FuY2hvcihhdHRyKSA/XG4gICAgICAgICAgICc8YSBjbGFzcz1cIm1kLWJ1dHRvblwiIG5nLXRyYW5zY2x1ZGU+PC9hPicgOlxuICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cIm1kLWJ1dHRvblwiIG5nLXRyYW5zY2x1ZGU+PC9idXR0b24+JztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgJG1kSW5rUmlwcGxlLmF0dGFjaEJ1dHRvbkJlaGF2aW9yKHNjb3BlLCBlbGVtZW50KTtcblxuICAgIHZhciBlbGVtZW50SGFzVGV4dCA9IG5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIGlmICghZWxlbWVudEhhc1RleHQpIHtcbiAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdhcmlhLWxhYmVsJyk7XG4gICAgfVxuXG4gICAgLy8gRm9yIGFuY2hvciBlbGVtZW50cywgd2UgaGF2ZSB0byBzZXQgdGFiaW5kZXggbWFudWFsbHkgd2hlbiB0aGUgXG4gICAgLy8gZWxlbWVudCBpcyBkaXNhYmxlZFxuICAgIGlmIChpc0FuY2hvcihhdHRyKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nRGlzYWJsZWQpICkge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdEaXNhYmxlZCwgZnVuY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgaXNEaXNhYmxlZCA/IC0xIDogMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuTWRCdXR0b25EaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRBcmlhXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNhcmRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENhcmQgY29tcG9uZW50cy5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2FyZCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZENhcmQnLCBtZENhcmREaXJlY3RpdmUpO1xuXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENhcmRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWNhcmQ+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgZWxlbWVudCB1c2VkIHdpdGhpbiBgPG1kLWNvbnRlbnQ+YCBjb250YWluZXJzLlxuICpcbiAqIENhcmRzIGhhdmUgY29uc3RhbnQgd2lkdGggYW5kIHZhcmlhYmxlIGhlaWdodHM7IHdoZXJlIHRoZSBtYXhpbXVtIGhlaWdodCBpcyBsaW1pdGVkIHRvIHdoYXQgY2FuXG4gKiBmaXQgd2l0aGluIGEgc2luZ2xlIHZpZXcgb24gYSBwbGF0Zm9ybSwgYnV0IGl0IGNhbiB0ZW1wb3JhcmlseSBleHBhbmQgYXMgbmVlZGVkXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWNhcmQ+XG4gKiAgPGltZyBzcmM9XCJpbWcvd2FzaGVkb3V0LnBuZ1wiIGNsYXNzPVwibWQtY2FyZC1pbWFnZVwiPlxuICogIDxoMj5QYXJhY29zbTwvaDI+XG4gKiAgPHA+XG4gKiAgICBUaGUgdGl0bGVzIG9mIFdhc2hlZCBPdXQncyBicmVha3Rocm91Z2ggc29uZyBhbmQgdGhlIGZpcnN0IHNpbmdsZSBmcm9tIFBhcmFjb3NtIHNoYXJlIHRoZSAqIHR3byBtb3N0IGltcG9ydGFudCB3b3JkcyBpbiBFcm5lc3QgR3JlZW5lJ3MgbXVzaWNhbCBsYW5ndWFnZTogZmVlbCBpdC4gSXQncyBhIHNpbXBsZSByZXF1ZXN0LCBhcyB3ZWxsLi4uXG4gKiAgPC9wPlxuICogPC9tZC1jYXJkPlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gbWRDYXJkRGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICAkbWRUaGVtaW5nKCRlbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tZENhcmREaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3hcbiAqIEBkZXNjcmlwdGlvbiBDaGVja2JveCBtb2R1bGUhXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94JywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kQ2hlY2tib3gnLCBNZENoZWNrYm94RGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENoZWNrYm94XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3hcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgY2hlY2tib3ggZGlyZWN0aXZlIGlzIHVzZWQgbGlrZSB0aGUgbm9ybWFsIFthbmd1bGFyIGNoZWNrYm94XShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvaW5wdXQvaW5wdXQlNUJjaGVja2JveCU1RCkuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIGNoZWNrYm94IGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZy1tb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy10cnVlLXZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy1mYWxzZS12YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmctY2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBVc2Ugb2YgYXR0cmlidXRlIGluZGljYXRlcyB1c2Ugb2YgcmlwcGxlIGluayBlZmZlY3RzXG4gKiBAcGFyYW0ge3N0cmluZz19IGFyaWEtbGFiZWwgQWRkcyBsYWJlbCB0byBjaGVja2JveCBmb3IgYWNjZXNzaWJpbGl0eS5cbiAqIERlZmF1bHRzIHRvIGNoZWNrYm94J3MgdGV4dC4gSWYgbm8gZGVmYXVsdCB0ZXh0IGlzIGZvdW5kLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWNoZWNrYm94IG5nLW1vZGVsPVwiaXNDaGVja2VkXCIgYXJpYS1sYWJlbD1cIkZpbmlzaGVkP1wiPlxuICogICBGaW5pc2hlZCA/XG4gKiA8L21kLWNoZWNrYm94PlxuICpcbiAqIDxtZC1jaGVja2JveCBtZC1uby1pbmsgbmctbW9kZWw9XCJoYXNJbmtcIiBhcmlhLWxhYmVsPVwiTm8gSW5rIEVmZmVjdHNcIj5cbiAqICAgTm8gSW5rIEVmZmVjdHNcbiAqIDwvbWQtY2hlY2tib3g+XG4gKlxuICogPG1kLWNoZWNrYm94IG5nLWRpc2FibGVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwiaXNEaXNhYmxlZFwiIGFyaWEtbGFiZWw9XCJEaXNhYmxlZFwiPlxuICogICBEaXNhYmxlZFxuICogPC9tZC1jaGVja2JveD5cbiAqXG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBNZENoZWNrYm94RGlyZWN0aXZlKGlucHV0RGlyZWN0aXZlLCAkbWRJbmtSaXBwbGUsICRtZEFyaWEsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkbWRVdGlsKSB7XG4gIGlucHV0RGlyZWN0aXZlID0gaW5wdXREaXJlY3RpdmVbMF07XG4gIHZhciBDSEVDS0VEX0NTUyA9ICdtZC1jaGVja2VkJztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCIgbWQtaW5rLXJpcHBsZSBtZC1pbmstcmlwcGxlLWNoZWNrYm94PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWljb25cIj48L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGUgY2xhc3M9XCJtZC1sYWJlbFwiPjwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBmdW5jdGlvbiBjb21waWxlICh0RWxlbWVudCwgdEF0dHJzKSB7XG5cbiAgICB0QXR0cnMudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdEF0dHJzLnRhYkluZGV4ID0gMDtcbiAgICB0RWxlbWVudC5hdHRyKCdyb2xlJywgdEF0dHJzLnR5cGUpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsQ3RybCkge1xuICAgICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybCB8fCAkbWRVdGlsLmZha2VOZ01vZGVsKCk7XG4gICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgICAgaWYgKGF0dHIubmdDaGVja2VkKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgIHNjb3BlLiRldmFsLmJpbmQoc2NvcGUsIGF0dHIubmdDaGVja2VkKSxcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUuYmluZChuZ01vZGVsQ3RybClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgJG1kQXJpYS5leHBlY3RXaXRoVGV4dChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuXG4gICAgICAvLyBSZXVzZSB0aGUgb3JpZ2luYWwgaW5wdXRbdHlwZT1jaGVja2JveF0gZGlyZWN0aXZlIGZyb20gQW5ndWxhciBjb3JlLlxuICAgICAgLy8gVGhpcyBpcyBhIGJpdCBoYWNreSBhcyB3ZSBuZWVkIG91ciBvd24gZXZlbnQgbGlzdGVuZXIgYW5kIG93biByZW5kZXJcbiAgICAgIC8vIGZ1bmN0aW9uLlxuICAgICAgaW5wdXREaXJlY3RpdmUubGluay5wcmUoc2NvcGUsIHtcbiAgICAgICAgb246IGFuZ3VsYXIubm9vcCxcbiAgICAgICAgMDoge31cbiAgICAgIH0sIGF0dHIsIFtuZ01vZGVsQ3RybF0pO1xuXG4gICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKVxuICAgICAgICAub24oJ2tleXByZXNzJywga2V5cHJlc3NIYW5kbGVyKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSByZW5kZXI7XG5cbiAgICAgIGZ1bmN0aW9uIGtleXByZXNzSGFuZGxlcihldikge1xuICAgICAgICBpZihldi53aGljaCA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0UpIHtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGxpc3RlbmVyKGV2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbGlzdGVuZXIoZXYpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSByZXR1cm47XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNoZWNrZWQgPSAhY2hlY2tlZDtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgY2hlY2tlZCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICAgIGlmKGNoZWNrZWQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKENIRUNLRURfQ1NTKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKENIRUNLRURfQ1NTKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbk1kQ2hlY2tib3hEaXJlY3RpdmUuJGluamVjdCA9IFtcImlucHV0RGlyZWN0aXZlXCIsIFwiJG1kSW5rUmlwcGxlXCIsIFwiJG1kQXJpYVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZFV0aWxcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTY3JvbGxhYmxlIGNvbnRlbnRcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY29udGVudCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZENvbnRlbnQnLCBtZENvbnRlbnREaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQ29udGVudFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnRcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtY29udGVudD5gIGRpcmVjdGl2ZSBpcyBhIGNvbnRhaW5lciBlbGVtZW50IHVzZWZ1bCBmb3Igc2Nyb2xsYWJsZSBjb250ZW50XG4gKlxuICogIyMjIFJlc3RyaWN0aW9uc1xuICpcbiAqIC0gQWRkIHRoZSBgbWQtcGFkZGluZ2AgY2xhc3MgdG8gbWFrZSB0aGUgY29udGVudCBwYWRkZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC1jb250ZW50IGNsYXNzPVwibWQtcGFkZGluZ1wiPlxuICogICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgbmUgcXVvZCBub3Z1bSBtZWkuXG4gKiAgPC9tZC1jb250ZW50PlxuICogPC9obGpzPlxuICpcbiAqL1xuXG5mdW5jdGlvbiBtZENvbnRlbnREaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGVsZW1lbnQnLCBDb250ZW50Q29udHJvbGxlcl0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcblxuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgIHNjb3BlLiRicm9hZGNhc3QoJyRtZENvbnRlbnRMb2FkZWQnLCBlbGVtZW50KTtcblxuICAgICAgaW9zU2Nyb2xsRml4KGVsZW1lbnRbMF0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBDb250ZW50Q29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB9XG59XG5tZENvbnRlbnREaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG5cbmZ1bmN0aW9uIGlvc1Njcm9sbEZpeChub2RlKSB7XG4gIC8vIElPUyBGSVg6XG4gIC8vIElmIHdlIHNjcm9sbCB3aGVyZSB0aGVyZSBpcyBubyBtb3JlIHJvb20gZm9yIHRoZSB3ZWJ2aWV3IHRvIHNjcm9sbCxcbiAgLy8gYnkgZGVmYXVsdCB0aGUgd2VidmlldyBpdHNlbGYgd2lsbCBzY3JvbGwgdXAgYW5kIGRvd24sIHRoaXMgbG9va3MgcmVhbGx5XG4gIC8vIGJhZC4gIFNvIGlmIHdlIGFyZSBzY3JvbGxpbmcgdG8gdGhlIHZlcnkgdG9wIG9yIGJvdHRvbSwgYWRkL3N1YnRyYWN0IG9uZVxuICBhbmd1bGFyLmVsZW1lbnQobm9kZSkub24oJyRtZC5wcmVzc2Rvd24nLCBmdW5jdGlvbihldikge1xuICAgIC8vIE9ubHkgdG91Y2ggZXZlbnRzXG4gICAgaWYgKGV2LnBvaW50ZXIudHlwZSAhPT0gJ3QnKSByZXR1cm47XG4gICAgLy8gRG9uJ3QgbGV0IGEgY2hpbGQgY29udGVudCdzIHRvdWNoc3RhcnQgcnVpbiBpdCBmb3IgdXMuXG4gICAgaWYgKGV2LiRtYXRlcmlhbFNjcm9sbEZpeGVkKSByZXR1cm47XG4gICAgZXYuJG1hdGVyaWFsU2Nyb2xsRml4ZWQgPSB0cnVlO1xuXG4gICAgaWYgKG5vZGUuc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICBub2RlLnNjcm9sbFRvcCA9IDE7XG4gICAgfSBlbHNlIGlmIChub2RlLnNjcm9sbEhlaWdodCA9PT0gbm9kZS5zY3JvbGxUb3AgKyBub2RlLm9mZnNldEhlaWdodCkge1xuICAgICAgbm9kZS5zY3JvbGxUb3AgLT0gMTtcbiAgICB9XG4gIH0pO1xufVxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpYWxvZ1xuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5kaWFsb2cnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3AnXG5dKVxuICAuZGlyZWN0aXZlKCdtZERpYWxvZycsIE1kRGlhbG9nRGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZERpYWxvZycsIE1kRGlhbG9nUHJvdmlkZXIpO1xuXG5mdW5jdGlvbiBNZERpYWxvZ0RpcmVjdGl2ZSgkJHJBRiwgJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ21kLWNvbnRlbnQnKTtcbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5zY3JvbGxIZWlnaHQgPiBjb250ZW50LmNsaWVudEhlaWdodCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWNvbnRlbnQtb3ZlcmZsb3cnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuTWREaWFsb2dEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kRGlhbG9nXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kRGlhbG9nYCBvcGVucyBhIGRpYWxvZyBvdmVyIHRoZSBhcHAgdG8gaW5mb3JtIHVzZXJzIGFib3V0IGNyaXRpY2FsIGluZm9ybWF0aW9uIG9yIHJlcXVpcmVcbiAqICB0aGVtIHRvIG1ha2UgZGVjaXNpb25zLiBUaGVyZSBhcmUgdHdvIGFwcHJvYWNoZXMgZm9yIHNldHVwOiBhIHNpbXBsZSBwcm9taXNlIEFQSVxuICogIGFuZCByZWd1bGFyIG9iamVjdCBzeW50YXguXG4gKlxuICogIyMgUmVzdHJpY3Rpb25zXG4gKlxuICogLSBUaGUgZGlhbG9nIGlzIGFsd2F5cyBnaXZlbiBhbiBpc29sYXRlIHNjb3BlLlxuICogLSBUaGUgZGlhbG9nJ3MgdGVtcGxhdGUgbXVzdCBoYXZlIGFuIG91dGVyIGA8bWQtZGlhbG9nPmAgZWxlbWVudC5cbiAqICAgSW5zaWRlLCB1c2UgYW4gYDxtZC1jb250ZW50PmAgZWxlbWVudCBmb3IgdGhlIGRpYWxvZydzIGNvbnRlbnQsIGFuZCB1c2VcbiAqICAgYW4gZWxlbWVudCB3aXRoIGNsYXNzIGBtZC1hY3Rpb25zYCBmb3IgdGhlIGRpYWxvZydzIGFjdGlvbnMuXG4gKlxuICogQHVzYWdlXG4gKiAjIyMgSFRNTFxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2ICBuZy1hcHA9XCJkZW1vQXBwXCIgbmctY29udHJvbGxlcj1cIkVtcGxveWVlQ29udHJvbGxlclwiPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0FsZXJ0KClcIiBjbGFzcz1cIm1kLXJhaXNlZCBtZC13YXJuXCI+XG4gKiAgICAgRW1wbG95ZWUgQWxlcnQhXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0RpYWxvZygkZXZlbnQpXCIgY2xhc3M9XCJtZC1yYWlzZWRcIj5cbiAqICAgICBDdXN0b20gRGlhbG9nXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiY2xvc2VBbGVydCgpXCIgbmctZGlzYWJsZWQ9XCIhaGFzQWxlcnQoKVwiIGNsYXNzPVwibWQtcmFpc2VkXCI+XG4gKiAgICAgQ2xvc2UgQWxlcnRcbiAqICAgPC9tZC1idXR0b24+XG4gKiAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJzaG93R3JlZXRpbmcoJGV2ZW50KVwiIGNsYXNzPVwibWQtcmFpc2VkIG1kLXByaW1hcnlcIiA+XG4gKiAgICAgR3JlZXQgRW1wbG95ZWVcbiAqICAgPC9tZC1idXR0b24+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqXG4gKiAjIyMgSmF2YVNjcmlwdDogb2JqZWN0IHN5bnRheFxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKXtcbiAqICAgXCJ1c2Ugc3RyaWN0XCI7XG4gKlxuICogICBhbmd1bGFyXG4gKiAgICAubW9kdWxlKCdkZW1vQXBwJywgWyduZ01hdGVyaWFsJ10pXG4gKiAgICAuY29udHJvbGxlcignQXBwQ3RybCcsIEFwcENvbnRyb2xsZXIpO1xuICpcbiAqICAgZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZykge1xuICogICAgIHZhciBhbGVydDtcbiAqICAgICAkc2NvcGUuc2hvd0FsZXJ0ID0gc2hvd0FsZXJ0O1xuICogICAgICRzY29wZS5zaG93RGlhbG9nID0gc2hvd0RpYWxvZztcbiAqICAgICAkc2NvcGUuaXRlbXMgPSBbMSwgMiwgM107XG4gKlxuICogICAgIC8vIEludGVybmFsIG1ldGhvZFxuICogICAgIGZ1bmN0aW9uIHNob3dBbGVydCgpIHtcbiAqICAgICAgIGFsZXJ0ID0gJG1kRGlhbG9nLmFsZXJ0KHtcbiAqICAgICAgICAgdGl0bGU6ICdBdHRlbnRpb24nLFxuICogICAgICAgICBjb250ZW50OiAnVGhpcyBpcyBhbiBleGFtcGxlIG9mIGhvdyBlYXN5IGRpYWxvZ3MgY2FuIGJlIScsXG4gKiAgICAgICAgIG9rOiAnQ2xvc2UnXG4gKiAgICAgICB9KTtcbiAqXG4gKiAgICAgICAkbWREaWFsb2dcbiAqICAgICAgICAgLnNob3coIGFsZXJ0IClcbiAqICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgYWxlcnQgPSB1bmRlZmluZWQ7XG4gKiAgICAgICAgIH0pO1xuICogICAgIH1cbiAqXG4gKiAgICAgZnVuY3Rpb24gc2hvd0RpYWxvZygkZXZlbnQpIHtcbiAqICAgICAgICB2YXIgcGFyZW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gKiAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICogICAgICAgICAgcGFyZW50OiBwYXJlbnRFbCxcbiAqICAgICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gKiAgICAgICAgICB0ZW1wbGF0ZTpcbiAqICAgICAgICAgICAgJzxtZC1kaWFsb2cgYXJpYS1sYWJlbD1cIkxpc3QgZGlhbG9nXCI+JyArXG4gKiAgICAgICAgICAgICcgIDxtZC1jb250ZW50PicrXG4gKiAgICAgICAgICAgICcgICAgPG1kLWxpc3Q+JytcbiAqICAgICAgICAgICAgJyAgICAgIDxtZC1pdGVtIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIj4nK1xuICogICAgICAgICAgICAnICAgICAgIDxwPk51bWJlciB7e2l0ZW19fTwvcD4nICtcbiAqICAgICAgICAgICAgJyAgICAgIDwvbWQtaXRlbT4nK1xuICogICAgICAgICAgICAnICAgIDwvbWQtbGlzdD4nK1xuICogICAgICAgICAgICAnICA8L21kLWNvbnRlbnQ+JyArXG4gKiAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyArXG4gKiAgICAgICAgICAgICcgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlRGlhbG9nKClcIj4nICtcbiAqICAgICAgICAgICAgJyAgICAgIENsb3NlIERpYWxvZycgK1xuICogICAgICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicgK1xuICogICAgICAgICAgICAnICA8L2Rpdj4nICtcbiAqICAgICAgICAgICAgJzwvbWQtZGlhbG9nPicsXG4gKiAgICAgICAgICBsb2NhbHM6IHtcbiAqICAgICAgICAgICAgaXRlbXM6ICRzY29wZS5pdGVtc1xuICogICAgICAgICAgfSxcbiAqICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXJcbiAqICAgICAgIH0pO1xuICogICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcihzY29wZSwgJG1kRGlhbG9nLCBpdGVtcykge1xuICogICAgICAgICAkc2NvcGUuaXRlbXMgPSBpdGVtcztcbiAqICAgICAgICAgJHNjb3BlLmNsb3NlRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH1cbiAqXG4gKiB9KShhbmd1bGFyKTtcbiAqIDwvaGxqcz5cbiAqXG4gKiAjIyMgSmF2YVNjcmlwdDogcHJvbWlzZSBBUEkgc3ludGF4LCBjdXN0b20gZGlhbG9nIHRlbXBsYXRlXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIChmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpe1xuICogICBcInVzZSBzdHJpY3RcIjtcbiAqXG4gKiAgIGFuZ3VsYXJcbiAqICAgICAubW9kdWxlKCdkZW1vQXBwJywgWyduZ01hdGVyaWFsJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0VtcGxveWVlQ29udHJvbGxlcicsIEVtcGxveWVlRWRpdG9yKVxuICogICAgIC5jb250cm9sbGVyKCdHcmVldGluZ0NvbnRyb2xsZXInLCBHcmVldGluZ0NvbnRyb2xsZXIpO1xuICpcbiAqICAgLy8gRmljdGl0aW91cyBFbXBsb3llZSBFZGl0b3IgdG8gc2hvdyBob3cgdG8gdXNlIHNpbXBsZSBhbmQgY29tcGxleCBkaWFsb2dzLlxuICpcbiAqICAgZnVuY3Rpb24gRW1wbG95ZWVFZGl0b3IoJHNjb3BlLCAkbWREaWFsb2cpIHtcbiAqICAgICB2YXIgYWxlcnQ7XG4gKlxuICogICAgICRzY29wZS5zaG93QWxlcnQgPSBzaG93QWxlcnQ7XG4gKiAgICAgJHNjb3BlLmNsb3NlQWxlcnQgPSBjbG9zZUFsZXJ0O1xuICogICAgICRzY29wZS5zaG93R3JlZXRpbmcgPSBzaG93Q3VzdG9tR3JlZXRpbmc7XG4gKlxuICogICAgICRzY29wZS5oYXNBbGVydCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gISFhbGVydCB9O1xuICogICAgICRzY29wZS51c2VyTmFtZSA9ICRzY29wZS51c2VyTmFtZSB8fCAnQm9iYnknO1xuICpcbiAqICAgICAvLyBEaWFsb2cgIzEgLSBTaG93IHNpbXBsZSBhbGVydCBkaWFsb2cgYW5kIGNhY2hlXG4gKiAgICAgLy8gcmVmZXJlbmNlIHRvIGRpYWxvZyBpbnN0YW5jZVxuICpcbiAqICAgICBmdW5jdGlvbiBzaG93QWxlcnQoKSB7XG4gKiAgICAgICBhbGVydCA9ICRtZERpYWxvZy5hbGVydCgpXG4gKiAgICAgICAgIC50aXRsZSgnQXR0ZW50aW9uLCAnICsgJHNjb3BlLnVzZXJOYW1lKVxuICogICAgICAgICAuY29udGVudCgnVGhpcyBpcyBhbiBleGFtcGxlIG9mIGhvdyBlYXN5IGRpYWxvZ3MgY2FuIGJlIScpXG4gKiAgICAgICAgIC5vaygnQ2xvc2UnKTtcbiAqXG4gKiAgICAgICAkbWREaWFsb2dcbiAqICAgICAgICAgICAuc2hvdyggYWxlcnQgKVxuICogICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgYWxlcnQgPSB1bmRlZmluZWQ7XG4gKiAgICAgICAgICAgfSk7XG4gKiAgICAgfVxuICpcbiAqICAgICAvLyBDbG9zZSB0aGUgc3BlY2lmaWVkIGRpYWxvZyBpbnN0YW5jZSBhbmQgcmVzb2x2ZSB3aXRoICdmaW5pc2hlZCcgZmxhZ1xuICogICAgIC8vIE5vcm1hbGx5IHRoaXMgaXMgbm90IG5lZWRlZCwganVzdCB1c2UgJyRtZERpYWxvZy5oaWRlKCknIHRvIGNsb3NlXG4gKiAgICAgLy8gdGhlIG1vc3QgcmVjZW50IGRpYWxvZyBwb3B1cC5cbiAqXG4gKiAgICAgZnVuY3Rpb24gY2xvc2VBbGVydCgpIHtcbiAqICAgICAgICRtZERpYWxvZy5oaWRlKCBhbGVydCwgXCJmaW5pc2hlZFwiICk7XG4gKiAgICAgICBhbGVydCA9IHVuZGVmaW5lZDtcbiAqICAgICB9XG4gKlxuICogICAgIC8vIERpYWxvZyAjMiAtIERlbW9uc3RyYXRlIG1vcmUgY29tcGxleCBkaWFsb2dzIGNvbnN0cnVjdGlvbiBhbmQgcG9wdXAuXG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dDdXN0b21HcmVldGluZygkZXZlbnQpIHtcbiAqICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICogICAgICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gKiAgICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgICAnPG1kLWRpYWxvZz4nICtcbiAqXG4gKiAgICAgICAgICAgICAnICA8bWQtY29udGVudD5IZWxsbyB7eyBlbXBsb3llZSB9fSE8L21kLWNvbnRlbnQ+JyArXG4gKlxuICogICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cIm1kLWFjdGlvbnNcIj4nICtcbiAqICAgICAgICAgICAgICcgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlRGlhbG9nKClcIj4nICtcbiAqICAgICAgICAgICAgICcgICAgICBDbG9zZSBHcmVldGluZycgK1xuICpcbiAqICAgICAgICAgICAgICcgICAgPC9tZC1idXR0b24+JyArXG4gKiAgICAgICAgICAgICAnICA8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICc8L21kLWRpYWxvZz4nLFxuICogICAgICAgICAgIGNvbnRyb2xsZXI6ICdHcmVldGluZ0NvbnRyb2xsZXInLFxuICogICAgICAgICAgIG9uQ29tcGxldGU6IGFmdGVyU2hvd0FuaW1hdGlvbixcbiAqICAgICAgICAgICBsb2NhbHM6IHsgZW1wbG95ZWU6ICRzY29wZS51c2VyTmFtZSB9XG4gKiAgICAgICAgIH0pO1xuICpcbiAqICAgICAgICAgLy8gV2hlbiB0aGUgJ2VudGVyJyBhbmltYXRpb24gZmluaXNoZXMuLi5cbiAqXG4gKiAgICAgICAgIGZ1bmN0aW9uIGFmdGVyU2hvd0FuaW1hdGlvbihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICogICAgICAgICAgICAvLyBwb3N0LXNob3cgY29kZSBoZXJlOiBET00gZWxlbWVudCBmb2N1cywgZXRjLlxuICogICAgICAgICB9XG4gKiAgICAgfVxuICogICB9XG4gKlxuICogICAvLyBHcmVldGluZyBjb250cm9sbGVyIHVzZWQgd2l0aCB0aGUgbW9yZSBjb21wbGV4ICdzaG93Q3VzdG9tR3JlZXRpbmcoKScgY3VzdG9tIGRpYWxvZ1xuICpcbiAqICAgZnVuY3Rpb24gR3JlZXRpbmdDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nLCBlbXBsb3llZSkge1xuICogICAgIC8vIEFzc2lnbmVkIGZyb20gY29uc3RydWN0aW9uIDxjb2RlPmxvY2FsczwvY29kZT4gb3B0aW9ucy4uLlxuICogICAgICRzY29wZS5lbXBsb3llZSA9IGVtcGxveWVlO1xuICpcbiAqICAgICAkc2NvcGUuY2xvc2VEaWFsb2cgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgIC8vIEVhc2lseSBoaWRlcyBtb3N0IHJlY2VudCBkaWFsb2cgc2hvd24uLi5cbiAqICAgICAgIC8vIG5vIHNwZWNpZmljIGluc3RhbmNlIHJlZmVyZW5jZSBpcyBuZWVkZWQuXG4gKiAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICogICAgIH07XG4gKiAgIH1cbiAqXG4gKiB9KShhbmd1bGFyKTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjYWxlcnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEJ1aWxkcyBhIHByZWNvbmZpZ3VyZWQgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWREaWFsb2dQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHM6XG4gKlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGl0bGUoc3RyaW5nKSAtIHNldHMgdGl0bGUgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCNjb250ZW50KHN0cmluZykgLSBzZXRzIGNvbnRlbnQgLyBtZXNzYWdlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjb2soc3RyaW5nKSAtIHNldHMgb2theSBidXR0b24gdGV4dCB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RoZW1lKHN0cmluZykgLSBzZXRzIHRoZSB0aGVtZSBvZiB0aGUgZGlhbG9nXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNjb25maXJtXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIGRpYWxvZyB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZS4gWW91IGNhbiBjYWxsIHNob3cgYW5kIHRoZSBwcm9taXNlIHJldHVybmVkXG4gKiB3aWxsIGJlIHJlc29sdmVkIG9ubHkgaWYgdGhlIHVzZXIgY2xpY2tzIHRoZSBjb25maXJtIGFjdGlvbiBvbiB0aGUgZGlhbG9nLlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWREaWFsb2dQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHM6XG4gKlxuICogQWRkaXRpb25hbGx5LCBpdCBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGl0bGUoc3RyaW5nKSAtIHNldHMgdGl0bGUgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCNjb250ZW50KHN0cmluZykgLSBzZXRzIGNvbnRlbnQgLyBtZXNzYWdlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjb2soc3RyaW5nKSAtIHNldHMgb2theSBidXR0b24gdGV4dCB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I2NhbmNlbChzdHJpbmcpIC0gc2V0cyBjYW5jZWwgYnV0dG9uIHRleHQgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCN0aGVtZShzdHJpbmcpIC0gc2V0cyB0aGUgdGhlbWUgb2YgdGhlIGRpYWxvZ1xuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaG93IGEgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zT3JQcmVzZXQgRWl0aGVyIHByb3ZpZGUgYW4gYCRtZERpYWxvZ1ByZXNldGAgcmV0dXJuZWQgZnJvbSBgYWxlcnQoKWAsIGFuZFxuICogYGNvbmZpcm0oKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YDogVGhlIHVybCBvZiBhIHRlbXBsYXRlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZW50XG4gKiAgIG9mIHRoZSBkaWFsb2cuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBTYW1lIGFzIHRlbXBsYXRlVXJsLCBleGNlcHQgdGhpcyBpcyBhbiBhY3R1YWwgdGVtcGxhdGUgc3RyaW5nLlxuICogICAtIGB0YXJnZXRFdmVudGAgLSBge0RPTUNsaWNrRXZlbnQ9fWA6IEEgY2xpY2sncyBldmVudCBvYmplY3QuIFdoZW4gcGFzc2VkIGluIGFzIGFuIG9wdGlvbixcbiAqICAgICB0aGUgbG9jYXRpb24gb2YgdGhlIGNsaWNrIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBvcGVuaW5nIGFuaW1hdGlvblxuICogICAgIG9mIHRoZSB0aGUgZGlhbG9nLlxuICogICAtIGBkaXNhYmxlUGFyZW50U2Nyb2xsYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0byBkaXNhYmxlIHNjcm9sbGluZyB3aGlsZSB0aGUgZGlhbG9nIGlzIG9wZW4uXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICogICAtIGBoYXNCYWNrZHJvcGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdGhlcmUgc2hvdWxkIGJlIGFuIG9wYXF1ZSBiYWNrZHJvcCBiZWhpbmQgdGhlIGRpYWxvZy5cbiAqICAgICBEZWZhdWx0IHRydWUuXG4gKiAgIC0gYGNsaWNrT3V0c2lkZVRvQ2xvc2VgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZSB1c2VyIGNhbiBjbGljayBvdXRzaWRlIHRoZSBkaWFsb2cgdG9cbiAqICAgICBjbG9zZSBpdC4gRGVmYXVsdCB0cnVlLlxuICogICAtIGBlc2NhcGVUb0Nsb3NlYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0aGUgdXNlciBjYW4gcHJlc3MgZXNjYXBlIHRvIGNsb3NlIHRoZSBkaWFsb2cuXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICogICAtIGBjb250cm9sbGVyYCAtIGB7c3RyaW5nPX1gOiBUaGUgY29udHJvbGxlciB0byBhc3NvY2lhdGUgd2l0aCB0aGUgZGlhbG9nLiBUaGUgY29udHJvbGxlclxuICogICAgIHdpbGwgYmUgaW5qZWN0ZWQgd2l0aCB0aGUgbG9jYWwgYCRtZERpYWxvZ2AsIHdoaWNoIHBhc3NlcyBhbG9uZyBhIHNjb3BlIGZvciB0aGUgZGlhbG9nLlxuICogICAtIGBsb2NhbHNgIC0gYHtvYmplY3Q9fWA6IEFuIG9iamVjdCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycy4gVGhlIGtleXMgd2lsbCBiZSB1c2VkIGFzIG5hbWVzXG4gKiAgICAgb2YgdmFsdWVzIHRvIGluamVjdCBpbnRvIHRoZSBjb250cm9sbGVyLiBGb3IgZXhhbXBsZSwgYGxvY2Fsczoge3RocmVlOiAzfWAgd291bGQgaW5qZWN0XG4gKiAgICAgYHRocmVlYCBpbnRvIHRoZSBjb250cm9sbGVyLCB3aXRoIHRoZSB2YWx1ZSAzLiBJZiBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1ZSwgdGhleSB3aWxsIGJlXG4gKiAgICAgY29waWVkIHRvIHRoZSBjb250cm9sbGVyIGluc3RlYWQuXG4gKiAgIC0gYGJpbmRUb0NvbnRyb2xsZXJgIC0gYGJvb2xgOiBiaW5kIHRoZSBsb2NhbHMgdG8gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQgb2YgcGFzc2luZyB0aGVtIGluXG4gKiAgIC0gYHJlc29sdmVgIC0gYHtvYmplY3Q9fWA6IFNpbWlsYXIgdG8gbG9jYWxzLCBleGNlcHQgaXQgdGFrZXMgcHJvbWlzZXMgYXMgdmFsdWVzLCBhbmQgdGhlXG4gKiAgICAgZGlhbG9nIHdpbGwgbm90IG9wZW4gdW50aWwgYWxsIG9mIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICogICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWA6IEFuIGFsaWFzIHRvIGFzc2lnbiB0aGUgY29udHJvbGxlciB0byBvbiB0aGUgc2NvcGUuXG4gKiAgIC0gYHBhcmVudGAgLSBge2VsZW1lbnQ9fWA6IFRoZSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgZGlhbG9nIHRvLiBEZWZhdWx0cyB0byBhcHBlbmRpbmdcbiAqICAgICB0byB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqICAgLSBgb25Db21wbGV0ZWAgYHtmdW5jdGlvbj19YDogQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBhbm5vdW5jZSB3aGVuIHRoZSBzaG93KCkgYWN0aW9uIGlzXG4gKiAgICAgZmluaXNoZWQuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWREaWFsb2cuaGlkZSgpYCBvclxuICogcmVqZWN0ZWQgd2l0aCBgJG1kRGlhbG9nLmNhbmNlbCgpYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNoaWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIGFuIGV4aXN0aW5nIGRpYWxvZyBhbmQgcmVzb2x2ZSB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWREaWFsb2cuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlc29sdmVkIHByb21pc2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjY2FuY2VsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIGFuIGV4aXN0aW5nIGRpYWxvZyBhbmQgcmVqZWN0IHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYCRtZERpYWxvZy5zaG93KClgLlxuICpcbiAqIEBwYXJhbSB7Kj19IHJlc3BvbnNlIEFuIGFyZ3VtZW50IGZvciB0aGUgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqL1xuXG5mdW5jdGlvbiBNZERpYWxvZ1Byb3ZpZGVyKCQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcikge1xuXG4gIHZhciBhbGVydERpYWxvZ01ldGhvZHMgPSBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJ107XG5cbiAgYWR2YW5jZWREaWFsb2dPcHRpb25zLiRpbmplY3QgPSBbXCIkbWREaWFsb2dcIiwgXCIkbWRUaGVtaW5nXCJdO1xuICBkaWFsb2dEZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkY29tcGlsZVwiLCBcIiRhbmltYXRlXCIsIFwiJG1kQXJpYVwiLCBcIiRkb2N1bWVudFwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkJHJBRlwiLCBcIiRxXCIsIFwiJG1kRGlhbG9nXCJdO1xuICByZXR1cm4gJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKCckbWREaWFsb2cnKVxuICAgIC5zZXREZWZhdWx0cyh7XG4gICAgICBtZXRob2RzOiBbJ2Rpc2FibGVQYXJlbnRTY3JvbGwnLCAnaGFzQmFja2Ryb3AnLCAnY2xpY2tPdXRzaWRlVG9DbG9zZScsICdlc2NhcGVUb0Nsb3NlJywgJ3RhcmdldEV2ZW50J10sXG4gICAgICBvcHRpb25zOiBkaWFsb2dEZWZhdWx0T3B0aW9uc1xuICAgIH0pXG4gICAgLmFkZFByZXNldCgnYWxlcnQnLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ3RoZW1lJ10sXG4gICAgICBvcHRpb25zOiBhZHZhbmNlZERpYWxvZ09wdGlvbnNcbiAgICB9KVxuICAgIC5hZGRQcmVzZXQoJ2NvbmZpcm0nLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ2NhbmNlbCcsICd0aGVtZSddLFxuICAgICAgb3B0aW9uczogYWR2YW5jZWREaWFsb2dPcHRpb25zXG4gICAgfSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGFkdmFuY2VkRGlhbG9nT3B0aW9ucygkbWREaWFsb2csICRtZFRoZW1pbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IFtcbiAgICAgICAgJzxtZC1kaWFsb2cgbWQtdGhlbWU9XCJ7eyBkaWFsb2cudGhlbWUgfX1cIiBhcmlhLWxhYmVsPVwie3sgZGlhbG9nLmFyaWFMYWJlbCB9fVwiPicsXG4gICAgICAgICAgJzxtZC1jb250ZW50PicsXG4gICAgICAgICAgICAnPGgyPnt7IGRpYWxvZy50aXRsZSB9fTwvaDI+JyxcbiAgICAgICAgICAgICc8cD57eyBkaWFsb2cuY29udGVudCB9fTwvcD4nLFxuICAgICAgICAgICc8L21kLWNvbnRlbnQ+JyxcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWFjdGlvbnNcIj4nLFxuICAgICAgICAgICAgJzxtZC1idXR0b24gbmctaWY9XCJkaWFsb2cuJHR5cGUgPT0gXFwnY29uZmlybVxcJ1wiIG5nLWNsaWNrPVwiZGlhbG9nLmFib3J0KClcIj4nLFxuICAgICAgICAgICAgICAne3sgZGlhbG9nLmNhbmNlbCB9fScsXG4gICAgICAgICAgICAnPC9tZC1idXR0b24+JyxcbiAgICAgICAgICAgICc8bWQtYnV0dG9uIG5nLWNsaWNrPVwiZGlhbG9nLmhpZGUoKVwiIGNsYXNzPVwibWQtcHJpbWFyeVwiPicsXG4gICAgICAgICAgICAgICd7eyBkaWFsb2cub2sgfX0nLFxuICAgICAgICAgICAgJzwvbWQtYnV0dG9uPicsXG4gICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L21kLWRpYWxvZz4nXG4gICAgICBdLmpvaW4oJycpLFxuICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gbWREaWFsb2dDdHJsKCkge1xuICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWREaWFsb2cuaGlkZSh0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyQXM6ICdkaWFsb2cnLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIHRoZW1lOiAkbWRUaGVtaW5nLmRlZmF1bHRUaGVtZSgpXG4gICAgfTtcbiAgfVxuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaWFsb2dEZWZhdWx0T3B0aW9ucygkdGltZW91dCwgJHJvb3RFbGVtZW50LCAkY29tcGlsZSwgJGFuaW1hdGUsICRtZEFyaWEsICRkb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kVXRpbCwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcsICQkckFGLCAkcSwgJG1kRGlhbG9nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiB0cnVlLFxuICAgICAgaXNvbGF0ZVNjb3BlOiB0cnVlLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgZXNjYXBlVG9DbG9zZTogdHJ1ZSxcbiAgICAgIHRhcmdldEV2ZW50OiBudWxsLFxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogdHJ1ZSxcbiAgICAgIHRyYW5zZm9ybVRlbXBsYXRlOiBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJtZC1kaWFsb2ctY29udGFpbmVyXCI+JyArIHRlbXBsYXRlICsgJzwvZGl2Pic7XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgLy8gT24gc2hvdyBtZXRob2QgZm9yIGRpYWxvZ3NcbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIC8vIEluY2FzZSB0aGUgdXNlciBwcm92aWRlcyBhIHJhdyBkb20gZWxlbWVudCwgYWx3YXlzIHdyYXAgaXQgaW4ganFMaXRlXG4gICAgICBvcHRpb25zLnBhcmVudCA9IGFuZ3VsYXIuZWxlbWVudChvcHRpb25zLnBhcmVudCk7XG5cbiAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgPSBhbmd1bGFyLmVsZW1lbnQoKG9wdGlvbnMudGFyZ2V0RXZlbnQgfHwge30pLnRhcmdldCk7XG4gICAgICB2YXIgY2xvc2VCdXR0b24gPSBmaW5kQ2xvc2VCdXR0b24oKTtcblxuICAgICAgY29uZmlndXJlQXJpYShlbGVtZW50LmZpbmQoJ21kLWRpYWxvZycpKTtcblxuICAgICAgaWYgKG9wdGlvbnMuaGFzQmFja2Ryb3ApIHtcbiAgICAgICAgdmFyIHBhcmVudE9mZnNldCA9IG9wdGlvbnMucGFyZW50LnByb3AoJ3Njcm9sbFRvcCcpO1xuICAgICAgICBvcHRpb25zLmJhY2tkcm9wID0gYW5ndWxhci5lbGVtZW50KCc8bWQtYmFja2Ryb3AgY2xhc3M9XCJtZC1kaWFsb2ctYmFja2Ryb3AgbWQtb3BhcXVlXCI+Jyk7XG4gICAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChvcHRpb25zLmJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCk7XG4gICAgICAgICRhbmltYXRlLmVudGVyKG9wdGlvbnMuYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgICAgZWxlbWVudC5jc3MoJ3RvcCcsIHBhcmVudE9mZnNldCArJ3B4Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgb3B0aW9ucy5sYXN0T3ZlcmZsb3cgPSBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93Jyk7XG4gICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaWFsb2dQb3BJbihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgJiYgb3B0aW9ucy5wb3BJblRhcmdldC5sZW5ndGggJiYgb3B0aW9ucy5wb3BJblRhcmdldFxuICAgICAgKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmVzY2FwZVRvQ2xvc2UpIHtcbiAgICAgICAgICBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRSkge1xuICAgICAgICAgICAgICAkdGltZW91dCgkbWREaWFsb2cuY2FuY2VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgICRyb290RWxlbWVudC5vbigna2V5dXAnLCBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5jbGlja091dHNpZGVUb0Nsb3NlKSB7XG4gICAgICAgICAgb3B0aW9ucy5kaWFsb2dDbGlja091dHNpZGVDYWxsYmFjayA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAvLyBPbmx5IGNsb3NlIGlmIHdlIGNsaWNrIHRoZSBmbGV4IGNvbnRhaW5lciBvdXRzaWRlIHRoZSBiYWNrZHJvcFxuICAgICAgICAgICAgaWYgKGV2LnRhcmdldCA9PT0gZWxlbWVudFswXSkge1xuICAgICAgICAgICAgICAkdGltZW91dCgkbWREaWFsb2cuY2FuY2VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgb3B0aW9ucy5kaWFsb2dDbGlja091dHNpZGVDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICAgIH0pO1xuXG5cbiAgICAgIGZ1bmN0aW9uIGZpbmRDbG9zZUJ1dHRvbigpIHtcbiAgICAgICAgLy9JZiBubyBlbGVtZW50IHdpdGggY2xhc3MgZGlhbG9nLWNsb3NlLCB0cnkgdG8gZmluZCB0aGUgbGFzdFxuICAgICAgICAvL2J1dHRvbiBjaGlsZCBpbiBtZC1hY3Rpb25zIGFuZCBhc3N1bWUgaXQgaXMgYSBjbG9zZSBidXR0b25cbiAgICAgICAgdmFyIGNsb3NlQnV0dG9uID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nLWNsb3NlJyk7XG4gICAgICAgIGlmICghY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICB2YXIgYWN0aW9uQnV0dG9ucyA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnLm1kLWFjdGlvbnMgYnV0dG9uJyk7XG4gICAgICAgICAgY2xvc2VCdXR0b24gPSBhY3Rpb25CdXR0b25zWyBhY3Rpb25CdXR0b25zLmxlbmd0aCAtIDEgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KGNsb3NlQnV0dG9uKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIE9uIHJlbW92ZSBmdW5jdGlvbiBmb3IgYWxsIGRpYWxvZ3NcbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICBpZiAob3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgICAkYW5pbWF0ZS5sZWF2ZShvcHRpb25zLmJhY2tkcm9wKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgb3B0aW9ucy5wYXJlbnQuY3NzKCdvdmVyZmxvdycsIG9wdGlvbnMubGFzdE92ZXJmbG93KTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMubGFzdE92ZXJmbG93O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuZXNjYXBlVG9DbG9zZSkge1xuICAgICAgICAkcm9vdEVsZW1lbnQub2ZmKCdrZXl1cCcsIG9wdGlvbnMucm9vdEVsZW1lbnRLZXl1cENhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmNsaWNrT3V0c2lkZVRvQ2xvc2UpIHtcbiAgICAgICAgZWxlbWVudC5vZmYoJ2NsaWNrJywgb3B0aW9ucy5kaWFsb2dDbGlja091dHNpZGVDYWxsYmFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlhbG9nUG9wT3V0KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBvcHRpb25zLnBhcmVudCxcbiAgICAgICAgb3B0aW9ucy5wb3BJblRhcmdldCAmJiBvcHRpb25zLnBvcEluVGFyZ2V0Lmxlbmd0aCAmJiBvcHRpb25zLnBvcEluVGFyZ2V0XG4gICAgICApLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIG9wdGlvbnMuc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgb3B0aW9ucy5wb3BJblRhcmdldCAmJiBvcHRpb25zLnBvcEluVGFyZ2V0LmZvY3VzKCk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamVjdCBBUklBLXNwZWNpZmljIGF0dHJpYnV0ZXMgYXBwcm9wcmlhdGUgZm9yIERpYWxvZ3NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdyb2xlJzogJ2RpYWxvZydcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IGVsZW1lbnQuZmluZCgnbWQtY29udGVudCcpO1xuICAgICAgaWYgKGRpYWxvZ0NvbnRlbnQubGVuZ3RoID09PSAwKXtcbiAgICAgICAgZGlhbG9nQ29udGVudCA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgICAkbWRBcmlhLmV4cGVjdEFzeW5jKGVsZW1lbnQsICdhcmlhLWxhYmVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3b3JkcyA9IGRpYWxvZ0NvbnRlbnQudGV4dCgpLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgIGlmICh3b3Jkcy5sZW5ndGggPiAzKSB3b3JkcyA9IHdvcmRzLnNsaWNlKDAsMykuY29uY2F0KCcuLi4nKTtcbiAgICAgICAgcmV0dXJuIHdvcmRzLmpvaW4oJyAnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpYWxvZ1BvcEluKGNvbnRhaW5lciwgcGFyZW50RWxlbWVudCwgY2xpY2tFbGVtZW50KSB7XG4gICAgICB2YXIgZGlhbG9nRWwgPSBjb250YWluZXIuZmluZCgnbWQtZGlhbG9nJyk7XG5cbiAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKGNvbnRhaW5lcik7XG4gICAgICB0cmFuc2Zvcm1Ub0NsaWNrRWxlbWVudChkaWFsb2dFbCwgY2xpY2tFbGVtZW50KTtcblxuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpYWxvZ0VsLmFkZENsYXNzKCd0cmFuc2l0aW9uLWluJylcbiAgICAgICAgICAuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICcnKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gJG1kVXRpbC50cmFuc2l0aW9uRW5kUHJvbWlzZShkaWFsb2dFbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlhbG9nUG9wT3V0KGNvbnRhaW5lciwgcGFyZW50RWxlbWVudCwgY2xpY2tFbGVtZW50KSB7XG4gICAgICB2YXIgZGlhbG9nRWwgPSBjb250YWluZXIuZmluZCgnbWQtZGlhbG9nJyk7XG5cbiAgICAgIGRpYWxvZ0VsLmFkZENsYXNzKCd0cmFuc2l0aW9uLW91dCcpLnJlbW92ZUNsYXNzKCd0cmFuc2l0aW9uLWluJyk7XG4gICAgICB0cmFuc2Zvcm1Ub0NsaWNrRWxlbWVudChkaWFsb2dFbCwgY2xpY2tFbGVtZW50KTtcblxuICAgICAgcmV0dXJuICRtZFV0aWwudHJhbnNpdGlvbkVuZFByb21pc2UoZGlhbG9nRWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybVRvQ2xpY2tFbGVtZW50KGRpYWxvZ0VsLCBjbGlja0VsZW1lbnQpIHtcbiAgICAgIGlmIChjbGlja0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIGNsaWNrUmVjdCA9IGNsaWNrRWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGRpYWxvZ1JlY3QgPSBkaWFsb2dFbFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB2YXIgc2NhbGVYID0gTWF0aC5taW4oMC41LCBjbGlja1JlY3Qud2lkdGggLyBkaWFsb2dSZWN0LndpZHRoKTtcbiAgICAgICAgdmFyIHNjYWxlWSA9IE1hdGgubWluKDAuNSwgY2xpY2tSZWN0LmhlaWdodCAvIGRpYWxvZ1JlY3QuaGVpZ2h0KTtcblxuICAgICAgICBkaWFsb2dFbC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJ3RyYW5zbGF0ZTNkKCcgK1xuICAgICAgICAgICgtZGlhbG9nUmVjdC5sZWZ0ICsgY2xpY2tSZWN0LmxlZnQgKyBjbGlja1JlY3Qud2lkdGgvMiAtIGRpYWxvZ1JlY3Qud2lkdGgvMikgKyAncHgsJyArXG4gICAgICAgICAgKC1kaWFsb2dSZWN0LnRvcCArIGNsaWNrUmVjdC50b3AgKyBjbGlja1JlY3QuaGVpZ2h0LzIgLSBkaWFsb2dSZWN0LmhlaWdodC8yKSArICdweCwnICtcbiAgICAgICAgICAnMCkgc2NhbGUoJyArIHNjYWxlWCArICcsJyArIHNjYWxlWSArICcpJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpYWxvZ1RyYW5zaXRpb25FbmQoZGlhbG9nRWwpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICBkaWFsb2dFbC5vbigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgZmluaXNoZWQpO1xuICAgICAgZnVuY3Rpb24gZmluaXNoZWQoZXYpIHtcbiAgICAgICAgLy9NYWtlIHN1cmUgdGhpcyB0cmFuc2l0aW9uZW5kIGRpZG4ndCBidWJibGUgdXAgZnJvbSBhIGNoaWxkXG4gICAgICAgIGlmIChldi50YXJnZXQgPT09IGRpYWxvZ0VsWzBdKSB7XG4gICAgICAgICAgZGlhbG9nRWwub2ZmKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9ORU5ELCBmaW5pc2hlZCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgfVxufVxuTWREaWFsb2dQcm92aWRlci4kaW5qZWN0ID0gW1wiJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclxuICogQGRlc2NyaXB0aW9uIERpdmlkZXIgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5kaXZpZGVyJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kRGl2aWRlcicsIE1kRGl2aWRlckRpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIE1kRGl2aWRlckNvbnRyb2xsZXIoKXt9XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWREaXZpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpdmlkZXJzIGdyb3VwIGFuZCBzZXBhcmF0ZSBjb250ZW50IHdpdGhpbiBsaXN0cyBhbmQgcGFnZSBsYXlvdXRzIHVzaW5nIHN0cm9uZyB2aXN1YWwgYW5kIHNwYXRpYWwgZGlzdGluY3Rpb25zLiBUaGlzIGRpdmlkZXIgaXMgYSB0aGluIHJ1bGUsIGxpZ2h0d2VpZ2h0IGVub3VnaCB0byBub3QgZGlzdHJhY3QgdGhlIHVzZXIgZnJvbSBjb250ZW50LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWluc2V0IEFkZCB0aGlzIGF0dHJpYnV0ZSB0byBhY3RpdmF0ZSB0aGUgaW5zZXQgZGl2aWRlciBzdHlsZS5cbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1kaXZpZGVyPjwvbWQtZGl2aWRlcj5cbiAqXG4gKiA8bWQtZGl2aWRlciBtZC1pbnNldD48L21kLWRpdmlkZXI+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBNZERpdmlkZXJEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogJG1kVGhlbWluZyxcbiAgICBjb250cm9sbGVyOiBbTWREaXZpZGVyQ29udHJvbGxlcl1cbiAgfTtcbn1cbk1kRGl2aWRlckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdCcsIFsnbWF0ZXJpYWwuY29yZSddKVxuICAgICAgIC5kaXJlY3RpdmUoJ21kR3JpZExpc3QnLCBHcmlkTGlzdERpcmVjdGl2ZSlcbiAgICAgICAuZGlyZWN0aXZlKCdtZEdyaWRUaWxlJywgR3JpZFRpbGVEaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZUZvb3RlcicsIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSlcbiAgICAgICAuZGlyZWN0aXZlKCdtZEdyaWRUaWxlSGVhZGVyJywgR3JpZFRpbGVDYXB0aW9uRGlyZWN0aXZlKVxuICAgICAgIC5mYWN0b3J5KCckbWRHcmlkTGF5b3V0JywgR3JpZExheW91dEZhY3RvcnkpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kR3JpZExpc3RcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdFxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICogR3JpZCBsaXN0cyBhcmUgYW4gYWx0ZXJuYXRpdmUgdG8gc3RhbmRhcmQgbGlzdCB2aWV3cy4gR3JpZCBsaXN0cyBhcmUgZGlzdGluY3RcbiAqIGZyb20gZ3JpZHMgdXNlZCBmb3IgbGF5b3V0cyBhbmQgb3RoZXIgdmlzdWFsIHByZXNlbnRhdGlvbnMuXG4gKlxuICogQSBncmlkIGxpc3QgaXMgYmVzdCBzdWl0ZWQgdG8gcHJlc2VudGluZyBhIGhvbW9nZW5vdXMgZGF0YSB0eXBlLCB0eXBpY2FsbHlcbiAqIGltYWdlcywgYW5kIGlzIG9wdGltaXplZCBmb3IgdmlzdWFsIGNvbXByZWhlbnNpb24gYW5kIGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuXG4gKiBsaWtlIGRhdGEgdHlwZXMuXG4gKlxuICogQSBncmlkIGxpc3QgaXMgYSBjb250aW51b3VzIGVsZW1lbnQgY29uc2lzdGluZyBvZiB0ZXNzZWxsYXRlZCwgcmVndWxhclxuICogc3ViZGl2aXNpb25zIGNhbGxlZCBjZWxscyB0aGF0IGNvbnRhaW4gdGlsZXMgKGBtZC1ncmlkLXRpbGVgKS5cbiAqXG4gKiA8aW1nIHNyYz1cIi8vbWF0ZXJpYWwtZGVzaWduLnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcHVibGlzaC92XzIvbWF0ZXJpYWxfZXh0X3B1Ymxpc2gvMEJ4NEJTdDZqbmlEN09WbEVhWFo1WW1VMVh6Zy9jb21wb25lbnRzX2dyaWRzX3VzYWdlMi5wbmdcIlxuICogICAgc3R5bGU9XCJ3aWR0aDogMzAwcHg7IGhlaWdodDogYXV0bzsgbWFyZ2luLXJpZ2h0OiAxNnB4O1wiIGFsdD1cIkNvbmNlcHQgb2YgZ3JpZCBleHBsYWluZWQgdmlzdWFsbHlcIj5cbiAqIDxpbWcgc3JjPVwiLy9tYXRlcmlhbC1kZXNpZ24uc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9wdWJsaXNoL3ZfMi9tYXRlcmlhbF9leHRfcHVibGlzaC8wQng0QlN0NmpuaUQ3Vkdoc09FNWlkV2xKV1hNL2NvbXBvbmVudHNfZ3JpZHNfdXNhZ2UzLnBuZ1wiXG4gKiAgICBzdHlsZT1cIndpZHRoOiAzMDBweDsgaGVpZ2h0OiBhdXRvO1wiIGFsdD1cIkdyaWQgY29uY2VwdHMgbGVnZW5kXCI+XG4gKlxuICogQ2VsbHMgYXJlIGFycmF5ZWQgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5IHdpdGhpbiB0aGUgZ3JpZC5cbiAqXG4gKiBUaWxlcyBob2xkIGNvbnRlbnQgYW5kIGNhbiBzcGFuIG9uZSBvciBtb3JlIGNlbGxzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5LlxuICpcbiAqICMjIyBSZXNwb25zaXZlIEF0dHJpYnV0ZXNcbiAqXG4gKiBUaGUgYG1kLWdyaWQtbGlzdGAgZGlyZWN0aXZlIHN1cHBvcnRzIFwicmVzcG9uc2l2ZVwiIGF0dHJpYnV0ZXMsIHdoaWNoIGFsbG93XG4gKiBkaWZmZXJlbnQgYG1kLWNvbHNgLCBgbWQtZ3V0dGVyYCBhbmQgYG1kLXJvdy1oZWlnaHRgIHZhbHVlcyBkZXBlbmRpbmcgb24gdGhlXG4gKiBjdXJyZW50bHkgbWF0Y2hpbmcgbWVkaWEgcXVlcnkgKGFzIGRlZmluZWQgaW4gYCRtZENvbnN0YW50Lk1FRElBYCkuXG4gKlxuICogSW4gb3JkZXIgdG8gc2V0IGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGUsIGZpcnN0IGRlZmluZSB0aGUgZmFsbGJhY2sgdmFsdWUgd2l0aFxuICogdGhlIHN0YW5kYXJkIGF0dHJpYnV0ZSBuYW1lLCB0aGVuIGFkZCBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBjb252ZW50aW9uOiBge2Jhc2UtYXR0cmlidXRlLW5hbWV9LXttZWRpYS1xdWVyeS1uYW1lfT1cInt2YWx1ZX1cImBcbiAqIChpZS4gYG1kLWNvbHMtbGc9XCI4XCJgKVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtZC1jb2xzIE51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBncmlkLlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLXJvdy1oZWlnaHQgT25lIG9mXG4gKiA8dWw+XG4gKiAgIDxsaT5DU1MgbGVuZ3RoIC0gRml4ZWQgaGVpZ2h0IHJvd3MgKGVnLiBgOHB4YCBvciBgMXJlbWApPC9saT5cbiAqICAgPGxpPmB7d2lkdGh9OntoZWlnaHR9YCAtIFJhdGlvIG9mIHdpZHRoIHRvIGhlaWdodCAoZWcuXG4gKiAgIGBtZC1yb3ctaGVpZ2h0PVwiMTY6OVwiYCk8L2xpPlxuICogICA8bGk+YFwiZml0XCJgIC0gSGVpZ2h0IHdpbGwgYmUgZGV0ZXJtaW5lZCBieSBzdWJkaXZpZGluZyB0aGUgYXZhaWxhYmxlXG4gKiAgIGhlaWdodCBieSB0aGUgbnVtYmVyIG9mIHJvd3M8L2xpPlxuICogPC91bD5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtZ3V0dGVyIFRoZSBhbW91bnQgb2Ygc3BhY2UgYmV0d2VlbiB0aWxlcyBpbiBDU1MgdW5pdHNcbiAqICAgICAoZGVmYXVsdCAxcHgpXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1sYXlvdXQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSBhZnRlciBsYXlvdXQuIEV2ZW50XG4gKiAgICAgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCwgYW5kIGNvbnRhaW5zIHBlcmZvcm1hbmNlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZVxuICogQmFzaWM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtbGlzdCBtZC1jb2xzPVwiNVwiIG1kLWd1dHRlcj1cIjFlbVwiIG1kLXJvdy1oZWlnaHQ9XCI0OjNcIj5cbiAqICAgPG1kLWdyaWQtdGlsZT48L21kLWdyaWQtdGlsZT5cbiAqIDwvbWQtZ3JpZC1saXN0PlxuICogPC9obGpzPlxuICpcbiAqIEZpeGVkLWhlaWdodCByb3dzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3QgbWQtY29scz1cIjRcIiBtZC1yb3ctaGVpZ2h0PVwiMjAwcHhcIiAuLi4+XG4gKiAgIDxtZC1ncmlkLXRpbGU+PC9tZC1ncmlkLXRpbGU+XG4gKiA8L21kLWdyaWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKiBGaXQgcm93czpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC1saXN0IG1kLWNvbHM9XCI0XCIgbWQtcm93LWhlaWdodD1cImZpdFwiIHN0eWxlPVwiaGVpZ2h0OiA0MDBweDtcIiAuLi4+XG4gKiAgIDxtZC1ncmlkLXRpbGU+PC9tZC1ncmlkLXRpbGU+XG4gKiA8L21kLWdyaWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKiBVc2luZyByZXNwb25zaXZlIGF0dHJpYnV0ZXM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtbGlzdFxuICogICAgIG1kLWNvbHMtc209XCIyXCJcbiAqICAgICBtZC1jb2xzLW1kPVwiNFwiXG4gKiAgICAgbWQtY29scy1sZz1cIjhcIlxuICogICAgIG1kLWNvbHMtZ3QtbGc9XCIxMlwiXG4gKiAgICAgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIEdyaWRMaXN0RGlyZWN0aXZlKCRpbnRlcnBvbGF0ZSwgJG1kQ29uc3RhbnQsICRtZEdyaWRMYXlvdXQsICRtZE1lZGlhLCAkbWRVdGlsKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb250cm9sbGVyOiBHcmlkTGlzdENvbnRyb2xsZXIsXG4gICAgc2NvcGU6IHtcbiAgICAgIG1kT25MYXlvdXQ6ICcmJ1xuICAgIH0sXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAvLyBBcHBseSBzZW1hbnRpY3NcbiAgICBlbGVtZW50LmF0dHIoJ3JvbGUnLCAnbGlzdCcpO1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29udHJvbGxlciB3aXRoIGEgd2F5IHRvIHRyaWdnZXIgbGF5b3V0cy5cbiAgICBjdHJsLmxheW91dERlbGVnYXRlID0gbGF5b3V0RGVsZWdhdGVcblxuICAgIHZhciBpbnZhbGlkYXRlTGF5b3V0ID0gYW5ndWxhci5iaW5kKGN0cmwsIGN0cmwuaW52YWxpZGF0ZUxheW91dCk7XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHdhdGNoTWVkaWEoKSk7XG5cbiAgICAvKipcbiAgICAgKiBXYXRjaGVzIGZvciBjaGFuZ2VzIGluIG1lZGlhLCBpbnZhbGlkYXRpbmcgbGF5b3V0IGFzIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YXRjaE1lZGlhKCkge1xuICAgICAgZm9yICh2YXIgbWVkaWFOYW1lIGluICRtZENvbnN0YW50Lk1FRElBKSB7XG4gICAgICAgICRtZE1lZGlhKG1lZGlhTmFtZSk7IC8vIGluaXRpYWxpemVcbiAgICAgICAgJG1kTWVkaWEuZ2V0UXVlcnkoJG1kQ29uc3RhbnQuTUVESUFbbWVkaWFOYW1lXSlcbiAgICAgICAgICAgIC5hZGRMaXN0ZW5lcihpbnZhbGlkYXRlTGF5b3V0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkbWRNZWRpYS53YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzKFxuICAgICAgICAgIFsnbWQtY29scycsICdtZC1yb3ctaGVpZ2h0J10sIGF0dHJzLCBsYXlvdXRJZk1lZGlhTWF0Y2gpOztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bndhdGNoTWVkaWEoKSB7XG4gICAgICB1bndhdGNoQXR0cnMoKTtcbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICAkbWRNZWRpYS5nZXRRdWVyeSgkbWRDb25zdGFudC5NRURJQVttZWRpYU5hbWVdKVxuICAgICAgICAgICAgLnJlbW92ZUxpc3RlbmVyKGludmFsaWRhdGVMYXlvdXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGdyaWQgbGF5b3V0IGlmIHRoZSBwcm92aWRlZCBtZWRpYU5hbWUgbWF0Y2hlcyB0aGUgY3VycmVudGx5XG4gICAgICogYWN0aXZlIG1lZGlhIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF5b3V0SWZNZWRpYU1hdGNoKG1lZGlhTmFtZSkge1xuICAgICAgaWYgKG1lZGlhTmFtZSA9PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBJdCB3b3VsZCBiZSBuaWNlIHRvIG9ubHkgbGF5b3V0IGlmIHdlIGhhdmVcbiAgICAgICAgLy8gaW5zdGFuY2VzIG9mIGF0dHJpYnV0ZXMgdXNpbmcgdGhpcyBtZWRpYSB0eXBlXG4gICAgICAgIGN0cmwuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgfSBlbHNlIGlmICgkbWRNZWRpYShtZWRpYU5hbWUpKSB7XG4gICAgICAgIGN0cmwuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGxheW91dCBlbmdpbmUsIGFuZCB1c2VzIGl0cyByZXN1bHRzIHRvIGxheSBvdXQgb3VyXG4gICAgICogdGlsZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXlvdXREZWxlZ2F0ZSgpIHtcbiAgICAgIHZhciB0aWxlcyA9IGdldFRpbGVFbGVtZW50cygpLFxuICAgICAgICAgIGNvbENvdW50ID0gZ2V0Q29sdW1uQ291bnQoKSxcbiAgICAgICAgICByb3dNb2RlID0gZ2V0Um93TW9kZSgpLFxuICAgICAgICAgIHJvd0hlaWdodCA9IGdldFJvd0hlaWdodCgpLFxuICAgICAgICAgIGd1dHRlciA9IGdldEd1dHRlcigpLFxuICAgICAgICAgIHBlcmZvcm1hbmNlID1cbiAgICAgICAgICAgICAgJG1kR3JpZExheW91dChjb2xDb3VudCwgZ2V0VGlsZVNwYW5zKCksIGdldFRpbGVFbGVtZW50cygpKVxuICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihwcywgcm93Q291bnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQodGlsZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjb3BlKCkuJG1kR3JpZFBvc2l0aW9uID0gcHM7IC8vIGZvciBkZWJ1Z2dpbmdcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBnZXRTdHlsZXMocHMucG9zaXRpb24sIHBzLnNwYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xDb3VudCwgcm93Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGd1dHRlciwgcm93TW9kZSwgcm93SGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnJlZmxvdygpXG4gICAgICAgICAgICAgICAgICAucGVyZm9ybWFuY2UoKTtcblxuICAgICAgLy8gUmVwb3J0IGxheW91dFxuICAgICAgc2NvcGUubWRPbkxheW91dCh7XG4gICAgICAgICRldmVudDoge1xuICAgICAgICAgIHBlcmZvcm1hbmNlOiBwZXJmb3JtYW5jZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIFVOSVQgPSAkaW50ZXJwb2xhdGUoXG4gICAgICAgIFwie3sgc2hhcmUgfX0lIC0gKHt7IGd1dHRlciB9fSAqIHt7IGd1dHRlclNoYXJlIH19KVwiKTtcbiAgICB2YXIgUE9TSVRJT04gPSAkaW50ZXJwb2xhdGUoXG4gICAgICAgIFwiY2FsYygoe3sgdW5pdCB9fSkgKiB7eyBvZmZzZXQgfX0gKyB7eyBvZmZzZXQgfX0gKiB7eyBndXR0ZXIgfX0pXCIpO1xuICAgIHZhciBESU1FTlNJT04gPSAkaW50ZXJwb2xhdGUoXG4gICAgICAgIFwiY2FsYygoe3sgdW5pdCB9fSkgKiB7eyBzcGFuIH19ICsgKHt7IHNwYW4gfX0gLSAxKSAqIHt7IGd1dHRlciB9fSlcIik7XG5cbiAgICAvLyBUT0RPKHNoeW5kbWFuKTogUmVwbGFjZSBhcmdzIHdpdGggYSBjdHggb2JqZWN0LlxuICAgIGZ1bmN0aW9uIGdldFN0eWxlcyhwb3NpdGlvbiwgc3BhbnMsIGNvbENvdW50LCByb3dDb3VudCwgZ3V0dGVyLCByb3dNb2RlLCByb3dIZWlnaHQpIHtcbiAgICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBUaGVyZSBhcmUgc3R5bGUgY2FjaGluZyBvcHBvcnR1bml0aWVzIGhlcmUuXG4gICAgICB2YXIgaFNoYXJlID0gKDEgLyBjb2xDb3VudCkgKiAxMDAsXG4gICAgICAgICAgaEd1dHRlclNoYXJlID0gY29sQ291bnQgPT09IDEgPyAwIDogKGNvbENvdW50IC0gMSkgLyBjb2xDb3VudCxcbiAgICAgICAgICBoVW5pdCA9IFVOSVQoeyBzaGFyZTogaFNoYXJlLCBndXR0ZXJTaGFyZTogaEd1dHRlclNoYXJlLCBndXR0ZXI6IGd1dHRlciB9KTtcblxuICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICBsZWZ0OiBQT1NJVElPTih7IHVuaXQ6IGhVbml0LCBvZmZzZXQ6IHBvc2l0aW9uLmNvbCwgZ3V0dGVyOiBndXR0ZXIgfSksXG4gICAgICAgIHdpZHRoOiBESU1FTlNJT04oeyB1bml0OiBoVW5pdCwgc3Bhbjogc3BhbnMuY29sLCBndXR0ZXI6IGd1dHRlciB9KSxcbiAgICAgICAgLy8gcmVzZXRzXG4gICAgICAgIHBhZGRpbmdUb3A6ICcnLFxuICAgICAgICBtYXJnaW5Ub3A6ICcnLFxuICAgICAgICB0b3A6ICcnLFxuICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICB9O1xuXG4gICAgICBzd2l0Y2ggKHJvd01vZGUpIHtcbiAgICAgICAgY2FzZSAnZml4ZWQnOlxuICAgICAgICAgIHN0eWxlLnRvcCA9IFBPU0lUSU9OKHsgdW5pdDogcm93SGVpZ2h0LCBvZmZzZXQ6IHBvc2l0aW9uLnJvdywgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gRElNRU5TSU9OKHsgdW5pdDogcm93SGVpZ2h0LCBzcGFuOiBzcGFucy5yb3csIGd1dHRlcjogJzBweCcgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmF0aW8nOlxuICAgICAgICAgIC8vIHJvd0hlaWdodCBpcyB3aWR0aCAvIGhlaWdodFxuICAgICAgICAgIHZhciB2U2hhcmUgPSBoU2hhcmUgKiAoMSAvIHJvd0hlaWdodCksXG4gICAgICAgICAgICAgIHZVbml0ID0gVU5JVCh7IHNoYXJlOiB2U2hhcmUsIGd1dHRlclNoYXJlOiBoR3V0dGVyU2hhcmUsIGd1dHRlcjogZ3V0dGVyIH0pO1xuXG4gICAgICAgICAgc3R5bGUucGFkZGluZ1RvcCA9IERJTUVOU0lPTih7IHVuaXQ6IHZVbml0LCBzcGFuOiBzcGFucy5yb3csIGd1dHRlcjogZ3V0dGVyfSk7XG4gICAgICAgICAgc3R5bGUubWFyZ2luVG9wID0gUE9TSVRJT04oeyB1bml0OiB2VW5pdCwgb2Zmc2V0OiBwb3NpdGlvbi5yb3csIGd1dHRlcjogZ3V0dGVyIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZpdCc6XG4gICAgICAgICAgdmFyIHZHdXR0ZXJTaGFyZSA9IHJvd0NvdW50ID09PSAxID8gMCA6IChyb3dDb3VudCAtIDEpIC8gcm93Q291bnQsXG4gICAgICAgICAgICAgIHZTaGFyZSA9ICgxIC8gcm93Q291bnQpICogMTAwLFxuICAgICAgICAgICAgICB2VW5pdCA9IFVOSVQoeyBzaGFyZTogdlNoYXJlLCBndXR0ZXJTaGFyZTogdkd1dHRlclNoYXJlLCBndXR0ZXI6IGd1dHRlciB9KTtcblxuICAgICAgICAgIHN0eWxlLnRvcCA9IFBPU0lUSU9OKHsgdW5pdDogdlVuaXQsIG9mZnNldDogcG9zaXRpb24ucm93LCBndXR0ZXI6IGd1dHRlciB9KTtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBESU1FTlNJT04oeyB1bml0OiB2VW5pdCwgc3Bhbjogc3BhbnMucm93LCBndXR0ZXI6IGd1dHRlciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbGVFbGVtZW50cygpIHtcbiAgICAgIC8vIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gbWQtZ3JpZC10aWxlJykgd291bGQgYmVcbiAgICAgIC8vIHByZWZlcnJlZCwgYnV0IGlzIG5vdCB5ZXQgd2lkZWx5IHN1cHBvcnRlZC5cbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbGVtZW50WzBdLmNoaWxkTm9kZXMpXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnRhZ05hbWUgPT0gJ01ELUdSSUQtVElMRSc7XG4gICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGlsZVNwYW5zKCkge1xuICAgICAgcmV0dXJuIGN0cmwudGlsZXMubWFwKGZ1bmN0aW9uKHRpbGVBdHRycykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvdzogcGFyc2VJbnQoXG4gICAgICAgICAgICAgICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUodGlsZUF0dHJzLCAnbWQtcm93c3BhbicpLCAxMCkgfHwgMSxcbiAgICAgICAgICBjb2w6IHBhcnNlSW50KFxuICAgICAgICAgICAgICAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKHRpbGVBdHRycywgJ21kLWNvbHNwYW4nKSwgMTApIHx8IDFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbHVtbkNvdW50KCkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KCRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsICdtZC1jb2xzJyksIDEwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRHdXR0ZXIoKSB7XG4gICAgICByZXR1cm4gYXBwbHlEZWZhdWx0VW5pdCgkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtZ3V0dGVyJykgfHwgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Um93SGVpZ2h0KCkge1xuICAgICAgdmFyIHJvd0hlaWdodCA9ICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsICdtZC1yb3ctaGVpZ2h0Jyk7XG4gICAgICBzd2l0Y2ggKGdldFJvd01vZGUoKSkge1xuICAgICAgICBjYXNlICdmaXhlZCc6XG4gICAgICAgICAgcmV0dXJuIGFwcGx5RGVmYXVsdFVuaXQocm93SGVpZ2h0KTtcbiAgICAgICAgY2FzZSAncmF0aW8nOlxuICAgICAgICAgIHZhciB3aFJhdGlvID0gcm93SGVpZ2h0LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQod2hSYXRpb1swXSkgLyBwYXJzZUZsb2F0KHdoUmF0aW9bMV0pO1xuICAgICAgICBjYXNlICdmaXQnOlxuICAgICAgICAgIHJldHVybiAwOyAvLyBOL0FcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRSb3dNb2RlKCkge1xuICAgICAgdmFyIHJvd0hlaWdodCA9ICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsICdtZC1yb3ctaGVpZ2h0Jyk7XG4gICAgICBpZiAocm93SGVpZ2h0ID09ICdmaXQnKSB7XG4gICAgICAgIHJldHVybiAnZml0JztcbiAgICAgIH0gZWxzZSBpZiAocm93SGVpZ2h0LmluZGV4T2YoJzonKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICdyYXRpbyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2ZpeGVkJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseURlZmF1bHRVbml0KHZhbCkge1xuICAgICAgcmV0dXJuIC9cXEQkLy50ZXN0KHZhbCkgPyB2YWwgOiB2YWwgKyAncHgnO1xuICAgIH1cbiAgfVxufVxuR3JpZExpc3REaXJlY3RpdmUuJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kR3JpZExheW91dFwiLCBcIiRtZE1lZGlhXCIsIFwiJG1kVXRpbFwiXTtcblxuZnVuY3Rpb24gR3JpZExpc3RDb250cm9sbGVyKCR0aW1lb3V0KSB7XG4gIHRoaXMuaW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgdGhpcy4kdGltZW91dF8gPSAkdGltZW91dDtcbiAgdGhpcy50aWxlcyA9IFtdO1xuICB0aGlzLmxheW91dERlbGVnYXRlID0gYW5ndWxhci5ub29wO1xufVxuR3JpZExpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkdGltZW91dFwiXTtcblxuR3JpZExpc3RDb250cm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgYWRkVGlsZTogZnVuY3Rpb24odGlsZUF0dHJzLCBpZHgpIHtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChpZHgpKSB7XG4gICAgICB0aGlzLnRpbGVzLnB1c2godGlsZUF0dHJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50aWxlcy5zcGxpY2UoaWR4LCAwLCB0aWxlQXR0cnMpO1xuICAgIH1cbiAgICB0aGlzLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgfSxcblxuICByZW1vdmVUaWxlOiBmdW5jdGlvbih0aWxlQXR0cnMpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy50aWxlcy5pbmRleE9mKHRpbGVBdHRycyk7XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50aWxlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICB0aGlzLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgfSxcblxuICBpbnZhbGlkYXRlTGF5b3V0OiBmdW5jdGlvbih0aWxlKSB7XG4gICAgaWYgKHRoaXMuaW52YWxpZGF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdGhpcy4kdGltZW91dF8oYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMubGF5b3V0KSk7XG4gIH0sXG5cbiAgbGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sYXlvdXREZWxlZ2F0ZSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmludmFsaWRhdGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBHcmlkTGF5b3V0RmFjdG9yeSgkbWRVdGlsKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xDb3VudCwgdGlsZVNwYW5zKSB7XG4gICAgdmFyIHNlbGYsIGxheW91dEluZm8sIHRpbGVzLCBsYXlvdXRUaW1lLCBtYXBUaW1lLCByZWZsb3dUaW1lLCBsYXlvdXRJbmZvO1xuICAgIGxheW91dFRpbWUgPSAkbWRVdGlsLnRpbWUoZnVuY3Rpb24oKSB7XG4gICAgICBsYXlvdXRJbmZvID0gY2FsY3VsYXRlR3JpZEZvcihjb2xDb3VudCwgdGlsZVNwYW5zKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBBbiBhcnJheSBvZiBvYmplY3RzIGRlc2NyaWJpbmcgZWFjaCB0aWxlJ3MgcG9zaXRpb24gaW4gdGhlIGdyaWQuXG4gICAgICAgKi9cbiAgICAgIGxheW91dEluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbGF5b3V0SW5mbztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFwcyBncmlkIHBvc2l0aW9uaW5nIHRvIGFuIGVsZW1lbnQgYW5kIGEgc2V0IG9mIHN0eWxlcyB1c2luZyB0aGVcbiAgICAgICAqIHByb3ZpZGVkIHVwZGF0ZUZuLlxuICAgICAgICovXG4gICAgICBtYXA6IGZ1bmN0aW9uKHVwZGF0ZUZuKSB7XG4gICAgICAgIG1hcFRpbWUgPSAkbWRVdGlsLnRpbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGlsZXMgPSBsYXlvdXRJbmZvLnBvc2l0aW9uaW5nLm1hcChmdW5jdGlvbihwcywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZuKHBzLCBzZWxmLmxheW91dEluZm8oKS5yb3dDb3VudCwgaSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRGVmYXVsdCBhbmltYXRvciBzaW1wbHkgc2V0cyB0aGUgZWxlbWVudC5jc3MoIDxzdHlsZXM+ICkuXG4gICAgICAgKiBVc2UgdGhlICRtZEdyaWRMYXlvdXRQcm92aWRlciB0byBkZWNvcmF0ZSB0aGUgYW5pbWF0b3IgY2FsbGJhY2sgaWZcbiAgICAgICAqIGFsdGVybmF0ZSBhbmltYXRpb24gc2NlbmFyaW9zIGFyZSBkZXNpcmVkLlxuICAgICAgICovXG4gICAgICByZWZsb3c6IGZ1bmN0aW9uKGN1c3RvbUFuaW1hdG9yRm4pIHtcbiAgICAgICAgcmVmbG93VGltZSA9ICRtZFV0aWwudGltZShmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0b3IgPSBjdXN0b21BbmltYXRvckZuIHx8IGRlZmF1bHRBbmltYXRvcjtcbiAgICAgICAgICB0aWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBhbmltYXRvcihpdC5lbGVtZW50LCBpdC5zdHlsZXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWluZyBmb3IgdGhlIG1vc3QgcmVjZW50IGxheW91dCBydW4uXG4gICAgICAgKi9cbiAgICAgIHBlcmZvcm1hbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aWxlQ291bnQ6IHRpbGVTcGFucy5sZW5ndGgsXG4gICAgICAgICAgbGF5b3V0VGltZTogbGF5b3V0VGltZSxcbiAgICAgICAgICBtYXBUaW1lOiBtYXBUaW1lLFxuICAgICAgICAgIHJlZmxvd1RpbWU6IHJlZmxvd1RpbWUsXG4gICAgICAgICAgdG90YWxUaW1lOiBsYXlvdXRUaW1lICsgbWFwVGltZSArIHJlZmxvd1RpbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlZmF1bHRBbmltYXRvcihlbGVtZW50LCBzdHlsZXMpIHtcbiAgICBlbGVtZW50LmNzcyhzdHlsZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbnMgb2YgdGlsZXMuXG4gICAqXG4gICAqIFRoZSBhbGdvcml0aG0gd29ya3MgYXMgZm9sbG93czpcbiAgICogICAgQW4gQXJyYXk8TnVtYmVyPiB3aXRoIGxlbmd0aCBjb2xDb3VudCAoc3BhY2VUcmFja2VyKSBrZWVwcyB0cmFjayBvZlxuICAgKiAgICBhdmFpbGFibGUgdGlsaW5nIHBvc2l0aW9ucywgd2hlcmUgZWxlbWVudHMgb2YgdmFsdWUgMCByZXByZXNlbnRzIGFuXG4gICAqICAgIGVtcHR5IHBvc2l0aW9uLiBTcGFjZSBmb3IgYSB0aWxlIGlzIHJlc2VydmVkIGJ5IGZpbmRpbmcgYSBzZXF1ZW5jZSBvZlxuICAgKiAgICAwcyB3aXRoIGxlbmd0aCA8PSB0aGFuIHRoZSB0aWxlJ3MgY29sc3Bhbi4gV2hlbiBzdWNoIGEgc3BhY2UgaGFzIGJlZW5cbiAgICogICAgZm91bmQsIHRoZSBvY2N1cGllZCB0aWxlIHBvc2l0aW9ucyBhcmUgaW5jcmVtZW50ZWQgYnkgdGhlIHRpbGUnc1xuICAgKiAgICByb3dzcGFuIHZhbHVlLCBhcyB0aGVzZSBwb3NpdGlvbnMgaGF2ZSBiZWNvbWUgdW5hdmFpbGFibGUgZm9yIHRoYXRcbiAgICogICAgbWFueSByb3dzLlxuICAgKlxuICAgKiAgICBJZiB0aGUgZW5kIG9mIGEgcm93IGhhcyBiZWVuIHJlYWNoZWQgd2l0aG91dCBmaW5kaW5nIHNwYWNlIGZvciB0aGVcbiAgICogICAgdGlsZSwgc3BhY2VUcmFja2VyJ3MgZWxlbWVudHMgYXJlIGVhY2ggZGVjcmVtZW50ZWQgYnkgMSB0byBhIG1pbmltdW1cbiAgICogICAgb2YgMC4gUm93cyBhcmUgc2VhcmNoZWQgaW4gdGhpcyBmYXNoaW9uIHVudGlsIHNwYWNlIGlzIGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY3VsYXRlR3JpZEZvcihjb2xDb3VudCwgdGlsZVNwYW5zKSB7XG4gICAgdmFyIGN1ckNvbCA9IDAsXG4gICAgICAgIGN1clJvdyA9IDAsXG4gICAgICAgIHNwYWNlVHJhY2tlciA9IG5ld1NwYWNlVHJhY2tlcigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uaW5nOiB0aWxlU3BhbnMubWFwKGZ1bmN0aW9uKHNwYW5zLCBpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhbnM6IHNwYW5zLFxuICAgICAgICAgIHBvc2l0aW9uOiByZXNlcnZlU3BhY2Uoc3BhbnMsIGkpXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHJvd0NvdW50OiBjdXJSb3cgKyBNYXRoLm1heC5hcHBseShNYXRoLCBzcGFjZVRyYWNrZXIpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc2VydmVTcGFjZShzcGFucywgaSkge1xuICAgICAgaWYgKHNwYW5zLmNvbCA+IGNvbENvdW50KSB7XG4gICAgICAgIHRocm93ICdtZC1ncmlkLWxpc3Q6IFRpbGUgYXQgcG9zaXRpb24gJyArIGkgKyAnIGhhcyBhIGNvbHNwYW4gJyArXG4gICAgICAgICAgICAnKCcgKyBzcGFucy5jb2wgKyAnKSB0aGF0IGV4Y2VlZHMgdGhlIGNvbHVtbiBjb3VudCAnICtcbiAgICAgICAgICAgICcoJyArIGNvbENvdW50ICsgJyknO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnQgPSAwLFxuICAgICAgICAgIGVuZCA9IDA7XG5cbiAgICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBUaGlzIGxvb3AgaXNuJ3Qgc3RyaWN0bHkgbmVjZXNzYXJ5IGlmIHlvdSBjYW5cbiAgICAgIC8vIGRldGVybWluZSB0aGUgbWluaW11bSBudW1iZXIgb2Ygcm93cyBiZWZvcmUgYSBzcGFjZSBvcGVucyB1cC4gVG8gZG9cbiAgICAgIC8vIHRoaXMsIHJlY29nbml6ZSB0aGF0IHlvdSd2ZSBpdGVyYXRlZCBhY3Jvc3MgYW4gZW50aXJlIHJvdyBsb29raW5nIGZvclxuICAgICAgLy8gc3BhY2UsIGFuZCBpZiBzbyBmYXN0LWZvcndhcmQgYnkgdGhlIG1pbmltdW0gcm93U3BhbiBjb3VudC4gUmVwZWF0XG4gICAgICAvLyB1bnRpbCB0aGUgcmVxdWlyZWQgc3BhY2Ugb3BlbnMgdXAuXG4gICAgICB3aGlsZSAoZW5kIC0gc3RhcnQgPCBzcGFucy5jb2wpIHtcbiAgICAgICAgaWYgKGN1ckNvbCA+PSBjb2xDb3VudCkge1xuICAgICAgICAgIG5leHRSb3coKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gc3BhY2VUcmFja2VyLmluZGV4T2YoMCwgY3VyQ29sKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSB8fCAoZW5kID0gZmluZEVuZChzdGFydCArIDEpKSA9PT0gLTEpIHtcbiAgICAgICAgICBzdGFydCA9IGVuZCA9IDA7XG4gICAgICAgICAgbmV4dFJvdygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VyQ29sID0gZW5kICsgMTtcbiAgICAgIH1cblxuICAgICAgYWRqdXN0Um93KHN0YXJ0LCBzcGFucy5jb2wsIHNwYW5zLnJvdyk7XG4gICAgICBjdXJDb2wgPSBzdGFydCArIHNwYW5zLmNvbDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sOiBzdGFydCxcbiAgICAgICAgcm93OiBjdXJSb3dcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dFJvdygpIHtcbiAgICAgIGN1ckNvbCA9IDA7XG4gICAgICBjdXJSb3crKztcbiAgICAgIGFkanVzdFJvdygwLCBjb2xDb3VudCwgLTEpOyAvLyBEZWNyZW1lbnQgcm93IHNwYW5zIGJ5IG9uZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkanVzdFJvdyhmcm9tLCBjb2xzLCBieSkge1xuICAgICAgZm9yICh2YXIgaSA9IGZyb207IGkgPCBmcm9tICsgY29sczsgaSsrKSB7XG4gICAgICAgIHNwYWNlVHJhY2tlcltpXSA9IE1hdGgubWF4KHNwYWNlVHJhY2tlcltpXSArIGJ5LCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kRW5kKHN0YXJ0KSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgc3BhY2VUcmFja2VyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzcGFjZVRyYWNrZXJbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaSA9PT0gc3BhY2VUcmFja2VyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdTcGFjZVRyYWNrZXIoKSB7XG4gICAgICB2YXIgdHJhY2tlciA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xDb3VudDsgaSsrKSB7XG4gICAgICAgIHRyYWNrZXIucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFja2VyO1xuICAgIH1cbiAgfVxufVxuR3JpZExheW91dEZhY3RvcnkuJGluamVjdCA9IFtcIiRtZFV0aWxcIl07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRHcmlkVGlsZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmdyaWRMaXN0XG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaWxlcyBjb250YWluIHRoZSBjb250ZW50IG9mIGFuIGBtZC1ncmlkLWxpc3RgLiBUaGV5IHNwYW4gb25lIG9yIG1vcmUgZ3JpZFxuICogY2VsbHMgdmVydGljYWxseSBvciBob3Jpem9udGFsbHksIGFuZCB1c2UgYG1kLWdyaWQtdGlsZS17Zm9vdGVyLGhlYWRlcn1gIHRvXG4gKiBkaXNwbGF5IHNlY29uZGFyeSBjb250ZW50LlxuICpcbiAqICMjIyBSZXNwb25zaXZlIEF0dHJpYnV0ZXNcbiAqXG4gKiBUaGUgYG1kLWdyaWQtdGlsZWAgZGlyZWN0aXZlIHN1cHBvcnRzIFwicmVzcG9uc2l2ZVwiIGF0dHJpYnV0ZXMsIHdoaWNoIGFsbG93XG4gKiBkaWZmZXJlbnQgYG1kLXJvd3NwYW5gIGFuZCBgbWQtY29sc3BhbmAgdmFsdWVzIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudGx5XG4gKiBtYXRjaGluZyBtZWRpYSBxdWVyeSAoYXMgZGVmaW5lZCBpbiBgJG1kQ29uc3RhbnQuTUVESUFgKS5cbiAqXG4gKiBJbiBvcmRlciB0byBzZXQgYSByZXNwb25zaXZlIGF0dHJpYnV0ZSwgZmlyc3QgZGVmaW5lIHRoZSBmYWxsYmFjayB2YWx1ZSB3aXRoXG4gKiB0aGUgc3RhbmRhcmQgYXR0cmlidXRlIG5hbWUsIHRoZW4gYWRkIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB3aXRoIHRoZVxuICogZm9sbG93aW5nIGNvbnZlbnRpb246IGB7YmFzZS1hdHRyaWJ1dGUtbmFtZX0te21lZGlhLXF1ZXJ5LW5hbWV9PVwie3ZhbHVlfVwiYFxuICogKGllLiBgbWQtY29sc3Bhbi1zbT1cIjRcImApXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1jb2xzcGFuIFRoZSBudW1iZXIgb2YgY29sdW1ucyB0byBzcGFuIChkZWZhdWx0IDEpLiBDYW5ub3RcbiAqICAgIGV4Y2VlZCB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGdyaWQuIFN1cHBvcnRzIGludGVycG9sYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLXJvd3NwYW4gVGhlIG51bWJlciBvZiByb3dzIHRvIHNwYW4gKGRlZmF1bHQgMSkuIFN1cHBvcnRzXG4gKiAgICAgaW50ZXJwb2xhdGlvbi5cbiAqXG4gKiBAdXNhZ2VcbiAqIFdpdGggaGVhZGVyOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGU+XG4gKiAgIDxtZC1ncmlkLXRpbGUtaGVhZGVyPlxuICogICAgIDxoMz5UaGlzIGlzIGEgaGVhZGVyPC9oMz5cbiAqICAgPC9tZC1ncmlkLXRpbGUtaGVhZGVyPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogV2l0aCBmb290ZXI6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZT5cbiAqICAgPG1kLWdyaWQtdGlsZS1mb290ZXI+XG4gKiAgICAgPGgzPlRoaXMgaXMgYSBmb290ZXI8L2gzPlxuICogICA8L21kLWdyaWQtdGlsZS1mb290ZXI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBTcGFubmluZyBtdWx0aXBsZSByb3dzL2NvbHVtbnM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZSBtZC1jb2xzcGFuPVwiMlwiIG1kLXJvd3NwYW49XCIzXCI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBSZXNwb25zaXZlIGF0dHJpYnV0ZXM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZSBtZC1jb2xzcGFuPVwiMVwiIG1kLWNvbHNwYW4tc209XCIzXCIgbWQtY29sc3Bhbi1tZD1cIjVcIj5cbiAqIDwvbWQtZ3JpZC10aWxlPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBHcmlkVGlsZURpcmVjdGl2ZSgkbWRNZWRpYSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ15tZEdyaWRMaXN0JyxcbiAgICB0ZW1wbGF0ZTogJzxmaWd1cmUgbmctdHJhbnNjbHVkZT48L2ZpZ3VyZT4nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGdyaWRDdHJsKSB7XG4gICAgLy8gQXBwbHkgc2VtYW50aWNzXG4gICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ2xpc3RpdGVtJyk7XG5cbiAgICAvLyBJZiBvdXIgY29sc3BhbiBvciByb3dzcGFuIGNoYW5nZXMsIHRyaWdnZXIgYSBsYXlvdXRcbiAgICB2YXIgdW53YXRjaEF0dHJzID0gJG1kTWVkaWEud2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyhbJ21kLWNvbHNwYW4nLCAnbWQtcm93c3BhbiddLFxuICAgICAgICBhdHRycywgYW5ndWxhci5iaW5kKGdyaWRDdHJsLCBncmlkQ3RybC5pbnZhbGlkYXRlTGF5b3V0KSk7XG5cbiAgICAvLyBUaWxlIHJlZ2lzdHJhdGlvbi9kZXJlZ2lzdHJhdGlvblxuICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBLaW5kIG9mIGdyb3NzIHRvIGFjY2VzcyBwYXJlbnQgc2NvcGUgbGlrZSB0aGlzLlxuICAgIC8vICAgIENvbnNpZGVyIG90aGVyIG9wdGlvbnMuXG4gICAgZ3JpZEN0cmwuYWRkVGlsZShhdHRycywgc2NvcGUuJHBhcmVudC4kaW5kZXgpO1xuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIHVud2F0Y2hBdHRycygpO1xuICAgICAgZ3JpZEN0cmwucmVtb3ZlVGlsZShhdHRycyk7XG4gICAgfSk7XG4gIH1cbn1cbkdyaWRUaWxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRNZWRpYVwiXTtcblxuZnVuY3Rpb24gR3JpZFRpbGVDYXB0aW9uRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlOiAnPGZpZ2NhcHRpb24gbmctdHJhbnNjbHVkZT48L2ZpZ2NhcHRpb24+JyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlXG4gIH07XG59XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gKiBAZGVzY3JpcHRpb25cbiAqIEljb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuaWNvbicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRJY29uJywgbWRJY29uRGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZEljb24nLCBNZEljb25Qcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRJY29uXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuaWNvblxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG1kLWljb25gIGRpcmVjdGl2ZSBpcyBhbiBtYXJrdXAgZWxlbWVudCB1c2VmdWwgZm9yIHNob3dpbmcgYW4gaWNvbiBiYXNlZCBvbiBhIGZvbnQtZmFjZVxuICogb3IgYSBTVkcuIEJvdGggZXh0ZXJuYWwgU1ZHcyAodmlhIFVSTHMpIG9yIGNhY2hlZCBTVkcgZnJvbSBpY29uIHNldHMgY2FuIGJlXG4gKiBlYXNpbHkgbG9hZGVkIGFuZCB1c2VkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1zdmctc3JjIFN0cmluZyBVUkwgW29yIGV4cHJlc3Npb24gXSB1c2VkIHRvIGxvYWQsIGNhY2hlLCBhbmQgZGlzcGxheSBhbiBleHRlcm5hbCBTVkcuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtc3ZnLWljb24gU3RyaW5nIG5hbWUgdXNlZCBmb3IgbG9va3VwIG9mIHRoZSBpY29uIGZyb20gdGhlIGludGVybmFsIGNhY2hlOyBpbnRlcnBvbGF0ZWQgc3RyaW5ncyBvclxuICogZXhwcmVzc2lvbnMgbWF5IGFsc28gYmUgdXNlZC4gU3BlY2lmaWMgc2V0IG5hbWVzIGNhbiBiZSB1c2VkIHdpdGggdGhlIHN5bnRheCBgPHNldCBuYW1lPjo8aWNvbiBuYW1lPmAuPGJyLz48YnIvPlxuICogVG8gdXNlIGljb24gc2V0cywgZGV2ZWxvcGVycyBhcmUgcmVxdWlyZWQgdG8gcHJlLXJlZ2lzdGVyIHRoZSBzZXRzIHVzaW5nIHRoZSBgJG1kSWNvblByb3ZpZGVyYCBzZXJ2aWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLWZvbnQtaWNvbiBTdHJpbmcgbmFtZSBvZiBDU1MgaWNvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGZvbnQtZmFjZSB3aWxsIGJlIHVzZWRcbiAqIHRvIHJlbmRlciB0aGUgaWNvbi4gUmVxdWlyZXMgdGhlIGZvbnRzIGFuZCB0aGUgbmFtZWQgQ1NTIHN0eWxlcyB0byBiZSBwcmVsb2FkZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IGFsdCBMYWJlbHMgaWNvbiBmb3IgYWNjZXNzaWJpbGl0eS4gSWYgYW4gZW1wdHkgc3RyaW5nIGlzIHByb3ZpZGVkLCBpY29uXG4gKiB3aWxsIGJlIGhpZGRlbiBmcm9tIGFjY2Vzc2liaWxpdHkgbGF5ZXIgd2l0aCBgYXJpYS1oaWRkZW49XCJ0cnVlXCJgLiBJZiB0aGVyZSdzIG5vIGFsdCBvbiB0aGUgaWNvblxuICogbm9yIGEgbGFiZWwgb24gdGhlIHBhcmVudCBlbGVtZW50LCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQgdG8gdGhlIGNvbnNvbGUuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC1pY29uIG1kLWZvbnQtaWNvbj1cImFuZHJvaWRcIiAgICAgICAgICBhbHQ9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKiAgPG1kLWljb24gbWQtc3ZnLWljb249XCJhY3Rpb246YW5kcm9pZFwiICAgIGFsdD1cImFuZHJvaWQgXCIgPjwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbiBtZC1zdmctc3JjPVwiL2FuZHJvaWQuc3ZnXCIgICAgICAgYWx0PVwiYW5kcm9pZCBcIiA+PC9tZC1pY29uPlxuICogIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ7eyBnZXRBbmRyb2lkKCkgfX1cIiBhbHQ9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIG1kSWNvbkRpcmVjdGl2ZSgkbWRJY29uLCAkbWRBcmlhLCAkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHtcbiAgICAgIGZvbnRJY29uOiAnQG1kRm9udEljb24nLFxuICAgICAgc3ZnSWNvbjogJ0BtZFN2Z0ljb24nLFxuICAgICAgc3ZnU3JjOiAnQG1kU3ZnU3JjJ1xuICAgIH0sXG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZTogZ2V0VGVtcGxhdGUsXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRUZW1wbGF0ZShlbGVtZW50LCBhdHRyKSB7XG4gICAgcmV0dXJuIGF0dHIubWRGb250SWNvbiA/ICc8c3BhbiBjbGFzcz1cIm1kLWZvbnRcIiBuZy1jbGFzcz1cImZvbnRJY29uXCI+PC9zcGFuPicgOiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXJlY3RpdmUgcG9zdExpbmtcbiAgICogU3VwcG9ydHMgZW1iZWRkZWQgU1ZHcywgZm9udC1pY29ucywgJiBleHRlcm5hbCBTVkdzXG4gICAqL1xuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgIHZhciBhcmlhTGFiZWwgPSBhdHRyLmFsdCB8fCBzY29wZS5mb250SWNvbiB8fCBzY29wZS5zdmdJY29uO1xuICAgIHZhciBhdHRyTmFtZSA9IGF0dHIuJG5vcm1hbGl6ZShhdHRyLiRhdHRyLm1kU3ZnSWNvbiB8fCBhdHRyLiRhdHRyLm1kU3ZnU3JjIHx8ICcnKTtcblxuICAgIGlmIChhdHRyLmFsdCAhPSAnJyAmJiAhcGFyZW50c0hhdmVUZXh0KCkpIHtcbiAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdhcmlhLWxhYmVsJywgYXJpYUxhYmVsKTtcbiAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdyb2xlJywgJ2ltZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBIaWRlIGZyb20gdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXIuXG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH1cblxuICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgLy8gVXNlIGVpdGhlciBwcmUtY29uZmlndXJlZCBTVkcgb3IgVVJMIHNvdXJjZSwgcmVzcGVjdGl2ZWx5LlxuICAgICAgYXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24oYXR0clZhbCkge1xuXG4gICAgICAgIGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgaWYgKGF0dHJWYWwpIHtcbiAgICAgICAgICAkbWRJY29uKGF0dHJWYWwpLnRoZW4oZnVuY3Rpb24oc3ZnKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZChzdmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJlbnRzSGF2ZVRleHQoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgIGlmIChwYXJlbnQuYXR0cignYXJpYS1sYWJlbCcpIHx8IHBhcmVudC50ZXh0KCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKHBhcmVudC5wYXJlbnQoKS5hdHRyKCdhcmlhLWxhYmVsJykgfHwgcGFyZW50LnBhcmVudCgpLnRleHQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbm1kSWNvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kSWNvblwiLCBcIiRtZEFyaWFcIiwgXCIkbG9nXCJdO1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXJcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGAkbWRJY29uUHJvdmlkZXJgIGlzIHVzZWQgb25seSB0byByZWdpc3RlciBpY29uIElEcyB3aXRoIFVSTHMuIFRoZXNlIGNvbmZpZ3VyYXRpb24gZmVhdHVyZXMgYWxsb3dcbiAgICogaWNvbnMgYW5kIGljb24gc2V0cyB0byBiZSBwcmUtcmVnaXN0ZXJlZCBhbmQgYXNzb2NpYXRlZCB3aXRoIHNvdXJjZSBVUkxzICoqYmVmb3JlKiogdGhlIGA8bWQtaWNvbiAvPmBcbiAgICogZGlyZWN0aXZlcyBhcmUgY29tcGlsZWQuXG4gICAqXG4gICAqIFdoZW4gYW4gU1ZHIGlzIHJlcXVlc3RlZCBieSBuYW1lL0lELCB0aGUgYCRtZEljb25gIHNlcnZpY2Ugc2VhcmNoZXMgaXRzIHJlZ2lzdHJ5IGZvciB0aGUgYXNzb2NpYXRlZCBzb3VyY2VcbiAgICogVVJMOyB0aGF0IFVSTCBpcyB1c2VkIHRvIG9uLWRlbWFuZCBsb2FkIGFuZCBwYXJzZSB0aGUgU1ZHIGR5bmFtaWNhbGx5LlxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogYW5ndWxhclxuICAgKiAgIC5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICAgKiAgIC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAqXG4gICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgKlxuICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAqICAgICAgICAgIC5kZWZhdWx0SWNvblNldCgnbXkvYXBwL2ljb25zLnN2ZycpICAgICAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBzZXQgb2YgU1ZHIGljb25zXG4gICAqICAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnbXkvYXBwL3NvY2lhbC5zdmcnKSAgIC8vIFJlZ2lzdGVyIGEgbmFtZWQgaWNvbiBzZXQgb2YgU1ZHc1xuICAgKiAgICAgICAgICAuaWNvbignYW5kcm9pZCcsICdteS9hcHAvYW5kcm9pZC5zdmcnKSAgICAvLyBSZWdpc3RlciBhIHNwZWNpZmljIGljb24gKGJ5IG5hbWUpXG4gICAqICAgICAgICAgIC5pY29uKCd3b3JrOmNoYWlyJywgJ215L2FwcC9jaGFpci5zdmcnKTsgIC8vIFJlZ2lzdGVyIGljb24gaW4gYSBzcGVjaWZpYyBzZXRcbiAgICogICB9KTtcbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBTVkcgaWNvbnMgYW5kIGljb24gc2V0cyBjYW4gYmUgZWFzaWx5IHByZS1sb2FkZWQgYW5kIGNhY2hlZCB1c2luZyBlaXRoZXIgKGEpIGEgYnVpbGQgcHJvY2VzcyBvciAoYikgYSBydW50aW1lXG4gICAqICoqc3RhcnR1cCoqIHByb2Nlc3MgKHNob3duIGJlbG93KTpcbiAgICpcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqXG4gICAqIGFuZ3VsYXJcbiAgICogICAubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAgICogICAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgKlxuICAgKiAgICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IHNldCBvZiBTVkcgaWNvbiBkZWZpbml0aW9uc1xuICAgKiAgICAgJG1kSWNvblByb3ZpZGVyLmRlZmF1bHRJY29uU2V0KCdteS9hcHAvaWNvbnMuc3ZnJylcbiAgICpcbiAgICogICB9KVxuICAgKiAgIC5ydW4oZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlKXtcbiAgICpcbiAgICogICAgIC8vIFByZS1mZXRjaCBpY29ucyBzb3VyY2VzIGJ5IFVSTCBhbmQgY2FjaGUgaW4gdGhlICR0ZW1wbGF0ZUNhY2hlLi4uXG4gICAqICAgICAvLyBzdWJzZXF1ZW50ICRodHRwIGNhbGxzIHdpbGwgbG9vayB0aGVyZSBmaXJzdC5cbiAgICpcbiAgICogICAgIHZhciB1cmxzID0gWyAnaW15L2FwcC9pY29ucy5zdmcnLCAnaW1nL2ljb25zL2FuZHJvaWQuc3ZnJ107XG4gICAqXG4gICAqICAgICBhbmd1bGFyLmZvckVhY2godXJscywgZnVuY3Rpb24odXJsKSB7XG4gICAqICAgICAgICRodHRwLmdldCh1cmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KTtcbiAgICogICAgIH0pO1xuICAgKlxuICAgKiAgIH0pO1xuICAgKlxuICAgKiA8L2hsanM+XG4gICAqXG4gICAqIE5PVEU6IHRoZSBsb2FkZWQgU1ZHIGRhdGEgaXMgc3Vic2VxdWVudGx5IGNhY2hlZCBpbnRlcm5hbGx5IGZvciBmdXR1cmUgcmVxdWVzdHMuXG4gICAqXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRtZEljb25Qcm92aWRlciNpY29uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIHNvdXJjZSBVUkwgZm9yIGEgc3BlY2lmaWMgaWNvbiBuYW1lOyBuYW1lIG1heSBpbmNsdWRlIG9wdGlvbmFsICdpY29uIHNldCcgbmFtZSBwcmVmaXguXG4gICAqIFRoZXNlIGljb25zIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGUgdXNpbmcgYCRtZEljb24oIDxpY29uIG5hbWU+IClgXG4gICAqXG4gICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgKiBhbmd1bGFyXG4gICAqICAgLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pXG4gICAqICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICpcbiAgICogICAgIC8vIENvbmZpZ3VyZSBVUkxzIGZvciBpY29ucyBzcGVjaWZpZWQgYnkgW3NldDpdaWQuXG4gICAqXG4gICAqICAgICAkbWRJY29uUHJvdmlkZXJcbiAgICogICAgICAgICAgLmljb24oJ2FuZHJvaWQnLCAnbXkvYXBwL2FuZHJvaWQuc3ZnJykgICAgLy8gUmVnaXN0ZXIgYSBzcGVjaWZpYyBpY29uIChieSBuYW1lKVxuICAgKiAgICAgICAgICAuaWNvbignd29yazpjaGFpcicsICdteS9hcHAvY2hhaXIuc3ZnJyk7ICAvLyBSZWdpc3RlciBpY29uIGluIGEgc3BlY2lmaWMgc2V0XG4gICAqICAgfSk7XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIEFQSTpcbiAgICpcbiAgICovXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRtZEljb25Qcm92aWRlciNpY29uU2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIHNvdXJjZSBVUkwgZm9yIGEgJ25hbWVkJyBzZXQgb2YgaWNvbnMuIEluZGl2aWR1YWwgaWNvbnNcbiAgICogY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoaXMgY2FjaGVkIHNldCB1c2luZyBgJG1kSWNvbiggPGljb24gc2V0IG5hbWU+OjxpY29uIG5hbWU+IClgXG4gICAqXG4gICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgKiBhbmd1bGFyXG4gICAqICAgLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pXG4gICAqICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICpcbiAgICogICAgIC8vIENvbmZpZ3VyZSBVUkxzIGZvciBpY29ucyBzcGVjaWZpZWQgYnkgW3NldDpdaWQuXG4gICAqXG4gICAqICAgICAkbWRJY29uUHJvdmlkZXJcbiAgICogICAgICAgICAgLmljb25TZXQoJ3NvY2lhbCcsICdteS9hcHAvc29jaWFsLnN2ZycpICAgLy8gUmVnaXN0ZXIgYSBuYW1lZCBpY29uIHNldFxuICAgKiAgIH0pO1xuICAgKiA8L2hsanM+XG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWRJY29uUHJvdmlkZXJgIHJlZmVyZW5jZSB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBBUEk6XG4gICAqXG4gICAqL1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjZGVmYXVsdEljb25TZXRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgc291cmNlIFVSTCBmb3IgdGhlIGRlZmF1bHQgJ25hbWVkJyBzZXQgb2YgaWNvbnMuIFVubGVzcyBleHBsaWNpdGx5IHJlZ2lzdGVyZWRcbiAgICogc3Vic2VxdWVudCBsb29rdXBzIG9mIGljb25zIHdpbGwgZmFsbCBiYWNrIHRvIHNlYXJjaCB0aGlzICdkZWZhdWx0JyBpY29uIHNldC5cbiAgICogSWNvbiBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhpcyBjYWNoZWQsIGRlZmF1bHQgc2V0IHVzaW5nIGAkbWRJY29uKCA8aWNvbiBuYW1lPiApYFxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogYW5ndWxhclxuICAgKiAgIC5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICAgKiAgIC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAqXG4gICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgKlxuICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAqICAgICAgICAgIC5kZWZhdWx0SWNvblNldCgnc29jaWFsJywgJ215L2FwcC9zb2NpYWwuc3ZnJykgICAvLyBSZWdpc3RlciBhIGRlZmF1bHQgaWNvbiBzZXRcbiAgICogICB9KTtcbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2Ugd2l0aCB0aGUgY2hhaW5hYmxlIGNvbmZpZ3VyYXRpb24gQVBJOlxuICAgKlxuICAgKi9cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJG1kSWNvblByb3ZpZGVyI2RlZmF1bHRJY29uU2l6ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hpbGUgYDxtZC1pY29uIC8+YCBtYXJrdXAgY2FuIGFsc28gYmUgc3R5bGUgd2l0aCBzaXppbmcgQ1NTLCB0aGlzIG1ldGhvZCBjb25maWd1cmVzXG4gICAqIHRoZSBkZWZhdWx0IGljb24gc2l6ZSB1c2VkIGZvciBhbGwgaWNvbnM7IHVubGVzcyBvdmVycmlkZGVuIGJ5IHNwZWNpZmljIENTUy5cbiAgICogTk9URTogdGhlIGRlZmF1bHQgc2l6aW5nIGlzICgyNHB4LCAyNHB4KS5cbiAgICpcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqIGFuZ3VsYXJcbiAgICogICAubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAgICogICAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgKlxuICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICpcbiAgICogICAgICRtZEljb25Qcm92aWRlclxuICAgKiAgICAgICAgICAuZGVmYXVsdEljb25TaXplKDM2KSAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBpY29uIHNpemUgKHdpZHRoID09IGhlaWdodClcbiAgICogICB9KTtcbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2Ugd2l0aCB0aGUgY2hhaW5hYmxlIGNvbmZpZ3VyYXRpb24gQVBJOlxuICAgKlxuICAgKi9cblxudmFyIGNvbmZpZyA9IHtcbiAgZGVmYXVsdEljb25TaXplOiAyNFxufTtcblxuZnVuY3Rpb24gTWRJY29uUHJvdmlkZXIoKSB7IH1cblxuTWRJY29uUHJvdmlkZXIucHJvdG90eXBlID0ge1xuICBpY29uIDogZnVuY3Rpb24gaWNvbihpZCwgdXJsLCBpY29uU2l6ZSkge1xuICAgIGlmICggaWQuaW5kZXhPZignOicpID09IC0xICkgaWQgPSAnJGRlZmF1bHQ6JyArIGlkO1xuXG4gICAgY29uZmlnW2lkXSA9IG5ldyBDb25maWd1cmF0aW9uSXRlbSh1cmwsIGljb25TaXplICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgaWNvblNldCA6IGZ1bmN0aW9uIGljb25TZXQoaWQsIHVybCwgaWNvblNpemUpIHtcbiAgICBjb25maWdbaWRdID0gbmV3IENvbmZpZ3VyYXRpb25JdGVtKHVybCwgaWNvblNpemUgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkZWZhdWx0SWNvblNldCA6IGZ1bmN0aW9uIGRlZmF1bHRJY29uU2V0KHVybCwgaWNvblNpemUpIHtcbiAgICB2YXIgc2V0TmFtZSA9ICckZGVmYXVsdCc7XG5cbiAgICBpZiAoICFjb25maWdbc2V0TmFtZV0gKSB7XG4gICAgICBjb25maWdbc2V0TmFtZV0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCBpY29uU2l6ZSApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBkZWZhdWx0SWNvblNpemUgOiBmdW5jdGlvbiBkZWZhdWx0SWNvblNpemUoaWNvblNpemUpIHtcbiAgICBjb25maWcuZGVmYXVsdEljb25TaXplID0gaWNvblNpemU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgJGdldCA6IFsnJGh0dHAnLCAnJHEnLCAnJGxvZycsICckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICByZXR1cm4gbmV3IE1kSWNvblNlcnZpY2UoY29uZmlnLCAkaHR0cCwgJHEsICRsb2csICR0ZW1wbGF0ZUNhY2hlKTtcbiAgfV1cbn07XG5cbiAgLyoqXG4gICAqICBDb25maWd1cmF0aW9uIGl0ZW0gc3RvcmVkIGluIHRoZSBJY29uIHJlZ2lzdHJ5OyB1c2VkIGZvciBsb29rdXBzXG4gICAqICB0byBsb2FkIGlmIG5vdCBhbHJlYWR5IGNhY2hlZCBpbiB0aGUgYGxvYWRlZGAgY2FjaGVcbiAgICovXG4gIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25JdGVtKHVybCwgaWNvblNpemUpIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmljb25TaXplID0gaWNvblNpemUgfHwgY29uZmlnLmRlZmF1bHRJY29uU2l6ZTtcbiAgfVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRJY29uXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuaWNvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZEljb25gIGlzIGEgc2VydmljZSB1c2VkIHRvIGxvb2t1cCBTVkcgaWNvbnMgY29uZmlndXJlZCB2aWEgYCRtZEljb25Qcm92aWRlcmAgdXNpbmdcbiAqICBhbmQgSUQgb3IgdXNlcyBhIFVSTCB1c2VkIHRvIGxvYWQgYW5kIGNhY2hlIGEgY3VycmVudGx5IGV4dGVybmFsIFNWRyAodGhhdCBpcyBub3QgY3VycmVudGx5IGNhY2hlZCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IElEIG9yIFVSTCB2YWx1ZVxuICogQHJldHVybnMge29ian0gQ2xvbmUgb2YgdGhlIFNWRyBET00gZWxlbWVudFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiBmdW5jdGlvbiBTb21lRGlyZWN0aXZlKCRtZEljb24pIHtcbiAqXG4gKiAgIC8vIFNlZSBpZiB0aGUgaWNvbiBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZCwgaWYgbm90XG4gKiAgIC8vIHRoZW4gbG9va3VwIHRoZSBpY29uIGZyb20gdGhlIHJlZ2lzdHJ5IGNhY2hlLCBsb2FkIGFuZCBjYWNoZVxuICogICAvLyBpdCBmb3IgZnV0dXJlIHJlcXVlc3RzLlxuICpcbiAqICAgJG1kSWNvbignYW5kcm9pZCcpLnRoZW4oZnVuY3Rpb24oaWNvbikgeyBlbGVtZW50LmFwcGVuZChpY29uKTsgfSk7XG4gKiAgICRtZEljb24oJ3dvcms6Y2hhaXInKS50aGVuKGZ1bmN0aW9uKGljb24pIHsgZWxlbWVudC5hcHBlbmQoaWNvbik7IH0pO1xuICpcbiAqICAgLy8gTG9hZCBhbmQgY2FjaGUgdGhlIGV4dGVybmFsIFNWRyB1c2luZyBhIFVSTFxuICpcbiAqICAgJG1kSWNvbignaW1nL2ljb25zL2FuZHJvaWQuc3ZnJykudGhlbihmdW5jdGlvbihpY29uKSB7XG4gKiAgICAgZWxlbWVudC5hcHBlbmQoaWNvbik7XG4gKiAgIH0pO1xuICogfTtcbiAqIDwvaGxqcz5cbiAqXG4gKiBOT1RFOiBUaGUgYG1kLWljb25gIGRpcmVjdGl2ZSBpbnRlcm5hbGx5IHVzZXMgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHRvIHF1ZXJ5LCBsb2FkZWQsIGFuZCBpbnN0YW50aWF0ZVxuICogU1ZHIERPTSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gTWRJY29uU2VydmljZShjb25maWcsICRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgdmFyIGljb25DYWNoZSA9IHt9O1xuICB2YXIgdXJsUmVnZXggPSAvWy1hLXpBLVowLTlAOiVfXFwrLn4jPyYvLz1dezIsMjU2fVxcLlthLXpdezIsNH1cXGIoXFwvWy1hLXpBLVowLTlAOiVfXFwrLn4jPyYvLz1dKik/L2k7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldEljb24oaWQpIHtcbiAgICBpZCA9IGlkIHx8ICcnO1xuXG4gICAgLy8gSWYgYWxyZWFkeSBsb2FkZWQgYW5kIGNhY2hlZCwgdXNlIGEgY2xvbmUgb2YgdGhlIGNhY2hlZCBpY29uLlxuICAgIC8vIE90aGVyd2lzZSBlaXRoZXIgbG9hZCBieSBVUkwsIG9yIGxvb2t1cCBpbiB0aGUgcmVnaXN0cnkgYW5kIHRoZW4gbG9hZCBieSBVUkwsIGFuZCBjYWNoZS5cblxuICAgIGlmICggaWNvbkNhY2hlW2lkXSAgICAgICAgICkgcmV0dXJuICRxLndoZW4oIGljb25DYWNoZVtpZF0uY2xvbmUoKSApO1xuICAgIGlmICggdXJsUmVnZXgudGVzdChpZCkgICAgICkgcmV0dXJuIGxvYWRCeVVSTChpZCkudGhlbiggY2FjaGVJY29uKGlkKSApO1xuICAgIGlmICggaWQuaW5kZXhPZignOicpID09IC0xICkgaWQgPSAnJGRlZmF1bHQ6JyArIGlkO1xuXG4gICAgcmV0dXJuIGxvYWRCeUlEKGlkKVxuICAgICAgICAuY2F0Y2gobG9hZEZyb21JY29uU2V0KVxuICAgICAgICAuY2F0Y2goYW5ub3VuY2VOb3RGb3VuZClcbiAgICAgICAgLnRoZW4oIGNhY2hlSWNvbihpZCkgKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJlcGFyZSBhbmQgY2FjaGUgdGhlIGxvYWRlZCBpY29uIGZvciB0aGUgc3BlY2lmaWVkIGBpZGBcbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSWNvbiggaWQgKSB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlQ2FjaGUoIGljb24gKSB7XG4gICAgICB2YXIgaWNvbkNvbmZpZyA9IGNvbmZpZ1tpZF07XG5cbiAgICAgIGljb24gPSAhaXNJY29uKGljb24pID8gbmV3IEljb24oaWNvbiwgaWNvbkNvbmZpZykgOiBpY29uO1xuICAgICAgaWNvbiA9IHByZXBhcmVBbmRTdHlsZShpY29uKTtcblxuICAgICAgaWNvbkNhY2hlW2lkXSA9IGljb247XG5cbiAgICAgIHJldHVybiBpY29uLmNsb25lKCk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rdXAgdGhlIGNvbmZpZ3VyYXRpb24gaW4gdGhlIHJlZ2lzdHJ5LCBpZiAhcmVnaXN0ZXJlZCB0aHJvdyBhbiBlcnJvclxuICAgKiBvdGhlcndpc2UgbG9hZCB0aGUgaWNvbiBbb24tZGVtYW5kXSB1c2luZyB0aGUgcmVnaXN0ZXJlZCBVUkwuXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkQnlJRChpZCkge1xuICAgIHZhciBpY29uQ29uZmlnID0gY29uZmlnW2lkXTtcblxuICAgIHJldHVybiAhaWNvbkNvbmZpZyA/ICRxLnJlamVjdChpZCkgOiBsb2FkQnlVUkwoaWNvbkNvbmZpZy51cmwpLnRoZW4oZnVuY3Rpb24oaWNvbikge1xuICAgICAgcmV0dXJuIG5ldyBJY29uKGljb24sIGljb25Db25maWcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRnJvbUljb25TZXQoaWQpIHtcbiAgICB2YXIgc2V0TmFtZSA9IGlkLnN1YnN0cmluZygwLCBpZC5sYXN0SW5kZXhPZignOicpKSB8fCAnJGRlZmF1bHQnO1xuICAgIHZhciBpY29uU2V0Q29uZmlnID0gY29uZmlnW3NldE5hbWVdO1xuXG4gICAgcmV0dXJuICFpY29uU2V0Q29uZmlnID8gJHEucmVqZWN0KGlkKSA6IGxvYWRCeVVSTChpY29uU2V0Q29uZmlnLnVybCkudGhlbihleHRyYWN0RnJvbVNldCk7XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0RnJvbVNldChzZXQpIHtcbiAgICAgIHZhciBpY29uTmFtZSA9IGlkLnNsaWNlKGlkLmxhc3RJbmRleE9mKCc6JykgKyAxKTtcbiAgICAgIHZhciBpY29uID0gc2V0LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWNvbk5hbWUpO1xuICAgICAgcmV0dXJuICFpY29uID8gJHEucmVqZWN0KGlkKSA6IG5ldyBJY29uKGljb24sIGljb25TZXRDb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgUHJlcGFyZSB0aGUgRE9NIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNhY2hlZCBpbiB0aGVcbiAgICogIGxvYWRlZCBpY29uQ2FjaGUgc3RvcmUuXG4gICAqL1xuICBmdW5jdGlvbiBwcmVwYXJlQW5kU3R5bGUoaWNvbikge1xuICAgIHZhciBpY29uU2l6ZSA9IGljb24uY29uZmlnID8gaWNvbi5jb25maWcuaWNvblNpemUgOiBjb25maWcuZGVmYXVsdEljb25TaXplO1xuICAgIHZhciBzdmcgPSBhbmd1bGFyLmVsZW1lbnQoaWNvbi5lbGVtZW50KTtcblxuICAgIHJldHVybiBzdmcuYXR0cih7XG4gICAgICAnZml0JyAgIDogJycsXG4gICAgICAnaGVpZ2h0JzogJzEwMCUnLFxuICAgICAgJ3dpZHRoJyA6ICcxMDAlJyxcbiAgICAgICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJzogJ3hNaWRZTWlkIG1lZXQnLFxuICAgICAgJ3ZpZXdCb3gnIDogc3ZnLmF0dHIoJ3ZpZXdCb3gnKSB8fCAoJzAgMCAnICsgaWNvblNpemUgKyAnICcgKyBpY29uU2l6ZSlcbiAgICB9KVxuICAgIC5jc3MoIHtcbiAgICAgICdwb2ludGVyLWV2ZW50cycgOiAnbm9uZScsXG4gICAgICAnZGlzcGxheScgOiAnYmxvY2snXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaWNvbiBieSBVUkwgKG1heSB1c2UgdGhlICR0ZW1wbGF0ZUNhY2hlKS5cbiAgICogRXh0cmFjdCB0aGUgZGF0YSBmb3IgbGF0ZXIgY29udmVyc2lvbiB0byBJY29uXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkQnlVUkwodXJsKSB7XG4gICAgcmV0dXJuICRodHRwXG4gICAgICAuZ2V0KHVybCwgeyBjYWNoZTogJHRlbXBsYXRlQ2FjaGUgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBlbHMgPSBhbmd1bGFyLmVsZW1lbnQocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIC8vIEl0ZXJhdGUgdG8gZmluZCBmaXJzdCBzdmcgbm9kZSwgYWxsb3dpbmcgZm9yIGNvbW1lbnRzIGluIGxvYWRlZCBTVkcgKGNvbW1vbiB3aXRoIGF1dG8tZ2VuZXJhdGVkIFNWR3MpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgaWYgKGVsc1tpXS5ub2RlTmFtZSA9PSAnc3ZnJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXIgZGlkIG5vdCBzcGVjaWZ5IGEgVVJMIGFuZCB0aGUgSUQgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGUgJG1kSWNvblxuICAgKiByZWdpc3RyeVxuICAgKi9cbiAgZnVuY3Rpb24gYW5ub3VuY2VOb3RGb3VuZChpZCkge1xuICAgIHZhciBtc2cgPSAnaWNvbiAnICsgaWQgKyAnIG5vdCBmb3VuZCc7XG4gICAgJGxvZy53YXJuKG1zZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVjayB0YXJnZXQgc2lnbmF0dXJlIHRvIHNlZSBpZiBpdCBpcyBhbiBJY29uIGluc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNJY29uKHRhcmdldCkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh0YXJnZXQuZWxlbWVudCkgJiYgYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0LmNvbmZpZyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gSWNvbihlbCwgY29uZmlnKSB7XG4gICAgaWYgKGVsLnRhZ05hbWUgIT0gJ3N2ZycpIHtcbiAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KCc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj4nKS5hcHBlbmQoZWwpWzBdO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAgKiBDbG9uZSB0aGUgSWNvbiBET00gZWxlbWVudDsgd2hpY2ggaXMgc3RvcmVkIGFzIGFuIGFuZ3VsYXIuZWxlbWVudCgpXG4gICAgKi9cbiAgSWNvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKXtcbiAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xvbmVOb2RlKHRydWUpWzBdO1xuICB9O1xufVxuXG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmlucHV0JywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kSW5wdXRDb250YWluZXInLCBtZElucHV0Q29udGFpbmVyRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdsYWJlbCcsIGxhYmVsRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdpbnB1dCcsIGlucHV0VGV4dGFyZWFEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ3RleHRhcmVhJywgaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRNYXhsZW5ndGgnLCBtZE1heGxlbmd0aERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRJbnB1dENvbnRhaW5lclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmlucHV0XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtaW5wdXQtY29udGFpbmVyPmAgaXMgdGhlIHBhcmVudCBvZiBhbnkgaW5wdXQgb3IgdGV4dGFyZWEgZWxlbWVudC5cbiAqXG4gKiBJbnB1dCBhbmQgdGV4dGFyZWEgZWxlbWVudHMgd2lsbCBub3QgYmVoYXZlIHByb3Blcmx5IHVubGVzcyB0aGUgbWQtaW5wdXQtY29udGFpbmVyXG4gKiBwYXJlbnQgaXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIG1kLWlzLWVycm9yIHtleHByZXNzaW9uPX0gV2hlbiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZSwgdGhlIGlucHV0IGNvbnRhaW5lciB3aWxsIGdvIGludG8gZXJyb3Igc3RhdGUuIERlZmF1bHRzIHRvIGVycm9yaW5nIGlmIHRoZSBpbnB1dCBoYXMgYmVlbiB0b3VjaGVkIGFuZCBpcyBpbnZhbGlkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bGFiZWw+VXNlcm5hbWU8L2xhYmVsPlxuICogICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiPlxuICogPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAqICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidXNlci5kZXNjcmlwdGlvblwiPjwvdGV4dGFyZWE+XG4gKiA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqXG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIG1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUoJG1kVGhlbWluZywgJHBhcnNlKSB7XG4gIENvbnRhaW5lckN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCJdO1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogcG9zdExpbmssXG4gICAgY29udHJvbGxlcjogQ29udGFpbmVyQ3RybFxuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgfVxuICBmdW5jdGlvbiBDb250YWluZXJDdHJsKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuaXNFcnJvckdldHRlciA9ICRhdHRycy5tZElzRXJyb3IgJiYgJHBhcnNlKCRhdHRycy5tZElzRXJyb3IpO1xuXG4gICAgc2VsZi5lbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgc2VsZi5zZXRGb2N1c2VkID0gZnVuY3Rpb24oaXNGb2N1c2VkKSB7XG4gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtZm9jdXNlZCcsICEhaXNGb2N1c2VkKTtcbiAgICB9O1xuICAgIHNlbGYuc2V0SGFzVmFsdWUgPSBmdW5jdGlvbihoYXNWYWx1ZSkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWhhcy12YWx1ZScsICEhaGFzVmFsdWUpO1xuICAgIH07XG4gICAgc2VsZi5zZXRJbnZhbGlkID0gZnVuY3Rpb24oaXNJbnZhbGlkKSB7XG4gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtaW52YWxpZCcsICEhaXNJbnZhbGlkKTtcbiAgICB9O1xuICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2VsZi5sYWJlbCAmJiBzZWxmLmlucHV0O1xuICAgIH0sIGZ1bmN0aW9uKGhhc0xhYmVsQW5kSW5wdXQpIHtcbiAgICAgIGlmIChoYXNMYWJlbEFuZElucHV0ICYmICFzZWxmLmxhYmVsLmF0dHIoJ2ZvcicpKSB7XG4gICAgICAgIHNlbGYubGFiZWwuYXR0cignZm9yJywgc2VsZi5pbnB1dC5hdHRyKCdpZCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxubWRJbnB1dENvbnRhaW5lckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiLCBcIiRwYXJzZVwiXTtcblxuZnVuY3Rpb24gbGFiZWxEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiAnXj9tZElucHV0Q29udGFpbmVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udGFpbmVyQ3RybCkge1xuICAgICAgaWYgKCFjb250YWluZXJDdHJsIHx8IGF0dHIubWROb0Zsb2F0KSByZXR1cm47XG5cbiAgICAgIGNvbnRhaW5lckN0cmwubGFiZWwgPSBlbGVtZW50O1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250YWluZXJDdHJsLmxhYmVsID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZElucHV0XG4gKiBAcmVzdHJpY3QgRVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmlucHV0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGA8aW5wdXQ+YCBhcyBhIGNoaWxkIG9mIGFuIGA8bWQtaW5wdXQtY29udGFpbmVyPmAuXG4gKlxuICogQmVoYXZlcyBsaWtlIHRoZSBbQW5ndWxhckpTIGlucHV0IGRpcmVjdGl2ZV0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nL2RpcmVjdGl2ZS9pbnB1dCkuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPkNvbG9yPC9sYWJlbD5cbiAqICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb2xvclwiIHJlcXVpcmVkIG1kLW1heGxlbmd0aD1cIjEwXCI+XG4gKiA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqIDwvaGxqcz5cbiAqIDxoMz5XaXRoIEVycm9ycyAodXNlcyBbbmdNZXNzYWdlc10oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nTWVzc2FnZXMpKTwvaDM+XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gKiAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgICAgPGxhYmVsPkxhc3QgTmFtZTwvbGFiZWw+XG4gKiAgICAgPGlucHV0IG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwibGFzdE5hbWVcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCIxMFwiIG1pbmxlbmd0aD1cIjRcIj5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwidXNlckZvcm0ubGFzdE5hbWUuJGVycm9yXCIgbmctc2hvdz1cInVzZXJGb3JtLmJpby4kZGlydHlcIj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cInJlcXVpcmVkXCI+VGhpcyBpcyByZXF1aXJlZCE8L2Rpdj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cIm1kLW1heGxlbmd0aFwiPlRoYXQncyB0b28gbG9uZyE8L2Rpdj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cIm1pbmxlbmd0aFwiPlRoYXQncyB0b28gc2hvcnQhPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9mb3JtPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtbWF4bGVuZ3RoIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGFsbG93ZWQgaW4gdGhpcyBpbnB1dC4gSWYgdGhpcyBpcyBzcGVjaWZpZWQsIGEgY2hhcmFjdGVyIGNvdW50ZXIgd2lsbCBiZSBzaG93biB1bmRlcm5lYXRoIHRoZSBpbnB1dC5cbiAqL1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmlucHV0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGA8dGV4dGFyZWE+YCBhcyBhIGNoaWxkIG9mIGFuIGA8bWQtaW5wdXQtY29udGFpbmVyPmBcbiAqXG4gKiBCZWhhdmVzIGxpa2UgdGhlIFtBbmd1bGFySlMgaW5wdXQgZGlyZWN0aXZlXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvZGlyZWN0aXZlL3RleHRhcmVhKS5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bGFiZWw+RGVzY3JpcHRpb248L2xhYmVsPlxuICogICA8dGV4dGFyZWEgbmctbW9kZWw9XCJkZXNjcmlwdGlvblwiIHJlcXVpcmVkIG1pbmxlbmd0aD1cIjE1XCIgbWQtbWF4bGVuZ3RoPVwiMjBcIj48L3RleHRhcmVhPlxuICogPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiA8L2hsanM+XG4gKiA8aDM+V2l0aCBFcnJvcnMgKHVzZXMgW25nTWVzc2FnZXNdKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZ01lc3NhZ2VzKSk8L2gzPlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICogICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgIDxsYWJlbD5CaW9ncmFwaHk8L2xhYmVsPlxuICogICAgIDx0ZXh0YXJlYSBuYW1lPVwiYmlvXCIgbmctbW9kZWw9XCJiaW9ncmFwaHlcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCIxNTBcIj48L3RleHRhcmVhPlxuICogICAgIDxkaXYgbmctbWVzc2FnZXM9XCJ1c2VyRm9ybS5iaW8uJGVycm9yXCIgbmctc2hvdz1cInVzZXJGb3JtLmJpby4kZGlydHlcIj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cInJlcXVpcmVkXCI+VGhpcyBpcyByZXF1aXJlZCE8L2Rpdj5cbiAqICAgICAgIDxkaXYgbmctbWVzc2FnZT1cIm1kLW1heGxlbmd0aFwiPlRoYXQncyB0b28gbG9uZyE8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiA8L2Zvcm0+XG4gKiA8L2hsanM+XG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1tYXhsZW5ndGggVGhlIG1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgYWxsb3dlZCBpbiB0aGlzIGlucHV0LiBJZiB0aGlzIGlzIHNwZWNpZmllZCwgYSBjaGFyYWN0ZXIgY291bnRlciB3aWxsIGJlIHNob3duIHVuZGVybmVhdGggdGhlIGlucHV0LlxuICovXG5mdW5jdGlvbiBpbnB1dFRleHRhcmVhRGlyZWN0aXZlKCRtZFV0aWwsICR3aW5kb3csICRjb21waWxlLCAkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydeP21kSW5wdXRDb250YWluZXInLCAnP25nTW9kZWwnXSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuXG4gICAgdmFyIGNvbnRhaW5lckN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXSB8fCAkbWRVdGlsLmZha2VOZ01vZGVsKCk7XG4gICAgdmFyIGlzUmVhZG9ubHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLnJlYWRvbmx5KTtcblxuICAgIGlmICggIWNvbnRhaW5lckN0cmwgKSByZXR1cm47XG4gICAgaWYgKGNvbnRhaW5lckN0cmwuaW5wdXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIjxtZC1pbnB1dC1jb250YWluZXI+IGNhbiBvbmx5IGhhdmUgKm9uZSogPGlucHV0PiBvciA8dGV4dGFyZWE+IGNoaWxkIGVsZW1lbnQhXCIpO1xuICAgIH1cbiAgICBjb250YWluZXJDdHJsLmlucHV0ID0gZWxlbWVudDtcblxuICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWlucHV0Jyk7XG4gICAgaWYgKCFlbGVtZW50LmF0dHIoJ2lkJykpIHtcbiAgICAgIGVsZW1lbnQuYXR0cignaWQnLCAnaW5wdXRfJyArICRtZFV0aWwubmV4dFVpZCgpKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIHNldHVwVGV4dGFyZWEoKTtcbiAgICB9XG5cbiAgICB2YXIgaXNFcnJvckdldHRlciA9IGNvbnRhaW5lckN0cmwuaXNFcnJvckdldHRlciB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZ01vZGVsQ3RybC4kaW52YWxpZCAmJiBuZ01vZGVsQ3RybC4kdG91Y2hlZDtcbiAgICB9O1xuICAgIHNjb3BlLiR3YXRjaChpc0Vycm9yR2V0dGVyLCBjb250YWluZXJDdHJsLnNldEludmFsaWQpO1xuXG4gICAgbmdNb2RlbEN0cmwuJHBhcnNlcnMucHVzaChuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKTtcbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKG5nTW9kZWxQaXBlbGluZUNoZWNrVmFsdWUpO1xuXG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBpbnB1dENoZWNrVmFsdWUpO1xuXG4gICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICBlbGVtZW50XG4gICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbihldikge1xuICAgICAgICAgIGNvbnRhaW5lckN0cmwuc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQoZmFsc2UpO1xuICAgICAgICAgIGlucHV0Q2hlY2tWYWx1ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgbmdNb2RlbEN0cmwuJHNldFRvdWNoZWQoKTtcbiAgICAgIGlmKCBuZ01vZGVsQ3RybC4kaW52YWxpZCApIGNvbnRhaW5lckN0cmwuc2V0SW52YWxpZCgpO1xuICAgIH1cblxuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICBjb250YWluZXJDdHJsLnNldEhhc1ZhbHVlKGZhbHNlKTtcbiAgICAgIGNvbnRhaW5lckN0cmwuaW5wdXQgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKGFyZykge1xuICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZSghbmdNb2RlbEN0cmwuJGlzRW1wdHkoYXJnKSk7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnB1dENoZWNrVmFsdWUoKSB7XG4gICAgICAvLyBBbiBpbnB1dCdzIHZhbHVlIGNvdW50cyBpZiBpdHMgbGVuZ3RoID4gMCxcbiAgICAgIC8vIG9yIGlmIHRoZSBpbnB1dCdzIHZhbGlkaXR5IHN0YXRlIHNheXMgaXQgaGFzIGJhZCBpbnB1dCAoZWcgc3RyaW5nIGluIGEgbnVtYmVyIGlucHV0KVxuICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZShlbGVtZW50LnZhbCgpLmxlbmd0aCA+IDAgfHwgKGVsZW1lbnRbMF0udmFsaWRpdHl8fHt9KS5iYWRJbnB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBUZXh0YXJlYSgpIHtcbiAgICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcbiAgICAgIHZhciBvbkNoYW5nZVRleHRhcmVhID0gJG1kVXRpbC5kZWJvdW5jZShncm93VGV4dGFyZWEsIDEpO1xuXG4gICAgICBmdW5jdGlvbiBwaXBlbGluZUxpc3RlbmVyKHZhbHVlKSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQub24oJ2tleWRvd24gaW5wdXQnLCBvbkNoYW5nZVRleHRhcmVhKTtcbiAgICAgIGVsZW1lbnQub24oJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplJywgb25DaGFuZ2VUZXh0YXJlYSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgb25DaGFuZ2VUZXh0YXJlYSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gZ3Jvd1RleHRhcmVhKCkge1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICB2YXIgbGluZSA9IG5vZGUuc2Nyb2xsSGVpZ2h0IC0gbm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG5vZGUub2Zmc2V0SGVpZ2h0ICsgKGxpbmUgPiAwID8gbGluZSA6IDApO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uU2Nyb2xsKGUpIHtcbiAgICAgICAgbm9kZS5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAvLyBmb3Igc21vb3RoIG5ldyBsaW5lIGFkZGluZ1xuICAgICAgICB2YXIgbGluZSA9IG5vZGUuc2Nyb2xsSGVpZ2h0IC0gbm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBoZWlnaHQgPSBub2RlLm9mZnNldEhlaWdodCArIGxpbmU7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmlucHV0VGV4dGFyZWFEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFV0aWxcIiwgXCIkd2luZG93XCIsIFwiJGNvbXBpbGVcIiwgXCIkYW5pbWF0ZVwiXTtcblxuZnVuY3Rpb24gbWRNYXhsZW5ndGhEaXJlY3RpdmUoJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdebWRJbnB1dENvbnRhaW5lciddLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgdmFyIG1heGxlbmd0aDtcbiAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgY29udGFpbmVyQ3RybCA9IGN0cmxzWzFdO1xuICAgIHZhciBjaGFyQ291bnRFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLWNoYXItY291bnRlclwiPicpO1xuXG4gICAgLy8gU3RvcCBtb2RlbCBmcm9tIHRyaW1taW5nLiBUaGlzIG1ha2VzIGl0IHNvIHdoaXRlc3BhY2VcbiAgICAvLyBvdmVyIHRoZSBtYXhsZW5ndGggc3RpbGwgY291bnRzIGFzIGludmFsaWQuXG4gICAgYXR0ci4kc2V0KCduZ1RyaW0nLCAnZmFsc2UnKTtcbiAgICBjb250YWluZXJDdHJsLmVsZW1lbnQuYXBwZW5kKGNoYXJDb3VudEVsKTtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2gocmVuZGVyQ2hhckNvdW50KTtcbiAgICBuZ01vZGVsQ3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKHJlbmRlckNoYXJDb3VudCk7XG4gICAgZWxlbWVudC5vbignaW5wdXQga2V5ZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVuZGVyQ2hhckNvdW50KCk7IC8vbWFrZSBzdXJlIGl0J3MgY2FsbGVkIHdpdGggbm8gYXJnc1xuICAgIH0pO1xuXG4gICAgc2NvcGUuJHdhdGNoKGF0dHIubWRNYXhsZW5ndGgsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBtYXhsZW5ndGggPSB2YWx1ZTtcbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA+IDApIHtcbiAgICAgICAgaWYgKCFjaGFyQ291bnRFbC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjaGFyQ291bnRFbCwgY29udGFpbmVyQ3RybC5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChjb250YWluZXJDdHJsLmVsZW1lbnRbMF0ubGFzdEVsZW1lbnRDaGlsZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlckNoYXJDb3VudCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGFuaW1hdGUubGVhdmUoY2hhckNvdW50RWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnNbJ21kLW1heGxlbmd0aCddID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIobWF4bGVuZ3RoKSB8fCBtYXhsZW5ndGggPCAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICggbW9kZWxWYWx1ZSB8fCBlbGVtZW50LnZhbCgpIHx8IHZpZXdWYWx1ZSB8fCAnJyApLmxlbmd0aCA8PSBtYXhsZW5ndGg7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlckNoYXJDb3VudCh2YWx1ZSkge1xuICAgICAgY2hhckNvdW50RWwudGV4dCggKCBlbGVtZW50LnZhbCgpIHx8IHZhbHVlIHx8ICcnICkubGVuZ3RoICsgJy8nICsgbWF4bGVuZ3RoICk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG59XG5tZE1heGxlbmd0aERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJGFuaW1hdGVcIl07XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ15eP21kSW5wdXRDb250YWluZXInLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGlucHV0Q29udGFpbmVyKSB7XG4gICAgaWYgKCFpbnB1dENvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdmFyIHBsYWNlaG9sZGVyVGV4dCA9IGF0dHIucGxhY2Vob2xkZXI7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xuXG4gICAgaW5wdXRDb250YWluZXIuZWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJtZC1wbGFjZWhvbGRlclwiPicgKyBwbGFjZWhvbGRlclRleHQgKyAnPC9kaXY+Jyk7XG4gIH1cbn1cblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmxpc3RcbiAqIEBkZXNjcmlwdGlvblxuICogTGlzdCBtb2R1bGVcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMubGlzdCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZExpc3QnLCBtZExpc3REaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kSXRlbScsIG1kSXRlbURpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRMaXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1saXN0PmAgZGlyZWN0aXZlIGlzIGEgbGlzdCBjb250YWluZXIgZm9yIDEuLm4gYDxtZC1pdGVtPmAgdGFncy5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbGlzdD5cbiAqICAgPG1kLWl0ZW0gbmctcmVwZWF0PVwiaXRlbSBpbiB0b2Rvc1wiPlxuICogICAgIDxtZC1pdGVtLWNvbnRlbnQ+XG4gKiAgICAgICA8ZGl2IGNsYXNzPVwibWQtdGlsZS1sZWZ0XCI+XG4gKiAgICAgICAgIDxpbWcgbmctc3JjPVwie3tpdGVtLmZhY2V9fVwiIGNsYXNzPVwiZmFjZVwiIGFsdD1cInt7aXRlbS53aG99fVwiPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2IGNsYXNzPVwibWQtdGlsZS1jb250ZW50XCI+XG4gKiAgICAgICAgIDxoMz57e2l0ZW0ud2hhdH19PC9oMz5cbiAqICAgICAgICAgPGg0Pnt7aXRlbS53aG99fTwvaDQ+XG4gKiAgICAgICAgIDxwPlxuICogICAgICAgICAgIHt7aXRlbS5ub3Rlc319XG4gKiAgICAgICAgIDwvcD5cbiAqICAgICAgIDwvZGl2PlxuICogICAgIDwvbWQtaXRlbS1jb250ZW50PlxuICogICA8L21kLWl0ZW0+XG4gKiA8L21kLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZExpc3REaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cikge1xuICAgICAgJGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdyb2xlJyA6ICdsaXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kSXRlbVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmxpc3RcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtaXRlbT5gIGRpcmVjdGl2ZSBpcyBhIGNvbnRhaW5lciBpbnRlbmRlZCBmb3Igcm93IGl0ZW1zIGluIGEgYDxtZC1saXN0PmAgY29udGFpbmVyLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtbGlzdD5cbiAqICAgIDxtZC1pdGVtPlxuICogICAgICAgICAgICBJdGVtIGNvbnRlbnQgaW4gbGlzdFxuICogICAgPC9tZC1pdGVtPlxuICogIDwvbWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1kSXRlbURpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICAkZWxlbWVudC5hdHRyKHtcbiAgICAgICAgJ3JvbGUnIDogJ2xpc3RpdGVtJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXJcbiAqIEBkZXNjcmlwdGlvbiBDaXJjdWxhciBQcm9ncmVzcyBtb2R1bGUhXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXInLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRQcm9ncmVzc0NpcmN1bGFyJywgTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFByb2dyZXNzQ2lyY3VsYXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0NpcmN1bGFyXG4gKiBAcmVzdHJpY3QgRVxuICpcbiogQGRlc2NyaXB0aW9uXG4gKiBUaGUgY2lyY3VsYXIgcHJvZ3Jlc3MgZGlyZWN0aXZlIGlzIHVzZWQgdG8gbWFrZSBsb2FkaW5nIGNvbnRlbnQgaW4geW91ciBhcHAgYXMgZGVsaWdodGZ1bCBhbmQgcGFpbmxlc3MgYXMgcG9zc2libGUgYnkgbWluaW1pemluZyB0aGUgYW1vdW50IG9mIHZpc3VhbCBjaGFuZ2UgYSB1c2VyIHNlZXMgYmVmb3JlIHRoZXkgY2FuIHZpZXcgYW5kIGludGVyYWN0IHdpdGggY29udGVudC5cbiAqXG4gKiBGb3Igb3BlcmF0aW9ucyB3aGVyZSB0aGUgcGVyY2VudGFnZSBvZiB0aGUgb3BlcmF0aW9uIGNvbXBsZXRlZCBjYW4gYmUgZGV0ZXJtaW5lZCwgdXNlIGEgZGV0ZXJtaW5hdGUgaW5kaWNhdG9yLiBUaGV5IGdpdmUgdXNlcnMgYSBxdWljayBzZW5zZSBvZiBob3cgbG9uZyBhbiBvcGVyYXRpb24gd2lsbCB0YWtlLlxuICpcbiAqIEZvciBvcGVyYXRpb25zIHdoZXJlIHRoZSB1c2VyIGlzIGFza2VkIHRvIHdhaXQgYSBtb21lbnQgd2hpbGUgc29tZXRoaW5nIGZpbmlzaGVzIHVwLCBhbmQgaXTigJlzIG5vdCBuZWNlc3NhcnkgdG8gZXhwb3NlIHdoYXQncyBoYXBwZW5pbmcgYmVoaW5kIHRoZSBzY2VuZXMgYW5kIGhvdyBsb25nIGl0IHdpbGwgdGFrZSwgdXNlIGFuIGluZGV0ZXJtaW5hdGUgaW5kaWNhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1tb2RlIFNlbGVjdCBmcm9tIG9uZSBvZiB0d28gbW9kZXM6IGRldGVybWluYXRlIGFuZCBpbmRldGVybWluYXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSB2YWx1ZSBJbiBkZXRlcm1pbmF0ZSBtb2RlLCB0aGlzIG51bWJlciByZXByZXNlbnRzIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBjaXJjdWxhciBwcm9ncmVzcy4gRGVmYXVsdDogMFxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1kaWFtZXRlciBUaGlzIHNwZWNpZmllcyB0aGUgZGlhbXRlciBvZiB0aGUgY2lyY3VsYXIgcHJvZ3Jlc3MuIERlZmF1bHQ6IDQ4XG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIHZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgbmctdmFsdWU9XCIuLi5cIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiB2YWx1ZT1cIi4uLlwiIG1kLWRpYW1ldGVyPVwiMTAwXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUoJCRyQUYsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nKSB7XG4gIHZhciBmaWxsUm90YXRpb25zID0gbmV3IEFycmF5KDEwMSksXG4gICAgZml4Um90YXRpb25zID0gbmV3IEFycmF5KDEwMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDE7IGkrKykge1xuICAgIHZhciBwZXJjZW50ID0gaSAvIDEwMDtcbiAgICB2YXIgcm90YXRpb24gPSBNYXRoLmZsb29yKHBlcmNlbnQgKiAxODApO1xuXG4gICAgZmlsbFJvdGF0aW9uc1tpXSA9ICdyb3RhdGUoJyArIHJvdGF0aW9uLnRvU3RyaW5nKCkgKyAnZGVnKSc7XG4gICAgZml4Um90YXRpb25zW2ldID0gJ3JvdGF0ZSgnICsgKHJvdGF0aW9uICogMikudG9TdHJpbmcoKSArICdkZWcpJztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1zcGlubmVyLXdyYXBwZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWlubmVyXCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWdhcFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1sZWZ0XCI+JyArXG4gICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaGFsZi1jaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1oYWxmLWNpcmNsZVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xuICAgIHRFbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCAwKTtcbiAgICB0RWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWF4JywgMTAwKTtcbiAgICB0RWxlbWVudC5hdHRyKCdyb2xlJywgJ3Byb2dyZXNzYmFyJyk7XG5cbiAgICByZXR1cm4gcG9zdExpbms7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIGNpcmNsZSA9IGVsZW1lbnRbMF0sXG4gICAgICBmaWxsID0gY2lyY2xlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1maWxsLCAubWQtbWFzay5tZC1mdWxsJyksXG4gICAgICBmaXggPSBjaXJjbGUucXVlcnlTZWxlY3RvckFsbCgnLm1kLWZpbGwubWQtZml4JyksXG4gICAgICBpLCBjbGFtcGVkLCBmaWxsUm90YXRpb24sIGZpeFJvdGF0aW9uO1xuXG4gICAgdmFyIGRpYW1ldGVyID0gYXR0ci5tZERpYW1ldGVyIHx8IDQ4O1xuICAgIHZhciBzY2FsZSA9IGRpYW1ldGVyLzQ4O1xuXG4gICAgY2lyY2xlLnN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gJ3NjYWxlKCcgKyBzY2FsZS50b1N0cmluZygpICsgJyknO1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgY2xhbXBlZCA9IGNsYW1wKHZhbHVlKTtcbiAgICAgIGZpbGxSb3RhdGlvbiA9IGZpbGxSb3RhdGlvbnNbY2xhbXBlZF07XG4gICAgICBmaXhSb3RhdGlvbiA9IGZpeFJvdGF0aW9uc1tjbGFtcGVkXTtcblxuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbm93JywgY2xhbXBlZCk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpbGxbaV0uc3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSBmaWxsUm90YXRpb247XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZml4W2ldLnN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gZml4Um90YXRpb247XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA+IDEwMCkge1xuICAgICAgcmV0dXJuIDEwMDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5jZWlsKHZhbHVlIHx8IDApO1xuICB9XG59XG5NZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXJcbiAqIEBkZXNjcmlwdGlvbiBMaW5lYXIgUHJvZ3Jlc3MgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0xpbmVhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFByb2dyZXNzTGluZWFyJywgTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRQcm9ncmVzc0xpbmVhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzTGluZWFyXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGxpbmVhciBwcm9ncmVzcyBkaXJlY3RpdmUgaXMgdXNlZCB0byBtYWtlIGxvYWRpbmcgY29udGVudCBpbiB5b3VyIGFwcCBhcyBkZWxpZ2h0ZnVsIGFuZCBwYWlubGVzcyBhcyBwb3NzaWJsZSBieSBtaW5pbWl6aW5nIHRoZSBhbW91bnQgb2YgdmlzdWFsIGNoYW5nZSBhIHVzZXIgc2VlcyBiZWZvcmUgdGhleSBjYW4gdmlldyBhbmQgaW50ZXJhY3Qgd2l0aCBjb250ZW50LiBFYWNoIG9wZXJhdGlvbiBzaG91bGQgb25seSBiZSByZXByZXNlbnRlZCBieSBvbmUgYWN0aXZpdHkgaW5kaWNhdG9y4oCUZm9yIGV4YW1wbGUsIG9uZSByZWZyZXNoIG9wZXJhdGlvbiBzaG91bGQgbm90IGRpc3BsYXkgYm90aCBhIHJlZnJlc2ggYmFyIGFuZCBhbiBhY3Rpdml0eSBjaXJjbGUuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgY2FuIGJlIGRldGVybWluZWQsIHVzZSBhIGRldGVybWluYXRlIGluZGljYXRvci4gVGhleSBnaXZlIHVzZXJzIGEgcXVpY2sgc2Vuc2Ugb2YgaG93IGxvbmcgYW4gb3BlcmF0aW9uIHdpbGwgdGFrZS5cbiAqXG4gKiBGb3Igb3BlcmF0aW9ucyB3aGVyZSB0aGUgdXNlciBpcyBhc2tlZCB0byB3YWl0IGEgbW9tZW50IHdoaWxlIHNvbWV0aGluZyBmaW5pc2hlcyB1cCwgYW5kIGl04oCZcyBub3QgbmVjZXNzYXJ5IHRvIGV4cG9zZSB3aGF0J3MgaGFwcGVuaW5nIGJlaGluZCB0aGUgc2NlbmVzIGFuZCBob3cgbG9uZyBpdCB3aWxsIHRha2UsIHVzZSBhbiBpbmRldGVybWluYXRlIGluZGljYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtbW9kZSBTZWxlY3QgZnJvbSBvbmUgb2YgZm91ciBtb2RlczogZGV0ZXJtaW5hdGUsIGluZGV0ZXJtaW5hdGUsIGJ1ZmZlciBvciBxdWVyeS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gdmFsdWUgSW4gZGV0ZXJtaW5hdGUgYW5kIGJ1ZmZlciBtb2RlcywgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgcHJpbWFyeSBwcm9ncmVzcyBiYXIuIERlZmF1bHQ6IDBcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtYnVmZmVyLXZhbHVlIEluIHRoZSBidWZmZXIgbW9kZSwgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcHJlY2VudGFnZSBvZiB0aGUgc2Vjb25kYXJ5IHByb2dyZXNzIGJhci4gRGVmYXVsdDogMFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgdmFsdWU9XCIuLi5cIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIG5nLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImJ1ZmZlclwiIHZhbHVlPVwiLi4uXCIgbWQtYnVmZmVyLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwicXVlcnlcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSgkJHJBRiwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhc2hlZFwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1iYXIgbWQtYmFyMVwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1iYXIgbWQtYmFyMlwiPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuICBcbiAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7XG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1pbicsIDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCAxMDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ3JvbGUnLCAncHJvZ3Jlc3NiYXInKTtcblxuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIGJhcjFTdHlsZSA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWJhcjEnKS5zdHlsZSxcbiAgICAgIGJhcjJTdHlsZSA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWJhcjInKS5zdHlsZSxcbiAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jb250YWluZXInKSk7XG5cbiAgICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoYXR0ci5tZE1vZGUgPT0gJ3F1ZXJ5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGFtcGVkID0gY2xhbXAodmFsdWUpO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbm93JywgY2xhbXBlZCk7XG4gICAgICBiYXIyU3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSB0cmFuc2Zvcm1zW2NsYW1wZWRdO1xuICAgIH0pO1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWRCdWZmZXJWYWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBiYXIxU3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSB0cmFuc2Zvcm1zW2NsYW1wKHZhbHVlKV07XG4gICAgfSk7XG5cbiAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbWQtcmVhZHknKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID4gMTAwKSB7XG4gICAgICByZXR1cm4gMTAwO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLmNlaWwodmFsdWUgfHwgMCk7XG4gIH1cbn1cbk1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vIFByaXZhdGUgTWV0aG9kc1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxudmFyIHRyYW5zZm9ybXMgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoMTAxKTtcbiAgZm9yKHZhciBpID0gMDsgaSA8IDEwMTsgaSsrKXtcbiAgICB2YWx1ZXNbaV0gPSBtYWtlVHJhbnNmb3JtKGkpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcblxuICBmdW5jdGlvbiBtYWtlVHJhbnNmb3JtKHZhbHVlKXtcbiAgICB2YXIgc2NhbGUgPSB2YWx1ZS8xMDA7XG4gICAgdmFyIHRyYW5zbGF0ZVggPSAodmFsdWUtMTAwKS8yO1xuICAgIHJldHVybiAndHJhbnNsYXRlWCgnICsgdHJhbnNsYXRlWC50b1N0cmluZygpICsgJyUpIHNjYWxlKCcgKyBzY2FsZS50b1N0cmluZygpICsgJywgMSknO1xuICB9XG59KSgpO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblxuICogQGRlc2NyaXB0aW9uIHJhZGlvQnV0dG9uIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b24nLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRSYWRpb0dyb3VwJywgbWRSYWRpb0dyb3VwRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZFJhZGlvQnV0dG9uJywgbWRSYWRpb0J1dHRvbkRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uXG4gKiBAbmFtZSBtZFJhZGlvR3JvdXBcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtcmFkaW8tZ3JvdXA+YCBkaXJlY3RpdmUgaWRlbnRpZmllcyBhIGdyb3VwaW5nXG4gKiBjb250YWluZXIgZm9yIHRoZSAxLi5uIGdyb3VwZWQgcmFkaW8gYnV0dG9uczsgc3BlY2lmaWVkIHVzaW5nIG5lc3RlZFxuICogYDxtZC1yYWRpby1idXR0b24+YCB0YWdzLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSByYWRpbyBidXR0b24gaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogTm90ZTogYDxtZC1yYWRpby1ncm91cD5gIGFuZCBgPG1kLXJhZGlvLWJ1dHRvbj5gIGhhbmRsZSB0YWJpbmRleCBkaWZmZXJlbnRseVxuICogdGhhbiB0aGUgbmF0aXZlIGA8aW5wdXQgdHlwZT0ncmFkaW8nPmAgY29udHJvbHMuIFdoZXJlYXMgdGhlIG5hdGl2ZSBjb250cm9sc1xuICogZm9yY2UgdGhlIHVzZXIgdG8gdGFiIHRocm91Z2ggYWxsIHRoZSByYWRpbyBidXR0b25zLCBgPG1kLXJhZGlvLWdyb3VwPmBcbiAqIGlzIGZvY3VzYWJsZSwgYW5kIGJ5IGRlZmF1bHQgdGhlIGA8bWQtcmFkaW8tYnV0dG9uPmBzIGFyZSBub3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nLW1vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBVc2Ugb2YgYXR0cmlidXRlIGluZGljYXRlcyBmbGFnIHRvIGRpc2FibGUgaW5rIHJpcHBsZSBlZmZlY3RzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1yYWRpby1ncm91cCBuZy1tb2RlbD1cInNlbGVjdGVkXCI+XG4gKlxuICogICA8bWQtcmFkaW8tYnV0dG9uXG4gKiAgICAgICAgbmctcmVwZWF0PVwiZCBpbiBjb2xvck9wdGlvbnNcIlxuICogICAgICAgIG5nLXZhbHVlPVwiZC52YWx1ZVwiIGFyaWEtbGFiZWw9XCJ7eyBkLmxhYmVsIH19XCI+XG4gKlxuICogICAgICAgICAge3sgZC5sYWJlbCB9fVxuICpcbiAqICAgPC9tZC1yYWRpby1idXR0b24+XG4gKlxuICogPC9tZC1yYWRpby1ncm91cD5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1kUmFkaW9Hcm91cERpcmVjdGl2ZSgkbWRVdGlsLCAkbWRDb25zdGFudCwgJG1kVGhlbWluZykge1xuICBSYWRpb0dyb3VwQ29udHJvbGxlci5wcm90b3R5cGUgPSBjcmVhdGVSYWRpb0dyb3VwQ29udHJvbGxlclByb3RvKCk7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6IFsnJGVsZW1lbnQnLCBSYWRpb0dyb3VwQ29udHJvbGxlcl0sXG4gICAgcmVxdWlyZTogWydtZFJhZGlvR3JvdXAnLCAnP25nTW9kZWwnXSxcbiAgICBsaW5rOiB7IHByZTogbGlua1JhZGlvR3JvdXAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGxpbmtSYWRpb0dyb3VwKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIHJnQ3RybCA9IGN0cmxzWzBdO1xuICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcblxuICAgIGZ1bmN0aW9uIGtleWRvd25MaXN0ZW5lcihldikge1xuICAgICAgc3dpdGNoKGV2LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5MRUZUX0FSUk9XOlxuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLlVQX0FSUk9XOlxuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmdDdHJsLnNlbGVjdFByZXZpb3VzKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVzpcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XOlxuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmdDdHJsLnNlbGVjdE5leHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICAgIHZhciBmb3JtID0gYW5ndWxhci5lbGVtZW50KCRtZFV0aWwuZ2V0Q2xvc2VzdChlbGVtZW50WzBdLCAnZm9ybScpKTtcbiAgICAgICAgICBpZiAoZm9ybS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3JtLnRyaWdnZXJIYW5kbGVyKCdzdWJtaXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmdDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuXG4gICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICAgICAgJ3JvbGUnOiAncmFkaW9ncm91cCcsXG4gICAgICAgICAgICAgICd0YWJJbmRleCc6IGVsZW1lbnQuYXR0cigndGFiaW5kZXgnKSB8fCAnMCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBSYWRpb0dyb3VwQ29udHJvbGxlcigkZWxlbWVudCkge1xuICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zID0gW107XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUmFkaW9Hcm91cENvbnRyb2xsZXJQcm90bygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdDogZnVuY3Rpb24obmdNb2RlbEN0cmwpIHtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwuJHJlbmRlciA9IGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLnJlbmRlcik7XG4gICAgICB9LFxuICAgICAgYWRkOiBmdW5jdGlvbihyYlJlbmRlcikge1xuICAgICAgICB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucy5wdXNoKHJiUmVuZGVyKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKHJiUmVuZGVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLmluZGV4T2YocmJSZW5kZXIpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLmZvckVhY2goZnVuY3Rpb24ocmJSZW5kZXIpIHtcbiAgICAgICAgICByYlJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBldmVudFR5cGUpIHtcbiAgICAgICAgdGhpcy5fbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnRUeXBlKTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBvdGhlciByYWRpbyBidXR0b25zIGFzIHdlbGxcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sXG4gICAgICBnZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3ROZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVNlbGVjdGVkQnV0dG9uKHRoaXMuJGVsZW1lbnQsIDEpO1xuICAgICAgfSxcbiAgICAgIHNlbGVjdFByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVNlbGVjdGVkQnV0dG9uKHRoaXMuJGVsZW1lbnQsIC0xKTtcbiAgICAgIH0sXG4gICAgICBzZXRBY3RpdmVEZXNjZW5kYW50OiBmdW5jdGlvbiAocmFkaW9JZCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIHJhZGlvSWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgcmFkaW8gZ3JvdXAncyBzZWxlY3RlZCBidXR0b24gYnkgYSBnaXZlbiBpbmNyZW1lbnQuXG4gICAqIElmIG5vIGJ1dHRvbiBpcyBzZWxlY3RlZCwgc2VsZWN0IHRoZSBmaXJzdCBidXR0b24uXG4gICAqL1xuICBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZEJ1dHRvbihwYXJlbnQsIGluY3JlbWVudCkge1xuICAgIC8vIENvZXJjZSBhbGwgY2hpbGQgcmFkaW8gYnV0dG9ucyBpbnRvIGFuIGFycmF5LCB0aGVuIHdyYXAgdGhlbiBpbiBhbiBpdGVyYXRvclxuICAgIHZhciBidXR0b25zID0gJG1kVXRpbC5pdGVyYXRvcihwYXJlbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnbWQtcmFkaW8tYnV0dG9uJyksIHRydWUpO1xuXG4gICAgaWYgKGJ1dHRvbnMuY291bnQoKSkge1xuICAgICAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgICAgICAvLyBJZiBkaXNhYmxlZCwgdGhlbiBOT1QgdmFsaWRcbiAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVsZW1lbnQoYnV0dG9uKS5hdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICB9O1xuICAgICAgdmFyIHNlbGVjdGVkID0gcGFyZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ21kLXJhZGlvLWJ1dHRvbi5tZC1jaGVja2VkJyk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYnV0dG9uc1tpbmNyZW1lbnQgPCAwID8gJ3ByZXZpb3VzJyA6ICduZXh0J10oc2VsZWN0ZWQsIHZhbGlkYXRlKSB8fCBidXR0b25zLmZpcnN0KCk7XG4gICAgICAvLyBBY3RpdmF0ZSByYWRpb0J1dHRvbidzIGNsaWNrIGxpc3RlbmVyICh0cmlnZ2VySGFuZGxlciB3b24ndCBjcmVhdGUgYSByZWFsIGNsaWNrIGV2ZW50KVxuICAgICAgYW5ndWxhci5lbGVtZW50KHRhcmdldCkudHJpZ2dlckhhbmRsZXIoJ2NsaWNrJyk7XG5cblxuICAgIH1cbiAgfVxuXG59XG5tZFJhZGlvR3JvdXBEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIl07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uXG4gKiBAbmFtZSBtZFJhZGlvQnV0dG9uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gZGlyZWN0aXZlIGlzIHRoZSBjaGlsZCBkaXJlY3RpdmUgcmVxdWlyZWQgdG8gYmUgdXNlZCB3aXRoaW4gYDxtZC1yYWRpby1ncm91cD5gIGVsZW1lbnRzLlxuICpcbiAqIFdoaWxlIHNpbWlsYXIgdG8gdGhlIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJcIiB2YWx1ZT1cIlwiPmAgZGlyZWN0aXZlLFxuICogdGhlIGA8bWQtcmFkaW8tYnV0dG9uPmAgZGlyZWN0aXZlIHByb3ZpZGVzIGluayBlZmZlY3RzLCBBUklBIHN1cHBvcnQsIGFuZFxuICogc3VwcG9ydHMgdXNlIHdpdGhpbiBuYW1lZCByYWRpbyBncm91cHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG5nVmFsdWUgQW5ndWxhciBleHByZXNzaW9uIHdoaWNoIHNldHMgdGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZFxuICogICAgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IGFyaWFMYWJlbCBBZGRzIGxhYmVsIHRvIHJhZGlvIGJ1dHRvbiBmb3IgYWNjZXNzaWJpbGl0eS5cbiAqIERlZmF1bHRzIHRvIHJhZGlvIGJ1dHRvbidzIHRleHQuIElmIG5vIHRleHQgY29udGVudCBpcyBhdmFpbGFibGUsIGEgd2FybmluZyB3aWxsIGJlIGxvZ2dlZC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKlxuICogPG1kLXJhZGlvLWJ1dHRvbiB2YWx1ZT1cIjFcIiBhcmlhLWxhYmVsPVwiTGFiZWwgMVwiPlxuICogICBMYWJlbCAxXG4gKiA8L21kLXJhZGlvLWJ1dHRvbj5cbiAqXG4gKiA8bWQtcmFkaW8tYnV0dG9uIG5nLW1vZGVsPVwiY29sb3JcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiIGFyaWEtbGFiZWw9XCJHcmVlblwiPlxuICogICBHcmVlblxuICogPC9tZC1yYWRpby1idXR0b24+XG4gKlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gbWRSYWRpb0J1dHRvbkRpcmVjdGl2ZSgkbWRBcmlhLCAkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG5cbiAgdmFyIENIRUNLRURfQ1NTID0gJ21kLWNoZWNrZWQnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiAnXm1kUmFkaW9Hcm91cCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtZC1jb250YWluZXJcIiBtZC1pbmstcmlwcGxlIG1kLWluay1yaXBwbGUtY2hlY2tib3g+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1vZmZcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLW9uXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZSBjbGFzcz1cIm1kLWxhYmVsXCI+PC9kaXY+JyxcbiAgICBsaW5rOiBsaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgcmdDdHJsKSB7XG4gICAgdmFyIGxhc3RDaGVja2VkO1xuXG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICBjb25maWd1cmVBcmlhKGVsZW1lbnQsIHNjb3BlKTtcblxuICAgIHJnQ3RybC5hZGQocmVuZGVyKTtcbiAgICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIHJlbmRlcik7XG5cbiAgICBlbGVtZW50XG4gICAgICAub24oJ2NsaWNrJywgbGlzdGVuZXIpXG4gICAgICAub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJnQ3RybC5yZW1vdmUocmVuZGVyKTtcbiAgICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoZXYpIHtcbiAgICAgIGlmIChlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJnQ3RybC5zZXRWaWV3VmFsdWUoYXR0ci52YWx1ZSwgZXYgJiYgZXYudHlwZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY2hlY2tlZCA9IChyZ0N0cmwuZ2V0Vmlld1ZhbHVlKCkgPT0gYXR0ci52YWx1ZSk7XG4gICAgICBpZiAoY2hlY2tlZCA9PT0gbGFzdENoZWNrZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGFzdENoZWNrZWQgPSBjaGVja2VkO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWNoZWNrZWQnLCBjaGVja2VkKTtcbiAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgICByZ0N0cmwuc2V0QWN0aXZlRGVzY2VuZGFudChlbGVtZW50LmF0dHIoJ2lkJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhDSEVDS0VEX0NTUyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluamVjdCBBUklBLXNwZWNpZmljIGF0dHJpYnV0ZXMgYXBwcm9wcmlhdGUgZm9yIGVhY2ggcmFkaW8gYnV0dG9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZmlndXJlQXJpYSggZWxlbWVudCwgc2NvcGUgKXtcbiAgICAgIHNjb3BlLmFyaWFJZCA9IGJ1aWxkQXJpYUlEKCk7XG5cbiAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdpZCcgOiAgc2NvcGUuYXJpYUlkLFxuICAgICAgICAncm9sZScgOiAncmFkaW8nLFxuICAgICAgICAnYXJpYS1jaGVja2VkJyA6ICdmYWxzZSdcbiAgICAgIH0pO1xuXG4gICAgICAkbWRBcmlhLmV4cGVjdFdpdGhUZXh0KGVsZW1lbnQsICdhcmlhLWxhYmVsJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQnVpbGQgYSB1bmlxdWUgSUQgZm9yIGVhY2ggcmFkaW8gYnV0dG9uIHRoYXQgd2lsbCBiZSB1c2VkIHdpdGggYXJpYS1hY3RpdmVkZXNjZW5kYW50LlxuICAgICAgICogUHJlc2VydmUgZXhpc3RpbmcgSUQgaWYgYWxyZWFkeSBzcGVjaWZpZWQuXG4gICAgICAgKiBAcmV0dXJucyB7KnxzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGJ1aWxkQXJpYUlEKCkge1xuICAgICAgICByZXR1cm4gYXR0ci5pZCB8fCAoICdyYWRpbycgKyBcIl9cIiArICRtZFV0aWwubmV4dFVpZCgpICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5tZFJhZGlvQnV0dG9uRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRBcmlhXCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIFNpZGVuYXYgUVAgY29tcG9uZW50LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2JywgW1xuICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbiAgXSlcbiAgLmZhY3RvcnkoJyRtZFNpZGVuYXYnLCBTaWRlbmF2U2VydmljZSApXG4gIC5kaXJlY3RpdmUoJ21kU2lkZW5hdicsIFNpZGVuYXZEaXJlY3RpdmUpXG4gIC5jb250cm9sbGVyKCckbWRTaWRlbmF2Q29udHJvbGxlcicsIFNpZGVuYXZDb250cm9sbGVyKTtcblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kU2lkZW5hdlxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRTaWRlbmF2YCBtYWtlcyBpdCBlYXN5IHRvIGludGVyYWN0IHdpdGggbXVsdGlwbGUgc2lkZW5hdnNcbiAqIGluIGFuIGFwcC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogLy8gVG9nZ2xlIHRoZSBnaXZlbiBzaWRlbmF2XG4gKiAkbWRTaWRlbmF2KGNvbXBvbmVudElkKS50b2dnbGUoKTtcbiAqIDwvaGxqcz5cbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogLy8gT3BlbiB0aGUgZ2l2ZW4gc2lkZW5hdlxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkub3BlbigpO1xuICogPC9obGpzPlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAvLyBDbG9zZSB0aGUgZ2l2ZW4gc2lkZW5hdlxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkuY2xvc2UoKTtcbiAqIDwvaGxqcz5cbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogLy8gRXhwb3NlcyB3aGV0aGVyIGdpdmVuIHNpZGVuYXYgaXMgc2V0IHRvIGJlIG9wZW5cbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLmlzT3BlbigpO1xuICogPC9obGpzPlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAvLyBFeHBvc2VzIHdoZXRoZXIgZ2l2ZW4gc2lkZW5hdiBpcyBsb2NrZWQgb3BlblxuICogLy8gSWYgdGhpcyBpcyB0cnVlLCB0aGUgc2lkZW5hdiB3aWxsIGJlIG9wZW4gcmVnYXJkbGVzcyBvZiBpc09wZW4oKVxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkuaXNMb2NrZWRPcGVuKCk7XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZTZXJ2aWNlKCRtZENvbXBvbmVudFJlZ2lzdHJ5LCAkcSkge1xuICByZXR1cm4gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgdmFyIGVycm9yTXNnID0gXCJTaWRlTmF2ICdcIiArIGhhbmRsZSArIFwiJyBpcyBub3QgYXZhaWxhYmxlIVwiO1xuXG4gICAgLy8gTG9va3VwIHRoZSBjb250cm9sbGVyIGluc3RhbmNlIGZvciB0aGUgc3BlY2lmaWVkIHNpZE5hdiBpbnN0YW5jZVxuICAgIHZhciBpbnN0YW5jZSA9ICRtZENvbXBvbmVudFJlZ2lzdHJ5LmdldChoYW5kbGUpO1xuICAgIGlmKCFpbnN0YW5jZSkge1xuICAgICAgJG1kQ29tcG9uZW50UmVnaXN0cnkubm90Rm91bmRFcnJvcihoYW5kbGUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNPcGVuKCk7XG4gICAgICB9LFxuICAgICAgaXNMb2NrZWRPcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmlzTG9ja2VkT3BlbigpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSA/IGluc3RhbmNlLnRvZ2dsZSgpIDogJHEucmVqZWN0KGVycm9yTXNnKTtcbiAgICAgIH0sXG4gICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlID8gaW5zdGFuY2Uub3BlbigpIDogJHEucmVqZWN0KGVycm9yTXNnKTtcbiAgICAgIH0sXG4gICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSA/IGluc3RhbmNlLmNsb3NlKCkgOiAkcS5yZWplY3QoZXJyb3JNc2cpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5TaWRlbmF2U2VydmljZS4kaW5qZWN0ID0gW1wiJG1kQ29tcG9uZW50UmVnaXN0cnlcIiwgXCIkcVwiXTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFNpZGVuYXZcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEEgU2lkZW5hdiBjb21wb25lbnQgdGhhdCBjYW4gYmUgb3BlbmVkIGFuZCBjbG9zZWQgcHJvZ3JhbWF0aWNhbGx5LlxuICpcbiAqIEJ5IGRlZmF1bHQsIHVwb24gb3BlbmluZyBpdCB3aWxsIHNsaWRlIG91dCBvbiB0b3Agb2YgdGhlIG1haW4gY29udGVudCBhcmVhLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbGF5b3V0PVwicm93XCIgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtc2lkZW5hdiBtZC1jb21wb25lbnQtaWQ9XCJsZWZ0XCIgY2xhc3M9XCJtZC1zaWRlbmF2LWxlZnRcIj5cbiAqICAgICBMZWZ0IE5hdiFcbiAqICAgPC9tZC1zaWRlbmF2PlxuICpcbiAqICAgPG1kLWNvbnRlbnQ+XG4gKiAgICAgQ2VudGVyIENvbnRlbnRcbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlbkxlZnRNZW51KClcIj5cbiAqICAgICAgIE9wZW4gTGVmdCBNZW51XG4gKiAgICAgPC9tZC1idXR0b24+XG4gKiAgIDwvbWQtY29udGVudD5cbiAqXG4gKiAgIDxtZC1zaWRlbmF2IG1kLWNvbXBvbmVudC1pZD1cInJpZ2h0XCJcbiAqICAgICBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZWRpYSgnbWluLXdpZHRoOiAzMzNweCcpXCJcbiAqICAgICBjbGFzcz1cIm1kLXNpZGVuYXYtcmlnaHRcIj5cbiAqICAgICBSaWdodCBOYXYhXG4gKiAgIDwvbWQtc2lkZW5hdj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFNpZGVuYXYpIHtcbiAqICAgJHNjb3BlLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uKCkge1xuICogICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAqICAgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLW9wZW4gQSBtb2RlbCBib3VuZCB0byB3aGV0aGVyIHRoZSBzaWRlbmF2IGlzIG9wZW5lZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtY29tcG9uZW50LWlkIGNvbXBvbmVudElkIHRvIHVzZSB3aXRoICRtZFNpZGVuYXYgc2VydmljZS5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLWxvY2tlZC1vcGVuIFdoZW4gdGhpcyBleHByZXNzaW9uIGV2YWx1dGVzIHRvIHRydWUsXG4gKiB0aGUgc2lkZW5hdiAnbG9ja3Mgb3Blbic6IGl0IGZhbGxzIGludG8gdGhlIGNvbnRlbnQncyBmbG93IGluc3RlYWRcbiAqIG9mIGFwcGVhcmluZyBvdmVyIGl0LiBUaGlzIG92ZXJyaWRlcyB0aGUgYGlzLW9wZW5gIGF0dHJpYnV0ZS5cbiAqXG4gKiBBICRtZWRpYSgpIGZ1bmN0aW9uIGlzIGV4cG9zZWQgdG8gdGhlIGlzLWxvY2tlZC1vcGVuIGF0dHJpYnV0ZSwgd2hpY2hcbiAqIGNhbiBiZSBnaXZlbiBhIG1lZGlhIHF1ZXJ5IG9yIG9uZSBvZiB0aGUgYHNtYCwgYGd0LXNtYCwgYG1kYCwgYGd0LW1kYCwgYGxnYCBvciBgZ3QtbGdgIHByZXNldHMuXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIC0gYDxtZC1zaWRlbmF2IG1kLWlzLWxvY2tlZC1vcGVuPVwic2hvdWxkTG9ja09wZW5cIj48L21kLXNpZGVuYXY+YFxuICogICAtIGA8bWQtc2lkZW5hdiBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZWRpYSgnbWluLXdpZHRoOiAxMDAwcHgnKVwiPjwvbWQtc2lkZW5hdj5gXG4gKiAgIC0gYDxtZC1zaWRlbmF2IG1kLWlzLWxvY2tlZC1vcGVuPVwiJG1lZGlhKCdzbScpXCI+PC9tZC1zaWRlbmF2PmAgKGxvY2tzIG9wZW4gb24gc21hbGwgc2NyZWVucylcbiAqL1xuZnVuY3Rpb24gU2lkZW5hdkRpcmVjdGl2ZSgkdGltZW91dCwgJGFuaW1hdGUsICRwYXJzZSwgJG1kTWVkaWEsICRtZENvbnN0YW50LCAkY29tcGlsZSwgJG1kVGhlbWluZywgJHEsICRkb2N1bWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgc2NvcGU6IHtcbiAgICAgIGlzT3BlbjogJz0/bWRJc09wZW4nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnJG1kU2lkZW5hdkNvbnRyb2xsZXInLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWNsb3NlZCcpO1xuICAgICAgZWxlbWVudC5hdHRyKCd0YWJJbmRleCcsICctMScpO1xuICAgICAgcmV0dXJuIHBvc3RMaW5rO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlyZWN0aXZlIFBvc3QgTGluayBmdW5jdGlvbi4uLlxuICAgKi9cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIHNpZGVuYXZDdHJsKSB7XG4gICAgdmFyIHRyaWdnZXJpbmdFbGVtZW50ID0gbnVsbDtcbiAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4odHJ1ZSk7XG5cbiAgICB2YXIgaXNMb2NrZWRPcGVuUGFyc2VkID0gJHBhcnNlKGF0dHIubWRJc0xvY2tlZE9wZW4pO1xuICAgIHZhciBpc0xvY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzTG9ja2VkT3BlblBhcnNlZChzY29wZS4kcGFyZW50LCB7XG4gICAgICAgICRtZWRpYTogJG1kTWVkaWFcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGJhY2tkcm9wID0gJGNvbXBpbGUoXG4gICAgICAnPG1kLWJhY2tkcm9wIGNsYXNzPVwibWQtc2lkZW5hdi1iYWNrZHJvcCBtZC1vcGFxdWUgbmctZW50ZXJcIj4nXG4gICAgKShzY29wZSk7XG5cbiAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIHNpZGVuYXZDdHJsLmRlc3Ryb3kpO1xuICAgICRtZFRoZW1pbmcuaW5oZXJpdChiYWNrZHJvcCwgZWxlbWVudCk7XG5cbiAgICBzY29wZS4kd2F0Y2goaXNMb2NrZWQsIHVwZGF0ZUlzTG9ja2VkKTtcbiAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIHVwZGF0ZUlzT3Blbik7XG5cblxuICAgIC8vIFB1Ymxpc2ggc3BlY2lhbCBhY2Nlc3NvciBmb3IgdGhlIENvbnRyb2xsZXIgaW5zdGFuY2VcbiAgICBzaWRlbmF2Q3RybC4kdG9nZ2xlT3BlbiA9IHRvZ2dsZU9wZW47XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIERPTSBjbGFzc2VzIHRvIGluZGljYXRlIGBsb2NrZWRgXG4gICAgICogQHBhcmFtIGlzTG9ja2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlSXNMb2NrZWQoaXNMb2NrZWQsIG9sZFZhbHVlKSB7XG4gICAgICBzY29wZS5pc0xvY2tlZE9wZW4gPSBpc0xvY2tlZDtcbiAgICAgIGlmIChpc0xvY2tlZCA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcygnbWQtbG9ja2VkLW9wZW4nLCAhIWlzTG9ja2VkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhbmltYXRlW2lzTG9ja2VkID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsICdtZC1sb2NrZWQtb3BlbicpO1xuICAgICAgfVxuICAgICAgYmFja2Ryb3AudG9nZ2xlQ2xhc3MoJ21kLWxvY2tlZC1vcGVuJywgISFpc0xvY2tlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBTaWRlTmF2IHZpZXcgYW5kIGF0dGFjaC9kZXRhY2ggbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIGlzT3BlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUlzT3Blbihpc09wZW4pIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuXG4gICAgICBwYXJlbnRbaXNPcGVuID8gJ29uJyA6ICdvZmYnXSgna2V5ZG93bicsIG9uS2V5RG93bik7XG4gICAgICBiYWNrZHJvcFtpc09wZW4gPyAnb24nIDogJ29mZiddKCdjbGljaycsIGNsb3NlKTtcblxuICAgICAgaWYgKCBpc09wZW4gKSB7XG4gICAgICAgIC8vIENhcHR1cmUgdXBvbiBvcGVuaW5nLi5cbiAgICAgICAgdHJpZ2dlcmluZ0VsZW1lbnQgPSAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2UgPSAkcS5hbGwoW1xuICAgICAgICAkYW5pbWF0ZVtpc09wZW4gPyAnZW50ZXInIDogJ2xlYXZlJ10oYmFja2Ryb3AsIHBhcmVudCksXG4gICAgICAgICRhbmltYXRlW2lzT3BlbiA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShlbGVtZW50LCAnbWQtY2xvc2VkJykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBvcGVuZWQsIGFuZCBoYXZlbid0IGNsb3NlZCBhZ2FpbiBiZWZvcmUgdGhlIGFuaW1hdGlvbiBmaW5pc2hlZFxuICAgICAgICAgIGlmIChzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIHNpZGVOYXYgdmlldyBhbmQgcHVibGlzaCBhIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2hlblxuICAgICAqIHRoZSB2aWV3IGFuaW1hdGlvbiBmaW5pc2hlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc09wZW5cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGVPcGVuKCBpc09wZW4gKSB7XG4gICAgICBpZiAoc2NvcGUuaXNPcGVuID09IGlzT3BlbiApIHtcblxuICAgICAgICByZXR1cm4gJHEud2hlbih0cnVlKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAvLyBUb2dnbGUgdmFsdWUgdG8gZm9yY2UgYW4gYXN5bmMgYHVwZGF0ZUlzT3BlbigpYCB0byBydW5cbiAgICAgICAgc2NvcGUuaXNPcGVuID0gaXNPcGVuO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgLy8gV2hlbiB0aGUgY3VycmVudCBgdXBkYXRlSXNPcGVuKClgIGFuaW1hdGlvbiBmaW5pc2hlc1xuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuXG4gICAgICAgICAgICBpZiAoICFzY29wZS5pc09wZW4gKSB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IGZvY3VzIHRvIG9yaWdpbmF0aW5nIGVsZW1lbnQgKGlmIGF2YWlsYWJsZSkgdXBvbiBjbG9zZVxuICAgICAgICAgICAgICB0cmlnZ2VyaW5nRWxlbWVudCAmJiB0cmlnZ2VyaW5nRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICB0cmlnZ2VyaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9LDAsZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF1dG8tY2xvc2Ugc2lkZU5hdiB3aGVuIHRoZSBgZXNjYXBlYCBrZXkgaXMgcHJlc3NlZC5cbiAgICAgKiBAcGFyYW0gZXZ0XG4gICAgICovXG4gICAgZnVuY3Rpb24gb25LZXlEb3duKGV2KSB7XG4gICAgICB2YXIgaXNFc2NhcGUgPSAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFKTtcbiAgICAgIHJldHVybiBpc0VzY2FwZSA/IGNsb3NlKGV2KSA6ICRxLndoZW4odHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2l0aCBiYWNrZHJvcCBgY2xpY2tzYCBvciBgZXNjYXBlYCBrZXktcHJlc3MsIGltbWVkaWF0ZWx5XG4gICAgICogYXBwbHkgdGhlIENTUyBjbG9zZSB0cmFuc2l0aW9uLi4uIFRoZW4gbm90aWZ5IHRoZSBjb250cm9sbGVyXG4gICAgICogdG8gY2xvc2UoKSBhbmQgcGVyZm9ybSBpdHMgb3duIGFjdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvc2UoZXYpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgcmV0dXJuIHNpZGVuYXZDdHJsLmNsb3NlKCk7XG4gICAgfVxuXG4gIH1cbn1cblNpZGVuYXZEaXJlY3RpdmUuJGluamVjdCA9IFtcIiR0aW1lb3V0XCIsIFwiJGFuaW1hdGVcIiwgXCIkcGFyc2VcIiwgXCIkbWRNZWRpYVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJGNvbXBpbGVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJHFcIiwgXCIkZG9jdW1lbnRcIl07XG5cbi8qXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIGNvbnRyb2xsZXJcbiAqIEBuYW1lIFNpZGVuYXZDb250cm9sbGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICpcbiAqL1xuZnVuY3Rpb24gU2lkZW5hdkNvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkbWRDb21wb25lbnRSZWdpc3RyeSwgJHEpIHtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gVXNlIERlZmF1bHQgaW50ZXJuYWwgbWV0aG9kIHVudGlsIG92ZXJyaWRkZW4gYnkgZGlyZWN0aXZlIHBvc3RMaW5rXG5cbiAgc2VsZi4kdG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gJHEud2hlbigkc2NvcGUuaXNPcGVuKTsgfTtcbiAgc2VsZi5pc09wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICEhJHNjb3BlLmlzT3BlbjsgfTtcbiAgc2VsZi5pc0xvY2tlZE9wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICEhJHNjb3BlLmlzTG9ja2VkT3BlbjsgfTtcbiAgc2VsZi5vcGVuICAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuJHRvZ2dsZU9wZW4oIHRydWUgKTsgIH07XG4gIHNlbGYuY2xvc2UgID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLiR0b2dnbGVPcGVuKCBmYWxzZSApOyB9O1xuICBzZWxmLnRvZ2dsZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi4kdG9nZ2xlT3BlbiggISRzY29wZS5pc09wZW4gKTsgIH07XG5cbiAgc2VsZi5kZXN0cm95ID0gJG1kQ29tcG9uZW50UmVnaXN0cnkucmVnaXN0ZXIoc2VsZiwgJGF0dHJzLm1kQ29tcG9uZW50SWQpO1xufVxuU2lkZW5hdkNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJG1kQ29tcG9uZW50UmVnaXN0cnlcIiwgXCIkcVwiXTtcblxuXG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIG1vZHVsZVxuICAgKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnNsaWRlclxuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyJywgW1xuICAgICdtYXRlcmlhbC5jb3JlJ1xuICBdKVxuICAuZGlyZWN0aXZlKCdtZFNsaWRlcicsIFNsaWRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTbGlkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXNsaWRlcj5gIGNvbXBvbmVudCBhbGxvd3MgdGhlIHVzZXIgdG8gY2hvb3NlIGZyb20gYSByYW5nZSBvZlxuICogdmFsdWVzLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBzbGlkZXIgaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogSXQgaGFzIHR3byBtb2RlczogJ25vcm1hbCcgbW9kZSwgd2hlcmUgdGhlIHVzZXIgc2xpZGVzIGJldHdlZW4gYSB3aWRlIHJhbmdlXG4gKiBvZiB2YWx1ZXMsIGFuZCAnZGlzY3JldGUnIG1vZGUsIHdoZXJlIHRoZSB1c2VyIHNsaWRlcyBiZXR3ZWVuIG9ubHkgYSBmZXdcbiAqIHNlbGVjdCB2YWx1ZXMuXG4gKlxuICogVG8gZW5hYmxlIGRpc2NyZXRlIG1vZGUsIGFkZCB0aGUgYG1kLWRpc2NyZXRlYCBhdHRyaWJ1dGUgdG8gYSBzbGlkZXIsXG4gKiBhbmQgdXNlIHRoZSBgc3RlcGAgYXR0cmlidXRlIHRvIGNoYW5nZSB0aGUgZGlzdGFuY2UgYmV0d2VlblxuICogdmFsdWVzIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxoND5Ob3JtYWwgTW9kZTwvaDQ+XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXNsaWRlciBuZy1tb2RlbD1cIm15VmFsdWVcIiBtaW49XCI1XCIgbWF4PVwiNTAwXCI+XG4gKiA8L21kLXNsaWRlcj5cbiAqIDwvaGxqcz5cbiAqIDxoND5EaXNjcmV0ZSBNb2RlPC9oND5cbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtc2xpZGVyIG1kLWRpc2NyZXRlIG5nLW1vZGVsPVwibXlEaXNjcmV0ZVZhbHVlXCIgc3RlcD1cIjEwXCIgbWluPVwiMTBcIiBtYXg9XCIxMzBcIj5cbiAqIDwvbWQtc2xpZGVyPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWRpc2NyZXRlIFdoZXRoZXIgdG8gZW5hYmxlIGRpc2NyZXRlIG1vZGUuXG4gKiBAcGFyYW0ge251bWJlcj19IHN0ZXAgVGhlIGRpc3RhbmNlIGJldHdlZW4gdmFsdWVzIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay4gRGVmYXVsdCAxLlxuICogQHBhcmFtIHtudW1iZXI9fSBtaW4gVGhlIG1pbmltdW0gdmFsdWUgdGhlIHVzZXIgaXMgYWxsb3dlZCB0byBwaWNrLiBEZWZhdWx0IDAuXG4gKiBAcGFyYW0ge251bWJlcj19IG1heCBUaGUgbWF4aW11bSB2YWx1ZSB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suIERlZmF1bHQgMTAwLlxuICovXG5mdW5jdGlvbiBTbGlkZXJEaXJlY3RpdmUoJCRyQUYsICR3aW5kb3csICRtZEFyaWEsICRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkbWRHZXN0dXJlLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge30sXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtc2xpZGVyLXdyYXBwZXJcIj5cXFxuICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdHJhY2stY29udGFpbmVyXCI+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdHJhY2tcIj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC10cmFjayBtZC10cmFjay1maWxsXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdHJhY2stdGlja3NcIj48L2Rpdj5cXFxuICAgICAgICA8L2Rpdj5cXFxuICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdGh1bWItY29udGFpbmVyXCI+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdGh1bWJcIj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1mb2N1cy10aHVtYlwiPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWZvY3VzLXJpbmdcIj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1zaWduXCI+XFxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWQtdGh1bWItdGV4dFwiPjwvc3Bhbj5cXFxuICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWRpc2FibGVkLXRodW1iXCI+PC9kaXY+XFxcbiAgICAgICAgPC9kaXY+XFxcbiAgICAgIDwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBmdW5jdGlvbiBjb21waWxlICh0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgdEVsZW1lbnQuYXR0cih7XG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIHJvbGU6ICdzbGlkZXInXG4gICAgfSk7XG5cbiAgICAkbWRBcmlhLmV4cGVjdCh0RWxlbWVudCwgJ2FyaWEtbGFiZWwnKTtcblxuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsQ3RybCkge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybCB8fCB7XG4gICAgICAvLyBNb2NrIG5nTW9kZWxDb250cm9sbGVyIGlmIGl0IGRvZXNuJ3QgZXhpc3QgdG8gZ2l2ZSB1c1xuICAgICAgLy8gdGhlIG1pbmltdW0gZnVuY3Rpb25hbGl0eSBuZWVkZWRcbiAgICAgICRzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWw7XG4gICAgICAgIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihjYikgeyBjYigpOyB9KTtcbiAgICAgIH0sXG4gICAgICAkcGFyc2VyczogW10sXG4gICAgICAkZm9ybWF0dGVyczogW10sXG4gICAgICAkdmlld0NoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuXG4gICAgdmFyIGlzRGlzYWJsZWRQYXJzZWQgPSBhdHRyLm5nRGlzYWJsZWQgJiYgJHBhcnNlKGF0dHIubmdEaXNhYmxlZCk7XG4gICAgdmFyIGlzRGlzYWJsZWRHZXR0ZXIgPSBpc0Rpc2FibGVkUGFyc2VkID9cbiAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNEaXNhYmxlZFBhcnNlZChzY29wZS4kcGFyZW50KTsgfSA6XG4gICAgICBhbmd1bGFyLm5vb3A7XG4gICAgdmFyIHRodW1iID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iJykpO1xuICAgIHZhciB0aHVtYlRleHQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdGh1bWItdGV4dCcpKTtcbiAgICB2YXIgdGh1bWJDb250YWluZXIgPSB0aHVtYi5wYXJlbnQoKTtcbiAgICB2YXIgdHJhY2tDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdHJhY2stY29udGFpbmVyJykpO1xuICAgIHZhciBhY3RpdmVUcmFjayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10cmFjay1maWxsJykpO1xuICAgIHZhciB0aWNrQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRyYWNrLXRpY2tzJykpO1xuICAgIHZhciB0aHJvdHRsZWRSZWZyZXNoRGltZW5zaW9ucyA9ICRtZFV0aWwudGhyb3R0bGUocmVmcmVzaFNsaWRlckRpbWVuc2lvbnMsIDUwMDApO1xuXG4gICAgLy8gRGVmYXVsdCB2YWx1ZXMsIG92ZXJyaWRhYmxlIGJ5IGF0dHJzXG4gICAgYXR0ci5taW4gPyBhdHRyLiRvYnNlcnZlKCdtaW4nLCB1cGRhdGVNaW4pIDogdXBkYXRlTWluKDApO1xuICAgIGF0dHIubWF4ID8gYXR0ci4kb2JzZXJ2ZSgnbWF4JywgdXBkYXRlTWF4KSA6IHVwZGF0ZU1heCgxMDApO1xuICAgIGF0dHIuc3RlcCA/IGF0dHIuJG9ic2VydmUoJ3N0ZXAnLCB1cGRhdGVTdGVwKSA6IHVwZGF0ZVN0ZXAoMSk7XG5cbiAgICAvLyBXZSBoYXZlIHRvIG1hbnVhbGx5IHN0b3AgdGhlICR3YXRjaCBvbiBuZ0Rpc2FibGVkIGJlY2F1c2UgaXQgZXhpc3RzXG4gICAgLy8gb24gdGhlIHBhcmVudCBzY29wZSwgYW5kIHdvbid0IGJlIGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW5cbiAgICAvLyB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZC5cbiAgICB2YXIgc3RvcERpc2FibGVkV2F0Y2ggPSBhbmd1bGFyLm5vb3A7XG4gICAgaWYgKGF0dHIubmdEaXNhYmxlZCkge1xuICAgICAgc3RvcERpc2FibGVkV2F0Y2ggPSBzY29wZS4kcGFyZW50LiR3YXRjaChhdHRyLm5nRGlzYWJsZWQsIHVwZGF0ZUFyaWFEaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgJG1kR2VzdHVyZS5yZWdpc3RlcihlbGVtZW50LCAnZHJhZycpO1xuXG4gICAgZWxlbWVudFxuICAgICAgLm9uKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKVxuICAgICAgLm9uKCckbWQucHJlc3Nkb3duJywgb25QcmVzc0Rvd24pXG4gICAgICAub24oJyRtZC5wcmVzc3VwJywgb25QcmVzc1VwKVxuICAgICAgLm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAub24oJyRtZC5kcmFnJywgb25EcmFnKVxuICAgICAgLm9uKCckbWQuZHJhZ2VuZCcsIG9uRHJhZ0VuZCk7XG5cbiAgICAvLyBPbiByZXNpemUsIHJlY2FsY3VsYXRlIHRoZSBzbGlkZXIncyBkaW1lbnNpb25zIGFuZCByZS1yZW5kZXJcbiAgICBmdW5jdGlvbiB1cGRhdGVBbGwoKSB7XG4gICAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuICAgICAgbmdNb2RlbFJlbmRlcigpO1xuICAgICAgcmVkcmF3VGlja3MoKTtcbiAgICB9XG4gICAgc2V0VGltZW91dCh1cGRhdGVBbGwpO1xuXG4gICAgdmFyIGRlYm91bmNlZFVwZGF0ZUFsbCA9ICQkckFGLnRocm90dGxlKHVwZGF0ZUFsbCk7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVBbGwpO1xuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZGVib3VuY2VkVXBkYXRlQWxsKTtcbiAgICAgIHN0b3BEaXNhYmxlZFdhdGNoKCk7XG4gICAgfSk7XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gbmdNb2RlbFJlbmRlcjtcbiAgICBuZ01vZGVsQ3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKG5nTW9kZWxSZW5kZXIpO1xuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWluTWF4VmFsaWRhdG9yKTtcbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKHN0ZXBWYWxpZGF0b3IpO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlc1xuICAgICAqL1xuICAgIHZhciBtaW47XG4gICAgdmFyIG1heDtcbiAgICB2YXIgc3RlcDtcbiAgICBmdW5jdGlvbiB1cGRhdGVNaW4odmFsdWUpIHtcbiAgICAgIG1pbiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWluJywgdmFsdWUpO1xuICAgICAgdXBkYXRlQWxsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1heCh2YWx1ZSkge1xuICAgICAgbWF4ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCB2YWx1ZSk7XG4gICAgICB1cGRhdGVBbGwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3RlcCh2YWx1ZSkge1xuICAgICAgc3RlcCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgcmVkcmF3VGlja3MoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQXJpYURpc2FibGVkKGlzRGlzYWJsZWQpIHtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1kaXNhYmxlZCcsICEhaXNEaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgdGlja3Mgd2l0aCBjYW52YXMuXG4gICAgLy8gVGhlIGFsdGVybmF0aXZlIHRvIGRyYXdpbmcgdGlja3Mgd2l0aCBjYW52YXMgaXMgdG8gZHJhdyBvbmUgZWxlbWVudCBmb3IgZWFjaCB0aWNrLFxuICAgIC8vIHdoaWNoIGNvdWxkIHF1aWNrbHkgYmVjb21lIGEgcGVyZm9ybWFuY2UgYm90dGxlbmVjay5cbiAgICB2YXIgdGlja0NhbnZhcywgdGlja0N0eDtcbiAgICBmdW5jdGlvbiByZWRyYXdUaWNrcygpIHtcbiAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZERpc2NyZXRlKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgbnVtU3RlcHMgPSBNYXRoLmZsb29yKCAobWF4IC0gbWluKSAvIHN0ZXAgKTtcbiAgICAgIGlmICghdGlja0NhbnZhcykge1xuICAgICAgICB2YXIgdHJhY2tUaWNrc1N0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRpY2tDb250YWluZXJbMF0pO1xuICAgICAgICB0aWNrQ2FudmFzID0gYW5ndWxhci5lbGVtZW50KCc8Y2FudmFzIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7XCI+Jyk7XG4gICAgICAgIHRpY2tDdHggPSB0aWNrQ2FudmFzWzBdLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRpY2tDdHguZmlsbFN0eWxlID0gdHJhY2tUaWNrc1N0eWxlLmJhY2tncm91bmRDb2xvciB8fCAnYmxhY2snO1xuICAgICAgICB0aWNrQ29udGFpbmVyLmFwcGVuZCh0aWNrQ2FudmFzKTtcbiAgICAgIH1cbiAgICAgIHZhciBkaW1lbnNpb25zID0gZ2V0U2xpZGVyRGltZW5zaW9ucygpO1xuICAgICAgdGlja0NhbnZhc1swXS53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICB0aWNrQ2FudmFzWzBdLmhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuXG4gICAgICB2YXIgZGlzdGFuY2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBudW1TdGVwczsgaSsrKSB7XG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5mbG9vcihkaW1lbnNpb25zLndpZHRoICogKGkgLyBudW1TdGVwcykpO1xuICAgICAgICB0aWNrQ3R4LmZpbGxSZWN0KGRpc3RhbmNlIC0gMSwgMCwgMiwgZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGluZyBEaW1lbnNpb25zXG4gICAgICovXG4gICAgdmFyIHNsaWRlckRpbWVuc2lvbnMgPSB7fTtcbiAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuICAgIGZ1bmN0aW9uIHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zKCkge1xuICAgICAgc2xpZGVyRGltZW5zaW9ucyA9IHRyYWNrQ29udGFpbmVyWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTbGlkZXJEaW1lbnNpb25zKCkge1xuICAgICAgdGhyb3R0bGVkUmVmcmVzaERpbWVuc2lvbnMoKTtcbiAgICAgIHJldHVybiBzbGlkZXJEaW1lbnNpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxlZnQvcmlnaHQgYXJyb3cgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlkb3duTGlzdGVuZXIoZXYpIHtcbiAgICAgIGlmKGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5nZUFtb3VudDtcbiAgICAgIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5MRUZUX0FSUk9XKSB7XG4gICAgICAgIGNoYW5nZUFtb3VudCA9IC1zdGVwO1xuICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVykge1xuICAgICAgICBjaGFuZ2VBbW91bnQgPSBzdGVwO1xuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZUFtb3VudCkge1xuICAgICAgICBpZiAoZXYubWV0YUtleSB8fCBldi5jdHJsS2V5IHx8IGV2LmFsdEtleSkge1xuICAgICAgICAgIGNoYW5nZUFtb3VudCAqPSA0O1xuICAgICAgICB9XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldE1vZGVsVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSArIGNoYW5nZUFtb3VudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG5nTW9kZWwgc2V0dGVycyBhbmQgdmFsaWRhdG9yc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldE1vZGVsVmFsdWUodmFsdWUpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG1pbk1heFZhbGlkYXRvcihzdGVwVmFsaWRhdG9yKHZhbHVlKSkgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmdNb2RlbFJlbmRlcigpIHtcbiAgICAgIGlmIChpc05hTihuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBwZXJjZW50ID0gKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgICBzY29wZS5tb2RlbFZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW5vdycsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgc2V0U2xpZGVyUGVyY2VudChwZXJjZW50KTtcbiAgICAgIHRodW1iVGV4dC50ZXh0KCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWluTWF4VmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwVmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBlcmNlbnQgMC0xXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0U2xpZGVyUGVyY2VudChwZXJjZW50KSB7XG4gICAgICBhY3RpdmVUcmFjay5jc3MoJ3dpZHRoJywgKHBlcmNlbnQgKiAxMDApICsgJyUnKTtcbiAgICAgIHRodW1iQ29udGFpbmVyLmNzcyhcbiAgICAgICAgJ2xlZnQnLFxuICAgICAgICAocGVyY2VudCAqIDEwMCkgKyAnJSdcbiAgICAgICk7XG4gICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1taW4nLCBwZXJjZW50ID09PSAwKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIGxpc3RlbmVyc1xuICAgICAqL1xuICAgIHZhciBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgdmFyIGlzRGlzY3JldGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1kRGlzY3JldGUpO1xuXG4gICAgZnVuY3Rpb24gb25QcmVzc0Rvd24oZXYpIHtcbiAgICAgIGlmIChpc0Rpc2FibGVkR2V0dGVyKCkpIHJldHVybjtcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuXG4gICAgICB2YXIgZXhhY3RWYWwgPSBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoIGV2LnBvaW50ZXIueCApKTtcbiAgICAgIHZhciBjbG9zZXN0VmFsID0gbWluTWF4VmFsaWRhdG9yKCBzdGVwVmFsaWRhdG9yKGV4YWN0VmFsKSApO1xuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRNb2RlbFZhbHVlKCBjbG9zZXN0VmFsICk7XG4gICAgICAgIHNldFNsaWRlclBlcmNlbnQoIHZhbHVlVG9QZXJjZW50KGNsb3Nlc3RWYWwpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblByZXNzVXAoZXYpIHtcbiAgICAgIGlmIChpc0Rpc2FibGVkR2V0dGVyKCkpIHJldHVybjtcblxuICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZHJhZ2dpbmcgYWN0aXZlJyk7XG5cbiAgICAgIHZhciBleGFjdFZhbCA9IHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCggZXYucG9pbnRlci54ICkpO1xuICAgICAgdmFyIGNsb3Nlc3RWYWwgPSBtaW5NYXhWYWxpZGF0b3IoIHN0ZXBWYWxpZGF0b3IoZXhhY3RWYWwpICk7XG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGVsVmFsdWUoY2xvc2VzdFZhbCk7XG4gICAgICAgIG5nTW9kZWxSZW5kZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRyYWdTdGFydChldikge1xuICAgICAgaWYgKGlzRGlzYWJsZWRHZXR0ZXIoKSkgcmV0dXJuO1xuICAgICAgaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnZHJhZ2dpbmcnKTtcbiAgICAgIHNldFNsaWRlckZyb21FdmVudChldik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHNldFNsaWRlckZyb21FdmVudChldik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRTbGlkZXJGcm9tRXZlbnQoZXYpIHtcbiAgICAgIC8vIFdoaWxlIHBhbm5pbmcgZGlzY3JldGUsIHVwZGF0ZSBvbmx5IHRoZVxuICAgICAgLy8gdmlzdWFsIHBvc2l0aW9uaW5nIGJ1dCBub3QgdGhlIG1vZGVsIHZhbHVlLlxuICAgICAgaWYgKCBpc0Rpc2NyZXRlICkgYWRqdXN0VGh1bWJQb3NpdGlvbiggZXYucG9pbnRlci54ICk7XG4gICAgICBlbHNlICAgICAgICAgICAgICBkb1NsaWRlKCBldi5wb2ludGVyLnggKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGlkZSB0aGUgVUkgYnkgY2hhbmdpbmcgdGhlIG1vZGVsIHZhbHVlXG4gICAgICogQHBhcmFtIHhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb1NsaWRlKCB4ICkge1xuICAgICAgc2NvcGUuJGV2YWxBc3luYyggZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGVsVmFsdWUoIHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCh4KSApKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIHRoZSBVSSB3aXRob3V0IGNoYW5naW5nIHRoZSBtb2RlbCAod2hpbGUgZHJhZ2dpbmcvcGFubmluZylcbiAgICAgKiBAcGFyYW0geFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkanVzdFRodW1iUG9zaXRpb24oIHggKSB7XG4gICAgICB2YXIgZXhhY3RWYWwgPSBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoIHggKSk7XG4gICAgICB2YXIgY2xvc2VzdFZhbCA9IG1pbk1heFZhbGlkYXRvciggc3RlcFZhbGlkYXRvcihleGFjdFZhbCkgKTtcbiAgICAgIHNldFNsaWRlclBlcmNlbnQoIHBvc2l0aW9uVG9QZXJjZW50KHgpICk7XG4gICAgICB0aHVtYlRleHQudGV4dCggY2xvc2VzdFZhbCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgaG9yaXpvbnRhbCBwb3NpdGlvbiBvbiBzbGlkZXIgdG8gcGVyY2VudGFnZSB2YWx1ZSBvZiBvZmZzZXQgZnJvbSBiZWdpbm5pbmcuLi5cbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcG9zaXRpb25Ub1BlcmNlbnQoIHggKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKHggLSBzbGlkZXJEaW1lbnNpb25zLmxlZnQpIC8gKHNsaWRlckRpbWVuc2lvbnMud2lkdGgpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwZXJjZW50YWdlIG9mZnNldCBvbiBzbGlkZSB0byBlcXVpdmFsZW50IG1vZGVsIHZhbHVlXG4gICAgICogQHBhcmFtIHBlcmNlbnRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJjZW50VG9WYWx1ZSggcGVyY2VudCApIHtcbiAgICAgIHJldHVybiAobWluICsgcGVyY2VudCAqIChtYXggLSBtaW4pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWx1ZVRvUGVyY2VudCggdmFsICkge1xuICAgICAgcmV0dXJuICh2YWwgLSBtaW4pLyhtYXggLSBtaW4pO1xuICAgIH1cbiAgfVxufVxuU2xpZGVyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiR3aW5kb3dcIiwgXCIkbWRBcmlhXCIsIFwiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEdlc3R1cmVcIiwgXCIkcGFyc2VcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU3RpY2t5IGVmZmVjdHMgZm9yIG1kXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnXG5dKVxuICAuZmFjdG9yeSgnJG1kU3RpY2t5JywgTWRTdGlja3kpO1xuXG4vKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFN0aWNreVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkbWRTdGlja3lgc2VydmljZSBwcm92aWRlcyBhIG1peGluIHRvIG1ha2UgZWxlbWVudHMgc3RpY2t5LlxuICpcbiAqIEByZXR1cm5zIEEgYCRtZFN0aWNreWAgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aHJlZSBhcmd1bWVudHM6XG4gKiAgIC0gYHNjb3BlYFxuICogICAtIGBlbGVtZW50YDogVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlICdzdGlja3knXG4gKiAgIC0gYGVsZW1lbnRDbG9uZWA6IEEgY2xvbmUgb2YgdGhlIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSBzaG93blxuICogICAgIHdoZW4gdGhlIHVzZXIgc3RhcnRzIHNjcm9sbGluZyBwYXN0IHRoZSBvcmlnaW5hbCBlbGVtZW50LlxuICogICAgIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCB1c2UgdGhlIHJlc3VsdCBvZiBgZWxlbWVudC5jbG9uZSgpYC5cbiAqL1xuXG5mdW5jdGlvbiBNZFN0aWNreSgkZG9jdW1lbnQsICRtZENvbnN0YW50LCAkY29tcGlsZSwgJCRyQUYsICRtZFV0aWwpIHtcblxuICB2YXIgYnJvd3NlclN0aWNreVN1cHBvcnQgPSBjaGVja1N0aWNreVN1cHBvcnQoKTtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGVsZW1lbnQgYXMgc3RpY2t5LCB1c2VkIGludGVybmFsbHkgYnkgZGlyZWN0aXZlcyB0byByZWdpc3RlciB0aGVtc2VsdmVzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXJTdGlja3lFbGVtZW50KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgIHZhciBjb250ZW50Q3RybCA9IGVsZW1lbnQuY29udHJvbGxlcignbWRDb250ZW50Jyk7XG4gICAgaWYgKCFjb250ZW50Q3RybCkgcmV0dXJuO1xuXG4gICAgaWYgKGJyb3dzZXJTdGlja3lTdXBwb3J0KSB7XG4gICAgICBlbGVtZW50LmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiBicm93c2VyU3RpY2t5U3VwcG9ydCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICAnei1pbmRleCc6IDJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJCRzdGlja3kgPSBjb250ZW50Q3RybC4kZWxlbWVudC5kYXRhKCckJHN0aWNreScpO1xuICAgICAgaWYgKCEkJHN0aWNreSkge1xuICAgICAgICAkJHN0aWNreSA9IHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKTtcbiAgICAgICAgY29udGVudEN0cmwuJGVsZW1lbnQuZGF0YSgnJCRzdGlja3knLCAkJHN0aWNreSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZXJlZ2lzdGVyID0gJCRzdGlja3kuYWRkKGVsZW1lbnQsIHN0aWNreUNsb25lIHx8IGVsZW1lbnQuY2xvbmUoKSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZGVyZWdpc3Rlcik7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKSB7XG4gICAgdmFyIGNvbnRlbnRFbCA9IGNvbnRlbnRDdHJsLiRlbGVtZW50O1xuXG4gICAgLy8gUmVmcmVzaCBlbGVtZW50cyBpcyB2ZXJ5IGV4cGVuc2l2ZSwgc28gd2UgdXNlIHRoZSBkZWJvdW5jZWRcbiAgICAvLyB2ZXJzaW9uIHdoZW4gcG9zc2libGUuXG4gICAgdmFyIGRlYm91bmNlZFJlZnJlc2hFbGVtZW50cyA9ICQkckFGLnRocm90dGxlKHJlZnJlc2hFbGVtZW50cyk7XG5cbiAgICAvLyBzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyBnaXZlcyB1cyBgJHNjcm9sbHN0YXJ0YCBhbmQgYCRzY3JvbGxgLFxuICAgIC8vIG1vcmUgcmVsaWFibGUgdGhhbiBgc2Nyb2xsYCBvbiBhbmRyb2lkLlxuICAgIHNldHVwQXVnbWVudGVkU2Nyb2xsRXZlbnRzKGNvbnRlbnRFbCk7XG4gICAgY29udGVudEVsLm9uKCckc2Nyb2xsc3RhcnQnLCBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMpO1xuICAgIGNvbnRlbnRFbC5vbignJHNjcm9sbCcsIG9uU2Nyb2xsKTtcblxuICAgIHZhciBzZWxmO1xuICAgIHZhciBzdGlja3lCYXNlb2Zmc2V0ID0gY29udGVudEVsLnByb3AoJ29mZnNldFRvcCcpO1xuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgcHJldjogbnVsbCxcbiAgICAgIGN1cnJlbnQ6IG51bGwsIC8vdGhlIGN1cnJlbnRseSBzdGlja2llZCBpdGVtXG4gICAgICBuZXh0OiBudWxsLFxuICAgICAgaXRlbXM6IFtdLFxuICAgICAgYWRkOiBhZGQsXG4gICAgICByZWZyZXNoRWxlbWVudHM6IHJlZnJlc2hFbGVtZW50c1xuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqXG4gICAgICogUHVibGljXG4gICAgICoqKioqKioqKioqKioqKi9cbiAgICAvLyBBZGQgYW4gZWxlbWVudCBhbmQgaXRzIHN0aWNreSBjbG9uZSB0byB0aGlzIGNvbnRlbnQncyBzdGlja3kgY29sbGVjdGlvblxuICAgIGZ1bmN0aW9uIGFkZChlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgICAgc3RpY2t5Q2xvbmUuYWRkQ2xhc3MoJ21kLXN0aWNreS1jbG9uZScpO1xuICAgICAgc3RpY2t5Q2xvbmUuY3NzKCd0b3AnLCBzdGlja3lCYXNlb2Zmc2V0ICsgJ3B4Jyk7XG5cbiAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBjbG9uZTogc3RpY2t5Q2xvbmVcbiAgICAgIH07XG4gICAgICBzZWxmLml0ZW1zLnB1c2goaXRlbSk7XG5cbiAgICAgIGNvbnRlbnRFbC5wYXJlbnQoKS5wcmVwZW5kKGl0ZW0uY2xvbmUpO1xuXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgc2VsZi5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGl0ZW0uZWxlbWVudFswXSA9PT0gZWxlbWVudFswXSkge1xuICAgICAgICAgICAgc2VsZi5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgaXRlbS5jbG9uZS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaEVsZW1lbnRzKCkge1xuICAgICAgLy8gU29ydCBvdXIgY29sbGVjdGlvbiBvZiBlbGVtZW50cyBieSB0aGVpciBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgYmVjYXVzZSBvdXIgZWxlbWVudHMnIG9yZGVyIG9mIGJlaW5nIGFkZGVkIG1heSBub3RcbiAgICAgIC8vIGJlIHRoZSBzYW1lIGFzIHRoZWlyIG9yZGVyIG9mIGRpc3BsYXkuXG4gICAgICBzZWxmLml0ZW1zLmZvckVhY2gocmVmcmVzaFBvc2l0aW9uKTtcbiAgICAgIHNlbGYuaXRlbXMgPSBzZWxmLml0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYS50b3AgPCBiLnRvcCA/IC0xIDogMTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaW5kIHdoaWNoIGl0ZW0gaW4gdGhlIGxpc3Qgc2hvdWxkIGJlIGFjdGl2ZSwgXG4gICAgICAvLyBiYXNlZCB1cG9uIHRoZSBjb250ZW50J3MgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICAgIHZhciBpdGVtO1xuICAgICAgdmFyIGN1cnJlbnRTY3JvbGxUb3AgPSBjb250ZW50RWwucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICBmb3IgKHZhciBpID0gc2VsZi5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoY3VycmVudFNjcm9sbFRvcCA+IHNlbGYuaXRlbXNbaV0udG9wKSB7XG4gICAgICAgICAgaXRlbSA9IHNlbGYuaXRlbXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEN1cnJlbnRJdGVtKGl0ZW0pO1xuICAgIH1cblxuXG4gICAgLyoqKioqKioqKioqKioqKlxuICAgICAqIFByaXZhdGVcbiAgICAgKioqKioqKioqKioqKioqL1xuXG4gICAgLy8gRmluZCB0aGUgYHRvcGAgb2YgYW4gaXRlbSByZWxhdGl2ZSB0byB0aGUgY29udGVudCBlbGVtZW50LFxuICAgIC8vIGFuZCBhbHNvIHRoZSBoZWlnaHQuXG4gICAgZnVuY3Rpb24gcmVmcmVzaFBvc2l0aW9uKGl0ZW0pIHtcbiAgICAgIC8vIEZpbmQgdGhlIHRvcCBvZiBhbiBpdGVtIGJ5IGFkZGluZyB0byB0aGUgb2Zmc2V0SGVpZ2h0IHVudGlsIHdlIHJlYWNoIHRoZSBcbiAgICAgIC8vIGNvbnRlbnQgZWxlbWVudC5cbiAgICAgIHZhciBjdXJyZW50ID0gaXRlbS5lbGVtZW50WzBdO1xuICAgICAgaXRlbS50b3AgPSAwO1xuICAgICAgaXRlbS5sZWZ0ID0gMDtcbiAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGNvbnRlbnRFbFswXSkge1xuICAgICAgICBpdGVtLnRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDtcbiAgICAgICAgaXRlbS5sZWZ0ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgfVxuICAgICAgaXRlbS5oZWlnaHQgPSBpdGVtLmVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICBpdGVtLmNsb25lLmNzcygnbWFyZ2luLWxlZnQnLCBpdGVtLmxlZnQgKyAncHgnKTtcbiAgICB9XG5cblxuICAgIC8vIEFzIHdlIHNjcm9sbCwgcHVzaCBpbiBhbmQgc2VsZWN0IHRoZSBjb3JyZWN0IHN0aWNreSBlbGVtZW50LlxuICAgIGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGNvbnRlbnRFbC5wcm9wKCdzY3JvbGxUb3AnKTtcbiAgICAgIHZhciBpc1Njcm9sbGluZ0Rvd24gPSBzY3JvbGxUb3AgPiAob25TY3JvbGwucHJldlNjcm9sbFRvcCB8fCAwKTtcbiAgICAgIG9uU2Nyb2xsLnByZXZTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG5cbiAgICAgIC8vIEF0IHRoZSB0b3A/XG4gICAgICBpZiAoc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICAgIHNldEN1cnJlbnRJdGVtKG51bGwpO1xuXG4gICAgICAvLyBHb2luZyB0byBuZXh0IGl0ZW0/XG4gICAgICB9IGVsc2UgaWYgKGlzU2Nyb2xsaW5nRG93biAmJiBzZWxmLm5leHQpIHtcbiAgICAgICAgaWYgKHNlbGYubmV4dC50b3AgLSBzY3JvbGxUb3AgPD0gMCkge1xuICAgICAgICAgIC8vIFN0aWNreSB0aGUgbmV4dCBpdGVtIGlmIHdlJ3ZlIHNjcm9sbGVkIHBhc3QgaXRzIHBvc2l0aW9uLlxuICAgICAgICAgIHNldEN1cnJlbnRJdGVtKHNlbGYubmV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gUHVzaCB0aGUgY3VycmVudCBpdGVtIHVwIHdoZW4gd2UncmUgYWxtb3N0IGF0IHRoZSBuZXh0IGl0ZW0uXG4gICAgICAgICAgaWYgKHNlbGYubmV4dC50b3AgLSBzY3JvbGxUb3AgPD0gc2VsZi5uZXh0LmhlaWdodCkge1xuICAgICAgICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgc2VsZi5uZXh0LnRvcCAtIHNlbGYubmV4dC5oZWlnaHQgLSBzY3JvbGxUb3ApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAvLyBTY3JvbGxpbmcgdXAgd2l0aCBhIGN1cnJlbnQgc3RpY2t5IGl0ZW0/XG4gICAgICB9IGVsc2UgaWYgKCFpc1Njcm9sbGluZ0Rvd24gJiYgc2VsZi5jdXJyZW50KSB7XG4gICAgICAgIGlmIChzY3JvbGxUb3AgPCBzZWxmLmN1cnJlbnQudG9wKSB7XG4gICAgICAgICAgLy8gU3RpY2t5IHRoZSBwcmV2aW91cyBpdGVtIGlmIHdlJ3ZlIHNjcm9sbGVkIHVwIHBhc3RcbiAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnRseSBzdGlja2llZCBpdGVtLlxuICAgICAgICAgIHNldEN1cnJlbnRJdGVtKHNlbGYucHJldik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2Nyb2xsaW5nIHVwLCBhbmQganVzdCBidW1waW5nIGludG8gdGhlIGl0ZW0gYWJvdmUgKGp1c3Qgc2V0IHRvIGN1cnJlbnQpP1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbmV4dCBpdGVtIGJ1bXBpbmcgaW50byB0aGUgY3VycmVudCBpdGVtLCB0cmFuc2xhdGVcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgaXRlbSB1cCBmcm9tIHRoZSB0b3AgYXMgaXQgc2Nyb2xscyBpbnRvIHZpZXcuXG4gICAgICAgIGlmIChzZWxmLmN1cnJlbnQgJiYgc2VsZi5uZXh0KSB7XG4gICAgICAgICAgaWYgKHNjcm9sbFRvcCA+PSBzZWxmLm5leHQudG9wIC0gc2VsZi5jdXJyZW50LmhlaWdodCkge1xuICAgICAgICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgc2VsZi5uZXh0LnRvcCAtIHNjcm9sbFRvcCAtIHNlbGYuY3VycmVudC5oZWlnaHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgIFxuICAgZnVuY3Rpb24gc2V0Q3VycmVudEl0ZW0oaXRlbSkge1xuICAgICBpZiAoc2VsZi5jdXJyZW50ID09PSBpdGVtKSByZXR1cm47XG4gICAgIC8vIERlYWN0aXZhdGUgY3VycmVudGx5IGFjdGl2ZSBpdGVtXG4gICAgIGlmIChzZWxmLmN1cnJlbnQpIHtcbiAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBudWxsKTtcbiAgICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICB9XG5cbiAgICAgLy8gQWN0aXZhdGUgbmV3IGl0ZW0gaWYgZ2l2ZW5cbiAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICBzZXRTdGlja3lTdGF0ZShpdGVtLCAnYWN0aXZlJyk7XG4gICAgIH1cblxuICAgICBzZWxmLmN1cnJlbnQgPSBpdGVtO1xuICAgICB2YXIgaW5kZXggPSBzZWxmLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgIC8vIElmIGluZGV4ID09PSAtMSwgaW5kZXggKyAxID0gMC4gSXQgd29ya3Mgb3V0LlxuICAgICBzZWxmLm5leHQgPSBzZWxmLml0ZW1zW2luZGV4ICsgMV07XG4gICAgIHNlbGYucHJldiA9IHNlbGYuaXRlbXNbaW5kZXggLSAxXTtcbiAgICAgc2V0U3RpY2t5U3RhdGUoc2VsZi5uZXh0LCAnbmV4dCcpO1xuICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLnByZXYsICdwcmV2Jyk7XG4gICB9XG5cbiAgIGZ1bmN0aW9uIHNldFN0aWNreVN0YXRlKGl0ZW0sIHN0YXRlKSB7XG4gICAgIGlmICghaXRlbSB8fCBpdGVtLnN0YXRlID09PSBzdGF0ZSkgcmV0dXJuO1xuICAgICBpZiAoaXRlbS5zdGF0ZSkge1xuICAgICAgIGl0ZW0uY2xvbmUuYXR0cignc3RpY2t5LXByZXYtc3RhdGUnLCBpdGVtLnN0YXRlKTtcbiAgICAgICBpdGVtLmVsZW1lbnQuYXR0cignc3RpY2t5LXByZXYtc3RhdGUnLCBpdGVtLnN0YXRlKTtcbiAgICAgfVxuICAgICBpdGVtLmNsb25lLmF0dHIoJ3N0aWNreS1zdGF0ZScsIHN0YXRlKTtcbiAgICAgaXRlbS5lbGVtZW50LmF0dHIoJ3N0aWNreS1zdGF0ZScsIHN0YXRlKTtcbiAgICAgaXRlbS5zdGF0ZSA9IHN0YXRlO1xuICAgfVxuXG4gICBmdW5jdGlvbiB0cmFuc2xhdGUoaXRlbSwgYW1vdW50KSB7XG4gICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgICBpZiAoYW1vdW50ID09PSBudWxsIHx8IGFtb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgaWYgKGl0ZW0udHJhbnNsYXRlWSkge1xuICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgIGl0ZW0uY2xvbmUuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICcnKTtcbiAgICAgICB9XG4gICAgIH0gZWxzZSB7XG4gICAgICAgaXRlbS50cmFuc2xhdGVZID0gYW1vdW50O1xuICAgICAgIGl0ZW0uY2xvbmUuY3NzKFxuICAgICAgICAgJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgXG4gICAgICAgICAndHJhbnNsYXRlM2QoJyArIGl0ZW0ubGVmdCArICdweCwnICsgYW1vdW50ICsgJ3B4LDApJ1xuICAgICAgICk7XG4gICAgIH1cbiAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGZvciBicm93c2VyIHN0aWNreSBzdXBwb3J0XG4gIGZ1bmN0aW9uIGNoZWNrU3RpY2t5U3VwcG9ydCgkZWwpIHtcbiAgICB2YXIgc3RpY2t5UHJvcDtcbiAgICB2YXIgdGVzdEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PicpO1xuICAgICRkb2N1bWVudFswXS5ib2R5LmFwcGVuZENoaWxkKHRlc3RFbFswXSk7XG5cbiAgICB2YXIgc3RpY2t5UHJvcHMgPSBbJ3N0aWNreScsICctd2Via2l0LXN0aWNreSddO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RpY2t5UHJvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRlc3RFbC5jc3Moe3Bvc2l0aW9uOiBzdGlja3lQcm9wc1tpXSwgdG9wOiAwLCAnei1pbmRleCc6IDJ9KTtcbiAgICAgIGlmICh0ZXN0RWwuY3NzKCdwb3NpdGlvbicpID09IHN0aWNreVByb3BzW2ldKSB7XG4gICAgICAgIHN0aWNreVByb3AgPSBzdGlja3lQcm9wc1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRlc3RFbC5yZW1vdmUoKTtcbiAgICByZXR1cm4gc3RpY2t5UHJvcDtcbiAgfVxuXG4gIC8vIEFuZHJvaWQgNC40IGRvbid0IGFjY3VyYXRlbHkgZ2l2ZSBzY3JvbGwgZXZlbnRzLlxuICAvLyBUbyBmaXggdGhpcyBwcm9ibGVtLCB3ZSBzZXR1cCBhIGZha2Ugc2Nyb2xsIGV2ZW50LiBXZSBzYXk6XG4gIC8vID4gSWYgYSBzY3JvbGwgb3IgdG91Y2htb3ZlIGV2ZW50IGhhcyBoYXBwZW5lZCBpbiB0aGUgbGFzdCBERUxBWSBtaWxsaXNlY29uZHMsIFxuICAvLyAgIHRoZW4gc2VuZCBhIGAkc2Nyb2xsYCBldmVudCBldmVyeSBhbmltYXRpb25GcmFtZS5cbiAgLy8gQWRkaXRpb25hbGx5LCB3ZSBhZGQgJHNjcm9sbHN0YXJ0IGFuZCAkc2Nyb2xsZW5kIGV2ZW50cy5cbiAgZnVuY3Rpb24gc2V0dXBBdWdtZW50ZWRTY3JvbGxFdmVudHMoZWxlbWVudCkge1xuICAgIHZhciBTQ1JPTExfRU5EX0RFTEFZID0gMjAwO1xuICAgIHZhciBpc1Njcm9sbGluZztcbiAgICB2YXIgbGFzdFNjcm9sbFRpbWU7XG4gICAgZWxlbWVudC5vbignc2Nyb2xsIHRvdWNobW92ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFpc1Njcm9sbGluZykge1xuICAgICAgICBpc1Njcm9sbGluZyA9IHRydWU7XG4gICAgICAgICQkckFGKGxvb3BTY3JvbGxFdmVudCk7XG4gICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRzY3JvbGxzdGFydCcpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbCcpO1xuICAgICAgbGFzdFNjcm9sbFRpbWUgPSArJG1kVXRpbC5ub3coKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxvb3BTY3JvbGxFdmVudCgpIHtcbiAgICAgIGlmICgrJG1kVXRpbC5ub3coKSAtIGxhc3RTY3JvbGxUaW1lID4gU0NST0xMX0VORF9ERUxBWSkge1xuICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCckc2Nyb2xsZW5kJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCckc2Nyb2xsJyk7XG4gICAgICAgICQkckFGKGxvb3BTY3JvbGxFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cbk1kU3RpY2t5LiRpbmplY3QgPSBbXCIkZG9jdW1lbnRcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRjb21waWxlXCIsIFwiJCRyQUZcIiwgXCIkbWRVdGlsXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBTdWJIZWFkZXIgbW9kdWxlXG4gKlxuICogIFN1YmhlYWRlcnMgYXJlIHNwZWNpYWwgbGlzdCB0aWxlcyB0aGF0IGRlbGluZWF0ZSBkaXN0aW5jdCBzZWN0aW9ucyBvZiBhXG4gKiAgbGlzdCBvciBncmlkIGxpc3QgYW5kIGFyZSB0eXBpY2FsbHkgcmVsYXRlZCB0byB0aGUgY3VycmVudCBmaWx0ZXJpbmcgb3JcbiAqICBzb3J0aW5nIGNyaXRlcmlhLiBTdWJoZWFkZXIgdGlsZXMgYXJlIGVpdGhlciBkaXNwbGF5ZWQgaW5saW5lIHdpdGggdGlsZXMgb3JcbiAqICBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIGNvbnRlbnQsIGZvciBleGFtcGxlLCBpbiBhbiBhZGphY2VudCBjb2x1bW4uXG4gKlxuICogIFVwb24gc2Nyb2xsaW5nLCBzdWJoZWFkZXJzIHJlbWFpbiBwaW5uZWQgdG8gdGhlIHRvcCBvZiB0aGUgc2NyZWVuIGFuZCByZW1haW5cbiAqICBwaW5uZWQgdW50aWwgcHVzaGVkIG9uIG9yIG9mZiBzY3JlZW4gYnkgdGhlIG5leHQgc3ViaGVhZGVyLiBAc2VlIFtNYXRlcmlhbFxuICogIERlc2lnbiBTcGVjaWZpY2F0aW9uc10oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9jb21wb25lbnRzL3N1YmhlYWRlcnMuaHRtbClcbiAqXG4gKiAgPiBUbyBpbXByb3ZlIHRoZSB2aXN1YWwgZ3JvdXBpbmcgb2YgY29udGVudCwgdXNlIHRoZSBzeXN0ZW0gY29sb3IgZm9yIHlvdXIgc3ViaGVhZGVycy5cbiAqXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5zdGlja3knXG5dKVxuICAuZGlyZWN0aXZlKCdtZFN1YmhlYWRlcicsIE1kU3ViaGVhZGVyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFN1YmhlYWRlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1zdWJoZWFkZXI+YCBkaXJlY3RpdmUgaXMgYSBzdWJoZWFkZXIgZm9yIGEgc2VjdGlvblxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zdWJoZWFkZXI+T25saW5lIEZyaWVuZHM8L21kLXN1YmhlYWRlcj5cbiAqIDwvaGxqcz5cbiAqL1xuXG5mdW5jdGlvbiBNZFN1YmhlYWRlckRpcmVjdGl2ZSgkbWRTdGlja3ksICRjb21waWxlLCAkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxoMiBjbGFzcz1cIm1kLXN1YmhlYWRlclwiPicgK1xuICAgICAgICAnPHNwYW4gY2xhc3M9XCJtZC1zdWJoZWFkZXItY29udGVudFwiPjwvc3Bhbj4nICtcbiAgICAgICc8L2gyPicsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0ciwgdHJhbnNjbHVkZSkge1xuICAgICAgdmFyIG91dGVySFRNTCA9IGVsZW1lbnRbMF0ub3V0ZXJIVE1MO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgICAgIGZ1bmN0aW9uIGdldENvbnRlbnQoZWwpIHtcbiAgICAgICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KGVsWzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1zdWJoZWFkZXItY29udGVudCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zY2x1ZGUgdGhlIHVzZXItZ2l2ZW4gY29udGVudHMgb2YgdGhlIHN1YmhlYWRlclxuICAgICAgICAvLyB0aGUgY29udmVudGlvbmFsIHdheS5cbiAgICAgICAgdHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICBnZXRDb250ZW50KGVsZW1lbnQpLmFwcGVuZChjbG9uZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhbm90aGVyIGNsb25lLCB0aGF0IHVzZXMgdGhlIG91dGVyIGFuZCBpbm5lciBjb250ZW50c1xuICAgICAgICAvLyBvZiB0aGUgZWxlbWVudCwgdGhhdCB3aWxsIGJlICdzdGlja2llZCcgYXMgdGhlIHVzZXIgc2Nyb2xscy5cbiAgICAgICAgdHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICB2YXIgc3RpY2t5Q2xvbmUgPSAkY29tcGlsZShhbmd1bGFyLmVsZW1lbnQob3V0ZXJIVE1MKSkoc2NvcGUpO1xuICAgICAgICAgICRtZFRoZW1pbmcoc3RpY2t5Q2xvbmUpO1xuICAgICAgICAgIGdldENvbnRlbnQoc3RpY2t5Q2xvbmUpLmFwcGVuZChjbG9uZSk7XG4gICAgICAgICAgJG1kU3RpY2t5KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5NZFN1YmhlYWRlckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kU3RpY2t5XCIsIFwiJGNvbXBpbGVcIiwgXCIkbWRUaGVtaW5nXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcbiAqIEBkZXNjcmlwdGlvbiBTd2lwZSBtb2R1bGUhXG4gKi9cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlXG4gKiBAbmFtZSBtZFN3aXBlTGVmdFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWQtc3dpcGUtbGVmdCBkaXJlY3RpdmVzIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogbGVmdC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG1kLXN3aXBlLWxlZnQ9XCJvblN3aXBlTGVmdCgpXCI+U3dpcGUgbWUgbGVmdCE8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVxuICogQG5hbWUgbWRTd2lwZVJpZ2h0XG4gKlxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBtZC1zd2lwZS1yaWdodCBkaXJlY3RpdmVzIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogcmlnaHQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBtZC1zd2lwZS1yaWdodD1cIm9uU3dpcGVSaWdodCgpXCI+U3dpcGUgbWUgcmlnaHQhPC9kaXY+XG4gKiA8L2hsanM+XG4gKi9cblxudmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlJyxbXSk7XG5cblsnU3dpcGVMZWZ0JywgJ1N3aXBlUmlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGRpcmVjdGl2ZU5hbWUgPSAnbWQnICsgbmFtZTtcbiAgdmFyIGV2ZW50TmFtZSA9ICckbWQuJyArIG5hbWUudG9Mb3dlckNhc2UoKTtcblxuICBtb2R1bGUuZGlyZWN0aXZlKGRpcmVjdGl2ZU5hbWUsIC8qQG5nSW5qZWN0Ki8gW1wiJHBhcnNlXCIsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgbGluazogcG9zdExpbmtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTtcblxuICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBmbihzY29wZSwge1xuICAgICAgICAgICAgJGV2ZW50OiBldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XSk7XG59KTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2gnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3gnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFN3aXRjaCcsIE1kU3dpdGNoKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXRjaFxuICogQG5hbWUgbWRTd2l0Y2hcbiAqIEByZXN0cmljdCBFXG4gKlxuICogVGhlIHN3aXRjaCBkaXJlY3RpdmUgaXMgdXNlZCB2ZXJ5IG11Y2ggbGlrZSB0aGUgbm9ybWFsIFthbmd1bGFyIGNoZWNrYm94XShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvaW5wdXQvaW5wdXQlNUJjaGVja2JveCU1RCkuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIHN3aXRjaCBpcyBpbiB0aGUgYWNjZW50IGNvbG9yIGJ5IGRlZmF1bHQuIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmctbW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctdHJ1ZS12YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctZmFsc2UtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nLWNoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgVXNlIG9mIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgdXNlIG9mIHJpcHBsZSBpbmsgZWZmZWN0cy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBQdWJsaXNoIHRoZSBidXR0b24gbGFiZWwgdXNlZCBieSBzY3JlZW4tcmVhZGVycyBmb3IgYWNjZXNzaWJpbGl0eS4gRGVmYXVsdHMgdG8gdGhlIHN3aXRjaCdzIHRleHQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXN3aXRjaCBuZy1tb2RlbD1cImlzQWN0aXZlXCIgYXJpYS1sYWJlbD1cIkZpbmlzaGVkP1wiPlxuICogICBGaW5pc2hlZCA/XG4gKiA8L21kLXN3aXRjaD5cbiAqXG4gKiA8bWQtc3dpdGNoIG1kLW5vLWluayBuZy1tb2RlbD1cImhhc0lua1wiIGFyaWEtbGFiZWw9XCJObyBJbmsgRWZmZWN0c1wiPlxuICogICBObyBJbmsgRWZmZWN0c1xuICogPC9tZC1zd2l0Y2g+XG4gKlxuICogPG1kLXN3aXRjaCBuZy1kaXNhYmxlZD1cInRydWVcIiBuZy1tb2RlbD1cImlzRGlzYWJsZWRcIiBhcmlhLWxhYmVsPVwiRGlzYWJsZWRcIj5cbiAqICAgRGlzYWJsZWRcbiAqIDwvbWQtc3dpdGNoPlxuICpcbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRTd2l0Y2gobWRDaGVja2JveERpcmVjdGl2ZSwgJG1kVGhlbWluZywgJG1kVXRpbCwgJGRvY3VtZW50LCAkbWRDb25zdGFudCwgJHBhcnNlLCAkJHJBRiwgJG1kR2VzdHVyZSkge1xuICB2YXIgY2hlY2tib3hEaXJlY3RpdmUgPSBtZENoZWNrYm94RGlyZWN0aXZlWzBdO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlOlxuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1jb250YWluZXJcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1iYXJcIj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10aHVtYi1jb250YWluZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXRodW1iXCIgbWQtaW5rLXJpcHBsZSBtZC1pbmstcmlwcGxlLWNoZWNrYm94PjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JytcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGUgY2xhc3M9XCJtZC1sYWJlbFwiPicgK1xuICAgICAgJzwvZGl2PicsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIGNoZWNrYm94TGluayA9IGNoZWNrYm94RGlyZWN0aXZlLmNvbXBpbGUoZWxlbWVudCwgYXR0cik7XG4gICAgLy8gbm8gdHJhbnNpdGlvbiBvbiBpbml0aWFsIGxvYWRcbiAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1kcmFnZ2luZycpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbCkge1xuICAgICAgbmdNb2RlbCA9IG5nTW9kZWwgfHwgJG1kVXRpbC5mYWtlTmdNb2RlbCgpO1xuICAgICAgdmFyIGRpc2FibGVkR2V0dGVyID0gJHBhcnNlKGF0dHIubmdEaXNhYmxlZCk7XG4gICAgICB2YXIgdGh1bWJDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdGh1bWItY29udGFpbmVyJykpO1xuICAgICAgdmFyIHN3aXRjaENvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jb250YWluZXInKSk7XG5cbiAgICAgIC8vIG5vIHRyYW5zaXRpb24gb24gaW5pdGlhbCBsb2FkXG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgIH0pO1xuXG4gICAgICBjaGVja2JveExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWwpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5uZ0Rpc2FibGVkKSkge1xuICAgICAgICBzY29wZS4kd2F0Y2goZGlzYWJsZWRHZXR0ZXIsIGZ1bmN0aW9uKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgaXNEaXNhYmxlZCA/IC0xIDogMCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGVzZSBldmVudHMgYXJlIHRyaWdnZXJlZCBieSBzZXR1cCBkcmFnXG4gICAgICAkbWRHZXN0dXJlLnJlZ2lzdGVyKHN3aXRjaENvbnRhaW5lciwgJ2RyYWcnKTtcbiAgICAgIHN3aXRjaENvbnRhaW5lclxuICAgICAgICAub24oJyRtZC5kcmFnc3RhcnQnLCBvbkRyYWdTdGFydClcbiAgICAgICAgLm9uKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgICAgLm9uKCckbWQuZHJhZ2VuZCcsIG9uRHJhZ0VuZCk7XG5cbiAgICAgIHZhciBkcmFnO1xuICAgICAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXYpIHtcbiAgICAgICAgLy8gRG9uJ3QgZ28gaWYgbmctZGlzYWJsZWQ9PT10cnVlXG4gICAgICAgIGlmIChkaXNhYmxlZEdldHRlcihzY29wZSkpIHJldHVybjtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgICAgZHJhZyA9IHtcbiAgICAgICAgICB3aWR0aDogdGh1bWJDb250YWluZXIucHJvcCgnb2Zmc2V0V2lkdGgnKVxuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCd0cmFuc2l0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgICBpZiAoIWRyYWcpIHJldHVybjtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2LnNyY0V2ZW50ICYmIGV2LnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIHBlcmNlbnQgPSBldi5wb2ludGVyLmRpc3RhbmNlWCAvIGRyYWcud2lkdGg7XG5cbiAgICAgICAgLy9pZiBjaGVja2VkLCBzdGFydCBmcm9tIHJpZ2h0LiBlbHNlLCBzdGFydCBmcm9tIGxlZnRcbiAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/ICAxICsgcGVyY2VudCA6IHBlcmNlbnQ7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc3dpdGNoIHN0YXlzIGluc2lkZSBpdHMgYm91bmRzLCAwLTElXG4gICAgICAgIHRyYW5zbGF0ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHRyYW5zbGF0ZSkpO1xuXG4gICAgICAgIHRodW1iQ29udGFpbmVyLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoJyArICgxMDAqdHJhbnNsYXRlKSArICclLDAsMCknKTtcbiAgICAgICAgZHJhZy50cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgICBpZiAoIWRyYWcpIHJldHVybjtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZHJhZ2dpbmcnKTtcbiAgICAgICAgdGh1bWJDb250YWluZXIuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICcnKTtcblxuICAgICAgICAvLyBXZSBjaGFuZ2VkIGlmIHRoZXJlIGlzIG5vIGRpc3RhbmNlICh0aGlzIGlzIGEgY2xpY2sgYSBjbGljayksXG4gICAgICAgIC8vIG9yIGlmIHRoZSBkcmFnIGRpc3RhbmNlIGlzID41MCUgb2YgdGhlIHRvdGFsLlxuICAgICAgICB2YXIgaXNDaGFuZ2VkID0gbmdNb2RlbC4kdmlld1ZhbHVlID8gZHJhZy50cmFuc2xhdGUgPCAwLjUgOiBkcmFnLnRyYW5zbGF0ZSA+IDAuNTtcbiAgICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICAgIGFwcGx5TW9kZWxWYWx1ZSghbmdNb2RlbC4kdmlld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBkcmFnID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXBwbHlNb2RlbFZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUobmV3VmFsdWUpO1xuICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH07XG4gIH1cblxuXG59XG5NZFN3aXRjaC4kaW5qZWN0ID0gW1wibWRDaGVja2JveERpcmVjdGl2ZVwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCIsIFwiJGRvY3VtZW50XCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkcGFyc2VcIiwgXCIkJHJBRlwiLCBcIiRtZEdlc3R1cmVcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAgVGFicywgY3JlYXRlZCB3aXRoIHRoZSBgPG1kLXRhYnM+YCBkaXJlY3RpdmUgcHJvdmlkZSAqdGFiYmVkKiBuYXZpZ2F0aW9uIHdpdGggZGlmZmVyZW50IHN0eWxlcy5cbiAqICBUaGUgVGFicyBjb21wb25lbnQgY29uc2lzdHMgb2YgY2xpY2thYmxlIHRhYnMgdGhhdCBhcmUgYWxpZ25lZCBob3Jpem9udGFsbHkgc2lkZS1ieS1zaWRlLlxuICpcbiAqICBGZWF0dXJlcyBpbmNsdWRlIHN1cHBvcnQgZm9yOlxuICpcbiAqICAtIHN0YXRpYyBvciBkeW5hbWljIHRhYnMsXG4gKiAgLSByZXNwb25zaXZlIGRlc2lnbnMsXG4gKiAgLSBhY2Nlc3NpYmlsaXR5IHN1cHBvcnQgKEFSSUEpLFxuICogIC0gdGFiIHBhZ2luYXRpb24sXG4gKiAgLSBleHRlcm5hbCBvciBpbnRlcm5hbCB0YWIgY29udGVudCxcbiAqICAtIGZvY3VzIGluZGljYXRvcnMgYW5kIGFycm93LWtleSBuYXZpZ2F0aW9ucyxcbiAqICAtIHByb2dyYW1tYXRpYyBsb29rdXAgYW5kIGFjY2VzcyB0byB0YWIgY29udHJvbGxlcnMsIGFuZFxuICogIC0gZHluYW1pYyB0cmFuc2l0aW9ucyB0aHJvdWdoIGRpZmZlcmVudCB0YWIgY29udGVudHMuXG4gKlxuICovXG4vKlxuICogQHNlZSBqcyBmb2xkZXIgZm9yIHRhYnMgaW1wbGVtZW50YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50ZXh0RmllbGRcbiAqIEBkZXNjcmlwdGlvblxuICogRm9ybVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50ZXh0RmllbGQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRJbnB1dEdyb3VwJywgbWRJbnB1dEdyb3VwRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZElucHV0JywgbWRJbnB1dERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRUZXh0RmxvYXQnLCBtZFRleHRGbG9hdERpcmVjdGl2ZSk7XG5cblxuZnVuY3Rpb24gbWRUZXh0RmxvYXREaXJlY3RpdmUoJG1kVGhlbWluZywgJG1kVXRpbCwgJHBhcnNlLCAkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlIDoge1xuICAgICAgZmlkIDogJ0A/bWRGaWQnLFxuICAgICAgbGFiZWwgOiAnQD8nLFxuICAgICAgdmFsdWUgOiAnPW5nTW9kZWwnXG4gICAgfSxcbiAgICBjb21waWxlIDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuXG4gICAgICAkbG9nLndhcm4oJzxtZC10ZXh0LWZsb2F0PiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGA8bWQtaW5wdXQtY29udGFpbmVyPmAgYW5kIGA8aW5wdXQ+YC4nICsgXG4gICAgICAgICAgICAgICAgJ01vcmUgaW5mb3JtYXRpb24gYXQgaHR0cDovL21hdGVyaWFsLmFuZ3VsYXJqcy5vcmcvIy9hcGkvbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dC9kaXJlY3RpdmUvbWRJbnB1dENvbnRhaW5lcicpO1xuXG4gICAgICBpZiAoIGFuZ3VsYXIuaXNVbmRlZmluZWQoYXR0ci5tZEZpZCkgKSB7XG4gICAgICAgIGF0dHIubWRGaWQgPSAkbWRVdGlsLm5leHRVaWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlIDogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgdmFyIGRpc2FibGVkUGFyc2VkID0gJHBhcnNlKGF0dHJzLm5nRGlzYWJsZWQpO1xuICAgICAgICAgIHNjb3BlLmlzRGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNhYmxlZFBhcnNlZChzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuaW5wdXRUeXBlID0gYXR0cnMudHlwZSB8fCBcInRleHRcIjtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zdDogJG1kVGhlbWluZ1xuICAgICAgfTtcbiAgICB9LFxuICAgIHRlbXBsYXRlOlxuICAgICc8bWQtaW5wdXQtZ3JvdXAgdGFiaW5kZXg9XCItMVwiPicgK1xuICAgICcgPGxhYmVsIGZvcj1cInt7ZmlkfX1cIiA+e3tsYWJlbH19PC9sYWJlbD4nICtcbiAgICAnIDxtZC1pbnB1dCBpZD1cInt7ZmlkfX1cIiBuZy1kaXNhYmxlZD1cImlzRGlzYWJsZWQoKVwiIG5nLW1vZGVsPVwidmFsdWVcIiB0eXBlPVwie3tpbnB1dFR5cGV9fVwiPjwvbWQtaW5wdXQ+JyArXG4gICAgJzwvbWQtaW5wdXQtZ3JvdXA+J1xuICB9O1xufVxubWRUZXh0RmxvYXREaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCIsIFwiJHBhcnNlXCIsIFwiJGxvZ1wiXTtcblxuZnVuY3Rpb24gbWRJbnB1dEdyb3VwRGlyZWN0aXZlKCRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0NFJyxcbiAgICBjb250cm9sbGVyOiBbJyRlbGVtZW50JywgZnVuY3Rpb24oJGVsZW1lbnQpIHtcblxuICAgICAgJGxvZy53YXJuKCc8bWQtaW5wdXQtZ3JvdXA+IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYDxtZC1pbnB1dC1jb250YWluZXI+YCBhbmQgYDxpbnB1dD5gLicgKyBcbiAgICAgICAgICAgICAgICAnTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwOi8vbWF0ZXJpYWwuYW5ndWxhcmpzLm9yZy8jL2FwaS9tYXRlcmlhbC5jb21wb25lbnRzLmlucHV0L2RpcmVjdGl2ZS9tZElucHV0Q29udGFpbmVyJyk7XG4gICAgICB0aGlzLnNldEZvY3VzZWQgPSBmdW5jdGlvbihpc0ZvY3VzZWQpIHtcbiAgICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWZvY3VzZWQnLCAhIWlzRm9jdXNlZCk7XG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRIYXNWYWx1ZSA9IGZ1bmN0aW9uKGhhc1ZhbHVlKSB7XG4gICAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1pbnB1dC1oYXMtdmFsdWUnLCBoYXNWYWx1ZSApO1xuICAgICAgfTtcbiAgICB9XVxuICB9O1xuXG59XG5tZElucHV0R3JvdXBEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRsb2dcIl07XG5cbmZ1bmN0aW9uIG1kSW5wdXREaXJlY3RpdmUoJG1kVXRpbCwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTogJzxpbnB1dCA+JyxcbiAgICByZXF1aXJlOiBbJ14/bWRJbnB1dEdyb3VwJywgJz9uZ01vZGVsJ10sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICBpZiAoICFjdHJsc1swXSApIHJldHVybjtcblxuICAgICAgJGxvZy53YXJuKCc8bWQtaW5wdXQ+IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYDxtZC1pbnB1dC1jb250YWluZXI+YCBhbmQgYDxpbnB1dD5gLicgKyBcbiAgICAgICAgICAgICAgICAnTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwOi8vbWF0ZXJpYWwuYW5ndWxhcmpzLm9yZy8jL2FwaS9tYXRlcmlhbC5jb21wb25lbnRzLmlucHV0L2RpcmVjdGl2ZS9tZElucHV0Q29udGFpbmVyJyk7XG5cbiAgICAgIHZhciBpbnB1dEdyb3VwQ3RybCA9IGN0cmxzWzBdO1xuICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIHNjb3BlLiR3YXRjaChzY29wZS5pc0Rpc2FibGVkLCBmdW5jdGlvbihpc0Rpc2FibGVkKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1kaXNhYmxlZCcsICEhaXNEaXNhYmxlZCk7XG4gICAgICAgIGVsZW1lbnQuYXR0cigndGFiaW5kZXgnLCAhIWlzRGlzYWJsZWQpO1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmF0dHIoJ3R5cGUnLCBhdHRyLnR5cGUgfHwgZWxlbWVudC5wYXJlbnQoKS5hdHRyKCd0eXBlJykgfHwgXCJ0ZXh0XCIpO1xuXG4gICAgICAvLyBXaGVuIHRoZSBpbnB1dCB2YWx1ZSBjaGFuZ2VzLCBjaGVjayBpZiBpdCBcImhhc1wiIGEgdmFsdWUsIGFuZFxuICAgICAgLy8gc2V0IHRoZSBhcHByb3ByaWF0ZSBjbGFzcyBvbiB0aGUgaW5wdXQgZ3JvdXBcbiAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICAvL0FkZCBhICRmb3JtYXR0ZXIgc28gd2UgZG9uJ3QgdXNlIHVwIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlucHV0R3JvdXBDdHJsLnNldEhhc1ZhbHVlKCBpc05vdEVtcHR5KHZhbHVlKSApO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnRcbiAgICAgICAgLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlucHV0R3JvdXBDdHJsLnNldEhhc1ZhbHVlKCBpc05vdEVtcHR5KCkgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdmb2N1cycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBpbnB1dCBmb2N1c2VzLCBhZGQgdGhlIGZvY3VzZWQgY2xhc3MgdG8gdGhlIGdyb3VwXG4gICAgICAgICAgaW5wdXRHcm91cEN0cmwuc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIC8vIFdoZW4gdGhlIGlucHV0IGJsdXJzLCByZW1vdmUgdGhlIGZvY3VzZWQgY2xhc3MgZnJvbSB0aGUgZ3JvdXBcbiAgICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRIYXNWYWx1ZSggaXNOb3RFbXB0eSgpICk7XG4gICAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0R3JvdXBDdHJsLnNldEZvY3VzZWQoZmFsc2UpO1xuICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRIYXNWYWx1ZShmYWxzZSk7XG4gICAgICB9KTtcblxuXG4gICAgICBmdW5jdGlvbiBpc05vdEVtcHR5KHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkgPyBlbGVtZW50LnZhbCgpIDogdmFsdWU7XG4gICAgICAgIHJldHVybiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmICh2YWx1ZSE9PW51bGwpICYmXG4gICAgICAgICAgICAgICAodmFsdWUudG9TdHJpbmcoKS50cmltKCkgIT09IFwiXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5tZElucHV0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRVdGlsXCIsIFwiJGxvZ1wiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvYXN0XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvbidcbl0pXG4gIC5kaXJlY3RpdmUoJ21kVG9hc3QnLCBNZFRvYXN0RGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZFRvYXN0JywgTWRUb2FzdFByb3ZpZGVyKTtcblxuZnVuY3Rpb24gTWRUb2FzdERpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnXG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFRvYXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudG9hc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRUb2FzdGAgaXMgYSBzZXJ2aWNlIHRvIGJ1aWxkIGEgdG9hc3Qgbm9maWNhdGlvbiBvbiBhbnkgcG9zaXRpb25cbiAqIG9uIHRoZSBzY3JlZW4gd2l0aCBhbiBvcHRpb25hbCBkdXJhdGlvbiwgYW5kIHByb3ZpZGVzIGEgc2ltcGxlIHByb21pc2UgQVBJLlxuICpcbiAqXG4gKiAjIyBSZXN0cmljdGlvbnMgb24gY3VzdG9tIHRvYXN0c1xuICogLSBUaGUgdG9hc3QncyB0ZW1wbGF0ZSBtdXN0IGhhdmUgYW4gb3V0ZXIgYDxtZC10b2FzdD5gIGVsZW1lbnQuXG4gKiAtIEZvciBhIHRvYXN0IGFjdGlvbiwgdXNlIGVsZW1lbnQgd2l0aCBjbGFzcyBgbWQtYWN0aW9uYC5cbiAqIC0gQWRkIHRoZSBjbGFzcyBgbWQtY2Fwc3VsZWAgZm9yIGN1cnZlZCBjb3JuZXJzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlblRvYXN0KClcIj5cbiAqICAgICBPcGVuIGEgVG9hc3QhXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFRvYXN0KSB7XG4gKiAgICRzY29wZS5vcGVuVG9hc3QgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAqICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoJ0hlbGxvIScpKTtcbiAqICAgICAvLyBDb3VsZCBhbHNvIGRvICRtZFRvYXN0LnNob3dTaW1wbGUoJ0hlbGxvJyk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3Nob3dTaW1wbGVcbiAqIFxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZW5pZW5jZSBtZXRob2Qgd2hpY2ggYnVpbGRzIGFuZCBzaG93cyBhIHNpbXBsZSB0b2FzdC5cbiAqXG4gKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIHdpdGggYCRtZFRvYXN0LmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZFRvYXN0LmNhbmNlbCgpYC5cbiAqXG4gKi9cblxuIC8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVG9hc3Qjc2ltcGxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIHRvYXN0LlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGEgYCRtZFRvYXN0UHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzOlxuICpcbiAqIC0gJG1kVG9hc3RQcmVzZXQjY29udGVudChzdHJpbmcpIC0gc2V0cyB0b2FzdCBjb250ZW50IHRvIHN0cmluZ1xuICogLSAkbWRUb2FzdFByZXNldCNhY3Rpb24oc3RyaW5nKSAtIGFkZHMgYW4gYWN0aW9uIGJ1dHRvbiwgd2hpY2ggcmVzb2x2ZXMgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgc2hvdygpYCBpZiBjbGlja2VkLlxuICogLSAkbWRUb2FzdFByZXNldCNoaWdobGlnaHRBY3Rpb24oYm9vbGVhbikgLSBzZXRzIGFjdGlvbiBidXR0b24gdG8gYmUgaGlnaGxpZ2h0ZWRcbiAqIC0gJG1kVG9hc3RQcmVzZXQjY2Fwc3VsZShib29sZWFuKSAtIGFkZHMgJ21kLWNhcHN1bGUnIGNsYXNzIHRvIHRoZSB0b2FzdCAoY3VydmVkIGNvcm5lcnMpXG4gKiAtICRtZFRvYXN0UHJlc2V0I3RoZW1lKGJvb2xlYW4pIC0gc2V0cyB0aGUgdGhlbWUgb24gdGhlIHRvYXN0IHRvIHRoZW1lIChkZWZhdWx0IGlzIGAkbWRUaGVtaW5nUHJvdmlkZXJgJ3MgZGVmYXVsdCB0aGVtZSlcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3VwZGF0ZUNvbnRlbnRcbiAqIFxuICogQGRlc2NyaXB0aW9uXG4gKiBVcGRhdGVzIHRoZSBjb250ZW50IG9mIGFuIGV4aXN0aW5nIHRvYXN0LiBVc2VmdWwgZm9yIHVwZGF0aW5nIHRoaW5ncyBsaWtlIGNvdW50cywgZXRjLlxuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNidWlsZFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGN1c3RvbSBgJG1kVG9hc3RQcmVzZXRgIHRoYXQgeW91IGNhbiBjb25maWd1cmUuXG4gKlxuICogQHJldHVybnMge29ian0gYSBgJG1kVG9hc3RQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHMgZm9yIHNob3dzJyBvcHRpb25zIChzZWUgYmVsb3cpLlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3Nob3dcbiAqXG4gKiBAZGVzY3JpcHRpb24gU2hvd3MgdGhlIHRvYXN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zT3JQcmVzZXQgRWl0aGVyIHByb3ZpZGUgYW4gYCRtZFRvYXN0UHJlc2V0YCByZXR1cm5lZCBmcm9tIGBzaW1wbGUoKWBcbiAqIGFuZCBgYnVpbGQoKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWA6IFRoZSB1cmwgb2YgYW4gaHRtbCB0ZW1wbGF0ZSBmaWxlIHRoYXQgd2lsbFxuICogICAgIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvYXN0LiBSZXN0cmljdGlvbnM6IHRoZSB0ZW1wbGF0ZSBtdXN0XG4gKiAgICAgaGF2ZSBhbiBvdXRlciBgbWQtdG9hc3RgIGVsZW1lbnQuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBTYW1lIGFzIHRlbXBsYXRlVXJsLCBleGNlcHQgdGhpcyBpcyBhbiBhY3R1YWxcbiAqICAgICB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiAgIC0gYGhpZGVEZWxheWAgLSBge251bWJlcj19YDogSG93IG1hbnkgbWlsbGlzZWNvbmRzIHRoZSB0b2FzdCBzaG91bGQgc3RheVxuICogICAgIGFjdGl2ZSBiZWZvcmUgYXV0b21hdGljYWxseSBjbG9zaW5nLiAgU2V0IHRvIDAgb3IgZmFsc2UgdG8gaGF2ZSB0aGUgdG9hc3Qgc3RheSBvcGVuIHVudGlsXG4gKiAgICAgY2xvc2VkIG1hbnVhbGx5LiBEZWZhdWx0OiAzMDAwLlxuICogICAtIGBwb3NpdGlvbmAgLSBge3N0cmluZz19YDogV2hlcmUgdG8gcGxhY2UgdGhlIHRvYXN0LiBBdmFpbGFibGU6IGFueSBjb21iaW5hdGlvblxuICogICAgIG9mICdib3R0b20nLCAnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnZml0Jy4gRGVmYXVsdDogJ2JvdHRvbSBsZWZ0Jy5cbiAqICAgLSBgY29udHJvbGxlcmAgLSBge3N0cmluZz19YDogVGhlIGNvbnRyb2xsZXIgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyB0b2FzdC5cbiAqICAgICBUaGUgY29udHJvbGxlciB3aWxsIGJlIGluamVjdGVkIHRoZSBsb2NhbCBgJGhpZGVUb2FzdGAsIHdoaWNoIGlzIGEgZnVuY3Rpb25cbiAqICAgICB1c2VkIHRvIGhpZGUgdGhlIHRvYXN0LlxuICogICAtIGBsb2NhbHNgIC0gYHtzdHJpbmc9fWA6IEFuIG9iamVjdCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycy4gVGhlIGtleXMgd2lsbFxuICogICAgIGJlIHVzZWQgYXMgbmFtZXMgb2YgdmFsdWVzIHRvIGluamVjdCBpbnRvIHRoZSBjb250cm9sbGVyLiBGb3IgZXhhbXBsZSxcbiAqICAgICBgbG9jYWxzOiB7dGhyZWU6IDN9YCB3b3VsZCBpbmplY3QgYHRocmVlYCBpbnRvIHRoZSBjb250cm9sbGVyIHdpdGggdGhlIHZhbHVlXG4gKiAgICAgb2YgMy5cbiAqICAgLSBgcmVzb2x2ZWAgLSBge29iamVjdD19YDogU2ltaWxhciB0byBsb2NhbHMsIGV4Y2VwdCBpdCB0YWtlcyBwcm9taXNlcyBhcyB2YWx1ZXNcbiAqICAgICBhbmQgdGhlIHRvYXN0IHdpbGwgbm90IG9wZW4gdW50aWwgdGhlIHByb21pc2VzIHJlc29sdmUuXG4gKiAgIC0gYGNvbnRyb2xsZXJBc2AgLSBge3N0cmluZz19YDogQW4gYWxpYXMgdG8gYXNzaWduIHRoZSBjb250cm9sbGVyIHRvIG9uIHRoZSBzY29wZS5cbiAqICAgLSBgcGFyZW50YCAtIGB7ZWxlbWVudD19YDogVGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSB0b2FzdCB0by4gRGVmYXVsdHMgdG8gYXBwZW5kaW5nXG4gKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWRUb2FzdC5oaWRlKClgIG9yXG4gKiByZWplY3RlZCB3aXRoIGAkbWRUb2FzdC5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNoaWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIGFuIGV4aXN0aW5nIHRvYXN0IGFuZCByZXNvbHZlIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYCRtZFRvYXN0LnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBhIHByb21pc2UgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgZXhpc3RpbmcgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTVxuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSB0aGUgZXhpc3RpbmcgdG9hc3QgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kVG9hc3Quc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBleGlzdGluZyBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1kVG9hc3RQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgdmFyIGFjdGl2ZVRvYXN0Q29udGVudDtcbiAgdmFyICRtZFRvYXN0ID0gJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKCckbWRUb2FzdCcpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsncG9zaXRpb24nLCAnaGlkZURlbGF5JywgJ2NhcHN1bGUnXSxcbiAgICAgIG9wdGlvbnM6IHRvYXN0RGVmYXVsdE9wdGlvbnNcbiAgICB9KVxuICAgIC5hZGRQcmVzZXQoJ3NpbXBsZScsIHtcbiAgICAgIGFyZ09wdGlvbjogJ2NvbnRlbnQnLFxuICAgICAgbWV0aG9kczogWydjb250ZW50JywgJ2FjdGlvbicsICdoaWdobGlnaHRBY3Rpb24nLCAndGhlbWUnXSxcbiAgICAgIG9wdGlvbnM6IC8qIEBuZ0luamVjdCAqLyBbXCIkbWRUb2FzdFwiLCBcIiRtZFRoZW1pbmdcIiwgZnVuY3Rpb24oJG1kVG9hc3QsICRtZFRoZW1pbmcpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgdGVtcGxhdGU6IFtcbiAgICAgICAgICAgICc8bWQtdG9hc3QgbWQtdGhlbWU9XCJ7eyB0b2FzdC50aGVtZSB9fVwiIG5nLWNsYXNzPVwie1xcJ21kLWNhcHN1bGVcXCc6IHRvYXN0LmNhcHN1bGV9XCI+JyxcbiAgICAgICAgICAgICAgJzxzcGFuIGZsZXg+e3sgdG9hc3QuY29udGVudCB9fTwvc3Bhbj4nLFxuICAgICAgICAgICAgICAnPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWFjdGlvblwiIG5nLWlmPVwidG9hc3QuYWN0aW9uXCIgbmctY2xpY2s9XCJ0b2FzdC5yZXNvbHZlKClcIiBuZy1jbGFzcz1cIntcXCdtZC1oaWdobGlnaHRcXCc6IHRvYXN0LmhpZ2hsaWdodEFjdGlvbn1cIj4nLFxuICAgICAgICAgICAgICAgICd7eyB0b2FzdC5hY3Rpb24gfX0nLFxuICAgICAgICAgICAgICAnPC9tZC1idXR0b24+JyxcbiAgICAgICAgICAgICc8L21kLXRvYXN0PidcbiAgICAgICAgICBdLmpvaW4oJycpLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IC8qIEBuZ0luamVjdCAqLyBbXCIkc2NvcGVcIiwgZnVuY3Rpb24gbWRUb2FzdEN0cmwoJHNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gYWN0aXZlVG9hc3RDb250ZW50OyB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5jb250ZW50ID0gYWN0aXZlVG9hc3RDb250ZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSxcbiAgICAgICAgICB0aGVtZTogJG1kVGhlbWluZy5kZWZhdWx0VGhlbWUoKSxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd0b2FzdCcsXG4gICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3B0cztcbiAgICAgIH1dXG4gICAgfSlcbiAgICAuYWRkTWV0aG9kKCd1cGRhdGVDb250ZW50JywgZnVuY3Rpb24obmV3Q29udGVudCkge1xuICAgICAgYWN0aXZlVG9hc3RDb250ZW50ID0gbmV3Q29udGVudDtcbiAgICB9KTtcblxuICB0b2FzdERlZmF1bHRPcHRpb25zLiRpbmplY3QgPSBbXCIkdGltZW91dFwiLCBcIiRhbmltYXRlXCIsIFwiJG1kVG9hc3RcIl07XG4gICAgcmV0dXJuICRtZFRvYXN0O1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiB0b2FzdERlZmF1bHRPcHRpb25zKCR0aW1lb3V0LCAkYW5pbWF0ZSwgJG1kVG9hc3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgIHRoZW1hYmxlOiB0cnVlLFxuICAgICAgaGlkZURlbGF5OiAzMDAwXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgLy8gJ3RvcCBsZWZ0JyAtPiAnbWQtdG9wIG1kLWxlZnQnXG4gICAgICBhY3RpdmVUb2FzdENvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQ7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKG9wdGlvbnMucG9zaXRpb24uc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHJldHVybiAnbWQtJyArIHBvcztcbiAgICAgIH0pLmpvaW4oJyAnKSk7XG4gICAgICBvcHRpb25zLnBhcmVudC5hZGRDbGFzcyh0b2FzdE9wZW5DbGFzcyhvcHRpb25zLnBvc2l0aW9uKSk7XG5cbiAgICAgIG9wdGlvbnMub25Td2lwZSA9IGZ1bmN0aW9uKGV2LCBnZXN0dXJlKSB7XG4gICAgICAgIC8vQWRkIHN3aXBlbGVmdC9zd2lwZXJpZ2h0IGNsYXNzIHRvIGVsZW1lbnQgc28gaXQgY2FuIGFuaW1hdGUgY29ycmVjdGx5XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLScgKyBldi50eXBlLnJlcGxhY2UoJyRtZC4nLCcnKSk7XG4gICAgICAgICR0aW1lb3V0KCRtZFRvYXN0LmNhbmNlbCk7XG4gICAgICB9O1xuICAgICAgZWxlbWVudC5vbignJG1kLnN3aXBlbGVmdCAkbWQuc3dpcGVyaWdodCcsIG9wdGlvbnMub25Td2lwZSk7XG4gICAgICByZXR1cm4gJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUmVtb3ZlKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBlbGVtZW50Lm9mZignJG1kLnN3aXBlbGVmdCAkbWQuc3dpcGVyaWdodCcsIG9wdGlvbnMub25Td2lwZSk7XG4gICAgICBvcHRpb25zLnBhcmVudC5yZW1vdmVDbGFzcyh0b2FzdE9wZW5DbGFzcyhvcHRpb25zLnBvc2l0aW9uKSk7XG4gICAgICByZXR1cm4gJGFuaW1hdGUubGVhdmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9hc3RPcGVuQ2xhc3MocG9zaXRpb24pIHtcbiAgICAgIHJldHVybiAnbWQtdG9hc3Qtb3Blbi0nICtcbiAgICAgICAgKHBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpID4gLTEgPyAndG9wJyA6ICdib3R0b20nKTtcbiAgICB9XG4gIH1cblxufVxuTWRUb2FzdFByb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sYmFyXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRvb2xiYXInLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuY29udGVudCdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kVG9vbGJhcicsIG1kVG9vbGJhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUb29sYmFyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhclxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICogYG1kLXRvb2xiYXJgIGlzIHVzZWQgdG8gcGxhY2UgYSB0b29sYmFyIGluIHlvdXIgYXBwLlxuICpcbiAqIFRvb2xiYXJzIGFyZSB1c3VhbGx5IHVzZWQgYWJvdmUgYSBjb250ZW50IGFyZWEgdG8gZGlzcGxheSB0aGUgdGl0bGUgb2YgdGhlXG4gKiBjdXJyZW50IHBhZ2UsIGFuZCBzaG93IHJlbGV2YW50IGFjdGlvbiBidXR0b25zIGZvciB0aGF0IHBhZ2UuXG4gKlxuICogWW91IGNhbiBjaGFuZ2UgdGhlIGhlaWdodCBvZiB0aGUgdG9vbGJhciBieSBhZGRpbmcgZWl0aGVyIHRoZVxuICogYG1kLW1lZGl1bS10YWxsYCBvciBgbWQtdGFsbGAgY2xhc3MgdG8gdGhlIHRvb2xiYXIuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtZmlsbD5cbiAqICAgPG1kLXRvb2xiYXI+XG4gKlxuICogICAgIDxkaXYgY2xhc3M9XCJtZC10b29sYmFyLXRvb2xzXCI+XG4gKiAgICAgICA8c3Bhbj5NeSBBcHAncyBUaXRsZTwvc3Bhbj5cbiAqXG4gKiAgICAgICA8IS0tIGZpbGwgdXAgdGhlIHNwYWNlIGJldHdlZW4gbGVmdCBhbmQgcmlnaHQgYXJlYSAtLT5cbiAqICAgICAgIDxzcGFuIGZsZXg+PC9zcGFuPlxuICpcbiAqICAgICAgIDxtZC1idXR0b24+XG4gKiAgICAgICAgIFJpZ2h0IEJhciBCdXR0b25cbiAqICAgICAgIDwvbWQtYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICpcbiAqICAgPC9tZC10b29sYmFyPlxuICogICA8bWQtY29udGVudD5cbiAqICAgICBIZWxsbyFcbiAqICAgPC9tZC1jb250ZW50PlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtc2Nyb2xsLXNocmluayBXaGV0aGVyIHRoZSBoZWFkZXIgc2hvdWxkIHNocmluayBhd2F5IGFzXG4gKiB0aGUgdXNlciBzY3JvbGxzIGRvd24sIGFuZCByZXZlYWwgaXRzZWxmIGFzIHRoZSB1c2VyIHNjcm9sbHMgdXAuXG4gKiBOb3RlOiBmb3Igc2Nyb2xsU2hyaW5rIHRvIHdvcmssIHRoZSB0b29sYmFyIG11c3QgYmUgYSBzaWJsaW5nIG9mIGFcbiAqIGBtZC1jb250ZW50YCBlbGVtZW50LCBwbGFjZWQgYmVmb3JlIGl0LiBTZWUgdGhlIHNjcm9sbCBzaHJpbmsgZGVtby5cbiAqXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1zaHJpbmstc3BlZWQtZmFjdG9yIEhvdyBtdWNoIHRvIGNoYW5nZSB0aGUgc3BlZWQgb2YgdGhlIHRvb2xiYXInc1xuICogc2hyaW5raW5nIGJ5LiBGb3IgZXhhbXBsZSwgaWYgMC4yNSBpcyBnaXZlbiB0aGVuIHRoZSB0b29sYmFyIHdpbGwgc2hyaW5rXG4gKiBhdCBvbmUgZm91cnRoIHRoZSByYXRlIGF0IHdoaWNoIHRoZSB1c2VyIHNjcm9sbHMgZG93bi4gRGVmYXVsdCAwLjUuXG4gKi9cbmZ1bmN0aW9uIG1kVG9vbGJhckRpcmVjdGl2ZSgkJHJBRiwgJG1kQ29uc3RhbnQsICRtZFV0aWwsICRtZFRoZW1pbmcpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZFNjcm9sbFNocmluaykpIHtcbiAgICAgICAgc2V0dXBTY3JvbGxTaHJpbmsoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0dXBTY3JvbGxTaHJpbmsoKSB7XG4gICAgICAgIC8vIEN1cnJlbnQgXCJ5XCIgcG9zaXRpb24gb2Ygc2Nyb2xsXG4gICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGxhc3Qgc2Nyb2xsIHRvcCBwb3NpdGlvblxuICAgICAgICB2YXIgcHJldlNjcm9sbFRvcCA9IDA7XG5cbiAgICAgICAgdmFyIHNocmlua1NwZWVkRmFjdG9yID0gYXR0ci5tZFNocmlua1NwZWVkRmFjdG9yIHx8IDAuNTtcblxuICAgICAgICB2YXIgdG9vbGJhckhlaWdodDtcbiAgICAgICAgdmFyIGNvbnRlbnRFbGVtZW50O1xuXG4gICAgICAgIHZhciBkZWJvdW5jZWRDb250ZW50U2Nyb2xsID0gJCRyQUYudGhyb3R0bGUob25Db250ZW50U2Nyb2xsKTtcbiAgICAgICAgdmFyIGRlYm91bmNlZFVwZGF0ZUhlaWdodCA9ICRtZFV0aWwuZGVib3VuY2UodXBkYXRlVG9vbGJhckhlaWdodCwgNSAqIDEwMDApO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yICRtZENvbnRlbnRMb2FkZWQgZXZlbnQgZnJvbSBtZENvbnRlbnQgZGlyZWN0aXZlLlxuICAgICAgICAvLyBJZiB0aGUgbWRDb250ZW50IGVsZW1lbnQgaXMgYSBzaWJsaW5nIG9mIG91ciB0b29sYmFyLCBob29rIGl0IHVwXG4gICAgICAgIC8vIHRvIHNjcm9sbCBldmVudHMuXG4gICAgICAgIHNjb3BlLiRvbignJG1kQ29udGVudExvYWRlZCcsIG9uTWRDb250ZW50TG9hZCk7XG5cbiAgICAgICAgZnVuY3Rpb24gb25NZENvbnRlbnRMb2FkKCRldmVudCwgbmV3Q29udGVudEVsKSB7XG4gICAgICAgICAgLy8gVG9vbGJhciBhbmQgY29udGVudCBtdXN0IGJlIHNpYmxpbmdzXG4gICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50KClbMF0gPT09IG5ld0NvbnRlbnRFbC5wYXJlbnQoKVswXSkge1xuICAgICAgICAgICAgLy8gdW5ob29rIG9sZCBjb250ZW50IGV2ZW50IGxpc3RlbmVyIGlmIGV4aXN0c1xuICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50Lm9mZignc2Nyb2xsJywgZGVib3VuY2VkQ29udGVudFNjcm9sbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld0NvbnRlbnRFbC5vbignc2Nyb2xsJywgZGVib3VuY2VkQ29udGVudFNjcm9sbCk7XG4gICAgICAgICAgICBuZXdDb250ZW50RWwuYXR0cignc2Nyb2xsLXNocmluaycsICd0cnVlJyk7XG5cbiAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50ID0gbmV3Q29udGVudEVsO1xuICAgICAgICAgICAgJCRyQUYodXBkYXRlVG9vbGJhckhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVG9vbGJhckhlaWdodCgpIHtcbiAgICAgICAgICB0b29sYmFySGVpZ2h0ID0gZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcbiAgICAgICAgICAvLyBBZGQgYSBuZWdhdGl2ZSBtYXJnaW4tdG9wIHRoZSBzaXplIG9mIHRoZSB0b29sYmFyIHRvIHRoZSBjb250ZW50IGVsLlxuICAgICAgICAgIC8vIFRoZSBjb250ZW50IHdpbGwgc3RhcnQgdHJhbnNmb3JtZWQgZG93biB0aGUgdG9vbGJhckhlaWdodCBhbW91bnQsXG4gICAgICAgICAgLy8gc28gZXZlcnl0aGluZyBsb29rcyBub3JtYWwuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBBcyB0aGUgdXNlciBzY3JvbGxzIGRvd24sIHRoZSBjb250ZW50IHdpbGwgYmUgdHJhbnNmb3JtZWQgdXAgc2xvd2x5XG4gICAgICAgICAgLy8gdG8gcHV0IHRoZSBjb250ZW50IHVuZGVybmVhdGggd2hlcmUgdGhlIHRvb2xiYXIgd2FzLlxuICAgICAgICAgIGNvbnRlbnRFbGVtZW50LmNzcyhcbiAgICAgICAgICAgICdtYXJnaW4tdG9wJyxcbiAgICAgICAgICAgICgtdG9vbGJhckhlaWdodCAqIHNocmlua1NwZWVkRmFjdG9yKSArICdweCdcbiAgICAgICAgICApO1xuICAgICAgICAgIG9uQ29udGVudFNjcm9sbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Db250ZW50U2Nyb2xsKGUpIHtcbiAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZSA/IGUudGFyZ2V0LnNjcm9sbFRvcCA6IHByZXZTY3JvbGxUb3A7XG5cbiAgICAgICAgICBkZWJvdW5jZWRVcGRhdGVIZWlnaHQoKTtcblxuICAgICAgICAgIHkgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIHRvb2xiYXJIZWlnaHQgLyBzaHJpbmtTcGVlZEZhY3RvcixcbiAgICAgICAgICAgIE1hdGgubWF4KDAsIHkgKyBzY3JvbGxUb3AgLSBwcmV2U2Nyb2xsVG9wKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBlbGVtZW50LmNzcyhcbiAgICAgICAgICAgICRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sXG4gICAgICAgICAgICAndHJhbnNsYXRlM2QoMCwnICsgKC15ICogc2hyaW5rU3BlZWRGYWN0b3IpICsgJ3B4LDApJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGVudEVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSxcbiAgICAgICAgICAgICd0cmFuc2xhdGUzZCgwLCcgKyAoKHRvb2xiYXJIZWlnaHQgLSB5KSAqIHNocmlua1NwZWVkRmFjdG9yKSArICdweCwwKSdcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcHJldlNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9XG4gIH07XG5cbn1cbm1kVG9vbGJhckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXBcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudG9vbHRpcCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFRvb2x0aXAnLCBNZFRvb2x0aXBEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kVG9vbHRpcFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXBcbiAqIEBkZXNjcmlwdGlvblxuICogVG9vbHRpcHMgYXJlIHVzZWQgdG8gZGVzY3JpYmUgZWxlbWVudHMgdGhhdCBhcmUgaW50ZXJhY3RpdmUgYW5kIHByaW1hcmlseSBncmFwaGljYWwgKG5vdCB0ZXh0dWFsKS5cbiAqXG4gKiBQbGFjZSBhIGA8bWQtdG9vbHRpcD5gIGFzIGEgY2hpbGQgb2YgdGhlIGVsZW1lbnQgaXQgZGVzY3JpYmVzLlxuICpcbiAqIEEgdG9vbHRpcCB3aWxsIGFjdGl2YXRlIHdoZW4gdGhlIHVzZXIgZm9jdXNlcywgaG92ZXJzIG92ZXIsIG9yIHRvdWNoZXMgdGhlIHBhcmVudC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtaWNvbiBpY29uPVwiL2ltZy9pY29ucy9pY19wbGF5X2Fycm93XzI0cHguc3ZnXCI+XG4gKiAgIDxtZC10b29sdGlwPlxuICogICAgIFBsYXkgTXVzaWNcbiAqICAgPC9tZC10b29sdGlwPlxuICogPC9tZC1pY29uPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLXZpc2libGUgQm9vbGVhbiBib3VuZCB0byB3aGV0aGVyIHRoZSB0b29sdGlwIGlzXG4gKiBjdXJyZW50bHkgdmlzaWJsZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtZGVsYXkgSG93IG1hbnkgbWlsbGlzZWNvbmRzIHRvIHdhaXQgdG8gc2hvdyB0aGUgdG9vbHRpcCBhZnRlciB0aGUgdXNlciBmb2N1c2VzLCBob3ZlcnMsIG9yIHRvdWNoZXMgdGhlIHBhcmVudC4gRGVmYXVsdHMgdG8gNDAwbXMuXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWRpcmVjdGlvbiBXaGljaCBkaXJlY3Rpb24gd291bGQgeW91IGxpa2UgdGhlIHRvb2x0aXAgdG8gZ28/ICBTdXBwb3J0cyBsZWZ0LCByaWdodCwgdG9wLCBhbmQgYm90dG9tLiAgRGVmYXVsdHMgdG8gYm90dG9tLlxuICovXG5mdW5jdGlvbiBNZFRvb2x0aXBEaXJlY3RpdmUoJHRpbWVvdXQsICR3aW5kb3csICQkckFGLCAkZG9jdW1lbnQsICRtZFV0aWwsICRtZFRoZW1pbmcsICRyb290RWxlbWVudCwgJGFuaW1hdGUsICRxKSB7XG5cbiAgdmFyIFRPT0xUSVBfU0hPV19ERUxBWSA9IDA7XG4gIHZhciBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFID0gODtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtYmFja2dyb3VuZFwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1jb250ZW50XCIgbmctdHJhbnNjbHVkZT48L2Rpdj4nLFxuICAgIHNjb3BlOiB7XG4gICAgICB2aXNpYmxlOiAnPT9tZFZpc2libGUnLFxuICAgICAgZGVsYXk6ICc9P21kRGVsYXknXG4gICAgfSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjb250ZW50Q3RybCkge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgdmFyIGJhY2tncm91bmQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZC1iYWNrZ3JvdW5kJylbMF0pO1xuICAgIHZhciBkaXJlY3Rpb24gPSBhdHRyLm1kRGlyZWN0aW9uO1xuXG4gICAgLy8gS2VlcCBsb29raW5nIGZvciBhIGhpZ2hlciBwYXJlbnQgaWYgb3VyIGN1cnJlbnQgb25lIGhhcyBubyBwb2ludGVyIGV2ZW50c1xuICAgIHdoaWxlICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50WzBdKVsncG9pbnRlci1ldmVudHMnXSA9PSAnbm9uZScpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQoKTtcbiAgICB9XG5cbiAgICAvLyBMb29rIGZvciB0aGUgbmVhcmVzdCBwYXJlbnQgbWQtY29udGVudCwgc3RvcHBpbmcgYXQgdGhlIHJvb3RFbGVtZW50LlxuICAgIHZhciBjdXJyZW50ID0gZWxlbWVudC5wYXJlbnQoKVswXTtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSAkcm9vdEVsZW1lbnRbMF0gJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgaWYgKGN1cnJlbnQudGFnTmFtZSAmJiBjdXJyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnbWQtY29udGVudCcpIGJyZWFrO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgdmFyIHRvb2x0aXBQYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQoY3VycmVudCB8fCBkb2N1bWVudC5ib2R5KTtcblxuICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZERlbGF5KSkge1xuICAgICAgc2NvcGUuZGVsYXkgPSBUT09MVElQX1NIT1dfREVMQVk7XG4gICAgfVxuXG4gICAgLy8gV2Ugd2lsbCByZS1hdHRhY2ggdG9vbHRpcCB3aGVuIHZpc2libGVcbiAgICBlbGVtZW50LmRldGFjaCgpO1xuICAgIGVsZW1lbnQuYXR0cigncm9sZScsICd0b29sdGlwJyk7XG4gICAgZWxlbWVudC5hdHRyKCdpZCcsIGF0dHIuaWQgfHwgKCd0b29sdGlwXycgKyAkbWRVdGlsLm5leHRVaWQoKSkpO1xuXG4gICAgcGFyZW50Lm9uKCdmb2N1cyBtb3VzZWVudGVyIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHsgc2V0VmlzaWJsZSh0cnVlKTsgfSk7XG4gICAgcGFyZW50Lm9uKCdibHVyIG1vdXNlbGVhdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBmdW5jdGlvbigpIHsgaWYgKCRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICE9PSBwYXJlbnRbMF0pIHNldFZpc2libGUoZmFsc2UpOyB9KTtcblxuICAgIHNjb3BlLiR3YXRjaCgndmlzaWJsZScsIGZ1bmN0aW9uKGlzVmlzaWJsZSkge1xuICAgICAgaWYgKGlzVmlzaWJsZSkgc2hvd1Rvb2x0aXAoKTtcbiAgICAgIGVsc2UgaGlkZVRvb2x0aXAoKTtcbiAgICB9KTtcblxuICAgIHZhciBkZWJvdW5jZWRPblJlc2l6ZSA9ICQkckFGLnRocm90dGxlKGZ1bmN0aW9uICgpIHsgaWYgKHNjb3BlLnZpc2libGUpIHBvc2l0aW9uVG9vbHRpcCgpOyB9KTtcbiAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGRlYm91bmNlZE9uUmVzaXplKTtcblxuICAgIC8vIEJlIHN1cmUgdG8gY29tcGxldGVseSBjbGVhbnVwIHRoZSBlbGVtZW50IG9uIGRlc3Ryb3lcbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBzY29wZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZGVib3VuY2VkT25SZXNpemUpO1xuICAgIH0pO1xuXG4gICAgLy8gKioqKioqKlxuICAgIC8vIE1ldGhvZHNcbiAgICAvLyAqKioqKioqXG5cbiAgICAvLyBJZiBzZXR0aW5nIHZpc2libGUgdG8gdHJ1ZSwgZGVib3VuY2UgdG8gc2NvcGUuZGVsYXkgbXNcbiAgICAvLyBJZiBzZXR0aW5nIHZpc2libGUgdG8gZmFsc2UgYW5kIG5vIHRpbWVvdXQgaXMgYWN0aXZlLCBpbnN0YW50bHkgaGlkZSB0aGUgdG9vbHRpcC5cbiAgICBmdW5jdGlvbiBzZXRWaXNpYmxlICh2YWx1ZSkge1xuICAgICAgc2V0VmlzaWJsZS52YWx1ZSA9ICEhdmFsdWU7XG4gICAgICBpZiAoIXNldFZpc2libGUucXVldWVkKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHNldFZpc2libGUucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLnZpc2libGUgPSBzZXRWaXNpYmxlLnZhbHVlO1xuICAgICAgICAgICAgc2V0VmlzaWJsZS5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9LCBzY29wZS5kZWxheSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgc2NvcGUudmlzaWJsZSA9IGZhbHNlOyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwKCkge1xuICAgICAgLy8gSW5zZXJ0IHRoZSBlbGVtZW50IGJlZm9yZSBwb3NpdGlvbmluZyBpdCwgc28gd2UgY2FuIGdldCBwb3NpdGlvblxuICAgICAgcGFyZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCBlbGVtZW50LmF0dHIoJ2lkJykpO1xuICAgICAgdG9vbHRpcFBhcmVudC5hcHBlbmQoZWxlbWVudCk7XG5cbiAgICAgIC8vIFdhaXQgdW50aWwgdGhlIGVsZW1lbnQgaGFzIGJlZW4gaW4gdGhlIGRvbSBmb3IgdHdvIGZyYW1lcyBiZWZvcmUgZmFkaW5nIGl0IGluLlxuICAgICAgLy8gQWRkaXRpb25hbGx5LCB3ZSBwb3NpdGlvbiB0aGUgdG9vbHRpcCB0d2ljZSB0byBhdm9pZCBwb3NpdGlvbmluZyBidWdzXG4gICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdtZC1zaG93Jyk7XG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhiYWNrZ3JvdW5kLCAnbWQtc2hvdycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xuICAgICAgcGFyZW50LnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgICAgICRxLmFsbChbXG4gICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGJhY2tncm91bmQsICdtZC1zaG93JyksXG4gICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdtZC1zaG93JylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNjb3BlLnZpc2libGUpIGVsZW1lbnQuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvblRvb2x0aXAoKSB7XG4gICAgICB2YXIgdGlwUmVjdCA9ICRtZFV0aWwub2Zmc2V0UmVjdChlbGVtZW50LCB0b29sdGlwUGFyZW50KTtcbiAgICAgIHZhciBwYXJlbnRSZWN0ID0gJG1kVXRpbC5vZmZzZXRSZWN0KHBhcmVudCwgdG9vbHRpcFBhcmVudCk7XG5cbiAgICAgIC8vIERlZmF1bHQgdG8gYm90dG9tIHBvc2l0aW9uIGlmIHBvc3NpYmxlXG4gICAgICB2YXIgdGlwRGlyZWN0aW9uID0gJ2JvdHRvbSc7XG4gICAgICB2YXIgbmV3UG9zaXRpb24gPSB7XG4gICAgICAgIGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIHBhcmVudFJlY3Qud2lkdGggLyAyIC0gdGlwUmVjdC53aWR0aCAvIDIsXG4gICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgKyBwYXJlbnRSZWN0LmhlaWdodFxuICAgICAgfTtcblxuICAgICAgLy8gSWYgZWxlbWVudCBibGVlZHMgb3ZlciBsZWZ0L3JpZ2h0IG9mIHRoZSB3aW5kb3csIHBsYWNlIGl0IG9uIHRoZSBlZGdlIG9mIHRoZSB3aW5kb3cuXG4gICAgICBuZXdQb3NpdGlvbi5sZWZ0ID0gTWF0aC5taW4oXG4gICAgICAgIG5ld1Bvc2l0aW9uLmxlZnQsXG4gICAgICAgIHRvb2x0aXBQYXJlbnQucHJvcCgnc2Nyb2xsV2lkdGgnKSAtIHRpcFJlY3Qud2lkdGggLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFXG4gICAgICApO1xuICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWF4KG5ld1Bvc2l0aW9uLmxlZnQsIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UpO1xuXG4gICAgICAvLyBJZiBlbGVtZW50IGJsZWVkcyBvdmVyIHRoZSBib3R0b20gb2YgdGhlIHdpbmRvdywgcGxhY2UgaXQgYWJvdmUgdGhlIHBhcmVudC5cbiAgICAgIGlmIChuZXdQb3NpdGlvbi50b3AgKyB0aXBSZWN0LmhlaWdodCA+IHRvb2x0aXBQYXJlbnQucHJvcCgnc2Nyb2xsSGVpZ2h0JykpIHtcbiAgICAgICAgbmV3UG9zaXRpb24udG9wID0gcGFyZW50UmVjdC50b3AgLSB0aXBSZWN0LmhlaWdodDtcbiAgICAgICAgdGlwRGlyZWN0aW9uID0gJ3RvcCc7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuY3NzKHt0b3A6IG5ld1Bvc2l0aW9uLnRvcCArICdweCcsIGxlZnQ6IG5ld1Bvc2l0aW9uLmxlZnQgKyAncHgnfSk7XG5cbiAgICAgIHBvc2l0aW9uQmFja2dyb3VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBwb3NpdGlvbkJhY2tncm91bmQgKCkge1xuICAgICAgICB2YXIgc2l6ZSA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0J1xuICAgICAgICAgICAgICA/IE1hdGguc3FydChNYXRoLnBvdyh0aXBSZWN0LndpZHRoLCAyKSArIE1hdGgucG93KHRpcFJlY3QuaGVpZ2h0IC8gMiwgMikpICogMlxuICAgICAgICAgICAgICA6IE1hdGguc3FydChNYXRoLnBvdyh0aXBSZWN0LndpZHRoIC8gMiwgMikgKyBNYXRoLnBvdyh0aXBSZWN0LmhlaWdodCwgMikpICogMixcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZGlyZWN0aW9uID09PSAnbGVmdCcgPyB7IGxlZnQ6IDEwMCwgdG9wOiA1MCB9XG4gICAgICAgICAgICAgIDogZGlyZWN0aW9uID09PSAncmlnaHQnID8geyBsZWZ0OiAwLCB0b3A6IDUwIH1cbiAgICAgICAgICAgICAgOiBkaXJlY3Rpb24gPT09ICd0b3AnID8geyBsZWZ0OiA1MCwgdG9wOiAxMDAgfVxuICAgICAgICAgICAgICA6IHsgbGVmdDogNTAsIHRvcDogMCB9O1xuICAgICAgICBiYWNrZ3JvdW5kLmNzcyh7XG4gICAgICAgICAgd2lkdGg6IHNpemUgKyAncHgnLFxuICAgICAgICAgIGhlaWdodDogc2l6ZSArICdweCcsXG4gICAgICAgICAgbGVmdDogcG9zaXRpb24ubGVmdCArICclJyxcbiAgICAgICAgICB0b3A6IHBvc2l0aW9uLnRvcCArICclJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZml0T25TY3JlZW4gKHBvcykge1xuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSB7fTtcbiAgICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWluKCBwb3MubGVmdCwgdG9vbHRpcFBhcmVudC5wcm9wKCdzY3JvbGxXaWR0aCcpIC0gdGlwUmVjdC53aWR0aCAtIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWF4KCBwb3MubGVmdCwgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSApO1xuICAgICAgICBuZXdQb3NpdGlvbi50b3AgID0gTWF0aC5taW4oIHBvcy50b3AsICB0b29sdGlwUGFyZW50LnByb3AoJ3Njcm9sbEhlaWdodCcpIC0gdGlwUmVjdC5oZWlnaHQgLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFICk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnRvcCAgPSBNYXRoLm1heCggcG9zLnRvcCwgIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgcmV0dXJuIG5ld1Bvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQb3NpdGlvbiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09ICdsZWZ0J1xuICAgICAgICAgID8geyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgLSB0aXBSZWN0LndpZHRoIC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSxcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFJlY3QuaGVpZ2h0IC8gMiAtIHRpcFJlY3QuaGVpZ2h0IC8gMiB9XG4gICAgICAgICAgOiBkaXIgPT09ICdyaWdodCdcbiAgICAgICAgICA/IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0ICsgcGFyZW50UmVjdC53aWR0aCArIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UsXG4gICAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgKyBwYXJlbnRSZWN0LmhlaWdodCAvIDIgLSB0aXBSZWN0LmhlaWdodCAvIDIgfVxuICAgICAgICAgIDogZGlyID09PSAndG9wJ1xuICAgICAgICAgID8geyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBwYXJlbnRSZWN0LndpZHRoIC8gMiAtIHRpcFJlY3Qud2lkdGggLyAyLFxuICAgICAgICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wIC0gdGlwUmVjdC5oZWlnaHQgLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFIH1cbiAgICAgICAgICA6IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0ICsgcGFyZW50UmVjdC53aWR0aCAvIDIgLSB0aXBSZWN0LndpZHRoIC8gMixcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFJlY3QuaGVpZ2h0ICsgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSB9O1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbn1cbk1kVG9vbHRpcERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIiwgXCIkd2luZG93XCIsIFwiJCRyQUZcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRyb290RWxlbWVudFwiLCBcIiRhbmltYXRlXCIsIFwiJHFcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMud2hpdGVmcmFtZVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy53aGl0ZWZyYW1lJywgW10pO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnKVxuICAgICAgLmNvbnRyb2xsZXIoJ01kQXV0b2NvbXBsZXRlQ3RybCcsIE1kQXV0b2NvbXBsZXRlQ3RybCk7XG5cbiAgZnVuY3Rpb24gTWRBdXRvY29tcGxldGVDdHJsICgkc2NvcGUsICRlbGVtZW50LCAkdGltZW91dCwgJHEsICRtZFV0aWwsICRtZENvbnN0YW50KSB7XG5cbiAgICAvLy0tIHByaXZhdGUgdmFyaWFibGVzXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBpdGVtUGFydHMgPSAkc2NvcGUuaXRlbXNFeHByLnNwbGl0KC9cXCBpblxcIC9pKSxcbiAgICAgICAgaXRlbUV4cHIgPSBpdGVtUGFydHNbMV0sXG4gICAgICAgIGVsZW1lbnRzID0ge1xuICAgICAgICAgIG1haW46ICAkZWxlbWVudFswXSxcbiAgICAgICAgICB1bDogICAgJGVsZW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VsJylbMF0sXG4gICAgICAgICAgaW5wdXQ6ICRlbGVtZW50WzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdXG4gICAgICAgIH0sXG4gICAgICAgIHByb21pc2UgID0gbnVsbCxcbiAgICAgICAgY2FjaGUgICAgPSB7fTtcblxuICAgIC8vLS0gcHVibGljIHZhcmlhYmxlc1xuICAgIHNlbGYuc2NvcGUgICAgPSAkc2NvcGU7XG4gICAgc2VsZi5wYXJlbnQgICA9ICRzY29wZS4kcGFyZW50O1xuICAgIHNlbGYuaXRlbU5hbWUgPSBpdGVtUGFydHNbMF07XG4gICAgc2VsZi5tYXRjaGVzICA9IFtdO1xuICAgIHNlbGYubG9hZGluZyAgPSBmYWxzZTtcbiAgICBzZWxmLmhpZGRlbiAgID0gdHJ1ZTtcbiAgICBzZWxmLmluZGV4ICAgID0gMDtcbiAgICBzZWxmLmtleWRvd24gID0ga2V5ZG93bjtcbiAgICBzZWxmLmNsZWFyICAgID0gY2xlYXJWYWx1ZTtcbiAgICBzZWxmLnNlbGVjdCAgID0gc2VsZWN0O1xuICAgIHNlbGYuZmV0Y2ggICAgPSAkbWRVdGlsLmRlYm91bmNlKGZldGNoUmVzdWx0cyk7XG5cbiAgICAvLy0tIHJldHVybiBpbml0XG4gICAgcmV0dXJuIGluaXQoKTtcblxuICAgIC8vLS0gc3RhcnQgbWV0aG9kIGRlZmluaXRpb25zXG4gICAgZnVuY3Rpb24gaW5pdCAoKSB7XG4gICAgICBjb25maWd1cmVXYXRjaGVycygpO1xuICAgICAgY29uZmlndXJlQXJpYSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEgKCkge1xuICAgICAgdmFyIHVsID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLnVsKSxcbiAgICAgICAgICBpbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5pbnB1dCksXG4gICAgICAgICAgaWQgPSB1bC5hdHRyKCdpZCcpIHx8ICd1bF8nICsgJG1kVXRpbC5uZXh0VWlkKCk7XG4gICAgICB1bC5hdHRyKCdpZCcsIGlkKTtcbiAgICAgIGlucHV0LmF0dHIoJ2FyaWEtb3ducycsIGlkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmVXYXRjaGVycyAoKSB7XG4gICAgICAkc2NvcGUuJHdhdGNoKCdzZWFyY2hUZXh0JywgZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcbiAgICAgICAgaWYgKCFzZWFyY2hUZXh0KSB7XG4gICAgICAgICAgc2VsZi5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHNlbGYubWF0Y2hlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXJtID0gc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLmNhbmNlbCkge1xuICAgICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhY2hlW3Rlcm1dKSB7XG4gICAgICAgICAgc2VsZi5tYXRjaGVzID0gY2FjaGVbdGVybV07XG4gICAgICAgIH0gZWxzZSBpZiAoIXNlbGYuaGlkZGVuKSB7XG4gICAgICAgICAgc2VsZi5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLmZldGNoKHNlYXJjaFRleHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaFJlc3VsdHMgKHNlYXJjaFRleHQpIHtcbiAgICAgIHZhciBpdGVtcyA9ICRzY29wZS4kcGFyZW50LiRldmFsKGl0ZW1FeHByKSxcbiAgICAgICAgICB0ZXJtID0gc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcHJvbWlzZSA9ICRxLndoZW4oaXRlbXMpLnRoZW4oZnVuY3Rpb24gKG1hdGNoZXMpIHtcbiAgICAgICAgY2FjaGVbdGVybV0gPSBtYXRjaGVzO1xuICAgICAgICBpZiAoc2VhcmNoVGV4dCAhPT0gJHNjb3BlLnNlYXJjaFRleHQpIHJldHVybjsgLy8tLSBqdXN0IGNhY2hlIHRoZSByZXN1bHRzIGlmIG9sZCByZXF1ZXN0XG4gICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICBzZWxmLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5tYXRjaGVzID0gbWF0Y2hlcztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtleWRvd24gKGV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XOlxuICAgICAgICAgIGlmIChzZWxmLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNlbGYuaW5kZXggPSBNYXRoLm1pbihzZWxmLmluZGV4ICsgMSwgc2VsZi5tYXRjaGVzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLlVQX0FSUk9XOlxuICAgICAgICAgIGlmIChzZWxmLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNlbGYuaW5kZXggPSBNYXRoLm1heCgwLCBzZWxmLmluZGV4IC0gMSk7XG4gICAgICAgICAgdXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRU5URVI6XG4gICAgICAgICAgaWYgKHNlbGYubG9hZGluZykgcmV0dXJuO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2VsZWN0KHNlbGYuaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRTpcbiAgICAgICAgICBzZWxmLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgICBzZWxmLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgc2VsZi5pbmRleCA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHNlbGYuaW5kZXggPSAtMTtcbiAgICAgICAgICBzZWxmLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgIC8vLS0gYWZ0ZXIgdmFsdWUgdXBkYXRlcywgY2hlY2sgaWYgbGlzdCBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzZWxmLmhpZGRlbiA9IGlzSGlkZGVuKCk7IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyVmFsdWUgKCkge1xuICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSAnJztcbiAgICAgIHNlbGVjdCgtMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNIaWRkZW4gKCkge1xuICAgICAgcmV0dXJuIHNlbGYubWF0Y2hlcy5sZW5ndGggPT09IDEgJiYgJHNjb3BlLnNlYXJjaFRleHQgPT09IGdldERpc3BsYXlWYWx1ZShzZWxmLm1hdGNoZXNbMF0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERpc3BsYXlWYWx1ZSAoaXRlbSkge1xuICAgICAgcmV0dXJuIChpdGVtICYmICRzY29wZS5pdGVtVGV4dCkgPyBpdGVtWyRzY29wZS5pdGVtVGV4dF0gOiBpdGVtO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdCAoaW5kZXgpIHtcbiAgICAgICRzY29wZS5zZWFyY2hUZXh0ID0gZ2V0RGlzcGxheVZhbHVlKHNlbGYubWF0Y2hlc1tpbmRleF0pIHx8ICRzY29wZS5zZWFyY2hUZXh0O1xuICAgICAgc2VsZi5oaWRkZW4gID0gdHJ1ZTtcbiAgICAgIHNlbGYuaW5kZXggICA9IC0xO1xuICAgICAgc2VsZi5tYXRjaGVzID0gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsICgpIHtcbiAgICAgIHZhciB0b3AgPSA0MSAqIHNlbGYuaW5kZXgsXG4gICAgICAgICAgYm90ID0gdG9wICsgNDEsXG4gICAgICAgICAgaGd0ID0gNDEgKiA1LjU7XG4gICAgICBpZiAodG9wIDwgZWxlbWVudHMudWwuc2Nyb2xsVG9wKSB7XG4gICAgICAgIGVsZW1lbnRzLnVsLnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgIH0gZWxzZSBpZiAoYm90ID4gZWxlbWVudHMudWwuc2Nyb2xsVG9wICsgaGd0KSB7XG4gICAgICAgIGVsZW1lbnRzLnVsLnNjcm9sbFRvcCA9IGJvdCAtIGhndDtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuICBNZEF1dG9jb21wbGV0ZUN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJHRpbWVvdXRcIiwgXCIkcVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAgIC5kaXJlY3RpdmUoJ21kQXV0b2NvbXBsZXRlJywgTWRBdXRvY29tcGxldGUpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAqIEBuYW1lIG1kQXV0b2NvbXBsZXRlXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGA8bWQtYXV0b2NvbXBsZXRlPmAgaXMgYSBzcGVjaWFsIGlucHV0IGNvbXBvbmVudCB3aXRoIGEgZHJvcC1kb3duIG9mIGFsbCBwb3NzaWJsZSBtYXRjaGVzIHRvIGEgY3VzdG9tIHF1ZXJ5LlxuICAgKiBUaGlzIGNvbXBvbmVudCBhbGxvd3MgeW91IHRvIHByb3ZpZGUgcmVhbC10aW1lIHN1Z2dlc3Rpb25zIGFzIHRoZSB1c2VyIHR5cGVzIGluIHRoZSBpbnB1dCBhcmVhLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1kLXNlYXJjaC10ZXh0IEEgbW9kZWwgdG8gYmluZCB0aGUgc2VhcmNoIHF1ZXJ5IHRleHQgdG9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBtZC1zZWxlY3RlZC1pdGVtIEEgbW9kZWwgdG8gYmluZCB0aGUgc2VsZWN0ZWQgaXRlbSB0b1xuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1pdGVtcyBBbiBleHByZXNzaW9uIGluIHRoZSBmb3JtYXQgb2YgYGl0ZW0gaW4gaXRlbXNgIHRvIGl0ZXJhdGUgb3ZlciBtYXRjaGVzIGZvciB5b3VyIHNlYXJjaC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtZC1pdGVtLXRleHQgQSBwcm9wZXJ0eSBvbiB5b3VyIG9iamVjdCB1c2VkIHRvIGNvbnZlcnQgeW91ciBvYmplY3QgdG8gYSBzdHJpbmdcbiAgICogQHBhcmFtIHtwbGFjZWhvbGRlcj19IFBsYWNlaG9sZGVyIHRleHQgdGhhdCB3aWxsIGJlIGZvcndhcmRlZCB0byB0aGUgaW5wdXQuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICAgKiAgIDxtZC1hdXRvY29tcGxldGVcbiAgICogICAgICAgbWQtc2VsZWN0ZWQtaXRlbT1cInNlbGVjdGVkSXRlbVwiXG4gICAqICAgICAgIG1kLXNlYXJjaC10ZXh0PVwic2VhcmNoVGV4dFwiXG4gICAqICAgICAgIG1kLWl0ZW1zPVwiaXRlbSBpbiBnZXRNYXRjaGVzKHNlYXJjaFRleHQpXCJcbiAgICogICAgICAgbWQtaXRlbS10ZXh0PVwiZGlzcGxheVwiPlxuICAgKiAgICAgPHNwYW4gbWQtaGlnaGxpZ2h0LXRleHQ9XCJzZWFyY2hUZXh0XCI+e3tpdGVtLmRpc3BsYXl9fTwvc3Bhbj5cbiAgICogICA8L21kLWF1dG9jb21wbGV0ZT5cbiAgICogPC9obGhzPlxuICAgKi9cblxuICBmdW5jdGlvbiBNZEF1dG9jb21wbGV0ZSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlOiAnXFxcbiAgICAgICAgPG1kLWF1dG9jb21wbGV0ZS13cmFwIHJvbGU9XCJsaXN0Ym94XCI+XFxcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIlxcXG4gICAgICAgICAgICAgIG5nLW1vZGVsPVwic2VhcmNoVGV4dFwiXFxcbiAgICAgICAgICAgICAgbmcta2V5ZG93bj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwua2V5ZG93bigkZXZlbnQpXCJcXFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInt7cGxhY2Vob2xkZXJ9fVwiXFxcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7cGxhY2Vob2xkZXJ9fVwiXFxcbiAgICAgICAgICAgICAgYXJpYS1hdXRvY29tcGxldGU9XCJsaXN0XCJcXFxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXFxcbiAgICAgICAgICAgICAgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVwiXCJcXFxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwie3shJG1kQXV0b2NvbXBsZXRlQ3RybC5oaWRkZW59fVwiLz5cXFxuICAgICAgICAgIDxidXR0b25cXFxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXFxuICAgICAgICAgICAgICBuZy1pZj1cInNlYXJjaFRleHRcIlxcXG4gICAgICAgICAgICAgIG5nLWNsaWNrPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5jbGVhcigpXCI+XFxcbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+WDwvc3Bhbj5cXFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpc3VhbGx5LWhpZGRlblwiPkNsZWFyPC9zcGFuPlxcXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcXG4gICAgICAgICAgPG1kLXByb2dyZXNzLWxpbmVhciBuZy1pZj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwubG9hZGluZ1wiIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XFxcbiAgICAgICAgPC9tZC1hdXRvY29tcGxldGUtd3JhcD5cXFxuICAgICAgICA8dWwgcm9sZT1cInByZXNlbnRhdGlvblwiPlxcXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIihpbmRleCwgaXRlbSkgaW4gJG1kQXV0b2NvbXBsZXRlQ3RybC5tYXRjaGVzXCJcXFxuICAgICAgICAgICAgICBuZy1jbGFzcz1cInsgc2VsZWN0ZWQ6IGluZGV4ID09PSAkbWRBdXRvY29tcGxldGVDdHJsLmluZGV4IH1cIlxcXG4gICAgICAgICAgICAgIG5nLWlmPVwic2VhcmNoVGV4dCAmJiAhJG1kQXV0b2NvbXBsZXRlQ3RybC5oaWRkZW5cIlxcXG4gICAgICAgICAgICAgIG5nLWNsaWNrPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5zZWxlY3QoaW5kZXgpXCJcXFxuICAgICAgICAgICAgICBuZy10cmFuc2NsdWRlXFxcbiAgICAgICAgICAgICAgbWQtYXV0b2NvbXBsZXRlLWxpc3QtaXRlbT1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuaXRlbU5hbWVcIj5cXFxuICAgICAgICAgIDwvbGk+XFxcbiAgICAgICAgPC91bD5cXFxuICAgICAgICA8YXJpYS1zdGF0dXNcXFxuICAgICAgICAgICAgY2xhc3M9XCJ2aXN1YWxseS1oaWRkZW5cIlxcXG4gICAgICAgICAgICBhcmlhLWF0b21pYz1cInRydWVcIlxcXG4gICAgICAgICAgICByb2xlPVwic3RhdHVzXCJcXFxuICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCI+XFxcbiAgICAgICAgICA8cCBuZy1yZXBlYXQ9XCJpdGVtIGluICRtZEF1dG9jb21wbGV0ZUN0cmwubWF0Y2hlc1wiPnt7aXRlbS5kaXNwbGF5fX08L3A+XFxcbiAgICAgICAgPC9hcmlhLXN0YXR1cz4nLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXI6ICdNZEF1dG9jb21wbGV0ZUN0cmwnLFxuICAgICAgY29udHJvbGxlckFzOiAnJG1kQXV0b2NvbXBsZXRlQ3RybCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBzZWFyY2hUZXh0OiAnPW1kU2VhcmNoVGV4dCcsXG4gICAgICAgIHNlbGVjdGVkSXRlbTogJz1tZFNlbGVjdGVkSXRlbScsXG4gICAgICAgIGl0ZW1zRXhwcjogJ0BtZEl0ZW1zJyxcbiAgICAgICAgaXRlbVRleHQ6ICdAbWRJdGVtVGV4dCcsXG4gICAgICAgIHBsYWNlaG9sZGVyOiAnQHBsYWNlaG9sZGVyJ1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAgIC5jb250cm9sbGVyKCdNZEhpZ2hsaWdodEN0cmwnLCBNZEhpZ2hsaWdodEN0cmwpO1xuXG4gIGZ1bmN0aW9uIE1kSGlnaGxpZ2h0Q3RybCAoJHNjb3BlLCAkZWxlbWVudCwgJGludGVycG9sYXRlKSB7XG4gICAgdmFyIHRlcm0gPSAkZWxlbWVudC5hdHRyKCdtZC1oaWdobGlnaHQtdGV4dCcpLFxuICAgICAgICB0ZXh0ID0gJGludGVycG9sYXRlKCRlbGVtZW50LnRleHQoKSkoJHNjb3BlKTtcbiAgICAkc2NvcGUuJHdhdGNoKHRlcm0sIGZ1bmN0aW9uICh0ZXJtKSB7XG4gICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHNhbml0aXplKHRlcm0pLCAnaScpLFxuICAgICAgICAgIGh0bWwgPSB0ZXh0LnJlcGxhY2UocmVnZXgsICc8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPiQmPC9zcGFuPicpO1xuICAgICAgJGVsZW1lbnQuaHRtbChodG1sKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNhbml0aXplICh0ZXJtKSB7XG4gICAgICBpZiAoIXRlcm0pIHJldHVybiB0ZXJtO1xuICAgICAgcmV0dXJuIHRlcm0ucmVwbGFjZSgvW1xcKlxcW1xcXVxcKFxcKVxce1xcfVxcXFxcXF5cXCRdL2csICdcXFxcJCYnKTtcbiAgICB9XG4gIH1cbiAgTWRIaWdobGlnaHRDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRpbnRlcnBvbGF0ZVwiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnKVxuICAgICAgLmRpcmVjdGl2ZSgnbWRIaWdobGlnaHRUZXh0JywgTWRIaWdobGlnaHQpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAqIEBuYW1lIG1kSGlnaGxpZ2h0VGV4dFxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYG1kLWhpZ2hsaWdodC10ZXh0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRleHQgdGhhdCBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgd2l0aGluXG4gICAqIGFuIGVsZW1lbnQuICBIaWdobGlnaHRlZCB0ZXh0IHdpbGwgYmUgd3JhcHBlZCBpbiBgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj48L3NwYW4+YCB3aGljaCBjYW5cbiAgICogYmUgc3R5bGVkIHRocm91Z2ggQ1NTLiAgUGxlYXNlIG5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyBtYXkgbm90IGJlIHVzZWQgd2l0aCB0aGlzIGRpcmVjdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtZC1oaWdobGlnaHQtdGV4dCBBIG1vZGVsIHRvIGJlIHNlYXJjaGVkIGZvclxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogPGlucHV0IHBsYWNlaG9sZGVyPVwiRW50ZXIgYSBzZWFyY2ggdGVybS4uLlwiIG5nLW1vZGVsPVwic2VhcmNoVGVybVwiIHR5cGU9XCJ0ZXh0XCIgLz5cbiAgICogPHVsPlxuICAgKiAgIDxsaSBuZy1yZXBlYXQ9XCJyZXN1bHQgaW4gcmVzdWx0c1wiIG1kLWhpZ2hsaWdodC10ZXh0PVwic2VhcmNoVGVybVwiPlxuICAgKiAgICAge3tyZXN1bHQudGV4dH19XG4gICAqICAgPC9saT5cbiAgICogPC91bD5cbiAgICogPC9obGpzPlxuICAgKi9cblxuICBmdW5jdGlvbiBNZEhpZ2hsaWdodCAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgY29udHJvbGxlcjogJ01kSGlnaGxpZ2h0Q3RybCdcbiAgICB9O1xuICB9XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgICAuZGlyZWN0aXZlKCdtZEF1dG9jb21wbGV0ZUxpc3RJdGVtJywgTWRBdXRvY29tcGxldGVMaXN0SXRlbSk7XG5cbiAgZnVuY3Rpb24gTWRBdXRvY29tcGxldGVMaXN0SXRlbSAoJGNvbXBpbGUsICRtZFV0aWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogJ14/bWRBdXRvY29tcGxldGUnLFxuICAgICAgdGVybWluYWw6IHRydWUsXG4gICAgICBsaW5rOiBsaW5rLFxuICAgICAgc2NvcGU6IGZhbHNlXG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaW5rIChzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAgICAgdmFyIG5ld1Njb3BlID0gY3RybC5wYXJlbnQuJG5ldyhmYWxzZSwgY3RybC5wYXJlbnQpO1xuICAgICAgdmFyIGl0ZW1OYW1lID0gY3RybC5zY29wZS4kZXZhbChhdHRyLm1kQXV0b2NvbXBsZXRlTGlzdEl0ZW0pO1xuICAgICAgbmV3U2NvcGVbaXRlbU5hbWVdID0gc2NvcGUuaXRlbTtcbiAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkobmV3U2NvcGUpO1xuICAgICAgZWxlbWVudC5hdHRyKHsgJ3JvbGUnOiAnb3B0aW9uJywgJ2lkJzogJ2l0ZW1fJyArICRtZFV0aWwubmV4dFVpZCgpIH0pO1xuICAgIH1cbiAgfVxuICBNZEF1dG9jb21wbGV0ZUxpc3RJdGVtLiRpbmplY3QgPSBbXCIkY29tcGlsZVwiLCBcIiRtZFV0aWxcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvbmRpdGlvbmFsbHkgY29uZmlndXJlIGluayBiYXIgYW5pbWF0aW9ucyB3aGVuIHRoZVxuICogdGFiIHNlbGVjdGlvbiBjaGFuZ2VzLiBJZiBgbWROb0JhcmAgdGhlbiBkbyBub3Qgc2hvdyB0aGVcbiAqIGJhciBub3IgYW5pbWF0ZS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gIC5kaXJlY3RpdmUoJ21kVGFic0lua0JhcicsIE1kVGFiSW5rRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gTWRUYWJJbmtEaXJlY3RpdmUoJCRyQUYpIHtcblxuICB2YXIgbGFzdEluZGV4ID0gMDtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydeP21kTm9CYXInLCAnXm1kVGFicyddLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgdmFyIG1kTm9CYXIgPSAhIWN0cmxzWzBdO1xuXG4gICAgdmFyIHRhYnNDdHJsID0gY3RybHNbMV0sXG4gICAgICAgIGRlYm91bmNlZFVwZGF0ZUJhciA9ICQkckFGLnRocm90dGxlKHVwZGF0ZUJhcik7XG5cbiAgICB0YWJzQ3RybC5pbmtCYXJFbGVtZW50ID0gZWxlbWVudDtcblxuICAgIHNjb3BlLiRvbignJG1kVGFic1BhZ2luYXRpb25DaGFuZ2VkJywgZGVib3VuY2VkVXBkYXRlQmFyKTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJhcigpIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHRhYnNDdHJsLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgICAgdmFyIGhpZGVJbmtCYXIgPSAhc2VsZWN0ZWQgfHwgdGFic0N0cmwuY291bnQoKSA8IDIgfHwgbWROb0JhcjtcblxuICAgICAgZWxlbWVudC5jc3MoJ2Rpc3BsYXknLCBoaWRlSW5rQmFyID8gJ25vbmUnIDogJ2Jsb2NrJyk7XG5cbiAgICAgIGlmIChoaWRlSW5rQmFyKSByZXR1cm47XG5cbiAgICAgIGlmIChzY29wZS5wYWdpbmF0aW9uICYmIHNjb3BlLnBhZ2luYXRpb24udGFiRGF0YSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0YWJzQ3RybC5nZXRTZWxlY3RlZEluZGV4KCk7XG4gICAgICAgIHZhciBkYXRhID0gc2NvcGUucGFnaW5hdGlvbi50YWJEYXRhLnRhYnNbaW5kZXhdIHx8IHsgbGVmdDogMCwgcmlnaHQ6IDAsIHdpZHRoOiAwIH07XG4gICAgICAgIHZhciByaWdodCA9IGVsZW1lbnQucGFyZW50KCkucHJvcCgnb2Zmc2V0V2lkdGgnKSAtIGRhdGEucmlnaHQ7XG4gICAgICAgIHZhciBjbGFzc05hbWVzID0gWydtZC10cmFuc2l0aW9uLWxlZnQnLCAnbWQtdHJhbnNpdGlvbi1yaWdodCcsICdtZC1uby10cmFuc2l0aW9uJ107XG4gICAgICAgIHZhciBjbGFzc0luZGV4ID0gbGFzdEluZGV4ID4gaW5kZXggPyAwIDogbGFzdEluZGV4IDwgaW5kZXggPyAxIDogMjtcblxuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lcy5qb2luKCcgJykpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoY2xhc3NOYW1lc1tjbGFzc0luZGV4XSlcbiAgICAgICAgICAgIC5jc3MoeyBsZWZ0OiBkYXRhLmxlZnQgKyAncHgnLCByaWdodDogcmlnaHQgKyAncHgnIH0pO1xuXG4gICAgICAgIGxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuTWRUYWJJbmtEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gICAgLmRpcmVjdGl2ZSgnbWRUYWJzUGFnaW5hdGlvbicsIFRhYlBhZ2luYXRpb25EaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiBUYWJQYWdpbmF0aW9uRGlyZWN0aXZlKCRtZENvbnN0YW50LCAkd2luZG93LCAkJHJBRiwgJCRxLCAkdGltZW91dCwgJG1kTWVkaWEpIHtcblxuICAvLyBNdXN0IG1hdGNoICgyICogd2lkdGggb2YgcGFnaW5hdG9ycykgaW4gc2Nzc1xuICB2YXIgUEFHSU5BVE9SU19XSURUSCA9ICg4ICogNCkgKiAyO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXm1kVGFicycsXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgdGFic0N0cmwpIHtcblxuICAgIHZhciB0YWJzID0gZWxlbWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFiJyk7XG4gICAgdmFyIGRlYm91bmNlZFVwZGF0ZVBhZ2luYXRpb24gPSAkJHJBRi50aHJvdHRsZSh1cGRhdGVQYWdpbmF0aW9uKTtcbiAgICB2YXIgdGFic1BhcmVudCA9IGVsZW1lbnQuY2hpbGRyZW4oKTtcbiAgICB2YXIgbG9ja2VkID0gZmFsc2U7XG4gICAgdmFyIHN0YXRlID0gc2NvcGUucGFnaW5hdGlvbiA9IHtcbiAgICAgIHBhZ2U6IC0xLFxuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIGNsaWNrTmV4dDogZnVuY3Rpb24oKSB7IGxvY2tlZCB8fCB1c2VyQ2hhbmdlUGFnZSgrMSk7IH0sXG4gICAgICBjbGlja1ByZXZpb3VzOiBmdW5jdGlvbigpIHsgbG9ja2VkIHx8IHVzZXJDaGFuZ2VQYWdlKC0xKTsgfVxuICAgIH07XG5cbiAgICBzY29wZS4kb24oJyRtZFRhYnNDaGFuZ2VkJywgZGVib3VuY2VkVXBkYXRlUGFnaW5hdGlvbik7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVQYWdpbmF0aW9uKTtcblxuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZVBhZ2luYXRpb24pO1xuICAgIH0pO1xuXG4gICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGFic0N0cmwudGFiVG9Gb2N1czsgfSwgb25UYWJGb2N1cyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgZm9jdXMgYW4gZWxlbWVudCBvbiB0aGUgbmV4dCBwYWdlXG4gICAgLy8gYmVmb3JlIGl0J3MgaW4gdmlld1xuICAgIGZ1bmN0aW9uIG9uVGFiRm9jdXModGFiLCBvbGRUYWIpIHtcbiAgICAgIGlmICghdGFiKSByZXR1cm47XG5cbiAgICAgIHZhciBwYWdlSW5kZXggPSBnZXRQYWdlRm9yVGFiKHRhYik7XG4gICAgICBpZiAoIXN0YXRlLmFjdGl2ZSB8fCBwYWdlSW5kZXggPT09IHN0YXRlLnBhZ2UpIHtcbiAgICAgICAgdGFiLmVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdvIHRvIHRoZSBuZXcgcGFnZSwgd2FpdCBmb3IgdGhlIHBhZ2UgdHJhbnNpdGlvbiB0byBlbmQsIHRoZW4gZm9jdXMuXG4gICAgICAgIG9sZFRhYiAmJiBvbGRUYWIuZWxlbWVudC5ibHVyKCk7XG4gICAgICAgIHNldFBhZ2UocGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgIHRhYi5lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxlZCB3aGVuIHBhZ2UgaXMgY2hhbmdlZCBieSBhIHVzZXIgYWN0aW9uIChjbGljaylcbiAgICBmdW5jdGlvbiB1c2VyQ2hhbmdlUGFnZShpbmNyZW1lbnQpIHtcbiAgICAgIHZhciBzaXplRGF0YSA9IHN0YXRlLnRhYkRhdGE7XG4gICAgICB2YXIgbmV3UGFnZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNpemVEYXRhLnBhZ2VzLmxlbmd0aCAtIDEsIHN0YXRlLnBhZ2UgKyBpbmNyZW1lbnQpKTtcbiAgICAgIHZhciBuZXdUYWJJbmRleCA9IHNpemVEYXRhLnBhZ2VzW25ld1BhZ2VdWyBpbmNyZW1lbnQgPiAwID8gJ2ZpcnN0VGFiSW5kZXgnIDogJ2xhc3RUYWJJbmRleCcgXTtcbiAgICAgIHZhciBuZXdUYWIgPSB0YWJzQ3RybC5pdGVtQXQobmV3VGFiSW5kZXgpO1xuICAgICAgbG9ja2VkID0gdHJ1ZTtcbiAgICAgIG9uVGFiRm9jdXMobmV3VGFiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uKCkge1xuICAgICAgaWYgKCFlbGVtZW50LnByb3AoJ29mZnNldFBhcmVudCcpKSB7XG4gICAgICAgIHZhciB3YXRjaGVyID0gd2FpdEZvclZpc2libGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFicyA9IGVsZW1lbnQuZmluZCgnbWQtdGFiJyk7XG5cbiAgICAgIGRpc2FibGVQYWdpbmF0aW9uKCk7XG5cbiAgICAgIHZhciBzaXplRGF0YSA9IHN0YXRlLnRhYkRhdGEgPSBjYWxjdWxhdGVUYWJEYXRhKCk7XG4gICAgICB2YXIgbmVlZFBhZ2luYXRpb24gPSBzdGF0ZS5hY3RpdmUgPSBzaXplRGF0YS5wYWdlcy5sZW5ndGggPiAxO1xuXG4gICAgICBpZiAobmVlZFBhZ2luYXRpb24pIHsgZW5hYmxlUGFnaW5hdGlvbigpOyB9XG5cbiAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgeyBzY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzUGFnaW5hdGlvbkNoYW5nZWQnKTsgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGVuYWJsZVBhZ2luYXRpb24oKSB7XG4gICAgICAgIHRhYnNQYXJlbnQuY3NzKCd3aWR0aCcsICc5OTk5cHgnKTtcblxuICAgICAgICAvLy0tIGFwcGx5IGZpbGxlciBtYXJnaW5zXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzaXplRGF0YS50YWJzLCBmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KHRhYi5lbGVtZW50KS5jc3MoJ21hcmdpbi1sZWZ0JywgdGFiLmZpbGxlciArICdweCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRQYWdlKGdldFBhZ2VGb3JUYWIodGFic0N0cmwuZ2V0U2VsZWN0ZWRJdGVtKCkpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGlzYWJsZVBhZ2luYXRpb24oKSB7XG4gICAgICAgIHNsaWRlVGFiQnV0dG9ucygwKTtcbiAgICAgICAgdGFic1BhcmVudC5jc3MoJ3dpZHRoJywgJycpO1xuICAgICAgICB0YWJzLmNzcygnd2lkdGgnLCAnJyk7XG4gICAgICAgIHRhYnMuY3NzKCdtYXJnaW4tbGVmdCcsICcnKTtcbiAgICAgICAgc3RhdGUucGFnZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB3YWl0Rm9yVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHdhdGNoZXIgfHwgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbMF0ub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNsaWRlVGFiQnV0dG9ucyh4KSB7XG4gICAgICBpZiAodGFic0N0cmwucGFnaW5nT2Zmc2V0ID09PSB4KSB7XG4gICAgICAgIC8vIFJlc29sdmUgaW5zdGFudGx5IGlmIG5vIGNoYW5nZVxuICAgICAgICByZXR1cm4gJCRxLndoZW4oKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJCRxLmRlZmVyKCk7XG5cbiAgICAgIHRhYnNDdHJsLiQkcGFnaW5nT2Zmc2V0ID0geDtcbiAgICAgIHRhYnNQYXJlbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICd0cmFuc2xhdGUzZCgnICsgeCArICdweCwwLDApJyk7XG4gICAgICB0YWJzUGFyZW50Lm9uKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9ORU5ELCBvblRhYnNQYXJlbnRUcmFuc2l0aW9uRW5kKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgIGZ1bmN0aW9uIG9uVGFic1BhcmVudFRyYW5zaXRpb25FbmQoZXYpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgZXZlbnQgZGlkbid0IGJ1YmJsZSB1cCBmcm9tIGFuIGFuaW1hdGlvbiBpbiBhIGNoaWxkIGVsZW1lbnQuXG4gICAgICAgIGlmIChldi50YXJnZXQgPT09IHRhYnNQYXJlbnRbMF0pIHtcbiAgICAgICAgICB0YWJzUGFyZW50Lm9mZigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgb25UYWJzUGFyZW50VHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdWxkU3RyZXRjaFRhYnMoKSB7XG4gICAgICBzd2l0Y2ggKHNjb3BlLnN0cmV0Y2hUYWJzKSB7XG4gICAgICAgIGNhc2UgJ25ldmVyJzogIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAnYWx3YXlzJzogcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6ICAgICAgIHJldHVybiAkbWRNZWRpYSgnc20nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUYWJEYXRhKG5vQWRqdXN0KSB7XG4gICAgICB2YXIgY2xpZW50V2lkdGggPSBlbGVtZW50LnBhcmVudCgpLnByb3AoJ29mZnNldFdpZHRoJyk7XG4gICAgICB2YXIgdGFic1dpZHRoID0gY2xpZW50V2lkdGggLSBQQUdJTkFUT1JTX1dJRFRIIC0gMTtcbiAgICAgIHZhciAkdGFicyA9IGFuZ3VsYXIuZWxlbWVudCh0YWJzKTtcbiAgICAgIHZhciB0b3RhbFdpZHRoID0gMDtcbiAgICAgIHZhciBtYXggPSAwO1xuICAgICAgdmFyIHRhYkRhdGEgPSBbXTtcbiAgICAgIHZhciBwYWdlcyA9IFtdO1xuICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuXG4gICAgICAkdGFicy5jc3MoJ21heC13aWR0aCcsICcnKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbiAodGFiLCBpbmRleCkge1xuICAgICAgICB2YXIgdGFiV2lkdGggPSBNYXRoLm1pbih0YWJzV2lkdGgsIHRhYi5vZmZzZXRXaWR0aCk7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IHRhYixcbiAgICAgICAgICBsZWZ0OiB0b3RhbFdpZHRoLFxuICAgICAgICAgIHdpZHRoOiB0YWJXaWR0aCxcbiAgICAgICAgICByaWdodDogdG90YWxXaWR0aCArIHRhYldpZHRoLFxuICAgICAgICAgIGZpbGxlcjogMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vLS0gVGhpcyBjYWxjdWxhdGVzIHRoZSBwYWdlIGZvciBlYWNoIHRhYi4gIFRoZSBmaXJzdCBwYWdlIHdpbGwgdXNlIHRoZSBjbGllbnRXaWR0aCwgd2hpY2hcbiAgICAgICAgLy8gICBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHBhZ2luYXRpb24gaXRlbXMuICBBZnRlciB0aGUgZmlyc3QgcGFnZSwgdGFic1dpZHRoIGlzIHVzZWRcbiAgICAgICAgLy8gICBiZWNhdXNlIGF0IHRoaXMgcG9pbnQsIHdlIGtub3cgdGhhdCB0aGUgcGFnaW5hdGlvbiBidXR0b25zIHdpbGwgYmUgc2hvd24uXG4gICAgICAgIGRhdGEucGFnZSA9IE1hdGguY2VpbChkYXRhLnJpZ2h0IC8gKCBwYWdlcy5sZW5ndGggPT09IDEgJiYgaW5kZXggPT09IHRhYnMubGVuZ3RoIC0gMSA/IGNsaWVudFdpZHRoIDogdGFic1dpZHRoICkpIC0gMTtcblxuICAgICAgICBpZiAoZGF0YS5wYWdlID49IHBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgIGRhdGEuZmlsbGVyID0gKHRhYnNXaWR0aCAqIGRhdGEucGFnZSkgLSBkYXRhLmxlZnQ7XG4gICAgICAgICAgZGF0YS5yaWdodCArPSBkYXRhLmZpbGxlcjtcbiAgICAgICAgICBkYXRhLmxlZnQgKz0gZGF0YS5maWxsZXI7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSB7XG4gICAgICAgICAgICBsZWZ0OiBkYXRhLmxlZnQsXG4gICAgICAgICAgICBmaXJzdFRhYkluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGxhc3RUYWJJbmRleDogaW5kZXgsXG4gICAgICAgICAgICB0YWJzOiBbIGRhdGEgXVxuICAgICAgICAgIH07XG4gICAgICAgICAgcGFnZXMucHVzaChjdXJyZW50UGFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UubGFzdFRhYkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgY3VycmVudFBhZ2UudGFicy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsV2lkdGggPSBkYXRhLnJpZ2h0O1xuICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHRhYldpZHRoKTtcbiAgICAgICAgdGFiRGF0YS5wdXNoKGRhdGEpO1xuICAgICAgfSk7XG4gICAgICAkdGFicy5jc3MoJ21heC13aWR0aCcsIHRhYnNXaWR0aCArICdweCcpO1xuXG4gICAgICBpZiAoIW5vQWRqdXN0ICYmIHNob3VsZFN0cmV0Y2hUYWJzKCkpIHtcbiAgICAgICAgcmV0dXJuIGFkanVzdEZvclN0cmV0Y2hlZFRhYnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IHRvdGFsV2lkdGgsXG4gICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgdGFiczogdGFiRGF0YSxcbiAgICAgICAgICBwYWdlczogcGFnZXMsXG4gICAgICAgICAgdGFiRWxlbWVudHM6IHRhYnNcbiAgICAgICAgfTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBhZGp1c3RGb3JTdHJldGNoZWRUYWJzKCkge1xuICAgICAgICB2YXIgY2FudmFzV2lkdGggPSBwYWdlcy5sZW5ndGggPT09IDEgPyBjbGllbnRXaWR0aCA6IHRhYnNXaWR0aDtcbiAgICAgICAgdmFyIHRhYnNQZXJQYWdlID0gTWF0aC5taW4oTWF0aC5mbG9vcihjYW52YXNXaWR0aCAvIG1heCksIHRhYnMubGVuZ3RoKTtcbiAgICAgICAgdmFyIHRhYldpZHRoICAgID0gTWF0aC5mbG9vcihjYW52YXNXaWR0aCAvIHRhYnNQZXJQYWdlKTtcbiAgICAgICAgJHRhYnMuY3NzKCd3aWR0aCcsIHRhYldpZHRoICsgJ3B4Jyk7XG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVUYWJEYXRhKHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhZ2VGb3JUYWIodGFiKSB7XG4gICAgICB2YXIgdGFiSW5kZXggPSB0YWJzQ3RybC5pbmRleE9mKHRhYik7XG4gICAgICBpZiAodGFiSW5kZXggPT09IC0xKSByZXR1cm4gMDtcblxuICAgICAgdmFyIHNpemVEYXRhID0gc3RhdGUudGFiRGF0YTtcblxuICAgICAgcmV0dXJuIHNpemVEYXRhID8gc2l6ZURhdGEudGFic1t0YWJJbmRleF0ucGFnZSA6IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UGFnZShwYWdlKSB7XG4gICAgICBpZiAocGFnZSA9PT0gc3RhdGUucGFnZSkgcmV0dXJuO1xuXG4gICAgICB2YXIgbGFzdFBhZ2UgPSBzdGF0ZS50YWJEYXRhLnBhZ2VzLmxlbmd0aCAtIDE7XG5cbiAgICAgIGlmIChwYWdlIDwgMCkgcGFnZSA9IDA7XG4gICAgICBpZiAocGFnZSA+IGxhc3RQYWdlKSBwYWdlID0gbGFzdFBhZ2U7XG5cbiAgICAgIHN0YXRlLmhhc1ByZXYgPSBwYWdlID4gMDtcbiAgICAgIHN0YXRlLmhhc05leHQgPSBwYWdlIDwgbGFzdFBhZ2U7XG5cbiAgICAgIHN0YXRlLnBhZ2UgPSBwYWdlO1xuXG4gICAgICBzY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzUGFnaW5hdGlvbkNoYW5nZWQnKTtcblxuICAgICAgcmV0dXJuIHNsaWRlVGFiQnV0dG9ucygtc3RhdGUudGFiRGF0YS5wYWdlc1twYWdlXS5sZWZ0KTtcbiAgICB9XG4gIH1cblxufVxuVGFiUGFnaW5hdGlvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQ29uc3RhbnRcIiwgXCIkd2luZG93XCIsIFwiJCRyQUZcIiwgXCIkJHFcIiwgXCIkdGltZW91dFwiLCBcIiRtZE1lZGlhXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgLmNvbnRyb2xsZXIoJyRtZFRhYicsIFRhYkl0ZW1Db250cm9sbGVyKTtcblxuZnVuY3Rpb24gVGFiSXRlbUNvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkY29tcGlsZSwgJGFuaW1hdGUsICRtZFV0aWwsICRwYXJzZSwgJHRpbWVvdXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdGFic0N0cmwgPSAkZWxlbWVudC5jb250cm9sbGVyKCdtZFRhYnMnKTtcblxuICAvLyBQcm9wZXJ0aWVzXG4gIHNlbGYuY29udGVudENvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLXRhYi1jb250ZW50IG5nLWhpZGVcIj4nKTtcbiAgc2VsZi5lbGVtZW50ID0gJGVsZW1lbnQ7XG5cbiAgLy8gTWV0aG9kc1xuICBzZWxmLmlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICBzZWxmLm9uQWRkID0gb25BZGQ7XG4gIHNlbGYub25SZW1vdmUgPSBvblJlbW92ZTtcbiAgc2VsZi5vblNlbGVjdCA9IG9uU2VsZWN0O1xuICBzZWxmLm9uRGVzZWxlY3QgPSBvbkRlc2VsZWN0O1xuXG4gIHZhciBkaXNhYmxlZFBhcnNlZCA9ICRwYXJzZSgkYXR0cnMubmdEaXNhYmxlZCk7XG4gIGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIGRpc2FibGVkUGFyc2VkKCRzY29wZS4kcGFyZW50KTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEFkZCB0aGUgdGFiJ3MgY29udGVudCB0byB0aGUgRE9NIGNvbnRhaW5lciBhcmVhIGluIHRoZSB0YWJzLFxuICAgKiBAcGFyYW0gY29udGVudEFyZWEgdGhlIGNvbnRlbnRBcmVhIHRvIGFkZCB0aGUgY29udGVudCBvZiB0aGUgdGFiIHRvXG4gICAqL1xuICBmdW5jdGlvbiBvbkFkZChjb250ZW50QXJlYSwgc2hvdWxkRGlzY29ubmVjdFNjb3BlKSB7XG4gICAgaWYgKHNlbGYuY29udGVudC5sZW5ndGgpIHtcbiAgICAgIHNlbGYuY29udGVudENvbnRhaW5lci5hcHBlbmQoc2VsZi5jb250ZW50KTtcbiAgICAgIHNlbGYuY29udGVudFNjb3BlID0gJHNjb3BlLiRwYXJlbnQuJG5ldygpO1xuICAgICAgY29udGVudEFyZWEuYXBwZW5kKHNlbGYuY29udGVudENvbnRhaW5lcik7XG5cbiAgICAgICRjb21waWxlKHNlbGYuY29udGVudENvbnRhaW5lcikoc2VsZi5jb250ZW50U2NvcGUpO1xuICAgICAgaWYgKHNob3VsZERpc2Nvbm5lY3RTY29wZSA9PT0gdHJ1ZSkge1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG1kVXRpbC5kaXNjb25uZWN0U2NvcGUoc2VsZi5jb250ZW50U2NvcGUpO1xuICAgICAgICB9LCAwLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgJGFuaW1hdGUubGVhdmUoc2VsZi5jb250ZW50Q29udGFpbmVyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5jb250ZW50U2NvcGUgJiYgc2VsZi5jb250ZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgIHNlbGYuY29udGVudFNjb3BlID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUFuaW1hdGlvbkNsYXNzKHJpZ2h0VG9MZWZ0KSB7XG4gICAgc2VsZi5jb250ZW50Q29udGFpbmVyW3JpZ2h0VG9MZWZ0ID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdtZC10cmFuc2l0aW9uLXJ0bCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TZWxlY3QocmlnaHRUb0xlZnQpIHtcbiAgICAvLyBSZXN1bWUgd2F0Y2hlcnMgYW5kIGV2ZW50cyBmaXJpbmcgd2hlbiB0YWIgaXMgc2VsZWN0ZWRcbiAgICAkbWRVdGlsLnJlY29ubmVjdFNjb3BlKHNlbGYuY29udGVudFNjb3BlKTtcblxuICAgICRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAuYXR0cih7XG4gICAgICAgICdhcmlhLXNlbGVjdGVkJzogdHJ1ZSxcbiAgICAgICAgJ3RhYkluZGV4JzogMFxuICAgICAgfSlcbiAgICAgIC5vbignJG1kLnN3aXBlbGVmdCAkbWQuc3dpcGVyaWdodCcsIG9uU3dpcGUpO1xuXG4gICAgdG9nZ2xlQW5pbWF0aW9uQ2xhc3MocmlnaHRUb0xlZnQpO1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHNlbGYuY29udGVudENvbnRhaW5lciwgJ25nLWhpZGUnKTtcblxuICAgICRzY29wZS5vblNlbGVjdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25EZXNlbGVjdChyaWdodFRvTGVmdCkge1xuICAgIC8vIFN0b3Agd2F0Y2hlcnMgJiBldmVudHMgZnJvbSBmaXJpbmcgd2hpbGUgdGFiIGlzIGRlc2VsZWN0ZWRcbiAgICAkbWRVdGlsLmRpc2Nvbm5lY3RTY29wZShzZWxmLmNvbnRlbnRTY29wZSk7XG5cbiAgICAkZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IGZhbHNlLFxuICAgICAgICAndGFiSW5kZXgnOiAtMVxuICAgICAgfSlcbiAgICAgIC5vZmYoJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvblN3aXBlKTtcblxuICAgIHRvZ2dsZUFuaW1hdGlvbkNsYXNzKHJpZ2h0VG9MZWZ0KTtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhzZWxmLmNvbnRlbnRDb250YWluZXIsICduZy1oaWRlJyk7XG5cbiAgICAkc2NvcGUub25EZXNlbGVjdCgpO1xuICB9XG5cbiAgLy8vLy8gUHJpdmF0ZSBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBvblN3aXBlKGV2KSB7XG4gICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgIGlmICgvbGVmdC8udGVzdChldi50eXBlKSkge1xuICAgICAgICB0YWJzQ3RybC5zZWxlY3QodGFic0N0cmwubmV4dCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYnNDdHJsLnNlbGVjdCh0YWJzQ3RybC5wcmV2aW91cygpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuIFxuXG59XG5UYWJJdGVtQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYXR0cnNcIiwgXCIkY29tcGlsZVwiLCBcIiRhbmltYXRlXCIsIFwiJG1kVXRpbFwiLCBcIiRwYXJzZVwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgLmRpcmVjdGl2ZSgnbWRUYWInLCBNZFRhYkRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUYWJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGUgYDxtZC10YWI+YCBhIG5lc3RlZCBkaXJlY3RpdmUgdXNlZCB3aXRoaW4gYDxtZC10YWJzPmAgdG8gc3BlY2lmeSBhIHRhYiB3aXRoIGEgKipsYWJlbCoqIGFuZCBvcHRpb25hbCAqdmlldyBjb250ZW50Ki5cbiAqXG4gKiBJZiB0aGUgYGxhYmVsYCBhdHRyaWJ1dGUgaXMgbm90IHNwZWNpZmllZCwgdGhlbiBhbiBvcHRpb25hbCBgPG1kLXRhYi1sYWJlbD5gIHRhZyBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IG1vcmVcbiAqIGNvbXBsZXggdGFiIGhlYWRlciBtYXJrdXAuIElmIG5laXRoZXIgdGhlICoqbGFiZWwqKiBub3IgdGhlICoqbWQtdGFiLWxhYmVsKiogYXJlIHNwZWNpZmllZCwgdGhlbiB0aGUgbmVzdGVkXG4gKiBtYXJrdXAgb2YgdGhlIGA8bWQtdGFiPmAgaXMgdXNlZCBhcyB0aGUgdGFiIGhlYWRlciBtYXJrdXAuXG4gKlxuICogSWYgYSB0YWIgKipsYWJlbCoqIGhhcyBiZWVuIGlkZW50aWZpZWQsIHRoZW4gYW55ICoqbm9uLSoqYDxtZC10YWItbGFiZWw+YCBtYXJrdXBcbiAqIHdpbGwgYmUgY29uc2lkZXJlZCB0YWIgY29udGVudCBhbmQgd2lsbCBiZSB0cmFuc2NsdWRlZCB0byB0aGUgaW50ZXJuYWwgYDxkaXYgY2xhc3M9XCJtZC10YWJzLWNvbnRlbnRcIj5gIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGNvbnRhaW5lciBpcyB1c2VkIGJ5IHRoZSBUYWJzQ29udHJvbGxlciB0byBzaG93L2hpZGUgdGhlIGFjdGl2ZSB0YWIncyBjb250ZW50IHZpZXcuIFRoaXMgc3luY2hyb25pemF0aW9uIGlzXG4gKiBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgdGhlIGludGVybmFsIFRhYnNDb250cm9sbGVyIHdoZW5ldmVyIHRoZSB0YWIgc2VsZWN0aW9uIGNoYW5nZXMuIFNlbGVjdGlvbiBjaGFuZ2VzIGNhblxuICogYmUgaW5pdGlhdGVkIHZpYSBkYXRhIGJpbmRpbmcgY2hhbmdlcywgcHJvZ3JhbW1hdGljIGludm9jYXRpb24sIG9yIHVzZXIgZ2VzdHVyZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBsYWJlbCBPcHRpb25hbCBhdHRyaWJ1dGUgdG8gc3BlY2lmeSBhIHNpbXBsZSBzdHJpbmcgYXMgdGhlIHRhYiBsYWJlbFxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtYWN0aXZlIFdoZW4gZXZhbHV0ZWluZyB0byB0cnVlLCBzZWxlY3RzIHRoZSB0YWIuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBJZiBwcmVzZW50LCBkaXNhYmxlZCB0YWIgc2VsZWN0aW9uLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tZGVzZWxlY3QgRXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWQgYWZ0ZXIgdGhlIHRhYiBoYXMgYmVlbiBkZS1zZWxlY3RlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLW9uLXNlbGVjdCBFeHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZCBhZnRlciB0aGUgdGFiIGhhcyBiZWVuIHNlbGVjdGVkLlxuICpcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXRhYiBsYWJlbD1cIlwiIGRpc2FibGVkPVwiXCIgbWQtb24tc2VsZWN0PVwiXCIgbWQtb24tZGVzZWxlY3Q9XCJcIiA+XG4gKiAgIDxoMz5NeSBUYWIgY29udGVudDwvaDM+XG4gKiA8L21kLXRhYj5cbiAqXG4gKiA8bWQtdGFiID5cbiAqICAgPG1kLXRhYi1sYWJlbD5cbiAqICAgICA8aDM+TXkgVGFiIGNvbnRlbnQ8L2gzPlxuICogICA8L21kLXRhYi1sYWJlbD5cbiAqICAgPHA+XG4gKiAgICAgU2VkIHV0IHBlcnNwaWNpYXRpcyB1bmRlIG9tbmlzIGlzdGUgbmF0dXMgZXJyb3Igc2l0IHZvbHVwdGF0ZW0gYWNjdXNhbnRpdW0gZG9sb3JlbXF1ZSBsYXVkYW50aXVtLFxuICogICAgIHRvdGFtIHJlbSBhcGVyaWFtLCBlYXF1ZSBpcHNhIHF1YWUgYWIgaWxsbyBpbnZlbnRvcmUgdmVyaXRhdGlzIGV0IHF1YXNpIGFyY2hpdGVjdG8gYmVhdGFlIHZpdGFlXG4gKiAgICAgZGljdGEgc3VudCBleHBsaWNhYm8uIE5lbW8gZW5pbSBpcHNhbSB2b2x1cHRhdGVtIHF1aWEgdm9sdXB0YXMgc2l0IGFzcGVybmF0dXIgYXV0IG9kaXQgYXV0IGZ1Z2l0LFxuICogICAgIHNlZCBxdWlhIGNvbnNlcXV1bnR1ciBtYWduaSBkb2xvcmVzIGVvcyBxdWkgcmF0aW9uZSB2b2x1cHRhdGVtIHNlcXVpIG5lc2NpdW50LlxuICogICA8L3A+XG4gKiA8L21kLXRhYj5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIE1kVGFiRGlyZWN0aXZlKCRtZElua1JpcHBsZSwgJGNvbXBpbGUsICRtZFV0aWwsICRtZENvbnN0YW50LCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydtZFRhYicsICdebWRUYWJzJ10sXG4gICAgY29udHJvbGxlcjogJyRtZFRhYicsXG4gICAgc2NvcGU6IHtcbiAgICAgIG9uU2VsZWN0OiAnJm1kT25TZWxlY3QnLFxuICAgICAgb25EZXNlbGVjdDogJyZtZE9uRGVzZWxlY3QnLFxuICAgICAgbGFiZWw6ICdAJ1xuICAgIH0sXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xuICAgIHZhciB0YWJMYWJlbCA9IGVsZW1lbnQuZmluZCgnbWQtdGFiLWxhYmVsJyk7XG5cbiAgICBpZiAodGFiTGFiZWwubGVuZ3RoKSB7XG4gICAgICAvLyBJZiBhIHRhYiBsYWJlbCBlbGVtZW50IGlzIGZvdW5kLCByZW1vdmUgaXQgZm9yIGxhdGVyIHJlLXVzZS5cbiAgICAgIHRhYkxhYmVsLnJlbW92ZSgpO1xuXG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRyLmxhYmVsKSkge1xuICAgICAgLy8gT3RoZXJ3aXNlLCB0cnkgdG8gdXNlIGF0dHIubGFiZWwgYXMgdGhlIGxhYmVsXG4gICAgICB0YWJMYWJlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLXRhYi1sYWJlbD4nKS5odG1sKGF0dHIubGFiZWwpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIG5vdGhpbmcgaXMgZm91bmQsIHVzZSB0aGUgdGFiJ3MgY29udGVudCBhcyB0aGUgbGFiZWxcbiAgICAgIHRhYkxhYmVsID0gYW5ndWxhci5lbGVtZW50KCc8bWQtdGFiLWxhYmVsPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGVsZW1lbnQuY29udGVudHMoKS5yZW1vdmUoKSk7XG4gICAgfVxuXG4gICAgLy8gRXZlcnl0aGluZyB0aGF0J3MgbGVmdCBhcyBhIGNoaWxkIGlzIHRoZSB0YWIncyBjb250ZW50LlxuICAgIHZhciB0YWJDb250ZW50ID0gZWxlbWVudC5jb250ZW50cygpLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuXG4gICAgICB2YXIgdGFiSXRlbUN0cmwgPSBjdHJsc1swXTsgLy8gQ29udHJvbGxlciBmb3IgVEhJUyB0YWJJdGVtQ3RybFxuICAgICAgdmFyIHRhYnNDdHJsID0gY3RybHNbMV07IC8vIENvbnRyb2xsZXIgZm9yIEFMTCB0YWJzXG5cbiAgICAgICR0aW1lb3V0KGVsZW1lbnQuYWRkQ2xhc3MuYmluZChlbGVtZW50LCAnbWQtdGFiLXRoZW1lZCcpLCAwLCBmYWxzZSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBhdHRyLmxhYmVsOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHsgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0YWJzQ3RybC5zY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzQ2hhbmdlZCcpOyB9LCAwLCBmYWxzZSk7IH1cbiAgICAgICk7XG5cbiAgICAgIHRyYW5zY2x1ZGVUYWJDb250ZW50KCk7XG4gICAgICBjb25maWd1cmVBcmlhKCk7XG5cbiAgICAgICRtZElua1JpcHBsZS5hdHRhY2hUYWJCZWhhdmlvcihzY29wZSwgZWxlbWVudCwge1xuICAgICAgICBjb2xvckVsZW1lbnQ6IHRhYnNDdHJsLmlua0JhckVsZW1lbnRcbiAgICAgIH0pO1xuICAgICAgdGFic0N0cmwuYWRkKHRhYkl0ZW1DdHJsKTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGFic0N0cmwucmVtb3ZlKHRhYkl0ZW1DdHJsKTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vLS0gd2FpdCBmb3IgaXRlbSB0byBiZSByZW1vdmVkIGZyb20gdGhlIGRvbVxuICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGFic0N0cmwuc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic0NoYW5nZWQnKTtcbiAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoYXR0ci5uZ0NsaWNrKSkge1xuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGRlZmF1bHRDbGlja0xpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcihzY29wZS4kcGFyZW50LiRpbmRleCkpIHtcbiAgICAgICAgd2F0Y2hOZ1JlcGVhdEluZGV4KCk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZEFjdGl2ZSkpIHtcbiAgICAgICAgd2F0Y2hBY3RpdmVBdHRyaWJ1dGUoKTtcbiAgICAgIH1cbiAgICAgIHdhdGNoRGlzYWJsZWQoKTtcblxuICAgICAgZnVuY3Rpb24gdHJhbnNjbHVkZVRhYkNvbnRlbnQoKSB7XG4gICAgICAgIC8vIENsb25lIHRoZSBsYWJlbCB3ZSBmb3VuZCBlYXJsaWVyLCBhbmQgJGNvbXBpbGUgYW5kIGFwcGVuZCBpdFxuICAgICAgICB2YXIgbGFiZWwgPSB0YWJMYWJlbC5jbG9uZSgpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZChsYWJlbCk7XG4gICAgICAgICRjb21waWxlKGxhYmVsKShzY29wZS4kcGFyZW50KTtcblxuICAgICAgICAvLyBDbG9uZSB0aGUgY29udGVudCB3ZSBmb3VuZCBlYXJsaWVyLCBhbmQgbWFyayBpdCBmb3IgbGF0ZXIgcGxhY2VtZW50IGludG9cbiAgICAgICAgLy8gdGhlIHByb3BlciBjb250ZW50IGFyZWEuXG4gICAgICAgIHRhYkl0ZW1DdHJsLmNvbnRlbnQgPSB0YWJDb250ZW50LmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vZGVmYXVsdENsaWNrTGlzdGVuZXIgaXNuJ3QgYXBwbGllZCBpZiB0aGUgdXNlciBwcm92aWRlcyBhbiBuZ0NsaWNrIGV4cHJlc3Npb24uXG4gICAgICBmdW5jdGlvbiBkZWZhdWx0Q2xpY2tMaXN0ZW5lcigpIHtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRhYnNDdHJsLnNlbGVjdCh0YWJJdGVtQ3RybCk7XG4gICAgICAgICAgdGFic0N0cmwuZm9jdXModGFiSXRlbUN0cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGtleWRvd25MaXN0ZW5lcihldikge1xuICAgICAgICBpZiAoZXYua2V5Q29kZSA9PSAkbWRDb25zdGFudC5LRVlfQ09ERS5TUEFDRSB8fCBldi5rZXlDb2RlID09ICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSICkge1xuICAgICAgICAgIC8vIEZpcmUgdGhlIGNsaWNrIGhhbmRsZXIgdG8gZG8gbm9ybWFsIHNlbGVjdGlvbiBpZiBzcGFjZSBpcyBwcmVzc2VkXG4gICAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2LmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1cpIHtcbiAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFic0N0cmwuZm9jdXModGFic0N0cmwucHJldmlvdXModGFiSXRlbUN0cmwpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVykge1xuICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0YWJzQ3RybC5mb2N1cyh0YWJzQ3RybC5uZXh0KHRhYkl0ZW1DdHJsKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGFiSXRlbUN0cmwgaXMgcGFydCBvZiBhbiBuZ1JlcGVhdCwgbW92ZSB0aGUgdGFiSXRlbUN0cmwgaW4gb3VyIGludGVybmFsIGFycmF5XG4gICAgICAvLyB3aGVuIGl0cyAkaW5kZXggY2hhbmdlc1xuICAgICAgZnVuY3Rpb24gd2F0Y2hOZ1JlcGVhdEluZGV4KCkge1xuICAgICAgICAvLyBUaGUgdGFiSXRlbUN0cmwgaGFzIGFuIGlzb2xhdGUgc2NvcGUsIHNvIHdlIHdhdGNoIHRoZSAkaW5kZXggb24gdGhlIHBhcmVudC5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCckcGFyZW50LiRpbmRleCcsIGZ1bmN0aW9uICRpbmRleFdhdGNoQWN0aW9uKG5ld0luZGV4KSB7XG4gICAgICAgICAgdGFic0N0cmwubW92ZSh0YWJJdGVtQ3RybCwgbmV3SW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd2F0Y2hBY3RpdmVBdHRyaWJ1dGUoKSB7XG4gICAgICAgIHZhciB1bndhdGNoID0gc2NvcGUuJHBhcmVudC4kd2F0Y2goJyEhKCcgKyBhdHRyLm1kQWN0aXZlICsgJyknLCBhY3RpdmVXYXRjaEFjdGlvbik7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bndhdGNoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmVXYXRjaEFjdGlvbihpc0FjdGl2ZSkge1xuICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gdGFic0N0cmwuZ2V0U2VsZWN0ZWRJdGVtKCkgPT09IHRhYkl0ZW1DdHJsO1xuXG4gICAgICAgICAgaWYgKGlzQWN0aXZlICYmICFpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICB0YWJzQ3RybC5zZWxlY3QodGFiSXRlbUN0cmwpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQWN0aXZlICYmIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRhYnNDdHJsLmRlc2VsZWN0KHRhYkl0ZW1DdHJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd2F0Y2hEaXNhYmxlZCgpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKHRhYkl0ZW1DdHJsLmlzRGlzYWJsZWQsIGRpc2FibGVkV2F0Y2hBY3Rpb24pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRpc2FibGVkV2F0Y2hBY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1kaXNhYmxlZCcsIGlzRGlzYWJsZWQpO1xuXG4gICAgICAgICAgLy8gQXV0byBzZWxlY3QgYG5leHRgIHRhYiB3aGVuIGRpc2FibGVkXG4gICAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSAodGFic0N0cmwuZ2V0U2VsZWN0ZWRJdGVtKCkgPT09IHRhYkl0ZW1DdHJsKTtcbiAgICAgICAgICBpZiAoaXNTZWxlY3RlZCAmJiBpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0YWJzQ3RybC5zZWxlY3QodGFic0N0cmwubmV4dCgpIHx8IHRhYnNDdHJsLnByZXZpb3VzKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoKSB7XG4gICAgICAgIC8vIExpbmsgdG9nZXRoZXIgdGhlIGNvbnRlbnQgYXJlYSBhbmQgdGFiSXRlbUN0cmwgd2l0aCBhbiBpZFxuICAgICAgICB2YXIgdGFiSWQgPSBhdHRyLmlkIHx8ICgndGFiXycgKyAkbWRVdGlsLm5leHRVaWQoKSk7XG5cbiAgICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICBpZDogdGFiSWQsXG4gICAgICAgICAgcm9sZTogJ3RhYicsXG4gICAgICAgICAgdGFiSW5kZXg6IC0xIC8vdGhpcyBpcyBhbHNvIHNldCBvbiBzZWxlY3QvZGVzZWxlY3QgaW4gdGFiSXRlbUN0cmxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT25seSBzZXR1cCB0aGUgY29udGVudENvbnRhaW5lcidzIGFyaWEgYXR0cmlidXRlcyBpZiB0YWIgY29udGVudCBpcyBwcm92aWRlZFxuICAgICAgICBpZiAodGFiQ29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdGFiQ29udGVudElkID0gJ2NvbnRlbnRfJyArIHRhYklkO1xuICAgICAgICAgIGlmICghZWxlbWVudC5hdHRyKCdhcmlhLWNvbnRyb2xzJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1jb250cm9scycsIHRhYkNvbnRlbnRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhYkl0ZW1DdHJsLmNvbnRlbnRDb250YWluZXIuYXR0cih7XG4gICAgICAgICAgICBpZDogdGFiQ29udGVudElkLFxuICAgICAgICAgICAgcm9sZTogJ3RhYnBhbmVsJyxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiB0YWJJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9O1xuXG4gIH1cblxufVxuTWRUYWJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiLCBcIiRjb21waWxlXCIsIFwiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHRpbWVvdXRcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAuY29udHJvbGxlcignJG1kVGFicycsIE1kVGFic0NvbnRyb2xsZXIpO1xuXG5mdW5jdGlvbiBNZFRhYnNDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRtZFV0aWwsICR0aW1lb3V0KSB7XG5cbiAgdmFyIHRhYnNMaXN0ID0gJG1kVXRpbC5pdGVyYXRvcihbXSwgZmFsc2UpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLy8gUHJvcGVydGllc1xuICBzZWxmLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIHNlbGYuc2NvcGUgPSAkc2NvcGU7XG4gIC8vIFRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIHRhYiBjb250ZW50ICRlbGVtZW50c1xuICB2YXIgY29udGVudEFyZWEgPSBzZWxmLmNvbnRlbnRBcmVhID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10YWJzLWNvbnRlbnQnKSk7XG5cbiAgLy8gTWV0aG9kcyBmcm9tIGl0ZXJhdG9yXG4gIHZhciBpblJhbmdlID0gc2VsZi5pblJhbmdlID0gdGFic0xpc3QuaW5SYW5nZTtcbiAgdmFyIGluZGV4T2YgPSBzZWxmLmluZGV4T2YgPSB0YWJzTGlzdC5pbmRleE9mO1xuICB2YXIgaXRlbUF0ID0gc2VsZi5pdGVtQXQgPSB0YWJzTGlzdC5pdGVtQXQ7XG4gIHNlbGYuY291bnQgPSB0YWJzTGlzdC5jb3VudDtcblxuICBzZWxmLmdldFNlbGVjdGVkSXRlbSA9IGdldFNlbGVjdGVkSXRlbTtcbiAgc2VsZi5nZXRTZWxlY3RlZEluZGV4ID0gZ2V0U2VsZWN0ZWRJbmRleDtcbiAgc2VsZi5hZGQgPSBhZGQ7XG4gIHNlbGYucmVtb3ZlID0gcmVtb3ZlO1xuICBzZWxmLm1vdmUgPSBtb3ZlO1xuICBzZWxmLnNlbGVjdCA9IHNlbGVjdDtcbiAgc2VsZi5mb2N1cyA9IGZvY3VzO1xuICBzZWxmLmRlc2VsZWN0ID0gZGVzZWxlY3Q7XG5cbiAgc2VsZi5uZXh0ID0gbmV4dDtcbiAgc2VsZi5wcmV2aW91cyA9IHByZXZpb3VzO1xuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgZGVzZWxlY3QoZ2V0U2VsZWN0ZWRJdGVtKCkpO1xuICAgIGZvciAodmFyIGkgPSB0YWJzTGlzdC5jb3VudCgpIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHJlbW92ZSh0YWJzTGlzdFtpXSwgdHJ1ZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBHZXQgdGhlIHNlbGVjdGVkIHRhYlxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEl0ZW0oKSB7XG4gICAgcmV0dXJuIGl0ZW1BdCgkc2NvcGUuc2VsZWN0ZWRJbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEluZGV4KCkge1xuICAgIHJldHVybiAkc2NvcGUuc2VsZWN0ZWRJbmRleDtcbiAgfVxuXG4gIC8vIEFkZCBhIG5ldyB0YWIuXG4gIC8vIFJldHVybnMgYSBtZXRob2QgdG8gcmVtb3ZlIHRoZSB0YWIgZnJvbSB0aGUgbGlzdC5cbiAgZnVuY3Rpb24gYWRkKHRhYiwgaW5kZXgpIHtcbiAgICB0YWJzTGlzdC5hZGQodGFiLCBpbmRleCk7XG5cbiAgICAvLyBTZWxlY3QgdGhlIG5ldyB0YWIgaWYgd2UgZG9uJ3QgaGF2ZSBhIHNlbGVjdGVkSW5kZXgsIG9yIGlmIHRoZVxuICAgIC8vIHNlbGVjdGVkSW5kZXggd2UndmUgYmVlbiB3YWl0aW5nIGZvciBpcyB0aGlzIHRhYlxuICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQodGFiLmVsZW1lbnQuYXR0cignbWQtYWN0aXZlJykpICYmICgkc2NvcGUuc2VsZWN0ZWRJbmRleCA9PT0gLTEgfHwgIWFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLnNlbGVjdGVkSW5kZXgpIHx8XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEluZGV4ID09PSBzZWxmLmluZGV4T2YodGFiKSkpIHtcbiAgICAgIHRhYi5vbkFkZChzZWxmLmNvbnRlbnRBcmVhLCBmYWxzZSk7XG4gICAgICBzZWxmLnNlbGVjdCh0YWIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWIub25BZGQoc2VsZi5jb250ZW50QXJlYSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUodGFiLCBub1Jlc2VsZWN0KSB7XG4gICAgaWYgKCF0YWJzTGlzdC5jb250YWlucyh0YWIpKSByZXR1cm47XG4gICAgaWYgKG5vUmVzZWxlY3QpIHJldHVybjtcbiAgICB2YXIgaXNTZWxlY3RlZEl0ZW0gPSBnZXRTZWxlY3RlZEl0ZW0oKSA9PT0gdGFiLFxuICAgICAgICBuZXdUYWIgPSBwcmV2aW91cygpIHx8IG5leHQoKTtcblxuICAgIGRlc2VsZWN0KHRhYik7XG4gICAgdGFic0xpc3QucmVtb3ZlKHRhYik7XG4gICAgdGFiLm9uUmVtb3ZlKCk7XG5cbiAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic0NoYW5nZWQnKTtcblxuICAgIGlmIChpc1NlbGVjdGVkSXRlbSkgeyBzZWxlY3QobmV3VGFiKTsgfVxuICB9XG5cbiAgLy8gTW92ZSBhIHRhYiAodXNlZCB3aGVuIG5nLXJlcGVhdCBvcmRlciBjaGFuZ2VzKVxuICBmdW5jdGlvbiBtb3ZlKHRhYiwgdG9JbmRleCkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gZ2V0U2VsZWN0ZWRJdGVtKCkgPT09IHRhYjtcblxuICAgIHRhYnNMaXN0LnJlbW92ZSh0YWIpO1xuICAgIHRhYnNMaXN0LmFkZCh0YWIsIHRvSW5kZXgpO1xuICAgIGlmIChpc1NlbGVjdGVkKSBzZWxlY3QodGFiKTtcblxuICAgICRzY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzQ2hhbmdlZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0KHRhYiwgcmlnaHRUb0xlZnQpIHtcbiAgICBpZiAoIXRhYiB8fCB0YWIuaXNTZWxlY3RlZCB8fCB0YWIuaXNEaXNhYmxlZCgpKSByZXR1cm47XG4gICAgaWYgKCF0YWJzTGlzdC5jb250YWlucyh0YWIpKSByZXR1cm47XG5cbiAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKHJpZ2h0VG9MZWZ0KSkge1xuICAgICAgcmlnaHRUb0xlZnQgPSBpbmRleE9mKHRhYikgPCAkc2NvcGUuc2VsZWN0ZWRJbmRleDtcbiAgICB9XG4gICAgZGVzZWxlY3QoZ2V0U2VsZWN0ZWRJdGVtKCksIHJpZ2h0VG9MZWZ0KTtcblxuICAgICRzY29wZS5zZWxlY3RlZEluZGV4ID0gaW5kZXhPZih0YWIpO1xuICAgIHRhYi5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICB0YWIub25TZWxlY3QocmlnaHRUb0xlZnQpO1xuXG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBmb2N1cyh0YWIpIHtcbiAgICAvLyB0aGlzIHZhcmlhYmxlIGlzIHdhdGNoZWQgYnkgcGFnaW5hdGlvblxuICAgIHNlbGYudGFiVG9Gb2N1cyA9IHRhYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc2VsZWN0KHRhYiwgcmlnaHRUb0xlZnQpIHtcbiAgICBpZiAoIXRhYiB8fCAhdGFiLmlzU2VsZWN0ZWQpIHJldHVybjtcbiAgICBpZiAoIXRhYnNMaXN0LmNvbnRhaW5zKHRhYikpIHJldHVybjtcblxuICAgICRzY29wZS5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgdGFiLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0YWIub25EZXNlbGVjdChyaWdodFRvTGVmdCk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KHRhYiwgZmlsdGVyRm4pIHtcbiAgICByZXR1cm4gdGFic0xpc3QubmV4dCh0YWIgfHwgZ2V0U2VsZWN0ZWRJdGVtKCksIGZpbHRlckZuIHx8IGlzVGFiRW5hYmxlZCk7XG4gIH1cbiAgZnVuY3Rpb24gcHJldmlvdXModGFiLCBmaWx0ZXJGbikge1xuICAgIHJldHVybiB0YWJzTGlzdC5wcmV2aW91cyh0YWIgfHwgZ2V0U2VsZWN0ZWRJdGVtKCksIGZpbHRlckZuIHx8IGlzVGFiRW5hYmxlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1RhYkVuYWJsZWQodGFiKSB7XG4gICAgcmV0dXJuIHRhYiAmJiAhdGFiLmlzRGlzYWJsZWQoKTtcbiAgfVxuXG59XG5NZFRhYnNDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRtZFV0aWxcIiwgXCIkdGltZW91dFwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAuZGlyZWN0aXZlKCdtZFRhYnMnLCBUYWJzRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRhYnNcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXRhYnM+YCBkaXJlY3RpdmUgc2VydmVzIGFzIHRoZSBjb250YWluZXIgZm9yIDEuLm4gYDxtZC10YWI+YCBjaGlsZCBkaXJlY3RpdmVzIHRvIHByb2R1Y2VzIGEgVGFicyBjb21wb25lbnRzLlxuICogSW4gdHVybiwgdGhlIG5lc3RlZCBgPG1kLXRhYj5gIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHNwZWNpZnkgYSB0YWIgbGFiZWwgZm9yIHRoZSAqKmhlYWRlciBidXR0b24qKiBhbmQgYSBbb3B0aW9uYWxdIHRhYiB2aWV3XG4gKiBjb250ZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggZWFjaCB0YWIgYnV0dG9uLlxuICpcbiAqIEJlbG93IGlzIHRoZSBtYXJrdXAgZm9yIGl0cyBzaW1wbGVzdCB1c2FnZTpcbiAqXG4gKiAgPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtdGFicz5cbiAqICAgIDxtZC10YWIgbGFiZWw9XCJUYWIgIzFcIj48L21kLXRhYj5cbiAqICAgIDxtZC10YWIgbGFiZWw9XCJUYWIgIzJcIj48L21kLXRhYj5cbiAqICAgIDxtZC10YWIgbGFiZWw9XCJUYWIgIzNcIj48L21kLXRhYj5cbiAqICA8L21kLXRhYnM+XG4gKiAgPC9obGpzPlxuICpcbiAqIFRhYnMgc3VwcG9ydHMgdGhyZWUgKDMpIHVzYWdlIHNjZW5hcmlvczpcbiAqXG4gKiAgMS4gVGFicyAoYnV0dG9ucyBvbmx5KVxuICogIDIuIFRhYnMgd2l0aCBpbnRlcm5hbCB2aWV3IGNvbnRlbnRcbiAqICAzLiBUYWJzIHdpdGggZXh0ZXJuYWwgdmlldyBjb250ZW50XG4gKlxuICogKipUYWItb25seSoqIHN1cHBvcnQgaXMgdXNlZnVsIHdoZW4gdGFiIGJ1dHRvbnMgYXJlIHVzZWQgZm9yIGN1c3RvbSBuYXZpZ2F0aW9uIHJlZ2FyZGxlc3Mgb2YgYW55IG90aGVyIGNvbXBvbmVudHMsIGNvbnRlbnQsIG9yIHZpZXdzLlxuICogKipUYWJzIHdpdGggaW50ZXJuYWwgdmlld3MqKiBhcmUgdGhlIHRyYWRpdGlvbmFsIHVzYWdlcyB3aGVyZSBlYWNoIHRhYiBoYXMgYXNzb2NpYXRlZCB2aWV3IGNvbnRlbnQgYW5kIHRoZSB2aWV3IHN3aXRjaGluZyBpcyBtYW5hZ2VkIGludGVybmFsbHkgYnkgdGhlIFRhYnMgY29tcG9uZW50LlxuICogKipUYWJzIHdpdGggZXh0ZXJuYWwgdmlldyBjb250ZW50KiogaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gY29udGVudCBhc3NvY2lhdGVkIHdpdGggZWFjaCB0YWIgaXMgaW5kZXBlbmRlbnRseSBtYW5hZ2VkIGFuZCBkYXRhLWJpbmRpbmcgbm90aWZpY2F0aW9ucyBhbm5vdW5jZSB0YWIgc2VsZWN0aW9uIGNoYW5nZXMuXG4gKlxuICogPiBBcyBhIHBlcmZvcm1hbmNlIGJvbnVzLCBpZiB0aGUgdGFiIGNvbnRlbnQgaXMgbWFuYWdlZCBpbnRlcm5hbGx5IHRoZW4gdGhlIG5vbi1hY3RpdmUgKG5vbi12aXNpYmxlKSB0YWIgY29udGVudHMgYXJlIHRlbXBvcmFyaWx5IGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBgJHNjb3BlLiRkaWdlc3QoKWAgcHJvY2Vzc2VzOyB3aGljaCByZXN0cmljdHMgYW5kIG9wdGltaXplcyBET00gdXBkYXRlcyB0byBvbmx5IHRoZSBjdXJyZW50bHkgYWN0aXZlIHRhYi5cbiAqXG4gKiBBZGRpdGlvbmFsIGZlYXR1cmVzIGFsc28gaW5jbHVkZTpcbiAqXG4gKiAqICBDb250ZW50IGNhbiBpbmNsdWRlIGFueSBtYXJrdXAuXG4gKiAqICBJZiBhIHRhYiBpcyBkaXNhYmxlZCB3aGlsZSBhY3RpdmUvc2VsZWN0ZWQsIHRoZW4gdGhlIG5leHQgdGFiIHdpbGwgYmUgYXV0by1zZWxlY3RlZC5cbiAqICogIElmIHRoZSBjdXJyZW50bHkgYWN0aXZlIHRhYiBpcyB0aGUgbGFzdCB0YWIsIHRoZW4gbmV4dCgpIGFjdGlvbiB3aWxsIHNlbGVjdCB0aGUgZmlyc3QgdGFiLlxuICogKiAgQW55IG1hcmt1cCAob3RoZXIgdGhhbiAqKmA8bWQtdGFiPmAqKiB0YWdzKSB3aWxsIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHRhYiBoZWFkZXIgYXJlYSBCRUZPUkUgdGhlIHRhYiBidXR0b25zLlxuICpcbiAqICMjIyBFeHBsYW5hdGlvbiBvZiB0YWIgc3RyZXRjaGluZ1xuICpcbiAqIEluaXRpYWxseSwgdGFicyB3aWxsIGhhdmUgYW4gaW5oZXJlbnQgc2l6ZS4gIFRoaXMgc2l6ZSB3aWxsIGVpdGhlciBiZSBkZWZpbmVkIGJ5IGhvdyBtdWNoIHNwYWNlIGlzIG5lZWRlZCB0byBhY2NvbW1vZGF0ZSB0aGVpciB0ZXh0IG9yIHNldCBieSB0aGUgdXNlciB0aHJvdWdoIENTUy4gIENhbGN1bGF0aW9ucyB3aWxsIGJlIGJhc2VkIG9uIHRoaXMgc2l6ZS5cbiAqXG4gKiBPbiBtb2JpbGUgZGV2aWNlcywgdGFicyB3aWxsIGJlIGV4cGFuZGVkIHRvIGZpbGwgdGhlIGF2YWlsYWJsZSBob3Jpem9udGFsIHNwYWNlLiAgV2hlbiB0aGlzIGhhcHBlbnMsIGFsbCB0YWJzIHdpbGwgYmVjb21lIHRoZSBzYW1lIHNpemUuXG4gKlxuICogT24gZGVza3RvcHMsIGJ5IGRlZmF1bHQsIHN0cmV0Y2hpbmcgd2lsbCBuZXZlciBvY2N1ci5cbiAqXG4gKiBUaGlzIGRlZmF1bHQgYmVoYXZpb3IgY2FuIGJlIG92ZXJyaWRkZW4gdGhyb3VnaCB0aGUgYG1kLXN0cmV0Y2gtdGFic2AgYXR0cmlidXRlLiAgSGVyZSBpcyBhIHRhYmxlIHNob3dpbmcgd2hlbiBzdHJldGNoaW5nIHdpbGwgb2NjdXI6XG4gKlxuICogYG1kLXN0cmV0Y2gtdGFic2AgfCBtb2JpbGUgICAgfCBkZXNrdG9wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS18LS0tLS0tLS1cbiAqIGBhdXRvYCAgICAgICAgICAgIHwgc3RyZXRjaGVkIHwgLS0tXG4gKiBgYWx3YXlzYCAgICAgICAgICB8IHN0cmV0Y2hlZCB8IHN0cmV0Y2hlZFxuICogYG5ldmVyYCAgICAgICAgICAgfCAtLS0gICAgICAgfCAtLS1cbiAqXG4gKiBAcGFyYW0ge2ludGVnZXI9fSBtZC1zZWxlY3RlZCBJbmRleCBvZiB0aGUgYWN0aXZlL3NlbGVjdGVkIHRhYlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIElmIHByZXNlbnQsIGRpc2FibGVzIGluayByaXBwbGUgZWZmZWN0cy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWJhciBJZiBwcmVzZW50LCBkaXNhYmxlcyB0aGUgc2VsZWN0aW9uIGluayBiYXIuXG4gKiBAcGFyYW0ge3N0cmluZz19ICBtZC1hbGlnbi10YWJzIEF0dHJpYnV0ZSB0byBpbmRpY2F0ZSBwb3NpdGlvbiBvZiB0YWIgYnV0dG9uczogYGJvdHRvbWAgb3IgYHRvcGA7IGRlZmF1bHQgaXMgYHRvcGBcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtc3RyZXRjaC10YWJzIEF0dHJpYnV0ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0byBzdHJldGNoIHRhYnM6IGBhdXRvYCwgYGFsd2F5c2AsIG9yIGBuZXZlcmA7IGRlZmF1bHQgaXMgYGF1dG9gXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXRhYnMgbWQtc2VsZWN0ZWQ9XCJzZWxlY3RlZEluZGV4XCIgPlxuICogICA8aW1nIG5nLXNyYz1cImltZy9hbmd1bGFyLnBuZ1wiIGNsYXNzPVwiY2VudGVyZWRcIj5cbiAqXG4gKiAgIDxtZC10YWJcbiAqICAgICAgbmctcmVwZWF0PVwidGFiIGluIHRhYnMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlZFwiXG4gKiAgICAgIG1kLW9uLXNlbGVjdD1cIm9uVGFiU2VsZWN0ZWQodGFiKVwiXG4gKiAgICAgIG1kLW9uLWRlc2VsZWN0PVwiYW5ub3VuY2VEZXNlbGVjdGVkKHRhYilcIlxuICogICAgICBkaXNhYmxlZD1cInRhYi5kaXNhYmxlZFwiID5cbiAqXG4gKiAgICAgICA8bWQtdGFiLWxhYmVsPlxuICogICAgICAgICAgIHt7dGFiLnRpdGxlfX1cbiAqICAgICAgICAgICA8aW1nIHNyYz1cImltZy9yZW1vdmVUYWIucG5nXCJcbiAqICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwicmVtb3ZlVGFiKHRhYilcIlxuICogICAgICAgICAgICAgICAgY2xhc3M9XCJkZWxldGVcIiA+XG4gKiAgICAgICA8L21kLXRhYi1sYWJlbD5cbiAqXG4gKiAgICAgICB7e3RhYi5jb250ZW50fX1cbiAqXG4gKiAgIDwvbWQtdGFiPlxuICpcbiAqIDwvbWQtdGFicz5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIFRhYnNEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogJyRtZFRhYnMnLFxuICAgIHJlcXVpcmU6ICdtZFRhYnMnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHNlbGVjdGVkSW5kZXg6ICc9P21kU2VsZWN0ZWQnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8c2VjdGlvbiBjbGFzcz1cIm1kLWhlYWRlclwiICcgK1xuICAgICAgICAnbmctY2xhc3M9XCJ7XFwnbWQtcGFnaW5hdGluZ1xcJzogcGFnaW5hdGlvbi5hY3RpdmV9XCI+JyArXG5cbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJtZC1wYWdpbmF0b3IgbWQtcHJldlwiICcgK1xuICAgICAgICAgICduZy1pZj1cInBhZ2luYXRpb24uYWN0aXZlICYmIHBhZ2luYXRpb24uaGFzUHJldlwiICcgK1xuICAgICAgICAgICduZy1jbGljaz1cInBhZ2luYXRpb24uY2xpY2tQcmV2aW91cygpXCIgJyArXG4gICAgICAgICAgJ2FyaWEtaGlkZGVuPVwidHJ1ZVwiPicgK1xuICAgICAgICAnPC9idXR0b24+JyArXG5cbiAgICAgICAgLy8gb3ZlcmZsb3c6IGhpZGRlbiBjb250YWluZXIgd2hlbiBwYWdpbmF0aW5nXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaGVhZGVyLWl0ZW1zLWNvbnRhaW5lclwiIG1kLXRhYnMtcGFnaW5hdGlvbj4nICtcbiAgICAgICAgICAvLyBmbGV4IGNvbnRhaW5lciBmb3IgPG1kLXRhYj4gZWxlbWVudHNcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWhlYWRlci1pdGVtc1wiPicgK1xuICAgICAgICAgICAgJzxtZC10YWJzLWluay1iYXI+PC9tZC10YWJzLWluay1iYXI+JyArXG4gICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JyArXG5cbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJtZC1wYWdpbmF0b3IgbWQtbmV4dFwiICcgK1xuICAgICAgICAgICduZy1pZj1cInBhZ2luYXRpb24uYWN0aXZlICYmIHBhZ2luYXRpb24uaGFzTmV4dFwiICcgK1xuICAgICAgICAgICduZy1jbGljaz1cInBhZ2luYXRpb24uY2xpY2tOZXh0KClcIiAnICtcbiAgICAgICAgICAnYXJpYS1oaWRkZW49XCJ0cnVlXCI+JyArXG4gICAgICAgICc8L2J1dHRvbj4nICtcblxuICAgICAgJzwvc2VjdGlvbj4nICtcbiAgICAgICc8c2VjdGlvbiBjbGFzcz1cIm1kLXRhYnMtY29udGVudFwiPjwvc2VjdGlvbj4nLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIHRhYnNDdHJsLCB0cmFuc2NsdWRlKSB7XG5cbiAgICBzY29wZS5zdHJldGNoVGFicyA9IGF0dHIuaGFzT3duUHJvcGVydHkoJ21kU3RyZXRjaFRhYnMnKSA/IGF0dHIubWRTdHJldGNoVGFicyB8fCAnYWx3YXlzJyA6ICdhdXRvJztcblxuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgY29uZmlndXJlQXJpYSgpO1xuICAgIHdhdGNoU2VsZWN0ZWQoKTtcblxuICAgIHRyYW5zY2x1ZGUoc2NvcGUuJHBhcmVudCwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1oZWFkZXItaXRlbXMnKSkuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoKSB7XG4gICAgICBlbGVtZW50LmF0dHIoJ3JvbGUnLCAndGFibGlzdCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhdGNoU2VsZWN0ZWQoKSB7XG4gICAgICBzY29wZS4kd2F0Y2goJ3NlbGVjdGVkSW5kZXgnLCBmdW5jdGlvbiB3YXRjaFNlbGVjdGVkSW5kZXgobmV3SW5kZXgsIG9sZEluZGV4KSB7XG4gICAgICAgIGlmIChvbGRJbmRleCA9PSBuZXdJbmRleCkgcmV0dXJuO1xuICAgICAgICB2YXIgcmlnaHRUb0xlZnQgPSBvbGRJbmRleCA+IG5ld0luZGV4O1xuICAgICAgICB0YWJzQ3RybC5kZXNlbGVjdCh0YWJzQ3RybC5pdGVtQXQob2xkSW5kZXgpLCByaWdodFRvTGVmdCk7XG5cbiAgICAgICAgaWYgKHRhYnNDdHJsLmluUmFuZ2UobmV3SW5kZXgpKSB7XG4gICAgICAgICAgdmFyIG5ld1RhYiA9IHRhYnNDdHJsLml0ZW1BdChuZXdJbmRleCk7XG4gICAgICAgICAgd2hpbGUgKG5ld1RhYiAmJiBuZXdUYWIuaXNEaXNhYmxlZCgpKSB7XG4gICAgICAgICAgICBuZXdUYWIgPSBuZXdJbmRleCA+IG9sZEluZGV4IFxuICAgICAgICAgICAgICAgID8gdGFic0N0cmwubmV4dChuZXdUYWIpXG4gICAgICAgICAgICAgICAgOiB0YWJzQ3RybC5wcmV2aW91cyhuZXdUYWIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YWJzQ3RybC5zZWxlY3QobmV3VGFiLCByaWdodFRvTGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuVGFic0RpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbmFuZ3VsYXIubW9kdWxlKFwibWF0ZXJpYWwuY29yZVwiKS5jb25zdGFudChcIiRNRF9USEVNRV9DU1NcIiwgXCJtZC1hdXRvY29tcGxldGUgeyAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgbWQtYXV0b2NvbXBsZXRlIGJ1dHRvbiB7ICAgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9ICBtZC1hdXRvY29tcGxldGUgdWwgeyAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICAgIG1kLWF1dG9jb21wbGV0ZSB1bCBsaSB7ICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICd7e2JhY2tncm91bmQtNDAwfX0nOyAgICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTkwMH19JzsgfSAgICAgIG1kLWF1dG9jb21wbGV0ZSB1bCBsaSAuaGlnaGxpZ2h0IHsgICAgICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTYwMH19JzsgfSAgICAgIG1kLWF1dG9jb21wbGV0ZSB1bCBsaTpob3ZlciwgbWQtYXV0b2NvbXBsZXRlIHVsIGxpLnNlbGVjdGVkIHsgICAgICAgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtYmFja2Ryb3AubWQtb3BhcXVlLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00LTAuNX19JzsgfW1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7ICBib3JkZXItdG9wLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTMwMH19JzsgfSAgbWQtYm90dG9tLXNoZWV0Lm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbGlzdCBtZC1pdGVtIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfSAgbWQtYm90dG9tLXNoZWV0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXN1YmhlYWRlciB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zdWJoZWFkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9bWQtdG9vbGJhciAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiIHsgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyB9Lm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci1yYWRpdXM6IDNweDsgfSAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKTpmb2N1cyB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTAwLTAuMn19JzsgfSAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYiB7ICAgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6Zm9jdXMsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6Zm9jdXMgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS02MDB9fSc7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIgeyAgICBib3JkZXItcmFkaXVzOiA1MCU7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6Zm9jdXMgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1BNzAwfX0nOyB9ICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkIHsgICAgY29sb3I6ICd7e2JhY2tncm91bmQtY29udHJhc3R9fSc7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmZvY3VzIHsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfSAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4geyAgICBjb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYiB7ICAgICAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6Zm9jdXMsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6Zm9jdXMgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi03MDB9fSc7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYiB7ICAgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gICAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpmb2N1cywgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6Zm9jdXMgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LTcwMH19JzsgfSAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZFtkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7ICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7IH1tZC1jYXJkLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYm9yZGVyLXJhZGl1czogMnB4OyB9ICBtZC1jYXJkLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNhcmQtaW1hZ2UgeyAgICBib3JkZXItcmFkaXVzOiAycHggMnB4IDAgMDsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YWNjZW50LTYwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTYwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWljb24geyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLWljb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLWljb246YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7cHJpbWFyeS02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaWNvbjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3t3YXJuLTYwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLWljb24geyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWljb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvci0wLjg3fX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pY29uOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YmFja2dyb3VuZC0yMDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtaWNvbiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdLm1kLWNoZWNrZWQgLm1kLWljb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtY29udGVudC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtaHVlLTN9fSc7IH1tZC1kaWFsb2cubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBib3JkZXItcmFkaXVzOiA0cHg7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWh1ZS0zfX0nOyB9ICBtZC1kaWFsb2cubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jb250ZW50LW92ZXJmbG93IC5tZC1hY3Rpb25zIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtZGl2aWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci10b3AtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7ICB0ZXh0LXNoYWRvdzogJ3t7Zm9yZWdyb3VuZC1zaGFkb3d9fSc7IH0gIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0OjotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6LW1vei1wbGFjZWhvbGRlciwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSBsYWJlbCwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXBsYWNlaG9sZGVyIHsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWhhcy12YWx1ZSBsYWJlbCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkIC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkIGxhYmVsIHsgIGNvbG9yOiAne3twcmltYXJ5LTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC1hY2NlbnQgLm1kLWlucHV0IHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC1hY2NlbnQgbGFiZWwgeyAgY29sb3I6ICd7e2FjY2VudC01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQubWQtd2FybiAubWQtaW5wdXQgeyAgYm9yZGVyLWNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC13YXJuIGxhYmVsIHsgIGNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgLm1kLWlucHV0IHsgIGJvcmRlci1jb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIGxhYmVsIHsgIGNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgbmctbWVzc2FnZSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBkYXRhLW5nLW1lc3NhZ2UsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgeC1uZy1tZXNzYWdlLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIFtuZy1tZXNzYWdlXSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbZGF0YS1uZy1tZXNzYWdlXSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbeC1uZy1tZXNzYWdlXSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCAubWQtY2hhci1jb3VudGVyIHsgIGNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dFtkaXNhYmxlZF0sIFtkaXNhYmxlZF0gbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0IHsgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50OyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgJ3t7Zm9yZWdyb3VuZC00fX0nIDAlLCAne3tmb3JlZ3JvdW5kLTR9fScgMzMlLCB0cmFuc3BhcmVudCAwJSk7ICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KGxlZnQsIHRyYW5zcGFyZW50IDAlLCAne3tmb3JlZ3JvdW5kLTR9fScgMTAwJSk7IH1tZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtZ2FwIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlLCBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWdhcCB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlLCBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItcmlnaHQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtZ2FwIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgICBib3JkZXItYm90dG9tLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUsIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jb250YWluZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1jb250YWluZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtY29udGFpbmVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWJhciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZVttZC1tb2RlPWJ1ZmZlcl0ubWQtd2FybiAubWQtYmFyMSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lW21kLW1vZGU9YnVmZmVyXS5tZC13YXJuIC5tZC1kYXNoZWQ6YmVmb3JlIHsgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgne3t3YXJuLTEwMH19JyAwJSwgJ3t7d2Fybi0xMDB9fScgMTYlLCB0cmFuc3BhcmVudCA0MiUpOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLWFjY2VudCAubWQtYmFyMSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLWFjY2VudCAubWQtZGFzaGVkOmJlZm9yZSB7ICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoJ3t7YWNjZW50LTEwMH19JyAwJSwgJ3t7YWNjZW50LTEwMH19JyAxNiUsIHRyYW5zcGFyZW50IDQyJSk7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLW9uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YWNjZW50LTYwMH19JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLW9uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUgeyAgY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi02MDB9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1jb250YWluZXIgLm1kLW9uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpmb2N1czpub3QoOmVtcHR5KSB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfW1kLXNpZGVuYXYubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWh1ZS0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10cmFjay10aWNrcyB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZm9jdXMtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWZvY3VzLXJpbmcgeyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGlzYWJsZWQtdGh1bWIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWh1ZS0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbWluIC5tZC10aHVtYjphZnRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWh1ZS0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrLm1kLXRyYWNrLWZpbGwgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNpZ24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtc2lnbjphZnRlciB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10aHVtYi10ZXh0IHsgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdOm5vdCgubWQtbWluKSAubWQtdGh1bWI6YWZ0ZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9Lm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3sgZm9yZWdyb3VuZC0yLTAuMjMgfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1odWUtM319JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIC5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MDB9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuNX19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtcHJpbWFyeSAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtcHJpbWFyeSAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC41fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC13YXJuIC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC13YXJuIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvci0wLjV9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNDAwfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWU6Zm9jdXMgLm1kLWxhYmVsOm5vdCg6ZW1wdHkpIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyAgYm9yZGVyLXN0eWxlOiBkb3R0ZWQ7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWhlYWRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWhlYWRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IG1kLXRhYjpub3QoW2Rpc2FibGVkXSkgeyAgY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgbWQtdGFiOm5vdChbZGlzYWJsZWRdKS5hY3RpdmUgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgLm1kLWhlYWRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiOm5vdChbZGlzYWJsZWRdKSB7ICBjb2xvcjogJ3t7cHJpbWFyeS0xMDB9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IG1kLXRhYjpub3QoW2Rpc2FibGVkXSkuYWN0aXZlIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSBtZC10YWIgeyAgY29sb3I6ICd7e3ByaW1hcnktMTAwfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSBtZC10YWJbZGlzYWJsZWRdIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiOmZvY3VzIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3QtMC4xfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSBtZC10YWIuYWN0aXZlIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IG1kLXRhYiAubWQtcmlwcGxlLWNvbnRhaW5lciB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWhlYWRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gbWQtdGFiOm5vdChbZGlzYWJsZWRdKSB7ICBjb2xvcjogJ3t7d2Fybi0xMDB9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIG1kLXRhYjpub3QoW2Rpc2FibGVkXSkuYWN0aXZlIHsgICAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFicy1pbmstYmFyIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICBiYWNrZ3JvdW5kOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWJbZGlzYWJsZWRdIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYjpmb2N1cyB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWIuYWN0aXZlIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWIgLm1kLXJpcHBsZS1jb250YWluZXIgeyAgICBjb2xvcjogJ3t7YWNjZW50LTEwMH19JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgaW5wdXQsIG1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgdGV4dGFyZWEgeyAgdGV4dC1zaGFkb3c6ICd7e2ZvcmVncm91bmQtc2hhZG93fX0nOyB9ICBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0OjotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0Oi1tb3otcGxhY2Vob2xkZXIsIG1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhOi1tb3otcGxhY2Vob2xkZXIsIG1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgdGV4dGFyZWE6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgbGFiZWwgeyAgdGV4dC1zaGFkb3c6ICd7e2ZvcmVncm91bmQtc2hhZG93fX0nOyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgaW5wdXQsIG1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUgdGV4dGFyZWEgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1mb2N1c2VkIGlucHV0LCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWZvY3VzZWQgdGV4dGFyZWEgeyAgYm9yZGVyLWNvbG9yOiAne3twcmltYXJ5LTUwMH19JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtZm9jdXNlZCBsYWJlbCB7ICBjb2xvcjogJ3t7cHJpbWFyeS01MDB9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWZvY3VzZWQubWQtYWNjZW50IGlucHV0LCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWZvY3VzZWQubWQtYWNjZW50IHRleHRhcmVhIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LTUwMH19JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtZm9jdXNlZC5tZC1hY2NlbnQgbGFiZWwgeyAgY29sb3I6ICd7e2FjY2VudC01MDB9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWhhcy12YWx1ZTpub3QoLm1kLWlucHV0LWZvY3VzZWQpIGxhYmVsIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dFtkaXNhYmxlZF0geyAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyAgY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJ1dHRvbiB7ICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICAgIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJ1dHRvbi5tZC1oaWdobGlnaHQgeyAgICAgIGNvbG9yOiAne3twcmltYXJ5LUEyMDB9fSc7IH0gICAgICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1idXR0b24ubWQtaGlnaGxpZ2h0Lm1kLWFjY2VudCB7ICAgICAgICBjb2xvcjogJ3t7YWNjZW50LUEyMDB9fSc7IH0gICAgICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1idXR0b24ubWQtaGlnaGxpZ2h0Lm1kLXdhcm4geyAgICAgICAgY29sb3I6ICd7e3dhcm4tQTIwMH19JzsgfW1kLXRvb2xiYXIubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gIG1kLXRvb2xiYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYnV0dG9uIHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gIG1kLXRvb2xiYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gIG1kLXRvb2xiYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgICAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC10b29sdGlwLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtQTEwMH19JzsgfSAgbWQtdG9vbHRpcC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1iYWNrZ3JvdW5kIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9XCIpOyIsIi8qISBcbiAqIGFuZ3VsYXItbG9hZGluZy1iYXIgdjAuNi4wXG4gKiBodHRwczovL2NoaWVmZmFuY3lwYW50cy5naXRodWIuaW8vYW5ndWxhci1sb2FkaW5nLWJhclxuICogQ29weXJpZ2h0IChjKSAyMDE0IFdlcyBDcnV2ZXJcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4vKlxuICogYW5ndWxhci1sb2FkaW5nLWJhclxuICpcbiAqIGludGVyY2VwdHMgWEhSIHJlcXVlc3RzIGFuZCBjcmVhdGVzIGEgbG9hZGluZyBiYXIuXG4gKiBCYXNlZCBvbiB0aGUgZXhjZWxsZW50IG5wcm9ncmVzcyB3b3JrIGJ5IHJzdGFjcnV6IChtb3JlIGluZm8gaW4gcmVhZG1lKVxuICpcbiAqIChjKSAyMDEzIFdlcyBDcnV2ZXJcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cblxuKGZ1bmN0aW9uKCkge1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIEFsaWFzIHRoZSBsb2FkaW5nIGJhciBmb3IgdmFyaW91cyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0aWVzIHNpbmNlIHRoZSBwcm9qZWN0IGhhcyBtYXR1cmVkOlxuYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXItbG9hZGluZy1iYXInLCBbJ2NmcC5sb2FkaW5nQmFySW50ZXJjZXB0b3InXSk7XG5hbmd1bGFyLm1vZHVsZSgnY2hpZWZmYW5jeXBhbnRzLmxvYWRpbmdCYXInLCBbJ2NmcC5sb2FkaW5nQmFySW50ZXJjZXB0b3InXSk7XG5cblxuLyoqXG4gKiBsb2FkaW5nQmFySW50ZXJjZXB0b3Igc2VydmljZVxuICpcbiAqIFJlZ2lzdGVycyBpdHNlbGYgYXMgYW4gQW5ndWxhciBpbnRlcmNlcHRvciBhbmQgbGlzdGVucyBmb3IgWEhSIHJlcXVlc3RzLlxuICovXG5hbmd1bGFyLm1vZHVsZSgnY2ZwLmxvYWRpbmdCYXJJbnRlcmNlcHRvcicsIFsnY2ZwLmxvYWRpbmdCYXInXSlcbiAgLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbiAoJGh0dHBQcm92aWRlcikge1xuXG4gICAgdmFyIGludGVyY2VwdG9yID0gWyckcScsICckY2FjaGVGYWN0b3J5JywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnY2ZwTG9hZGluZ0JhcicsIGZ1bmN0aW9uICgkcSwgJGNhY2hlRmFjdG9yeSwgJHRpbWVvdXQsICRyb290U2NvcGUsIGNmcExvYWRpbmdCYXIpIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHJlcXVlc3RzIG1hZGVcbiAgICAgICAqL1xuICAgICAgdmFyIHJlcXNUb3RhbCA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG51bWJlciBvZiByZXF1ZXN0cyBjb21wbGV0ZWQgKGVpdGhlciBzdWNjZXNzZnVsbHkgb3Igbm90KVxuICAgICAgICovXG4gICAgICB2YXIgcmVxc0NvbXBsZXRlZCA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGFtb3VudCBvZiB0aW1lIHNwZW50IGZldGNoaW5nIGJlZm9yZSBzaG93aW5nIHRoZSBsb2FkaW5nIGJhclxuICAgICAgICovXG4gICAgICB2YXIgbGF0ZW5jeVRocmVzaG9sZCA9IGNmcExvYWRpbmdCYXIubGF0ZW5jeVRocmVzaG9sZDtcblxuICAgICAgLyoqXG4gICAgICAgKiAkdGltZW91dCBoYW5kbGUgZm9yIGxhdGVuY3lUaHJlc2hvbGRcbiAgICAgICAqL1xuICAgICAgdmFyIHN0YXJ0VGltZW91dDtcblxuXG4gICAgICAvKipcbiAgICAgICAqIGNhbGxzIGNmcExvYWRpbmdCYXIuY29tcGxldGUoKSB3aGljaCByZW1vdmVzIHRoZVxuICAgICAgICogbG9hZGluZyBiYXIgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzZXRDb21wbGV0ZSgpIHtcbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHN0YXJ0VGltZW91dCk7XG4gICAgICAgIGNmcExvYWRpbmdCYXIuY29tcGxldGUoKTtcbiAgICAgICAgcmVxc0NvbXBsZXRlZCA9IDA7XG4gICAgICAgIHJlcXNUb3RhbCA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSByZXNwb25zZSBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZFxuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSAgY29uZmlnIHRoZSBjb25maWcgb3B0aW9uIGZyb20gdGhlIHJlcXVlc3RcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHJldHJucyB0cnVlIGlmIGNhY2hlZCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGlzQ2FjaGVkKGNvbmZpZykge1xuICAgICAgICB2YXIgY2FjaGU7XG4gICAgICAgIHZhciBkZWZhdWx0Q2FjaGUgPSAkY2FjaGVGYWN0b3J5LmdldCgnJGh0dHAnKTtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0gJGh0dHBQcm92aWRlci5kZWZhdWx0cztcblxuICAgICAgICAvLyBDaG9vc2UgdGhlIHByb3BlciBjYWNoZSBzb3VyY2UuIEJvcnJvd2VkIGZyb20gYW5ndWxhcjogJGh0dHAgc2VydmljZVxuICAgICAgICBpZiAoKGNvbmZpZy5jYWNoZSB8fCBkZWZhdWx0cy5jYWNoZSkgJiYgY29uZmlnLmNhY2hlICE9PSBmYWxzZSAmJlxuICAgICAgICAgIChjb25maWcubWV0aG9kID09PSAnR0VUJyB8fCBjb25maWcubWV0aG9kID09PSAnSlNPTlAnKSkge1xuICAgICAgICAgICAgY2FjaGUgPSBhbmd1bGFyLmlzT2JqZWN0KGNvbmZpZy5jYWNoZSkgPyBjb25maWcuY2FjaGVcbiAgICAgICAgICAgICAgOiBhbmd1bGFyLmlzT2JqZWN0KGRlZmF1bHRzLmNhY2hlKSA/IGRlZmF1bHRzLmNhY2hlXG4gICAgICAgICAgICAgIDogZGVmYXVsdENhY2hlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhY2hlZCA9IGNhY2hlICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgIGNhY2hlLmdldChjb25maWcudXJsKSAhPT0gdW5kZWZpbmVkIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5jYWNoZWQgIT09IHVuZGVmaW5lZCAmJiBjYWNoZWQgIT09IGNvbmZpZy5jYWNoZWQpIHtcbiAgICAgICAgICByZXR1cm4gY29uZmlnLmNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuY2FjaGVkID0gY2FjaGVkO1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgfVxuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoaXMgcmVxdWVzdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdGhhdFxuICAgICAgICAgIC8vIHRoZSByZXF1ZXN0ZXIgZGlkbid0IGV4cGxpY2l0bHkgYXNrIHVzIHRvIGlnbm9yZSB0aGlzIHJlcXVlc3Q6XG4gICAgICAgICAgaWYgKCFjb25maWcuaWdub3JlTG9hZGluZ0JhciAmJiAhaXNDYWNoZWQoY29uZmlnKSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjZnBMb2FkaW5nQmFyOmxvYWRpbmcnLCB7dXJsOiBjb25maWcudXJsfSk7XG4gICAgICAgICAgICBpZiAocmVxc1RvdGFsID09PSAwKSB7XG4gICAgICAgICAgICAgIHN0YXJ0VGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNmcExvYWRpbmdCYXIuc3RhcnQoKTtcbiAgICAgICAgICAgICAgfSwgbGF0ZW5jeVRocmVzaG9sZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXFzVG90YWwrKztcbiAgICAgICAgICAgIGNmcExvYWRpbmdCYXIuc2V0KHJlcXNDb21wbGV0ZWQgLyByZXFzVG90YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9LFxuXG4gICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5jb25maWcuaWdub3JlTG9hZGluZ0JhciAmJiAhaXNDYWNoZWQocmVzcG9uc2UuY29uZmlnKSkge1xuICAgICAgICAgICAgcmVxc0NvbXBsZXRlZCsrO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjZnBMb2FkaW5nQmFyOmxvYWRlZCcsIHt1cmw6IHJlc3BvbnNlLmNvbmZpZy51cmx9KTtcbiAgICAgICAgICAgIGlmIChyZXFzQ29tcGxldGVkID49IHJlcXNUb3RhbCkge1xuICAgICAgICAgICAgICBzZXRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2ZwTG9hZGluZ0Jhci5zZXQocmVxc0NvbXBsZXRlZCAvIHJlcXNUb3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSxcblxuICAgICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICAgIGlmICghcmVqZWN0aW9uLmNvbmZpZy5pZ25vcmVMb2FkaW5nQmFyICYmICFpc0NhY2hlZChyZWplY3Rpb24uY29uZmlnKSkge1xuICAgICAgICAgICAgcmVxc0NvbXBsZXRlZCsrO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjZnBMb2FkaW5nQmFyOmxvYWRlZCcsIHt1cmw6IHJlamVjdGlvbi5jb25maWcudXJsfSk7XG4gICAgICAgICAgICBpZiAocmVxc0NvbXBsZXRlZCA+PSByZXFzVG90YWwpIHtcbiAgICAgICAgICAgICAgc2V0Q29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNmcExvYWRpbmdCYXIuc2V0KHJlcXNDb21wbGV0ZWQgLyByZXFzVG90YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG5cbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yKTtcbiAgfV0pO1xuXG5cbi8qKlxuICogTG9hZGluZyBCYXJcbiAqXG4gKiBUaGlzIHNlcnZpY2UgaGFuZGxlcyBhZGRpbmcgYW5kIHJlbW92aW5nIHRoZSBhY3R1YWwgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogR2VuZXJhbGx5LCBiZXN0IHByYWN0aWNlcyBmb3IgRE9NIG1hbmlwdWxhdGlvbiBpcyB0byB0YWtlIHBsYWNlIGluIGFcbiAqIGRpcmVjdGl2ZSwgYnV0IGJlY2F1c2UgdGhlIGVsZW1lbnQgaXRzZWxmIGlzIGluamVjdGVkIGluIHRoZSBET00gb25seSB1cG9uXG4gKiBYSFIgcmVxdWVzdHMsIGFuZCBpdCdzIGxpa2VseSBuZWVkZWQgb24gZXZlcnkgdmlldywgdGhlIGJlc3Qgb3B0aW9uIGlzIHRvXG4gKiB1c2UgYSBzZXJ2aWNlLlxuICovXG5hbmd1bGFyLm1vZHVsZSgnY2ZwLmxvYWRpbmdCYXInLCBbXSlcbiAgLnByb3ZpZGVyKCdjZnBMb2FkaW5nQmFyJywgZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmluY2x1ZGVTcGlubmVyID0gdHJ1ZTtcbiAgICB0aGlzLmluY2x1ZGVCYXIgPSB0cnVlO1xuICAgIHRoaXMubGF0ZW5jeVRocmVzaG9sZCA9IDEwMDtcbiAgICB0aGlzLnN0YXJ0U2l6ZSA9IDAuMDI7XG4gICAgdGhpcy5wYXJlbnRTZWxlY3RvciA9ICdib2R5JztcbiAgICB0aGlzLnNwaW5uZXJUZW1wbGF0ZSA9ICc8ZGl2IGlkPVwibG9hZGluZy1iYXItc3Bpbm5lclwiPjxkaXYgY2xhc3M9XCJzcGlubmVyLWljb25cIj48L2Rpdj48L2Rpdj4nO1xuICAgIHRoaXMubG9hZGluZ0JhclRlbXBsYXRlID0gJzxkaXYgaWQ9XCJsb2FkaW5nLWJhclwiPjxkaXYgY2xhc3M9XCJiYXJcIj48ZGl2IGNsYXNzPVwicGVnXCI+PC9kaXY+PC9kaXY+PC9kaXY+JztcblxuICAgIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRkb2N1bWVudCcsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJGRvY3VtZW50LCAkdGltZW91dCwgJHJvb3RTY29wZSkge1xuICAgICAgdmFyICRhbmltYXRlO1xuICAgICAgdmFyICRwYXJlbnRTZWxlY3RvciA9IHRoaXMucGFyZW50U2VsZWN0b3IsXG4gICAgICAgIGxvYWRpbmdCYXJDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy5sb2FkaW5nQmFyVGVtcGxhdGUpLFxuICAgICAgICBsb2FkaW5nQmFyID0gbG9hZGluZ0JhckNvbnRhaW5lci5maW5kKCdkaXYnKS5lcSgwKSxcbiAgICAgICAgc3Bpbm5lciA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLnNwaW5uZXJUZW1wbGF0ZSk7XG5cbiAgICAgIHZhciBpbmNUaW1lb3V0LFxuICAgICAgICBjb21wbGV0ZVRpbWVvdXQsXG4gICAgICAgIHN0YXJ0ZWQgPSBmYWxzZSxcbiAgICAgICAgc3RhdHVzID0gMDtcblxuICAgICAgdmFyIGluY2x1ZGVTcGlubmVyID0gdGhpcy5pbmNsdWRlU3Bpbm5lcjtcbiAgICAgIHZhciBpbmNsdWRlQmFyID0gdGhpcy5pbmNsdWRlQmFyO1xuICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMuc3RhcnRTaXplO1xuXG4gICAgICAvKipcbiAgICAgICAqIEluc2VydHMgdGhlIGxvYWRpbmcgYmFyIGVsZW1lbnQgaW50byB0aGUgZG9tLCBhbmQgc2V0cyBpdCB0byAyJVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBfc3RhcnQoKSB7XG4gICAgICAgIGlmICghJGFuaW1hdGUpIHtcbiAgICAgICAgICAkYW5pbWF0ZSA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJHBhcmVudCA9ICRkb2N1bWVudC5maW5kKCRwYXJlbnRTZWxlY3RvcikuZXEoMCk7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbChjb21wbGV0ZVRpbWVvdXQpO1xuXG4gICAgICAgIC8vIGRvIG5vdCBjb250aW51YWxseSBicm9hZGNhc3QgdGhlIHN0YXJ0ZWQgZXZlbnQ6XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjZnBMb2FkaW5nQmFyOnN0YXJ0ZWQnKTtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGluY2x1ZGVCYXIpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihsb2FkaW5nQmFyQ29udGFpbmVyLCAkcGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmNsdWRlU3Bpbm5lcikge1xuICAgICAgICAgICRhbmltYXRlLmVudGVyKHNwaW5uZXIsICRwYXJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3NldChzdGFydFNpemUpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCB0aGUgbG9hZGluZyBiYXIncyB3aWR0aCB0byBhIGNlcnRhaW4gcGVyY2VudC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbiBhbnkgdmFsdWUgYmV0d2VlbiAwIGFuZCAxXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIF9zZXQobikge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBjdCA9IChuICogMTAwKSArICclJztcbiAgICAgICAgbG9hZGluZ0Jhci5jc3MoJ3dpZHRoJywgcGN0KTtcbiAgICAgICAgc3RhdHVzID0gbjtcblxuICAgICAgICAvLyBpbmNyZW1lbnQgbG9hZGluZ2JhciB0byBnaXZlIHRoZSBpbGx1c2lvbiB0aGF0IHRoZXJlIGlzIGFsd2F5c1xuICAgICAgICAvLyBwcm9ncmVzcyBidXQgbWFrZSBzdXJlIHRvIGNhbmNlbCB0aGUgcHJldmlvdXMgdGltZW91dHMgc28gd2UgZG9uJ3RcbiAgICAgICAgLy8gaGF2ZSBtdWx0aXBsZSBpbmNzIHJ1bm5pbmcgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGluY1RpbWVvdXQpO1xuICAgICAgICBpbmNUaW1lb3V0ID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX2luYygpO1xuICAgICAgICB9LCAyNTApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEluY3JlbWVudHMgdGhlIGxvYWRpbmcgYmFyIGJ5IGEgcmFuZG9tIGFtb3VudFxuICAgICAgICogYnV0IHNsb3dzIGRvd24gYXMgaXQgcHJvZ3Jlc3Nlc1xuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBfaW5jKCkge1xuICAgICAgICBpZiAoX3N0YXR1cygpID49IDEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm5kID0gMDtcblxuICAgICAgICAvLyBUT0RPOiBkbyB0aGlzIG1hdGhtYXRpY2FsbHkgaW5zdGVhZCBvZiB0aHJvdWdoIGNvbmRpdGlvbnNcblxuICAgICAgICB2YXIgc3RhdCA9IF9zdGF0dXMoKTtcbiAgICAgICAgaWYgKHN0YXQgPj0gMCAmJiBzdGF0IDwgMC4yNSkge1xuICAgICAgICAgIC8vIFN0YXJ0IG91dCBiZXR3ZWVuIDMgLSA2JSBpbmNyZW1lbnRzXG4gICAgICAgICAgcm5kID0gKE1hdGgucmFuZG9tKCkgKiAoNSAtIDMgKyAxKSArIDMpIC8gMTAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXQgPj0gMC4yNSAmJiBzdGF0IDwgMC42NSkge1xuICAgICAgICAgIC8vIGluY3JlbWVudCBiZXR3ZWVuIDAgLSAzJVxuICAgICAgICAgIHJuZCA9IChNYXRoLnJhbmRvbSgpICogMykgLyAxMDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdCA+PSAwLjY1ICYmIHN0YXQgPCAwLjkpIHtcbiAgICAgICAgICAvLyBpbmNyZW1lbnQgYmV0d2VlbiAwIC0gMiVcbiAgICAgICAgICBybmQgPSAoTWF0aC5yYW5kb20oKSAqIDIpIC8gMTAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXQgPj0gMC45ICYmIHN0YXQgPCAwLjk5KSB7XG4gICAgICAgICAgLy8gZmluYWxseSwgaW5jcmVtZW50IGl0IC41ICVcbiAgICAgICAgICBybmQgPSAwLjAwNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBhZnRlciA5OSUsIGRvbid0IGluY3JlbWVudDpcbiAgICAgICAgICBybmQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBjdCA9IF9zdGF0dXMoKSArIHJuZDtcbiAgICAgICAgX3NldChwY3QpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfY29tcGxldGVBbmltYXRpb24oKSB7XG4gICAgICAgIHN0YXR1cyA9IDA7XG4gICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX2NvbXBsZXRlKCkge1xuICAgICAgICBpZiAoISRhbmltYXRlKSB7XG4gICAgICAgICAgJGFuaW1hdGUgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjZnBMb2FkaW5nQmFyOmNvbXBsZXRlZCcpO1xuICAgICAgICBfc2V0KDEpO1xuXG4gICAgICAgICR0aW1lb3V0LmNhbmNlbChjb21wbGV0ZVRpbWVvdXQpO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYWdncmVnYXRlIGFueSBzdGFydC9jb21wbGV0ZSBjYWxscyB3aXRoaW4gNTAwbXM6XG4gICAgICAgIGNvbXBsZXRlVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gJGFuaW1hdGUubGVhdmUobG9hZGluZ0JhckNvbnRhaW5lciwgX2NvbXBsZXRlQW5pbWF0aW9uKTtcbiAgICAgICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLnRoZW4pIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihfY29tcGxldGVBbmltYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShzcGlubmVyKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQgICAgICAgICAgICA6IF9zdGFydCxcbiAgICAgICAgc2V0ICAgICAgICAgICAgICA6IF9zZXQsXG4gICAgICAgIHN0YXR1cyAgICAgICAgICAgOiBfc3RhdHVzLFxuICAgICAgICBpbmMgICAgICAgICAgICAgIDogX2luYyxcbiAgICAgICAgY29tcGxldGUgICAgICAgICA6IF9jb21wbGV0ZSxcbiAgICAgICAgaW5jbHVkZVNwaW5uZXIgICA6IHRoaXMuaW5jbHVkZVNwaW5uZXIsXG4gICAgICAgIGxhdGVuY3lUaHJlc2hvbGQgOiB0aGlzLmxhdGVuY3lUaHJlc2hvbGQsXG4gICAgICAgIHBhcmVudFNlbGVjdG9yICAgOiB0aGlzLnBhcmVudFNlbGVjdG9yLFxuICAgICAgICBzdGFydFNpemUgICAgICAgIDogdGhpcy5zdGFydFNpemVcbiAgICAgIH07XG5cblxuICAgIH1dOyAgICAgLy9cbiAgfSk7ICAgICAgIC8vIHd0ZiBqYXZhc2NyaXB0LiBzcnNseVxufSkoKTsgICAgICAgLy9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==