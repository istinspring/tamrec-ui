!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o="["+(t?t+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<s.length?he(s[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.13/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(he(arguments[r]));return new e(n)}}function i(t){if(null==t||A(t))return!1;var e=t.length;return t.nodeType===mi&&e?!0:w(t)||li(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(S(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(li(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function a(t){return Object.keys(t).sort()}function s(t,e,n){for(var r=a(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function c(){return++ui}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];t[u]=i[u]}}return l(t,e),t}function h(t){return parseInt(t,10)}function $(t,e){return f(Object.create(t),e)}function p(){}function d(t){return t}function v(t){return function(){return t}}function m(t){return"undefined"==typeof t}function g(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function w(t){return"string"==typeof t}function b(t){return"number"==typeof t}function x(t){return"[object Date]"===oi.call(t)}function S(t){return"function"==typeof t}function C(t){return"[object RegExp]"===oi.call(t)}function A(t){return t&&t.window===t}function k(t){return t&&t.$evalAsync&&t.$watch}function E(t){return"[object File]"===oi.call(t)}function O(t){return"[object FormData]"===oi.call(t)}function T(t){return"[object Blob]"===oi.call(t)}function M(t){return"boolean"==typeof t}function V(t){return t&&S(t.then)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function D(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function j(t){return Gr(t.nodeName||t[0]&&t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function R(t,e,n,r){if(A(t)||k(t))throw ai("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw ai("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],y(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var a;if(li(t)){e.length=0;for(var s=0;s<t.length;s++)a=R(t[s],null,n,r),y(t[s])&&(n.push(t[s]),r.push(a)),e.push(a)}else{var u=e.$$hashKey;li(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var c in t)t.hasOwnProperty(c)&&(a=R(t[c],null,n,r),y(t[c])&&(n.push(t[c]),r.push(a)),e[c]=a);l(e,u)}}else if(e=t,t)if(li(t))e=R(t,[],n,r);else if(x(t))e=new Date(t.getTime());else if(C(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(y(t)){var f=Object.create(Object.getPrototypeOf(t));e=R(t,f,n,r)}return e}function _(t,e){if(li(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!li(t)){if(x(t))return x(e)?I(t.getTime(),e.getTime()):!1;if(C(t)&&C(e))return t.toString()==e.toString();if(k(t)||k(e)||A(t)||A(e)||li(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!S(t[i])){if(!I(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!S(e[i]))return!1;return!0}if(!li(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!I(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(ni.call(e,n))}function U(t,e){return ni.call(t,e||0)}function F(t,e){var n=arguments.length>2?U(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:A(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function L(t,e){return"undefined"==typeof t?n:(b(e)||(e=e?2:null),JSON.stringify(t,H,e))}function B(t){return w(t)?JSON.parse(t):t}function z(t){t=Qr(t).clone();try{t.empty()}catch(e){}var n=Qr("<div>").append(t).html();try{return t[0].nodeType===gi?Gr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Gr(e)})}catch(e){return Gr(n)}}function W(t){try{return decodeURIComponent(t)}catch(e){}}function G(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=W(e[0]),g(n))){var i=g(e[1])?W(e[1]):!0;Jr.call(r,n)?li(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function J(t){var e=[];return o(t,function(t,n){li(t)?o(t,function(t){e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}):e.push(Z(n,!0)+(t===!0?"":"="+Z(t,!0)))}),e.length?e.join("&"):""}function Y(t){return Z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function K(t,e){var n,r,i=pi.length;for(t=Qr(t),r=0;i>r;++r)if(n=pi[r]+e,w(n=t.attr(n)))return n;return null}function X(t,e){var n,r,i={};o(pi,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(pi,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==K(n,"strict-di"),e(n,r?[r]:[],i))}function Q(n,r,i){y(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=Qr(n),n.injector()){var t=n[0]===e?"document":z(n);throw ai("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Be(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?s():(t.name=t.name.replace(c,""),si.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(S(si.resumeDeferredBootstrap)&&si.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){var e=si.element(t).injector();if(!e)throw ai("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ne(t,e){return e=e||"_",t.replace(di,function(t,n){return(n?e:"")+t.toLowerCase()})}function re(){var e;vi||(ti=t.jQuery,ti&&ti.fn.on?(Qr=ti,f(ti.fn,{scope:Ri.scope,isolateScope:Ri.isolateScope,controller:Ri.controller,injector:Ri.injector,inheritedData:Ri.inheritedData}),e=ti.cleanData,ti.cleanData=function(t){var n;if(ci)ci=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=ti._data(r,"events"),n&&n.$destroy&&ti(r).triggerHandler("$destroy");e(t)}):Qr=we,si.element=Qr,vi=!0)}function ie(t,e,n){if(!t)throw ai("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function oe(t,e,n){return n&&li(t)&&(t=t[t.length-1]),ie(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ae(t,e){if("hasOwnProperty"===t)throw ai("badname","hasOwnProperty is not a valid {0} name",e)}function se(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&S(t)?F(o,t):t}function ue(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Qr(r)}function ce(){return Object.create(null)}function le(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],u=t("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return s.push(t),this}};return a&&u(a),c})}})}function fe(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),y(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function he(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?fe(t):t}function $e(e){f(e,{bootstrap:Q,copy:R,extend:f,equals:I,element:Qr,forEach:o,injector:Be,noop:p,bind:F,toJson:L,fromJson:B,identity:d,isUndefined:m,isDefined:g,isString:w,isFunction:S,isObject:y,isNumber:b,isElement:N,isArray:li,version:xi,isDate:x,lowercase:Gr,uppercase:Yr,callbacks:{counter:0},getTestability:ee,$$minErr:r,$$csp:$i,reloadWithDebugInfo:te}),ei=le(t);try{ei("ngLocale")}catch(n){ei("ngLocale",[]).provider("$locale",mn)}ei("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Yn}),t.provider("$compile",Ke).directive({a:To,input:Wo,textarea:Wo,form:jo,script:Pa,select:Ia,style:Ua,option:qa,ngBind:Yo,ngBindHtml:Ko,ngBindTemplate:Zo,ngClass:Qo,ngClassEven:ea,ngClassOdd:ta,ngCloak:na,ngController:ra,ngForm:Po,ngHide:Ta,ngIf:aa,ngInclude:sa,ngInit:ca,ngNonBindable:Sa,ngPluralize:Ca,ngRepeat:Aa,ngShow:Oa,ngStyle:Ma,ngSwitch:Va,ngSwitchWhen:Na,ngSwitchDefault:Da,ngOptions:_a,ngTransclude:ja,ngModel:wa,ngList:la,ngChange:Xo,pattern:Ha,ngPattern:Ha,required:Fa,ngRequired:Fa,minlength:Ba,ngMinlength:Ba,maxlength:La,ngMaxlength:La,ngValue:Jo,ngModelOptions:xa}).directive({ngInclude:ua}).directive(Mo).directive(ia),t.provider({$anchorScroll:ze,$animate:Wi,$browser:Je,$cacheFactory:Ye,$controller:en,$document:nn,$exceptionHandler:rn,$filter:sr,$interpolate:dn,$interval:vn,$http:fn,$httpBackend:$n,$location:Vn,$log:Nn,$parse:Ln,$rootScope:Jn,$q:Bn,$$q:zn,$sce:Qn,$sceDelegate:Xn,$sniffer:tr,$templateCache:Ze,$templateRequest:er,$$testability:nr,$timeout:rr,$window:ar,$$rAF:Gn,$$asyncCallback:We,$$jqLite:qe})}])}function pe(){return++Ci}function de(t){return t.replace(Ei,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Oi,"Moz$1")}function ve(t){return!Ni.test(t)}function me(t){var e=t.nodeType;return e===mi||!e||e===wi}function ge(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(ve(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(Di.exec(t)||["",""])[1].toLowerCase(),i=Pi[r]||Pi._default,n.innerHTML=i[1]+t.replace(ji,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=q(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function ye(t,n){n=n||e;var r;return(r=Vi.exec(t))?[n.createElement(r[1])]:(r=ge(t,n))?r.childNodes:[]}function we(t){if(t instanceof we)return t;var e;if(w(t)&&(t=fi(t),e=!0),!(this instanceof we)){if(e&&"<"!=t.charAt(0))throw Mi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new we(t)}e?Me(this,ye(t)):Me(this,t)}function be(t){return t.cloneNode(!0)}function xe(t,e){if(e||Ce(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ce(n[r])}function Se(t,e,n,r){if(g(r))throw Mi("offargs","jqLite#off() does not support the `selector` argument");var i=Ae(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(g(n)){var r=a[e];if(P(r||[],n),r&&r.length>0)return}ki(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ki(t,e,s),delete a[e]}function Ce(t,e){var r=t.ng339,i=r&&Si[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Se(t)),delete Si[r],t.ng339=n}}function Ae(t,e){var r=t.ng339,i=r&&Si[r];return e&&!i&&(t.ng339=r=pe(),i=Si[r]={events:{},data:{},handle:n}),i}function ke(t,e,n){if(me(t)){var r=g(n),i=!r&&e&&!y(e),o=!e,a=Ae(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function Ee(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Oe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",fi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(e)+" "," ")))})}function Te(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=fi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",fi(n))}}function Me(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Ve(t,e){return Ne(t,"$"+(e||"ngController")+"Controller")}function Ne(t,e,r){t.nodeType==wi&&(t=t.documentElement);for(var i=li(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Qr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===bi&&t.host}}function De(t){for(xe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function je(t,e){e||xe(t);var n=t.parentNode;n&&n.removeChild(t)}function Pe(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Qr(n).on("load",e)}function Re(t,e){var n=_i[e.toLowerCase()];return n&&Ii[j(t)]&&n}function _e(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qi[e]}function Ie(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=_(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function qe(){this.$get=function(){return f(we,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ee(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Oe(t,e)}})}}function Ue(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||c)():r+":"+t}function Fe(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function He(t){var e=t.toString().replace(Li,""),n=e.match(Ui);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Le(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw w(n)&&n||(n=t.name||He(t)),Bi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Li,""),a=i.match(Ui),o(a[1].split(Fi),function(t){t.replace(Hi,function(t,e,n){r.push(n)})})}t.$inject=r}}else li(t)?(s=t.length-1,oe(t[s],"fn"),r=t.slice(0,s)):oe(t,"fn",!0);return r}function Be(t,e){function r(t){return function(e,n){return y(e)?void o(e,u(t)):t(e,n)}}function i(t,e){if(ae(t,"service"),(S(e)||li(e))&&(e=k.instantiate(e)),!e.$get)throw Bi("pget","Provider '{0}' must define $get factory method.",t);return A[t+b]=e}function a(t,e){return function(){var n=O.invoke(e,this);if(m(n))throw Bi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function c(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return s(t,v(e),!1)}function f(t,e){ae(t,"constant"),A[t]=e,E[t]=e}function h(t,e){var n=k.get(t+b),r=n.$get;n.$get=function(){var t=O.invoke(r,n);return O.invoke(e,null,{$delegate:t})}}function $(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=k.get(r[0]);i[r[1]].apply(i,r[2])}}if(!C.get(t)){C.put(t,!0);try{w(t)?(e=ei(t),n=n.concat($(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push(k.invoke(t)):li(t)?n.push(k.invoke(t)):oe(t,"module")}catch(i){throw li(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Bi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function d(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw Bi("cdep","Circular dependency found: {0}",e+" <- "+x.join(" <- "));return t[e]}try{return x.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{x.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,c=[],l=Be.$$annotate(t,e,o);for(s=0,a=l.length;a>s;s++){if(u=l[s],"string"!=typeof u)throw Bi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return li(t)&&(t=t[a]),t.apply(n,c)}function o(t,e,n){var r=Object.create((li(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return y(o)||S(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Be.$$annotate,has:function(e){return A.hasOwnProperty(e+b)||t.hasOwnProperty(e)}}}e=e===!0;var g={},b="Provider",x=[],C=new Fe([],!0),A={$provide:{provider:r(i),factory:r(s),service:r(c),value:r(l),constant:r(f),decorator:h}},k=A.$injector=d(A,function(t,e){throw si.isString(e)&&x.push(e),Bi("unpr","Unknown provider: {0}",x.join(" <- "))}),E={},O=E.$injector=d(E,function(t,e){var r=k.get(t+b,e);return O.invoke(r.$get,r,n,t)});return o($(t),function(t){O.invoke(t||p)}),O}function ze(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===j(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(S(t))t=t();else if(N(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else b(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Pe(function(){r.$evalAsync(s)})}),s}]}function We(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ge(t,e,r,i){function a(t){try{t.apply(null,U(arguments,1))}finally{if(S--,0===S)for(;C.length;)try{C.pop()()}catch(e){r.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function u(t,e){!function n(){o(k,function(t){t()}),A=e(n,t)}()}function c(){l(),f()}function l(){E=t.history.state,E=m(E)?null:E,I(E,j)&&(E=j),j=E}function f(){(T!==$.url()||O!==E)&&(T=$.url(),O=E,o(N,function(t){t($.url(),E)}))}function h(t){try{return decodeURIComponent(t)}catch(e){return t}}var $=this,d=e[0],v=t.location,g=t.history,y=t.setTimeout,b=t.clearTimeout,x={};$.isMock=!1;var S=0,C=[];$.$$completeOutstandingRequest=a,$.$$incOutstandingRequestCount=function(){S++},$.notifyWhenNoOutstandingRequests=function(t){o(k,function(t){t()}),0===S?t():C.push(t)};var A,k=[];$.addPollFn=function(t){return m(A)&&u(100,y),k.push(t),t};var E,O,T=v.href,M=e.find("base"),V=null;l(),O=E,$.url=function(e,n,r){if(m(r)&&(r=null),v!==t.location&&(v=t.location),g!==t.history&&(g=t.history),e){var o=O===r;if(T===e&&(!i.history||o))return $;var a=T&&xn(T)===xn(e);return T=e,O=r,!i.history||a&&o?(a||(V=e),n?v.replace(e):a?v.hash=s(e):v.href=e):(g[n?"replaceState":"pushState"](r,"",e),l(),O=E),$}return V||v.href.replace(/%27/g,"'")},$.state=function(){return E};var N=[],D=!1,j=null;$.onUrlChange=function(e){return D||(i.history&&Qr(t).on("popstate",c),Qr(t).on("hashchange",c),D=!0),N.push(e),e},$.$$checkUrlChange=f,$.baseHref=function(){var t=M.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},R="",_=$.baseHref();$.cookies=function(t,e){var i,o,a,s,u;if(!t){if(d.cookie!==R)for(R=d.cookie,o=R.split("; "),P={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(t=h(a.substring(0,u)),P[t]===n&&(P[t]=h(a.substring(u+1))));return P}e===n?d.cookie=encodeURIComponent(t)+"=;path="+_+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(e)&&(i=(d.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+_).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},$.defer=function(t,e){var n;return S++,n=y(function(){delete x[n],a(t)},e||0),x[n]=!0,n},$.defer.cancel=function(t){return x[t]?(delete x[t],b(t),a(p),!0):!1}}function Je(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ge(t,r,e,n)}]}function Ye(){this.$get=function(){function t(t,n){function i(t){t!=h&&($?$==t&&($=t.n):$=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,$=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}if(!m(e))return t in u||a++,u[t]=e,a>c&&this.remove($.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==$&&($=e.n),o(e.n,e.p),delete l[t]}delete u[t],a--},removeAll:function(){u={},a=0,l={},h=$=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ze(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ke(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,i){var o=t.match(n);if(!o)throw Gi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}var a={},s="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=D("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/;this.directive=function C(e,n){return ae(e,"directive"),w(e)?(ie(n,"directiveFactory"),a.hasOwnProperty(e)||(a[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return o(a[e],function(o,a){try{var s=t.invoke(o);S(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),a[e].push(n)):o(e,u(C)),this},this.aHrefSanitizationWhitelist=function(t){return g(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(t){return g(t)?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,u,v,g,C,A,E,O,T){function M(t,e){try{t.addClass(e)}catch(n){}}function V(t,e,n,r,i){t instanceof Qr||(t=Qr(t)),o(t,function(e,n){e.nodeType==gi&&e.nodeValue.match(/\S+/)&&(t[n]=Qr(e).wrap("<span></span>").parent()[0])});var a=D(t,e,t,n,r,i);V.$$addScopeClass(t);var s=null;return function(e,n,r){ie(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=N(u));var c;if(c="html"!==s?Qr(X(s,Qr("<div>").append(t).html())):n?Ri.clone.call(t):t,o)for(var l in o)c.data("$"+l+"Controller",o[l].instance);return V.$$addScopeInfo(c,e),n&&n(c,e),a&&a(e,c,c,i),c}}function N(t){var e=t&&t[0];return e&&"foreignobject"!==j(e)&&e.toString().match(/SVG/)?"svg":"html"}function D(t,e,r,i,o,a){function s(t,r,i,o){var a,s,u,c,l,f,h,$,v;if(p){var m=r.length;for(v=new Array(m),l=0;l<d.length;l+=3)h=d[l],v[h]=r[h]}else v=r;for(l=0,f=d.length;f>l;)u=v[d[l++]],a=d[l++],s=d[l++],a?(a.scope?(c=t.$new(),V.$$addScopeInfo(Qr(u),c)):c=t,$=a.transcludeOnThisElement?R(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?R(t,e):null,a(s,c,u,i,$)):s&&s(t,u.childNodes,n,o)}for(var u,c,l,f,h,$,p,d=[],v=0;v<t.length;v++)u=new ae,c=_(t[v],[],u,0===v?i:n,o),l=c.length?H(c,t[v],u,e,r,null,[],[],a):null,l&&l.scope&&V.$$addScopeClass(u.$$element),h=l&&l.terminal||!(f=t[v].childNodes)||!f.length?null:D(f,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(d.push(v,l,h),$=!0,p=p||l),a=null;return $?s:null}function R(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function _(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case mi:B(e,Xe(j(t)),"E",r,i);for(var f,h,$,p,d,v,m=t.attributes,g=0,b=m&&m.length;b>g;g++){var x=!1,S=!1;f=m[g],h=f.name,d=fi(f.value),p=Xe(h),(v=fe.test(p))&&(h=h.replace(Ji,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");W(C)&&p===C+"Start"&&(x=h,S=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),$=Xe(h.toLowerCase()),u[$]=h,(v||!n.hasOwnProperty($))&&(n[$]=d,Re(t,$)&&(n[$]=!0)),te(t,e,d,$,v),B(e,$,"A",r,i,x,S)}if(a=t.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=l.exec(a);)$=Xe(o[2]),B(e,$,"C",r,i)&&(n[$]=fi(o[3])),a=a.substr(o.index+o[0].length);break;case gi:K(e,t.nodeValue);break;case yi:try{o=c.exec(t.nodeValue),o&&($=Xe(o[1]),B(e,$,"M",r,i)&&(n[$]=fi(o[2])))}catch(A){}}return e.sort(Y),e}function q(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Gi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==mi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Qr(r)}function F(t,e,n){return function(r,i,o,a,s){return i=q(i[0],e,n),t(r,i,o,a,s)}}function H(t,a,s,u,c,l,f,h,$){function p(t,e,n,r){t&&(n&&(t=F(t,n,r)),t.require=A.require,t.directiveName=E,(j===A||A.$$isolateScope)&&(t=re(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=F(e,n,r)),e.require=A.require,e.directiveName=E,(j===A||A.$$isolateScope)&&(e=re(e,{isolateScope:!0})),h.push(e))}function d(t,e,n,r){var i,a,s="data",u=!1,c=n;if(w(e)){if(a=e.match(m),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",c=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[e])&&(i=i.instance),i=i||c[s]("$"+e+"Controller"),!i&&!u)throw Gi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i||null}return li(e)&&(i=[],o(e,function(e){i.push(d(t,e,n,r))})),i}function b(t,e,i,u,c){function l(t,e,r){var i;return k(t)||(r=e,e=t,t=n),W&&(i=b),r||(r=W?S.parent():S),c(t,e,i,r,T)}var $,p,m,y,w,b,x,S,A;if(a===i?(A=s,S=s.$$element):(S=Qr(i),A=new ae(S,s)),j&&(w=e.$new(!0)),c&&(x=l,x.$$boundTransclude=c),D&&(C={},b={},o(D,function(t){var n,r={$scope:t===j||t.$$isolateScope?w:e,$element:S,$attrs:A,$transclude:x};y=t.controller,"@"==y&&(y=A[t.name]),n=g(y,r,!0,t.controllerAs),b[t.name]=n,W||S.data("$"+t.name+"Controller",n.instance),C[t.name]=n})),j){V.$$addScopeInfo(S,w,!0,!(P&&(P===j||P===j.$$originalDirective))),V.$$addScopeClass(S,!0);var E=C&&C[j.name],O=w;E&&E.identifier&&j.bindToController===!0&&(O=E.instance),o(w.$$isolateBindings=j.$$isolateBindings,function(t,n){var i,o,a,s,u=t.attrName,c=t.optional,l=t.mode;switch(l){case"@":A.$observe(u,function(t){O[n]=t}),A.$$observers[u].$$scope=e,A[u]&&(O[n]=r(A[u])(e));break;case"=":if(c&&!A[u])return;o=v(A[u]),s=o.literal?I:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw i=O[n]=o(e),Gi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",A[u],j.name)},i=O[n]=o(e);var f=function(t){return s(t,O[n])||(s(t,i)?a(e,t=O[n]):O[n]=t),i=t};f.$stateful=!0;var h;h=t.collection?e.$watchCollection(A[u],f):e.$watch(v(A[u],f),null,o.literal),w.$on("$destroy",h);break;case"&":o=v(A[u]),O[n]=function(t){return o(e,t)}}})}for(C&&(o(C,function(t){t()}),C=null),$=0,p=f.length;p>$;$++)m=f[$],oe(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x);var T=e;for(j&&(j.template||null===j.templateUrl)&&(T=w),t&&t(T,i.childNodes,n,c),$=h.length-1;$>=0;$--)m=h[$],oe(m,m.isolateScope?w:e,S,A,m.require&&d(m.directiveName,m.require,S,b),x)}$=$||{};for(var x,C,A,E,O,T,M,N=-Number.MAX_VALUE,D=$.controllerDirectives,j=$.newIsolateScopeDirective,P=$.templateDirective,R=$.nonTlbTranscludeDirective,H=!1,B=!1,W=$.hasElementTranscludeDirective,Y=s.$$element=Qr(a),K=l,Q=u,te=0,ne=t.length;ne>te;te++){A=t[te];var ie=A.$$start,se=A.$$end;if(ie&&(Y=q(a,ie,se)),O=n,N>A.priority)break;if((M=A.scope)&&(A.templateUrl||(y(M)?(Z("new/isolated scope",j||x,A,Y),j=A):Z("new/isolated scope",j,A,Y)),x=x||A),E=A.name,!A.templateUrl&&A.controller&&(M=A.controller,D=D||{},Z("'"+E+"' controller",D[E],A,Y),D[E]=A),(M=A.transclude)&&(H=!0,A.$$tlb||(Z("transclusion",R,A,Y),R=A),"element"==M?(W=!0,N=A.priority,O=Y,Y=s.$$element=Qr(e.createComment(" "+E+": "+s[E]+" ")),a=Y[0],ee(c,U(O),a),Q=V(O,u,N,K&&K.name,{nonTlbTranscludeDirective:R})):(O=Qr(be(a)).contents(),Y.empty(),Q=V(O,u))),A.template)if(B=!0,Z("template",P,A,Y),P=A,M=S(A.template)?A.template(Y,s):A.template,M=le(M),A.replace){if(K=A,O=ve(M)?[]:tn(X(A.templateNamespace,fi(M))),a=O[0],1!=O.length||a.nodeType!==mi)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",E,"");ee(c,Y,a);var ue={$attr:{}},ce=_(a,[],ue),fe=t.splice(te+1,t.length-(te+1));j&&L(ce),t=t.concat(ce).concat(fe),G(s,ue),ne=t.length}else Y.html(M);if(A.templateUrl)B=!0,Z("template",P,A,Y),P=A,A.replace&&(K=A),b=J(t.splice(te,t.length-te),Y,s,c,H&&Q,f,h,{controllerDirectives:D,newIsolateScopeDirective:j,templateDirective:P,nonTlbTranscludeDirective:R}),ne=t.length;else if(A.compile)try{T=A.compile(Y,s,Q),S(T)?p(null,T,ie,se):T&&p(T.pre,T.post,ie,se)}catch(he){i(he,z(Y))}A.terminal&&(b.terminal=!0,N=Math.max(N,A.priority))}return b.scope=x&&x.scope===!0,b.transcludeOnThisElement=H,b.elementTranscludeOnThisElement=W,b.templateOnThisElement=B,b.transclude=Q,$.hasElementTranscludeDirective=W,b}function L(t){for(var e=0,n=t.length;n>e;e++)t[e]=$(t[e],{$$isolateScope:!0})}function B(e,r,o,u,c,l,f){if(r===c)return null;var h=null;if(a.hasOwnProperty(r))for(var p,d=t.get(r+s),v=0,m=d.length;m>v;v++)try{p=d[v],(u===n||u>p.priority)&&-1!=p.restrict.indexOf(o)&&(l&&(p=$(p,{$$start:l,$$end:f})),e.push(p),h=p)}catch(g){i(g)
}return h}function W(e){if(a.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function G(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(M(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function J(t,e,n,r,i,a,s,c){var l,f,h=[],p=e[0],d=t.shift(),v=$(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=S(d.templateUrl)?d.templateUrl(e,n):d.templateUrl,g=d.templateNamespace;return e.empty(),u(E.getTrustedResourceUrl(m)).then(function(u){var $,w,b,x;if(u=le(u),d.replace){if(b=ve(u)?[]:tn(X(g,fi(u))),$=b[0],1!=b.length||$.nodeType!==mi)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m);w={$attr:{}},ee(r,e,$);var S=_($,[],w);y(d.scope)&&L(S),t=S.concat(t),G(n,w)}else $=p,e.html(u);for(t.unshift(v),l=H(t,$,n,i,e,d,a,s,c),o(r,function(t,n){t==$&&(r[n]=e[0])}),f=D(e[0].childNodes,i);h.length;){var C=h.shift(),A=h.shift(),k=h.shift(),E=h.shift(),O=e[0];if(!C.$$destroyed){if(A!==p){var T=A.className;c.hasElementTranscludeDirective&&d.replace||(O=be($)),ee(k,Qr(A),O),M(Qr(O),T)}x=l.transcludeOnThisElement?R(C,l.transclude,E):E,l(f,C,O,r,x)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(l.transcludeOnThisElement&&(o=R(e,l.transclude,i)),l(f,e,n,r,o)))}}function Y(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Z(t,e,n,r){if(e)throw Gi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,z(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&V.$$addBindingClass(e),function(t,e){var i=e.parent();r||V.$$addBindingClass(i),V.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function X(t,n){switch(t=Gr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return E.HTML;var n=j(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function te(t,e,n,i,o){var a=Q(t,i);o=h[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===j(t))throw Gi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers={});if(b.test(i))throw Gi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==n&&(s=l&&r(l,!0,a,o),n=l),s&&(u[i]=s(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function ee(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var c=i,l=c+s-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var h=e.createDocumentFragment();h.appendChild(a),Qr(r).data(Qr(a).data()),ti?(ci=!0,ti.cleanData([a])):delete Qr.cache[a[Qr.expando]];for(var $=1,p=n.length;p>$;$++){var d=n[$];Qr(d).remove(),h.appendChild(d),delete n[$]}n[0]=r,n.length=1}function re(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,z(n))}}var ae=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ae.prototype={$normalize:Xe,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Qe(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=Qe(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,u=this.$$element[0],c=Re(u,t),l=_e(u,t),f=t;if(c?(this.$$element.prop(t,e),a=c):l&&(this[l]=e,f=l),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ne(t,"-"))),s=j(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=T(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",$=fi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test($)?p:/(,)/,v=$.split(d),m=Math.floor(v.length/2),g=0;m>g;g++){var y=2*g;h+=T(fi(v[y]),!0),h+=" "+fi(v[y+1])}var w=fi(v[2*g]).split(/\s/);h+=T(fi(w[0]),!0),2===w.length&&(h+=" "+fi(w[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var b=this.$$observers;b&&o(b[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ce()),i=r[t]||(r[t]=[]);return i.push(e),C.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){P(i,e)}}};var se=r.startSymbol(),ue=r.endSymbol(),le="{{"==se||"}}"==ue?d:function(t){return t.replace(/\{\{/g,se).replace(/}}/g,ue)},fe=/^ngAttr[A-Z]/;return V.$$addBindingInfo=x?function(t,e){var n=t.data("$binding")||[];li(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,V.$$addBindingClass=x?function(t){M(t,"ng-binding")}:p,V.$$addScopeInfo=x?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:p,V.$$addScopeClass=x?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:p,V}]}function Xe(t){return de(t.replace(Ji,""))}function Qe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function tn(t){t=Qr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===yi&&ri.call(t,e,1)}return t}function en(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){ae(e,"controller"),y(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,i){if(!t||!y(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,u,c,l){var h,$,p,d;if(c=c===!0,l&&w(l)&&(d=l),w(r)){if($=r.match(i),!$)throw Yi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=$[1],d=d||$[3],r=t.hasOwnProperty(p)?t[p]:se(u.$scope,p,!0)||(e?se(a,p,!0):n),oe(r,p,!0)}if(c){var v=(li(r)?r[r.length-1]:r).prototype;return h=Object.create(v||null),d&&s(u,d,h,p||r.name),f(function(){return o.invoke(r,h,u,p),h},{instance:h,identifier:d})}return h=o.instantiate(r,u,p),d&&s(u,d,h,p||r.name),h}}]}function nn(){this.$get=["$window",function(t){return Qr(t.document)}]}function rn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function on(t,e){if(w(t)){var n=t.replace(to,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Zi)||an(n))&&(t=B(n))}}return t}function an(t){var e=t.match(Xi);return e&&Qi[e[0]].test(t)}function sn(t){var e,n,r,i=ce();return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=Gr(fi(t.substr(0,r))),n=fi(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function un(t){var e=y(t)?t:n;return function(n){if(e||(e=sn(t)),n){var r=e[Gr(n)];return void 0===r&&(r=null),r}return e}}function cn(t,e,n,r){return S(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function ln(t){return t>=200&&300>t}function fn(){var t=this.defaults={transformResponse:[on],transformRequest:[function(t){return!y(t)||E(t)||T(t)||O(t)?t:L(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_(Ki),put:_(Ki),patch:_(Ki)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return g(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,h,$){function p(e){function i(t){var e=f({},t);return e.data=t.data?cn(t.data,t.headers,t.status,u.transformResponse):t.data,ln(t.status)?e:h.reject(e)}function a(t){var e,n={};return o(t,function(t,r){S(t)?(e=t(),null!=e&&(n[r]=e)):n[r]=t}),n}function s(e){var n,r,i,o=t.headers,s=f({},e.headers);o=f({},o.common,o[Gr(e.method)]);t:for(n in o){r=Gr(n);for(i in s)if(Gr(i)===r)continue t;s[n]=o[n]}return a(s)}if(!si.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var u=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);u.headers=s(e),u.method=Yr(u.method);var c=function(e){var r=e.headers,a=cn(e.data,un(r),n,e.transformRequest);return m(a)&&o(r,function(t,e){"content-type"===Gr(e)&&delete r[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),b(e,a).then(i,i)},l=[c,n],$=h.when(u);for(o(k,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var p=l.shift(),d=l.shift();$=$.then(p,d)}return $.success=function(t){return $.then(function(e){t(e.data,e.status,e.headers,u)}),$},$.error=function(t){return $.then(null,function(e){t(e.data,e.status,e.headers,u)}),$},$}function d(){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}function v(){o(arguments,function(t){p[t]=function(e,n,r){return p(f(r||{},{method:t,url:e,data:n}))}})}function b(r,i){function o(t,n,r,i){function o(){s(n,t,r,i)}$&&(ln(t)?$.put(x,[t,n,sn(r),i]):$.remove(x)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function s(t,e,n,i){e=Math.max(e,0),(ln(e)?v.resolve:v.reject)({data:t,status:e,headers:un(n),config:r,statusText:i})}function c(t){s(t.data,t.status,_(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var $,d,v=h.defer(),w=v.promise,b=r.headers,x=C(r.url,r.params);if(p.pendingRequests.push(r),w.then(f,f),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||($=y(r.cache)?r.cache:y(t.cache)?t.cache:A),$&&(d=$.get(x),g(d)?V(d)?d.then(c,c):li(d)?s(d[1],d[0],_(d[2]),d[3]):s(d,200,{},"OK"):$.put(x,w)),m(d)){var S=or(r.url)?u.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n;S&&(b[r.xsrfHeaderName||t.xsrfHeaderName]=S),a(r.method,x,i,o,b,r.timeout,r.withCredentials,r.responseType)}return w}function C(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||m(t)||(li(t)||(t=[t]),o(t,function(t){y(t)&&(t=x(t)?t.toISOString():L(t)),n.push(Z(e)+"="+Z(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var A=c("$http"),k=[];return o(i,function(t){k.unshift(w(t)?$.get(t):$.invoke(t))}),p.pendingRequests=[],d("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function hn(){return new t.XMLHttpRequest}function $n(){this.$get=["$browser","$window","$document",function(t,e,n){return pn(t,hn,t.defer,e.angular.callbacks,n[0])}]}function pn(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ki(r,"load",o),ki(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},Ai(r,"load",o),Ai(r,"error",o),a.body.appendChild(r),o}return function(a,u,c,l,f,h,$,d){function v(){w&&w(),b&&b.abort()}function m(e,i,o,a,s){C!==n&&r.cancel(C),w=b=null,e(i,o,a,s),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==Gr(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var w=s(u.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){m(l,t,i[y].data,"",e),i[y]=p})}else{var b=e();b.open(a,u,!0),o(f,function(t,e){g(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==ir(u).protocol?404:0),m(l,n,e,b.getAllResponseHeaders(),t)};var x=function(){m(l,-1,null,null,"")};if(b.onerror=x,b.onabort=x,$&&(b.withCredentials=!0),d)try{b.responseType=d}catch(S){if("json"!==d)throw S}b.send(c||null)}if(h>0)var C=r(v,h);else V(h)&&h.then(v)}}function dn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(o,a,h,$){function p(n){return n.replace(c,t).replace(l,e)}function d(t){try{return t=T(t),$&&!g(t)?t:M(t)}catch(e){var n=eo("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(n)}}$=!!$;for(var v,y,w,b=0,x=[],C=[],A=o.length,k=[],E=[];A>b;){if(-1==(v=o.indexOf(t,b))||-1==(y=o.indexOf(e,v+s))){b!==A&&k.push(p(o.substring(b)));break}b!==v&&k.push(p(o.substring(b,v))),w=o.substring(v+s,y),x.push(w),C.push(n(w,d)),b=y+u,E.push(k.length),k.push("")}if(h&&k.length>1)throw eo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var O=function(t){for(var e=0,n=x.length;n>e;e++){if($&&m(t[e]))return;k[E[e]]=t[e]}return k.join("")},T=function(t){return h?i.getTrusted(h,t):i.valueOf(t)},M=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=L(t)}return t};return f(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=C[e](t);return O(i)}catch(a){var s=eo("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:x,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(C,function(n,i){var o=O(n);S(e)&&e.call(this,o,n!==i?r:o,t),r=o},n)}})}}var s=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),l=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function vn(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var c=e.setInterval,l=e.clearInterval,f=0,h=g(u)&&!u,$=(h?r:n).defer(),p=$.promise;return s=g(s)?s:0,p.then(null,null,i),p.$$intervalId=c(function(){$.notify(f++),s>0&&f>=s&&($.resolve(f),l(p.$$intervalId),delete o[p.$$intervalId]),h||t.$apply()},a),o[p.$$intervalId]=$,p}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function mn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function gn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Y(e[n]);return e.join("/")}function yn(t,e){var n=ir(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||ro[n.protocol]||null}function wn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=ir(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=G(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function bn(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function xn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Sn(t){return t.replace(/(#.+)|#$/,"$1")}function Cn(t){return t.substr(0,xn(t).lastIndexOf("/")+1)}function An(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function kn(t,e){this.$$html5=!0,e=e||"";var r=Cn(t);yn(t,this),this.$$parse=function(t){var e=bn(r,t);if(!w(e))throw io("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);wn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=J(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=bn(t,i))!==n?(s=a,u=(a=bn(e,a))!==n?r+(bn("/",a)||a):t+s):(a=bn(r,i))!==n?u=r+a:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function En(t,e){var n=Cn(t);yn(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=bn(t,r)||bn(n,r);"#"===a.charAt(0)?(o=bn(e,a),m(o)&&(o=a)):o=this.$$html5?a:"",wn(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=J(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return xn(t)==xn(e)?(this.$$parse(e),!0):!1}}function On(t,e){this.$$html5=!0,En.apply(this,arguments);var n=Cn(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==xn(r)?o=r:(a=bn(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=J(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function Tn(t){return function(){return this[t]}}function Mn(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Vn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):y(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),M(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),$=r.url();if(e.enabled){if(!h&&e.requireBase)throw io("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=An($)+(h||"/"),l=i.history?kn:On}else f=xn($),l=En;c=new l(f,"#"+t),c.$$parseLinkUrl($,$),c.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Qr(t.target);"a"!==j(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ir(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Sn(c.absUrl())!=Sn($)&&r.url(c.absUrl(),!0);var d=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(d=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Sn(r.url()),e=Sn(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(d||l)&&(d=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Nn(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||p,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Dn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ao("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function jn(t,e){if(t){if(t.constructor===t)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ao("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ao("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ao("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Pn(t,e){if(t){if(t.constructor===t)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===so||t===uo||t===co)throw ao("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Rn(t){return t.constant}function _n(t,e,n,r,i){jn(t,i),jn(e,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Dn(a.shift(),i);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=jn(u,i)}return o=Dn(a.shift(),i),jn(t[o],i),t[o]=r,r}function In(t){return"constructor"==t}function qn(t,e,r,i,o,a,s){Dn(t,a),Dn(e,a),Dn(r,a),Dn(i,a),Dn(o,a);var u=function(t){return jn(t,a)},c=s||In(t)?u:d,l=s||In(e)?u:d,f=s||In(r)?u:d,h=s||In(i)?u:d,$=s||In(o)?u:d;return function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;return null==u?u:(u=c(u[t]),e?null==u?n:(u=l(u[e]),r?null==u?n:(u=f(u[r]),i?null==u?n:(u=h(u[i]),o?null==u?n:u=$(u[o]):u):u):u):u)}}function Un(t,e){return function(n,r){return t(n,r,jn,e)}}function Fn(t,e,r){var i=e.expensiveChecks,a=i?mo:vo,s=a[t];if(s)return s;var u=t.split("."),c=u.length;if(e.csp)s=6>c?qn(u[0],u[1],u[2],u[3],u[4],r,i):function(t,e){var o,a=0;do o=qn(u[a++],u[a++],u[a++],u[a++],u[a++],r,i)(t,e),e=n,t=o;while(c>a);return o};else{var l="";i&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;o(u,function(t,e){Dn(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(i||In(t))&&(n="eso("+n+", fe)",f=!0),l+="if(s == null) return undefined;\ns="+n+";\n"}),l+="return s;";var h=new Function("s","l","eso","fe",l);h.toString=v(l),f&&(h=Un(h,r)),s=h}return s.sharedGetter=!0,s.assign=function(e,n,r){return _n(e,r,t,n,t)},a[t]=s,s}function Hn(t){return S(t.valueOf)?t.valueOf():go.call(t)}function Ln(){var t=ce(),e=ce();this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?a(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Hn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],t.$watch(function(t){var e=o(t);return s(e,u)||(i=r(t),u=e&&Hn(e)),i},e,n)}for(var c=[],l=0,f=o.length;f>l;l++)c[l]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var u=o[n](t);(e||(e=!s(u,c[n])))&&(c[n]=u&&Hn(u))}return e&&(i=r(t)),i},e,n)}function c(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,S(e)&&e.apply(this,arguments),g(t)&&r.$$postDigest(function(){g(o)&&i()})},n)}function l(t,e,n,r){function i(t){var e=!0;return o(t,function(t){g(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,S(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){S(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==l&&n!==c,i=r?function(n,r){var i=t(n,r);return e(i,n,r)}:function(n,r){var i=t(n,r),o=e(i,n,r);return g(i)?o:i};return t.$$watchDelegate&&t.$$watchDelegate!==u?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=u,i.inputs=[t]),i}var $={csp:r.csp,expensiveChecks:!1},d={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,v,m;switch(typeof r){case"string":m=r=r.trim();var g=a?e:t;if(s=g[m],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2));var y=a?d:$,w=new $o(y),b=new po(w,n,y);s=b.parse(r),s.constant?s.$$watchDelegate=f:v?(s=i(s),s.$$watchDelegate=s.literal?l:c):s.inputs&&(s.$$watchDelegate=u),g[m]=s}return h(s,o);case"function":return h(r,o);default:return h(p,o)}}}]}function Bn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Wn(function(e){t.$evalAsync(e)},e)}]}function zn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Wn(function(e){t.defer(e)},e)}]}function Wn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{S(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new l,n=0,r=li(t)?[]:{};return o(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var h=r("$q",TypeError),$=function(){return new l};a.prototype={then:function(t,e,n){var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(t)||S(t))&&(n=t&&t.then),S(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(S(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new l;return e.reject(t),e.promise},d=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var r=null;try{S(n)&&(r=n())}catch(i){return d(i,!1)}return V(r)?r.then(function(){return d(t,e)},function(t){return d(t,!1)}):d(t,e)},m=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},g=function w(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!S(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var r=new l;return t(e,n),r.promise};return g.defer=$,g.reject=p,g.when=m,g.all=f,g}function Gn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Jn(){var t=10,e=r("$rootScope"),n=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,s,u,l){function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(t){if(b.$$phase)throw e("inprog","{0} already in progress",b.$$phase);b.$$phase=t}function $(){b.$$phase=null}function d(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function v(){}function g(){for(;A.length;)try{A.shift()()}catch(t){s(t)}a=null}function w(){null===a&&(a=l.defer(function(){b.$apply(g)}))}f.prototype={constructor:f,$new:function(t,e){function n(){r.$$destroyed=!0}var r;return e=e||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),r=new this.$$ChildScope),r.$parent=e,r.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=r,e.$$childTail=r):e.$$childHead=e.$$childTail=r,(t||e!=this)&&r.$on("$destroy",n),r},$watch:function(t,e,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,r,i);var o=this,a=o.$$watchers,s={fn:e,last:v,get:i,exp:t,eq:!!r};return n=null,S(e)||(s.fn=p),a||(a=o.$$watchers=[]),a.unshift(s),function(){P(a,s),n=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(!m(o)){if(y(o))if(i(o)){a!==$&&(a=$,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;e>c;c++)u=a[c],s=o[c],r=u!==u&&s!==s,r||u===s||(f++,a[c]=s)}else{a!==p&&(a=p={},v=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(v++,a[n]=s,f++));if(v>e){f++;for(n in a)o.hasOwnProperty(n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(d?(d=!1,e(o,o,c)):e(o,s,c),l)if(y(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Jr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,l=e.length>1,f=0,h=u(t,n),$=[],p={},d=!0,v=0;return this.$watch(h,r)},$digest:function(){var r,i,o,u,c,f,p,d,m,y,w=t,A=this,k=[];h("$digest"),l.$$checkUrlChange(),this===b&&null!==a&&(l.defer.cancel(a),g()),n=null;do{for(f=!1,d=A;x.length;){try{y=x.shift(),y.scope.$eval(y.expression,y.locals)}catch(E){s(E)}n=null}t:do{if(u=d.$$watchers)for(c=u.length;c--;)try{if(r=u[c])if((i=r.get(d))===(o=r.last)||(r.eq?I(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){f=!1;
break t}}else f=!0,n=r,r.last=r.eq?R(i,null):i,r.fn(i,o===v?i:o,d),5>w&&(m=4-w,k[m]||(k[m]=[]),k[m].push({msg:S(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:i,oldVal:o}))}catch(E){s(E)}if(!(p=d.$$childHead||d!==A&&d.$$nextSibling))for(;d!==A&&!(p=d.$$nextSibling);)d=d.$parent}while(d=p);if((f||x.length)&&!w--)throw $(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,k)}while(f||x.length);for($();C.length;)try{C.shift()()}catch(E){s(E)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==b){for(var e in this.$$listenerCount)d(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){b.$$phase||x.length||l.defer(function(){x.length&&b.$digest()}),x.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return h("$apply"),this.$eval(t)}catch(e){s(e)}finally{$();try{b.$digest()}catch(e){throw s(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,d(i,1,t))}},$emit:function(t){var e,n,r,i=[],o=this,a=!1,u={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=q([u],arguments,1);do{for(e=o.$$listeners[t]||i,u.currentScope=o,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){s(l)}else e.splice(n,1),n--,r--;if(a)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var o,a,u,c=q([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[t]||[],a=0,u=o.length;u>a;a++)if(o[a])try{o[a].apply(null,c)}catch(l){s(l)}else o.splice(a,1),a--,u--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var b=new f,x=b.$$asyncQueue=[],C=b.$$postDigestQueue=[],A=b.$$applyAsyncQueue=[];return b}]}function Yn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=ir(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Zn(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw yo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=hi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw yo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Kn(t){var e=[];return g(t)&&o(t,function(t){e.push(Zn(t))}),e}function Xn(){this.SCE_CONTEXTS=wo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Kn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Kn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?or(e):!!t.exec(e.href)}function o(n){var r,o,a=ir(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw yo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw yo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===wo.RESOURCE_URL){if(o(e))return e;throw yo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===wo.HTML)return l(e);throw yo("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw yo("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var f=a(),h={};return h[wo.HTML]=a(f),h[wo.CSS]=a(f),h[wo.URL]=a(f),h[wo.JS]=a(f),h[wo.RESOURCE_URL]=a(h[wo.URL]),{trustAs:s,getTrusted:c,valueOf:u}}]}function Qn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Xr)throw yo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_(wo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=d),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(wo,function(t,e){var n=Gr(e);r[de("parse_as_"+n)]=function(e){return i(t,e)},r[de("get_trusted_"+n)]=function(e){return a(t,e)},r[de("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function tr(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=h((/android (\d+)/.exec(Gr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,f=!1;if(c){for(var $ in c)if(r=u.exec($)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||l&&f||(l=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=Xr)return!1;if(m(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:$i(),vendorPrefix:n,transitions:l,animations:f,android:o}}]}function er(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function a(t){if(!o)throw Gi("tpload","Failed to load template: {0}",i);return n.reject(t)}r.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;li(s)?s=s.filter(function(t){return t!==on}):s===on&&(s=null);var u={cache:t,transformResponse:s};return e.get(i,u)["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},a)}return r.totalPendingRequests=0,r}]}function nr(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=si.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+hi(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function rr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){var c,l=g(u)&&!u,f=(l?r:n).defer(),h=f.promise;return c=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),i(e)}finally{delete a[h.$$timeoutId]}l||t.$apply()},s),h.$$timeoutId=c,a[c]=f,h}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function ir(t){var e=t;return Xr&&(bo.setAttribute("href",e),e=bo.href),bo.setAttribute("href",e),{href:bo.href,protocol:bo.protocol?bo.protocol.replace(/:$/,""):"",host:bo.host,search:bo.search?bo.search.replace(/^\?/,""):"",hash:bo.hash?bo.hash.replace(/^#/,""):"",hostname:bo.hostname,port:bo.port,pathname:"/"===bo.pathname.charAt(0)?bo.pathname:"/"+bo.pathname}}function or(t){var e=w(t)?ir(t):t;return e.protocol===xo.protocol&&e.host===xo.host}function ar(){this.$get=v(t)}function sr(t){function e(r,i){if(y(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",fr),e("date",xr),e("filter",ur),e("json",Sr),e("limitTo",Cr),e("lowercase",Eo),e("number",hr),e("orderBy",Ar),e("uppercase",Oo)}function ur(){return function(t,e,n){if(!li(t))return t;var r,i;switch(typeof e){case"function":r=e;break;case"boolean":case"number":case"string":i=!0;case"object":r=cr(e,n,i);break;default:return t}return t.filter(r)}}function cr(t,e,n){var r,i=y(t)&&"$"in t;return e===!0?e=I:S(e)||(e=function(t,e){return y(t)||y(e)?!1:(t=Gr(""+t),e=Gr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!y(r)?lr(r,t.$,e,!1):lr(r,t,e,n)}}function lr(t,e,n,r,i){var o=typeof t,a=typeof e;if("string"===a&&"!"===e.charAt(0))return!lr(t,e.substring(1),n,r);if(li(t))return t.some(function(t){return lr(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&lr(t[s],e,n,!0))return!0;return i?!1:lr(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!S(u)){var c="$"===s,l=c?t:t[s];if(!lr(l,u,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function fr(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:$r(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function hr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:$r(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function $r(t,e,n,r,i){if(!isFinite(t)||y(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],c=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?t=0:(s=a,c=!0)}if(c)i>0&&1>t&&(s=t.toFixed(i),t=parseFloat(s));else{var f=(a.split(So)[1]||"").length;m(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var h=(""+t).split(So),$=h[0];h=h[1]||"";var p,d=0,v=e.lgSize,g=e.gSize;if($.length>=v+g)for(d=$.length-v,p=0;d>p;p++)(d-p)%g===0&&0!==p&&(s+=n),s+=$.charAt(p);for(p=d;p<$.length;p++)($.length-p)%v===0&&0!==p&&(s+=n),s+=$.charAt(p);for(;h.length<i;)h+="0";i&&"0"!==i&&(s+=r+h.substr(0,i))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function pr(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function dr(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),pr(o,e,r)}}function vr(t,e){return function(n,r){var i=n["get"+t](),o=Yr(e?"SHORT"+t:t);return r[o][i]}}function mr(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=pr(Math[e>0?"floor":"ceil"](e/60),2)+pr(Math.abs(e%60),2)}function gr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function yr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function wr(t){return function(e){var n=gr(e.getFullYear()),r=yr(e),i=+r-+n,o=1+Math.round(i/6048e5);return pr(o,t)}}function br(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function xr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(r,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-i,c=h(e[5]||0)-o,l=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,w(n)&&(n=ko.test(n)?h(n):e(n)),b(n)&&(n=new Date(n)),!x(n))return n;for(;r;)s=Ao.exec(r),s?(c=q(c,s,1),r=c.pop()):(c.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(c,function(e){a=Co[e],u+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Sr(){return function(t,e){return m(e)&&(e=2),L(t,e)}}function Cr(){return function(t,e){return b(t)&&(t=t.toString()),li(t)||w(t)?(e=1/0===Math.abs(Number(e))?Number(e):h(e),e?e>0?t.slice(0,e):t.slice(e):w(t)?"":[]):t}}function Ar(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function u(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function c(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=u(t),e=u(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=li(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||d;if(w(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(c,n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return c(t[i],e[i])},n)}}return a(function(t,e){return c(r(t),r(e))},n)}),ni.call(e).sort(a(o,r))):e}}function kr(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function Er(t,e){t.$name=e}function Or(t,e,r,i,a){var s=this,u=[],c=s.$$parentForm=t.parent().controller("form")||Vo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){ae(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),P(u,t)},Lr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(P(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i}),s.$setDirty=function(){i.removeClass(t,$a),i.addClass(t,pa),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){i.setClass(t,$a,pa+" "+No),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,No),s.$submitted=!0,c.$setSubmitted()}}function Tr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Mr(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r)}function Vr(t,e,n,r,i,o){var a=Gr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!s){var i=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=fi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Nr(t,e){if(x(t))return t;if(w(t)){Ho.lastIndex=0;var n=Ho.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=gr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return 0/0}function Dr(t,e){return function(n,r){var i,a;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ro.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function jr(t,e,r,i){return function(o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function $(t){return g(t)?x(t)?t:r(t):n}Pr(o,a,s,u),Vr(o,a,s,u,c,l);var p,d=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return"UTC"===d&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(t){if(t&&!x(t))throw ga("datefmt","Expected `{0}` to be a date",t);if(h(t)){if(p=t,p&&"UTC"===d){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return f("date")(t,i,d)}return p=null,""}),g(s.min)||s.ngMin){var v;u.$validators.min=function(t){return!h(t)||m(v)||r(t)>=v},s.$observe("min",function(t){v=$(t),u.$validate()})}if(g(s.max)||s.ngMax){var y;u.$validators.max=function(t){return!h(t)||m(y)||r(t)<=y},s.$observe("max",function(t){y=$(t),u.$validate()})}}}function Pr(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=y(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(Wr)||{};return r.badInput&&!r.typeMismatch?n:t})}function Rr(t,e,r,i,o,a){if(Pr(t,e,r,i),Vr(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:qo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!b(t))throw ga("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),r.min||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||m(s)||t>=s},r.$observe("min",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),s=b(t)&&!isNaN(t)?t:n,i.$validate()})}if(r.max||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||m(u)||u>=t},r.$observe("max",function(t){g(t)&&!b(t)&&(t=parseFloat(t,10)),u=b(t)&&!isNaN(t)?t:n,i.$validate()})}}function _r(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||_o.test(n)}}function Ir(t,e,n,r,i,o){Vr(t,e,n,r,i,o),Tr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Io.test(n)}}function qr(t,e,n,r){m(n.name)&&e.attr("name",c());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Ur(t,e,n,i,o){var a;if(g(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function Fr(t,e,n,r,i,o,a,s){var u=Ur(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Ur(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return I(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Hr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if(li(t))return t;if(w(t))return t.split(" ");if(y(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(a,s,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||{},r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function $(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!I(t,p)){var r=i(p);h(r,n)}}else c(n)}p=_(t)}var p;a.$watch(u[t],$,!0),u.$observe("class",function(){$(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?c(s):l(s)}})}}}]}function Lr(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),M(e)?e?(f(s.$error,t,u),l(s.$$success,t,u)):(l(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(ma,!0),s.$valid=s.$invalid=n,a("",null)):(o(ma,!1),s.$valid=Br(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,c),h.$setValidity(t,c,s)}function r(t,e,n){s[t]||(s[t]={}),l(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),Br(s[t])&&(s[t]=n)}function o(t,e){e&&!c[t]?($.addClass(u,t),c[t]=!0):!e&&c[t]&&($.removeClass(u,t),c[t]=!1)}function a(t,e){t=t?"-"+ne(t,"-"):"",o(fa+t,e===!0),o(ha+t,e===!1)}var s=t.ctrl,u=t.$element,c={},l=t.set,f=t.unset,h=t.parentForm,$=t.$animate;c[ha]=!(c[fa]=u.hasClass(fa)),s.$setValidity=e}function Br(t){if(t)for(var e in t)return!1;return!0}var zr=/^\/(.+)\/([a-z]*)$/,Wr="validity",Gr=function(t){return w(t)?t.toLowerCase():t},Jr=Object.prototype.hasOwnProperty,Yr=function(t){return w(t)?t.toUpperCase():t},Zr=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Kr=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Gr=Zr,Yr=Kr);var Xr,Qr,ti,ei,ni=[].slice,ri=[].splice,ii=[].push,oi=Object.prototype.toString,ai=r("ng"),si=t.angular||(t.angular={}),ui=0;Xr=e.documentMode,p.$inject=[],d.$inject=[];var ci,li=Array.isArray,fi=function(t){return w(t)?t.trim():t},hi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},$i=function(){if(g($i.isActive_))return $i.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return $i.isActive_=t},pi=["ng-","data-ng-","ng:","x-ng-"],di=/[A-Z]/g,vi=!1,mi=1,gi=3,yi=8,wi=9,bi=11,xi={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};we.expando="ng339";var Si=we.cache={},Ci=1,Ai=function(t,e,n){t.addEventListener(e,n,!1)},ki=function(t,e,n){t.removeEventListener(e,n,!1)};we._data=function(t){return this.cache[t[this.expando]]||{}};var Ei=/([\:\-\_]+(.))/g,Oi=/^moz([A-Z])/,Ti={mouseleave:"mouseout",mouseenter:"mouseover"},Mi=r("jqLite"),Vi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ni=/<|&#?\w+;/,Di=/<([\w:]+)/,ji=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.optgroup=Pi.option,Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td;var Ri=we.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),we(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Qr(t>=0?this[t]:this[this.length+t])},length:0,push:ii,sort:[].sort,splice:[].splice},_i={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){_i[Gr(t)]=t});var Ii={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ii[t]=!0});var qi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:ke,removeData:Ce},function(t,e){we[e]=t}),o({data:ke,inheritedData:Ne,scope:function(t){return Qr.data(t,"$scope")||Ne(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Qr.data(t,"$isolateScope")||Qr.data(t,"$isolateScopeNoTemplate")},controller:Ve,injector:function(t){return Ne(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ee,css:function(t,e,n){return e=de(e),g(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=Gr(e);if(_i[i]){if(!g(r))return t[e]||(t.attributes.getNamedItem(e)||p).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(g(r))t.setAttribute(e,r);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}},prop:function(t,e,n){return g(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===mi||n===gi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===j(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(xe(t,!0),void(t.innerHTML=e))},empty:De},function(t,e){we.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==De&&(2==t.length&&t!==Ee&&t!==Ve?e:r)===n){if(y(e)){for(i=0;a>i;i++)if(t===ke)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,c=0;u>c;c++){var l=t(this[c],e,r);s=s?s+l:l}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Ce,on:function za(t,e,n,r){if(g(r))throw Mi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(me(t)){var i=Ae(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Ie(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?za(t,Ti[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&Ai(t,e,a),c=o[e]),c.push(n)}}},off:Se,one:function(t,e,n){t=Qr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;xe(t),o(new we(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===mi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===mi||n===bi){e=new we(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===mi){var n=t.firstChild;o(new we(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Qr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:je,detach:function(t){je(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new we(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Te,removeClass:Oe,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;m(r)&&(r=!Ee(t,e)),(r?Te:Oe)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==bi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:be,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ae(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(r=f(r,e)),i=_(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){we.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)m(i)?(i=t(this[o],e,n,r),g(i)&&(i=Qr(i))):Me(i,t(this[o],e,n,r));return g(i)?i:this},we.prototype.bind=we.prototype.on,we.prototype.unbind=we.prototype.off}),Fe.prototype={put:function(t,e){this[Ue(t,this.nextUid)]=e},get:function(t){return this[Ue(t,this.nextUid)]},remove:function(t){var e=this[t=Ue(t,this.nextUid)];return delete this[t],e}};var Ui=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Fi=/,/,Hi=/^\s*(_?)(\S+?)\1\s*$/,Li=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Bi=r("$injector");Be.$$annotate=Le;var zi=r("$animate"),Wi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw zi("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ce();return o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),o(e,function(t,e){var o=i[e];t===!1&&o?r.push(e):t!==!0||o||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(t,e,n){for(var r=0,i=e.length;i>r;++r){var o=e[r];t[o]=n}}function s(){return c||(c=t.defer(),e(function(){c.resolve(),c=null})),c.promise}function u(t,e){if(si.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){return u(t,{from:e,to:n}),s()},enter:function(t,e,n,r){return u(t,r),n?n.after(t):e.prepend(t),s()},leave:function(t){return t.remove(),s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=Qr(t),e=w(e)?e:li(e)?e.join(" "):"",o(t,function(t){Te(t,e)}),u(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=Qr(t),e=w(e)?e:li(e)?e.join(" "):"",o(t,function(t){Oe(t,e)}),u(t,n),s()},setClass:function(t,e,n,o){var s=this,u="$$animateClasses",c=!1;t=Qr(t);var l=t.data(u);l?o&&l.options&&(l.options=si.extend(l.options||{},o)):(l={classes:{},options:o},c=!0);var f=l.classes;return e=li(e)?e:e.split(" "),n=li(n)?n:n.split(" "),a(f,e,!0),a(f,n,!1),c&&(l.promise=r(function(e){var n=t.data(u);if(t.removeData(u),n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(u,l)),l.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,r),s()},enabled:p,cancel:p}}]}],Gi=r("$compile");Ke.$inject=["$provide","$$sanitizeUriProvider"];var Ji=/^((?:x|data)[\:\-_])/i,Yi=r("$controller"),Zi="application/json",Ki={"Content-Type":Zi+";charset=utf-8"},Xi=/^\[|^\{(?!\{)/,Qi={"[":/]$/,"{":/}$/},to=/^\)\]\}',?\n/,eo=r("$interpolate"),no=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ro={http:80,https:443,ftp:21},io=r("$location"),oo={$$html5:!1,$$replace:!1,absUrl:Tn("$$absUrl"),url:function(t){if(m(t))return this.$$url;
var e=no.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Tn("$$protocol"),host:Tn("$$host"),port:Tn("$$port"),path:Mn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||b(t))t=t.toString(),this.$$search=G(t);else{if(!y(t))throw io("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=R(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Mn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([On,En,kn],function(t){t.prototype=Object.create(oo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==kn||!this.$$html5)throw io("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var ao=r("$parse"),so=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,lo=ce();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,lo[e]=t}),lo["this"]=function(t){return t},lo["this"].sharedGetter=!0;var fo=f(ce(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),g(r)?g(i)?r+i:r:g(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(g(n)?n:0)-(g(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),ho={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},$o=function(t){this.options=t};$o.prototype={constructor:$o,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=fo[e],o=fo[n],a=fo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ao("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Gr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=ho[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var po=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};po.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),po.prototype={constructor:po,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in lo?t=lo[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw ao("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=fo[t];return f(function(t,r){return n(t,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){var i=fo[e];return f(function(e,r){return i(e,r,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Fn(t,this.options,this.text)},constant:function(){var t=this.consume().value;return f(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;o>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return f(function(o,a){var s=t(o,a);if(r){r[0]=s;for(var u=e.length;u--;)r[u+1]=e[u](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(Rn),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var r=this.assignment();return f(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(po.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return f(function(r,i,o){var a=o||t(r,i);return null==a?n:e(a)},{assign:function(n,r,i){var o=t(n,i);return o||t.assign(n,o={},i),e.assign(o,r)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var a,s=t(i,o),u=r(i,o);return Dn(u,e),s?a=jn(s[u],e):n},{assign:function(n,i,o){var a=Dn(r(n,o),e),s=jn(t(n,o),e);return s||t.assign(n,s={},o),s[a]=i}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=e?e(a,s):g(e)?n:a,c=t(a,s,u)||p;if(o)for(var l=r.length;l--;)o[l]=jn(r[l](a,s),i);jn(u,i),Pn(c,i);var f=c.apply?c.apply(u,o):c(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),jn(f,i)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0,o=t.length;o>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(Rn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,a=e.length;a>o;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(Rn),inputs:e})}};var vo=ce(),mo=ce(),go=Object.prototype.valueOf,yo=r("$sce"),wo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Gi=r("$compile"),bo=e.createElement("a"),xo=ir(t.location.href);sr.$inject=["$provide"],fr.$inject=["$locale"],hr.$inject=["$locale"];var So=".",Co={yyyy:dr("FullYear",4),yy:dr("FullYear",2,0,!0),y:dr("FullYear",1),MMMM:vr("Month"),MMM:vr("Month",!0),MM:dr("Month",2,1),M:dr("Month",1,1),dd:dr("Date",2),d:dr("Date",1),HH:dr("Hours",2),H:dr("Hours",1),hh:dr("Hours",2,-12),h:dr("Hours",1,-12),mm:dr("Minutes",2),m:dr("Minutes",1),ss:dr("Seconds",2),s:dr("Seconds",1),sss:dr("Milliseconds",3),EEEE:vr("Day"),EEE:vr("Day",!0),a:br,Z:mr,ww:wr(2),w:wr(1)},Ao=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,ko=/^\-?\d+$/;xr.$inject=["$locale"];var Eo=v(Gr),Oo=v(Yr);Ar.$inject=["$parse"];var To=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===oi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Mo={};o(_i,function(t,e){if("multiple"!=t){var n=Xe("ng-"+e);Mo[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),o(qi,function(t,e){Mo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(zr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Xe("ng-"+t);Mo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===oi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Xr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var Vo={$addControl:p,$$renameControl:Er,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},No="ng-submitted";Or.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Do=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:Or,compile:function(t){return t.addClass($a).addClass(fa),{pre:function(t,r,i,o){if(!("action"in i)){var a=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()};Ai(r[0],"submit",a),r.on("$destroy",function(){e(function(){ki(r[0],"submit",a)},0,!1)})}var s=o.$$parentForm,u=o.$name;u&&(_n(t,null,u,o,u),i.$observe(i.name?"name":"ngForm",function(e){u!==e&&(_n(t,null,u,n,u),u=e,_n(t,null,u,o,u),s.$$renameControl(o,u))})),r.on("$destroy",function(){s.$removeControl(o),u&&_n(t,null,u,n,u),f(o,Vo)})}}}};return r}]},jo=Do(),Po=Do(!0),Ro=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,_o=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Io=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Uo=/^(\d{4})-(\d{2})-(\d{2})$/,Fo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ho=/^(\d{4})-W(\d\d)$/,Lo=/^(\d{4})-(\d\d)$/,Bo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo={text:Mr,date:jr("date",Uo,Dr(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jr("datetimelocal",Fo,Dr(Fo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:jr("time",Bo,Dr(Bo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jr("week",Ho,Nr,"yyyy-Www"),month:jr("month",Lo,Dr(Lo,["yyyy","MM"]),"yyyy-MM"),number:Rr,url:_r,email:Ir,radio:qr,checkbox:Fr,hidden:p,button:p,submit:p,reset:p,file:p},Wo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(zo[Gr(a.type)]||zo.text)(i,o,a,s[0],e,t,n,r)}}}}],Go=/^(true|false|\d+)$/,Jo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Go.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Yo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Zo=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Ko=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Xo=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Qo=Hr("",!0),ta=Hr("Odd",0),ea=Hr("Even",1),na=kr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ra=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ia={},oa={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Xe("ng-"+t);ia[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};oa[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var aa=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=ue(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],sa=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:si.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(i,o,c,l,f){var h,$,p,d=0,v=function(){$&&($.remove(),$=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){$=null}),$=p,p=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!g(u)||u&&!i.$eval(u)||e()},c=++d;r?(t(r,!0).then(function(t){if(c===d){var e=i.$new();l.template=t;var u=f(e,function(t){v(),n.enter(t,null,o).then(a)});h=e,p=u,h.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){c===d&&(v(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(v(),l.template=null)})}}}}],ua=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(ge(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],ca=kr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),la=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?fi(a):a,c=function(t){if(!m(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?fi(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return li(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},fa="ng-valid",ha="ng-invalid",$a="ng-pristine",pa="ng-dirty",da="ng-untouched",va="ng-touched",ma="ng-pending",ga=new r("ngModel"),ya=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,c,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h=a(r.ngModel),$=h.assign,d=h,v=$,y=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");d=function(t){var n=h(t);return S(n)&&(n=e(t)),n},v=function(t){S(h(t))?n(t,{$$$p:w.$modelValue}):$(t,w.$modelValue)}}else if(!h.assign)throw ga("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,z(i))},this.$render=p,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var x=i.inheritedData("$formController")||Vo,C=0;Lr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:x,$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(i,pa),s.addClass(i,$a)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(i,$a),s.addClass(i,pa),x.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(i,da,va)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(i,va,da)},this.$rollbackViewValue=function(){u.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!b(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,r=w.$$parserName||"parse",i=w.$error[r]?!1:n,o=w.$valid,a=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$runValidators(i,e,t,function(t){s||o===t||(w.$modelValue=t?e:n,w.$modelValue!==a&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r,i){function a(t){var e=w.$$parserName||"parse";if(t===n)c(e,null);else if(c(e,t),!t)return o(w.$validators,function(t,e){c(e,null)}),o(w.$asyncValidators,function(t,e){c(e,null)}),!1;return!0}function s(){var t=!0;return o(w.$validators,function(n,i){var o=n(e,r);t=t&&o,c(i,o)}),t?!0:(o(w.$asyncValidators,function(t,e){c(e,null)}),!1)}function u(){var t=[],i=!0;o(w.$asyncValidators,function(o,a){var s=o(e,r);if(!V(s))throw ga("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),t.push(s.then(function(){c(a,!0)},function(){i=!1,c(a,!1)}))}),t.length?l.all(t).then(function(){f(i)},p):f(!0)}function c(t,e){h===C&&w.$setValidity(t,e)}function f(t){h===C&&i(t)}C++;var h=C;return a(t)&&s()?void u():void f(!1)},this.$commitViewValue=function(){var t=w.$viewValue;u.cancel(y),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==s&&w.$$writeModelToScope()}var r=w.$$lastCommittedViewValue,i=r,o=m(i)?n:!0;if(o)for(var a=0;a<w.$parsers.length;a++)if(i=w.$parsers[a](i),m(i)){o=!1;break}b(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=d(t));var s=w.$modelValue,u=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=i,u&&(w.$modelValue=i,e()),w.$$runValidators(o,i,w.$$lastCommittedViewValue,function(t){u||(w.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,w.$modelValue),o(w.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){w.$viewValue=t,(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=w.$options;i&&g(i.debounce)&&(n=i.debounce,b(n)?r=n:b(n[e])?r=n[e]:b(n["default"])&&(r=n["default"])),u.cancel(y),r?y=u(function(){w.$commitViewValue()},r):c.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=d(t);if(e!==w.$modelValue){w.$modelValue=w.$$rawModelValue=e;for(var r=w.$formatters,i=r.length,o=e;i--;)o=r[i](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(n,e,o,p))}return e})}],wa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ya,priority:1,compile:function(e){return e.addClass($a).addClass(da).addClass(fa),{pre:function(t,e,n,r){var i=r[0],o=r[1]||Vo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ba=/(\s+|^)default(\s+|$)/,xa=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=fi(this.$options.updateOn.replace(ba,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Sa=kr({terminal:!0,priority:1e3}),Ca=["$locale","$interpolate",function(t,e){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(t){a.text(t||"")}var c,l=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,$=i.$eval(f)||{},p={},d=e.startSymbol(),v=e.endSymbol(),m=d+l+"-"+h+v,g=si.noop;o(s,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Gr(n[2]);$[i]=a.attr(s.$attr[e])}}),o($,function(t,r){p[r]=e(t.replace(n,m))}),i.$watch(l,function(e){var n=parseFloat(e),r=isNaN(n);r||n in $||(n=t.pluralCat(n-h)),n===c||r&&isNaN(c)||(g(),g=i.$watch(p[n],u),c=n)})}}}],Aa=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var $=h.ngRepeat,p=e.createComment(" end ngRepeat: "+$+" "),d=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);var v=d[1],m=d[2],g=d[3],y=d[4];if(d=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var w=d[3]||d[1],b=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var x,S,C,A,k={$id:Ue};return y?x=t(y):(C=function(t,e){return Ue(e)},A=function(t){return t}),function(t,e,r,h,d){x&&(S=function(e,n,r){return b&&(k[b]=e),k[w]=n,k.$index=r,x(t,k)});var v=ce();t.$watchCollection(m,function(r){var h,m,y,x,k,E,O,T,M,V,N,D,j=e[0],P=ce();if(g&&(t[g]=r),i(r))M=r,T=S||C;else{T=S||A,M=[];for(var R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&M.push(R);M.sort()}for(x=M.length,N=new Array(x),h=0;x>h;h++)if(k=r===M?h:M[h],E=r[k],O=T(k,E,h),v[O])V=v[O],delete v[O],P[O]=V,N[h]=V;else{if(P[O])throw o(N,function(t){t&&t.scope&&(v[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,O,E);N[h]={id:O,scope:n,clone:n},P[O]=!0}for(var _ in v){if(V=v[_],D=ue(V.clone),a.leave(D),D[0].parentNode)for(h=0,m=D.length;m>h;h++)D[h][s]=!0;V.scope.$destroy()}for(h=0;x>h;h++)if(k=r===M?h:M[h],E=r[k],V=N[h],V.scope){y=j;do y=y.nextSibling;while(y&&y[s]);l(V)!=y&&a.move(ue(V.clone),null,Qr(j)),j=f(V),c(V.scope,h,w,E,b,k,x)}else d(function(t,e){V.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Qr(j)),j=n,V.clone=t,P[V.id]=V,c(V.scope,h,w,E,b,k,x)});v=P})}}}}],ka="ng-hide",Ea="ng-hide-animate",Oa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ka,{tempClasses:Ea})})}}}],Ta=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ka,{tempClasses:Ea})})}}}],Ma=kr(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)})}),Va=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var s=ue(c[r].clone);f[r].$destroy();var $=l[r]=t.leave(s);$.then(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Na=kr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Da=kr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ja=kr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(e));o(function(t){e.empty(),e.append(t)})}}),Pa=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Ra=r("ngOptions"),_a=v({restrict:"A",terminal:!0}),Ia=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(t,e,n){u=t,r=e,i=n},o.addOption=function(e,n){ae(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Ue(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},o.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(A.parent()&&A.remove(),e.val(t),""===t&&p.prop("selected",!0)):m(t)&&p?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){A.parent()&&A.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new Fe(n.$viewValue);o(e.find("option"),function(e){e.selected=g(t.get(e.value))})},t.$watch(function(){I(r,n.$viewValue)||(r=_(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function $(e,s,u){function c(t,n,r){return I[E]=r,M&&(I[M]=n),t(e,I)}function l(){e.$apply(function(){var t,n=D(e)||[];if(y)t=[],o(s.val(),function(e){e=P?R[e]:e,t.push(f(e,n[e]))});else{var r=P?R[s.val()]:s.val();t=f(r,n[r])}u.$setViewValue(t),m()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var r=T?T:N;return c(r,t,e)}function h(){var t,n=D(e);if(n&&li(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=c(k,r,n[r]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=c(k,o,n[o]))}return t}function $(t){var e;if(y)if(P&&li(t)){e=new Fe([]);for(var n=0;n<t.length;n++)e.put(c(P,null,t[n]),!0)}else e=new Fe(t);else P&&(t=c(P,null,t));return function(n,r){var i;return i=P?P:T?T:N,y?g(e.remove(c(i,n,r))):t===c(i,n,r)}}function p(){x||(e.$$postDigest(m),x=!0)}function v(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function m(){x=!1;var t,n,r,i,l,f,h,p,m,w,A,E,O,T,N,j,q,U={"":[]},F=[""],H=u.$viewValue,L=D(e)||[],B=M?a(L):L,z={},W=$(H),G=!1;for(R={},E=0;w=B.length,w>E;E++)h=E,M&&(h=B[E],"$"===h.charAt(0))||(p=L[h],t=c(V,h,p)||"",(n=U[t])||(n=U[t]=[],F.push(t)),O=W(h,p),G=G||O,j=c(k,h,p),j=g(j)?j:"",q=P?P(e,I):M?B[E]:E,P&&(R[q]=h),n.push({id:q,label:j,selected:O}));
for(y||(b||null===H?U[""].unshift({id:"",label:"",selected:!G}):G||U[""].unshift({id:"?",label:"",selected:!0})),A=0,m=F.length;m>A;A++){for(t=F[A],n=U[t],_.length<=A?(i={element:C.clone().attr("label",t),label:n.label},l=[i],_.push(l),s.append(i.element)):(l=_[A],i=l[0],i.label!=t&&i.element.attr("label",i.label=t)),T=null,E=0,w=n.length;w>E;E++)r=n[E],(f=l[E+1])?(T=f.element,f.label!==r.label&&(v(z,f.label,!1),v(z,r.label,!0),T.text(f.label=r.label),T.prop("label",f.label)),f.id!==r.id&&T.val(f.id=r.id),T[0].selected!==r.selected&&(T.prop("selected",f.selected=r.selected),Xr&&T.prop("selected",f.selected))):(""===r.id&&b?N=b:(N=S.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),l.push(f={element:N,label:r.label,id:r.id,selected:r.selected}),v(z,r.label,!0),T?T.after(N):i.element.append(N),T=N);for(E++;l.length>E;)r=l.pop(),v(z,r.label,!1),r.element.remove()}for(;_.length>A;){for(n=_.pop(),E=1;E<n.length;++E)v(z,n[E].label,!1);n[0].element.remove()}o(z,function(t,e){t>0?d.addOption(e):0>t&&d.removeOption(e)})}var A;if(!(A=w.match(i)))throw Ra("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,z(s));var k=r(A[2]||A[1]),E=A[4]||A[6],O=/ as /.test(A[0])&&A[1],T=O?r(O):null,M=A[5],V=r(A[3]||""),N=r(A[2]?A[1]:E),D=r(A[7]),j=A[8],P=j?r(A[8]):null,R={},_=[[{element:s,label:""}]],I={};b&&(t(b)(e),b.removeClass("ng-scope"),b.remove()),s.empty(),s.on("change",l),u.$render=m,e.$watchCollection(D,p),e.$watchCollection(h,p),y&&e.$watchCollection(function(){return u.$modelValue},p)}if(l[1]){for(var p,d=l[0],v=l[1],y=c.multiple,w=c.ngOptions,b=!1,x=!1,S=Qr(e.createElement("option")),C=Qr(e.createElement("optgroup")),A=S.clone(),k=0,E=u.children(),O=E.length;O>k;k++)if(""===E[k].value){p=b=E.eq(k);break}d.init(v,b,A),y&&(v.$isEmpty=function(t){return!t||0===t.length}),w?$(s,u,v):y?h(s,u,v):f(s,u,v,d)}}}}],qa=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ua=v({restrict:"E",terminal:!1}),Fa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Ha=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,z(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||m(a)||a.test(t)}}}}},La=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=h(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Ba=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),$e(si),void Qr(e).ready(function(){X(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
!function(i,a){"use strict";function r(){function i(i,a,e){return function(n,t,c){var u=c.$normalize(a);r[u]&&!c[u]&&n.$watch(c[i],function(i){e&&(i=!i),t.attr(a,i)})}}var r={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(i){r=a.extend(r,i)},this.$get=function(){return{config:function(i){return r[i]},$$watchExpr:i}}}var e=a.module("ngAria",["ng"]).provider("$aria",r);e.directive("ngShow",["$aria",function(i){return i.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(i){return i.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(i){function a(a,r,e){return i.config(r)&&!e.attr(a)}function r(i,a){var r=i.type,e=i.role;return"checkbox"===(r||e)||"menuitemcheckbox"===e?"checkbox":"radio"===(r||e)||"menuitemradio"===e?"radio":"range"===r||"progressbar"===e||"slider"===e?"range":"textbox"===(r||e)||"TEXTAREA"===a[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",link:function(e,n,t,c){function u(){return c.$modelValue}function o(){return f?(f=!1,function(i){var a=i===t.value;n.attr("aria-checked",a),n.attr("tabindex",0-!a)}):function(i){n.attr("aria-checked",i===t.value)}}function d(i){n.attr("aria-checked",!!i)}var l=r(t,n),f=a("tabindex","tabindex",n);switch(l){case"radio":case"checkbox":a("aria-checked","ariaChecked",n)&&e.$watch(u,"radio"===l?o():d);break;case"range":i.config("ariaValue")&&(t.min&&!n.attr("aria-valuemin")&&n.attr("aria-valuemin",t.min),t.max&&!n.attr("aria-valuemax")&&n.attr("aria-valuemax",t.max),n.attr("aria-valuenow")||e.$watch(u,function(i){n.attr("aria-valuenow",i)}));break;case"multiline":a("aria-multiline","ariaMultiline",n)&&n.attr("aria-multiline",!0)}f&&n.attr("tabindex",0),c.$validators.required&&a("aria-required","ariaRequired",n)&&e.$watch(function(){return c.$error.required},function(i){n.attr("aria-required",!!i)}),a("aria-invalid","ariaInvalid",n)&&e.$watch(function(){return c.$invalid},function(i){n.attr("aria-invalid",!!i)})}}}]).directive("ngDisabled",["$aria",function(i){return i.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(i,a){a.attr("aria-live")||a.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(i,a){return{restrict:"A",compile:function(r,e){var n=a(e.ngClick,null,!0);return function(a,r,e){function t(i,a){return-1!==a.indexOf(i[0].nodeName)?!0:void 0}i.config("tabindex")&&!r.attr("tabindex")&&r.attr("tabindex",0),i.config("bindKeypress")&&!e.ngKeypress&&t(r,["DIV","LI"])&&r.on("keypress",function(i){function r(){n(a,{$event:i})}(32===i.keyCode||13===i.keyCode)&&a.$apply(r)})}}}}]).directive("ngDblclick",["$aria",function(i){return function(a,r){i.config("tabindex")&&!r.attr("tabindex")&&r.attr("tabindex",0)}}])}(window,window.angular);
!function(n,t,e){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var n="$$ngAnimateChildren";return function(e,a,i){var r=i.ngAnimateChildren;t.isString(r)&&0===r.length?a.data(n,!0):e.$watch(r,function(t){a.data(n,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(n,t){var e=t[0].body;return function(t){return n(function(){e.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(a,i){function r(n){for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType==p)return e}}function s(n){return n&&t.element(n)}function o(n){return t.element(r(n))}function u(n,t){return r(n)==r(t)}var l,c=t.noop,f=t.forEach,v=i.$$selectors,d=t.isArray,m=t.isString,g=t.isObject,p=1,C="$$ngAnimateState",h="$$ngAnimateChildren",$="ng-animate",b={running:!0};a.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(n,e,a,p,y,D,A,w,k,x){function S(n,t){var e=n.data(C)||{};return t&&(e.running=!0,e.structural=!0,n.data(C,e)),e.disabled||e.running&&e.structural}function B(n){var t,a=e.defer();return a.promise.$$cancelFn=function(){t&&t()},A.$$postDigest(function(){t=n(function(){a.resolve()})}),a.promise}function F(n){return g(n)?(n.tempClasses&&m(n.tempClasses)&&(n.tempClasses=n.tempClasses.split(/\s+/)),n):void 0}function M(n,t,e){e=e||{};var a={};f(e,function(n,t){f(t.split(" "),function(t){a[t]=n})});var i=Object.create(null);f((n.attr("class")||"").split(/\s+/),function(n){i[n]=!0});var r=[],s=[];return f(t&&t.classes||[],function(n,t){var e=i[t],o=a[t]||{};n===!1?(e||"addClass"==o.event)&&s.push(t):n===!0&&(e&&"removeClass"!=o.event||r.push(t))}),r.length+s.length>0&&[r.join(" "),s.join(" ")]}function E(n){if(n){var t=[],e={},i=n.substr(1).split(".");(p.transitions||p.animations)&&t.push(a.get(v[""]));for(var r=0;r<i.length;r++){var s=i[r],o=v[s];o&&!e[s]&&(t.push(a.get(o)),e[s]=!0)}return t}}function R(n,e,a,i){function r(n,t){var e=n[t],a=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];return e||a?("leave"==t&&(a=e,e=null),D.push({event:t,fn:e}),$.push({event:t,fn:a}),!0):void 0}function s(t,e,r){function s(n){if(e){if((e[n]||c)(),++v<o.length)return;e=null}r()}var o=[];f(t,function(n){n.fn&&o.push(n)});var v=0;f(o,function(t,r){var o=function(){s(r)};switch(t.event){case"setClass":e.push(t.fn(n,u,l,o,i));break;case"animate":e.push(t.fn(n,a,i.from,i.to,o));break;case"addClass":e.push(t.fn(n,u||a,o,i));break;case"removeClass":e.push(t.fn(n,l||a,o,i));break;default:e.push(t.fn(n,o,i))}}),e&&0===e.length&&r()}var o=n[0];if(o){i&&(i.to=i.to||{},i.from=i.from||{});var u,l;d(a)&&(u=a[0],l=a[1],u?l?a=u+" "+l:(a=u,e="addClass"):(a=l,e="removeClass"));var v="setClass"==e,m=v||"addClass"==e||"removeClass"==e||"animate"==e,g=n.attr("class"),p=g+" "+a;if(K(p)){var C=c,h=[],$=[],b=c,y=[],D=[],A=(" "+p).replace(/\s+/g,".");return f(E(A),function(n){var t=r(n,e);!t&&v&&(r(n,"addClass"),r(n,"removeClass"))}),{node:o,event:e,className:a,isClassBased:m,isSetClassOperation:v,applyStyles:function(){i&&n.css(t.extend(i.from||{},i.to||{}))},before:function(n){C=n,s($,h,function(){C=c,n()})},after:function(n){b=n,s(D,y,function(){b=c,n()})},cancel:function(){h&&(f(h,function(n){(n||c)(!0)}),C(!0)),y&&(f(y,function(n){(n||c)(!0)}),b(!0))}}}}}function N(n,e,a,i,r,s,o,u){function v(t){var i="$animate:"+t;A&&A[i]&&A[i].length>0&&D(function(){a.triggerHandler(i,{event:n,className:e})})}function d(){v("before")}function m(){v("after")}function g(){v("close"),u()}function p(){p.hasBeenRun||(p.hasBeenRun=!0,s())}function h(){if(!h.hasBeenRun){y&&y.applyStyles(),h.hasBeenRun=!0,o&&o.tempClasses&&f(o.tempClasses,function(n){l.removeClass(a,n)});var t=a.data(C);t&&(y&&y.isClassBased?T(a,e):(D(function(){var t=a.data(C)||{};N==t.index&&T(a,e,n)}),a.data(C,t))),g()}}var b=c,y=R(a,n,e,o);if(!y)return p(),d(),m(),h(),b;n=y.event,e=y.className;var A=t.element._data(y.node);if(A=A&&A.events,i||(i=r?r.parent():a.parent()),j(a,i))return p(),d(),m(),h(),b;var w=a.data(C)||{},k=w.active||{},x=w.totalActive||0,S=w.last,B=!1;if(x>0){var F=[];if(y.isClassBased){if("setClass"==S.event)F.push(S),T(a,e);else if(k[e]){var M=k[e];M.event==n?B=!0:(F.push(M),T(a,e))}}else if("leave"==n&&k["ng-leave"])B=!0;else{for(var E in k)F.push(k[E]);w={},T(a,!0)}F.length>0&&f(F,function(n){n.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==n||B||(B="addClass"==n==a.hasClass(e)),B)return p(),d(),m(),g(),b;k=w.active||{},x=w.totalActive||0,"leave"==n&&a.one("$destroy",function(){var n=t.element(this),e=n.data(C);if(e){var a=e.active["ng-leave"];a&&(a.cancel(),T(n,"ng-leave"))}}),l.addClass(a,$),o&&o.tempClasses&&f(o.tempClasses,function(n){l.addClass(a,n)});var N=P++;return x++,k[e]=y,a.data(C,{last:y,active:k,index:N,totalActive:x}),d(),y.before(function(t){var i=a.data(C);t=t||!i||!i.active[e]||y.isClassBased&&i.active[e].event!=n,p(),t===!0?h():(m(),y.after(h))}),y.cancel}function O(n){var e=r(n);if(e){var a=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName($):e.querySelectorAll("."+$);f(a,function(n){n=t.element(n);var e=n.data(C);e&&e.active&&f(e.active,function(n){n.cancel()})})}}function T(n,t){if(u(n,y))b.disabled||(b.running=!1,b.structural=!1);else if(t){var e=n.data(C)||{},a=t===!0;!a&&e.active&&e.active[t]&&(e.totalActive--,delete e.active[t]),(a||!e.totalActive)&&(l.removeClass(n,$),n.removeData(C))}}function j(n,e){if(b.disabled)return!0;if(u(n,y))return b.running;var a,i,r;do{if(0===e.length)break;var s=u(e,y),o=s?b:e.data(C)||{};if(o.disabled)return!0;if(s&&(r=!0),a!==!1){var l=e.data(h);t.isDefined(l)&&(a=l)}i=i||o.running||o.last&&!o.last.isClassBased}while(e=e.parent());return!r||!a&&i}l=x,y.data(C,b);var I=A.$watch(function(){return k.totalPendingRequests},function(n){0===n&&(I(),A.$$postDigest(function(){A.$$postDigest(function(){b.running=!1})}))}),P=0,q=i.classNameFilter(),K=q?function(n){return q.test(n)}:function(){return!0};return{animate:function(n,t,e,a,i){return a=a||"ng-inline-animate",i=F(i)||{},i.from=e?t:null,i.to=e?e:t,B(function(t){return N("animate",a,o(n),null,null,c,i,t)})},enter:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),S(e,!0),n.enter(e,a,i),B(function(n){return N("enter","ng-enter",o(e),a,i,c,r,n)})},leave:function(e,a){return a=F(a),e=t.element(e),O(e),S(e,!0),B(function(t){return N("leave","ng-leave",o(e),null,null,function(){n.leave(e)},a,t)})},move:function(e,a,i,r){return r=F(r),e=t.element(e),a=s(a),i=s(i),O(e),S(e,!0),n.move(e,a,i),B(function(n){return N("move","ng-move",o(e),a,i,c,r,n)})},addClass:function(n,t,e){return this.setClass(n,t,[],e)},removeClass:function(n,t,e){return this.setClass(n,[],t,e)},setClass:function(e,a,i,s){s=F(s);var u="$$animateClasses";if(e=t.element(e),e=o(e),S(e))return n.$$setClassImmediately(e,a,i,s);var l,c=e.data(u),v=!!c;return c||(c={},c.classes={}),l=c.classes,a=d(a)?a:a.split(" "),f(a,function(n){n&&n.length&&(l[n]=!0)}),i=d(i)?i:i.split(" "),f(i,function(n){n&&n.length&&(l[n]=!1)}),v?(s&&c.options&&(c.options=t.extend(c.options||{},s)),c.promise):(e.data(u,c={classes:l,options:s}),c.promise=B(function(t){var a=e.parent(),i=r(e),s=i.parentNode;if(!s||s.$$NG_REMOVED||i.$$NG_REMOVED)return void t();var o=e.data(u);e.removeData(u);var l=e.data(C)||{},c=M(e,o,l.active);return c?N("setClass",c,e,a,null,function(){c[0]&&n.$$addClassImmediately(e,c[0]),c[1]&&n.$$removeClassImmediately(e,c[1])},o.options,t):t()}))},cancel:function(n){n.$$cancelFn()},enabled:function(n,t){switch(arguments.length){case 2:if(n)T(t);else{var e=t.data(C)||{};e.disabled=!0,t.data(C,e)}break;case 1:b.disabled=!n;break;default:n=!b.disabled}return!!n}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(a,i,s,o){function u(){T||(T=o(function(){z=[],T=null,L={}}))}function v(n,t){T&&T(),z.push(t),T=o(function(){f(z,function(n){n()}),z=[],T=null,L={}})}function g(n,e){var a=r(n);n=t.element(a),X.push(n);var i=Date.now()+e;Q>=i||(s.cancel(J),Q=i,J=s(function(){C(X),X=[]},e,!1))}function C(n){f(n,function(n){var t=n.data(_);t&&f(t.closeAnimationFns,function(n){n()})})}function h(n,t){var e=t?L[t]:null;if(!e){var i=0,r=0,s=0,o=0;f(n,function(n){if(n.nodeType==p){var t=a.getComputedStyle(n)||{},e=t[M+j];i=Math.max($(e),i);var u=t[M+P];r=Math.max($(u),r);{t[R+P]}o=Math.max($(t[R+P]),o);var l=$(t[R+j]);l>0&&(l*=parseInt(t[R+q],10)||1),s=Math.max(l,s)}}),e={total:0,transitionDelay:r,transitionDuration:i,animationDelay:o,animationDuration:s},t&&(L[t]=e)}return e}function $(n){var t=0,e=m(n)?n.split(/\s*,\s*/):[];return f(e,function(n){t=Math.max(parseFloat(n)||0,t)}),t}function b(n){var t=n.parent(),e=t.data(W);return e||(t.data(W,++U),e=U),e+"-"+r(n).getAttribute("class")}function y(n,t,e,a){var i=["ng-enter","ng-leave","ng-move"].indexOf(e)>=0,s=b(t),o=s+" "+e,u=L[o]?++L[o].total:0,c={};if(u>0){var f=e+"-stagger",v=s+" "+f,d=!L[v];d&&l.addClass(t,f),c=h(t,v),d&&l.removeClass(t,f)}l.addClass(t,e);var m=t.data(_)||{},g=h(t,o),p=g.transitionDuration,C=g.animationDuration;if(i&&0===p&&0===C)return l.removeClass(t,e),!1;var $=a||i&&p>0,y=C>0&&c.animationDelay>0&&0===c.animationDuration,D=m.closeAnimationFns||[];t.data(_,{stagger:c,cacheKey:o,running:m.running||0,itemIndex:u,blockTransition:$,closeAnimationFns:D});var k=r(t);return $&&(A(k,!0),a&&t.css(a)),y&&w(k,!0),!0}function D(n,t,e,a,i){function o(){t.off(P,u),l.removeClass(t,d),l.removeClass(t,m),j&&s.cancel(j),B(t,e);var n=r(t);for(var a in C)n.style.removeProperty(C[a])}function u(n){n.stopPropagation();var t=n.originalEvent||n,e=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(G));Math.max(e-I,0)>=R&&i>=F&&a()}var c=r(t),v=t.data(_);if(-1==c.getAttribute("class").indexOf(e)||!v)return void a();var d="",m="";f(e.split(" "),function(n,t){var e=(t>0?" ":"")+n;d+=e+"-active",m+=e+"-pending"});var p="",C=[],$=v.itemIndex,b=v.stagger,y=0;if($>0){var D=0;b.transitionDelay>0&&0===b.transitionDuration&&(D=b.transitionDelay*$);var k=0;b.animationDelay>0&&0===b.animationDuration&&(k=b.animationDelay*$,C.push(O+"animation-play-state")),y=Math.round(100*Math.max(D,k))/100}y||(l.addClass(t,d),v.blockTransition&&A(c,!1));var x=v.cacheKey+" "+d,S=h(t,x),F=Math.max(S.transitionDuration,S.animationDuration);if(0===F)return l.removeClass(t,d),B(t,e),void a();!y&&i&&Object.keys(i).length>0&&(S.transitionDuration||(t.css("transition",S.animationDuration+"s linear all"),C.push("transition")),t.css(i));var M=Math.max(S.transitionDelay,S.animationDelay),R=M*H;if(C.length>0){var T=c.getAttribute("style")||"";";"!==T.charAt(T.length-1)&&(T+=";"),c.setAttribute("style",T+" "+p)}var j,I=Date.now(),P=N+" "+E,q=(M+F)*V,K=(y+q)*H;return y>0&&(l.addClass(t,m),j=s(function(){j=null,S.transitionDuration>0&&A(c,!1),S.animationDuration>0&&w(c,!1),l.addClass(t,d),l.removeClass(t,m),i&&(0===S.transitionDuration&&t.css("transition",S.animationDuration+"s linear all"),t.css(i),C.push("transition"))},y*H,!1)),t.on(P,u),v.closeAnimationFns.push(function(){o(),a()}),v.running++,g(t,K),o}function A(n,t){n.style[M+I]=t?"none":""}function w(n,t){n.style[R+K]=t?"paused":""}function k(n,t,e,a){return y(n,t,e,a)?function(n){n&&B(t,e)}:void 0}function x(n,t,e,a,i){return t.data(_)?D(n,t,e,a,i):(B(t,e),void a())}function S(n,t,e,a,i){var r=k(n,t,e,i.from);if(!r)return u(),void a();var s=r;return v(t,function(){s=x(n,t,e,a,i.to)}),function(n){(s||c)(n)}}function B(n,t){l.removeClass(n,t);var e=n.data(_);e&&(e.running&&e.running--,e.running&&0!==e.running||n.removeData(_))}function F(n,t){var e="";return n=d(n)?n:n.split(/\s+/),f(n,function(n,a){n&&n.length>0&&(e+=(a>0?" ":"")+n+t)}),e}var M,E,R,N,O="";n.ontransitionend===e&&n.onwebkittransitionend!==e?(O="-webkit-",M="WebkitTransition",E="webkitTransitionEnd transitionend"):(M="transition",E="transitionend"),n.onanimationend===e&&n.onwebkitanimationend!==e?(O="-webkit-",R="WebkitAnimation",N="webkitAnimationEnd animationend"):(R="animation",N="animationend");var T,j="Duration",I="Property",P="Delay",q="IterationCount",K="PlayState",W="$$ngAnimateKey",_="$$ngAnimateCSS3Data",G=3,V=1.5,H=1e3,L={},U=0,z=[],J=null,Q=0,X=[];return{animate:function(n,t,e,a,i,r){return r=r||{},r.from=e,r.to=a,S("animate",n,t,i,r)},enter:function(n,t,e){return e=e||{},S("enter",n,"ng-enter",t,e)},leave:function(n,t,e){return e=e||{},S("leave",n,"ng-leave",t,e)},move:function(n,t,e){return e=e||{},S("move",n,"ng-move",t,e)},beforeSetClass:function(n,t,e,a,i){i=i||{};var r=F(e,"-remove")+" "+F(t,"-add"),s=k("setClass",n,r,i.from);return s?(v(n,a),s):(u(),void a())},beforeAddClass:function(n,t,e,a){a=a||{};var i=k("addClass",n,F(t,"-add"),a.from);return i?(v(n,e),i):(u(),void e())},beforeRemoveClass:function(n,t,e,a){a=a||{};var i=k("removeClass",n,F(t,"-remove"),a.from);return i?(v(n,e),i):(u(),void e())},setClass:function(n,t,e,a,i){i=i||{},e=F(e,"-remove"),t=F(t,"-add");var r=e+" "+t;return x("setClass",n,r,a,i.to)},addClass:function(n,t,e,a){return a=a||{},x("addClass",n,F(t,"-add"),e,a.to)},removeClass:function(n,t,e,a){return a=a||{},x("removeClass",n,F(t,"-remove"),e,a.to)}}}])}])}(window,window.angular);
function mdMediaFactory(e,t,n){function r(e){var t=u[e];angular.isUndefined(t)&&(t=u[e]=o(e));var n=f[t];return angular.isUndefined(n)&&(n=a(t)),n}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=s[e]=n.matchMedia(e);return t.addListener(i),f[t.media]=!!t.matches}function i(e){t.$evalAsync(function(){f[e.media]=!!e.matches})}function c(e){return s[e]}function d(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var o=e.MEDIA_PRIORITY[r];if(s[u[o]].matches){var a=m(t,n+"-"+o);if(t[a])return t[a]}}return t[m(t,n)]}function l(t,n,r){var o=[];return t.forEach(function(t){var a=m(n,t);n[a]&&o.push(n.$observe(a,angular.bind(void 0,r,null)));for(var i in e.MEDIA){var a=m(n,t+"-"+i);if(!n[a])return;o.push(n.$observe(a,angular.bind(void 0,r,i)))}}),function(){o.forEach(function(e){e()})}}function m(e,t){return p[t]||(p[t]=e.$normalize(t))}var u={},s={},f={},p={};return r.getResponsiveAttribute=d,r.getQuery=c,r.watchResponsiveAttributes=l,r}angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.textField","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"]),function(){"use strict";function e(e,n){e.decorator("$$rAF",["$delegate",t]),n.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function t(e){return e.throttle=function(t){var n,r,o,a;return function(){n=arguments,a=this,o=t,r||(r=!0,e(function(){o.apply(a,n),r=!1}))}},e}angular.module("material.core",["material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){"use strict";function e(e,t){function n(e){return r?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var r=/webkit/i.test(t.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}angular.module("material.core").factory("$mdConstant",e),e.$inject=["$$rAF","$sniffer"]}(),function(){function e(e,t){function n(){return[].concat(b)}function r(){return b.length}function o(e){return b.length&&e>-1&&e<b.length}function a(e){return e?o(u(e)+1):!1}function i(e){return e?o(u(e)-1):!1}function c(e){return o(e)?b[e]:null}function d(e,t){return b.filter(function(n){return n[e]===t})}function l(e,t){return e?(angular.isNumber(t)||(t=b.length),b.splice(t,0,e),u(e)):-1}function m(e){s(e)&&b.splice(u(e),1)}function u(e){return b.indexOf(e)}function s(e){return e&&u(e)>-1}function f(){return b.length?b[0]:null}function p(){return b.length?b[b.length-1]:null}function h(e,n,r,a){r=r||g;var i=u(n);if(!o(i))return null;var c=i+(e?-1:1),d=null;return o(c)?d=b[c]:t&&(d=e?p():f(),c=u(d)),null===d||c===a?null:(angular.isUndefined(a)&&(a=c),r(d)?d:h(e,d,r,a))}var g=function(){return!0};e&&!angular.isArray(e)&&(e=Array.prototype.slice.call(e)),t=!!t;var b=e||[];return{items:n,count:r,inRange:o,contains:s,indexOf:u,itemAt:c,findBy:d,add:l,remove:m,first:f,last:p,next:angular.bind(null,h,!1),previous:angular.bind(null,h,!0),hasPrevious:i,hasNext:a}}angular.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),angular.module("material.core").factory("$mdMedia",mdMediaFactory),mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"],function(){"use strict";var e=["0","0","0"];angular.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$mdConstant",function(t,n,r,o,a){function i(e){return e[0]||e}var c;return c={now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,clientRect:function(e,t,n){var r=i(e);t=i(t||r.offsetParent||document.body);var o=r.getBoundingClientRect(),a=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-a.left+t.scrollLeft,top:o.top-a.top+t.scrollTop,width:o.width,height:o.height}},offsetRect:function(e,t){return c.clientRect(e,t,!0)},forceFocus:function(e){var t=e[0]||e;document.addEventListener("click",function r(e){e.target===t&&e.$focus&&(t.focus(),e.stopImmediatePropagation(),e.preventDefault(),t.removeEventListener("click",r))},!0);var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null),n.$material=!0,n.$focus=!0,t.dispatchEvent(n)},transitionEndPromise:function(e){function t(r){r.target===e[0]&&(e.off(a.CSS.TRANSITIONEND,t),n.resolve())}var n=o.defer();return e.on(a.CSS.TRANSITIONEND,t),n.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(e,t,n,o){var a;return function(){var i=n,c=Array.prototype.slice.call(arguments);r.cancel(a),a=r(function(){a=void 0,e.apply(i,c)},t||10,o)}},throttle:function(e,t){var n;return function(){var r=this,o=arguments,a=c.now();(!n||a-n>t)&&(e.apply(r,o),n=a)}},time:function(e){var t=c.now();return e(),c.now()-t},nextUid:function(){for(var t,n=e.length;n;){if(n--,t=e[n].charCodeAt(0),57==t)return e[n]="A",e.join("");if(90!=t)return e[n]=String.fromCharCode(t+1),e.join("");e[n]="0"}return e.unshift("0"),e.join("")},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,t){t=t.toUpperCase();do if(e.nodeName===t)return e;while(e=e.parentNode);return null}}}]),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){"use strict";function e(e,t,n){function r(e,n,r){var o=e[0];o.hasAttribute(n)||c(o,n)||(r=angular.isString(r)?r.trim():"",r.length?e.attr(n,r):t.warn('ARIA: Attribute "',n,'", required for accessibility, is missing on node:',o))}function o(t,n,o){e(function(){r(t,n,o())})}function a(e,t){o(e,t,function(){return i(e)})}function i(e){return e.text().trim()}function c(e,t){function r(e){var t=e.currentStyle?e.currentStyle:n.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),a=!1;if(o)for(var i=e.childNodes,c=0;c<i.length;c++){var d=i[c];1===d.nodeType&&d.hasAttribute(t)&&(r(d)||(a=!0))}return a}return{expect:r,expectAsync:o,expectWithText:a}}angular.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){"use strict";function e(e,t,n,r,o,a){this.compile=function(i){var c=i.templateUrl,d=i.template||"",l=i.controller,m=i.controllerAs,u=i.resolve||{},s=i.locals||{},f=i.transformTemplate||angular.identity,p=i.bindToController;return angular.forEach(u,function(e,t){u[t]=angular.isString(e)?n.get(e):n.invoke(e)}),angular.extend(u,s),u.$template=c?t.get(c,{cache:a}).then(function(e){return e.data}):e.when(d),e.all(u).then(function(e){var t=f(e.$template),n=angular.element("<div>").html(t.trim()).contents(),a=r(n);return{locals:e,element:n,link:function(t){if(e.$scope=t,l){var r=o(l,e);p&&angular.extend(r,e),n.data("$ngControllerController",r),n.children().data("$ngControllerController",r),m&&(t[m]=r)}return a(t)}}})}}angular.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){"use strict";function e(e,t){var n;for(var r in d)n=d[r],"start"===e&&n.cancel(),n[e](t,g)}function t(t){if(!g){var n=+Date.now();b&&!o(t,b)&&n-b.endTime<1500||(g=c(t),e("start",t))}}function n(t){g&&o(t,g)&&(i(t,g),e("move",t))}function r(t){g&&o(t,g)&&(i(t,g),g.endTime=+Date.now(),e("end",t),b=g,g=null)}function o(e,t){return e&&t&&e.type.charAt(0)===t.type}function a(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function i(e,t){var n=a(e),r=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function c(e){var t=a(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}var d,l="mousedown touchstart pointerdown",m="mousemove touchmove pointermove",u="mouseup mouseleave touchend touchcancel pointerup pointercancel";document.contains||(document.contains=function(e){return document.body.contains(e)});var s=navigator.userAgent||navigator.vendor||window.opera,f=s.match(/iPad/i)||s.match(/iPhone/i)||s.match(/iPod/i),p=s.match(/Android/i),h=f||p;h&&document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||(e.preventDefault(),e.stopPropagation())},!0),angular.element(document).on(l,t).on(m,n).on(u,r).on("$$mdGestureReset",function(){b=g=null});var g,b;angular.module("material.core").run(["$mdGesture",function(){}]).factory("$mdGesture",["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){function r(t,n){var r=new e(t);return angular.extend(r,n),d[t]=r,a}function o(e,t,n){var r=d[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(d).join(", "));return r.registerElement(e,n)}d={},h&&r("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),r("press",{onStart:function(e){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e){this.dispatchEvent(e,"$md.pressup")}}),r("hold",{options:{maxDistance:6,delay:500},onCancel:function(){n.cancel(this.state.timeout)},onStart:function(e,t){return this.state.registeredParent?(this.state.pos={x:t.x,y:t.y},void(this.state.timeout=n(angular.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}),r("drag",{options:{minDistance:6,horizontal:!0},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>1.5*this.state.options.minDistance):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>1.5*this.state.options.minDistance),n?(this.state.dragPointer=c(e),i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:t.throttle(function(e){this.state.isRunning&&(i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e){this.state.dragPointer&&(i(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}),r("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}});var a;return a={handler:r,register:o}}]).factory("$$MdGestureHandler",["$$rAF",function(){function e(e){this.name=e,this.state={}}function t(e,t,n){n=n||g;var r=new angular.element.Event(t);r.$material=!0,r.pointer=n,r.srcEvent=e,angular.extend(r,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),angular.element(n.target).trigger(r)}function n(e,t,n){n=n||g;var r;"click"===t?(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,window,e.detail,n.x,n.y,n.x,n.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,{})),r.$material=!0,r.pointer=n,r.srcEvent=e,n.target.dispatchEvent(r)}return e.prototype={onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,options:{},dispatchEvent:"undefined"!=typeof jQuery&&angular.element===jQuery?t:n,start:function(e,t){if(!this.state.isRunning){var n=this.getNearestParent(e.target),r=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,r),registeredParent:n},this.onStart(e,t)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},e}])}(),function(){"use strict";function e(){function e(e){function t(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),d}function n(e,t){return i[e]=t,d}function r(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},d}function o(t,n,r){function o(e){return e&&e._options&&(e=e._options),m.show(angular.extend({},l,e))}function a(t,n){var o={};return o[e]=u,r.invoke(t||function(){return n},{},o)}var d,l,m=t(),u={hide:m.hide,cancel:m.cancel,show:o};return d=c.methods||[],l=a(c.optionsFactory,{}),angular.forEach(i,function(e,t){u[t]=e}),angular.forEach(c.presets,function(e,t){function n(e){this._options=angular.extend({},r,e)}var r=a(e.optionsFactory,{}),o=(e.methods||[]).concat(d);if(angular.extend(r,{$type:t}),angular.forEach(o,function(e){n.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var i="show"+t.charAt(0).toUpperCase()+t.slice(1);u[i]=function(e){var n=u[t](e);return u.show(n)}}u[t]=function(t){return arguments.length&&e.argOption&&!angular.isObject(t)&&!angular.isArray(t)?(new n)[e.argOption](t):new n(t)}}),u}var a=["onHide","onShow","onRemove"],i={},c={presets:{}},d={setDefaults:t,addPreset:r,addMethod:n,$get:o};return d.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$animate","$injector"],d}function t(e,t,n,r,o,a,i,c,d){function l(e){return e&&angular.isString(e)?e.replace(/\{\{/g,m).replace(/}}/g,u):e}var m=i.startSymbol(),u=i.endSymbol(),s="{{"===m&&"}}"===u,f=s?angular.identity:l;return function(){function i(e){if(p.length)return s.cancel().then(function(){return i(e)});var t=new u(e);return p.push(t),t.show().then(function(){return t.deferred.promise})}function l(e){var t=p.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function m(e){var t=p.shift();return t&&t.remove().then(function(){t.deferred.reject(e)})}function u(i){var l,m,u;i=i||{},i=angular.extend({preserveScope:!1,scope:i.scope||n.$new(i.isolateScope),onShow:function(e,t,n){return a.enter(t,n.parent)},onRemove:function(e,n){return n&&a.leave(n)||t.when()}},i),i.template&&(i.template=f(i.template));var p;return l={options:i,deferred:t.defer(),show:function(){return p=!1,c.compile(i).then(function(n){function a(){i.hideDelay&&(m=r(s.cancel,i.hideDelay))}angular.extend(n.locals,l.options),u=n.link(i.scope),angular.isFunction(i.parent)?i.parent=i.parent(i.scope,u,i):angular.isString(i.parent)&&(i.parent=angular.element(e[0].querySelector(i.parent))),(i.parent||{}).length||(i.parent=o.find("body"),i.parent.length||(i.parent=o)),i.themable&&d(u);var c=i.onShow(i.scope,u,i);return t.when(c).then(function(){(i.onComplete||angular.noop)(i.scope,u,i),a()})},function(e){p=!0,l.deferred.reject(e)})},cancelTimeout:function(){m&&(r.cancel(m),m=void 0)},remove:function(){l.cancelTimeout();var e;return e=p?!0:i.onRemove(i.scope,u,i),t.when(e).then(function(){i.preserveScope||i.scope.$destroy()})}}}var s,p=[];return s={show:i,hide:l,cancel:m}}}return e.$get=t,t.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],e}angular.module("material.core").provider("$$interimElement",e)}(),function(){"use strict";function e(e,t){function n(e){return e&&""!==e}var r,o=[],a={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!n(e))return null;var t,r,a;for(t=0,r=o.length;r>t;t++)if(a=o[t],a.$$mdHandle===e)return a;return null},register:function(e,t){function n(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}function r(){var n=a[t];n&&(n.resolve(e),delete a[t])}return t?(e.$$mdHandle=t,o.push(e),r(),n):angular.noop},when:function(e){if(n(e)){var o=t.defer(),i=r.get(e);return i?o.resolve(i):a[e]=o,o.promise}return t.reject("Invalid `md-component-id` value.")}}}angular.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){"use strict";function e(e){return{controller:angular.noop,link:function(t,n,r){r.hasOwnProperty("mdInkRippleCheckbox")?e.attachCheckboxBehavior(t,n):e.attachButtonBehavior(t,n)}}}function t(e,t){function n(e,t,n){return a(e,t,angular.extend({isFAB:t.hasClass("md-fab"),isMenuItem:t.hasClass("md-menu-item"),center:!1,dimBackground:!0},n))}function r(e,t,n){return a(e,t,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}function o(e,t,n){return a(e,t,angular.extend({center:!1,dimBackground:!0,outline:!0},n))}function a(n,r,o){function a(){var e=r.data("$mdRippleContainer");return e?e:(e=angular.element('<div class="md-ripple-container">'),r.append(e),r.data("$mdRippleContainer",e),e)}function i(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,n=t.length/3,r=t.substr(0,n),o=t.substr(n,n),a=t.substr(2*n);return 1===n&&(r+=r,o+=o,a+=a),"rgba("+parseInt(r,16)+","+parseInt(o,16)+","+parseInt(a,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?n(e):0===e.indexOf("#")?t(e):void 0}function c(e,n){g.splice(g.indexOf(e),1),0===g.length&&a().css({backgroundColor:""}),t(function(){e.remove()},n,!1)}function d(e){var t=g.indexOf(e),n=b[t]||{},r=g.length>1?!1:v,a=g.length>1?!1:$;r||n.animating||a?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),o.outline&&e.css({width:f+"px",height:f+"px",marginLeft:-1*f+"px",marginTop:-1*f+"px"}),c(e,o.outline?450:650))}function l(n,c){function l(e){var t=angular.element('<div class="md-ripple" data-counter="'+h++ +'">');return g.unshift(t),b.unshift({animating:!0}),s.append(t),e&&t.css(e),t}function m(e,t){var n,r,a,i=s.prop("offsetWidth"),c=s.prop("offsetHeight");return o.isMenuItem?r=Math.sqrt(Math.pow(i,2)+Math.pow(c,2)):o.outline?(a=M.getBoundingClientRect(),e-=a.left,t-=a.top,i=Math.max(e,i-e),c=Math.max(t,c-t),r=2*Math.sqrt(Math.pow(i,2)+Math.pow(c,2))):(n=o.isFAB?1.1:.8,r=Math.sqrt(Math.pow(i,2)+Math.pow(c,2))*n,o.fitRipple&&(r=Math.min(c,i,r))),r}function u(e,t,n){function r(e){return e.replace("rgba","rgb").replace(/,[^\)\,]+\)/,")")}var a,i={backgroundColor:r(T),borderColor:r(T),width:e+"px",height:e+"px"};return o.outline?(i.width=0,i.height=0):i.marginLeft=i.marginTop=e*-.5+"px",o.center?i.left=i.top="50%":(a=M.getBoundingClientRect(),i.left=Math.round((t-a.left)/s.prop("offsetWidth")*100)+"%",i.top=Math.round((n-a.top)/s.prop("offsetHeight")*100)+"%"),i}T=i(r.attr("md-ink-ripple"))||i(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var s=a(),p=m(n,c),E=u(p,n,c),v=l(E),$=g.indexOf(v),A=b[$]||{};return f=p,A.animating=!0,t(function(){o.dimBackground&&s.css({backgroundColor:T}),v.addClass("md-ripple-placed md-ripple-scaled"),v.css(o.outline?{borderWidth:.5*p+"px",marginLeft:p*-.5+"px",marginTop:p*-.5+"px"}:{left:"50%",top:"50%"}),d(v),t(function(){A.animating=!1,d(v)},o.outline?450:225,!1)},0,!1),v}function m(e){if(s()){{l(e.pointer.x,e.pointer.y)}$=!0}}function u(){$=!1;var e=g[g.length-1];t(function(){d(e)},0,!1)}function s(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=M.parentNode,n=t&&t.parentNode,r=n&&n.parentNode;return!(e(M)||e(t)||e(n)||e(r))}if(r.controller("mdNoInk"))return angular.noop;o=angular.extend({colorElement:r,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,isFAB:!1,isMenuItem:!1,fitRipple:!1},o);var f,p=r.controller("mdInkRipple")||{},h=0,g=[],b=[],E=r.attr("md-highlight"),v=!1,$=!1,M=r[0],A=r.attr("md-ripple-size"),T=i(r.attr("md-ink-ripple"))||i(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch(A){case"full":o.isFAB=!0;break;case"partial":o.isFAB=!1}return o.mousedown&&r.on("$md.pressdown",m).on("$md.pressup",u),p.createRipple=l,E&&n.$watch(E,function(e){v=e,v&&!g.length&&t(function(){l(0,0)},0,!1),angular.forEach(g,d)}),function(){r.off("$md.pressdown",m).off("$md.pressup",u),a().remove()}}return{attachButtonBehavior:n,attachCheckboxBehavior:r,attachTabBehavior:o,attach:a}}function n(){return function(){return{controller:angular.noop}}}angular.module("material.core").factory("$mdInkRipple",t).directive("mdInkRipple",e).directive("mdNoInk",n()).directive("mdNoBar",n()).directive("mdNoStretch",n()),e.$inject=["$mdInkRipple"],t.$inject=["$window","$timeout"]}(),function(){"use strict";angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){"use strict";function e(e){function t(e,t){return t=t||{},d[e]=o(e,t),m}function n(e,t){return o(e,angular.extend({},d[e]||{},t))}function o(e,t){var n=T.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function a(e,t){if(t=t||"default",l[e])return l[e];var n="string"==typeof t?l[t]:t,r=new i(e);return n&&angular.forEach(n.colors,function(e,t){r.colors[t]={name:e.name,hues:angular.extend({},e.hues)}}),l[e]=r,r}function i(e){function t(e){if(e=0===arguments.length?!0:!!e,e!==n.isDark){n.isDark=e,n.foregroundPalette=n.isDark?f:s,n.foregroundShadow=n.isDark?p:h;var t=n.isDark?A:M,r=n.isDark?M:A;return angular.forEach(t,function(e,t){var o=n.colors[t],a=r[t];if(o)for(var i in o.hues)o.hues[i]===a[i]&&(o.hues[i]=e[i])}),n}}var n=this;n.name=e,n.colors={},n.dark=t,t(!1),v.forEach(function(e){var t=(n.isDark?A:M)[e];n[e+"Palette"]=function(r,o){var a=n.colors[e]={name:r,hues:angular.extend({},t,o)};return Object.keys(a.hues).forEach(function(e){if(!t[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",r).replace("%4",Object.keys(t).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==T.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",r).replace("%5",T.join(", ")))}),n},n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),n[e+"Palette"].apply(n,t)}})}function u(e,t){function n(e){return void 0===e||""===e?!0:void 0!==l[e]}function r(t,n){void 0===n&&(n=t,t=void 0),void 0===t&&(t=e),r.inherit(n,n)}return r.inherit=function(r,o){function a(e){n(e)||t.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var o=r.data("$mdThemeName");o&&r.removeClass("md-"+o+"-theme"),r.addClass("md-"+e+"-theme"),r.data("$mdThemeName",e)}var i=o.controller("mdTheme"),c=r.attr("md-theme-watch");
if((b||angular.isDefined(c))&&"false"!=c){var d=e.$watch(function(){return i&&i.$mdTheme||g},a);r.on("$destroy",d)}else{var l=i&&i.$mdTheme||g;a(l)}},r.registered=n,r.defaultTheme=function(){return g},r}d={},l={};var g="default",b=!1;return angular.extend(d,e),u.$inject=["$rootScope","$log"],m={definePalette:t,extendPalette:n,theme:a,setDefaultTheme:function(e){g=e},alwaysWatchTheme:function(e){b=e},$get:u,_LIGHT_DEFAULT_HUES:M,_DARK_DEFAULT_HUES:A,_PALETTES:d,_THEMES:l,_parseRules:r,_rgba:c}}function t(e,t,n){return{priority:100,link:{pre:function(r,o,a){var i={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),i.$mdTheme=t}};o.data("$mdThemeController",i),i.$setTheme(t(a.mdTheme)(r)),a.$observe("mdTheme",i.$setTheme)}}}}function n(e){return e}function r(e,t,n){a(e,t),n=n.replace(/THEME_NAME/g,e.name);var r=[],o=e.colors[t],i=new RegExp(".md-"+e.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+t+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),m=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,u=d[o.name];return n=n.replace(m,function(t,n,r,o){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),c((d[e.colors[n].name][r]||"").value,o))}),angular.forEach(o.hues,function(t,o){var a=n.replace(l,function(e,n,r,o,a){return c(u[t]["color"===o?"value":"contrast"],a)});"default"!==o&&(a=a.replace(i,".md-"+e.name+"-theme.md-"+o)),r.push(a)}),r.join("")}function o(e){function t(e){var t=e.contrastDefaultColor,n=e.contrastLightColors||[],r=e.contrastStrongLightColors||[],o=e.contrastDarkColors||[];"string"==typeof n&&(n=n.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,angular.forEach(e,function(a,c){function d(){return"light"===t?o.indexOf(c)>-1?g:r.indexOf(c)>-1?E:b:n.indexOf(c)>-1?r.indexOf(c)>-1?E:b:g}if(!angular.isObject(a)){var l=i(a);if(!l)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",c));e[c]={value:l,contrast:d()}}})}var n=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";angular.forEach(d,t);var o=n.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),a={};v.forEach(function(e){a[e]=""});var c=new RegExp("md-("+v.join("|")+")","g");o.forEach(function(e){for(var t,n=(e.match(c),0);t=v[n];n++)if(e.indexOf(".md-"+t)>-1)return a[t]+=e;for(n=0;t=v[n];n++)if(e.indexOf(t)>-1)return a[t]+=e;return a[$]+=e});var m="";if(angular.forEach(l,function(e){v.forEach(function(t){m+=r(e,t,a[t]+"")}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec.")}),!u){var s=document.createElement("style");s.innerHTML=m;var f=document.getElementsByTagName("head")[0];f.insertBefore(s,f.firstElementChild),u=!0}}function a(e,t){if(!d[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(d).join(", ")))}function i(e){if(angular.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var t=e.length/3,n=e.substr(0,t),r=e.substr(t,t),o=e.substr(2*t);return 1===t&&(n+=n,r+=r,o+=o),[parseInt(n,16),parseInt(r,16),parseInt(o,16)]}}function c(e,t){return 4==e.length&&(e=angular.copy(e),t?e.pop():t=e.pop()),t&&("number"==typeof t||"string"==typeof t&&t.length)?"rgba("+e.join(",")+","+t+")":"rgb("+e.join(",")+")"}angular.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",t).directive("mdThemable",n).provider("$mdTheming",e).run(o);var d,l,m,u,s={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},f={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},p="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",h="",g=i("rgba(0,0,0,0.87)"),b=i("rgba(255,255,255,0.87"),E=i("rgb(255,255,255)"),v=["primary","accent","warn","background"],$="primary",M={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"}},A={background:{"default":"500","hue-1":"300","hue-2":"600","hue-3":"800"}};v.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};M[e]||(M[e]=t),A[e]||(A[e]=t)});var T=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],t.$inject=["$mdTheming","$interpolate","$log"],n.$inject=["$mdTheming"],o.$inject=["$injector"]}(),function(){"use strict";angular.module("material.components.autocomplete",["material.core"])}(),function(){"use strict";function e(e){return e}angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(){return{restrict:"E"}}function t(e){function t(e,t,o,a,i,c,d,l,m,u){function s(n,r,a){h=i('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n),h.on("click",function(){o(d.cancel)}),c.inherit(h,a.parent),e.enter(h,a.parent,null);var m=new p(r,a.parent);return a.bottomSheet=m,a.targetEvent&&angular.element(a.targetEvent.target).blur(),c.inherit(m.element,a.parent),a.disableParentScroll&&(a.lastOverflow=a.parent.css("overflow"),a.parent.css("overflow","hidden")),e.enter(m.element,a.parent).then(function(){var e=angular.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus(),a.escapeToClose&&(a.rootElementKeyupCallback=function(e){e.keyCode===t.KEY_CODE.ESCAPE&&o(d.cancel)},l.on("keyup",a.rootElementKeyupCallback))})}function f(t,n,r){var o=r.bottomSheet;return e.leave(h),e.leave(o.element).then(function(){r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),o.cleanup(),r.targetEvent&&angular.element(r.targetEvent.target).focus()})}function p(e,a){function i(){e.css(t.CSS.TRANSITION_DURATION,"0ms")}function c(n){var o=n.pointer.distanceY;5>o&&(o=Math.max(-r,o/2)),e.css(t.CSS.TRANSFORM,"translate3d(0,"+(r+o)+"px,0)")}function l(r){if(r.pointer.distanceY>0&&(r.pointer.distanceY>20||Math.abs(r.pointer.velocityY)>n)){var a=e.prop("offsetHeight")-r.pointer.distanceY,i=Math.min(a/r.pointer.velocityY*.75,500);e.css(t.CSS.TRANSITION_DURATION,i+"ms"),o(d.cancel)}else e.css(t.CSS.TRANSITION_DURATION,""),e.css(t.CSS.TRANSFORM,"")}var m=u.register(a,"drag",{horizontal:!1});return a.on("$md.dragstart",i).on("$md.drag",c).on("$md.dragend",l),{element:e,cleanup:function(){m(),a.off("$md.dragstart",i).off("$md.drag",c).off("$md.dragend",l)}}}var h;return{themable:!0,targetEvent:null,onShow:s,onRemove:f,escapeToClose:!0,disableParentScroll:!0}}var n=.5,r=80;return t.$inject=["$animate","$mdConstant","$timeout","$$rAF","$compile","$mdTheming","$mdBottomSheet","$rootElement","$rootScope","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:t})}angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",t),t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(e,t,n){function r(e){return angular.isDefined(e.href)||angular.isDefined(e.ngHref)}function o(e,t){return r(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function a(o,a,i){var c=a[0];t(a),e.attachButtonBehavior(o,a);var d=c.textContent.trim();d||n.expect(a,"aria-label"),r(i)&&angular.isDefined(i.ngDisabled)&&o.$watch(i.ngDisabled,function(e){a.attr("tabindex",e?-1:0)})}return{restrict:"E",replace:!0,transclude:!0,template:o,link:a}}angular.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdInkRipple","$mdTheming","$mdAria"]}(),function(){"use strict";function e(e){return{restrict:"E",link:function(t,n){e(n)}}}angular.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(t,i){return i.type="checkbox",i.tabIndex=0,t.attr("role",i.type),function(t,i,d,l){function m(e){e.which===r.KEY_CODE.SPACE&&(e.preventDefault(),u(e))}function u(e){i[0].hasAttribute("disabled")||t.$apply(function(){f=!f,l.$setViewValue(f,e&&e.type),l.$render()})}function s(){f=l.$viewValue,f?i.addClass(c):i.removeClass(c)}l=l||a.fakeNgModel();var f=!1;o(i),d.ngChecked&&t.$watch(t.$eval.bind(t,d.ngChecked),l.$setViewValue.bind(l)),n.expectWithText(i,"aria-label"),e.link.pre(t,{on:angular.noop,0:{}},d,[l]),i.on("click",u).on("keypress",m),l.$render=s}}e=e[0];var c="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:i}}angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil"]}(),function(){"use strict";function e(e){function n(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",n],link:function(n,r){r[0];e(r),n.$broadcast("$mdContentLoaded",r),t(r[0])}}}function t(e){angular.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}angular.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,t){return{restrict:"E",link:function(n,r){t(r),e(function(){var e=r[0].querySelector("md-content");e&&e.scrollHeight>e.clientHeight&&r.addClass("md-content-overflow")})}}}function t(e){function t(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',"<md-content>","<h2>{{ dialog.title }}</h2>","<p>{{ dialog.content }}</p>","</md-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function n(e,t,n,r,o,a,i,c,d,l,m,u){function s(n,o,a){function i(){var e=o[0].querySelector(".dialog-close");if(!e){var t=o[0].querySelectorAll(".md-actions button");e=t[t.length-1]}return angular.element(e)}a.parent=angular.element(a.parent),a.popInTarget=angular.element((a.targetEvent||{}).target);var l=i();if(p(o.find("md-dialog")),a.hasBackdrop){var m=a.parent.prop("scrollTop");a.backdrop=angular.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),d.inherit(a.backdrop,a.parent),r.enter(a.backdrop,a.parent),o.css("top",m+"px")}return a.disableParentScroll&&(a.lastOverflow=a.parent.css("overflow"),a.parent.css("overflow","hidden")),h(o,a.parent,a.popInTarget&&a.popInTarget.length&&a.popInTarget).then(function(){a.escapeToClose&&(a.rootElementKeyupCallback=function(t){t.keyCode===c.KEY_CODE.ESCAPE&&e(u.cancel)},t.on("keyup",a.rootElementKeyupCallback)),a.clickOutsideToClose&&(a.dialogClickOutsideCallback=function(t){t.target===o[0]&&e(u.cancel)},o.on("click",a.dialogClickOutsideCallback)),l.focus()})}function f(e,n,o){return o.backdrop&&r.leave(o.backdrop),o.disableParentScroll&&(o.parent.css("overflow",o.lastOverflow),delete o.lastOverflow),o.escapeToClose&&t.off("keyup",o.rootElementKeyupCallback),o.clickOutsideToClose&&n.off("click",o.dialogClickOutsideCallback),g(n,o.parent,o.popInTarget&&o.popInTarget.length&&o.popInTarget).then(function(){o.scope.$destroy(),n.remove(),o.popInTarget&&o.popInTarget.focus()})}function p(e){e.attr({role:"dialog"});var t=e.find("md-content");0===t.length&&(t=e),o.expectAsync(e,"aria-label",function(){var e=t.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function h(e,t,n){var r=e.find("md-dialog");return t.append(e),b(r,n),l(function(){r.addClass("transition-in").css(c.CSS.TRANSFORM,"")}),i.transitionEndPromise(r)}function g(e,t,n){var r=e.find("md-dialog");return r.addClass("transition-out").removeClass("transition-in"),b(r,n),i.transitionEndPromise(r)}function b(e,t){if(t){var n=t[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),o=Math.min(.5,n.width/r.width),a=Math.min(.5,n.height/r.height);e.css(c.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,0) scale("+o+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:s,onRemove:f,clickOutsideToClose:!0,escapeToClose:!0,targetEvent:null,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return t.$inject=["$mdDialog","$mdTheming"],n.$inject=["$timeout","$rootElement","$compile","$animate","$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$$rAF","$q","$mdDialog"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent"],options:n}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:t}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:t})}angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",t),e.$inject=["$$rAF","$mdTheming"],t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(){}function t(t){return{restrict:"E",link:t,controller:[e]}}angular.module("material.components.divider",["material.core"]).directive("mdDivider",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function e(e,n,r,o){function a(t,a,i,c){function d(){for(var e in n.MEDIA)o(e),o.getQuery(n.MEDIA[e]).addListener(v);return o.watchResponsiveAttributes(["md-cols","md-row-height"],i,l)}function l(e){null==e?c.invalidateLayout():o(e)&&c.invalidateLayout()}function m(){var e=s(),n=p(),o=b(),a=g(),i=h(),c=r(n,f(),s()).map(function(t,r,c){var d=angular.element(e[c]);return d.scope().$mdGridPosition=t,{element:d,styles:u(t.position,t.spans,n,r,i,o,a)}}).reflow().performance();t.mdOnLayout({$event:{performance:c}})}function u(e,t,n,r,o,a,i){var c=1/n*100,d=1===n?0:(n-1)/n,l=$({share:c,gutterShare:d,gutter:o}),m={left:M({unit:l,offset:e.col,gutter:o}),width:A({unit:l,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(a){case"fixed":m.top=M({unit:i,offset:e.row,gutter:o}),m.height=A({unit:i,span:t.row,gutter:"0px"});break;case"ratio":var u=c*(1/i),s=$({share:u,gutterShare:d,gutter:o});m.paddingTop=A({unit:s,span:t.row,gutter:o}),m.marginTop=M({unit:s,offset:e.row,gutter:o});break;case"fit":var f=1===r?0:(r-1)/r,u=1/r*100,s=$({share:u,gutterShare:f,gutter:o});m.top=M({unit:s,offset:e.row,gutter:o}),m.height=A({unit:s,span:t.row,gutter:o})}return m}function s(){return Array.prototype.slice.call(a[0].childNodes).filter(function(e){return"MD-GRID-TILE"==e.tagName})}function f(){return c.tiles.map(function(e){return{row:parseInt(o.getResponsiveAttribute(e,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(e,"md-colspan"),10)||1}})}function p(){return parseInt(o.getResponsiveAttribute(i,"md-cols"),10)}function h(){return E(o.getResponsiveAttribute(i,"md-gutter")||1)}function g(){var e=o.getResponsiveAttribute(i,"md-row-height");switch(b()){case"fixed":return E(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function b(){var e=o.getResponsiveAttribute(i,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function E(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=m;var v=angular.bind(c,c.invalidateLayout);t.$on("$destroy",d());var $=e("{{ share }}% - ({{ gutter }} * {{ gutterShare }})"),M=e("calc(({{ unit }}) * {{ offset }} + {{ offset }} * {{ gutter }})"),A=e("calc(({{ unit }}) * {{ span }} + ({{ span }} - 1) * {{ gutter }})")}return{restrict:"E",controller:t,scope:{mdOnLayout:"&"},link:a}}function t(e){this.invalidated=!1,this.$timeout_=e,this.tiles=[],this.layoutDelegate=angular.noop}function n(e){function t(e,t){e.css(t)}function n(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var i=0,m=0;m-i<t.col;)c>=e?r():(i=l.indexOf(0,c),-1!==i&&-1!==(m=a(i+1))?c=m+1:(i=m=0,r()));return o(i,t.col,t.row),c=i+t.col,{col:i,row:d}}function r(){c=0,d++,o(0,e,-1)}function o(e,t,n){for(var r=e;e+t>r;r++)l[r]=Math.max(l[r]+n,0)}function a(e){var t;for(t=e;t<l.length;t++)if(0!==l[t])return t;return t===l.length?t:void 0}function i(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var c=0,d=0,l=i();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:d+Math.max.apply(Math,l)}}return function(r,o){var a,i,c,d,l,m,i;return d=e.time(function(){i=n(r,o)}),a={layoutInfo:function(){return i},map:function(t){return l=e.time(function(){c=i.positioning.map(function(e,n){return t(e,a.layoutInfo().rowCount,n)})}),a},reflow:function(n){return m=e.time(function(){var e=n||t;c.forEach(function(t){e(t.element,t.styles)})}),a},performance:function(){return{tileCount:o.length,layoutTime:d,mapTime:l,reflowTime:m,totalTime:d+l+m}}}}}function r(e){function t(t,n,r,o){n.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,angular.bind(o,o.invalidateLayout));o.addTile(r,t.$parent.$index),t.$on("$destroy",function(){a(),o.removeTile(r)})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,link:t}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}angular.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",n),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"],t.$inject=["$timeout"],t.prototype={addTile:function(e,t){angular.isUndefined(t)?this.tiles.push(e):this.tiles.splice(t,0,e),this.invalidateLayout()},removeTile:function(e){var t=this.tiles.indexOf(e);-1!==t&&(this.tiles.splice(t,1),this.invalidateLayout())},invalidateLayout:function(){this.invalidated||(this.invalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate()}finally{this.invalidated=!1}}},n.$inject=["$mdUtil"],r.$inject=["$mdMedia"]}(),function(){"use strict";function e(e,t){function n(e,t){return t.mdFontIcon?'<span class="md-font" ng-class="fontIcon"></span>':""}function r(n,r,o){function a(){var e=r.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}var i=o.alt||n.fontIcon||n.svgIcon,c=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");""==o.alt||a()?t.expect(r,"aria-hidden","true"):(t.expect(r,"aria-label",i),t.expect(r,"role","img")),c&&o.$observe(c,function(t){r.empty(),t&&e(t).then(function(e){r.append(e)})})}return{scope:{fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",template:n,link:r}}function t(){}function n(e,t){this.url=e,this.iconSize=t||o.defaultIconSize}function r(e,t,n,r,o){function a(t){return function(n){var r=e[t];return n=u(n)?n:new s(n,r),n=d(n),f[t]=n,n.clone()}}function i(t){var r=e[t];return r?l(r.url).then(function(e){return new s(e,r)}):n.reject(t)}function c(t){function r(e){var r=t.slice(t.lastIndexOf(":")+1),o=e.querySelector("#"+r);return o?new s(o,a):n.reject(t)}var o=t.substring(0,t.lastIndexOf(":"))||"$default",a=e[o];return a?l(a.url).then(r):n.reject(t)}function d(t){var n=t.config?t.config.iconSize:e.defaultIconSize,r=angular.element(t.element);return r.attr({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:r.attr("viewBox")||"0 0 "+n+" "+n}).css({"pointer-events":"none",display:"block"})}function l(e){return t.get(e,{cache:o}).then(function(e){for(var t=angular.element(e.data),n=0;n<t.length;++n)if("svg"==t[n].nodeName)return t[n]})}function m(e){var t="icon "+e+" not found";throw r.warn(t),new Error(t)}function u(e){return angular.isDefined(e.element)&&angular.isDefined(e.config)}function s(e,t){"svg"!=e.tagName&&(e=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),this.element=e,this.config=t}var f={},p=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return function(e){return e=e||"",f[e]?n.when(f[e].clone()):p.test(e)?l(e).then(a(e)):(-1==e.indexOf(":")&&(e="$default:"+e),i(e)["catch"](c)["catch"](m).then(a(e)))}}angular.module("material.components.icon",["material.core"]).directive("mdIcon",e).provider("$mdIcon",t),e.$inject=["$mdIcon","$mdAria","$log"];var o={defaultIconSize:24};t.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,r),this},iconSet:function(e,t,r){return o[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return o[r]||(o[r]=new n(e,t)),this},defaultIconSize:function(e){return o.defaultIconSize=e,this},$get:["$http","$q","$log","$templateCache",function(e,t,n,a){return new r(o,e,t,n,a)}]}}(),function(){function e(e,t){function n(t,n){e(n)}function r(e,n,r){var o=this;o.isErrorGetter=r.mdIsError&&t(r.mdIsError),o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:r}}function t(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){r&&!n.mdNoFloat&&(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function n(e,t){function n(n,r,o,a){function i(e){return l.setHasValue(!m.$isEmpty(e)),e}function c(){l.setHasValue(r.val().length>0||(r[0].validity||{}).badInput)}function d(){function o(e){return d(),e}function a(){c.style.height="auto";var e=c.scrollHeight-c.offsetHeight;c.scrollTop=0;var t=c.offsetHeight+(e>0?e:0);c.style.height=t+"px"}function i(){c.scrollTop=0;var e=c.scrollHeight-c.offsetHeight,t=c.offsetHeight+e;c.style.height=t+"px"}var c=r[0],d=e.debounce(a,1);m?(m.$formatters.push(o),m.$viewChangeListeners.push(o)):d(),r.on("keydown input",d),r.on("scroll",i),angular.element(t).on("resize",d),n.$on("$destroy",function(){angular.element(t).off("resize",d)})}var l=a[0],m=a[1]||e.fakeNgModel(),u=angular.isDefined(o.readonly);if(l){if(l.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");l.input=r,r.addClass("md-input"),r.attr("id")||r.attr("id","input_"+e.nextUid()),"textarea"===r[0].tagName.toLowerCase()&&d();var s=l.isErrorGetter||function(){return m.$invalid&&m.$touched};n.$watch(s,l.setInvalid),m.$parsers.push(i),m.$formatters.push(i),r.on("input",c),u||(r.on("focus",function(){l.setFocused(!0)}).on("blur",function(){l.setFocused(!1),c()}),m.$setTouched(),m.$invalid&&l.setInvalid()),n.$on("$destroy",function(){l.setFocused(!1),l.setHasValue(!1),l.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:n}}function r(e){function t(t,n,r,o){function a(e){return l.text((n.val()||e||"").length+"/"+i),e}var i,c=o[0],d=o[1],l=angular.element('<div class="md-char-counter">');r.$set("ngTrim","false"),d.element.append(l),c.$formatters.push(a),c.$viewChangeListeners.push(a),n.on("input keydown",function(){a()}),t.$watch(r.mdMaxlength,function(t){i=t,angular.isNumber(t)&&t>0?(l.parent().length||e.enter(l,d.element,angular.element(d.element[0].lastElementChild)),a()):e.leave(l)}),c.$validators["md-maxlength"]=function(e,t){return!angular.isNumber(i)||0>i?!0:(e||n.val()||t||"").length<=i}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:t}}function o(){function e(e,t,n,r){if(r){var o=n.placeholder;t.removeAttr("placeholder"),r.element.append('<div class="md-placeholder">'+o+"</div>")}}return{restrict:"A",require:"^^?mdInputContainer",link:e}}angular.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",t).directive("input",n).directive("textarea",n).directive("mdMaxlength",r).directive("placeholder",o),e.$inject=["$mdTheming","$parse"],n.$inject=["$mdUtil","$window","$compile","$animate"],r.$inject=["$animate"]}(),function(){"use strict";function e(){return{restrict:"E",link:function(e,t){t.attr({role:"list"})}}}function t(){return{restrict:"E",link:function(e,t){t.attr({role:"listitem"})}}}angular.module("material.components.list",["material.core"]).directive("mdList",e).directive("mdItem",t)}(),function(){"use strict";function e(e,t,n){function r(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),o}function o(e,r,o){n(r);var d,l,m,u,s=r[0],f=s.querySelectorAll(".md-fill, .md-mask.md-full"),p=s.querySelectorAll(".md-fill.md-fix"),h=o.mdDiameter||48,g=h/48;s.style[t.CSS.TRANSFORM]="scale("+g.toString()+")",o.$observe("value",function(e){for(l=a(e),m=i[l],u=c[l],r.attr("aria-valuenow",l),d=0;d<f.length;d++)f[d].style[t.CSS.TRANSFORM]=m;for(d=0;d<p.length;d++)p[d].style[t.CSS.TRANSFORM]=u})}function a(e){return e>100?100:0>e?0:Math.ceil(e||0)}for(var i=new Array(101),c=new Array(101),d=0;101>d;d++){var l=d/100,m=Math.floor(180*l);i[d]="rotate("+m.toString()+"deg)",c[d]="rotate("+(2*m).toString()+"deg)"}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:r}}angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"]}(),function(){"use strict";function e(e,n,r){function o(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,c){r(a);var d=a[0].querySelector(".md-bar1").style,l=a[0].querySelector(".md-bar2").style,m=angular.element(a[0].querySelector(".md-container"));c.$observe("value",function(e){if("query"!=c.mdMode){var r=i(e);a.attr("aria-valuenow",r),l[n.CSS.TRANSFORM]=t[r]}}),c.$observe("mdBufferValue",function(e){d[n.CSS.TRANSFORM]=t[i(e)]}),e(function(){m.addClass("md-ready")})}function i(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var t=function(){function e(e){var t=e/100,n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),n=0;101>n;n++)t[n]=e(n);return t}()}(),function(){"use strict";function e(e,t,n){function r(r,o,a,i){function c(n){switch(n.keyCode){case t.KEY_CODE.LEFT_ARROW:case t.KEY_CODE.UP_ARROW:n.preventDefault(),d.selectPrevious();break;case t.KEY_CODE.RIGHT_ARROW:case t.KEY_CODE.DOWN_ARROW:n.preventDefault(),d.selectNext();break;case t.KEY_CODE.ENTER:var r=angular.element(e.getClosest(o[0],"form"));r.length>0&&r.triggerHandler("submit")}}n(o);var d=i[0],l=i[1]||e.fakeNgModel();d.init(l),o.attr({role:"radiogroup",tabIndex:o.attr("tabindex")||"0"}).on("keydown",c)}function o(e){this._radioButtonRenderFns=[],this.$element=e}function a(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return i(this.$element,1)},selectPrevious:function(){return i(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function i(t,n){var r=e.iterator(t[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(e){return!angular.element(e).attr("disabled")},a=t[0].querySelector("md-radio-button.md-checked"),i=r[0>n?"previous":"next"](a,o)||r.first();angular.element(i).triggerHandler("click")}}return o.prototype=a(),{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function t(e,t,n){function r(r,a,i,c){function d(e){a[0].hasAttribute("disabled")||r.$apply(function(){c.setViewValue(i.value,e&&e.type)})}function l(){var e=c.getViewValue()==i.value;e!==u&&(u=e,a.attr("aria-checked",e),e?(a.addClass(o),c.setActiveDescendant(a.attr("id"))):a.removeClass(o))}function m(n,r){function o(){return i.id||"radio_"+t.nextUid()}r.ariaId=o(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var u;n(a),m(a,r),c.add(l),i.$observe("value",l),a.on("click",d).on("$destroy",function(){c.remove(l)})}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",t),e.$inject=["$mdUtil","$mdConstant","$mdTheming"],t.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){"use strict";function e(e,t){return function(n){var r="SideNav '"+n+"' is not available!",o=e.get(n);return o||e.notFoundError(n),{isOpen:function(){return o&&o.isOpen()},isLockedOpen:function(){return o&&o.isLockedOpen()},toggle:function(){return o?o.toggle():t.reject(r)},open:function(){return o?o.open():t.reject(r)},close:function(){return o?o.close():t.reject(r)}}}}function t(e,t,n,r,o,a,i,c,d){function l(l,m,u,s){function f(e,n){l.isLockedOpen=e,e===n?m.toggleClass("md-locked-open",!!e):t[e?"addClass":"removeClass"](m,"md-locked-open"),A.toggleClass("md-locked-open",!!e)}function p(e){var n=m.parent();return n[e?"on":"off"]("keydown",g),A[e?"on":"off"]("click",b),e&&(E=d[0].activeElement),v=c.all([t[e?"enter":"leave"](A,n),t[e?"removeClass":"addClass"](m,"md-closed").then(function(){l.isOpen&&m.focus()})])}function h(t){if(l.isOpen==t)return c.when(!0);var n=c.defer();return l.isOpen=t,e(function(){v.then(function(e){l.isOpen||(E&&E.focus(),E=null),n.resolve(e)})},0,!1),n.promise}function g(e){var t=e.keyCode===o.KEY_CODE.ESCAPE;return t?b(e):c.when(!0)}function b(e){return e.preventDefault(),e.stopPropagation(),s.close()}var E=null,v=c.when(!0),$=n(u.mdIsLockedOpen),M=function(){return $(l.$parent,{$media:r})},A=a('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(l);m.on("$destroy",s.destroy),i.inherit(A,m),l.$watch(M,f),l.$watch("isOpen",p),s.$toggleOpen=h}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),l
}}}function n(e,t,n,r,o){var a=this;a.$toggleOpen=function(){return o.when(e.isOpen)},a.isOpen=function(){return!!e.isOpen},a.isLockedOpen=function(){return!!e.isLockedOpen},a.open=function(){return a.$toggleOpen(!0)},a.close=function(){return a.$toggleOpen(!1)},a.toggle=function(){return a.$toggleOpen(!e.isOpen)},a.destroy=r.register(a,n.mdComponentId)}angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",t).controller("$mdSidenavController",n),e.$inject=["$mdComponentRegistry","$q"],t.$inject=["$timeout","$animate","$parse","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],n.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(e){return e.attr({tabIndex:0,role:"slider"}),n.expect(e,"aria-label"),l}function l(n,d,l,m){function u(){b(),M(),g()}function s(e){G=parseFloat(e),d.attr("aria-valuemin",e),u()}function f(e){z=parseFloat(e),d.attr("aria-valuemax",e),u()}function p(e){W=parseFloat(e),g()}function h(e){d.attr("aria-disabled",!!e)}function g(){if(angular.isDefined(l.mdDiscrete)){var e=Math.floor((z-G)/W);if(!X){var n=t.getComputedStyle(U[0]);X=angular.element('<canvas style="position:absolute;">'),Q=X[0].getContext("2d"),Q.fillStyle=n.backgroundColor||"black",U.append(X)}var r=E();X[0].width=r.width,X[0].height=r.height;for(var o,a=0;e>=a;a++)o=Math.floor(r.width*(a/e)),Q.fillRect(o-1,0,2,r.height)}}function b(){Z=q[0].getBoundingClientRect()}function E(){return Y(),Z}function v(e){if(!d[0].hasAttribute("disabled")){var t;e.keyCode===o.KEY_CODE.LEFT_ARROW?t=-W:e.keyCode===o.KEY_CODE.RIGHT_ARROW&&(t=W),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),n.$evalAsync(function(){$(m.$viewValue+t)}))}}function $(e){m.$setViewValue(A(T(e)))}function M(){isNaN(m.$viewValue)&&(m.$viewValue=m.$modelValue);var e=(m.$viewValue-G)/(z-G);n.modelValue=m.$viewValue,d.attr("aria-valuenow",m.$viewValue),w(e),F.text(m.$viewValue)}function A(e){return angular.isNumber(e)?Math.max(G,Math.min(z,e)):void 0}function T(e){return angular.isNumber(e)?Math.round(e/W)*W:void 0}function w(e){B.css("width",100*e+"%"),L.css("left",100*e+"%"),d.toggleClass("md-min",0===e)}function k(e){if(!P()){d.addClass("active"),d[0].focus(),b();var t=I(D(e.pointer.x)),r=A(T(t));n.$apply(function(){$(r),w(R(r))})}}function y(e){if(!P()){d.removeClass("dragging active");var t=I(D(e.pointer.x)),r=A(T(t));n.$apply(function(){$(r),M()})}}function x(e){P()||(J=!0,e.stopPropagation(),d.addClass("dragging"),_(e))}function C(e){J&&(e.stopPropagation(),_(e))}function N(e){J&&(e.stopPropagation(),J=!1)}function _(e){et?H(e.pointer.x):S(e.pointer.x)}function S(e){n.$evalAsync(function(){$(I(D(e)))})}function H(e){var t=I(D(e)),n=A(T(t));w(D(e)),F.text(n)}function D(e){return Math.max(0,Math.min(1,(e-Z.left)/Z.width))}function I(e){return G+e*(z-G)}function R(e){return(e-G)/(z-G)}a(d),m=m||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var O=l.ngDisabled&&c(l.ngDisabled),P=O?function(){return O(n.$parent)}:angular.noop,j=angular.element(d[0].querySelector(".md-thumb")),F=angular.element(d[0].querySelector(".md-thumb-text")),L=j.parent(),q=angular.element(d[0].querySelector(".md-track-container")),B=angular.element(d[0].querySelector(".md-track-fill")),U=angular.element(d[0].querySelector(".md-track-ticks")),Y=r.throttle(b,5e3);l.min?l.$observe("min",s):s(0),l.max?l.$observe("max",f):f(100),l.step?l.$observe("step",p):p(1);var V=angular.noop;l.ngDisabled&&(V=n.$parent.$watch(l.ngDisabled,h)),i.register(d,"drag"),d.on("keydown",v).on("$md.pressdown",k).on("$md.pressup",y).on("$md.dragstart",x).on("$md.drag",C).on("$md.dragend",N),setTimeout(u);var K=e.throttle(u);angular.element(t).on("resize",K),n.$on("$destroy",function(){angular.element(t).off("resize",K),V()}),m.$render=M,m.$viewChangeListeners.push(M),m.$formatters.push(A),m.$formatters.push(T);var G,z,W,X,Q,Z={};b();var J=!1,et=angular.isDefined(l.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:d}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){"use strict";function e(e,t,n,r,o){function a(e){function n(e,t){t.addClass("md-sticky-clone"),t.css("top",p+"px");var n={element:e,clone:t};return f.items.push(n),u.parent().prepend(n.clone),s(),function(){f.items.forEach(function(t,n){t.element[0]===e[0]&&(f.items.splice(n,1),t.clone.remove())}),s()}}function o(){f.items.forEach(a),f.items=f.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=u.prop("scrollTop"),n=f.items.length-1;n>=0;n--)if(t>f.items[n].top){e=f.items[n];break}d(e)}function a(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==u[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px")}function i(){var e=u.prop("scrollTop"),t=e>(i.prevScrollTop||0);i.prevScrollTop=e,0===e?d(null):t&&f.next?f.next.top-e<=0?d(f.next):f.current&&(f.next.top-e<=f.next.height?m(f.current,f.next.top-f.next.height-e):m(f.current,null)):!t&&f.current&&(e<f.current.top&&d(f.prev),f.current&&f.next&&(e>=f.next.top-f.current.height?m(f.current,f.next.top-e-f.current.height):m(f.current,null)))}function d(e){if(f.current!==e){f.current&&(m(f.current,null),l(f.current,null)),e&&l(e,"active"),f.current=e;var t=f.items.indexOf(e);f.next=f.items[t+1],f.prev=f.items[t-1],l(f.next,"next"),l(f.prev,"prev")}}function l(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function m(e,n){e&&(null===n||void 0===n?e.translateY&&(e.translateY=null,e.clone.css(t.CSS.TRANSFORM,"")):(e.translateY=n,e.clone.css(t.CSS.TRANSFORM,"translate3d("+e.left+"px,"+n+"px,0)")))}var u=e.$element,s=r.throttle(o);c(u),u.on("$scrollstart",s),u.on("$scroll",i);var f,p=u.prop("offsetTop");return f={prev:null,current:null,next:null,items:[],add:n,refreshElements:o}}function i(){var t,n=angular.element("<div>");e[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){t=r[o];break}return n.remove(),t}function c(e){function t(){+o.now()-a>i?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),r(t))}var n,a,i=200;e.on("scroll touchmove",function(){n||(n=!0,r(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),a=+o.now()})}var d=i();return function(e,t,n){var r=t.controller("mdContent");if(r)if(d)t.css({position:d,top:0,"z-index":2});else{var o=r.$element.data("$$sticky");o||(o=a(r),r.$element.data("$$sticky",o));var i=o.add(t,n||t.clone());e.$on("$destroy",i)}}}angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){"use strict";function e(e,t,n){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><span class="md-subheader-content"></span></h2>',compile:function(r,o,a){var i=r[0].outerHTML;return function(r,o){function c(e){return angular.element(e[0].querySelector(".md-subheader-content"))}n(o),a(r,function(e){c(o).append(e)}),a(r,function(a){var d=t(angular.element(i))(r);n(d),c(d).append(a),e(r,o,d)})}}}}angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){"use strict";var e=angular.module("material.components.swipe",[]);["SwipeLeft","SwipeRight"].forEach(function(t){var n="md"+t,r="$md."+t.toLowerCase();e.directive(n,["$parse",function(e){function t(t,o,a){var i=e(a[n]);o.on(r,function(e){t.$apply(function(){i(t,{$event:e})})})}return{restrict:"A",link:t}}])})}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(e,t){var r=l.compile(e,t);return e.addClass("md-dragging"),function(e,t,d,l){function m(n){p(e)||(n.stopPropagation(),t.addClass("md-dragging"),b={width:h.prop("offsetWidth")},t.removeClass("transition"))}function u(e){if(b){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/b.width,n=l.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),h.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),b.translate=n}}function s(e){if(b){e.stopPropagation(),t.removeClass("md-dragging"),h.css(o.CSS.TRANSFORM,"");var n=l.$viewValue?b.translate<.5:b.translate>.5;n&&f(!l.$viewValue),b=null}}function f(t){e.$apply(function(){l.$setViewValue(t),l.$render()})}l=l||n.fakeNgModel();var p=a(d.ngDisabled),h=angular.element(t[0].querySelector(".md-thumb-container")),g=angular.element(t[0].querySelector(".md-container"));i(function(){t.removeClass("md-dragging")}),r(e,t,d,l),angular.isDefined(d.ngDisabled)&&e.$watch(p,function(e){t.attr("tabindex",e?-1:0)}),c.register(g,"drag"),g.on("$md.dragstart",m).on("$md.drag",u).on("$md.dragend",s);var b}}var l=e[0];return{restrict:"E",transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:d}}angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){"use strict";angular.module("material.components.tabs",["material.core"])}(),function(){"use strict";function e(e,t,n,r){return{restrict:"E",replace:!0,scope:{fid:"@?mdFid",label:"@?",value:"=ngModel"},compile:function(o,a){return r.warn("<md-text-float> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),angular.isUndefined(a.mdFid)&&(a.mdFid=t.nextUid()),{pre:function(e,t,r){var o=n(r.ngDisabled);e.isDisabled=function(){return o(e.$parent)},e.inputType=r.type||"text"},post:e}},template:'<md-input-group tabindex="-1"> <label for="{{fid}}" >{{label}}</label> <md-input id="{{fid}}" ng-disabled="isDisabled()" ng-model="value" type="{{inputType}}"></md-input></md-input-group>'}}function t(e){return{restrict:"CE",controller:["$element",function(t){e.warn("<md-input-group> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),this.setFocused=function(e){t.toggleClass("md-input-focused",!!e)},this.setHasValue=function(e){t.toggleClass("md-input-has-value",e)}}]}}function n(e,t){return{restrict:"E",replace:!0,template:"<input >",require:["^?mdInputGroup","?ngModel"],link:function(e,n,r,o){function a(e){return e=angular.isUndefined(e)?n.val():e,angular.isDefined(e)&&null!==e&&""!==e.toString().trim()}if(o[0]){t.warn("<md-input> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer");var i=o[0],c=o[1];e.$watch(e.isDisabled,function(e){n.attr("aria-disabled",!!e),n.attr("tabindex",!!e)}),n.attr("type",r.type||n.parent().attr("type")||"text"),c&&c.$formatters.push(function(e){return i.setHasValue(a(e)),e}),n.on("input",function(){i.setHasValue(a())}).on("focus",function(){i.setFocused(!0)}).on("blur",function(){i.setFocused(!1),i.setHasValue(a())}),e.$on("$destroy",function(){i.setFocused(!1),i.setHasValue(!1)})}}}}angular.module("material.components.textField",["material.core"]).directive("mdInputGroup",t).directive("mdInput",n).directive("mdTextFloat",e),e.$inject=["$mdTheming","$mdUtil","$parse","$log"],t.$inject=["$log"],n.$inject=["$mdUtil","$log"]}(),function(){"use strict";function e(){return{restrict:"E"}}function t(e){function t(e,t,r){function o(o,a,c){return n=c.content,a.addClass(c.position.split(" ").map(function(e){return"md-"+e}).join(" ")),c.parent.addClass(i(c.position)),c.onSwipe=function(t){a.addClass("md-"+t.type.replace("$md.","")),e(r.cancel)},a.on("$md.swipeleft $md.swiperight",c.onSwipe),t.enter(a,c.parent)}function a(e,n,r){return n.off("$md.swipeleft $md.swiperight",r.onSwipe),r.parent.removeClass(i(r.position)),t.leave(n)}function i(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:o,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var n,r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme"],options:["$mdToast","$mdTheming",function(e,t){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var r=this;t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide()}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return r}]}).addMethod("updateContent",function(e){n=e});return t.$inject=["$timeout","$animate","$mdToast"],r}angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",t),t.$inject=["$$interimElementProvider"]}(),function(){"use strict";function e(e,t,n,r){return{restrict:"E",controller:angular.noop,link:function(o,a,i){function c(){function r(t,n){a.parent()[0]===n.parent()[0]&&(m&&m.off("scroll",p),n.on("scroll",p),n.attr("scroll-shrink","true"),m=n,e(c))}function c(){l=a.prop("offsetHeight"),m.css("margin-top",-l*f+"px"),d()}function d(e){var n=e?e.target.scrollTop:s;h(),u=Math.min(l/f,Math.max(0,u+n-s)),a.css(t.CSS.TRANSFORM,"translate3d(0,"+-u*f+"px,0)"),m.css(t.CSS.TRANSFORM,"translate3d(0,"+(l-u)*f+"px,0)"),s=n}var l,m,u=0,s=0,f=i.mdShrinkSpeedFactor||.5,p=e.throttle(d),h=n.debounce(c,5e3);o.$on("$mdContentLoaded",r)}r(a),angular.isDefined(i.mdScrollShrink)&&c()}}}angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c,d){function l(l,s,f){function p(t){p.value=!!t,p.queued||(t?(p.queued=!0,e(function(){l.visible=p.value,p.queued=!1},l.delay)):e(function(){l.visible=!1}))}function h(){E.attr("aria-describedby",s.attr("id")),A.append(s),b(),c.addClass(s,"md-show"),c.addClass(v,"md-show")}function g(){E.removeAttr("aria-describedby"),d.all([c.removeClass(v,"md-show"),c.removeClass(s,"md-show")]).then(function(){l.visible||s.detach()})}function b(){function e(){var e="left"===$||"right"===$?2*Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height/2,2)):2*Math.sqrt(Math.pow(t.width/2,2)+Math.pow(t.height,2)),n="left"===$?{left:100,top:50}:"right"===$?{left:0,top:50}:"top"===$?{left:50,top:100}:{left:50,top:0};v.css({width:e+"px",height:e+"px",left:n.left+"%",top:n.top+"%"})}var t=o.offsetRect(s,A),n=o.offsetRect(E,A),r="bottom",a={left:n.left+n.width/2-t.width/2,top:n.top+n.height};a.left=Math.min(a.left,A.prop("scrollWidth")-t.width-u),a.left=Math.max(a.left,u),a.top+t.height>A.prop("scrollHeight")&&(a.top=n.top-t.height,r="top"),s.css({top:a.top+"px",left:a.left+"px"}),e()}a(s);for(var E=s.parent(),v=angular.element(s[0].getElementsByClassName("md-background")[0]),$=f.mdDirection;"none"==t.getComputedStyle(E[0])["pointer-events"];)E=E.parent();for(var M=s.parent()[0];M&&M!==i[0]&&M!==document.body&&(!M.tagName||"md-content"!=M.tagName.toLowerCase());)M=M.parentNode;var A=angular.element(M||document.body);angular.isDefined(f.mdDelay)||(l.delay=m),s.detach(),s.attr("role","tooltip"),s.attr("id",f.id||"tooltip_"+o.nextUid()),E.on("focus mouseenter touchstart",function(){p(!0)}),E.on("blur mouseleave touchend touchcancel",function(){r[0].activeElement!==E[0]&&p(!1)}),l.$watch("visible",function(e){e?h():g()});var T=n.throttle(function(){l.visible&&b()});angular.element(t).on("resize",T),l.$on("$destroy",function(){l.visible=!1,s.remove(),angular.element(t).off("resize",T)})}var m=0,u=8;return{restrict:"E",transclude:!0,template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay"},link:l}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){"use strict";angular.module("material.components.whiteframe",[])}(),function(){"use strict";function e(e,t,n,r,o,a){function i(){d(),c()}function c(){var e=angular.element(v.ul),t=angular.element(v.input),n=e.attr("id")||"ul_"+o.nextUid();e.attr("id",n),t.attr("aria-owns",n)}function d(){e.$watch("searchText",function(e){if(!e)return g.loading=!1,g.matches=[];var t=e.toLowerCase();$&&$.cancel&&($.cancel(),$=null),M[t]?g.matches=M[t]:g.hidden||(g.loading=!0,g.fetch(e))})}function l(t){var n=e.$parent.$eval(E),o=t.toLowerCase();$=r.when(n).then(function(n){M[o]=n,t===e.searchText&&($=null,g.loading=!1,g.matches=n)})}function m(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(g.loading)return;e.preventDefault(),g.index=Math.min(g.index+1,g.matches.length-1),h();break;case a.KEY_CODE.UP_ARROW:if(g.loading)return;e.preventDefault(),g.index=Math.max(0,g.index-1),h();break;case a.KEY_CODE.ENTER:if(g.loading)return;e.preventDefault(),p(g.index);break;case a.KEY_CODE.ESCAPE:g.matches=[],g.hidden=!0,g.index=-1;break;default:g.index=-1,g.hidden=!1,n(function(){g.hidden=s()})}}function u(){e.searchText="",p(-1)}function s(){return 1===g.matches.length&&e.searchText===f(g.matches[0])}function f(t){return t&&e.itemText?t[e.itemText]:t}function p(t){e.searchText=f(g.matches[t])||e.searchText,g.hidden=!0,g.index=-1,g.matches=[]}function h(){var e=41*g.index,t=e+41,n=225.5;e<v.ul.scrollTop?v.ul.scrollTop=e:t>v.ul.scrollTop+n&&(v.ul.scrollTop=t-n)}var g=this,b=e.itemsExpr.split(/\ in\ /i),E=b[1],v={main:t[0],ul:t[0].getElementsByTagName("ul")[0],input:t[0].getElementsByTagName("input")[0]},$=null,M={};return g.scope=e,g.parent=e.$parent,g.itemName=b[0],g.matches=[],g.loading=!1,g.hidden=!0,g.index=0,g.keydown=m,g.clear=u,g.select=p,g.fetch=o.debounce(l),i()}angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e),e.$inject=["$scope","$element","$timeout","$q","$mdUtil","$mdConstant"]}(),function(){"use strict";function e(){return{template:'        <md-autocomplete-wrap role="listbox">          <input type="text"              ng-model="searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              aria-haspopup="true"              aria-activedescendant=""              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>          <button              type="button"              ng-if="searchText"              ng-click="$mdAutocompleteCtrl.clear()">              <span aria-hidden="true">X</span>              <span class="visually-hidden">Clear</span>              </button>          <md-progress-linear ng-if="$mdAutocompleteCtrl.loading" md-mode="indeterminate"></md-progress-linear>        </md-autocomplete-wrap>        <ul role="presentation">          <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"              ng-class="{ selected: index === $mdAutocompleteCtrl.index }"              ng-if="searchText && !$mdAutocompleteCtrl.hidden"              ng-click="$mdAutocompleteCtrl.select(index)"              ng-transclude              md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">          </li>        </ul>        <aria-status            class="visually-hidden"            aria-atomic="true"            role="status"            aria-live="polite">          <p ng-repeat="item in $mdAutocompleteCtrl.matches">{{item.display}}</p>        </aria-status>',transclude:!0,controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{searchText:"=mdSearchText",selectedItem:"=mdSelectedItem",itemsExpr:"@mdItems",itemText:"@mdItemText",placeholder:"@placeholder"}}}angular.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){"use strict";function e(e,t,n){function r(e){return e?e.replace(/[\*\[\]\(\)\{\}\\\^\$]/g,"\\$&"):e}var o=t.attr("md-highlight-text"),a=n(t.text())(e);e.$watch(o,function(e){var n=new RegExp("^"+r(e),"i"),o=a.replace(n,'<span class="highlight">$&</span>');t.html(o)})}angular.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){"use strict";function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl"}}angular.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){"use strict";function e(e,t){function n(n,r,o,a){var i=a.parent.$new(!1,a.parent),c=a.scope.$eval(o.mdAutocompleteListItem);i[c]=n.item,e(r.contents())(i),r.attr({role:"option",id:"item_"+t.nextUid()})}return{require:"^?mdAutocomplete",terminal:!0,link:n,scope:!1}}angular.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){"use strict";function e(e){function t(t,r,o,a){function i(){var e=d.getSelectedItem(),o=!e||d.count()<2||c;if(r.css("display",o?"none":"block"),!o&&t.pagination&&t.pagination.tabData){var a=d.getSelectedIndex(),i=t.pagination.tabData.tabs[a]||{left:0,right:0,width:0},l=r.parent().prop("offsetWidth")-i.right,m=["md-transition-left","md-transition-right","md-no-transition"],u=n>a?0:a>n?1:2;r.removeClass(m.join(" ")).addClass(m[u]).css({left:i.left+"px",right:l+"px"}),n=a}}var c=!!a[0],d=a[1],l=e.throttle(i);d.inkBarElement=r,t.$on("$mdTabsPaginationChanged",l)}var n=0;return{restrict:"E",require:["^?mdNoBar","^mdTabs"],link:t}}angular.module("material.components.tabs").directive("mdTabsInkBar",e),e.$inject=["$$rAF"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(i,d,l,m){function u(e,t){if(e){var n=b(e);T.active&&n!==T.page?(t&&t.element.blur(),E(n).then(function(){A=!1,e.element.focus()})):e.element.focus()}}function s(e){var t=T.tabData,n=Math.max(0,Math.min(t.pages.length-1,T.page+e)),r=t.pages[n][e>0?"firstTabIndex":"lastTabIndex"],o=m.itemAt(r);A=!0,u(o)}function f(){function e(){M.css("width","9999px"),angular.forEach(a.tabs,function(e){angular.element(e.element).css("margin-left",e.filler+"px")}),E(b(m.getSelectedItem()))}function t(){p(0),M.css("width",""),r.css("width",""),r.css("margin-left",""),T.page=null,T.active=!1}function n(){return l||i.$watch(function(){o(function(){d[0].offsetParent&&(angular.isFunction(l)&&l(),$(),l=null)},0,!1)})}if(d.prop("offsetParent")){var r=d.find("md-tab");t();var a=T.tabData=g(),c=T.active=a.pages.length>1;c&&e(),i.$evalAsync(function(){i.$broadcast("$mdTabsPaginationChanged")})}else var l=n()}function p(t){function n(t){t.target===M[0]&&(M.off(e.CSS.TRANSITIONEND,n),o.resolve())}if(m.pagingOffset===t)return r.when();var o=r.defer();return m.$$pagingOffset=t,M.css(e.CSS.TRANSFORM,"translate3d("+t+"px,0,0)"),M.on(e.CSS.TRANSITIONEND,n),o.promise}function h(){switch(i.stretchTabs){case"never":return!1;case"always":return!0;default:return a("sm")}}function g(e){function t(){var e=1===u.length?r:o,t=Math.min(Math.floor(e/l),v.length),n=Math.floor(e/t);return a.css("width",n+"px"),g(!0)}var n,r=d.parent().prop("offsetWidth"),o=r-c-1,a=angular.element(v),i=0,l=0,m=[],u=[];return a.css("max-width",""),angular.forEach(v,function(e,t){var a=Math.min(o,e.offsetWidth),c={element:e,left:i,width:a,right:i+a,filler:0};c.page=Math.ceil(c.right/(1===u.length&&t===v.length-1?r:o))-1,c.page>=u.length?(c.filler=o*c.page-c.left,c.right+=c.filler,c.left+=c.filler,n={left:c.left,firstTabIndex:t,lastTabIndex:t,tabs:[c]},u.push(n)):(n.lastTabIndex=t,n.tabs.push(c)),i=c.right,l=Math.max(l,a),m.push(c)}),a.css("max-width",o+"px"),!e&&h()?t():{width:i,max:l,tabs:m,pages:u,tabElements:v}}function b(e){var t=m.indexOf(e);if(-1===t)return 0;var n=T.tabData;return n?n.tabs[t].page:0}function E(e){if(e!==T.page){var t=T.tabData.pages.length-1;return 0>e&&(e=0),e>t&&(e=t),T.hasPrev=e>0,T.hasNext=t>e,T.page=e,i.$broadcast("$mdTabsPaginationChanged"),p(-T.tabData.pages[e].left)}}var v=d[0].getElementsByTagName("md-tab"),$=n.throttle(f),M=d.children(),A=!1,T=i.pagination={page:-1,active:!1,clickNext:function(){A||s(1)},clickPrevious:function(){A||s(-1)}};i.$on("$mdTabsChanged",$),angular.element(t).on("resize",$),i.$on("$destroy",function(){angular.element(t).off("resize",$)}),i.$watch(function(){return m.tabToFocus},u)}var c=64;return{restrict:"A",require:"^mdTabs",link:i}}angular.module("material.components.tabs").directive("mdTabsPagination",e),e.$inject=["$mdConstant","$window","$$rAF","$$q","$timeout","$mdMedia"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,c){function d(){return b(e.$parent)}function l(t,n){h.content.length&&(h.contentContainer.append(h.content),h.contentScope=e.$parent.$new(),t.append(h.contentContainer),r(h.contentContainer)(h.contentScope),n===!0&&c(function(){a.disconnectScope(h.contentScope)},0,!1))}function m(){o.leave(h.contentContainer).then(function(){h.contentScope&&h.contentScope.$destroy(),h.contentScope=null})}function u(e){h.contentContainer[e?"addClass":"removeClass"]("md-transition-rtl")}function s(n){a.reconnectScope(h.contentScope),t.addClass("active").attr({"aria-selected":!0,tabIndex:0}).on("$md.swipeleft $md.swiperight",p),u(n),o.removeClass(h.contentContainer,"ng-hide"),e.onSelect()}function f(n){a.disconnectScope(h.contentScope),t.removeClass("active").attr({"aria-selected":!1,tabIndex:-1}).off("$md.swipeleft $md.swiperight",p),u(n),o.addClass(h.contentContainer,"ng-hide"),e.onDeselect()}function p(t){e.$apply(function(){g.select(/left/.test(t.type)?g.next():g.previous())})}var h=this,g=t.controller("mdTabs");h.contentContainer=angular.element('<div class="md-tab-content ng-hide">'),h.element=t,h.isDisabled=d,h.onAdd=l,h.onRemove=m,h.onSelect=s,h.onDeselect=f;var b=i(n.ngDisabled)}angular.module("material.components.tabs").controller("$mdTab",e),e.$inject=["$scope","$element","$attrs","$compile","$animate","$mdUtil","$parse","$timeout"]}(),function(){"use strict";function e(e,t,n,r,o){function a(a,i){var c=a.find("md-tab-label");c.length?c.remove():c=angular.isDefined(i.label)?angular.element("<md-tab-label>").html(i.label):angular.element("<md-tab-label>").append(a.contents().remove());var d=a.contents().remove();return function(a,i,l,m){function u(){var e=c.clone();i.append(e),t(e)(a.$parent),E.content=d.clone()}function s(){a.$apply(function(){v.select(E),v.focus(E)})}function f(e){e.keyCode==r.KEY_CODE.SPACE||e.keyCode==r.KEY_CODE.ENTER?(i.triggerHandler("click"),e.preventDefault()):e.keyCode===r.KEY_CODE.LEFT_ARROW?a.$evalAsync(function(){v.focus(v.previous(E))}):e.keyCode===r.KEY_CODE.RIGHT_ARROW&&a.$evalAsync(function(){v.focus(v.next(E))})}function p(){a.$watch("$parent.$index",function(e){v.move(E,e)})}function h(){function e(e){var t=v.getSelectedItem()===E;e&&!t?v.select(E):!e&&t&&v.deselect(E)}var t=a.$parent.$watch("!!("+l.mdActive+")",e);a.$on("$destroy",t)}function g(){function e(e){i.attr("aria-disabled",e);var t=v.getSelectedItem()===E;t&&e&&v.select(v.next()||v.previous())}a.$watch(E.isDisabled,e)}function b(){var e=l.id||"tab_"+n.nextUid();if(i.attr({id:e,role:"tab",tabIndex:-1}),d.length){var t="content_"+e;i.attr("aria-controls")||i.attr("aria-controls",t),E.contentContainer.attr({id:t,role:"tabpanel","aria-labelledby":e})}}var E=m[0],v=m[1];o(i.addClass.bind(i,"md-tab-themed"),0,!1),a.$watch(function(){return l.label},function(){o(function(){v.scope.$broadcast("$mdTabsChanged")},0,!1)}),u(),b(),e.attachTabBehavior(a,i,{colorElement:v.inkBarElement}),v.add(E),a.$on("$destroy",function(){v.remove(E)}),i.on("$destroy",function(){o(function(){v.scope.$broadcast("$mdTabsChanged")},0,!1)}),angular.isDefined(l.ngClick)||i.on("click",s),i.on("keydown",f),angular.isNumber(a.$parent.$index)&&p(),angular.isDefined(l.mdActive)&&h(),g()}}return{restrict:"E",require:["mdTab","^mdTabs"],controller:"$mdTab",scope:{onSelect:"&mdOnSelect",onDeselect:"&mdOnDeselect",label:"@"},compile:a}}angular.module("material.components.tabs").directive("mdTab",e),e.$inject=["$mdInkRipple","$compile","$mdUtil","$mdConstant","$timeout"]}(),function(){"use strict";function e(e,t,n){function r(){return b(e.selectedIndex)}function o(){return e.selectedIndex}function a(t,n){p.add(t,n),angular.isDefined(t.element.attr("md-active"))||-1!==e.selectedIndex&&angular.isNumber(e.selectedIndex)&&e.selectedIndex!==h.indexOf(t)?t.onAdd(h.contentArea,!0):(t.onAdd(h.contentArea,!1),h.select(t)),e.$broadcast("$mdTabsChanged")}function i(t,n){if(p.contains(t)&&!n){var o=r()===t,a=s()||u();m(t),p.remove(t),t.onRemove(),e.$broadcast("$mdTabsChanged"),o&&d(a)}}function c(t,n){var o=r()===t;p.remove(t),p.add(t,n),o&&d(t),e.$broadcast("$mdTabsChanged")}function d(t,n){!t||t.isSelected||t.isDisabled()||p.contains(t)&&(angular.isDefined(n)||(n=g(t)<e.selectedIndex),m(r(),n),e.selectedIndex=g(t),t.isSelected=!0,t.onSelect(n),e.$broadcast("$mdTabsChanged"))}function l(e){h.tabToFocus=e}function m(t,n){t&&t.isSelected&&p.contains(t)&&(e.selectedIndex=-1,t.isSelected=!1,t.onDeselect(n))}function u(e,t){return p.next(e||r(),t||f)}function s(e,t){return p.previous(e||r(),t||f)}function f(e){return e&&!e.isDisabled()}var p=n.iterator([],!1),h=this;h.$element=t,h.scope=e;var g=(h.contentArea=angular.element(t[0].querySelector(".md-tabs-content")),h.inRange=p.inRange,h.indexOf=p.indexOf),b=h.itemAt=p.itemAt;h.count=p.count,h.getSelectedItem=r,h.getSelectedIndex=o,h.add=a,h.remove=i,h.move=c,h.select=d,h.focus=l,h.deselect=m,h.next=u,h.previous=s,e.$on("$destroy",function(){m(r());for(var e=p.count()-1;e>=0;e--)i(p[e],!0)})}angular.module("material.components.tabs").controller("$mdTabs",e),e.$inject=["$scope","$element","$mdUtil","$timeout"]}(),function(){"use strict";function e(e){function t(t,n,r,o,a){function i(){n.attr("role","tablist")}function c(){t.$watch("selectedIndex",function(e,t){if(t!=e){var n=t>e;if(o.deselect(o.itemAt(t),n),o.inRange(e)){for(var r=o.itemAt(e);r&&r.isDisabled();)r=e>t?o.next(r):o.previous(r);o.select(r,n)}}})}t.stretchTabs=r.hasOwnProperty("mdStretchTabs")?r.mdStretchTabs||"always":"auto",e(n),i(),c(),a(t.$parent,function(e){angular.element(n[0].querySelector(".md-header-items")).append(e)})}return{restrict:"E",controller:"$mdTabs",require:"mdTabs",transclude:!0,scope:{selectedIndex:"=?mdSelected"},template:'<section class="md-header" ng-class="{\'md-paginating\': pagination.active}"><button class="md-paginator md-prev" ng-if="pagination.active && pagination.hasPrev" ng-click="pagination.clickPrevious()" aria-hidden="true"></button><div class="md-header-items-container" md-tabs-pagination><div class="md-header-items"><md-tabs-ink-bar></md-tabs-ink-bar></div></div><button class="md-paginator md-next" ng-if="pagination.active && pagination.hasNext" ng-click="pagination.clickNext()" aria-hidden="true"></button></section><section class="md-tabs-content"></section>',link:t}
}angular.module("material.components.tabs").directive("mdTabs",e),e.$inject=["$mdTheming"]}(),angular.module("material.core").constant("$MD_THEME_CSS","md-autocomplete {  background: '{{background-50}}'; }  md-autocomplete button {    background: '{{background-200}}'; }  md-autocomplete ul {    background: '{{background-50}}'; }    md-autocomplete ul li {      border-top: 1px solid '{{background-400}}';      color: '{{background-900}}'; }      md-autocomplete ul li .highlight {        color: '{{background-600}}'; }      md-autocomplete ul li:hover, md-autocomplete ul li.selected {        background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-toolbar .md-button.md-THEME_NAME-theme.md-fab {  background-color: white; }.md-button.md-THEME_NAME-theme {  border-radius: 3px; }  .md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):focus {    background-color: '{{background-500-0.2}}'; }  .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):focus {        background-color: '{{primary-600}}'; }  .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):focus {      background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):focus {      background-color: '{{background-200}}'; }  .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):focus {        background-color: '{{warn-700}}'; }  .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):focus {        background-color: '{{accent-700}}'; }  .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    color: '{{foreground-3}}';    background-color: transparent;    cursor: not-allowed; }md-card.md-THEME_NAME-theme {  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-hue-3}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-4}}' 0%, '{{foreground-4}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-4}}' 100%); }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {  border-color: '{{foreground-3}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {  border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme:focus:not(:empty) {  border-color: '{{foreground-1}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-hue-3}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-switch.md-THEME_NAME-theme:focus .md-label:not(:empty) {  border-color: '{{foreground-1}}';  border-style: dotted; }md-tabs.md-THEME_NAME-theme .md-header {  background-color: transparent; }md-tabs.md-THEME_NAME-theme.md-accent .md-header {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]).active {    color: '{{accent-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary .md-header {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]).active {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:focus {    color: '{{primary-contrast}}';    background-color: '{{primary-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab.active {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab .md-ripple-container {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-warn .md-header {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]).active {    color: '{{warn-contrast}}'; }md-tabs.md-THEME_NAME-theme md-tabs-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme md-tab:focus {    color: '{{foreground-1}}'; }  md-tabs.md-THEME_NAME-theme md-tab.active {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  text-shadow: '{{foreground-shadow}}'; }  md-input-group.md-THEME_NAME-theme input::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme input::-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-ms-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme label {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused input, md-input-group.md-THEME_NAME-theme.md-input-focused textarea {  border-color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused label {  color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent input, md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent textarea {  border-color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-has-value:not(.md-input-focused) label {  color: '{{foreground-2}}'; }md-input-group.md-THEME_NAME-theme .md-input[disabled] {  border-bottom-color: '{{foreground-4}}';  color: '{{foreground-3}}'; }md-toast.md-THEME_NAME-theme {  background-color: '{{foreground-1}}';  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIuanMiLCJhbmd1bGFyLWFyaWEuanMiLCJhbmd1bGFyLWFuaW1hdGUuanMiLCJhbmd1bGFyLW1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwibWluRXJyIiwibW9kdWxlIiwiRXJyb3JDb25zdHJ1Y3RvciIsIkVycm9yIiwibWVzc2FnZSIsImkiLCJjb2RlIiwiYXJndW1lbnRzIiwicHJlZml4IiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZUFyZ3MiLCJyZXBsYWNlIiwibWF0Y2giLCJpbmRleCIsInNsaWNlIiwibGVuZ3RoIiwidG9EZWJ1Z1N0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzQXJyYXlMaWtlIiwib2JqIiwiaXNXaW5kb3ciLCJub2RlVHlwZSIsIk5PREVfVFlQRV9FTEVNRU5UIiwiaXNTdHJpbmciLCJpc0FycmF5IiwiZm9yRWFjaCIsIml0ZXJhdG9yIiwiY29udGV4dCIsImtleSIsImlzRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpc1ByaW1pdGl2ZSIsInNvcnRlZEtleXMiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImZvckVhY2hTb3J0ZWQiLCJyZXZlcnNlUGFyYW1zIiwiaXRlcmF0b3JGbiIsInZhbHVlIiwibmV4dFVpZCIsInVpZCIsInNldEhhc2hLZXkiLCJoIiwiJCRoYXNoS2V5IiwiZXh0ZW5kIiwiZHN0IiwiaWkiLCJqIiwiamoiLCJpbnQiLCJzdHIiLCJwYXJzZUludCIsImluaGVyaXQiLCJwYXJlbnQiLCJleHRyYSIsImNyZWF0ZSIsIm5vb3AiLCJpZGVudGl0eSIsIiQiLCJ2YWx1ZUZuIiwiaXNVbmRlZmluZWQiLCJpc0RlZmluZWQiLCJpc09iamVjdCIsImlzTnVtYmVyIiwiaXNEYXRlIiwidG9TdHJpbmciLCJpc1JlZ0V4cCIsImlzU2NvcGUiLCIkZXZhbEFzeW5jIiwiJHdhdGNoIiwiaXNGaWxlIiwiaXNGb3JtRGF0YSIsImlzQmxvYiIsImlzQm9vbGVhbiIsImlzUHJvbWlzZUxpa2UiLCJ0aGVuIiwiaXNFbGVtZW50Iiwibm9kZSIsIm5vZGVOYW1lIiwicHJvcCIsImF0dHIiLCJmaW5kIiwibWFrZU1hcCIsIml0ZW1zIiwic3BsaXQiLCJub2RlTmFtZV8iLCJlbGVtZW50IiwibG93ZXJjYXNlIiwiYXJyYXlSZW1vdmUiLCJhcnJheSIsImluZGV4T2YiLCJzcGxpY2UiLCJjb3B5Iiwic291cmNlIiwiZGVzdGluYXRpb24iLCJzdGFja1NvdXJjZSIsInN0YWNrRGVzdCIsIm5nTWluRXJyIiwicHVzaCIsInJlc3VsdCIsIkRhdGUiLCJnZXRUaW1lIiwiUmVnRXhwIiwibGFzdEluZGV4IiwiZW1wdHlPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInNoYWxsb3dDb3B5Iiwic3JjIiwiY2hhckF0IiwiZXF1YWxzIiwibzEiLCJvMiIsImtleVNldCIsInQxIiwidDIiLCJjb25jYXQiLCJhcnJheTEiLCJhcnJheTIiLCJzbGljZUFyZ3MiLCJhcmdzIiwic3RhcnRJbmRleCIsImJpbmQiLCJzZWxmIiwiZm4iLCJjdXJyeUFyZ3MiLCJhcHBseSIsInRvSnNvblJlcGxhY2VyIiwidmFsIiwidG9Kc29uIiwicHJldHR5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZyb21Kc29uIiwianNvbiIsInBhcnNlIiwic3RhcnRpbmdUYWciLCJqcUxpdGUiLCJjbG9uZSIsImVtcHR5IiwiZSIsImVsZW1IdG1sIiwiYXBwZW5kIiwiaHRtbCIsIk5PREVfVFlQRV9URVhUIiwidHJ5RGVjb2RlVVJJQ29tcG9uZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VLZXlWYWx1ZSIsImtleVZhbHVlIiwia2V5X3ZhbHVlIiwidG9LZXlWYWx1ZSIsInBhcnRzIiwiYXJyYXlWYWx1ZSIsImVuY29kZVVyaVF1ZXJ5Iiwiam9pbiIsImVuY29kZVVyaVNlZ21lbnQiLCJwY3RFbmNvZGVTcGFjZXMiLCJnZXROZ0F0dHJpYnV0ZSIsIm5nQXR0ciIsIm5nQXR0clByZWZpeGVzIiwiYW5ndWxhckluaXQiLCJib290c3RyYXAiLCJhcHBFbGVtZW50IiwiY29uZmlnIiwibmFtZSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImNhbmRpZGF0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHJpY3REaSIsIm1vZHVsZXMiLCJkZWZhdWx0Q29uZmlnIiwiZG9Cb290c3RyYXAiLCJpbmplY3RvciIsInRhZyIsInVuc2hpZnQiLCIkcHJvdmlkZSIsImRlYnVnSW5mb0VuYWJsZWQiLCIkY29tcGlsZVByb3ZpZGVyIiwiY3JlYXRlSW5qZWN0b3IiLCJpbnZva2UiLCJzY29wZSIsImNvbXBpbGUiLCIkYXBwbHkiLCJkYXRhIiwiTkdfRU5BQkxFX0RFQlVHX0lORk8iLCJOR19ERUZFUl9CT09UU1RSQVAiLCJ0ZXN0IiwiYW5ndWxhciIsInJlc3VtZUJvb3RzdHJhcCIsImV4dHJhTW9kdWxlcyIsInJlc3VtZURlZmVycmVkQm9vdHN0cmFwIiwicmVsb2FkV2l0aERlYnVnSW5mbyIsImxvY2F0aW9uIiwicmVsb2FkIiwiZ2V0VGVzdGFiaWxpdHkiLCJyb290RWxlbWVudCIsImdldCIsInNuYWtlX2Nhc2UiLCJzZXBhcmF0b3IiLCJTTkFLRV9DQVNFX1JFR0VYUCIsImxldHRlciIsInBvcyIsInRvTG93ZXJDYXNlIiwiYmluZEpRdWVyeSIsIm9yaWdpbmFsQ2xlYW5EYXRhIiwiYmluZEpRdWVyeUZpcmVkIiwialF1ZXJ5Iiwib24iLCJKUUxpdGVQcm90b3R5cGUiLCJpc29sYXRlU2NvcGUiLCJjb250cm9sbGVyIiwiaW5oZXJpdGVkRGF0YSIsImNsZWFuRGF0YSIsImVsZW1zIiwiZXZlbnRzIiwic2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEiLCJlbGVtIiwiX2RhdGEiLCIkZGVzdHJveSIsInRyaWdnZXJIYW5kbGVyIiwiSlFMaXRlIiwiYXNzZXJ0QXJnIiwiYXJnIiwicmVhc29uIiwiYXNzZXJ0QXJnRm4iLCJhY2NlcHRBcnJheUFubm90YXRpb24iLCJjb25zdHJ1Y3RvciIsImFzc2VydE5vdEhhc093blByb3BlcnR5IiwiZ2V0dGVyIiwicGF0aCIsImJpbmRGblRvU2NvcGUiLCJsYXN0SW5zdGFuY2UiLCJsZW4iLCJnZXRCbG9ja05vZGVzIiwibm9kZXMiLCJlbmROb2RlIiwiYmxvY2tOb2RlcyIsIm5leHRTaWJsaW5nIiwiY3JlYXRlTWFwIiwic2V0dXBNb2R1bGVMb2FkZXIiLCJlbnN1cmUiLCJmYWN0b3J5IiwiJGluamVjdG9yTWluRXJyIiwiJCRtaW5FcnIiLCJyZXF1aXJlcyIsImNvbmZpZ0ZuIiwiaW52b2tlTGF0ZXIiLCJwcm92aWRlciIsIm1ldGhvZCIsImluc2VydE1ldGhvZCIsInF1ZXVlIiwiaW52b2tlUXVldWUiLCJtb2R1bGVJbnN0YW5jZSIsImNvbmZpZ0Jsb2NrcyIsInJ1bkJsb2NrcyIsIl9pbnZva2VRdWV1ZSIsIl9jb25maWdCbG9ja3MiLCJfcnVuQmxvY2tzIiwic2VydmljZSIsImNvbnN0YW50IiwiYW5pbWF0aW9uIiwiZmlsdGVyIiwiZGlyZWN0aXZlIiwicnVuIiwiYmxvY2siLCJ0aGlzIiwic2VyaWFsaXplT2JqZWN0Iiwic2VlbiIsInB1Ymxpc2hFeHRlcm5hbEFQSSIsInZlcnNpb24iLCJ1cHBlcmNhc2UiLCJjYWxsYmFja3MiLCJjb3VudGVyIiwiJCRjc3AiLCJjc3AiLCJhbmd1bGFyTW9kdWxlIiwiJExvY2FsZVByb3ZpZGVyIiwiJCRzYW5pdGl6ZVVyaSIsIiQkU2FuaXRpemVVcmlQcm92aWRlciIsIiRDb21waWxlUHJvdmlkZXIiLCJhIiwiaHRtbEFuY2hvckRpcmVjdGl2ZSIsImlucHV0IiwiaW5wdXREaXJlY3RpdmUiLCJ0ZXh0YXJlYSIsImZvcm0iLCJmb3JtRGlyZWN0aXZlIiwic2NyaXB0Iiwic2NyaXB0RGlyZWN0aXZlIiwic2VsZWN0Iiwic2VsZWN0RGlyZWN0aXZlIiwic3R5bGUiLCJzdHlsZURpcmVjdGl2ZSIsIm9wdGlvbiIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZCIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWwiLCJuZ0JpbmRIdG1sRGlyZWN0aXZlIiwibmdCaW5kVGVtcGxhdGUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3MiLCJuZ0NsYXNzRGlyZWN0aXZlIiwibmdDbGFzc0V2ZW4iLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGQiLCJuZ0NsYXNzT2RkRGlyZWN0aXZlIiwibmdDbG9hayIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXIiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0Zvcm0iLCJuZ0Zvcm1EaXJlY3RpdmUiLCJuZ0hpZGUiLCJuZ0hpZGVEaXJlY3RpdmUiLCJuZ0lmIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGUiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdQbHVyYWxpemUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0IiwibmdSZXBlYXREaXJlY3RpdmUiLCJuZ1Nob3ciLCJuZ1Nob3dEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJuZ1N3aXRjaFdoZW4iLCJuZ1N3aXRjaFdoZW5EaXJlY3RpdmUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ09wdGlvbnMiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGUiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJuZ01vZGVsIiwibmdNb2RlbERpcmVjdGl2ZSIsIm5nTGlzdCIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nQ2hhbmdlIiwibmdDaGFuZ2VEaXJlY3RpdmUiLCJwYXR0ZXJuIiwicGF0dGVybkRpcmVjdGl2ZSIsIm5nUGF0dGVybiIsInJlcXVpcmVkIiwicmVxdWlyZWREaXJlY3RpdmUiLCJuZ1JlcXVpcmVkIiwibWlubGVuZ3RoIiwibWlubGVuZ3RoRGlyZWN0aXZlIiwibmdNaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJtYXhsZW5ndGhEaXJlY3RpdmUiLCJuZ01heGxlbmd0aCIsIm5nVmFsdWUiLCJuZ1ZhbHVlRGlyZWN0aXZlIiwibmdNb2RlbE9wdGlvbnMiLCJuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSIsIm5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlIiwibmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMiLCJuZ0V2ZW50RGlyZWN0aXZlcyIsIiRhbmNob3JTY3JvbGwiLCIkQW5jaG9yU2Nyb2xsUHJvdmlkZXIiLCIkYW5pbWF0ZSIsIiRBbmltYXRlUHJvdmlkZXIiLCIkYnJvd3NlciIsIiRCcm93c2VyUHJvdmlkZXIiLCIkY2FjaGVGYWN0b3J5IiwiJENhY2hlRmFjdG9yeVByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiJGRvY3VtZW50IiwiJERvY3VtZW50UHJvdmlkZXIiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIiLCIkZmlsdGVyIiwiJEZpbHRlclByb3ZpZGVyIiwiJGludGVycG9sYXRlIiwiJEludGVycG9sYXRlUHJvdmlkZXIiLCIkaW50ZXJ2YWwiLCIkSW50ZXJ2YWxQcm92aWRlciIsIiRodHRwIiwiJEh0dHBQcm92aWRlciIsIiRodHRwQmFja2VuZCIsIiRIdHRwQmFja2VuZFByb3ZpZGVyIiwiJGxvY2F0aW9uIiwiJExvY2F0aW9uUHJvdmlkZXIiLCIkbG9nIiwiJExvZ1Byb3ZpZGVyIiwiJHBhcnNlIiwiJFBhcnNlUHJvdmlkZXIiLCIkcm9vdFNjb3BlIiwiJFJvb3RTY29wZVByb3ZpZGVyIiwiJHEiLCIkUVByb3ZpZGVyIiwiJCRxIiwiJCRRUHJvdmlkZXIiLCIkc2NlIiwiJFNjZVByb3ZpZGVyIiwiJHNjZURlbGVnYXRlIiwiJFNjZURlbGVnYXRlUHJvdmlkZXIiLCIkc25pZmZlciIsIiRTbmlmZmVyUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyIiwiJCR0ZXN0YWJpbGl0eSIsIiQkVGVzdGFiaWxpdHlQcm92aWRlciIsIiR0aW1lb3V0IiwiJFRpbWVvdXRQcm92aWRlciIsIiR3aW5kb3ciLCIkV2luZG93UHJvdmlkZXIiLCIkJHJBRiIsIiQkUkFGUHJvdmlkZXIiLCIkJGFzeW5jQ2FsbGJhY2siLCIkJEFzeW5jQ2FsbGJhY2tQcm92aWRlciIsIiQkanFMaXRlIiwiJCRqcUxpdGVQcm92aWRlciIsImpxTmV4dElkIiwianFJZCIsImNhbWVsQ2FzZSIsIlNQRUNJQUxfQ0hBUlNfUkVHRVhQIiwiXyIsIm9mZnNldCIsInRvVXBwZXJDYXNlIiwiTU9aX0hBQ0tfUkVHRVhQIiwianFMaXRlSXNUZXh0Tm9kZSIsIkhUTUxfUkVHRVhQIiwianFMaXRlQWNjZXB0c0RhdGEiLCJOT0RFX1RZUEVfRE9DVU1FTlQiLCJqcUxpdGVCdWlsZEZyYWdtZW50IiwidG1wIiwid3JhcCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZVRleHROb2RlIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiVEFHX05BTUVfUkVHRVhQIiwiZXhlYyIsIndyYXBNYXAiLCJfZGVmYXVsdCIsImlubmVySFRNTCIsIlhIVE1MX1RBR19SRUdFWFAiLCJsYXN0Q2hpbGQiLCJjaGlsZE5vZGVzIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwianFMaXRlUGFyc2VIVE1MIiwicGFyc2VkIiwiU0lOR0xFX1RBR19SRUdFWFAiLCJhcmdJc1N0cmluZyIsInRyaW0iLCJqcUxpdGVNaW5FcnIiLCJqcUxpdGVBZGROb2RlcyIsImpxTGl0ZUNsb25lIiwiY2xvbmVOb2RlIiwianFMaXRlRGVhbG9jIiwib25seURlc2NlbmRhbnRzIiwianFMaXRlUmVtb3ZlRGF0YSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZXNjZW5kYW50cyIsImwiLCJqcUxpdGVPZmYiLCJ0eXBlIiwidW5zdXBwb3J0ZWQiLCJleHBhbmRvU3RvcmUiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJoYW5kbGUiLCJsaXN0ZW5lckZucyIsInJlbW92ZUV2ZW50TGlzdGVuZXJGbiIsImV4cGFuZG9JZCIsIm5nMzM5IiwianFDYWNoZSIsImNyZWF0ZUlmTmVjZXNzYXJ5IiwianFMaXRlRGF0YSIsImlzU2ltcGxlU2V0dGVyIiwiaXNTaW1wbGVHZXR0ZXIiLCJtYXNzR2V0dGVyIiwianFMaXRlSGFzQ2xhc3MiLCJzZWxlY3RvciIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsInNldEF0dHJpYnV0ZSIsImNzc0NsYXNzIiwianFMaXRlQWRkQ2xhc3MiLCJleGlzdGluZ0NsYXNzZXMiLCJyb290IiwiZWxlbWVudHMiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsImRvY3VtZW50RWxlbWVudCIsIm5hbWVzIiwicGFyZW50Tm9kZSIsIk5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCIsImhvc3QiLCJqcUxpdGVFbXB0eSIsInJlbW92ZUNoaWxkIiwianFMaXRlUmVtb3ZlIiwia2VlcERhdGEiLCJqcUxpdGVEb2N1bWVudExvYWRlZCIsImFjdGlvbiIsIndpbiIsInJlYWR5U3RhdGUiLCJzZXRUaW1lb3V0IiwiZ2V0Qm9vbGVhbkF0dHJOYW1lIiwiYm9vbGVhbkF0dHIiLCJCT09MRUFOX0FUVFIiLCJCT09MRUFOX0VMRU1FTlRTIiwiZ2V0QWxpYXNlZEF0dHJOYW1lIiwiQUxJQVNFRF9BVFRSIiwiY3JlYXRlRXZlbnRIYW5kbGVyIiwiZXZlbnRIYW5kbGVyIiwiZXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRGbnMiLCJldmVudEZuc0xlbmd0aCIsImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIm9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCIkZ2V0IiwiaGFzQ2xhc3MiLCJjbGFzc2VzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwiSGFzaE1hcCIsImlzb2xhdGVkVWlkIiwicHV0IiwiYW5vbkZuIiwiZm5UZXh0IiwiU1RSSVBfQ09NTUVOVFMiLCJGTl9BUkdTIiwiYW5ub3RhdGUiLCIkaW5qZWN0IiwiYXJnRGVjbCIsImxhc3QiLCJGTl9BUkdfU1BMSVQiLCJGTl9BUkciLCJhbGwiLCJ1bmRlcnNjb3JlIiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJkZWxlZ2F0ZSIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsInByb3ZpZGVyQ2FjaGUiLCJwcm92aWRlclN1ZmZpeCIsImVuZm9yY2VSZXR1cm5WYWx1ZSIsImluc3RhbmNlSW5qZWN0b3IiLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwiJGluamVjdG9yIiwiaW5zdGFuY2VDYWNoZSIsImRlY29yYXRvciIsInNlcnZpY2VOYW1lIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ0luc3RhbmNlIiwiJGRlbGVnYXRlIiwibG9hZE1vZHVsZXMiLCJtb2R1bGVGbiIsInJ1bkludm9rZVF1ZXVlIiwiaW52b2tlQXJncyIsImxvYWRlZE1vZHVsZXMiLCJzdGFjayIsImNyZWF0ZUludGVybmFsSW5qZWN0b3IiLCJjYWNoZSIsImdldFNlcnZpY2UiLCJjYWxsZXIiLCJJTlNUQU5USUFUSU5HIiwiZXJyIiwic2hpZnQiLCJsb2NhbHMiLCIkJGFubm90YXRlIiwiVHlwZSIsImluc3RhbmNlIiwicHJvdG90eXBlIiwicmV0dXJuZWRWYWx1ZSIsImhhcyIsImF1dG9TY3JvbGxpbmdFbmFibGVkIiwiZGlzYWJsZUF1dG9TY3JvbGxpbmciLCJnZXRGaXJzdEFuY2hvciIsImxpc3QiLCJBcnJheSIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsImdldENvbXB1dGVkU3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsInNjcm9sbFRvIiwic2Nyb2xsSW50b1ZpZXciLCJlbGVtVG9wIiwidG9wIiwic2Nyb2xsQnkiLCJlbG0iLCJoYXNoIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5TmFtZSIsIm5ld1ZhbCIsIm9sZFZhbCIsInN1cHBvcnRlZCIsIkJyb3dzZXIiLCJjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIm91dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzIiwicG9wIiwiZXJyb3IiLCJnZXRIYXNoIiwidXJsIiwic3Vic3RyIiwic3RhcnRQb2xsZXIiLCJpbnRlcnZhbCIsImNoZWNrIiwicG9sbEZucyIsInBvbGxGbiIsInBvbGxUaW1lb3V0IiwiY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UiLCJjYWNoZVN0YXRlIiwiZmlyZVVybENoYW5nZSIsImNhY2hlZFN0YXRlIiwiaGlzdG9yeSIsInN0YXRlIiwibGFzdENhY2hlZFN0YXRlIiwibGFzdEJyb3dzZXJVcmwiLCJsYXN0SGlzdG9yeVN0YXRlIiwidXJsQ2hhbmdlTGlzdGVuZXJzIiwibGlzdGVuZXIiLCJzYWZlRGVjb2RlVVJJQ29tcG9uZW50IiwicmF3RG9jdW1lbnQiLCJjbGVhclRpbWVvdXQiLCJwZW5kaW5nRGVmZXJJZHMiLCJpc01vY2siLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0IiwiJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMiLCJjYWxsYmFjayIsImFkZFBvbGxGbiIsImhyZWYiLCJiYXNlRWxlbWVudCIsInJlbG9hZExvY2F0aW9uIiwic2FtZVN0YXRlIiwic2FtZUJhc2UiLCJzdHJpcEhhc2giLCJ1cmxDaGFuZ2VJbml0Iiwib25VcmxDaGFuZ2UiLCIkJGNoZWNrVXJsQ2hhbmdlIiwiYmFzZUhyZWYiLCJsYXN0Q29va2llcyIsImxhc3RDb29raWVTdHJpbmciLCJjb29raWVQYXRoIiwiY29va2llcyIsImNvb2tpZUxlbmd0aCIsImNvb2tpZUFycmF5IiwiY29va2llIiwic3Vic3RyaW5nIiwid2FybiIsImRlZmVyIiwiZGVsYXkiLCJ0aW1lb3V0SWQiLCJjYW5jZWwiLCJkZWZlcklkIiwiY2FjaGVGYWN0b3J5IiwiY2FjaGVJZCIsIm9wdGlvbnMiLCJyZWZyZXNoIiwiZW50cnkiLCJmcmVzaEVuZCIsInN0YWxlRW5kIiwibiIsImxpbmsiLCJwIiwibmV4dEVudHJ5IiwicHJldkVudHJ5IiwiY2FjaGVzIiwic2l6ZSIsInN0YXRzIiwiaWQiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJscnVFbnRyeSIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJpbmZvIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIiwicGFyc2VJc29sYXRlQmluZGluZ3MiLCJkaXJlY3RpdmVOYW1lIiwiTE9DQUxfUkVHRVhQIiwiYmluZGluZ3MiLCJkZWZpbml0aW9uIiwic2NvcGVOYW1lIiwiJGNvbXBpbGVNaW5FcnIiLCJtb2RlIiwiY29sbGVjdGlvbiIsIm9wdGlvbmFsIiwiYXR0ck5hbWUiLCJoYXNEaXJlY3RpdmVzIiwiU3VmZml4IiwiQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQIiwiQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCIsIkFMTF9PUl9OT1RISU5HX0FUVFJTIiwiUkVRVUlSRV9QUkVGSVhfUkVHRVhQIiwiRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCIsInJlZ2lzdGVyRGlyZWN0aXZlIiwiZGlyZWN0aXZlRmFjdG9yeSIsImRpcmVjdGl2ZXMiLCJwcmlvcml0eSIsInJlcXVpcmUiLCJyZXN0cmljdCIsIiQkaXNvbGF0ZUJpbmRpbmdzIiwiYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJyZWdleHAiLCJpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJlbmFibGVkIiwic2FmZUFkZENsYXNzIiwiJGVsZW1lbnQiLCJjbGFzc05hbWUiLCIkY29tcGlsZU5vZGVzIiwidHJhbnNjbHVkZUZuIiwibWF4UHJpb3JpdHkiLCJpZ25vcmVEaXJlY3RpdmUiLCJwcmV2aW91c0NvbXBpbGVDb250ZXh0Iiwibm9kZVZhbHVlIiwiY29tcG9zaXRlTGlua0ZuIiwiY29tcGlsZU5vZGVzIiwiJCRhZGRTY29wZUNsYXNzIiwibmFtZXNwYWNlIiwiY2xvbmVDb25uZWN0Rm4iLCJwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVDb250cm9sbGVycyIsImZ1dHVyZVBhcmVudEVsZW1lbnQiLCIkJGJvdW5kVHJhbnNjbHVkZSIsImRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMiLCIkbGlua05vZGUiLCJ3cmFwVGVtcGxhdGUiLCJjb250cm9sbGVyTmFtZSIsIiQkYWRkU2NvcGVJbmZvIiwicGFyZW50RWxlbWVudCIsIm5vZGVMaXN0IiwiJHJvb3RFbGVtZW50Iiwibm9kZUxpbmtGbiIsImNoaWxkTGlua0ZuIiwiY2hpbGRTY29wZSIsImlkeCIsImNoaWxkQm91bmRUcmFuc2NsdWRlRm4iLCJzdGFibGVOb2RlTGlzdCIsIm5vZGVMaW5rRm5Gb3VuZCIsIm5vZGVMaXN0TGVuZ3RoIiwibGlua0ZucyIsIiRuZXciLCJ0cmFuc2NsdWRlT25UaGlzRWxlbWVudCIsImNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZSIsImVsZW1lbnRUcmFuc2NsdWRlT25UaGlzRWxlbWVudCIsInRlbXBsYXRlT25UaGlzRWxlbWVudCIsImF0dHJzIiwibGlua0ZuRm91bmQiLCJBdHRyaWJ1dGVzIiwiY29sbGVjdERpcmVjdGl2ZXMiLCJhcHBseURpcmVjdGl2ZXNUb05vZGUiLCIkJGVsZW1lbnQiLCJ0ZXJtaW5hbCIsInByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4iLCJib3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVkU2NvcGUiLCJjbG9uZUZuIiwiY29udHJvbGxlcnMiLCJjb250YWluaW5nU2NvcGUiLCIkJHRyYW5zY2x1ZGVkIiwiYXR0cnNNYXAiLCIkYXR0ciIsImFkZERpcmVjdGl2ZSIsImRpcmVjdGl2ZU5vcm1hbGl6ZSIsIm5OYW1lIiwibmdBdHRyTmFtZSIsImlzTmdBdHRyIiwibkF0dHJzIiwiYXR0cmlidXRlcyIsImF0dHJTdGFydE5hbWUiLCJhdHRyRW5kTmFtZSIsIk5HX0FUVFJfQklORElORyIsIlBSRUZJWF9SRUdFWFAiLCJkaXJlY3RpdmVOTmFtZSIsImRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50IiwiYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlIiwiYW5pbVZhbCIsImFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsIk5PREVfVFlQRV9DT01NRU5UIiwiYnlQcmlvcml0eSIsImdyb3VwU2NhbiIsImF0dHJTdGFydCIsImF0dHJFbmQiLCJkZXB0aCIsImdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyIiwibGlua0ZuIiwiY29tcGlsZU5vZGUiLCJ0ZW1wbGF0ZUF0dHJzIiwianFDb2xsZWN0aW9uIiwib3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIiwicHJlTGlua0ZucyIsInBvc3RMaW5rRm5zIiwiYWRkTGlua0ZucyIsInByZSIsInBvc3QiLCJuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUiLCIkJGlzb2xhdGVTY29wZSIsImNsb25lQW5kQW5ub3RhdGVGbiIsImdldENvbnRyb2xsZXJzIiwiZWxlbWVudENvbnRyb2xsZXJzIiwicmV0cmlldmFsTWV0aG9kIiwiJHNlYXJjaEVsZW1lbnQiLCJsaW5rTm9kZSIsImNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlIiwiY2xvbmVBdHRhY2hGbiIsImhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlIiwic2NvcGVUb0NoaWxkIiwiY29udHJvbGxlckRpcmVjdGl2ZXMiLCJjb250cm9sbGVySW5zdGFuY2UiLCIkc2NvcGUiLCIkYXR0cnMiLCIkdHJhbnNjbHVkZSIsImNvbnRyb2xsZXJBcyIsInRlbXBsYXRlRGlyZWN0aXZlIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsImlzb2xhdGVTY29wZUNvbnRyb2xsZXIiLCJpc29sYXRlQmluZGluZ0NvbnRleHQiLCJpZGVudGlmaWVyIiwiYmluZFRvQ29udHJvbGxlciIsImxhc3RWYWx1ZSIsInBhcmVudEdldCIsInBhcmVudFNldCIsImNvbXBhcmUiLCIkb2JzZXJ2ZSIsIiQkb2JzZXJ2ZXJzIiwiJCRzY29wZSIsImxpdGVyYWwiLCJiIiwiYXNzaWduIiwicGFyZW50VmFsdWVXYXRjaCIsInBhcmVudFZhbHVlIiwiJHN0YXRlZnVsIiwidW53YXRjaCIsIiR3YXRjaENvbGxlY3Rpb24iLCIkb24iLCJpbnZva2VMaW5rRm4iLCJ0ZW1wbGF0ZVVybCIsIm5ld1Njb3BlRGlyZWN0aXZlIiwiJHRlbXBsYXRlIiwiZGlyZWN0aXZlVmFsdWUiLCJ0ZXJtaW5hbFByaW9yaXR5Iiwibm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUZW1wbGF0ZSIsIiRjb21waWxlTm9kZSIsInJlcGxhY2VEaXJlY3RpdmUiLCJjaGlsZFRyYW5zY2x1ZGVGbiIsIiQkc3RhcnQiLCIkJGVuZCIsImFzc2VydE5vRHVwbGljYXRlIiwiJCR0bGIiLCJjcmVhdGVDb21tZW50IiwicmVwbGFjZVdpdGgiLCJjb250ZW50cyIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJyZW1vdmVDb21tZW50cyIsInRlbXBsYXRlTmFtZXNwYWNlIiwibmV3VGVtcGxhdGVBdHRycyIsInRlbXBsYXRlRGlyZWN0aXZlcyIsInVucHJvY2Vzc2VkRGlyZWN0aXZlcyIsIm1hcmtEaXJlY3RpdmVzQXNJc29sYXRlIiwibWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMiLCJjb21waWxlVGVtcGxhdGVVcmwiLCJNYXRoIiwibWF4IiwidERpcmVjdGl2ZXMiLCJzdGFydEF0dHJOYW1lIiwiZW5kQXR0ck5hbWUiLCJtdWx0aUVsZW1lbnQiLCJzcmNBdHRyIiwiZHN0QXR0ciIsIiRzZXQiLCJ0QXR0cnMiLCJhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiIsImFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiIsImxpbmtRdWV1ZSIsImJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUiLCJvcmlnQXN5bmNEaXJlY3RpdmUiLCJkZXJpdmVkU3luY0RpcmVjdGl2ZSIsImdldFRydXN0ZWRSZXNvdXJjZVVybCIsImNvbnRlbnQiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCIkJGRlc3Ryb3llZCIsIm9sZENsYXNzZXMiLCJpZ25vcmVDaGlsZExpbmtGbiIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ0ZXh0IiwiaW50ZXJwb2xhdGVGbiIsInRlbXBsYXRlTm9kZSIsInRlbXBsYXRlTm9kZVBhcmVudCIsImhhc0NvbXBpbGVQYXJlbnQiLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkQmluZGluZ0luZm8iLCJleHByZXNzaW9ucyIsIndyYXBwZXIiLCJnZXRUcnVzdGVkQ29udGV4dCIsImF0dHJOb3JtYWxpemVkTmFtZSIsIkhUTUwiLCJSRVNPVVJDRV9VUkwiLCJhbGxPck5vdGhpbmciLCJ0cnVzdGVkQ29udGV4dCIsIm5ld1ZhbHVlIiwiJCRpbnRlciIsIm9sZFZhbHVlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJyZXBsYWNlQ2hpbGQiLCJleHBhbmRvIiwiayIsImtrIiwiYW5ub3RhdGlvbiIsImF0dHJpYnV0ZXNUb0NvcHkiLCIkbm9ybWFsaXplIiwiJGFkZENsYXNzIiwiY2xhc3NWYWwiLCIkcmVtb3ZlQ2xhc3MiLCJuZXdDbGFzc2VzIiwidG9BZGQiLCJ0b2tlbkRpZmZlcmVuY2UiLCJ0b1JlbW92ZSIsIndyaXRlQXR0ciIsImJvb2xlYW5LZXkiLCJhbGlhc2VkS2V5Iiwib2JzZXJ2ZXIiLCJ0cmltbWVkU3Jjc2V0Iiwic3JjUGF0dGVybiIsInJhd1VyaXMiLCJuYnJVcmlzV2l0aDJwYXJ0cyIsImZsb29yIiwiaW5uZXJJZHgiLCJsYXN0VHVwbGUiLCJyZW1vdmVBdHRyIiwibGlzdGVuZXJzIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJiaW5kaW5nIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwiZGF0YU5hbWUiLCJzdHIxIiwic3RyMiIsInZhbHVlcyIsInRva2VuczEiLCJ0b2tlbnMyIiwib3V0ZXIiLCJ0b2tlbiIsImpxTm9kZXMiLCJnbG9iYWxzIiwiQ05UUkxfUkVHIiwicmVnaXN0ZXIiLCJhbGxvd0dsb2JhbHMiLCJhZGRJZGVudGlmaWVyIiwiZXhwcmVzc2lvbiIsImxhdGVyIiwiaWRlbnQiLCIkY29udHJvbGxlck1pbkVyciIsImNvbnRyb2xsZXJQcm90b3R5cGUiLCJkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtIiwiaGVhZGVycyIsInRlbXBEYXRhIiwiSlNPTl9QUk9URUNUSU9OX1BSRUZJWCIsImNvbnRlbnRUeXBlIiwiQVBQTElDQVRJT05fSlNPTiIsImlzSnNvbkxpa2UiLCJqc29uU3RhcnQiLCJKU09OX1NUQVJUIiwiSlNPTl9FTkRTIiwicGFyc2VIZWFkZXJzIiwibGluZSIsImhlYWRlcnNHZXR0ZXIiLCJoZWFkZXJzT2JqIiwidHJhbnNmb3JtRGF0YSIsInN0YXR1cyIsImZucyIsImlzU3VjY2VzcyIsImRlZmF1bHRzIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZCIsImNvbW1vbiIsIkFjY2VwdCIsIkNPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OIiwicGF0Y2giLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwidXNlQXBwbHlBc3luYyIsImludGVyY2VwdG9yRmFjdG9yaWVzIiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdENvbmZpZyIsInJlc3BvbnNlIiwicmVzcCIsInJlamVjdCIsImV4ZWN1dGVIZWFkZXJGbnMiLCJoZWFkZXJDb250ZW50IiwicHJvY2Vzc2VkSGVhZGVycyIsImhlYWRlckZuIiwiaGVhZGVyIiwibWVyZ2VIZWFkZXJzIiwiZGVmSGVhZGVyTmFtZSIsImxvd2VyY2FzZURlZkhlYWRlck5hbWUiLCJyZXFIZWFkZXJOYW1lIiwiZGVmSGVhZGVycyIsInJlcUhlYWRlcnMiLCJkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbiIsInNlcnZlclJlcXVlc3QiLCJyZXFEYXRhIiwid2l0aENyZWRlbnRpYWxzIiwic2VuZFJlcSIsImNoYWluIiwicHJvbWlzZSIsIndoZW4iLCJyZXZlcnNlZEludGVyY2VwdG9ycyIsImludGVyY2VwdG9yIiwicmVxdWVzdCIsInJlcXVlc3RFcnJvciIsInJlc3BvbnNlRXJyb3IiLCJ0aGVuRm4iLCJyZWplY3RGbiIsInN1Y2Nlc3MiLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInJlc29sdmVIdHRwUHJvbWlzZSIsInJlc29sdmVQcm9taXNlIiwiJGFwcGx5QXN5bmMiLCIkJHBoYXNlIiwiZGVmZXJyZWQiLCJyZXNvbHZlIiwicmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0IiwicmVtb3ZlUGVuZGluZ1JlcSIsInBlbmRpbmdSZXF1ZXN0cyIsImNhY2hlZFJlc3AiLCJidWlsZFVybCIsInBhcmFtcyIsImRlZmF1bHRDYWNoZSIsInhzcmZWYWx1ZSIsInVybElzU2FtZU9yaWdpbiIsInRpbWVvdXQiLCJyZXNwb25zZVR5cGUiLCJ2IiwidG9JU09TdHJpbmciLCJpbnRlcmNlcHRvckZhY3RvcnkiLCJjcmVhdGVYaHIiLCJYTUxIdHRwUmVxdWVzdCIsImNyZWF0ZUh0dHBCYWNrZW5kIiwiJGJyb3dzZXJEZWZlciIsImpzb25wUmVxIiwiY2FsbGJhY2tJZCIsImFzeW5jIiwiYm9keSIsImNhbGxlZCIsImFkZEV2ZW50TGlzdGVuZXJGbiIsInRpbWVvdXRSZXF1ZXN0IiwianNvbnBEb25lIiwieGhyIiwiYWJvcnQiLCJjb21wbGV0ZVJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsInVybFJlc29sdmUiLCJwcm90b2NvbCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm9uZXJyb3IiLCJvbmFib3J0Iiwic2VuZCIsImVzY2FwZSIsImNoIiwibXVzdEhhdmVFeHByZXNzaW9uIiwidW5lc2NhcGVUZXh0IiwiZXNjYXBlZFN0YXJ0UmVnZXhwIiwiZXNjYXBlZEVuZFJlZ2V4cCIsInBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IiLCJnZXRWYWx1ZSIsIm5ld0VyciIsIiRpbnRlcnBvbGF0ZU1pbkVyciIsImVuZEluZGV4IiwiZXhwIiwicGFyc2VGbnMiLCJ0ZXh0TGVuZ3RoIiwiZXhwcmVzc2lvblBvc2l0aW9ucyIsInN0YXJ0U3ltYm9sTGVuZ3RoIiwiZW5kU3ltYm9sTGVuZ3RoIiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCJ2YWx1ZU9mIiwiJCR3YXRjaERlbGVnYXRlIiwib2JqZWN0RXF1YWxpdHkiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsImNvdW50IiwiaW52b2tlQXBwbHkiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJpdGVyYXRpb24iLCJza2lwQXBwbHkiLCIkJGludGVydmFsSWQiLCJub3RpZnkiLCJpbnRlcnZhbHMiLCJOVU1CRVJfRk9STUFUUyIsIkRFQ0lNQUxfU0VQIiwiR1JPVVBfU0VQIiwiUEFUVEVSTlMiLCJtaW5JbnQiLCJtaW5GcmFjIiwibWF4RnJhYyIsInBvc1ByZSIsInBvc1N1ZiIsIm5lZ1ByZSIsIm5lZ1N1ZiIsImdTaXplIiwibGdTaXplIiwiQ1VSUkVOQ1lfU1lNIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiU0hPUlRNT05USCIsIkRBWSIsIlNIT1JUREFZIiwiQU1QTVMiLCJtZWRpdW0iLCJzaG9ydCIsImZ1bGxEYXRlIiwibG9uZ0RhdGUiLCJtZWRpdW1EYXRlIiwic2hvcnREYXRlIiwibWVkaXVtVGltZSIsInNob3J0VGltZSIsInBsdXJhbENhdCIsIm51bSIsImVuY29kZVBhdGgiLCJzZWdtZW50cyIsInBhcnNlQWJzb2x1dGVVcmwiLCJhYnNvbHV0ZVVybCIsImxvY2F0aW9uT2JqIiwicGFyc2VkVXJsIiwiJCRwcm90b2NvbCIsIiQkaG9zdCIsImhvc3RuYW1lIiwiJCRwb3J0IiwicG9ydCIsIkRFRkFVTFRfUE9SVFMiLCJwYXJzZUFwcFVybCIsInJlbGF0aXZlVXJsIiwicHJlZml4ZWQiLCIkJHBhdGgiLCJwYXRobmFtZSIsIiQkc2VhcmNoIiwic2VhcmNoIiwiJCRoYXNoIiwiYmVnaW5zV2l0aCIsImJlZ2luIiwid2hvbGUiLCJ0cmltRW1wdHlIYXNoIiwic3RyaXBGaWxlIiwibGFzdEluZGV4T2YiLCJzZXJ2ZXJCYXNlIiwiTG9jYXRpb25IdG1sNVVybCIsImFwcEJhc2UiLCJiYXNlUHJlZml4IiwiJCRodG1sNSIsImFwcEJhc2VOb0ZpbGUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiRsb2NhdGlvbk1pbkVyciIsIiQkY29tcG9zZSIsIiQkdXJsIiwiJCRhYnNVcmwiLCIkJHBhcnNlTGlua1VybCIsInJlbEhyZWYiLCJhcHBVcmwiLCJwcmV2QXBwVXJsIiwicmV3cml0dGVuVXJsIiwiTG9jYXRpb25IYXNoYmFuZ1VybCIsImhhc2hQcmVmaXgiLCJyZW1vdmVXaW5kb3dzRHJpdmVOYW1lIiwiYmFzZSIsImZpcnN0UGF0aFNlZ21lbnRNYXRjaCIsIndpbmRvd3NGaWxlUGF0aEV4cCIsIndpdGhvdXRIYXNoVXJsIiwid2l0aG91dEJhc2VVcmwiLCJMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCIsImxvY2F0aW9uR2V0dGVyIiwicHJvcGVydHkiLCJsb2NhdGlvbkdldHRlclNldHRlciIsInByZXByb2Nlc3MiLCJodG1sNU1vZGUiLCJyZXF1aXJlQmFzZSIsInJld3JpdGVMaW5rcyIsInNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2siLCJvbGRVcmwiLCJvbGRTdGF0ZSIsIiQkc3RhdGUiLCJhZnRlckxvY2F0aW9uQ2hhbmdlIiwiJGJyb2FkY2FzdCIsImFic1VybCIsIkxvY2F0aW9uTW9kZSIsImluaXRpYWxVcmwiLCJJR05PUkVfVVJJX1JFR0VYUCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJ3aGljaCIsImJ1dHRvbiIsInRhcmdldCIsImFic0hyZWYiLCJwcmV2ZW50RGVmYXVsdCIsImluaXRpYWxpemluZyIsIm5ld1VybCIsIm5ld1N0YXRlIiwiJGRpZ2VzdCIsImN1cnJlbnRSZXBsYWNlIiwiJCRyZXBsYWNlIiwidXJsT3JTdGF0ZUNoYW5nZWQiLCJkZWJ1ZyIsImRlYnVnRW5hYmxlZCIsImZsYWciLCJmb3JtYXRFcnJvciIsInNvdXJjZVVSTCIsImNvbnNvbGVMb2ciLCJjb25zb2xlIiwibG9nRm4iLCJsb2ciLCJoYXNBcHBseSIsImFyZzEiLCJhcmcyIiwiZW5zdXJlU2FmZU1lbWJlck5hbWUiLCJmdWxsRXhwcmVzc2lvbiIsIiRwYXJzZU1pbkVyciIsImVuc3VyZVNhZmVPYmplY3QiLCJjaGlsZHJlbiIsImVuc3VyZVNhZmVGdW5jdGlvbiIsIkNBTEwiLCJBUFBMWSIsIkJJTkQiLCJpc0NvbnN0YW50Iiwic2V0dGVyIiwic2V0VmFsdWUiLCJmdWxsRXhwIiwicHJvcGVydHlPYmoiLCJpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZSIsImNzcFNhZmVHZXR0ZXJGbiIsImtleTAiLCJrZXkxIiwia2V5MiIsImtleTMiLCJrZXk0IiwiZXhwZW5zaXZlQ2hlY2tzIiwiZXNvIiwibyIsImVzbzAiLCJlc28xIiwiZXNvMiIsImVzbzMiLCJlc280IiwicGF0aFZhbCIsImdldHRlckZuV2l0aEVuc3VyZVNhZmVPYmplY3QiLCJzIiwiZ2V0dGVyRm4iLCJnZXR0ZXJGbkNhY2hlIiwiZ2V0dGVyRm5DYWNoZUV4cGVuc2l2ZSIsImdldHRlckZuQ2FjaGVEZWZhdWx0IiwicGF0aEtleXMiLCJwYXRoS2V5c0xlbmd0aCIsIm5lZWRzRW5zdXJlU2FmZU9iamVjdCIsImxvb2t1cEpzIiwiZXZhbGVkRm5HZXR0ZXIiLCJGdW5jdGlvbiIsInNoYXJlZEdldHRlciIsImdldFZhbHVlT2YiLCJvYmplY3RWYWx1ZU9mIiwiY2FjaGVEZWZhdWx0IiwiY2FjaGVFeHBlbnNpdmUiLCJ3cmFwU2hhcmVkRXhwcmVzc2lvbiIsIndyYXBwZWQiLCJjb2xsZWN0RXhwcmVzc2lvbklucHV0cyIsImlucHV0cyIsImV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2siLCJvbGRWYWx1ZU9mVmFsdWUiLCJpbnB1dHNXYXRjaERlbGVnYXRlIiwicGFyc2VkRXhwcmVzc2lvbiIsImxhc3RSZXN1bHQiLCJpbnB1dEV4cHJlc3Npb25zIiwiJCRpbnB1dHMiLCJvbGRJbnB1dFZhbHVlIiwibmV3SW5wdXRWYWx1ZSIsIm9sZElucHV0VmFsdWVPZlZhbHVlcyIsImNoYW5nZWQiLCJvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSIsIm9sZCIsIiQkcG9zdERpZ2VzdCIsIm9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSIsImlzQWxsRGVmaW5lZCIsImFsbERlZmluZWQiLCJjb25zdGFudFdhdGNoRGVsZWdhdGUiLCJhZGRJbnRlcmNlcHRvciIsImludGVyY2VwdG9yRm4iLCJ3YXRjaERlbGVnYXRlIiwicmVndWxhcldhdGNoIiwiJHBhcnNlT3B0aW9ucyIsIiRwYXJzZU9wdGlvbnNFeHBlbnNpdmUiLCJvbmVUaW1lIiwiY2FjaGVLZXkiLCJwYXJzZU9wdGlvbnMiLCJsZXhlciIsIkxleGVyIiwicGFyc2VyIiwiUGFyc2VyIiwicUZhY3RvcnkiLCJuZXh0VGljayIsImV4Y2VwdGlvbkhhbmRsZXIiLCJjYWxsT25jZSIsInJlc29sdmVGbiIsIlByb21pc2UiLCJzaW1wbGVCaW5kIiwicHJvY2Vzc1F1ZXVlIiwicGVuZGluZyIsInByb2Nlc3NTY2hlZHVsZWQiLCJzY2hlZHVsZVByb2Nlc3NRdWV1ZSIsIkRlZmVycmVkIiwicHJvbWlzZXMiLCJyZXN1bHRzIiwiJHFNaW5FcnIiLCJUeXBlRXJyb3IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJwcm9ncmVzc0JhY2siLCJjYXRjaCIsImZpbmFsbHkiLCJoYW5kbGVDYWxsYmFjayIsIiQkcmVqZWN0IiwiJCRyZXNvbHZlIiwicHJvZ3Jlc3MiLCJtYWtlUHJvbWlzZSIsInJlc29sdmVkIiwiaXNSZXNvbHZlZCIsImNhbGxiYWNrT3V0cHV0IiwiZXJyYmFjayIsIiRRIiwiUSIsInJlc29sdmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJhZlN1cHBvcnRlZCIsInJhZiIsInRpbWVyIiwiVFRMIiwiJHJvb3RTY29wZU1pbkVyciIsImxhc3REaXJ0eVdhdGNoIiwiYXBwbHlBc3luY0lkIiwiZGlnZXN0VHRsIiwiU2NvcGUiLCIkaWQiLCIkcGFyZW50IiwiJCR3YXRjaGVycyIsIiQkbmV4dFNpYmxpbmciLCIkJHByZXZTaWJsaW5nIiwiJCRjaGlsZEhlYWQiLCIkJGNoaWxkVGFpbCIsIiRyb290IiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCJiZWdpblBoYXNlIiwicGhhc2UiLCJjbGVhclBoYXNlIiwiZGVjcmVtZW50TGlzdGVuZXJDb3VudCIsImN1cnJlbnQiLCJpbml0V2F0Y2hWYWwiLCJmbHVzaEFwcGx5QXN5bmMiLCJhcHBseUFzeW5jUXVldWUiLCJzY2hlZHVsZUFwcGx5QXN5bmMiLCJpc29sYXRlIiwiZGVzdHJveUNoaWxkIiwiY2hpbGQiLCIkJENoaWxkU2NvcGUiLCJ3YXRjaEV4cCIsIndhdGNoZXIiLCJlcSIsIndhdGNoRXhwcmVzc2lvbnMiLCJ3YXRjaEdyb3VwQWN0aW9uIiwiY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQiLCJmaXJzdFJ1biIsIm5ld1ZhbHVlcyIsImRlcmVnaXN0ZXJGbnMiLCJzaG91bGRDYWxsIiwiZXhwciIsInVud2F0Y2hGbiIsIiR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciIsIl92YWx1ZSIsIm5ld0xlbmd0aCIsImJvdGhOYU4iLCJuZXdJdGVtIiwib2xkSXRlbSIsImludGVybmFsQXJyYXkiLCJvbGRMZW5ndGgiLCJjaGFuZ2VEZXRlY3RlZCIsImludGVybmFsT2JqZWN0IiwiJHdhdGNoQ29sbGVjdGlvbkFjdGlvbiIsImluaXRSdW4iLCJ2ZXJ5T2xkVmFsdWUiLCJ0cmFja1ZlcnlPbGRWYWx1ZSIsImNoYW5nZURldGVjdG9yIiwid2F0Y2giLCJ3YXRjaGVycyIsImRpcnR5IiwibmV4dCIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZSIsIiRldmFsIiwidHJhdmVyc2VTY29wZXNMb29wIiwiaXNOYU4iLCJtc2ciLCJwb3N0RGlnZXN0UXVldWUiLCJldmVudE5hbWUiLCIkYXBwbHlBc3luY0V4cHJlc3Npb24iLCJuYW1lZExpc3RlbmVycyIsImluZGV4T2ZMaXN0ZW5lciIsIiRlbWl0IiwidGFyZ2V0U2NvcGUiLCJsaXN0ZW5lckFyZ3MiLCJjdXJyZW50U2NvcGUiLCIkJGFzeW5jUXVldWUiLCIkJHBvc3REaWdlc3RRdWV1ZSIsIiQkYXBwbHlBc3luY1F1ZXVlIiwidXJpIiwiaXNJbWFnZSIsIm5vcm1hbGl6ZWRWYWwiLCJyZWdleCIsImFkanVzdE1hdGNoZXIiLCJtYXRjaGVyIiwiJHNjZU1pbkVyciIsImVzY2FwZUZvclJlZ2V4cCIsImFkanVzdE1hdGNoZXJzIiwibWF0Y2hlcnMiLCJhZGp1c3RlZE1hdGNoZXJzIiwiU0NFX0NPTlRFWFRTIiwicmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJyZXNvdXJjZVVybEJsYWNrbGlzdCIsIm1hdGNoVXJsIiwiaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSIsImFsbG93ZWQiLCJnZW5lcmF0ZUhvbGRlclR5cGUiLCJCYXNlIiwiaG9sZGVyVHlwZSIsInRydXN0ZWRWYWx1ZSIsIiQkdW53cmFwVHJ1c3RlZFZhbHVlIiwidHJ1c3RBcyIsIkNvbnN0cnVjdG9yIiwiYnlUeXBlIiwibWF5YmVUcnVzdGVkIiwidHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSIsImh0bWxTYW5pdGl6ZXIiLCJDU1MiLCJVUkwiLCJKUyIsIm1zaWUiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCJ2ZW5kb3JQcmVmaXgiLCJldmVudFN1cHBvcnQiLCJhbmRyb2lkIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYm94ZWUiLCJ2ZW5kb3JSZWdleCIsImJvZHlTdHlsZSIsInRyYW5zaXRpb25zIiwiYW5pbWF0aW9ucyIsIndlYmtpdFRyYW5zaXRpb24iLCJ3ZWJraXRBbmltYXRpb24iLCJwdXNoU3RhdGUiLCJoYXNFdmVudCIsImRpdkVsbSIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsImhhbmRsZUVycm9yIiwidG90YWxQZW5kaW5nUmVxdWVzdHMiLCJ0cmFuc2Zvcm1lciIsImh0dHBPcHRpb25zIiwidGVzdGFiaWxpdHkiLCJmaW5kQmluZGluZ3MiLCJvcHRfZXhhY3RNYXRjaCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJtYXRjaGVzIiwiZGF0YUJpbmRpbmciLCJiaW5kaW5nTmFtZSIsImZpbmRNb2RlbHMiLCJwcmVmaXhlcyIsImF0dHJpYnV0ZUVxdWFscyIsImdldExvY2F0aW9uIiwic2V0TG9jYXRpb24iLCJ3aGVuU3RhYmxlIiwiZGVmZXJyZWRzIiwiJCR0aW1lb3V0SWQiLCJ1cmxQYXJzaW5nTm9kZSIsInJlcXVlc3RVcmwiLCJvcmlnaW5VcmwiLCJmaWx0ZXJzIiwic3VmZml4IiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsInByZWRpY2F0ZUZuIiwibWF0Y2hBZ2FpbnN0QW55UHJvcCIsImNyZWF0ZVByZWRpY2F0ZUZuIiwic2hvdWxkTWF0Y2hQcmltaXRpdmVzIiwiYWN0dWFsIiwiZXhwZWN0ZWQiLCJpdGVtIiwiZGVlcENvbXBhcmUiLCJkb250TWF0Y2hXaG9sZU9iamVjdCIsImFjdHVhbFR5cGUiLCJleHBlY3RlZFR5cGUiLCJleHBlY3RlZFZhbCIsIm1hdGNoQW55UHJvcGVydHkiLCJhY3R1YWxWYWwiLCIkbG9jYWxlIiwiZm9ybWF0cyIsImFtb3VudCIsImN1cnJlbmN5U3ltYm9sIiwiZnJhY3Rpb25TaXplIiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyIiwiZ3JvdXBTZXAiLCJkZWNpbWFsU2VwIiwiaXNGaW5pdGUiLCJpc05lZ2F0aXZlIiwiYWJzIiwibnVtU3RyIiwiZm9ybWF0ZWRUZXh0IiwiaGFzRXhwb25lbnQiLCJ0b0ZpeGVkIiwicGFyc2VGbG9hdCIsImZyYWN0aW9uTGVuIiwibWluIiwicm91bmQiLCJmcmFjdGlvbiIsImxncm91cCIsImdyb3VwIiwicGFkTnVtYmVyIiwiZGlnaXRzIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGUiLCJkYXRlU3RyR2V0dGVyIiwic2hvcnRGb3JtIiwidGltZVpvbmVHZXR0ZXIiLCJ6b25lIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJwYWRkZWRab25lIiwiZ2V0Rmlyc3RUaHVyc2RheU9mWWVhciIsInllYXIiLCJkYXlPZldlZWtPbkZpcnN0IiwiZ2V0RGF5IiwiZ2V0VGh1cnNkYXlUaGlzV2VlayIsImRhdGV0aW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ3ZWVrR2V0dGVyIiwiZmlyc3RUaHVycyIsInRoaXNUaHVycyIsImFtcG1HZXR0ZXIiLCJnZXRIb3VycyIsImpzb25TdHJpbmdUb0RhdGUiLCJzdHJpbmciLCJSX0lTTzg2MDFfU1RSIiwidHpIb3VyIiwidHpNaW4iLCJkYXRlU2V0dGVyIiwic2V0VVRDRnVsbFllYXIiLCJzZXRGdWxsWWVhciIsInRpbWVTZXR0ZXIiLCJzZXRVVENIb3VycyIsInNldEhvdXJzIiwibSIsIm1zIiwiZm9ybWF0IiwidGltZXpvbmUiLCJOVU1CRVJfU1RSSU5HIiwiREFURV9GT1JNQVRTX1NQTElUIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJEQVRFX0ZPUk1BVFMiLCJvYmplY3QiLCJzcGFjaW5nIiwibGltaXQiLCJJbmZpbml0eSIsInNvcnRQcmVkaWNhdGUiLCJyZXZlcnNlT3JkZXIiLCJjb21wIiwicmV2ZXJzZUNvbXBhcmF0b3IiLCJkZXNjZW5kaW5nIiwib2JqZWN0VG9TdHJpbmciLCJ2MSIsInYyIiwibWFwIiwicHJlZGljYXRlIiwibmdEaXJlY3RpdmUiLCJudWxsRm9ybVJlbmFtZUNvbnRyb2wiLCJjb250cm9sIiwiJG5hbWUiLCJGb3JtQ29udHJvbGxlciIsImNvbnRyb2xzIiwicGFyZW50Rm9ybSIsIiQkcGFyZW50Rm9ybSIsIm51bGxGb3JtQ3RybCIsIiRlcnJvciIsIiQkc3VjY2VzcyIsIiRwZW5kaW5nIiwiJGRpcnR5IiwiJHByaXN0aW5lIiwiJHZhbGlkIiwiJGludmFsaWQiLCIkc3VibWl0dGVkIiwiJGFkZENvbnRyb2wiLCIkcm9sbGJhY2tWaWV3VmFsdWUiLCIkY29tbWl0Vmlld1ZhbHVlIiwiJCRyZW5hbWVDb250cm9sIiwibmV3TmFtZSIsIm9sZE5hbWUiLCIkcmVtb3ZlQ29udHJvbCIsIiRzZXRWYWxpZGl0eSIsImFkZFNldFZhbGlkaXR5TWV0aG9kIiwiY3RybCIsInNldCIsInVuc2V0IiwiJHNldERpcnR5IiwiUFJJU1RJTkVfQ0xBU1MiLCJESVJUWV9DTEFTUyIsIiRzZXRQcmlzdGluZSIsInNldENsYXNzIiwiU1VCTUlUVEVEX0NMQVNTIiwiJHNldFVudG91Y2hlZCIsIiRzZXRTdWJtaXR0ZWQiLCJzdHJpbmdCYXNlZElucHV0VHlwZSIsIiRmb3JtYXR0ZXJzIiwiJGlzRW1wdHkiLCJ0ZXh0SW5wdXRUeXBlIiwiYmFzZUlucHV0VHlwZSIsImNvbXBvc2luZyIsImV2IiwibmdUcmltIiwiJHZpZXdWYWx1ZSIsIiQkaGFzTmF0aXZlVmFsaWRhdG9ycyIsIiRzZXRWaWV3VmFsdWUiLCJkZWZlckxpc3RlbmVyIiwib3JpZ1ZhbHVlIiwia2V5Q29kZSIsIiRyZW5kZXIiLCJ3ZWVrUGFyc2VyIiwiaXNvV2VlayIsImV4aXN0aW5nRGF0ZSIsIldFRUtfUkVHRVhQIiwid2VlayIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJhZGREYXlzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsIk5hTiIsImNyZWF0ZURhdGVQYXJzZXIiLCJtYXBwaW5nIiwiaXNvIiwiSVNPX0RBVEVfUkVHRVhQIiwieXl5eSIsIk1NIiwiZGQiLCJISCIsIm1tIiwic3MiLCJzc3MiLCJwYXJ0IiwiY3JlYXRlRGF0ZUlucHV0VHlwZSIsInBhcnNlRGF0ZSIsImlzVmFsaWREYXRlIiwicGFyc2VPYnNlcnZlZERhdGVWYWx1ZSIsImJhZElucHV0Q2hlY2tlciIsInByZXZpb3VzRGF0ZSIsIiRvcHRpb25zIiwiJCRwYXJzZXJOYW1lIiwiJHBhcnNlcnMiLCJwYXJzZWREYXRlIiwiJG5nTW9kZWxNaW5FcnIiLCJ0aW1lem9uZU9mZnNldCIsIm5nTWluIiwibWluVmFsIiwiJHZhbGlkYXRvcnMiLCIkdmFsaWRhdGUiLCJuZ01heCIsIm1heFZhbCIsIm5hdGl2ZVZhbGlkYXRpb24iLCJ2YWxpZGl0eSIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwiYmFkSW5wdXQiLCJ0eXBlTWlzbWF0Y2giLCJudW1iZXJJbnB1dFR5cGUiLCJOVU1CRVJfUkVHRVhQIiwidXJsSW5wdXRUeXBlIiwibW9kZWxWYWx1ZSIsInZpZXdWYWx1ZSIsIlVSTF9SRUdFWFAiLCJlbWFpbElucHV0VHlwZSIsImVtYWlsIiwiRU1BSUxfUkVHRVhQIiwicmFkaW9JbnB1dFR5cGUiLCJjaGVja2VkIiwicGFyc2VDb25zdGFudEV4cHIiLCJmYWxsYmFjayIsInBhcnNlRm4iLCJjaGVja2JveElucHV0VHlwZSIsInRydWVWYWx1ZSIsIm5nVHJ1ZVZhbHVlIiwiZmFsc2VWYWx1ZSIsIm5nRmFsc2VWYWx1ZSIsImNsYXNzRGlyZWN0aXZlIiwiYXJyYXlEaWZmZXJlbmNlIiwiYXJyYXlDbGFzc2VzIiwiYWRkQ2xhc3NlcyIsImRpZ2VzdENsYXNzQ291bnRzIiwicmVtb3ZlQ2xhc3NlcyIsImNsYXNzQ291bnRzIiwiY2xhc3Nlc1RvVXBkYXRlIiwidXBkYXRlQ2xhc3NlcyIsIm5nQ2xhc3NXYXRjaEFjdGlvbiIsIiRpbmRleCIsIm9sZCRpbmRleCIsIm1vZCIsInNldFZhbGlkaXR5IiwidmFsaWRhdGlvbkVycm9yS2V5IiwiY3JlYXRlQW5kU2V0IiwidW5zZXRBbmRDbGVhbnVwIiwiY2FjaGVkVG9nZ2xlQ2xhc3MiLCJQRU5ESU5HX0NMQVNTIiwidG9nZ2xlVmFsaWRhdGlvbkNzcyIsImlzT2JqZWN0RW1wdHkiLCJjb21iaW5lZFN0YXRlIiwic3dpdGNoVmFsdWUiLCJjbGFzc0NhY2hlIiwiaXNWYWxpZCIsIlZBTElEX0NMQVNTIiwiSU5WQUxJRF9DTEFTUyIsIlJFR0VYX1NUUklOR19SRUdFWFAiLCJtYW51YWxMb3dlcmNhc2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZUF0IiwibWFudWFsVXBwZXJjYXNlIiwiZG9jdW1lbnRNb2RlIiwiaXNBY3RpdmVfIiwiYWN0aXZlIiwiZnVsbCIsIm1ham9yIiwibWlub3IiLCJkb3QiLCJjb2RlTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiTU9VU0VfRVZFTlRfTUFQIiwibW91c2VsZWF2ZSIsIm1vdXNlZW50ZXIiLCJ0aGVhZCIsImNvbCIsInRyIiwidGQiLCJvcHRncm91cCIsInRib2R5IiwidGZvb3QiLCJjb2xncm91cCIsImNhcHRpb24iLCJ0aCIsInJlYWR5IiwidHJpZ2dlciIsImZpcmVkIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHJpYnV0ZSIsImNzcyIsImxvd2VyY2FzZWROYW1lIiwiZ2V0TmFtZWRJdGVtIiwic3BlY2lmaWVkIiwicmV0IiwiZ2V0VGV4dCIsIiRkdiIsIm11bHRpcGxlIiwic2VsZWN0ZWQiLCJub2RlQ291bnQiLCJqcUxpdGVPbiIsInR5cGVzIiwicmVsYXRlZCIsInJlbGF0ZWRUYXJnZXQiLCJjb250YWlucyIsIm9mZiIsIm9uZSIsIm9uRm4iLCJyZXBsYWNlTm9kZSIsImluc2VydEJlZm9yZSIsImNvbnRlbnREb2N1bWVudCIsInByZXBlbmQiLCJ3cmFwTm9kZSIsImRldGFjaCIsImFmdGVyIiwibmV3RWxlbWVudCIsInRvZ2dsZUNsYXNzIiwiY29uZGl0aW9uIiwiY2xhc3NDb25kaXRpb24iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImV4dHJhUGFyYW1ldGVycyIsImR1bW15RXZlbnQiLCJldmVudEZuc0NvcHkiLCJoYW5kbGVyQXJncyIsImFyZzMiLCJ1bmJpbmQiLCIkYW5pbWF0ZU1pbkVyciIsIiQkc2VsZWN0b3JzIiwiY2xhc3NOYW1lRmlsdGVyIiwiJCRjbGFzc05hbWVGaWx0ZXIiLCJydW5BbmltYXRpb25Qb3N0RGlnZXN0IiwiY2FuY2VsRm4iLCIkJGNhbmNlbEZuIiwicmVzb2x2ZUVsZW1lbnRDbGFzc2VzIiwiaGFzQ2xhc3NlcyIsImNhY2hlZENsYXNzTWFuaXB1bGF0aW9uIiwib3AiLCJhc3luY1Byb21pc2UiLCJjdXJyZW50RGVmZXIiLCJhcHBseVN0eWxlcyIsInN0eWxlcyIsImZyb20iLCJ0byIsImFuaW1hdGUiLCJlbnRlciIsImxlYXZlIiwibW92ZSIsIiQkYWRkQ2xhc3NJbW1lZGlhdGVseSIsIiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseSIsImFkZCIsIlNUT1JBR0VfS0VZIiwiY3JlYXRlZENhY2hlIiwiJCRzZXRDbGFzc0ltbWVkaWF0ZWx5IiwiQ29udGVudC1UeXBlIiwiWyIsInsiLCJQQVRIX01BVENIIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwibG9jYXRpb25Qcm90b3R5cGUiLCJwYXJhbVZhbHVlIiwiTG9jYXRpb24iLCJDT05TVEFOVFMiLCJudWxsIiwidHJ1ZSIsImZhbHNlIiwiY29uc3RhbnRHZXR0ZXIiLCJPUEVSQVRPUlMiLCIrIiwiLSIsIioiLCIvIiwiJSIsIj09PSIsIiE9PSIsIj09IiwiIT0iLCI8IiwiPiIsIjw9IiwiPj0iLCImJiIsInx8IiwiISIsIj0iLCJ8IiwiRVNDQVBFIiwiZiIsInIiLCJ0IiwiJyIsIlwiIiwibGV4IiwidG9rZW5zIiwicmVhZFN0cmluZyIsInBlZWsiLCJyZWFkTnVtYmVyIiwiaXNJZGVudCIsInJlYWRJZGVudCIsImlzIiwiaXNXaGl0ZXNwYWNlIiwiY2gyIiwiY2gzIiwib3AxIiwib3AyIiwib3AzIiwib3BlcmF0b3IiLCJ0aHJvd0Vycm9yIiwiY2hhcnMiLCJpc0V4cE9wZXJhdG9yIiwic3RhcnQiLCJlbmQiLCJjb2xTdHIiLCJwZWVrQ2giLCJxdW90ZSIsInJhd1N0cmluZyIsImhleCIsInJlcCIsIlpFUk8iLCJzdGF0ZW1lbnRzIiwicHJpbWFyeSIsImV4cGVjdCIsImZpbHRlckNoYWluIiwiY29uc3VtZSIsImFycmF5RGVjbGFyYXRpb24iLCJmdW5jdGlvbkNhbGwiLCJvYmplY3RJbmRleCIsImZpZWxkQWNjZXNzIiwicGVla1Rva2VuIiwiZTEiLCJlMiIsImUzIiwiZTQiLCJwZWVrQWhlYWQiLCJ1bmFyeUZuIiwicmlnaHQiLCJiaW5hcnlGbiIsImxlZnQiLCJpc0JyYW5jaGluZyIsImlucHV0Rm4iLCJhcmdzRm4iLCJldmVyeSIsImFzc2lnbm1lbnQiLCJ0ZXJuYXJ5IiwibWlkZGxlIiwibG9naWNhbE9SIiwibG9naWNhbEFORCIsImVxdWFsaXR5IiwicmVsYXRpb25hbCIsImFkZGl0aXZlIiwibXVsdGlwbGljYXRpdmUiLCJ1bmFyeSIsImluZGV4Rm4iLCJmbkdldHRlciIsImNvbnRleHRHZXR0ZXIiLCJleHByZXNzaW9uVGV4dCIsImVsZW1lbnRGbnMiLCJ2YWx1ZUZucyIsInl5IiwieSIsIk1NTU0iLCJNTU0iLCJNIiwiSCIsImhoIiwiRUVFRSIsIkVFRSIsIloiLCJ3dyIsInciLCJ4bGlua0hyZWYiLCJwcm9wTmFtZSIsIm5vcm1hbGl6ZWQiLCJodG1sQXR0ciIsImZvcm1EaXJlY3RpdmVGYWN0b3J5IiwiaXNOZ0Zvcm0iLCJmb3JtRWxlbWVudCIsImhhbmRsZUZvcm1TdWJtaXNzaW9uIiwicGFyZW50Rm9ybUN0cmwiLCJhbGlhcyIsIkRBVEVfUkVHRVhQIiwiREFURVRJTUVMT0NBTF9SRUdFWFAiLCJNT05USF9SRUdFWFAiLCJUSU1FX1JFR0VYUCIsImlucHV0VHlwZSIsImRhdGV0aW1lLWxvY2FsIiwidGltZSIsIm1vbnRoIiwicmFkaW8iLCJjaGVja2JveCIsImhpZGRlbiIsInN1Ym1pdCIsInJlc2V0IiwiZmlsZSIsImN0cmxzIiwiQ09OU1RBTlRfVkFMVUVfUkVHRVhQIiwidHBsQXR0ciIsIiRjb21waWxlIiwidGVtcGxhdGVFbGVtZW50IiwidEVsZW1lbnQiLCJuZ0JpbmRIdG1sR2V0dGVyIiwibmdCaW5kSHRtbFdhdGNoIiwiZ2V0VHJ1c3RlZEh0bWwiLCIkdmlld0NoYW5nZUxpc3RlbmVycyIsImZvcmNlQXN5bmNFdmVudHMiLCJibHVyIiwiZm9jdXMiLCIkZXZlbnQiLCJwcmV2aW91c0VsZW1lbnRzIiwibmV3U2NvcGUiLCJzcmNFeHAiLCJvbmxvYWRFeHAiLCJhdXRvU2Nyb2xsRXhwIiwiYXV0b3Njcm9sbCIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJhZnRlckFuaW1hdGlvbiIsInRoaXNDaGFuZ2VJZCIsInRyaW1WYWx1ZXMiLCJVTlRPVUNIRURfQ0xBU1MiLCJUT1VDSEVEX0NMQVNTIiwiTmdNb2RlbENvbnRyb2xsZXIiLCIkbW9kZWxWYWx1ZSIsIiQkcmF3TW9kZWxWYWx1ZSIsIiRhc3luY1ZhbGlkYXRvcnMiLCIkdW50b3VjaGVkIiwiJHRvdWNoZWQiLCJwYXJzZWROZ01vZGVsIiwicGFyc2VkTmdNb2RlbEFzc2lnbiIsIm5nTW9kZWxHZXQiLCJuZ01vZGVsU2V0IiwicGVuZGluZ0RlYm91bmNlIiwiJCRzZXRPcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCJjdXJyZW50VmFsaWRhdGlvblJ1bklkIiwiJHNldFRvdWNoZWQiLCIkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUiLCJwYXJzZXJOYW1lIiwicGFyc2VyVmFsaWQiLCJwcmV2VmFsaWQiLCJwcmV2TW9kZWxWYWx1ZSIsImFsbG93SW52YWxpZCIsIiQkcnVuVmFsaWRhdG9ycyIsImFsbFZhbGlkIiwiJCR3cml0ZU1vZGVsVG9TY29wZSIsInBhcnNlVmFsaWQiLCJkb25lQ2FsbGJhY2siLCJwcm9jZXNzUGFyc2VFcnJvcnMiLCJlcnJvcktleSIsInByb2Nlc3NTeW5jVmFsaWRhdG9ycyIsInN5bmNWYWxpZGF0b3JzVmFsaWQiLCJ2YWxpZGF0b3IiLCJwcm9jZXNzQXN5bmNWYWxpZGF0b3JzIiwidmFsaWRhdG9yUHJvbWlzZXMiLCJ2YWxpZGF0aW9uRG9uZSIsImxvY2FsVmFsaWRhdGlvblJ1bklkIiwiJCRwYXJzZUFuZFZhbGlkYXRlIiwid3JpdGVUb01vZGVsSWZOZWVkZWQiLCJ1cGRhdGVPbkRlZmF1bHQiLCIkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0IiwiZGVib3VuY2UiLCJkZWJvdW5jZURlbGF5IiwiZm9ybWF0dGVycyIsIm1vZGVsQ3RybCIsImZvcm1DdHJsIiwidXBkYXRlT24iLCJERUZBVUxUX1JFR0VYUCIsInRoYXQiLCJCUkFDRSIsIklTX1dIRU4iLCJ1cGRhdGVFbGVtZW50VGV4dCIsIm5ld1RleHQiLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnMiLCJ3aGVuc0V4cEZucyIsImJyYWNlUmVwbGFjZW1lbnQiLCJ3YXRjaFJlbW92ZXIiLCJhdHRyaWJ1dGVOYW1lIiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsIk5HX1JFTU9WRUQiLCJuZ1JlcGVhdE1pbkVyciIsInVwZGF0ZVNjb3BlIiwidmFsdWVJZGVudGlmaWVyIiwia2V5SWRlbnRpZmllciIsImFycmF5TGVuZ3RoIiwiJGZpcnN0IiwiJGxhc3QiLCIkbWlkZGxlIiwiJG9kZCIsIiRldmVuIiwiZ2V0QmxvY2tTdGFydCIsImdldEJsb2NrRW5kIiwibmdSZXBlYXRFbmRDb21tZW50IiwibGhzIiwicmhzIiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5RXhwR2V0dGVyIiwidHJhY2tCeUlkRXhwRm4iLCJ0cmFja0J5SWRBcnJheUZuIiwidHJhY2tCeUlkT2JqRm4iLCJoYXNoRm5Mb2NhbHMiLCJsYXN0QmxvY2tNYXAiLCJuZXh0Tm9kZSIsImNvbGxlY3Rpb25MZW5ndGgiLCJ0cmFja0J5SWQiLCJ0cmFja0J5SWRGbiIsImNvbGxlY3Rpb25LZXlzIiwibmV4dEJsb2NrT3JkZXIiLCJwcmV2aW91c05vZGUiLCJuZXh0QmxvY2tNYXAiLCJpdGVtS2V5IiwiYmxvY2tLZXkiLCJOR19ISURFX0NMQVNTIiwiTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyIsInRlbXBDbGFzc2VzIiwibmV3U3R5bGVzIiwib2xkU3R5bGVzIiwiY2FzZXMiLCJuZ1N3aXRjaENvbnRyb2xsZXIiLCJ3YXRjaEV4cHIiLCJzZWxlY3RlZFRyYW5zY2x1ZGVzIiwic2VsZWN0ZWRFbGVtZW50cyIsInByZXZpb3VzTGVhdmVBbmltYXRpb25zIiwic2VsZWN0ZWRTY29wZXMiLCJzcGxpY2VGYWN0b3J5Iiwic2VsZWN0ZWRUcmFuc2NsdWRlIiwiY2FzZUVsZW1lbnQiLCJzZWxlY3RlZFNjb3BlIiwiYW5jaG9yIiwibmdPcHRpb25zTWluRXJyIiwiTkdfT1BUSU9OU19SRUdFWFAiLCJudWxsTW9kZWxDdHJsIiwibnVsbE9wdGlvbiIsInVua25vd25PcHRpb24iLCJvcHRpb25zTWFwIiwibmdNb2RlbEN0cmwiLCJkYXRhYm91bmQiLCJpbml0IiwibmdNb2RlbEN0cmxfIiwibnVsbE9wdGlvbl8iLCJ1bmtub3duT3B0aW9uXyIsImFkZE9wdGlvbiIsInJlbW92ZU9wdGlvbiIsImhhc09wdGlvbiIsInJlbmRlclVua25vd25PcHRpb24iLCJ1bmtub3duVmFsIiwic2V0dXBBc1NpbmdsZSIsInNlbGVjdEVsZW1lbnQiLCJzZWxlY3RDdHJsIiwiZW1wdHlPcHRpb24iLCJzZXR1cEFzTXVsdGlwbGUiLCJsYXN0VmlldyIsInNldHVwQXNPcHRpb25zIiwiY2FsbEV4cHJlc3Npb24iLCJleHByRm4iLCJ2YWx1ZU5hbWUiLCJrZXlOYW1lIiwic2VsZWN0aW9uQ2hhbmdlZCIsInZhbHVlc0ZuIiwic2VsZWN0ZWRLZXkiLCJ0cmFja0ZuIiwidHJhY2tLZXlzQ2FjaGUiLCJnZXRWaWV3VmFsdWUiLCJyZW5kZXIiLCJ2aWV3VmFsdWVGbiIsInNlbGVjdEFzRm4iLCJnZXRMYWJlbHMiLCJ0b0Rpc3BsYXkiLCJkaXNwbGF5Rm4iLCJjcmVhdGVJc1NlbGVjdGVkRm4iLCJzZWxlY3RlZFNldCIsInRyYWNrSW5kZXgiLCJjb21wYXJlVmFsdWVGbiIsInNjaGVkdWxlUmVuZGVyaW5nIiwicmVuZGVyU2NoZWR1bGVkIiwidXBkYXRlTGFiZWxNYXAiLCJsYWJlbE1hcCIsImxhYmVsIiwiYWRkZWQiLCJvcHRpb25Hcm91cE5hbWUiLCJvcHRpb25Hcm91cCIsImV4aXN0aW5nUGFyZW50IiwiZXhpc3RpbmdPcHRpb25zIiwiZXhpc3RpbmdPcHRpb24iLCJncm91cExlbmd0aCIsImdyb3VwSW5kZXgiLCJsYXN0RWxlbWVudCIsIm9wdGlvbklkIiwib3B0aW9uR3JvdXBzIiwib3B0aW9uR3JvdXBOYW1lcyIsImlzU2VsZWN0ZWQiLCJhbnlTZWxlY3RlZCIsImdyb3VwQnlGbiIsIm9wdGlvbkdyb3Vwc0NhY2hlIiwib3B0R3JvdXBUZW1wbGF0ZSIsIm9wdGlvblRlbXBsYXRlIiwib3B0aW9uc0V4cCIsInNlbGVjdEFzIiwidHJhY2siLCJudWxsU2VsZWN0Q3RybCIsInNlbGVjdEN0cmxOYW1lIiwicGF0dGVybkV4cCIsImludFZhbCIsIiRBcmlhUHJvdmlkZXIiLCJhcmlhQXR0ciIsIm5lZ2F0ZSIsImFyaWFDYW1lbE5hbWUiLCJib29sVmFsIiwiYXJpYUhpZGRlbiIsImFyaWFDaGVja2VkIiwiYXJpYURpc2FibGVkIiwiYXJpYVJlcXVpcmVkIiwiYXJpYUludmFsaWQiLCJhcmlhTXVsdGlsaW5lIiwiYXJpYVZhbHVlIiwidGFiaW5kZXgiLCJiaW5kS2V5cHJlc3MiLCJuZXdDb25maWciLCIkJHdhdGNoRXhwciIsIm5nQXJpYU1vZHVsZSIsIiRhcmlhIiwic2hvdWxkQXR0YWNoQXR0ciIsIm5vcm1hbGl6ZWRBdHRyIiwiZ2V0U2hhcGUiLCJyb2xlIiwibmdBcmlhV2F0Y2hNb2RlbFZhbHVlIiwiZ2V0UmFkaW9SZWFjdGlvbiIsIm5lZWRzVGFiSW5kZXgiLCJuZ0FyaWFDaGVja2JveFJlYWN0aW9uIiwic2hhcGUiLCJuZ0NsaWNrIiwiaXNOb2RlT25lT2YiLCJub2RlVHlwZUFycmF5IiwibmdLZXlwcmVzcyIsIk5HX0FOSU1BVEVfQ0hJTERSRU4iLCJuZ0FuaW1hdGVDaGlsZHJlbiIsImJvZCIsIm9mZnNldFdpZHRoIiwiJGFuaW1hdGVQcm92aWRlciIsImV4dHJhY3RFbGVtZW50Tm9kZSIsIkVMRU1FTlRfTk9ERSIsInByZXBhcmVFbGVtZW50Iiwic3RyaXBDb21tZW50c0Zyb21FbGVtZW50IiwiaXNNYXRjaGluZ0VsZW1lbnQiLCJlbG0xIiwiZWxtMiIsInNlbGVjdG9ycyIsIk5HX0FOSU1BVEVfU1RBVEUiLCJOR19BTklNQVRFX0NMQVNTX05BTUUiLCJyb290QW5pbWF0ZVN0YXRlIiwicnVubmluZyIsIiQkJGpxTGl0ZSIsImNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZCIsInN0cnVjdHVyYWwiLCJkaXNhYmxlZCIsInBhcnNlQW5pbWF0ZU9wdGlvbnMiLCJydW5uaW5nQW5pbWF0aW9ucyIsImxvb2t1cCIsIm1hdGNoaW5nQW5pbWF0aW9uIiwiZmxhZ01hcCIsImtsYXNzIiwic2VsZWN0b3JGYWN0b3J5TmFtZSIsImFuaW1hdGlvblJ1bm5lciIsImFuaW1hdGlvbkV2ZW50IiwicmVnaXN0ZXJBbmltYXRpb24iLCJhbmltYXRpb25GYWN0b3J5IiwiYWZ0ZXJGbiIsImJlZm9yZUZuIiwiYmVmb3JlIiwiY2FuY2VsbGF0aW9ucyIsImFsbENvbXBsZXRlRm4iLCJhZnRlckFuaW1hdGlvbkNvbXBsZXRlIiwiY2xhc3NOYW1lQWRkIiwiY2xhc3NOYW1lUmVtb3ZlIiwiaXNTZXRDbGFzc09wZXJhdGlvbiIsImlzQ2xhc3NCYXNlZCIsImN1cnJlbnRDbGFzc05hbWUiLCJpc0FuaW1hdGFibGVDbGFzc05hbWUiLCJiZWZvcmVDb21wbGV0ZSIsImJlZm9yZUNhbmNlbCIsImFmdGVyQ29tcGxldGUiLCJhZnRlckNhbmNlbCIsImFuaW1hdGlvbkxvb2t1cCIsImNyZWF0ZWQiLCJwZXJmb3JtQW5pbWF0aW9uIiwiYWZ0ZXJFbGVtZW50IiwiZG9tT3BlcmF0aW9uIiwiZmlyZURPTUNhbGxiYWNrIiwiYW5pbWF0aW9uUGhhc2UiLCJlbGVtZW50RXZlbnRzIiwiZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMiLCJmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jIiwiZmlyZURvbmVDYWxsYmFja0FzeW5jIiwiZmlyZURPTU9wZXJhdGlvbiIsImhhc0JlZW5SdW4iLCJjbG9zZUFuaW1hdGlvbiIsInJ1bm5lciIsImNsZWFudXAiLCJsb2NhbEFuaW1hdGlvbkNvdW50Iiwibm9vcENhbmNlbCIsImFuaW1hdGlvbnNEaXNhYmxlZCIsIm5nQW5pbWF0ZVN0YXRlIiwidG90YWxBY3RpdmVBbmltYXRpb25zIiwidG90YWxBY3RpdmUiLCJsYXN0QW5pbWF0aW9uIiwic2tpcEFuaW1hdGlvbiIsImFuaW1hdGlvbnNUb0NhbmNlbCIsIm9wZXJhdGlvbiIsImFjdGl2ZUxlYXZlQW5pbWF0aW9uIiwiZ2xvYmFsQW5pbWF0aW9uQ291bnRlciIsImNhbmNlbGxlZCIsImNhbmNlbENoaWxkQW5pbWF0aW9ucyIsInJlbW92ZUFuaW1hdGlvbnMiLCJhbGxvd0NoaWxkQW5pbWF0aW9ucyIsInBhcmVudFJ1bm5pbmdBbmltYXRpb24iLCJoYXNQYXJlbnQiLCJpc1Jvb3QiLCJhbmltYXRlQ2hpbGRyZW5GbGFnIiwiZGVyZWdpc3RlcldhdGNoIiwiaGFzQ2FjaGUiLCJjIiwiZWxlbWVudE5vZGUiLCIkJGFuaW1hdGVSZWZsb3ciLCJjbGVhckNhY2hlQWZ0ZXJSZWZsb3ciLCJjYW5jZWxBbmltYXRpb25SZWZsb3ciLCJhbmltYXRpb25SZWZsb3dRdWV1ZSIsImxvb2t1cENhY2hlIiwiYWZ0ZXJSZWZsb3ciLCJhbmltYXRpb25DbG9zZUhhbmRsZXIiLCJ0b3RhbFRpbWUiLCJhbmltYXRpb25FbGVtZW50UXVldWUiLCJmdXR1cmVUaW1lc3RhbXAiLCJub3ciLCJjbG9zaW5nVGltZXN0YW1wIiwiY2xvc2luZ1RpbWVyIiwiY2xvc2VBbGxBbmltYXRpb25zIiwiZWxlbWVudERhdGEiLCJOR19BTklNQVRFX0NTU19EQVRBX0tFWSIsImNsb3NlQW5pbWF0aW9uRm5zIiwiZ2V0RWxlbWVudEFuaW1hdGlvbkRldGFpbHMiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJhbmltYXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbkRlbGF5IiwiZWxlbWVudFN0eWxlcyIsInRyYW5zaXRpb25EdXJhdGlvblN0eWxlIiwiVFJBTlNJVElPTl9QUk9QIiwiRFVSQVRJT05fS0VZIiwicGFyc2VNYXhUaW1lIiwidHJhbnNpdGlvbkRlbGF5U3R5bGUiLCJERUxBWV9LRVkiLCJBTklNQVRJT05fUFJPUCIsImFEdXJhdGlvbiIsIkFOSU1BVElPTl9JVEVSQVRJT05fQ09VTlRfS0VZIiwidG90YWwiLCJtYXhWYWx1ZSIsImdldENhY2hlS2V5IiwicGFyZW50SUQiLCJOR19BTklNQVRFX1BBUkVOVF9LRVkiLCJwYXJlbnRDb3VudGVyIiwiYW5pbWF0ZVNldHVwIiwiZXZlbnRDYWNoZUtleSIsIml0ZW1JbmRleCIsInN0YWdnZXIiLCJzdGFnZ2VyQ2xhc3NOYW1lIiwic3RhZ2dlckNhY2hlS2V5IiwiYXBwbHlDbGFzc2VzIiwiZm9ybWVyRGF0YSIsInRpbWluZ3MiLCJibG9ja1RyYW5zaXRpb24iLCJibG9ja0FuaW1hdGlvbiIsImJsb2NrVHJhbnNpdGlvbnMiLCJibG9ja0FuaW1hdGlvbnMiLCJhbmltYXRlUnVuIiwiYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUiLCJvbkVuZCIsImNzczNBbmltYXRpb25FdmVudHMiLCJvbkFuaW1hdGlvblByb2dyZXNzIiwiYWN0aXZlQ2xhc3NOYW1lIiwicGVuZGluZ0NsYXNzTmFtZSIsInN0YWdnZXJUaW1lb3V0IiwiYW5pbWF0ZUNsb3NlIiwiYXBwbGllZFN0eWxlcyIsInJlbW92ZVByb3BlcnR5Iiwib3JpZ2luYWxFdmVudCIsInRpbWVTdGFtcCIsIiRtYW51YWxUaW1lU3RhbXAiLCJlbGFwc2VkVGltZSIsIkVMQVBTRURfVElNRV9NQVhfREVDSU1BTF9QTEFDRVMiLCJzdGFydFRpbWUiLCJtYXhEZWxheVRpbWUiLCJtYXhEdXJhdGlvbiIsInN0YWdnZXJUaW1lIiwidHJhbnNpdGlvblN0YWdnZXJEZWxheSIsImFuaW1hdGlvblN0YWdnZXJEZWxheSIsIkNTU19QUkVGSVgiLCJtYXhEZWxheSIsIk9ORV9TRUNPTkQiLCJvbGRTdHlsZSIsIkFOSU1BVElPTkVORF9FVkVOVCIsIlRSQU5TSVRJT05FTkRfRVZFTlQiLCJhbmltYXRpb25UaW1lIiwiQ0xPU0lOR19USU1FX0JVRkZFUiIsImJvb2wiLCJQUk9QRVJUWV9LRVkiLCJBTklNQVRJT05fUExBWVNUQVRFX0tFWSIsImFuaW1hdGVCZWZvcmUiLCJhbmltYXRlQWZ0ZXIiLCJhbmltYXRpb25Db21wbGV0ZSIsInByZVJlZmxvd0NhbmNlbGxhdGlvbiIsInN1ZmZpeENsYXNzZXMiLCJvbnRyYW5zaXRpb25lbmQiLCJvbndlYmtpdHRyYW5zaXRpb25lbmQiLCJvbmFuaW1hdGlvbmVuZCIsIm9ud2Via2l0YW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uQ29tcGxldGVkIiwiYmVmb3JlU2V0Q2xhc3MiLCJjYW5jZWxsYXRpb25NZXRob2QiLCJiZWZvcmVBZGRDbGFzcyIsImJlZm9yZVJlbW92ZUNsYXNzIiwibWRNZWRpYUZhY3RvcnkiLCIkbWRDb25zdGFudCIsIiRtZE1lZGlhIiwicXVlcnkiLCJ2YWxpZGF0ZWQiLCJxdWVyaWVzIiwidmFsaWRhdGUiLCJNRURJQSIsIm1xbHMiLCJtYXRjaE1lZGlhIiwiYWRkTGlzdGVuZXIiLCJvblF1ZXJ5Q2hhbmdlIiwibWVkaWEiLCJnZXRRdWVyeSIsImdldFJlc3BvbnNpdmVBdHRyaWJ1dGUiLCJNRURJQV9QUklPUklUWSIsIm1lZGlhTmFtZSIsIm5vcm1hbGl6ZWROYW1lIiwiZ2V0Tm9ybWFsaXplZE5hbWUiLCJ3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzIiwiYXR0ck5hbWVzIiwid2F0Y2hGbiIsInVud2F0Y2hGbnMiLCJub3JtYWxpemVDYWNoZSIsIk1kQ29yZUNvbmZpZ3VyZSIsIiRtZFRoZW1pbmdQcm92aWRlciIsInJBRkRlY29yYXRvciIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCJiYWNrZ3JvdW5kUGFsZXR0ZSIsInRocm90dGxlIiwiY2IiLCJxdWV1ZUFyZ3MiLCJhbHJlYWR5UXVldWVkIiwicXVldWVDYiIsIk1kQ29uc3RhbnRGYWN0b3J5IiwidmVuZG9yUHJvcGVydHkiLCJ3ZWJraXQiLCJLRVlfQ09ERSIsIkVOVEVSIiwiU1BBQ0UiLCJMRUZUX0FSUk9XIiwiVVBfQVJST1ciLCJSSUdIVF9BUlJPVyIsIkRPV05fQVJST1ciLCJUUkFOU0lUSU9ORU5EIiwiQU5JTUFUSU9ORU5EIiwiVFJBTlNGT1JNIiwiVFJBTlNGT1JNX09SSUdJTiIsIlRSQU5TSVRJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwiQU5JTUFUSU9OX1BMQVlfU1RBVEUiLCJBTklNQVRJT05fRFVSQVRJT04iLCJBTklNQVRJT05fTkFNRSIsIkFOSU1BVElPTl9USU1JTkciLCJBTklNQVRJT05fRElSRUNUSU9OIiwic20iLCJndC1zbSIsIm1kIiwiZ3QtbWQiLCJsZyIsImd0LWxnIiwiSXRlcmF0b3IiLCJyZWxvb3AiLCJnZXRJdGVtcyIsIl9pdGVtcyIsImluUmFuZ2UiLCJoYXNOZXh0IiwiaGFzUHJldmlvdXMiLCJpdGVtQXQiLCJmaW5kQnkiLCJmaXJzdCIsImZpbmRTdWJzZXF1ZW50SXRlbSIsImJhY2t3YXJkcyIsInRydWVGbiIsImN1ckluZGV4IiwibmV4dEluZGV4IiwiZm91bmRJdGVtIiwicHJldmlvdXMiLCJuZXh0VW5pcXVlSWQiLCJnZXROb2RlIiwiZWwiLCJVdGlsIiwicGVyZm9ybWFuY2UiLCJjbGllbnRSZWN0Iiwib2Zmc2V0UGFyZW50IiwiaXNPZmZzZXRSZWN0Iiwibm9kZVJlY3QiLCJvZmZzZXRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiZm9yY2VGb2N1cyIsImZvY3VzT25DbGljayIsIiRmb2N1cyIsIm5ld0V2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsIiRtYXRlcmlhbCIsImRpc3BhdGNoRXZlbnQiLCJ0cmFuc2l0aW9uRW5kUHJvbWlzZSIsImZpbmlzaGVkIiwiZmFrZU5nTW9kZWwiLCIkZmFrZSIsImZ1bmMiLCJ3YWl0IiwicmVjZW50IiwiZGlnaXQiLCJkaXNjb25uZWN0U2NvcGUiLCIkJGRpc2Nvbm5lY3RlZCIsInJlY29ubmVjdFNjb3BlIiwiZ2V0Q2xvc2VzdCIsInRhZ05hbWUiLCJBcmlhU2VydmljZSIsImRlZmF1bHRWYWx1ZSIsImNoaWxkSGFzQXR0cmlidXRlIiwiZXhwZWN0QXN5bmMiLCJkZWZhdWx0VmFsdWVHZXR0ZXIiLCJleHBlY3RXaXRoVGV4dCIsImlzSGlkZGVuIiwiY3VycmVudFN0eWxlIiwiZGlzcGxheSIsImhhc0NoaWxkcmVuIiwiaGFzQ2hpbGROb2RlcyIsImhhc0F0dHIiLCJtZENvbXBpbGVyU2VydmljZSIsInRyYW5zZm9ybVRlbXBsYXRlIiwicnVuSGFuZGxlcnMiLCJoYW5kbGVyRXZlbnQiLCJoYW5kbGVyIiwiaGFuZGxlck5hbWUiLCJIQU5ETEVSUyIsInBvaW50ZXIiLCJnZXN0dXJlU3RhcnQiLCJsYXN0UG9pbnRlciIsInR5cGVzTWF0Y2giLCJlbmRUaW1lIiwibWFrZVN0YXJ0UG9pbnRlciIsImdlc3R1cmVNb3ZlIiwidXBkYXRlUG9pbnRlclN0YXRlIiwiZ2VzdHVyZUVuZCIsImdldEV2ZW50UG9pbnQiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwb2ludCIsIngiLCJwYWdlWCIsInBhZ2VZIiwiZGlzdGFuY2VYIiwic3RhcnRYIiwiZGlzdGFuY2VZIiwic3RhcnRZIiwiZGlzdGFuY2UiLCJzcXJ0IiwiZGlyZWN0aW9uWCIsImRpcmVjdGlvblkiLCJkdXJhdGlvbiIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsInN0YXJ0UG9pbnRlciIsIlNUQVJUX0VWRU5UUyIsIk1PVkVfRVZFTlRTIiwiRU5EX0VWRU5UUyIsInZlbmRvciIsIm9wZXJhIiwiaXNJb3MiLCJpc0FuZHJvaWQiLCJzaG91bGRIaWphY2tDbGlja3MiLCJpc0tleUNsaWNrIiwiY2xpZW50WCIsImNsaWVudFkiLCIkJE1kR2VzdHVyZUhhbmRsZXIiLCJhZGRIYW5kbGVyIiwicmVnaXN0ZXJFbGVtZW50IiwibWF4RGlzdGFuY2UiLCJvblN0YXJ0Iiwib25DYW5jZWwiLCJyZWdpc3RlcmVkUGFyZW50Iiwib25Nb3ZlIiwiZHgiLCJkeSIsIm1pbkRpc3RhbmNlIiwiaG9yaXpvbnRhbCIsInNob3VsZFN0YXJ0RHJhZyIsInNob3VsZENhbmNlbCIsImRyYWdQb2ludGVyIiwiZGlzcGF0Y2hEcmFnTW92ZSIsImlzUnVubmluZyIsIm1pblZlbG9jaXR5IiwiZXZlbnRUeXBlIiwiR2VzdHVyZUhhbmRsZXIiLCJqUXVlcnlEaXNwYXRjaEV2ZW50Iiwic3JjRXZlbnQiLCJldmVudFBvaW50ZXIiLCJldmVudE9iaiIsIkV2ZW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJhbHRLZXkiLCJuYXRpdmVEaXNwYXRjaEV2ZW50IiwiZGV0YWlsIiwiaW5pdEN1c3RvbUV2ZW50IiwicGFyZW50VGFyZ2V0IiwiZ2V0TmVhcmVzdFBhcmVudCIsInBhcmVudFRhcmdldE9wdGlvbnMiLCIkbWRHZXN0dXJlIiwib25EZXN0cm95IiwiSW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIiLCJpbnRlcmltRmFjdG9yeU5hbWUiLCJzZXREZWZhdWx0cyIsInByb3ZpZGVyQ29uZmlnIiwib3B0aW9uc0ZhY3RvcnkiLCJtZXRob2RzIiwiRVhQT1NFRF9NRVRIT0RTIiwiYWRkTWV0aG9kIiwiY3VzdG9tTWV0aG9kcyIsImFkZFByZXNldCIsInByZXNldHMiLCJhcmdPcHRpb24iLCIkJGludGVyaW1FbGVtZW50Iiwic2hvd0ludGVyaW1FbGVtZW50Iiwib3B0cyIsIl9vcHRpb25zIiwiaW50ZXJpbUVsZW1lbnRTZXJ2aWNlIiwic2hvdyIsImRlZmF1bHRPcHRpb25zIiwiaW52b2tlRmFjdG9yeSIsImRlZmF1bHRWYWwiLCJwdWJsaWNTZXJ2aWNlIiwiZGVmYXVsdE1ldGhvZHMiLCJoaWRlIiwiUHJlc2V0IiwicHJlc2V0RGVmYXVsdHMiLCJwcmVzZXRNZXRob2RzIiwiJHR5cGUiLCJtZXRob2ROYW1lIiwiSW50ZXJpbUVsZW1lbnRGYWN0b3J5IiwiJG1kQ29tcGlsZXIiLCIkbWRUaGVtaW5nIiwicmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzIiwidXNlc1N0YW5kYXJkU3ltYm9scyIsInByb2Nlc3NUZW1wbGF0ZSIsImludGVyaW1FbGVtZW50IiwiSW50ZXJpbUVsZW1lbnQiLCJoaWRlVGltZW91dCIsInByZXNlcnZlU2NvcGUiLCJvblNob3ciLCJvblJlbW92ZSIsInNob3dGYWlsZWQiLCJjb21waWxlRGF0YSIsInN0YXJ0SGlkZVRpbWVvdXQiLCJoaWRlRGVsYXkiLCJ0aGVtYWJsZSIsIm9uQ29tcGxldGUiLCJjYW5jZWxUaW1lb3V0IiwiQ29tcG9uZW50UmVnaXN0cnkiLCJpc1ZhbGlkSUQiLCJpbnN0YW5jZXMiLCJwZW5kaW5ncyIsIm5vdEZvdW5kRXJyb3IiLCJnZXRJbnN0YW5jZXMiLCIkJG1kSGFuZGxlIiwiZGVyZWdpc3RlciIsInJlc29sdmVXaGVuIiwiZGZkIiwiSW5rUmlwcGxlRGlyZWN0aXZlIiwiJG1kSW5rUmlwcGxlIiwiYXR0YWNoQ2hlY2tib3hCZWhhdmlvciIsImF0dGFjaEJ1dHRvbkJlaGF2aW9yIiwiSW5rUmlwcGxlU2VydmljZSIsImF0dGFjaCIsImlzRkFCIiwiaXNNZW51SXRlbSIsImNlbnRlciIsImRpbUJhY2tncm91bmQiLCJmaXRSaXBwbGUiLCJhdHRhY2hUYWJCZWhhdmlvciIsIm91dGxpbmUiLCJnZXRSaXBwbGVDb250YWluZXIiLCJjb250YWluZXIiLCJwYXJzZUNvbG9yIiwiY29sb3IiLCJoZXhUb1JHQkEiLCJkaWciLCJyZWQiLCJncm4iLCJibHUiLCJyZ2JUb1JHQkEiLCJyZW1vdmVFbGVtZW50IiwicmlwcGxlcyIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZUVsZW1lbnQiLCJzdGF0ZXMiLCJlbGVtSXNBY3RpdmUiLCJpc0FjdGl2ZSIsImVsZW1Jc0hlbGQiLCJpc0hlbGQiLCJhbmltYXRpbmciLCJyaXBwbGVTaXplIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNyZWF0ZVJpcHBsZSIsImdldFJpcHBsZUVsZW1lbnQiLCJnZXRSaXBwbGVTaXplIiwibXVsdGlwbGllciIsInJlY3QiLCJwb3ciLCJnZXRSaXBwbGVDc3MiLCJyZ2JhVG9SR0IiLCJib3JkZXJDb2xvciIsImNvbG9yRWxlbWVudCIsImJvcmRlcldpZHRoIiwib25QcmVzc0Rvd24iLCJpc1JpcHBsZUFsbG93ZWQiLCJvblByZXNzVXAiLCJyaXBwbGUiLCJpc0Rpc2FibGVkIiwiZ3JhbmRwYXJlbnQiLCJhbmNlc3RvciIsIm1vdXNlZG93biIsImhvdmVyIiwibW91c2Vkb3duUGF1c2VUaW1lIiwiaXNBY3RpdmVFeHByIiwicmlwcGxlU2l6ZVNldHRpbmciLCJhdHRyTm9EaXJlY3RpdmUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsImNvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMiLCJwaW5rIiwicHVycGxlIiwiZGVlcC1wdXJwbGUiLCJpbmRpZ28iLCJibHVlIiwibGlnaHQtYmx1ZSIsImNvbnRyYXN0TGlnaHRDb2xvcnMiLCJjeWFuIiwidGVhbCIsImdyZWVuIiwibGlnaHQtZ3JlZW4iLCJsaW1lIiwieWVsbG93IiwiYW1iZXIiLCJvcmFuZ2UiLCJkZWVwLW9yYW5nZSIsImJyb3duIiwiZ3JleSIsIjAiLCIxMDAwIiwiYmx1ZS1ncmV5IiwiVGhlbWluZ1Byb3ZpZGVyIiwiJG1kQ29sb3JQYWxldHRlIiwiZGVmaW5lUGFsZXR0ZSIsIlBBTEVUVEVTIiwiY2hlY2tQYWxldHRlVmFsaWQiLCJ0aGVtaW5nUHJvdmlkZXIiLCJleHRlbmRQYWxldHRlIiwibWlzc2luZ0NvbG9ycyIsIlZBTElEX0hVRV9WQUxVRVMiLCJmaWVsZCIsInJlZ2lzdGVyVGhlbWUiLCJpbmhlcml0RnJvbSIsIlRIRU1FUyIsInBhcmVudFRoZW1lIiwiVGhlbWUiLCJjb2xvcnMiLCJjb2xvclR5cGUiLCJodWVzIiwic2V0RGFyayIsImlzRGFyayIsImZvcmVncm91bmRQYWxldHRlIiwiTElHSFRfRk9SRUdST1VORCIsIkRBUktfRk9SRUdST1VORCIsImZvcmVncm91bmRTaGFkb3ciLCJEQVJLX1NIQURPVyIsIkxJR0hUX1NIQURPVyIsIm5ld0RlZmF1bHRIdWVzIiwiREFSS19ERUZBVUxUX0hVRVMiLCJMSUdIVF9ERUZBVUxUX0hVRVMiLCJvbGREZWZhdWx0SHVlcyIsIm5ld0RlZmF1bHRzIiwib2xkRGVmYXVsdHMiLCJodWVOYW1lIiwiZGFyayIsIlRIRU1FX0NPTE9SX1RZUEVTIiwiZGVmYXVsdEh1ZXMiLCJwYWxldHRlTmFtZSIsImh1ZVZhbHVlIiwiVGhlbWluZ1NlcnZpY2UiLCJyZWdpc3RlcmVkIiwiYXBwbHlUaGVtZSIsImNoYW5nZVRoZW1lIiwib2xkVGhlbWUiLCJhdHRyVGhlbWVWYWx1ZSIsImFsd2F5c1dhdGNoVGhlbWUiLCIkbWRUaGVtZSIsImRlZmF1bHRUaGVtZSIsInNldERlZmF1bHRUaGVtZSIsImFsd2F5c1dhdGNoIiwiX0xJR0hUX0RFRkFVTFRfSFVFUyIsIl9EQVJLX0RFRkFVTFRfSFVFUyIsIl9QQUxFVFRFUyIsIl9USEVNRVMiLCJfcGFyc2VSdWxlcyIsInBhcnNlUnVsZXMiLCJfcmdiYSIsInJnYmEiLCJUaGVtaW5nRGlyZWN0aXZlIiwiJHNldFRoZW1lIiwibWRUaGVtZSIsIlRoZW1hYmxlRGlyZWN0aXZlIiwicnVsZXMiLCJjaGVja1ZhbGlkUGFsZXR0ZSIsImdlbmVyYXRlZFJ1bGVzIiwidGhlbWVOYW1lUmVnZXgiLCJodWVSZWdleCIsInNpbXBsZVZhcmlhYmxlUmVnZXgiLCJwYWxldHRlIiwiaHVlIiwib3BhY2l0eSIsIm5ld1J1bGUiLCJodWVUeXBlIiwiZ2VuZXJhdGVUaGVtZXMiLCJzYW5pdGl6ZVBhbGV0dGUiLCJkZWZhdWx0Q29udHJhc3QiLCJsaWdodENvbG9ycyIsInN0cm9uZ0xpZ2h0Q29sb3JzIiwiZGFya0NvbG9ycyIsImdldENvbnRyYXN0Q29sb3IiLCJEQVJLX0NPTlRSQVNUX0NPTE9SIiwiU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SIiwiTElHSFRfQ09OVFJBU1RfQ09MT1IiLCJyZ2JWYWx1ZSIsImNvbG9yVG9SZ2JhQXJyYXkiLCJjb250cmFzdCIsInRoZW1lQ3NzIiwicnVsZSIsInJ1bGVzQnlUeXBlIiwicnVsZU1hdGNoUmVnZXgiLCJERUZBVUxUX0NPTE9SX1RZUEUiLCJzdHlsZVN0cmluZyIsImFjY2VudCIsImdlbmVyYXRpb25Jc0RvbmUiLCJoZWFkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbHIiLCJyZ2JBcnJheSIsIjEiLCIyIiwiMyIsIjQiLCJkZWZhdWx0IiwiaHVlLTEiLCJodWUtMiIsImh1ZS0zIiwiYmFja2dyb3VuZCIsImRlZmF1bHREZWZhdWx0SHVlcyIsIkJhY2tkcm9wRGlyZWN0aXZlIiwiTWRCb3R0b21TaGVldERpcmVjdGl2ZSIsIk1kQm90dG9tU2hlZXRQcm92aWRlciIsIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImJvdHRvbVNoZWV0RGVmYXVsdHMiLCIkbWRCb3R0b21TaGVldCIsImJhY2tkcm9wIiwiYm90dG9tU2hlZXQiLCJCb3R0b21TaGVldCIsInRhcmdldEV2ZW50IiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsImxhc3RPdmVyZmxvdyIsImZvY3VzYWJsZSIsImVzY2FwZVRvQ2xvc2UiLCJyb290RWxlbWVudEtleXVwQ2FsbGJhY2siLCJvbkRyYWdTdGFydCIsIm9uRHJhZyIsInRyYW5zZm9ybSIsIlBBRERJTkciLCJvbkRyYWdFbmQiLCJDTE9TSU5HX1ZFTE9DSVRZIiwiZGlzdGFuY2VSZW1haW5pbmciLCJNZEJ1dHRvbkRpcmVjdGl2ZSIsIiRtZEFyaWEiLCJpc0FuY2hvciIsIm5nSHJlZiIsImdldFRlbXBsYXRlIiwicG9zdExpbmsiLCJlbGVtZW50SGFzVGV4dCIsIm5nRGlzYWJsZWQiLCJtZENhcmREaXJlY3RpdmUiLCJNZENoZWNrYm94RGlyZWN0aXZlIiwiJG1kVXRpbCIsInRhYkluZGV4Iiwia2V5cHJlc3NIYW5kbGVyIiwiQ0hFQ0tFRF9DU1MiLCJuZ0NoZWNrZWQiLCJtZENvbnRlbnREaXJlY3RpdmUiLCJDb250ZW50Q29udHJvbGxlciIsImlvc1Njcm9sbEZpeCIsIiRtYXRlcmlhbFNjcm9sbEZpeGVkIiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiTWREaWFsb2dEaXJlY3RpdmUiLCJjbGllbnRIZWlnaHQiLCJNZERpYWxvZ1Byb3ZpZGVyIiwiYWR2YW5jZWREaWFsb2dPcHRpb25zIiwiJG1kRGlhbG9nIiwiZGlhbG9nRGVmYXVsdE9wdGlvbnMiLCJmaW5kQ2xvc2VCdXR0b24iLCJjbG9zZUJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJwb3BJblRhcmdldCIsImNvbmZpZ3VyZUFyaWEiLCJoYXNCYWNrZHJvcCIsInBhcmVudE9mZnNldCIsImRpYWxvZ1BvcEluIiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsImRpYWxvZ0NsaWNrT3V0c2lkZUNhbGxiYWNrIiwiZGlhbG9nUG9wT3V0IiwiZGlhbG9nQ29udGVudCIsIndvcmRzIiwiY2xpY2tFbGVtZW50IiwiZGlhbG9nRWwiLCJ0cmFuc2Zvcm1Ub0NsaWNrRWxlbWVudCIsImNsaWNrUmVjdCIsImRpYWxvZ1JlY3QiLCJzY2FsZVgiLCJzY2FsZVkiLCJNZERpdmlkZXJDb250cm9sbGVyIiwiTWREaXZpZGVyRGlyZWN0aXZlIiwiR3JpZExpc3REaXJlY3RpdmUiLCIkbWRHcmlkTGF5b3V0Iiwid2F0Y2hNZWRpYSIsImludmFsaWRhdGVMYXlvdXQiLCJsYXlvdXRJZk1lZGlhTWF0Y2giLCJsYXlvdXREZWxlZ2F0ZSIsInRpbGVzIiwiZ2V0VGlsZUVsZW1lbnRzIiwiY29sQ291bnQiLCJnZXRDb2x1bW5Db3VudCIsInJvd01vZGUiLCJnZXRSb3dNb2RlIiwicm93SGVpZ2h0IiwiZ2V0Um93SGVpZ2h0IiwiZ3V0dGVyIiwiZ2V0R3V0dGVyIiwiZ2V0VGlsZVNwYW5zIiwicHMiLCJyb3dDb3VudCIsIiRtZEdyaWRQb3NpdGlvbiIsImdldFN0eWxlcyIsInNwYW5zIiwicmVmbG93IiwibWRPbkxheW91dCIsImhTaGFyZSIsImhHdXR0ZXJTaGFyZSIsImhVbml0IiwiVU5JVCIsInNoYXJlIiwiZ3V0dGVyU2hhcmUiLCJQT1NJVElPTiIsInVuaXQiLCJESU1FTlNJT04iLCJzcGFuIiwicGFkZGluZ1RvcCIsInJvdyIsInZTaGFyZSIsInZVbml0Iiwidkd1dHRlclNoYXJlIiwidGlsZUF0dHJzIiwiYXBwbHlEZWZhdWx0VW5pdCIsIndoUmF0aW8iLCJHcmlkTGlzdENvbnRyb2xsZXIiLCJpbnZhbGlkYXRlZCIsIiR0aW1lb3V0XyIsIkdyaWRMYXlvdXRGYWN0b3J5IiwiZGVmYXVsdEFuaW1hdG9yIiwiY2FsY3VsYXRlR3JpZEZvciIsInRpbGVTcGFucyIsInJlc2VydmVTcGFjZSIsImN1ckNvbCIsIm5leHRSb3ciLCJzcGFjZVRyYWNrZXIiLCJmaW5kRW5kIiwiYWRqdXN0Um93IiwiY3VyUm93IiwiY29scyIsImJ5IiwibmV3U3BhY2VUcmFja2VyIiwidHJhY2tlciIsInBvc2l0aW9uaW5nIiwibGF5b3V0SW5mbyIsImxheW91dFRpbWUiLCJtYXBUaW1lIiwicmVmbG93VGltZSIsInVwZGF0ZUZuIiwiY3VzdG9tQW5pbWF0b3JGbiIsImFuaW1hdG9yIiwiaXQiLCJ0aWxlQ291bnQiLCJHcmlkVGlsZURpcmVjdGl2ZSIsImdyaWRDdHJsIiwidW53YXRjaEF0dHJzIiwiYWRkVGlsZSIsInJlbW92ZVRpbGUiLCJHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUiLCJsYXlvdXQiLCJtZEljb25EaXJlY3RpdmUiLCIkbWRJY29uIiwibWRGb250SWNvbiIsInBhcmVudHNIYXZlVGV4dCIsImFyaWFMYWJlbCIsImFsdCIsImZvbnRJY29uIiwic3ZnSWNvbiIsIm1kU3ZnSWNvbiIsIm1kU3ZnU3JjIiwiYXR0clZhbCIsInN2ZyIsInN2Z1NyYyIsIk1kSWNvblByb3ZpZGVyIiwiQ29uZmlndXJhdGlvbkl0ZW0iLCJpY29uU2l6ZSIsImRlZmF1bHRJY29uU2l6ZSIsIk1kSWNvblNlcnZpY2UiLCJjYWNoZUljb24iLCJpY29uIiwiaWNvbkNvbmZpZyIsImlzSWNvbiIsIkljb24iLCJwcmVwYXJlQW5kU3R5bGUiLCJpY29uQ2FjaGUiLCJsb2FkQnlJRCIsImxvYWRCeVVSTCIsImxvYWRGcm9tSWNvblNldCIsImV4dHJhY3RGcm9tU2V0IiwiaWNvbk5hbWUiLCJpY29uU2V0Q29uZmlnIiwic2V0TmFtZSIsImZpdCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJ2aWV3Qm94IiwicG9pbnRlci1ldmVudHMiLCJlbHMiLCJhbm5vdW5jZU5vdEZvdW5kIiwidXJsUmVnZXgiLCJpY29uU2V0IiwiZGVmYXVsdEljb25TZXQiLCJtZElucHV0Q29udGFpbmVyRGlyZWN0aXZlIiwiQ29udGFpbmVyQ3RybCIsImlzRXJyb3JHZXR0ZXIiLCJtZElzRXJyb3IiLCJzZXRGb2N1c2VkIiwiaXNGb2N1c2VkIiwic2V0SGFzVmFsdWUiLCJoYXNWYWx1ZSIsInNldEludmFsaWQiLCJpc0ludmFsaWQiLCJoYXNMYWJlbEFuZElucHV0IiwibGFiZWxEaXJlY3RpdmUiLCJjb250YWluZXJDdHJsIiwibWROb0Zsb2F0IiwiaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSIsIm5nTW9kZWxQaXBlbGluZUNoZWNrVmFsdWUiLCJpbnB1dENoZWNrVmFsdWUiLCJzZXR1cFRleHRhcmVhIiwicGlwZWxpbmVMaXN0ZW5lciIsIm9uQ2hhbmdlVGV4dGFyZWEiLCJncm93VGV4dGFyZWEiLCJvblNjcm9sbCIsImlzUmVhZG9ubHkiLCJyZWFkb25seSIsIm1kTWF4bGVuZ3RoRGlyZWN0aXZlIiwicmVuZGVyQ2hhckNvdW50IiwiY2hhckNvdW50RWwiLCJtZE1heGxlbmd0aCIsImxhc3RFbGVtZW50Q2hpbGQiLCJwbGFjZWhvbGRlckRpcmVjdGl2ZSIsImlucHV0Q29udGFpbmVyIiwicGxhY2Vob2xkZXJUZXh0IiwicGxhY2Vob2xkZXIiLCJtZExpc3REaXJlY3RpdmUiLCJtZEl0ZW1EaXJlY3RpdmUiLCJNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUiLCJjbGFtcGVkIiwiZmlsbFJvdGF0aW9uIiwiZml4Um90YXRpb24iLCJjaXJjbGUiLCJmaWxsIiwiZml4IiwiZGlhbWV0ZXIiLCJtZERpYW1ldGVyIiwic2NhbGUiLCJjbGFtcCIsImZpbGxSb3RhdGlvbnMiLCJmaXhSb3RhdGlvbnMiLCJjZWlsIiwicGVyY2VudCIsInJvdGF0aW9uIiwiTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSIsImJhcjFTdHlsZSIsImJhcjJTdHlsZSIsIm1kTW9kZSIsInRyYW5zZm9ybXMiLCJtYWtlVHJhbnNmb3JtIiwidHJhbnNsYXRlWCIsIm1kUmFkaW9Hcm91cERpcmVjdGl2ZSIsImxpbmtSYWRpb0dyb3VwIiwia2V5ZG93bkxpc3RlbmVyIiwicmdDdHJsIiwic2VsZWN0UHJldmlvdXMiLCJzZWxlY3ROZXh0IiwiUmFkaW9Hcm91cENvbnRyb2xsZXIiLCJfcmFkaW9CdXR0b25SZW5kZXJGbnMiLCJjcmVhdGVSYWRpb0dyb3VwQ29udHJvbGxlclByb3RvIiwiX25nTW9kZWxDdHJsIiwicmJSZW5kZXIiLCJzZXRWaWV3VmFsdWUiLCJjaGFuZ2VTZWxlY3RlZEJ1dHRvbiIsInNldEFjdGl2ZURlc2NlbmRhbnQiLCJyYWRpb0lkIiwiaW5jcmVtZW50IiwiYnV0dG9ucyIsIm1kUmFkaW9CdXR0b25EaXJlY3RpdmUiLCJsYXN0Q2hlY2tlZCIsImJ1aWxkQXJpYUlEIiwiYXJpYUlkIiwiYXJpYS1jaGVja2VkIiwiU2lkZW5hdlNlcnZpY2UiLCIkbWRDb21wb25lbnRSZWdpc3RyeSIsImVycm9yTXNnIiwiaXNPcGVuIiwiaXNMb2NrZWRPcGVuIiwidG9nZ2xlIiwiY2xvc2UiLCJTaWRlbmF2RGlyZWN0aXZlIiwic2lkZW5hdkN0cmwiLCJ1cGRhdGVJc0xvY2tlZCIsImlzTG9ja2VkIiwidXBkYXRlSXNPcGVuIiwib25LZXlEb3duIiwidHJpZ2dlcmluZ0VsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwidG9nZ2xlT3BlbiIsImlzRXNjYXBlIiwiaXNMb2NrZWRPcGVuUGFyc2VkIiwibWRJc0xvY2tlZE9wZW4iLCIkbWVkaWEiLCIkdG9nZ2xlT3BlbiIsIlNpZGVuYXZDb250cm9sbGVyIiwibWRDb21wb25lbnRJZCIsIlNsaWRlckRpcmVjdGl2ZSIsInVwZGF0ZUFsbCIsInJlZnJlc2hTbGlkZXJEaW1lbnNpb25zIiwibmdNb2RlbFJlbmRlciIsInJlZHJhd1RpY2tzIiwidXBkYXRlTWluIiwidXBkYXRlTWF4IiwidXBkYXRlU3RlcCIsInN0ZXAiLCJ1cGRhdGVBcmlhRGlzYWJsZWQiLCJtZERpc2NyZXRlIiwibnVtU3RlcHMiLCJ0aWNrQ2FudmFzIiwidHJhY2tUaWNrc1N0eWxlIiwidGlja0NvbnRhaW5lciIsInRpY2tDdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZGltZW5zaW9ucyIsImdldFNsaWRlckRpbWVuc2lvbnMiLCJmaWxsUmVjdCIsInNsaWRlckRpbWVuc2lvbnMiLCJ0cmFja0NvbnRhaW5lciIsInRocm90dGxlZFJlZnJlc2hEaW1lbnNpb25zIiwiY2hhbmdlQW1vdW50Iiwic2V0TW9kZWxWYWx1ZSIsIm1pbk1heFZhbGlkYXRvciIsInN0ZXBWYWxpZGF0b3IiLCJzZXRTbGlkZXJQZXJjZW50IiwidGh1bWJUZXh0IiwiYWN0aXZlVHJhY2siLCJ0aHVtYkNvbnRhaW5lciIsImlzRGlzYWJsZWRHZXR0ZXIiLCJleGFjdFZhbCIsInBlcmNlbnRUb1ZhbHVlIiwicG9zaXRpb25Ub1BlcmNlbnQiLCJjbG9zZXN0VmFsIiwidmFsdWVUb1BlcmNlbnQiLCJpc0RyYWdnaW5nIiwic2V0U2xpZGVyRnJvbUV2ZW50IiwiaXNEaXNjcmV0ZSIsImFkanVzdFRodW1iUG9zaXRpb24iLCJkb1NsaWRlIiwiaXNEaXNhYmxlZFBhcnNlZCIsInRodW1iIiwic3RvcERpc2FibGVkV2F0Y2giLCJkZWJvdW5jZWRVcGRhdGVBbGwiLCJNZFN0aWNreSIsInNldHVwU3RpY2t5IiwiY29udGVudEN0cmwiLCJzdGlja3lDbG9uZSIsInN0aWNreUJhc2VvZmZzZXQiLCJjb250ZW50RWwiLCJkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMiLCJyZWZyZXNoRWxlbWVudHMiLCJyZWZyZXNoUG9zaXRpb24iLCJjdXJyZW50U2Nyb2xsVG9wIiwic2V0Q3VycmVudEl0ZW0iLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0IiwiaXNTY3JvbGxpbmdEb3duIiwicHJldlNjcm9sbFRvcCIsInRyYW5zbGF0ZSIsInByZXYiLCJzZXRTdGlja3lTdGF0ZSIsInRyYW5zbGF0ZVkiLCJzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyIsImNoZWNrU3RpY2t5U3VwcG9ydCIsInN0aWNreVByb3AiLCJ0ZXN0RWwiLCJzdGlja3lQcm9wcyIsInotaW5kZXgiLCJsb29wU2Nyb2xsRXZlbnQiLCJsYXN0U2Nyb2xsVGltZSIsIlNDUk9MTF9FTkRfREVMQVkiLCJpc1Njcm9sbGluZyIsImJyb3dzZXJTdGlja3lTdXBwb3J0IiwiJCRzdGlja3kiLCJNZFN1YmhlYWRlckRpcmVjdGl2ZSIsIiRtZFN0aWNreSIsIm91dGVySFRNTCIsImdldENvbnRlbnQiLCJNZFN3aXRjaCIsIm1kQ2hlY2tib3hEaXJlY3RpdmUiLCJjaGVja2JveExpbmsiLCJjaGVja2JveERpcmVjdGl2ZSIsImRpc2FibGVkR2V0dGVyIiwiZHJhZyIsImlzQ2hhbmdlZCIsImFwcGx5TW9kZWxWYWx1ZSIsInN3aXRjaENvbnRhaW5lciIsIm1kVGV4dEZsb2F0RGlyZWN0aXZlIiwiZmlkIiwibWRGaWQiLCJkaXNhYmxlZFBhcnNlZCIsIm1kSW5wdXRHcm91cERpcmVjdGl2ZSIsIm1kSW5wdXREaXJlY3RpdmUiLCJpc05vdEVtcHR5IiwiaW5wdXRHcm91cEN0cmwiLCJNZFRvYXN0RGlyZWN0aXZlIiwiTWRUb2FzdFByb3ZpZGVyIiwidG9hc3REZWZhdWx0T3B0aW9ucyIsIiRtZFRvYXN0IiwiYWN0aXZlVG9hc3RDb250ZW50IiwidG9hc3RPcGVuQ2xhc3MiLCJvblN3aXBlIiwibmV3Q29udGVudCIsIm1kVG9vbGJhckRpcmVjdGl2ZSIsInNldHVwU2Nyb2xsU2hyaW5rIiwib25NZENvbnRlbnRMb2FkIiwibmV3Q29udGVudEVsIiwiY29udGVudEVsZW1lbnQiLCJkZWJvdW5jZWRDb250ZW50U2Nyb2xsIiwidXBkYXRlVG9vbGJhckhlaWdodCIsInRvb2xiYXJIZWlnaHQiLCJzaHJpbmtTcGVlZEZhY3RvciIsIm9uQ29udGVudFNjcm9sbCIsImRlYm91bmNlZFVwZGF0ZUhlaWdodCIsIm1kU2hyaW5rU3BlZWRGYWN0b3IiLCJtZFNjcm9sbFNocmluayIsIk1kVG9vbHRpcERpcmVjdGl2ZSIsInNldFZpc2libGUiLCJxdWV1ZWQiLCJ2aXNpYmxlIiwic2hvd1Rvb2x0aXAiLCJ0b29sdGlwUGFyZW50IiwicG9zaXRpb25Ub29sdGlwIiwiaGlkZVRvb2x0aXAiLCJwb3NpdGlvbkJhY2tncm91bmQiLCJkaXJlY3Rpb24iLCJ0aXBSZWN0IiwicGFyZW50UmVjdCIsInRpcERpcmVjdGlvbiIsIm5ld1Bvc2l0aW9uIiwiVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSIsIm1kRGlyZWN0aW9uIiwibWREZWxheSIsIlRPT0xUSVBfU0hPV19ERUxBWSIsImlzVmlzaWJsZSIsImRlYm91bmNlZE9uUmVzaXplIiwiTWRBdXRvY29tcGxldGVDdHJsIiwiY29uZmlndXJlV2F0Y2hlcnMiLCJ1bCIsInNlYXJjaFRleHQiLCJsb2FkaW5nIiwidGVybSIsImZldGNoIiwiZmV0Y2hSZXN1bHRzIiwiaXRlbUV4cHIiLCJrZXlkb3duIiwidXBkYXRlU2Nyb2xsIiwiY2xlYXJWYWx1ZSIsImdldERpc3BsYXlWYWx1ZSIsIml0ZW1UZXh0IiwiYm90IiwiaGd0IiwiaXRlbVBhcnRzIiwiaXRlbXNFeHByIiwibWFpbiIsIml0ZW1OYW1lIiwiY2xlYXIiLCJNZEF1dG9jb21wbGV0ZSIsInNlbGVjdGVkSXRlbSIsIk1kSGlnaGxpZ2h0Q3RybCIsInNhbml0aXplIiwiTWRIaWdobGlnaHQiLCJNZEF1dG9jb21wbGV0ZUxpc3RJdGVtIiwibWRBdXRvY29tcGxldGVMaXN0SXRlbSIsIk1kVGFiSW5rRGlyZWN0aXZlIiwidXBkYXRlQmFyIiwidGFic0N0cmwiLCJnZXRTZWxlY3RlZEl0ZW0iLCJoaWRlSW5rQmFyIiwibWROb0JhciIsInBhZ2luYXRpb24iLCJ0YWJEYXRhIiwiZ2V0U2VsZWN0ZWRJbmRleCIsInRhYnMiLCJjbGFzc05hbWVzIiwiY2xhc3NJbmRleCIsImRlYm91bmNlZFVwZGF0ZUJhciIsImlua0JhckVsZW1lbnQiLCJUYWJQYWdpbmF0aW9uRGlyZWN0aXZlIiwib25UYWJGb2N1cyIsInRhYiIsIm9sZFRhYiIsInBhZ2VJbmRleCIsImdldFBhZ2VGb3JUYWIiLCJwYWdlIiwic2V0UGFnZSIsImxvY2tlZCIsInVzZXJDaGFuZ2VQYWdlIiwic2l6ZURhdGEiLCJuZXdQYWdlIiwicGFnZXMiLCJuZXdUYWJJbmRleCIsIm5ld1RhYiIsInVwZGF0ZVBhZ2luYXRpb24iLCJlbmFibGVQYWdpbmF0aW9uIiwidGFic1BhcmVudCIsImZpbGxlciIsImRpc2FibGVQYWdpbmF0aW9uIiwic2xpZGVUYWJCdXR0b25zIiwid2FpdEZvclZpc2libGUiLCJkZWJvdW5jZWRVcGRhdGVQYWdpbmF0aW9uIiwiY2FsY3VsYXRlVGFiRGF0YSIsIm5lZWRQYWdpbmF0aW9uIiwib25UYWJzUGFyZW50VHJhbnNpdGlvbkVuZCIsInBhZ2luZ09mZnNldCIsIiQkcGFnaW5nT2Zmc2V0Iiwic2hvdWxkU3RyZXRjaFRhYnMiLCJzdHJldGNoVGFicyIsIm5vQWRqdXN0IiwiYWRqdXN0Rm9yU3RyZXRjaGVkVGFicyIsImNhbnZhc1dpZHRoIiwiY2xpZW50V2lkdGgiLCJ0YWJzV2lkdGgiLCJ0YWJzUGVyUGFnZSIsInRhYldpZHRoIiwiJHRhYnMiLCJjdXJyZW50UGFnZSIsIlBBR0lOQVRPUlNfV0lEVEgiLCJ0b3RhbFdpZHRoIiwiZmlyc3RUYWJJbmRleCIsImxhc3RUYWJJbmRleCIsInRhYkVsZW1lbnRzIiwibGFzdFBhZ2UiLCJoYXNQcmV2IiwiY2xpY2tOZXh0IiwiY2xpY2tQcmV2aW91cyIsInRhYlRvRm9jdXMiLCJUYWJJdGVtQ29udHJvbGxlciIsIm9uQWRkIiwiY29udGVudEFyZWEiLCJzaG91bGREaXNjb25uZWN0U2NvcGUiLCJjb250ZW50Q29udGFpbmVyIiwiY29udGVudFNjb3BlIiwidG9nZ2xlQW5pbWF0aW9uQ2xhc3MiLCJyaWdodFRvTGVmdCIsIm9uU2VsZWN0IiwiYXJpYS1zZWxlY3RlZCIsIm9uRGVzZWxlY3QiLCJNZFRhYkRpcmVjdGl2ZSIsInRhYkxhYmVsIiwidGFiQ29udGVudCIsInRyYW5zY2x1ZGVUYWJDb250ZW50IiwidGFiSXRlbUN0cmwiLCJkZWZhdWx0Q2xpY2tMaXN0ZW5lciIsIndhdGNoTmdSZXBlYXRJbmRleCIsIm5ld0luZGV4Iiwid2F0Y2hBY3RpdmVBdHRyaWJ1dGUiLCJhY3RpdmVXYXRjaEFjdGlvbiIsImRlc2VsZWN0IiwibWRBY3RpdmUiLCJ3YXRjaERpc2FibGVkIiwiZGlzYWJsZWRXYXRjaEFjdGlvbiIsInRhYklkIiwidGFiQ29udGVudElkIiwiYXJpYS1sYWJlbGxlZGJ5IiwiTWRUYWJzQ29udHJvbGxlciIsInNlbGVjdGVkSW5kZXgiLCJ0YWJzTGlzdCIsIm5vUmVzZWxlY3QiLCJpc1NlbGVjdGVkSXRlbSIsInRvSW5kZXgiLCJmaWx0ZXJGbiIsImlzVGFiRW5hYmxlZCIsIlRhYnNEaXJlY3RpdmUiLCJ3YXRjaFNlbGVjdGVkIiwib2xkSW5kZXgiLCJtZFN0cmV0Y2hUYWJzIl0sIm1hcHBpbmdzIjoiQ0FLQSxTQUFVQSxFQUFRQyxFQUFVQyxHQUFZLFlBZ0N4QyxTQUFTQyxHQUFPQyxFQUFRQyxHQUV0QixNQURBQSxHQUFtQkEsR0FBb0JDLE1BQ2hDLFdBQ0wsR0FLRUMsR0FBU0MsRUFMUEMsRUFBT0MsVUFBVSxHQUNuQkMsRUFBUyxLQUFPUCxFQUFTQSxFQUFTLElBQU0sSUFBTUssRUFBTyxLQUNyREcsRUFBV0YsVUFBVSxHQUNyQkcsRUFBZUgsU0FlakIsS0FYQUgsRUFBVUksRUFBU0MsRUFBU0UsUUFBUSxXQUFZLFNBQVNDLEdBQ3ZELEdBQUlDLElBQVNELEVBQU1FLE1BQU0sRUFBRyxHQUU1QixPQUFJRCxHQUFRLEVBQUlILEVBQWFLLE9BQ3BCQyxHQUFjTixFQUFhRyxFQUFRLElBRXJDRCxJQUdUUixFQUFVQSxFQUFVLHlDQUNqQkgsRUFBU0EsRUFBUyxJQUFNLElBQU1LLEVBQzVCRCxFQUFJLEVBQUdBLEVBQUlFLFVBQVVRLE9BQVFWLElBQ2hDRCxFQUFVQSxHQUFnQixHQUFMQyxFQUFTLElBQU0sS0FBTyxLQUFPQSxFQUFJLEdBQUssSUFDekRZ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U3UyRyxLQUNQbndHLEVBQU0vRyxPQUFPLGdCQUFpQixTQUE0QisxRyxFQUFVb0IsR0FDbEUsR0FBSUEsR0FBWXBCLEVBQWhCLENBQ0EsR0FBSVgsR0FBYytCLEVBQVdwQixDQUc3QixJQUZBL0UsRUFBU2tGLFNBQVNsRixFQUFTajJCLE9BQU9vOEIsR0FBVy9CLEdBRXpDcEUsRUFBU3AyQixRQUFRbTdCLEdBQVcsQ0FFOUIsSUFEQSxHQUFJckQsR0FBUzFCLEVBQVNqMkIsT0FBT2c3QixHQUN0QnJELEdBQVVBLEVBQU9sb0IsY0FDdEJrb0IsRUFBU3FELEVBQVdvQixFQUNkbkcsRUFBUzk2RCxLQUFLdzhELEdBQ2QxQixFQUFTeDFCLFNBQVNrM0IsRUFFMUIxQixHQUFTcGpHLE9BQU84a0csRUFBUTBDLE9BM0I5QnJ1RyxFQUFNMHNHLFlBQWM5eUcsRUFBS3BELGVBQWUsaUJBQW1Cb0QsRUFBS3kyRyxlQUFpQixTQUFXLE9BRTVGMXhCLEVBQVd6a0YsR0FDWHMyRixJQUNBMmYsSUFFQXByRixFQUFXL2tCLEVBQU0rckMsUUFBUyxTQUFTMXVDLEdBQ2pDa0QsUUFBUXJHLFFBQVFBLEVBQVEsR0FBR2lGLGNBQWMscUJBQXFCMUIsT0FBT0osS0E5Q3pFLE9BQ0U4a0IsU0FBVSxJQUNWcmdCLFdBQVksVUFDWm9nQixRQUFTLFNBQ1Q2QyxZQUFZLEVBQ1ova0IsT0FDRTJ2RyxjQUFlLGdCQUVqQng2RyxTQUNFLHFqQkF5QkZ1cUIsS0FBTW92RTtDQS9IVnZ1RixRQUFRNUwsT0FBTyw0QkFDWnVRLFVBQVUsU0FBVWdyRyxHQW9LdkJBLEVBQWNyNUYsU0FBVyxpQkFHekJ0VyxRQUFRNUwsT0FBTyxpQkFBaUJvUSxTQUFTLGdCQUFpQiIsImZpbGUiOiJ2ZW5kb3JzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjMuMTNcbiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxuICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29kZSA9IGFyZ3VtZW50c1swXSxcbiAgICAgIHByZWZpeCA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlID0gYXJndW1lbnRzWzFdLFxuICAgICAgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLFxuXG4gICAgICBtZXNzYWdlLCBpO1xuXG4gICAgbWVzc2FnZSA9IHByZWZpeCArIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksIGFyZztcblxuICAgICAgaWYgKGluZGV4ICsgMiA8IHRlbXBsYXRlQXJncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHJpbmcodGVtcGxhdGVBcmdzW2luZGV4ICsgMl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuMy4xMy8nICtcbiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xuICAgIGZvciAoaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlICsgKGkgPT0gMiA/ICc/JyA6ICcmJykgKyAncCcgKyAoaSAtIDIpICsgJz0nICtcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRvRGVidWdTdHJpbmcoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgfTtcbn1cblxuLyogV2UgbmVlZCB0byB0ZWxsIGpzaGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cbi8qIGdsb2JhbCBhbmd1bGFyOiB0cnVlLFxuICBtc2llOiB0cnVlLFxuICBqcUxpdGU6IHRydWUsXG4gIGpRdWVyeTogdHJ1ZSxcbiAgc2xpY2U6IHRydWUsXG4gIHNwbGljZTogdHJ1ZSxcbiAgcHVzaDogdHJ1ZSxcbiAgdG9TdHJpbmc6IHRydWUsXG4gIG5nTWluRXJyOiB0cnVlLFxuICBhbmd1bGFyTW9kdWxlOiB0cnVlLFxuICB1aWQ6IHRydWUsXG4gIFJFR0VYX1NUUklOR19SRUdFWFA6IHRydWUsXG4gIFZBTElESVRZX1NUQVRFX1BST1BFUlRZOiB0cnVlLFxuXG4gIGxvd2VyY2FzZTogdHJ1ZSxcbiAgdXBwZXJjYXNlOiB0cnVlLFxuICBtYW51YWxMb3dlcmNhc2U6IHRydWUsXG4gIG1hbnVhbFVwcGVyY2FzZTogdHJ1ZSxcbiAgbm9kZU5hbWVfOiB0cnVlLFxuICBpc0FycmF5TGlrZTogdHJ1ZSxcbiAgZm9yRWFjaDogdHJ1ZSxcbiAgc29ydGVkS2V5czogdHJ1ZSxcbiAgZm9yRWFjaFNvcnRlZDogdHJ1ZSxcbiAgcmV2ZXJzZVBhcmFtczogdHJ1ZSxcbiAgbmV4dFVpZDogdHJ1ZSxcbiAgc2V0SGFzaEtleTogdHJ1ZSxcbiAgZXh0ZW5kOiB0cnVlLFxuICBpbnQ6IHRydWUsXG4gIGluaGVyaXQ6IHRydWUsXG4gIG5vb3A6IHRydWUsXG4gIGlkZW50aXR5OiB0cnVlLFxuICB2YWx1ZUZuOiB0cnVlLFxuICBpc1VuZGVmaW5lZDogdHJ1ZSxcbiAgaXNEZWZpbmVkOiB0cnVlLFxuICBpc09iamVjdDogdHJ1ZSxcbiAgaXNTdHJpbmc6IHRydWUsXG4gIGlzTnVtYmVyOiB0cnVlLFxuICBpc0RhdGU6IHRydWUsXG4gIGlzQXJyYXk6IHRydWUsXG4gIGlzRnVuY3Rpb246IHRydWUsXG4gIGlzUmVnRXhwOiB0cnVlLFxuICBpc1dpbmRvdzogdHJ1ZSxcbiAgaXNTY29wZTogdHJ1ZSxcbiAgaXNGaWxlOiB0cnVlLFxuICBpc0Zvcm1EYXRhOiB0cnVlLFxuICBpc0Jsb2I6IHRydWUsXG4gIGlzQm9vbGVhbjogdHJ1ZSxcbiAgaXNQcm9taXNlTGlrZTogdHJ1ZSxcbiAgdHJpbTogdHJ1ZSxcbiAgZXNjYXBlRm9yUmVnZXhwOiB0cnVlLFxuICBpc0VsZW1lbnQ6IHRydWUsXG4gIG1ha2VNYXA6IHRydWUsXG4gIGluY2x1ZGVzOiB0cnVlLFxuICBhcnJheVJlbW92ZTogdHJ1ZSxcbiAgY29weTogdHJ1ZSxcbiAgc2hhbGxvd0NvcHk6IHRydWUsXG4gIGVxdWFsczogdHJ1ZSxcbiAgY3NwOiB0cnVlLFxuICBjb25jYXQ6IHRydWUsXG4gIHNsaWNlQXJnczogdHJ1ZSxcbiAgYmluZDogdHJ1ZSxcbiAgdG9Kc29uUmVwbGFjZXI6IHRydWUsXG4gIHRvSnNvbjogdHJ1ZSxcbiAgZnJvbUpzb246IHRydWUsXG4gIHN0YXJ0aW5nVGFnOiB0cnVlLFxuICB0cnlEZWNvZGVVUklDb21wb25lbnQ6IHRydWUsXG4gIHBhcnNlS2V5VmFsdWU6IHRydWUsXG4gIHRvS2V5VmFsdWU6IHRydWUsXG4gIGVuY29kZVVyaVNlZ21lbnQ6IHRydWUsXG4gIGVuY29kZVVyaVF1ZXJ5OiB0cnVlLFxuICBhbmd1bGFySW5pdDogdHJ1ZSxcbiAgYm9vdHN0cmFwOiB0cnVlLFxuICBnZXRUZXN0YWJpbGl0eTogdHJ1ZSxcbiAgc25ha2VfY2FzZTogdHJ1ZSxcbiAgYmluZEpRdWVyeTogdHJ1ZSxcbiAgYXNzZXJ0QXJnOiB0cnVlLFxuICBhc3NlcnRBcmdGbjogdHJ1ZSxcbiAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHk6IHRydWUsXG4gIGdldHRlcjogdHJ1ZSxcbiAgZ2V0QmxvY2tOb2RlczogdHJ1ZSxcbiAgaGFzT3duUHJvcGVydHk6IHRydWUsXG4gIGNyZWF0ZU1hcDogdHJ1ZSxcblxuICBOT0RFX1RZUEVfRUxFTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX1RFWFQ6IHRydWUsXG4gIE5PREVfVFlQRV9DT01NRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfRE9DVU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVDogdHJ1ZSxcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAjIG5nIChjb3JlIG1vZHVsZSlcbiAqIFRoZSBuZyBtb2R1bGUgaXMgbG9hZGVkIGJ5IGRlZmF1bHQgd2hlbiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gaXMgc3RhcnRlZC4gVGhlIG1vZHVsZSBpdHNlbGZcbiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcbiAqIGxpc3RzIGEgaGlnaCBsZXZlbCBicmVha2Rvd24gb2YgZWFjaCBvZiB0aGUgc2VydmljZXMvZmFjdG9yaWVzLCBmaWx0ZXJzLCBkaXJlY3RpdmVzIGFuZCB0ZXN0aW5nXG4gKiBjb21wb25lbnRzIGF2YWlsYWJsZSB3aXRoaW4gdGhpcyBjb3JlIG1vZHVsZS5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nXCI+PC9kaXY+XG4gKi9cblxudmFyIFJFR0VYX1NUUklOR19SRUdFWFAgPSAvXlxcLyguKylcXC8oW2Etel0qKSQvO1xuXG4vLyBUaGUgbmFtZSBvZiBhIGZvcm0gY29udHJvbCdzIFZhbGlkaXR5U3RhdGUgcHJvcGVydHkuXG4vLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cbnZhciBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSA9ICd2YWxpZGl0eSc7XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmxvd2VyY2FzZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gbG93ZXJjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGxvd2VyY2FzZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IExvd2VyY2FzZWQgc3RyaW5nLlxuICovXG52YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZzt9O1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIudXBwZXJjYXNlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gdXBwZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gVXBwZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciB1cHBlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b1VwcGVyQ2FzZSgpIDogc3RyaW5nO307XG5cblxudmFyIG1hbnVhbExvd2VyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXG4gIHJldHVybiBpc1N0cmluZyhzKVxuICAgICAgPyBzLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSB8IDMyKTt9KVxuICAgICAgOiBzO1xufTtcbnZhciBtYW51YWxVcHBlcmNhc2UgPSBmdW5jdGlvbihzKSB7XG4gIC8qIGpzaGludCBiaXR3aXNlOiBmYWxzZSAqL1xuICByZXR1cm4gaXNTdHJpbmcocylcbiAgICAgID8gcy5yZXBsYWNlKC9bYS16XS9nLCBmdW5jdGlvbihjaCkge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgJiB+MzIpO30pXG4gICAgICA6IHM7XG59O1xuXG5cbi8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaFxuLy8gbG9jYWxlLCBmb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byBkZXRlY3QgdGhpcyBjYXNlIGFuZCByZWRlZmluZSBsb3dlcmNhc2UvdXBwZXJjYXNlIG1ldGhvZHNcbi8vIHdpdGggY29ycmVjdCBidXQgc2xvd2VyIGFsdGVybmF0aXZlcy5cbmlmICgnaScgIT09ICdJJy50b0xvd2VyQ2FzZSgpKSB7XG4gIGxvd2VyY2FzZSA9IG1hbnVhbExvd2VyY2FzZTtcbiAgdXBwZXJjYXNlID0gbWFudWFsVXBwZXJjYXNlO1xufVxuXG5cbnZhclxuICAgIG1zaWUsICAgICAgICAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcblxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXG4gICAgYW5ndWxhck1vZHVsZSxcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XG5cbi8qKlxuICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XG4gKi9cbm1zaWUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBhbiBhcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoTm9kZUxpc3QsIEFyZ3VtZW50cyxcbiAqICAgICAgICAgICAgICAgICAgIFN0cmluZyAuLi4pXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuXG4gIGlmIChvYmoubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UICYmIGxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGlzU3RyaW5nKG9iaikgfHwgaXNBcnJheShvYmopIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuZ3RoID4gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhblxuICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXG4gKiBpcyB0aGUgdmFsdWUgb2YgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGFuIGFycmF5IGVsZW1lbnQsIGBrZXlgIGlzIHRoZSBvYmplY3QgcHJvcGVydHkga2V5IG9yXG4gKiBhcnJheSBlbGVtZW50IGluZGV4IGFuZCBvYmogaXMgdGhlIGBvYmpgIGl0c2VsZi4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLlxuICpcbiAqIEl0IGlzIHdvcnRoIG5vdGluZyB0aGF0IGAuZm9yRWFjaGAgZG9lcyBub3QgaXRlcmF0ZSBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlY2F1c2UgaXQgZmlsdGVyc1xuICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICpcbiAqIFVubGlrZSBFUzI2MidzXG4gKiBbQXJyYXkucHJvdG90eXBlLmZvckVhY2hdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS40LjQuMTgpLFxuICogUHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcbiAqIHJldHVybiB0aGUgdmFsdWUgcHJvdmlkZWQuXG4gKlxuICAgYGBganNcbiAgICAgdmFyIHZhbHVlcyA9IHtuYW1lOiAnbWlza28nLCBnZW5kZXI6ICdtYWxlJ307XG4gICAgIHZhciBsb2cgPSBbXTtcbiAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgIHRoaXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xuICAgICB9LCBsb2cpO1xuICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xuICAgYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgSXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXG4gKi9cblxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXksIGxlbmd0aDtcbiAgaWYgKG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAvLyBOZWVkIHRvIGNoZWNrIGlmIGhhc093blByb3BlcnR5IGV4aXN0cyxcbiAgICAgICAgLy8gYXMgb24gSUU4IHRoZSByZXN1bHQgb2YgcXVlcnlTZWxlY3RvckFsbCBpcyBhbiBvYmplY3Qgd2l0aG91dCBhIGhhc093blByb3BlcnR5IGZ1bmN0aW9uXG4gICAgICAgIGlmIChrZXkgIT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9ICdsZW5ndGgnICYmIGtleSAhPSAnbmFtZScgJiYgKCFvYmouaGFzT3duUHJvcGVydHkgfHwgb2JqLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikgfHwgaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgdmFyIGlzUHJpbWl0aXZlID0gdHlwZW9mIG9iaiAhPT0gJ29iamVjdCc7XG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlIHx8IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoICE9PSBmb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNvcnRlZEtleXMob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXlzID0gc29ydGVkS2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgKil9IGl0ZXJhdG9yRm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxuICovXG5mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsgaXRlcmF0b3JGbihrZXksIHZhbHVlKTsgfTtcbn1cblxuLyoqXG4gKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cbiAqXG4gKiBVc2luZyBzaW1wbGUgbnVtYmVycyBhbGxvd3MgdXMgdG8gZ2VuZXJhdGUgMjguNiBtaWxsaW9uIHVuaXF1ZSBpZHMgcGVyIHNlY29uZCBmb3IgMTAgeWVhcnMgYmVmb3JlXG4gKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBNYXRoLnBvdygyLDUzKSAvIDYwIC8gNjAgLyAyNCAvIDM2NSAvIDEwID0gMjguNk1cbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gbmV4dFVpZCgpIHtcbiAgcmV0dXJuICsrdWlkO1xufVxuXG5cbi8qKlxuICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxuICogQHBhcmFtIGggdGhlIGhhc2hrZXkgKCF0cnV0aHkgdG8gZGVsZXRlIHRoZSBoYXNoa2V5KVxuICovXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xuICBpZiAoaCkge1xuICAgIG9iai4kJGhhc2hLZXkgPSBoO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5O1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cbiAqIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5leHRlbmQoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cbiAqIE5vdGU6IEtlZXAgaW4gbWluZCB0aGF0IGBhbmd1bGFyLmV4dGVuZGAgZG9lcyBub3Qgc3VwcG9ydCByZWN1cnNpdmUgbWVyZ2UgKGRlZXAgY29weSkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChkc3QpIHtcbiAgdmFyIGggPSBkc3QuJCRoYXNoS2V5O1xuXG4gIGZvciAodmFyIGkgPSAxLCBpaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgIGRzdFtrZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SGFzaEtleShkc3QsIGgpO1xuICByZXR1cm4gZHN0O1xufVxuXG5mdW5jdGlvbiBpbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubm9vcFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XG4gICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpO1xuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XG4gICAgIH1cbiAgIGBgYFxuICovXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuJGluamVjdCA9IFtdO1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXG4gKlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJhbnNmb3JtYXRpb25GbiwgdmFsdWUpIHtcbiAgICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpO1xuICAgICB9O1xuICAgYGBgXG4gICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cbiAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkoJCkge3JldHVybiAkO31cbmlkZW50aXR5LiRpbmplY3QgPSBbXTtcblxuXG5mdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7cmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiB2YWx1ZTt9O31cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYE9iamVjdGAuIFVubGlrZSBgdHlwZW9mYCBpbiBKYXZhU2NyaXB0LCBgbnVsbGBzIGFyZSBub3RcbiAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzU3RyaW5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc051bWJlclxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEYXRlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0FycmF5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgQXJyYXlgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgQXJyYXlgLlxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRnVuY3Rpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYEZ1bmN0aW9uYC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRnVuY3Rpb25gLlxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzt9XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgUmVnRXhwYC5cbiAqL1xuZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuXG4vKipcbiAqIENoZWNrcyBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqLlxuICovXG5mdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmoud2luZG93ID09PSBvYmo7XG59XG5cblxuZnVuY3Rpb24gaXNTY29wZShvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouJGV2YWxBc3luYyAmJiBvYmouJHdhdGNoO1xufVxuXG5cbmZ1bmN0aW9uIGlzRmlsZShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG5cbmZ1bmN0aW9uIGlzRm9ybURhdGEob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZvcm1EYXRhXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbn1cblxuXG5mdW5jdGlvbiBpc1Byb21pc2VMaWtlKG9iaikge1xuICByZXR1cm4gb2JqICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xufVxuXG5cbnZhciB0cmltID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xufTtcblxuLy8gQ29waWVkIGZyb206XG4vLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXG4vLyBQcmVyZXE6IHMgaXMgYSBzdHJpbmcuXG52YXIgZXNjYXBlRm9yUmVnZXhwID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpLlxuICAgICAgICAgICByZXBsYWNlKC9cXHgwOC9nLCAnXFxcXHgwOCcpO1xufTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuICEhKG5vZGUgJiZcbiAgICAobm9kZS5ub2RlTmFtZSAgLy8gd2UgYXJlIGEgZGlyZWN0IGVsZW1lbnRcbiAgICB8fCAobm9kZS5wcm9wICYmIG5vZGUuYXR0ciAmJiBub2RlLmZpbmQpKSk7ICAvLyB3ZSBoYXZlIGFuIG9uIGFuZCBmaW5kIG1ldGhvZCBwYXJ0IG9mIGpRdWVyeSBBUElcbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoXCIsXCIpLCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspXG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIHJldHVybiBvYmo7XG59XG5cblxuZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGxvd2VyY2FzZShlbGVtZW50Lm5vZGVOYW1lIHx8IChlbGVtZW50WzBdICYmIGVsZW1lbnRbMF0ubm9kZU5hbWUpKTtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnJheSwgb2JqKSAhPSAtMTtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPj0gMClcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLCB3aGljaCBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFuIGFycmF5LlxuICpcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXG4gKiAqIElmIGEgZGVzdGluYXRpb24gaXMgcHJvdmlkZWQsIGFsbCBvZiBpdHMgZWxlbWVudHMgKGZvciBhcnJheXMpIG9yIHByb3BlcnRpZXMgKGZvciBvYmplY3RzKVxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cbiAqICogSWYgYHNvdXJjZWAgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSAoaW5jLiBgbnVsbGAgYW5kIGB1bmRlZmluZWRgKSwgYHNvdXJjZWAgaXMgcmV0dXJuZWQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIGlkZW50aWNhbCB0byAnZGVzdGluYXRpb24nIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi5cbiAqXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxuICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWZcbiAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIEBleGFtcGxlXG4gPGV4YW1wbGUgbW9kdWxlPVwiY29weUV4YW1wbGVcIj5cbiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gPGZvcm0gbm92YWxpZGF0ZSBjbGFzcz1cInNpbXBsZS1mb3JtXCI+XG4gTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjxiciAvPlxuIEUtbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5nLW1vZGVsPVwidXNlci5lbWFpbFwiIC8+PGJyIC8+XG4gR2VuZGVyOiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZVxuIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJmZW1hbGVcIiAvPmZlbWFsZTxiciAvPlxuIDxidXR0b24gbmctY2xpY2s9XCJyZXNldCgpXCI+UkVTRVQ8L2J1dHRvbj5cbiA8YnV0dG9uIG5nLWNsaWNrPVwidXBkYXRlKHVzZXIpXCI+U0FWRTwvYnV0dG9uPlxuIDwvZm9ybT5cbiA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiA8cHJlPm1hc3RlciA9IHt7bWFzdGVyIHwganNvbn19PC9wcmU+XG4gPC9kaXY+XG5cbiA8c2NyaXB0PlxuICBhbmd1bGFyLm1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgJHNjb3BlLm1hc3Rlcj0ge307XG5cbiAgICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICRzY29wZS5tYXN0ZXI9IGFuZ3VsYXIuY29weSh1c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMiBhcmd1bWVudHNcbiAgICAgICAgYW5ndWxhci5jb3B5KCRzY29wZS5tYXN0ZXIsICRzY29wZS51c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCgpO1xuICAgIH1dKTtcbiA8L3NjcmlwdD5cbiA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24sIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpIHtcbiAgaWYgKGlzV2luZG93KHNvdXJjZSkgfHwgaXNTY29wZShzb3VyY2UpKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxuICAgICAgXCJDYW4ndCBjb3B5ISBNYWtpbmcgY29waWVzIG9mIFdpbmRvdyBvciBTY29wZSBpbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cblxuICBpZiAoIWRlc3RpbmF0aW9uKSB7XG4gICAgZGVzdGluYXRpb24gPSBzb3VyY2U7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IGNvcHkoc291cmNlLCBbXSwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGF0ZShzb3VyY2UpKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHNvdXJjZSkpIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBuZXcgUmVnRXhwKHNvdXJjZS5zb3VyY2UsIHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXlxcL10qJC8pWzBdKTtcbiAgICAgICAgZGVzdGluYXRpb24ubGFzdEluZGV4ID0gc291cmNlLmxhc3RJbmRleDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICB2YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpKTtcbiAgICAgICAgZGVzdGluYXRpb24gPSBjb3B5KHNvdXJjZSwgZW1wdHlPYmplY3QsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc291cmNlID09PSBkZXN0aW5hdGlvbikgdGhyb3cgbmdNaW5FcnIoJ2NwaScsXG4gICAgICBcIkNhbid0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC5cIik7XG5cbiAgICBzdGFja1NvdXJjZSA9IHN0YWNrU291cmNlIHx8IFtdO1xuICAgIHN0YWNrRGVzdCA9IHN0YWNrRGVzdCB8fCBbXTtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICB2YXIgaW5kZXggPSBzdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSByZXR1cm4gc3RhY2tEZXN0W2luZGV4XTtcblxuICAgICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZGVzdGluYXRpb24ubGVuZ3RoID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGNvcHkoc291cmNlW2ldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtpXSkpIHtcbiAgICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSk7XG4gICAgICAgICAgc3RhY2tEZXN0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xuICAgICAgaWYgKGlzQXJyYXkoZGVzdGluYXRpb24pKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uLmxlbmd0aCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoKGRlc3RpbmF0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgZGVsZXRlIGRlc3RpbmF0aW9uW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICByZXN1bHQgPSBjb3B5KHNvdXJjZVtrZXldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgICBpZiAoaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIHN0YWNrRGVzdC5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEhhc2hLZXkoZGVzdGluYXRpb24saCk7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cbiAqXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgZHN0W2ldID0gc3JjW2ldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0IHx8IHNyYztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gKlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cbiAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxuICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cbiAqXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXG4gKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxuICpcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxuICpcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxzKG8xLCBvMikge1xuICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKSByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU5cbiAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMiwgbGVuZ3RoLCBrZXksIGtleVNldDtcbiAgaWYgKHQxID09IHQyKSB7XG4gICAgaWYgKHQxID09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShvMSkpIHtcbiAgICAgICAgaWYgKCFpc0FycmF5KG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT0gbzIubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0RhdGUobzEpKSB7XG4gICAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZXF1YWxzKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xuICAgICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PSBvMi50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHwgaXNBcnJheShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5U2V0ID0ge307XG4gICAgICAgIGZvciAoa2V5IGluIG8xKSB7XG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGtleVNldFtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiBvMikge1xuICAgICAgICAgIGlmICgha2V5U2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcbiAgICAgICAgICAgICAga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmXG4gICAgICAgICAgICAgIG8yW2tleV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBjc3AgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGlzRGVmaW5lZChjc3AuaXNBY3RpdmVfKSkgcmV0dXJuIGNzcC5pc0FjdGl2ZV87XG5cbiAgdmFyIGFjdGl2ZSA9ICEhKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jc3BdJykgfHxcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSk7XG5cbiAgaWYgKCFhY3RpdmUpIHtcbiAgICB0cnkge1xuICAgICAgLyoganNoaW50IC1XMDMxLCAtVzA1NCAqL1xuICAgICAgbmV3IEZ1bmN0aW9uKCcnKTtcbiAgICAgIC8qIGpzaGludCArVzAzMSwgK1cwNTQgKi9cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBhY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoY3NwLmlzQWN0aXZlXyA9IGFjdGl2ZSk7XG59O1xuXG5cblxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJncywgc3RhcnRJbmRleCB8fCAwKTtcbn1cblxuXG4vKiBqc2hpbnQgLVcxMDEgKi9cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJpbmRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgZnVuY3Rpb24gYGZuYCBib3VuZCB0byBgc2VsZmAgKGBzZWxmYCBiZWNvbWVzIHRoZSBgdGhpc2AgZm9yXG4gKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cbiAqIGtub3duIGFzIFtwYXJ0aWFsIGFwcGxpY2F0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pLCBhc1xuICogZGlzdGluZ3Vpc2hlZCBmcm9tIFtmdW5jdGlvbiBjdXJyeWluZ10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdXJyeWluZyNDb250cmFzdF93aXRoX3BhcnRpYWxfZnVuY3Rpb25fYXBwbGljYXRpb24pLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxmIENvbnRleHQgd2hpY2ggYGZuYCBzaG91bGQgYmUgZXZhbHVhdGVkIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBiZSBib3VuZC5cbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBGdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBgZm5gIHdpdGggYWxsIHRoZSBzcGVjaWZpZWQgYmluZGluZ3MuXG4gKi9cbi8qIGpzaGludCArVzEwMSAqL1xuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xuICB2YXIgY3VycnlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKSA6IFtdO1xuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxuICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIGRvY3VtZW50ID09PSB2YWx1ZSkge1xuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XG4gICAgdmFsID0gJyRTQ09QRSc7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxuICogQHBhcmFtIHtib29sZWFufG51bWJlcj19IHByZXR0eSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cbiAqICAgIElmIHNldCB0byBhbiBpbnRlZ2VyLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIHRoYXQgbWFueSBzcGFjZXMgcGVyIGluZGVudGF0aW9uICh0aGUgZGVmYXVsdCBpcyAyKS5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXG4gKi9cbmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmICghaXNOdW1iZXIocHJldHR5KSkge1xuICAgIHByZXR0eSA9IHByZXR0eSA/IDIgOiBudWxsO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIHRvSnNvblJlcGxhY2VyLCBwcmV0dHkpO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmZyb21Kc29uXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGVzZXJpYWxpemVzIGEgSlNPTiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGpzb24gSlNPTiBzdHJpbmcgdG8gZGVzZXJpYWxpemUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fHN0cmluZ3xudW1iZXJ9IERlc2VyaWFsaXplZCBKU09OIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbUpzb24oanNvbikge1xuICByZXR1cm4gaXNTdHJpbmcoanNvbilcbiAgICAgID8gSlNPTi5wYXJzZShqc29uKVxuICAgICAgOiBqc29uO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKTtcbiAgdHJ5IHtcbiAgICAvLyB0dXJucyBvdXQgSUUgZG9lcyBub3QgbGV0IHlvdSBzZXQgLmh0bWwoKSBvbiBlbGVtZW50cyB3aGljaFxuICAgIC8vIGFyZSBub3QgYWxsb3dlZCB0byBoYXZlIGNoaWxkcmVuLiBTbyB3ZSBqdXN0IGlnbm9yZSBpdC5cbiAgICBlbGVtZW50LmVtcHR5KCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xuICB0cnkge1xuICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCA/IGxvd2VyY2FzZShlbGVtSHRtbCkgOlxuICAgICAgICBlbGVtSHRtbC5cbiAgICAgICAgICBtYXRjaCgvXig8W14+XSs+KS8pWzFdLlxuICAgICAgICAgIHJlcGxhY2UoL148KFtcXHdcXC1dKykvLCBmdW5jdGlvbihtYXRjaCwgbm9kZU5hbWUpIHsgcmV0dXJuICc8JyArIGxvd2VyY2FzZShub2RlTmFtZSk7IH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCk7XG4gIH1cblxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBUcmllcyB0byBkZWNvZGUgdGhlIFVSSSBjb21wb25lbnQgd2l0aG91dCB0aHJvd2luZyBhbiBleGNlcHRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzdHIgdmFsdWUgcG90ZW50aWFsIFVSSSBjb21wb25lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGNhbiBiZSBkZWNvZGVkXG4gKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnRcbiAgfVxufVxuXG5cbi8qKlxuICogUGFyc2VzIGFuIGVzY2FwZWQgdXJsIHF1ZXJ5IHN0cmluZyBpbnRvIGtleS12YWx1ZSBwYWlycy5cbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cbiAqL1xuZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZSgvKipzdHJpbmcqL2tleVZhbHVlKSB7XG4gIHZhciBvYmogPSB7fSwga2V5X3ZhbHVlLCBrZXk7XG4gIGZvckVhY2goKGtleVZhbHVlIHx8IFwiXCIpLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgaWYgKGtleVZhbHVlKSB7XG4gICAgICBrZXlfdmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywnJTIwJykuc3BsaXQoJz0nKTtcbiAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMF0pO1xuICAgICAgaWYgKGlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHZhciB2YWwgPSBpc0RlZmluZWQoa2V5X3ZhbHVlWzFdKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMV0pIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldLHZhbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xuICB2YXIgcGFydHMgPSBbXTtcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGFycmF5VmFsdWUpIHtcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICAgICAoYXJyYXlWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwgdHJ1ZSkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xufVxuXG5cbi8qKlxuICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcbiAqIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0IHdpdGggcmVnYXJkcyB0byB0aGUgY2hhcmFjdGVyIHNldCAocGNoYXIpIGFsbG93ZWQgaW4gcGF0aFxuICogc2VnbWVudHM6XG4gKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCkge1xuICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjYvZ2ksICcmJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNEL2dpLCAnPScpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTtcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBlbmNvZGluZyAqa2V5KiBvciAqdmFsdWUqIHBhcnRzIG9mIHF1ZXJ5IGNvbXBvbmVudC4gV2UgbmVlZCBhIGN1c3RvbVxuICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiBlbmNvZGVkIHBlciBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2OlxuICogICAgcXVlcnkgICAgICAgPSAqKCBwY2hhciAvIFwiL1wiIC8gXCI/XCIgKVxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxuICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcbiAqL1xuZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLCBwY3RFbmNvZGVTcGFjZXMpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQi9naSwgJzsnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjAvZywgKHBjdEVuY29kZVNwYWNlcyA/ICclMjAnIDogJysnKSk7XG59XG5cbnZhciBuZ0F0dHJQcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nOicsICd4LW5nLSddO1xuXG5mdW5jdGlvbiBnZXROZ0F0dHJpYnV0ZShlbGVtZW50LCBuZ0F0dHIpIHtcbiAgdmFyIGF0dHIsIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoO1xuICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICBmb3IgKGkgPSAwOyBpIDwgaWk7ICsraSkge1xuICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcbiAgICBpZiAoaXNTdHJpbmcoYXR0ciA9IGVsZW1lbnQuYXR0cihhdHRyKSkpIHtcbiAgICAgIHJldHVybiBhdHRyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0FwcFxuICogQG1vZHVsZSBuZ1xuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb25cbiAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdTdHJpY3REaSBpZiB0aGlzIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBhcHAgZWxlbWVudCwgdGhlIGluamVjdG9yIHdpbGwgYmVcbiAqICAgY3JlYXRlZCBpbiBcInN0cmljdC1kaVwiIG1vZGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYXBwbGljYXRpb24gd2lsbCBmYWlsIHRvIGludm9rZSBmdW5jdGlvbnMgd2hpY2hcbiAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXG4gKiAgIGluIHtAbGluayBndWlkZS9kaSB0aGUgRGVwZW5kZW5jeSBJbmplY3Rpb24gZ3VpZGV9LCBhbmQgdXNlZnVsIGRlYnVnZ2luZyBpbmZvIHdpbGwgYXNzaXN0IGluXG4gKiAgIHRyYWNraW5nIGRvd24gdGhlIHJvb3Qgb2YgdGhlc2UgYnVncy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXG4gKiBkZXNpZ25hdGVzIHRoZSAqKnJvb3QgZWxlbWVudCoqIG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgaXMgdHlwaWNhbGx5IHBsYWNlZCBuZWFyIHRoZSByb290IGVsZW1lbnRcbiAqIG9mIHRoZSBwYWdlIC0gZS5nLiBvbiB0aGUgYDxib2R5PmAgb3IgYDxodG1sPmAgdGFncy5cbiAqXG4gKiBPbmx5IG9uZSBBbmd1bGFySlMgYXBwbGljYXRpb24gY2FuIGJlIGF1dG8tYm9vdHN0cmFwcGVkIHBlciBIVE1MIGRvY3VtZW50LiBUaGUgZmlyc3QgYG5nQXBwYFxuICogZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxuICogYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZ1xuICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSBpbnN0ZWFkLiBBbmd1bGFySlMgYXBwbGljYXRpb25zIGNhbm5vdCBiZSBuZXN0ZWQgd2l0aGluIGVhY2ggb3RoZXIuXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzXG4gKiBtb2R1bGUgd2lsbCBiZSBsb2FkZWQgaW50byB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yfSB3aGVuIHRoZSBhcHBsaWNhdGlvbiBpcyBib290c3RyYXBwZWQuIEl0XG4gKiBzaG91bGQgY29udGFpbiB0aGUgYXBwbGljYXRpb24gY29kZSBuZWVkZWQgb3IgaGF2ZSBkZXBlbmRlbmNpZXMgb24gb3RoZXIgbW9kdWxlcyB0aGF0IHdpbGxcbiAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEluIHRoZSBleGFtcGxlIGJlbG93IGlmIHRoZSBgbmdBcHBgIGRpcmVjdGl2ZSB3ZXJlIG5vdCBwbGFjZWQgb24gdGhlIGBodG1sYCBlbGVtZW50IHRoZW4gdGhlXG4gKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gXG4gKiB3b3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYDNgLlxuICpcbiAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiB3YXkgdG8gYm9vdHN0cmFwIGFuIGFwcGxpY2F0aW9uLlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FwcERlbW9cIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJuZ0FwcERlbW9Db250cm9sbGVyXCI+XG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cbiAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwRGVtbycsIFtdKS5jb250cm9sbGVyKCduZ0FwcERlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICRzY29wZS5hID0gMTtcbiAgICAgJHNjb3BlLmIgPSAyO1xuICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICpcbiAqIFVzaW5nIGBuZ1N0cmljdERpYCwgeW91IHdvdWxkIHNlZSBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICpcbiA8ZXhhbXBsZSBuZy1hcHAtaW5jbHVkZWQ9XCJ0cnVlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cbiAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XG4gICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXG4gICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfSlcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH1dKVxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xuICAgICAgICRzY29wZS5uYW1lID0gXCJXb3JsZFwiO1xuICAgICB9XG4gICAgIEdvb2RDb250cm9sbGVyMi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgIGRpdltuZy1jb250cm9sbGVyXSB7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICAgICBwYWRkaW5nOiAuNWVtO1xuICAgfVxuICAgZGl2W25nLWNvbnRyb2xsZXJePUdvb2RdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNkNmU5YzY7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcbiAgICAgICBjb2xvcjogIzNjNzYzZDtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1CYWRdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNlYmNjZDE7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZGVkZTtcbiAgICAgICBjb2xvcjogI2E5NDQ0MjtcbiAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgfVxuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7XG4gIHZhciBhcHBFbGVtZW50LFxuICAgICAgbW9kdWxlLFxuICAgICAgY29uZmlnID0ge307XG5cbiAgLy8gVGhlIGVsZW1lbnQgYGVsZW1lbnRgIGhhcyBwcmlvcml0eSBvdmVyIGFueSBvdGhlciBlbGVtZW50XG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBuYW1lID0gcHJlZml4ICsgJ2FwcCc7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIGFwcEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcbiAgICB2YXIgY2FuZGlkYXRlO1xuXG4gICAgaWYgKCFhcHBFbGVtZW50ICYmIChjYW5kaWRhdGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgbmFtZS5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnXScpKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGNhbmRpZGF0ZTtcbiAgICAgIG1vZHVsZSA9IGNhbmRpZGF0ZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKGFwcEVsZW1lbnQpIHtcbiAgICBjb25maWcuc3RyaWN0RGkgPSBnZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCBcInN0cmljdC1kaVwiKSAhPT0gbnVsbDtcbiAgICBib290c3RyYXAoYXBwRWxlbWVudCwgbW9kdWxlID8gW21vZHVsZV0gOiBbXSwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5ib290c3RyYXBcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gbWFudWFsbHkgc3RhcnQgdXAgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBTZWU6IHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwfVxuICpcbiAqIE5vdGUgdGhhdCBQcm90cmFjdG9yIGJhc2VkIGVuZC10by1lbmQgdGVzdHMgY2Fubm90IHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBtYW51YWxseS5cbiAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXG4gKlxuICogQW5ndWxhciB3aWxsIGRldGVjdCBpZiBpdCBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgYnJvd3NlciBtb3JlIHRoYW4gb25jZSBhbmQgb25seSBhbGxvdyB0aGVcbiAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcbiAqIGVhY2ggb2YgdGhlIHN1YnNlcXVlbnQgc2NyaXB0cy4gVGhpcyBwcmV2ZW50cyBzdHJhbmdlIHJlc3VsdHMgaW4gYXBwbGljYXRpb25zLCB3aGVyZSBvdGhlcndpc2VcbiAqIG11bHRpcGxlIGluc3RhbmNlcyBvZiBBbmd1bGFyIHRyeSB0byB3b3JrIG9uIHRoZSBET00uXG4gKlxuICogYGBgaHRtbFxuICogPCFkb2N0eXBlIGh0bWw+XG4gKiA8aHRtbD5cbiAqIDxib2R5PlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiV2VsY29tZUNvbnRyb2xsZXJcIj5cbiAqICAge3tncmVldGluZ319XG4gKiA8L2Rpdj5cbiAqXG4gKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cbiAqIDxzY3JpcHQ+XG4gKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFtdKVxuICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICRzY29wZS5ncmVldGluZyA9ICdXZWxjb21lISc7XG4gKiAgIH0pO1xuICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xuICogPC9zY3JpcHQ+XG4gKiA8L2JvZHk+XG4gKiA8L2h0bWw+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHVsZXMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLlxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqICogYHN0cmljdERpYCAtIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogQHJldHVybnMge2F1dG8uJGluamVjdG9yfSBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGluamVjdG9yIGZvciB0aGlzIGFwcC5cbiAqL1xuZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsIG1vZHVsZXMsIGNvbmZpZykge1xuICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIGNvbmZpZyA9IHt9O1xuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBzdHJpY3REaTogZmFsc2VcbiAgfTtcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gIHZhciBkb0Jvb3RzdHJhcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5pbmplY3RvcigpKSB7XG4gICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IGRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTtcbiAgICAgIC8vRW5jb2RlIGFuZ2xlIGJyYWNrZXRzIHRvIHByZXZlbnQgaW5wdXQgZnJvbSBiZWluZyBzYW5pdGl6ZWQgdG8gZW1wdHkgc3RyaW5nICM4NjgzXG4gICAgICB0aHJvdyBuZ01pbkVycihcbiAgICAgICAgICAnYnRzdHJwZCcsXG4gICAgICAgICAgXCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSdcIixcbiAgICAgICAgICB0YWcucmVwbGFjZSgvPC8sJyZsdDsnKS5yZXBsYWNlKC8+LywnJmd0OycpKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBbXTtcbiAgICBtb2R1bGVzLnVuc2hpZnQoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gICAgICAkcHJvdmlkZS52YWx1ZSgnJHJvb3RFbGVtZW50JywgZWxlbWVudCk7XG4gICAgfV0pO1xuXG4gICAgaWYgKGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAvLyBQdXNoaW5nIHNvIHRoYXQgdGhpcyBvdmVycmlkZXMgYGRlYnVnSW5mb0VuYWJsZWRgIHNldHRpbmcgZGVmaW5lZCBpbiB1c2VyJ3MgYG1vZHVsZXNgLlxuICAgICAgbW9kdWxlcy5wdXNoKFsnJGNvbXBpbGVQcm92aWRlcicsIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgfV0pO1xuICAgIH1cblxuICAgIG1vZHVsZXMudW5zaGlmdCgnbmcnKTtcbiAgICB2YXIgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3Rvcihtb2R1bGVzLCBjb25maWcuc3RyaWN0RGkpO1xuICAgIGluamVjdG9yLmludm9rZShbJyRyb290U2NvcGUnLCAnJHJvb3RFbGVtZW50JywgJyRjb21waWxlJywgJyRpbmplY3RvcicsXG4gICAgICAgZnVuY3Rpb24gYm9vdHN0cmFwQXBwbHkoc2NvcGUsIGVsZW1lbnQsIGNvbXBpbGUsIGluamVjdG9yKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRpbmplY3RvcicsIGluamVjdG9yKTtcbiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XVxuICAgICk7XG4gICAgcmV0dXJuIGluamVjdG9yO1xuICB9O1xuXG4gIHZhciBOR19FTkFCTEVfREVCVUdfSU5GTyA9IC9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLztcbiAgdmFyIE5HX0RFRkVSX0JPT1RTVFJBUCA9IC9eTkdfREVGRVJfQk9PVFNUUkFQIS87XG5cbiAgaWYgKHdpbmRvdyAmJiBOR19FTkFCTEVfREVCVUdfSU5GTy50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sICcnKTtcbiAgfVxuXG4gIGlmICh3aW5kb3cgJiYgIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9XG5cbiAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwgJycpO1xuICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcCA9IGZ1bmN0aW9uKGV4dHJhTW9kdWxlcykge1xuICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2R1bGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9O1xuXG4gIGlmIChpc0Z1bmN0aW9uKGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXApKSB7XG4gICAgYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVsb2FkIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpdGggZGVidWcgaW5mb3JtYXRpb24gdHVybmVkIG9uLlxuICogVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYSBjYWxsIHRvIGAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpYC5cbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZH0gZm9yIG1vcmUuXG4gKi9cbmZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKSB7XG4gIHdpbmRvdy5uYW1lID0gJ05HX0VOQUJMRV9ERUJVR19JTkZPIScgKyB3aW5kb3cubmFtZTtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufVxuXG4vKipcbiAqIEBuYW1lIGFuZ3VsYXIuZ2V0VGVzdGFiaWxpdHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSB0ZXN0YWJpbGl0eSBzZXJ2aWNlIGZvciB0aGUgaW5zdGFuY2Ugb2YgQW5ndWxhciBvbiB0aGUgZ2l2ZW5cbiAqIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpIHtcbiAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xuICBpZiAoIWluamVjdG9yKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ3Rlc3QnLFxuICAgICAgJ25vIGluamVjdG9yIGZvdW5kIGZvciBlbGVtZW50IGFyZ3VtZW50IHRvIGdldFRlc3RhYmlsaXR5Jyk7XG4gIH1cbiAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xufVxuXG52YXIgU05BS0VfQ0FTRV9SRUdFWFAgPSAvW0EtWl0vZztcbmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7XG4gIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciBiaW5kSlF1ZXJ5RmlyZWQgPSBmYWxzZTtcbnZhciBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YTtcbmZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XG4gIHZhciBvcmlnaW5hbENsZWFuRGF0YTtcblxuICBpZiAoYmluZEpRdWVyeUZpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcbiAgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcbiAgLy8gVXNlIGpRdWVyeSBpZiBpdCBleGlzdHMgd2l0aCBwcm9wZXIgZnVuY3Rpb25hbGl0eSwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdXMuXG4gIC8vIEFuZ3VsYXIgMS4yKyByZXF1aXJlcyBqUXVlcnkgMS43KyBmb3Igb24oKS9vZmYoKSBzdXBwb3J0LlxuICAvLyBBbmd1bGFyIDEuMysgdGVjaG5pY2FsbHkgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IDIuMSsgYnV0IGl0IG1heSB3b3JrIHdpdGggb2xkZXJcbiAgLy8gdmVyc2lvbnMuIEl0IHdpbGwgbm90IHdvcmsgZm9yIHN1cmUgd2l0aCBqUXVlcnkgPDEuNywgdGhvdWdoLlxuICBpZiAoalF1ZXJ5ICYmIGpRdWVyeS5mbi5vbikge1xuICAgIGpxTGl0ZSA9IGpRdWVyeTtcbiAgICBleHRlbmQoalF1ZXJ5LmZuLCB7XG4gICAgICBzY29wZTogSlFMaXRlUHJvdG90eXBlLnNjb3BlLFxuICAgICAgaXNvbGF0ZVNjb3BlOiBKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLFxuICAgICAgY29udHJvbGxlcjogSlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsXG4gICAgICBpbmplY3RvcjogSlFMaXRlUHJvdG90eXBlLmluamVjdG9yLFxuICAgICAgaW5oZXJpdGVkRGF0YTogSlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGFcbiAgICB9KTtcblxuICAgIC8vIEFsbCBub2RlcyByZW1vdmVkIGZyb20gdGhlIERPTSB2aWEgdmFyaW91cyBqUXVlcnkgQVBJcyBsaWtlIC5yZW1vdmUoKVxuICAgIC8vIGFyZSBwYXNzZWQgdGhyb3VnaCBqUXVlcnkuY2xlYW5EYXRhLiBNb25rZXktcGF0Y2ggdGhpcyBtZXRob2QgdG8gZmlyZVxuICAgIC8vIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbGwgcmVtb3ZlZCBub2Rlcy5cbiAgICBvcmlnaW5hbENsZWFuRGF0YSA9IGpRdWVyeS5jbGVhbkRhdGE7XG4gICAgalF1ZXJ5LmNsZWFuRGF0YSA9IGZ1bmN0aW9uKGVsZW1zKSB7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgaWYgKCFza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgICAgZXZlbnRzID0galF1ZXJ5Ll9kYXRhKGVsZW0sIFwiZXZlbnRzXCIpO1xuICAgICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgICAgICBqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxDbGVhbkRhdGEoZWxlbXMpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAganFMaXRlID0gSlFMaXRlO1xuICB9XG5cbiAgYW5ndWxhci5lbGVtZW50ID0ganFMaXRlO1xuXG4gIC8vIFByZXZlbnQgZG91YmxlLXByb3h5aW5nLlxuICBiaW5kSlF1ZXJ5RmlyZWQgPSB0cnVlO1xufVxuXG4vKipcbiAqIHRocm93IGVycm9yIGlmIHRoZSBhcmd1bWVudCBpcyBmYWxzeS5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZywgbmFtZSwgcmVhc29uKSB7XG4gIGlmICghYXJnKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2FyZXEnLCBcIkFyZ3VtZW50ICd7MH0nIGlzIHsxfVwiLCAobmFtZSB8fCAnPycpLCAocmVhc29uIHx8IFwicmVxdWlyZWRcIikpO1xuICB9XG4gIHJldHVybiBhcmc7XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFyZ0ZuKGFyZywgbmFtZSwgYWNjZXB0QXJyYXlBbm5vdGF0aW9uKSB7XG4gIGlmIChhY2NlcHRBcnJheUFubm90YXRpb24gJiYgaXNBcnJheShhcmcpKSB7XG4gICAgICBhcmcgPSBhcmdbYXJnLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSwgbmFtZSwgJ25vdCBhIGZ1bmN0aW9uLCBnb3QgJyArXG4gICAgICAoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnID8gYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ09iamVjdCcgOiB0eXBlb2YgYXJnKSk7XG4gIHJldHVybiBhcmc7XG59XG5cbi8qKlxuICogdGhyb3cgZXJyb3IgaWYgdGhlIG5hbWUgZ2l2ZW4gaXMgaGFzT3duUHJvcGVydHlcbiAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgICB0aGUgbmFtZSB0byB0ZXN0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRleHQgdGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIG5hbWUgaXMgdXNlZCwgc3VjaCBhcyBtb2R1bGUgb3IgZGlyZWN0aXZlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsIGNvbnRleHQpIHtcbiAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsIFwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWVcIiwgY29udGV4dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHZhbHVlIGFjY2Vzc2libGUgZnJvbSB0aGUgb2JqZWN0IGJ5IHBhdGguIEFueSB1bmRlZmluZWQgdHJhdmVyc2FscyBhcmUgaWdub3JlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpbmRGblRvU2NvcGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxuICovXG4vL1RPRE8obWlza28pOiB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJlbW92ZWRcbmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGtleTtcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcbiAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIGlmIChvYmopIHtcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XG4gICAgfVxuICB9XG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICByZXR1cm4gYmluZChsYXN0SW5zdGFuY2UsIG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIERPTSBzaWJsaW5ncyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBub2RlIGluIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0XG4gKiBAcmV0dXJucyB7anFMaXRlfSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xuICovXG5mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKSB7XG4gIC8vIFRPRE8ocGVyZik6IGp1c3QgY2hlY2sgaWYgYWxsIGl0ZW1zIGluIGBub2Rlc2AgYXJlIHNpYmxpbmdzIGFuZCBpZiB0aGV5IGFyZSByZXR1cm4gdGhlIG9yaWdpbmFsXG4gIC8vICAgICAgICAgICAgIGNvbGxlY3Rpb24sIG90aGVyd2lzZSB1cGRhdGUgdGhlIG9yaWdpbmFsIGNvbGxlY3Rpb24uXG4gIHZhciBub2RlID0gbm9kZXNbMF07XG4gIHZhciBlbmROb2RlID0gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV07XG4gIHZhciBibG9ja05vZGVzID0gW25vZGVdO1xuXG4gIGRvIHtcbiAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICBpZiAoIW5vZGUpIGJyZWFrO1xuICAgIGJsb2NrTm9kZXMucHVzaChub2RlKTtcbiAgfSB3aGlsZSAobm9kZSAhPT0gZW5kTm9kZSk7XG5cbiAgcmV0dXJuIGpxTGl0ZShibG9ja05vZGVzKTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cbiAqXG4gKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL3Byb3RvLW1hcC1sb29rdXAvMlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxudmFyIE5PREVfVFlQRV9FTEVNRU5UID0gMTtcbnZhciBOT0RFX1RZUEVfVEVYVCA9IDM7XG52YXIgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID0gMTE7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxuICovXG5cbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xuXG4gIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XG5cbiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XG4gIH1cblxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcblxuICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcblxuICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXG4gICAgICogQG1vZHVsZSBuZ1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXG4gICAgICogbW9kdWxlcy5cbiAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmVcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxuICAgICAqXG4gICAgICogV2hlbiBwYXNzZWQgdHdvIG9yIG1vcmUgYXJndW1lbnRzLCBhIG5ldyBtb2R1bGUgaXMgY3JlYXRlZC4gIElmIHBhc3NlZCBvbmx5IG9uZSBhcmd1bWVudCwgYW5cbiAgICAgKiBleGlzdGluZyBtb2R1bGUgKHRoZSBuYW1lIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYG1vZHVsZWApIGlzIHJldHJpZXZlZC5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyBNb2R1bGVcbiAgICAgKlxuICAgICAqIEEgbW9kdWxlIGlzIGEgY29sbGVjdGlvbiBvZiBzZXJ2aWNlcywgZGlyZWN0aXZlcywgY29udHJvbGxlcnMsIGZpbHRlcnMsIGFuZCBjb25maWd1cmF0aW9uIGluZm9ybWF0aW9uLlxuICAgICAqIGBhbmd1bGFyLm1vZHVsZWAgaXMgdXNlZCB0byBjb25maWd1cmUgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlXG4gICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pO1xuICAgICAqXG4gICAgICogLy8gcmVnaXN0ZXIgYSBuZXcgc2VydmljZVxuICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpO1xuICAgICAqXG4gICAgICogLy8gY29uZmlndXJlIGV4aXN0aW5nIHNlcnZpY2VzIGluc2lkZSBpbml0aWFsaXphdGlvbiBibG9ja3MuXG4gICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAqICAgLy8gQ29uZmlndXJlIGV4aXN0aW5nIHByb3ZpZGVyc1xuICAgICAqICAgJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnIScpO1xuICAgICAqIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2VcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfSBvclxuICAgICAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gdG8gc2ltcGxpZnkgdGhpcyBwcm9jZXNzIGZvciB5b3UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBjcmVhdGUgb3IgcmV0cmlldmUuXG4gICAgICogQHBhcmFtIHshQXJyYXkuPHN0cmluZz49fSByZXF1aXJlcyBJZiBzcGVjaWZpZWQgdGhlbiBuZXcgbW9kdWxlIGlzIGJlaW5nIGNyZWF0ZWQuIElmXG4gICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gY29uZmlnRm4gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIG1vZHVsZS4gU2FtZSBhc1xuICAgICAqICAgICAgICB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnIE1vZHVsZSNjb25maWcoKX0uXG4gICAgICogQHJldHVybnMge21vZHVsZX0gbmV3IG1vZHVsZSB3aXRoIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9IGFwaS5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gbW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcbiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCBcIk1vZHVsZSAnezB9JyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgXCIgK1xuICAgICAgICAgICAgIFwidGhlIG1vZHVsZSBuYW1lIG9yIGZvcmdvdCB0byBsb2FkIGl0LiBJZiByZWdpc3RlcmluZyBhIG1vZHVsZSBlbnN1cmUgdGhhdCB5b3UgXCIgK1xuICAgICAgICAgICAgIFwic3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXCIsIG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEFycmF5LjwqPj59ICovXG4gICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxGdW5jdGlvbj59ICovXG4gICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107XG5cbiAgICAgICAgdmFyIGNvbmZpZyA9IGludm9rZUxhdGVyKCckaW5qZWN0b3InLCAnaW52b2tlJywgJ3B1c2gnLCBjb25maWdCbG9ja3MpO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7YW5ndWxhci5Nb2R1bGV9ICovXG4gICAgICAgIHZhciBtb2R1bGVJbnN0YW5jZSA9IHtcbiAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXG4gICAgICAgICAgX2ludm9rZVF1ZXVlOiBpbnZva2VRdWV1ZSxcbiAgICAgICAgICBfY29uZmlnQmxvY2tzOiBjb25maWdCbG9ja3MsXG4gICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xuICAgICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogTmFtZSBvZiB0aGUgbW9kdWxlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG5cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAncHJvdmlkZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmYWN0b3J5XG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyRnVuY3Rpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZhY3Rvcnk6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdmYWN0b3J5JyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnc2VydmljZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50IGFyZSBmaXhlZCwgdGhleSBnZXQgYXBwbGllZCBiZWZvcmUgb3RoZXIgcHJvdmlkZSBtZXRob2RzLlxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCAkcHJvdmlkZS5jb25zdGFudCgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdGFudDogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2NvbnN0YW50JywgJ3Vuc2hpZnQnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNhbmltYXRpb25cbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgYW5pbWF0aW9uIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhbmltYXRpb25GYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBhblxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqXG4gICAgICAgICAgICogKipOT1RFKio6IGFuaW1hdGlvbnMgdGFrZSBlZmZlY3Qgb25seSBpZiB0aGUgKipuZ0FuaW1hdGUqKiBtb2R1bGUgaXMgbG9hZGVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBEZWZpbmVzIGFuIGFuaW1hdGlvbiBob29rIHRoYXQgY2FuIGJlIGxhdGVyIHVzZWQgd2l0aFxuICAgICAgICAgICAqIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcbiAgICAgICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgKiAgIH1cbiAgICAgICAgICAgKiB9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyKCckYW5pbWF0ZVByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmlsdGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpbHRlciBuYW1lLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmlsdGVyOiBpbnZva2VMYXRlcignJGZpbHRlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29udHJvbGxlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciAkY29udHJvbGxlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnRyb2xsZXI6IGludm9rZUxhdGVyKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ1xuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZVxuICAgICAgICAgICAqICAgIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLlxuICAgICAgICAgICAqIEZvciBtb3JlIGFib3V0IGhvdyB0byBjb25maWd1cmUgc2VydmljZXMsIHNlZVxuICAgICAgICAgICAqIHtAbGluayBwcm92aWRlcnMjcHJvdmlkZXItcmVjaXBlIFByb3ZpZGVyIFJlY2lwZX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcnVuXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLlxuICAgICAgICAgICAqICAgIFVzZWZ1bCBmb3IgYXBwbGljYXRpb24gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lXG4gICAgICAgICAgICogbG9hZGluZyBhbGwgbW9kdWxlcy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBydW46IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNvbmZpZ0ZuKSB7XG4gICAgICAgICAgY29uZmlnKGNvbmZpZ0ZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmc9fSBpbnNlcnRNZXRob2RcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTGF0ZXIocHJvdmlkZXIsIG1ldGhvZCwgaW5zZXJ0TWV0aG9kLCBxdWV1ZSkge1xuICAgICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gaW52b2tlUXVldWU7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcXVldWVbaW5zZXJ0TWV0aG9kIHx8ICdwdXNoJ10oW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59XG5cbi8qIGdsb2JhbDogdG9EZWJ1Z1N0cmluZzogdHJ1ZSAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3Qob2JqKSB7XG4gIHZhciBzZWVuID0gW107XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICB2YWwgPSB0b0pzb25SZXBsYWNlcihrZXksIHZhbCk7XG4gICAgaWYgKGlzT2JqZWN0KHZhbCkpIHtcblxuICAgICAgaWYgKHNlZW4uaW5kZXhPZih2YWwpID49IDApIHJldHVybiAnPDxhbHJlYWR5IHNlZW4+Pic7XG5cbiAgICAgIHNlZW4ucHVzaCh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLCAnJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHZlcnNpb246IHRydWUsXG5cbiAgJExvY2FsZVByb3ZpZGVyLFxuICAkQ29tcGlsZVByb3ZpZGVyLFxuXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gIGlucHV0RGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgZm9ybURpcmVjdGl2ZSxcbiAgc2NyaXB0RGlyZWN0aXZlLFxuICBzZWxlY3REaXJlY3RpdmUsXG4gIHN0eWxlRGlyZWN0aXZlLFxuICBvcHRpb25EaXJlY3RpdmUsXG4gIG5nQmluZERpcmVjdGl2ZSxcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gIG5nQ2xhc3NEaXJlY3RpdmUsXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICBuZ0NzcERpcmVjdGl2ZSxcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICBuZ0Zvcm1EaXJlY3RpdmUsXG4gIG5nSGlkZURpcmVjdGl2ZSxcbiAgbmdJZkRpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcbiAgbmdJbml0RGlyZWN0aXZlLFxuICBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQnJvd3NlclByb3ZpZGVyLFxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICREb2N1bWVudFByb3ZpZGVyLFxuICAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAkRmlsdGVyUHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJEh0dHBQcm92aWRlcixcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICRMb2NhdGlvblByb3ZpZGVyLFxuICAkTG9nUHJvdmlkZXIsXG4gICRQYXJzZVByb3ZpZGVyLFxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICRRUHJvdmlkZXIsXG4gICQkUVByb3ZpZGVyLFxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXG4gICRTY2VQcm92aWRlcixcbiAgJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICRTbmlmZmVyUHJvdmlkZXIsXG4gICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXG4gICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxuICAkVGltZW91dFByb3ZpZGVyLFxuICAkJFJBRlByb3ZpZGVyLFxuICAkJEFzeW5jQ2FsbGJhY2tQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyLFxuICAkJGpxTGl0ZVByb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLiBUaGlzIG9iamVjdCBoYXMgdGhlXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxuICogLSBgbWFqb3JgIOKAkyBge251bWJlcn1gIOKAkyBNYWpvciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjBcIi5cbiAqIC0gYG1pbm9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWlub3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCI5XCIuXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxuICogLSBgY29kZU5hbWVgIOKAkyBge3N0cmluZ31gIOKAkyBDb2RlIG5hbWUgb2YgdGhlIHJlbGVhc2UsIHN1Y2ggYXMgXCJqaWdnbGluZy1hcm1mYXRcIi5cbiAqL1xudmFyIHZlcnNpb24gPSB7XG4gIGZ1bGw6ICcxLjMuMTMnLCAgICAvLyBhbGwgb2YgdGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3NcbiAgbWFqb3I6IDEsICAgIC8vIHBhY2thZ2UgdGFza1xuICBtaW5vcjogMyxcbiAgZG90OiAxMyxcbiAgY29kZU5hbWU6ICdtZXRpY3Vsb3VzLXJpZmZsZXNodWZmbGUnXG59O1xuXG5cbmZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKSB7XG4gIGV4dGVuZChhbmd1bGFyLCB7XG4gICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcbiAgICAnY29weSc6IGNvcHksXG4gICAgJ2V4dGVuZCc6IGV4dGVuZCxcbiAgICAnZXF1YWxzJzogZXF1YWxzLFxuICAgICdlbGVtZW50JzoganFMaXRlLFxuICAgICdmb3JFYWNoJzogZm9yRWFjaCxcbiAgICAnaW5qZWN0b3InOiBjcmVhdGVJbmplY3RvcixcbiAgICAnbm9vcCc6IG5vb3AsXG4gICAgJ2JpbmQnOiBiaW5kLFxuICAgICd0b0pzb24nOiB0b0pzb24sXG4gICAgJ2Zyb21Kc29uJzogZnJvbUpzb24sXG4gICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXG4gICAgJ2lzVW5kZWZpbmVkJzogaXNVbmRlZmluZWQsXG4gICAgJ2lzRGVmaW5lZCc6IGlzRGVmaW5lZCxcbiAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcbiAgICAnaXNGdW5jdGlvbic6IGlzRnVuY3Rpb24sXG4gICAgJ2lzT2JqZWN0JzogaXNPYmplY3QsXG4gICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXG4gICAgJ2lzRWxlbWVudCc6IGlzRWxlbWVudCxcbiAgICAnaXNBcnJheSc6IGlzQXJyYXksXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxuICAgICdpc0RhdGUnOiBpc0RhdGUsXG4gICAgJ2xvd2VyY2FzZSc6IGxvd2VyY2FzZSxcbiAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxuICAgICdjYWxsYmFja3MnOiB7Y291bnRlcjogMH0sXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXG4gICAgJyQkbWluRXJyJzogbWluRXJyLFxuICAgICckJGNzcCc6IGNzcCxcbiAgICAncmVsb2FkV2l0aERlYnVnSW5mbyc6IHJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAgfSk7XG5cbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XG4gIHRyeSB7XG4gICAgYW5ndWxhck1vZHVsZSgnbmdMb2NhbGUnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGFuZ3VsYXJNb2R1bGUoJ25nTG9jYWxlJywgW10pLnByb3ZpZGVyKCckbG9jYWxlJywgJExvY2FsZVByb3ZpZGVyKTtcbiAgfVxuXG4gIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJyxcbiAgICBmdW5jdGlvbiBuZ01vZHVsZSgkcHJvdmlkZSkge1xuICAgICAgLy8gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIG5lZWRzIHRvIGJlIGJlZm9yZSAkY29tcGlsZVByb3ZpZGVyIGFzIGl0IGlzIHVzZWQgYnkgaXQuXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICQkc2FuaXRpemVVcmk6ICQkU2FuaXRpemVVcmlQcm92aWRlclxuICAgICAgfSk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcignJGNvbXBpbGUnLCAkQ29tcGlsZVByb3ZpZGVyKS5cbiAgICAgICAgZGlyZWN0aXZlKHtcbiAgICAgICAgICAgIGE6IGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gICAgICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICB0ZXh0YXJlYTogaW5wdXREaXJlY3RpdmUsXG4gICAgICAgICAgICBmb3JtOiBmb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXG4gICAgICAgICAgICBzZWxlY3Q6IHNlbGVjdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG9wdGlvbjogb3B0aW9uRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRIdG1sOiBuZ0JpbmRIdG1sRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kVGVtcGxhdGU6IG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NFdmVuOiBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3NPZGQ6IG5nQ2xhc3NPZGREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDb250cm9sbGVyOiBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0Zvcm06IG5nRm9ybURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJZjogbmdJZkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ05vbkJpbmRhYmxlOiBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQbHVyYWxpemU6IG5nUGx1cmFsaXplRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTaG93OiBuZ1Nob3dEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N0eWxlOiBuZ1N0eWxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2hXaGVuOiBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaERlZmF1bHQ6IG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdUcmFuc2NsdWRlOiBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsOiBuZ01vZGVsRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NoYW5nZTogbmdDaGFuZ2VEaXJlY3RpdmUsXG4gICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdSZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWlubGVuZ3RoOiBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBtYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1ZhbHVlOiBuZ1ZhbHVlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnM6IG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlXG4gICAgICAgIH0pLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgIG5nSW5jbHVkZTogbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuXG4gICAgICAgIGRpcmVjdGl2ZShuZ0V2ZW50RGlyZWN0aXZlcyk7XG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XG4gICAgICAgICRhbmNob3JTY3JvbGw6ICRBbmNob3JTY3JvbGxQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGU6ICRBbmltYXRlUHJvdmlkZXIsXG4gICAgICAgICRicm93c2VyOiAkQnJvd3NlclByb3ZpZGVyLFxuICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRjb250cm9sbGVyOiAkQ29udHJvbGxlclByb3ZpZGVyLFxuICAgICAgICAkZG9jdW1lbnQ6ICREb2N1bWVudFByb3ZpZGVyLFxuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgICAgICAgJGZpbHRlcjogJEZpbHRlclByb3ZpZGVyLFxuICAgICAgICAkaW50ZXJwb2xhdGU6ICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLFxuICAgICAgICAkaHR0cDogJEh0dHBQcm92aWRlcixcbiAgICAgICAgJGh0dHBCYWNrZW5kOiAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcbiAgICAgICAgJGxvZzogJExvZ1Byb3ZpZGVyLFxuICAgICAgICAkcGFyc2U6ICRQYXJzZVByb3ZpZGVyLFxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICAgICAgICRxOiAkUVByb3ZpZGVyLFxuICAgICAgICAkJHE6ICQkUVByb3ZpZGVyLFxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXG4gICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICAgICAgICRzbmlmZmVyOiAkU25pZmZlclByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxuICAgICAgICAkJGFzeW5jQ2FsbGJhY2s6ICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyLFxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlclxuICAgICAgfSk7XG4gICAgfVxuICBdKTtcbn1cblxuLyogZ2xvYmFsIEpRTGl0ZVByb3RvdHlwZTogdHJ1ZSxcbiAgYWRkRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICByZW1vdmVFdmVudExpc3RlbmVyRm46IHRydWUsXG4gIEJPT0xFQU5fQVRUUjogdHJ1ZSxcbiAgQUxJQVNFRF9BVFRSOiB0cnVlLFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy9KUUxpdGVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFdyYXBzIGEgcmF3IERPTSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIGFzIGEgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20pIGVsZW1lbnQuXG4gKlxuICogSWYgalF1ZXJ5IGlzIGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGAgaXMgYW4gYWxpYXMgZm9yIHRoZVxuICogW2pRdWVyeV0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS8pIGZ1bmN0aW9uLiBJZiBqUXVlcnkgaXMgbm90IGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGBcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciBcImpxTGl0ZS5cIlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+anFMaXRlIGlzIGEgdGlueSwgQVBJLWNvbXBhdGlibGUgc3Vic2V0IG9mIGpRdWVyeSB0aGF0IGFsbG93c1xuICogQW5ndWxhciB0byBtYW5pcHVsYXRlIHRoZSBET00gaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGUgd2F5LiAqKmpxTGl0ZSoqIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxuICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC48L2Rpdj5cbiAqXG4gKiBUbyB1c2UgalF1ZXJ5LCBzaW1wbHkgbG9hZCBpdCBiZWZvcmUgYERPTUNvbnRlbnRMb2FkZWRgIGV2ZW50IGZpcmVkLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydFwiPioqTm90ZToqKiBhbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXG4gKiBqcUxpdGU7IHRoZXkgYXJlIG5ldmVyIHJhdyBET00gcmVmZXJlbmNlcy48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLylcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYGNoaWxkcmVuKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2hpbGRyZW4vKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXG4gKiAtIFtgY3NzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY3NzLykgLSBPbmx5IHJldHJpZXZlcyBpbmxpbmUtc3R5bGVzLCBkb2VzIG5vdCBjYWxsIGBnZXRDb21wdXRlZFN0eWxlKClgXG4gKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKVxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXG4gKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pXG4gKiAtIFtgZXEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lcS8pXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxuICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKVxuICogLSBbYGh0bWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9odG1sLylcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcbiAqIC0gW2BvZmYoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmYvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgcHJlcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ByZXBlbmQvKVxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcbiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LylcbiAqIC0gW2ByZW1vdmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmUvKVxuICogLSBbYHJlbW92ZUF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVBdHRyLylcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLylcbiAqIC0gW2ByZW1vdmVEYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlRGF0YS8pXG4gKiAtIFtgcmVwbGFjZVdpdGgoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZXBsYWNlV2l0aC8pXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxuICogLSBbYHRvZ2dsZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdG9nZ2xlQ2xhc3MvKVxuICogLSBbYHRyaWdnZXJIYW5kbGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdHJpZ2dlckhhbmRsZXIvKSAtIFBhc3NlcyBhIGR1bW15IGV2ZW50IG9iamVjdCB0byBoYW5kbGVycy5cbiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlc1xuICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxuICpcbiAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxuICpcbiAqICMjIyBFdmVudHNcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcbiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxuICpcbiAqICMjIyBNZXRob2RzXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xuICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuXG4gKiAgIGAnbmdNb2RlbCdgKS5cbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50XG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cbiAqICAgYmUgZW5hYmxlZC5cbiAqIC0gYGlzb2xhdGVTY29wZSgpYCAtIHJldHJpZXZlcyBhbiBpc29sYXRlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBpZiBvbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXG4gKiAgIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvIGJlIGVuYWJsZWQuXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZWxlbWVudCBIVE1MIHN0cmluZyBvciBET01FbGVtZW50IHRvIGJlIHdyYXBwZWQgaW50byBqUXVlcnkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBqUXVlcnkgb2JqZWN0LlxuICovXG5cbkpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JztcblxudmFyIGpxQ2FjaGUgPSBKUUxpdGUuY2FjaGUgPSB7fSxcbiAgICBqcUlkID0gMSxcbiAgICBhZGRFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfTtcblxuLypcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBmdW5jdGlvbiAhISFcbiAqL1xuSlFMaXRlLl9kYXRhID0gZnVuY3Rpb24obm9kZSkge1xuICAvL2pRdWVyeSBhbHdheXMgcmV0dXJucyBhbiBvYmplY3Qgb24gY2FjaGUgbWlzc1xuICByZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dIHx8IHt9O1xufTtcblxuZnVuY3Rpb24ganFOZXh0SWQoKSB7IHJldHVybiArK2pxSWQ7IH1cblxuXG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZztcbnZhciBNT1pfSEFDS19SRUdFWFAgPSAvXm1veihbQS1aXSkvO1xudmFyIE1PVVNFX0VWRU5UX01BUD0geyBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCJ9O1xudmFyIGpxTGl0ZU1pbkVyciA9IG1pbkVycignanFMaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBjYW1lbENhc2UuXG4gKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gY2FtZWxDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuXG4gICAgcmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCA/IGxldHRlci50b1VwcGVyQ2FzZSgpIDogbGV0dGVyO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCAnTW96JDEnKTtcbn1cblxudmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvO1xudmFyIEhUTUxfUkVHRVhQID0gLzx8JiM/XFx3KzsvO1xudmFyIFRBR19OQU1FX1JFR0VYUCA9IC88KFtcXHc6XSspLztcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpO1xuXG52YXIgd3JhcE1hcCA9IHtcbiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddLFxuXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ19kZWZhdWx0JzogWzAsIFwiXCIsIFwiXCJdXG59O1xuXG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XG4gIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSkge1xuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcbiAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcbn1cblxuZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSB7XG4gIHZhciB0bXAsIHRhZywgd3JhcCxcbiAgICAgIGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBub2RlcyA9IFtdLCBpO1xuXG4gIGlmIChqcUxpdGVJc1RleHROb2RlKGh0bWwpKSB7XG4gICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG4gICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcbiAgICB0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICB0YWcgPSAoVEFHX05BTUVfUkVHRVhQLmV4ZWMoaHRtbCkgfHwgW1wiXCIsIFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCBcIjwkMT48LyQyPlwiKSArIHdyYXBbMl07XG5cbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcbiAgICBpID0gd3JhcFswXTtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xuICAgIH1cblxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XG5cbiAgICB0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgIHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgaW5uZXIgSFRNTFxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH0pO1xuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIHZhciBwYXJzZWQ7XG5cbiAgaWYgKChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSkge1xuICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xuICB9XG5cbiAgaWYgKChwYXJzZWQgPSBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpKSkge1xuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgdmFyIGFyZ0lzU3RyaW5nO1xuXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xuICAgIGVsZW1lbnQgPSB0cmltKGVsZW1lbnQpO1xuICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSlFMaXRlKSkge1xuICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPSAnPCcpIHtcbiAgICAgIHRocm93IGpxTGl0ZU1pbkVycignbm9zZWwnLCAnTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEpRTGl0ZShlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChhcmdJc1N0cmluZykge1xuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7XG4gIH0gZWxzZSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50LCBvbmx5RGVzY2VuZGFudHMpIHtcbiAgaWYgKCFvbmx5RGVzY2VuZGFudHMpIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCk7XG5cbiAgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCkge1xuICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBqcUxpdGVSZW1vdmVEYXRhKGRlc2NlbmRhbnRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvZmZhcmdzJywgJ2pxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Jyk7XG5cbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZFxuXG4gIGlmICghdHlwZSkge1xuICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lckZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJGbnMgfHwgW10sIGZuKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XG4gICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcbiAgICAgIGlmIChleHBhbmRvU3RvcmUuZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgIGV4cGFuZG9TdG9yZS5oYW5kbGUoe30sICckZGVzdHJveScpO1xuICAgICAgfVxuICAgICAganFMaXRlT2ZmKGVsZW1lbnQpO1xuICAgIH1cbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xuICAgIGVsZW1lbnQubmczMzkgPSB1bmRlZmluZWQ7IC8vIGRvbid0IGRlbGV0ZSBET00gZXhwYW5kb3MuIElFIGFuZCBDaHJvbWUgZG9uJ3QgbGlrZSBpdFxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5LFxuICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoY3JlYXRlSWZOZWNlc3NhcnkgJiYgIWV4cGFuZG9TdG9yZSkge1xuICAgIGVsZW1lbnQubmczMzkgPSBleHBhbmRvSWQgPSBqcU5leHRJZCgpO1xuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XG5cbiAgICB2YXIgaXNTaW1wbGVTZXR0ZXIgPSBpc0RlZmluZWQodmFsdWUpO1xuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XG4gICAgdmFyIG1hc3NHZXR0ZXIgPSAha2V5O1xuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgIWlzU2ltcGxlR2V0dGVyKTtcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcblxuICAgIGlmIChpc1NpbXBsZVNldHRlcikgeyAvLyBkYXRhKCdrZXknLCB2YWx1ZSlcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWFzc0dldHRlcikgeyAgLy8gZGF0YSgpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU2ltcGxlR2V0dGVyKSB7IC8vIGRhdGEoJ2tleScpXG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgY3JlYXRpb24gb2YgZXhwYW5kb1N0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgICAgICAgcmV0dXJuIGRhdGEgJiYgZGF0YVtrZXldO1xuICAgICAgICB9IGVsc2UgeyAvLyBtYXNzLXNldHRlcjogZGF0YSh7a2V5MTogdmFsMSwga2V5MjogdmFsMn0pXG4gICAgICAgICAgZXh0ZW5kKGRhdGEsIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKCFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpLlxuICAgICAgaW5kZXhPZihcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIpID4gLTEpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKFxuICAgICAgICAgIChcIiBcIiArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIilcbiAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpXG4gICAgICAgICAgLnJlcGxhY2UoXCIgXCIgKyB0cmltKGNzc0NsYXNzKSArIFwiIFwiLCBcIiBcIikpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKTtcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7XG4gICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LCBlbGVtZW50cykge1xuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cblxuICBpZiAoZWxlbWVudHMpIHtcblxuICAgIC8vIGlmIGEgTm9kZSAodGhlIG1vc3QgY29tbW9uIGNhc2UpXG4gICAgaWYgKGVsZW1lbnRzLm5vZGVUeXBlKSB7XG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICAgIC8vIGlmIGFuIEFycmF5IG9yIE5vZGVMaXN0IGFuZCBub3QgYSBXaW5kb3dcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBlbGVtZW50cy53aW5kb3cgIT09IGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcbiAgLy8gdGhpcyBtYWtlcyAkKGRvY3VtZW50KS5zY29wZSgpIHBvc3NpYmxlXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09IE5PREVfVFlQRV9ET0NVTUVOVCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTtcblxuICB3aGlsZSAoZWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmICgodmFsdWUgPSBqcUxpdGUuZGF0YShlbGVtZW50LCBuYW1lc1tpXSkpICE9PSB1bmRlZmluZWQpIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET01cbiAgICAvLyB0byBsb29rdXAgcGFyZW50IGNvbnRyb2xsZXJzLlxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCAmJiBlbGVtZW50Lmhvc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcbiAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZShlbGVtZW50LCBrZWVwRGF0YSkge1xuICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sIHdpbikge1xuICB3aW4gPSB3aW4gfHwgd2luZG93O1xuICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAvLyBGb3JjZSB0aGUgYWN0aW9uIHRvIGJlIHJ1biBhc3luYyBmb3IgY29uc2lzdGVudCBiZWhhdmlvdXJcbiAgICAvLyBmcm9tIHRoZSBhY3Rpb24ncyBwb2ludCBvZiB2aWV3XG4gICAgLy8gaS5lLiBpdCB3aWxsIGRlZmluaXRlbHkgbm90IGJlIGluIGEgJGFwcGx5XG4gICAgd2luLnNldFRpbWVvdXQoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBObyBuZWVkIHRvIHVuYmluZCB0aGlzIGhhbmRsZXIgYXMgbG9hZCBpcyBvbmx5IGV2ZXIgY2FsbGVkIG9uY2VcbiAgICBqcUxpdGUod2luKS5vbignbG9hZCcsIGFjdGlvbik7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgSlFMaXRlUHJvdG90eXBlID0gSlFMaXRlLnByb3RvdHlwZSA9IHtcbiAgcmVhZHk6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiB0cmlnZ2VyKCkge1xuICAgICAgaWYgKGZpcmVkKSByZXR1cm47XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBmbigpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGRvY3VtZW50IGlzIGFscmVhZHkgbG9hZGVkXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIHNldFRpbWVvdXQodHJpZ2dlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub24oJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTsgLy8gd29ya3MgZm9yIG1vZGVybiBicm93c2VycyBhbmQgSUU5XG4gICAgICAvLyB3ZSBjYW4gbm90IHVzZSBqcUxpdGUgc2luY2Ugd2UgYXJlIG5vdCBkb25lIGxvYWRpbmcgYW5kIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgbGF0ZXIuXG4gICAgICAvLyBqc2hpbnQgLVcwNjRcbiAgICAgIEpRTGl0ZSh3aW5kb3cpLm9uKCdsb2FkJywgdHJpZ2dlcik7IC8vIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQgZm9yIG90aGVyc1xuICAgICAgLy8ganNoaW50ICtXMDY0XG4gICAgfVxuICB9LFxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gW107XG4gICAgZm9yRWFjaCh0aGlzLCBmdW5jdGlvbihlKSB7IHZhbHVlLnB1c2goJycgKyBlKTt9KTtcbiAgICByZXR1cm4gJ1snICsgdmFsdWUuam9pbignLCAnKSArICddJztcbiAgfSxcblxuICBlcTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHJldHVybiAoaW5kZXggPj0gMCkgPyBqcUxpdGUodGhpc1tpbmRleF0pIDoganFMaXRlKHRoaXNbdGhpcy5sZW5ndGggKyBpbmRleF0pO1xuICB9LFxuXG4gIGxlbmd0aDogMCxcbiAgcHVzaDogcHVzaCxcbiAgc29ydDogW10uc29ydCxcbiAgc3BsaWNlOiBbXS5zcGxpY2Vcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyBnZXR0ZXIvc2V0dGVycy5cbi8vIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gc2VsZiBvbiBzZXR0ZXIgYW5kXG4vLyB2YWx1ZSBvbiBnZXQuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBCT09MRUFOX0FUVFIgPSB7fTtcbmZvckVhY2goJ211bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3Blbicuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgQk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldID0gdmFsdWU7XG59KTtcbnZhciBCT09MRUFOX0VMRU1FTlRTID0ge307XG5mb3JFYWNoKCdpbnB1dCxzZWxlY3Qsb3B0aW9uLHRleHRhcmVhLGJ1dHRvbixmb3JtLGRldGFpbHMnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcbn0pO1xudmFyIEFMSUFTRURfQVRUUiA9IHtcbiAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXG4gICduZ01heGxlbmd0aCc6ICdtYXhsZW5ndGgnLFxuICAnbmdNaW4nOiAnbWluJyxcbiAgJ25nTWF4JzogJ21heCcsXG4gICduZ1BhdHRlcm4nOiAncGF0dGVybidcbn07XG5cbmZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XG4gIC8vIGNoZWNrIGRvbSBsYXN0IHNpbmNlIHdlIHdpbGwgbW9zdCBsaWtlbHkgZmFpbCBvbiBuYW1lXG4gIHZhciBib29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldO1xuXG4gIC8vIGJvb2xlYW5BdHRyIGlzIGhlcmUgdHdpY2UgdG8gbWluaW1pemUgRE9NIGFjY2Vzc1xuICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldICYmIGJvb2xlYW5BdHRyO1xufVxuXG5mdW5jdGlvbiBnZXRBbGlhc2VkQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICByZXR1cm4gKG5vZGVOYW1lID09PSAnSU5QVVQnIHx8IG5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSAmJiBBTElBU0VEX0FUVFJbbmFtZV07XG59XG5cbmZvckVhY2goe1xuICBkYXRhOiBqcUxpdGVEYXRhLFxuICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICBKUUxpdGVbbmFtZV0gPSBmbjtcbn0pO1xuXG5mb3JFYWNoKHtcbiAgZGF0YToganFMaXRlRGF0YSxcbiAgaW5oZXJpdGVkRGF0YToganFMaXRlSW5oZXJpdGVkRGF0YSxcblxuICBzY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJHNjb3BlJykgfHwganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudCwgWyckaXNvbGF0ZVNjb3BlJywgJyRzY29wZSddKTtcbiAgfSxcblxuICBpc29sYXRlU2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGUnKSB8fCBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnKTtcbiAgfSxcblxuICBjb250cm9sbGVyOiBqcUxpdGVDb250cm9sbGVyLFxuXG4gIGluamVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyRpbmplY3RvcicpO1xuICB9LFxuXG4gIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSxcblxuICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsXG5cbiAgY3NzOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBjYW1lbENhc2UobmFtZSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgYXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgbG93ZXJjYXNlZE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgaWYgKEJPT0xFQU5fQVRUUltsb3dlcmNhc2VkTmFtZV0pIHtcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIGlmICghIXZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudFtuYW1lXSA9IHRydWU7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgbG93ZXJjYXNlZE5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShsb3dlcmNhc2VkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoZWxlbWVudFtuYW1lXSB8fFxuICAgICAgICAgICAgICAgICAoZWxlbWVudC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShuYW1lKSB8fCBub29wKS5zcGVjaWZpZWQpXG4gICAgICAgICAgICAgICA/IGxvd2VyY2FzZWROYW1lXG4gICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAvLyB0aGUgZXh0cmEgYXJndW1lbnQgXCIyXCIgaXMgdG8gZ2V0IHRoZSByaWdodCB0aGluZyBmb3IgYS5ocmVmIGluIElFLCBzZWUgalF1ZXJ5IGNvZGVcbiAgICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgdmFyIHJldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUsIDIpO1xuICAgICAgLy8gbm9ybWFsaXplIG5vbi1leGlzdGluZyBhdHRyaWJ1dGVzIHRvIHVuZGVmaW5lZCAoYXMgalF1ZXJ5KVxuICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICB9XG4gIH0sXG5cbiAgcHJvcDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgdGV4dDogKGZ1bmN0aW9uKCkge1xuICAgIGdldFRleHQuJGR2ID0gJyc7XG4gICAgcmV0dXJuIGdldFRleHQ7XG5cbiAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgICAgIHJldHVybiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkgPyBlbGVtZW50LnRleHRDb250ZW50IDogJyc7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgfVxuICB9KSgpLFxuXG4gIHZhbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSAmJiBub2RlTmFtZV8oZWxlbWVudCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDAgPyBudWxsIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgfSxcblxuICBodG1sOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmlubmVySFRNTDtcbiAgICB9XG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH0sXG5cbiAgZW1wdHk6IGpxTGl0ZUVtcHR5XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogUHJvcGVydGllczogd3JpdGVzIHJldHVybiBzZWxlY3Rpb24sIHJlYWRzIHJldHVybiBmaXJzdCB2YWx1ZVxuICAgKi9cbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcbiAgICB2YXIgaSwga2V5O1xuICAgIHZhciBub2RlQ291bnQgPSB0aGlzLmxlbmd0aDtcblxuICAgIC8vIGpxTGl0ZUhhc0NsYXNzIGhhcyBvbmx5IHR3byBhcmd1bWVudHMsIGJ1dCBpcyBhIGdldHRlci1vbmx5IGZuLCBzbyB3ZSBuZWVkIHRvIHNwZWNpYWwtY2FzZSBpdFxuICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxuICAgIC8vIGpxTGl0ZUVtcHR5IHRha2VzIG5vIGFyZ3VtZW50cyBidXQgaXMgYSBzZXR0ZXIuXG4gICAgaWYgKGZuICE9PSBqcUxpdGVFbXB0eSAmJlxuICAgICAgICAoKChmbi5sZW5ndGggPT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xuXG4gICAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBidXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSB0aGUga2V5L3ZhbHVlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHtcbiAgICAgICAgICAgIC8vIGRhdGEoKSB0YWtlcyB0aGUgd2hvbGUgb2JqZWN0IGluIGpRdWVyeVxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZzEpIHtcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC5cbiAgICAgICAgLy8gVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XG4gICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgIHZhciBqaiA9ICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamo7IGorKykge1xuICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgZm4odGhpc1tpXSwgYXJnMSwgYXJnMik7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XG4gIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdHlwZSkge1xuICAgIC8vIGpRdWVyeSBzcGVjaWZpYyBhcGlcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZSB8fCBldmVudC50eXBlXTtcbiAgICB2YXIgZXZlbnRGbnNMZW5ndGggPSBldmVudEZucyA/IGV2ZW50Rm5zLmxlbmd0aCA6IDA7XG5cbiAgICBpZiAoIWV2ZW50Rm5zTGVuZ3RoKSByZXR1cm47XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xuICAgICAgdmFyIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7XG4gICAgfTtcblxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgIGlmICgoZXZlbnRGbnNMZW5ndGggPiAxKSkge1xuICAgICAgZXZlbnRGbnMgPSBzaGFsbG93Q29weShldmVudEZucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEZuc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgZXZlbnRGbnNbaV0uY2FsbChlbGVtZW50LCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrIGZvciBhbmd1bGFyTW9ja3MvY2xlYXJEYXRhQ2FjaGUgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBkZXJlZ2lzdGVyIGFsbFxuICAvLyAgICAgICBldmVudHMgb24gYGVsZW1lbnRgXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIHRyYXZlcnNhbC5cbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcbi8vIHNlbGVjdG9yLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mb3JFYWNoKHtcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcblxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xuXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgICBpZiAoIWhhbmRsZSkge1xuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XG4gICAgdmFyIHR5cGVzID0gdHlwZS5pbmRleE9mKCcgJykgPj0gMCA/IHR5cGUuc3BsaXQoJyAnKSA6IFt0eXBlXTtcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFldmVudEZucykge1xuICAgICAgICBldmVudHNbdHlwZV0gPSBbXTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgICAgIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXG4gICAgICAgICAgLy8gUmVhZCBhYm91dCBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlOlxuICAgICAgICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzX21vdXNlLmh0bWwjbGluazhcblxuICAgICAgICAgIGpxTGl0ZU9uKGVsZW1lbnQsIE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLCByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgICAgICAgICAgIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG4gICAgICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWQpKSkge1xuICAgICAgICAgICAgICBoYW5kbGUoZXZlbnQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIH1cbiAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xuICAgIH1cbiAgfSxcblxuICBvZmY6IGpxTGl0ZU9mZixcblxuICBvbmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIC8vYWRkIHRoZSBsaXN0ZW5lciB0d2ljZSBzbyB0aGF0IHdoZW4gaXQgaXMgY2FsbGVkXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxuICAgIGVsZW1lbnQub24odHlwZSwgZnVuY3Rpb24gb25GbigpIHtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xuICAgIH0pO1xuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xuICB9LFxuXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH0pO1xuICB9LFxuXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVClcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG5cbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XG5cbiAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcbiAgICB3cmFwTm9kZSA9IGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXTtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcE5vZGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB3cmFwTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSxcblxuICByZW1vdmU6IGpxTGl0ZVJlbW92ZSxcblxuICBkZXRhY2g6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBqcUxpdGVSZW1vdmUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0sXG5cbiAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgbmV3RWxlbWVudCA9IG5ldyBKUUxpdGUobmV3RWxlbWVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH1cbiAgfSxcblxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcblxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XG4gIH0sXG5cbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0sXG5cbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxuXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XG5cbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoZXZlbnRGbnMpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXG4gICAgICBkdW1teUV2ZW50ID0ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XG5cbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XG4gIH07XG5cbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXG4gIEpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XG4gIEpRTGl0ZS5wcm90b3R5cGUudW5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vZmY7XG59KTtcblxuXG4vLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXG5mdW5jdGlvbiAkJGpxTGl0ZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAkJGpxTGl0ZSgpIHtcbiAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xuICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZUFkZENsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlUmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBoYXNoIG9mIGFuICdvYmonLlxuICogSGFzaCBvZiBhOlxuICogIHN0cmluZyBpcyBzdHJpbmdcbiAqICBudW1iZXIgaXMgbnVtYmVyIGFzIHN0cmluZ1xuICogIG9iamVjdCBpcyBlaXRoZXIgcmVzdWx0IG9mIGNhbGxpbmcgJCRoYXNoS2V5IGZ1bmN0aW9uIG9uIHRoZSBvYmplY3Qgb3IgdW5pcXVlbHkgZ2VuZXJhdGVkIGlkLFxuICogICAgICAgICB0aGF0IGlzIGFsc28gYXNzaWduZWQgdG8gdGhlICQkaGFzaEtleSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGhhc2ggc3RyaW5nIHN1Y2ggdGhhdCB0aGUgc2FtZSBpbnB1dCB3aWxsIGhhdmUgdGhlIHNhbWUgaGFzaCBzdHJpbmcuXG4gKiAgICAgICAgIFRoZSByZXN1bHRpbmcgc3RyaW5nIGtleSBpcyBpbiAndHlwZTpoYXNoS2V5JyBmb3JtYXQuXG4gKi9cbmZ1bmN0aW9uIGhhc2hLZXkob2JqLCBuZXh0VWlkRm4pIHtcbiAgdmFyIGtleSA9IG9iaiAmJiBvYmouJCRoYXNoS2V5O1xuXG4gIGlmIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSgpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xuICBpZiAob2JqVHlwZSA9PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcbiAgICBrZXkgPSBvYmouJCRoYXNoS2V5ID0gb2JqVHlwZSArICc6JyArIChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTtcbiAgfSBlbHNlIHtcbiAgICBrZXkgPSBvYmpUeXBlICsgJzonICsgb2JqO1xuICB9XG5cbiAgcmV0dXJuIGtleTtcbn1cblxuLyoqXG4gKiBIYXNoTWFwIHdoaWNoIGNhbiB1c2Ugb2JqZWN0cyBhcyBrZXlzXG4gKi9cbmZ1bmN0aW9uIEhhc2hNYXAoYXJyYXksIGlzb2xhdGVkVWlkKSB7XG4gIGlmIChpc29sYXRlZFVpZCkge1xuICAgIHZhciB1aWQgPSAwO1xuICAgIHRoaXMubmV4dFVpZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICsrdWlkO1xuICAgIH07XG4gIH1cbiAgZm9yRWFjaChhcnJheSwgdGhpcy5wdXQsIHRoaXMpO1xufVxuSGFzaE1hcC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBTdG9yZSBrZXkgdmFsdWUgcGFpclxuICAgKiBAcGFyYW0ga2V5IGtleSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxuICAgKi9cbiAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV0gPSB2YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgdmFsdWUgZm9yIHRoZSBrZXlcbiAgICovXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGtleS92YWx1ZSBwYWlyXG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gdGhpc1trZXkgPSBoYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XG4gICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBhbmd1bGFyLmluamVjdG9yXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhbiBpbmplY3RvciBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBmb3IgcmV0cmlldmluZyBzZXJ2aWNlcyBhcyB3ZWxsIGFzIGZvclxuICogZGVwZW5kZW5jeSBpbmplY3Rpb24gKHNlZSB7QGxpbmsgZ3VpZGUvZGkgZGVwZW5kZW5jeSBpbmplY3Rpb259KS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBtb2R1bGVzIEEgbGlzdCBvZiBtb2R1bGUgZnVuY3Rpb25zIG9yIHRoZWlyIGFsaWFzZXMuIFNlZVxuICogICAgIHtAbGluayBhbmd1bGFyLm1vZHVsZX0uIFRoZSBgbmdgIG1vZHVsZSBtdXN0IGJlIGV4cGxpY2l0bHkgYWRkZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIFdoZXRoZXIgdGhlIGluamVjdG9yIHNob3VsZCBiZSBpbiBzdHJpY3QgbW9kZSwgd2hpY2hcbiAqICAgICBkaXNhbGxvd3MgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqIEByZXR1cm5zIHtpbmplY3Rvcn0gSW5qZWN0b3Igb2JqZWN0LiBTZWUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIFR5cGljYWwgdXNhZ2VcbiAqIGBgYGpzXG4gKiAgIC8vIGNyZWF0ZSBhbiBpbmplY3RvclxuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJ10pO1xuICpcbiAqICAgLy8gdXNlIHRoZSBpbmplY3RvciB0byBraWNrIG9mZiB5b3VyIGFwcGxpY2F0aW9uXG4gKiAgIC8vIHVzZSB0aGUgdHlwZSBpbmZlcmVuY2UgdG8gYXV0byBpbmplY3QgYXJndW1lbnRzLCBvciB1c2UgaW1wbGljaXQgaW5qZWN0aW9uXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICRkb2N1bWVudCkge1xuICogICAgICRjb21waWxlKCRkb2N1bWVudCkoJHJvb3RTY29wZSk7XG4gKiAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogU29tZXRpbWVzIHlvdSB3YW50IHRvIGdldCBhY2Nlc3MgdG8gdGhlIGluamVjdG9yIG9mIGEgY3VycmVudGx5IHJ1bm5pbmcgQW5ndWxhciBhcHBcbiAqIGZyb20gb3V0c2lkZSBBbmd1bGFyLiBQZXJoYXBzLCB5b3Ugd2FudCB0byBpbmplY3QgYW5kIGNvbXBpbGUgc29tZSBtYXJrdXAgYWZ0ZXIgdGhlXG4gKiBhcHBsaWNhdGlvbiBoYXMgYmVlbiBib290c3RyYXBwZWQuIFlvdSBjYW4gZG8gdGhpcyB1c2luZyB0aGUgZXh0cmEgYGluamVjdG9yKClgIGFkZGVkXG4gKiB0byBKUXVlcnkvanFMaXRlIGVsZW1lbnRzLiBTZWUge0BsaW5rIGFuZ3VsYXIuZWxlbWVudH0uXG4gKlxuICogKlRoaXMgaXMgZmFpcmx5IHJhcmUgYnV0IGNvdWxkIGJlIHRoZSBjYXNlIGlmIGEgdGhpcmQgcGFydHkgbGlicmFyeSBpcyBpbmplY3RpbmcgdGhlXG4gKiBtYXJrdXAuKlxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBhIG5ldyBibG9jayBvZiBIVE1MIGNvbnRhaW5pbmcgYSBgbmctY29udHJvbGxlcmBcbiAqIGRpcmVjdGl2ZSBpcyBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBib2R5IGJ5IEpRdWVyeS4gV2UgdGhlbiBjb21waWxlIGFuZCBsaW5rXG4gKiBpdCBpbnRvIHRoZSBjdXJyZW50IEFuZ3VsYXJKUyBzY29wZS5cbiAqXG4gKiBgYGBqc1xuICogdmFyICRkaXYgPSAkKCc8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNeUN0cmxcIj57e2NvbnRlbnQubGFiZWx9fTwvZGl2PicpO1xuICogJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoJGRpdik7XG4gKlxuICogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5pbmplY3RvcigpLmludm9rZShmdW5jdGlvbigkY29tcGlsZSkge1xuICogICB2YXIgc2NvcGUgPSBhbmd1bGFyLmVsZW1lbnQoJGRpdikuc2NvcGUoKTtcbiAqICAgJGNvbXBpbGUoJGRpdikoc2NvcGUpO1xuICogfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgYXV0b1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogSW1wbGljaXQgbW9kdWxlIHdoaWNoIGdldHMgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICovXG5cbnZhciBGTl9BUkdTID0gL15mdW5jdGlvblxccypbXlxcKF0qXFwoXFxzKihbXlxcKV0qKVxcKS9tO1xudmFyIEZOX0FSR19TUExJVCA9IC8sLztcbnZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcbnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuXG5mdW5jdGlvbiBhbm9uRm4oZm4pIHtcbiAgLy8gRm9yIGFub255bW91cyBmdW5jdGlvbnMsIHNob3dpbmcgYXQgdGhlIHZlcnkgbGVhc3QgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gaGVscCBpblxuICAvLyBkZWJ1Z2dpbmcuXG4gIHZhciBmblRleHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKSxcbiAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goRk5fQVJHUyk7XG4gIGlmIChhcmdzKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgKGFyZ3NbMV0gfHwgJycpLnJlcGxhY2UoL1tcXHNcXHJcXG5dKy8sICcgJykgKyAnKSc7XG4gIH1cbiAgcmV0dXJuICdmbic7XG59XG5cbmZ1bmN0aW9uIGFubm90YXRlKGZuLCBzdHJpY3REaSwgbmFtZSkge1xuICB2YXIgJGluamVjdCxcbiAgICAgIGZuVGV4dCxcbiAgICAgIGFyZ0RlY2wsXG4gICAgICBsYXN0O1xuXG4gIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoISgkaW5qZWN0ID0gZm4uJGluamVjdCkpIHtcbiAgICAgICRpbmplY3QgPSBbXTtcbiAgICAgIGlmIChmbi5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHN0cmljdERpKSB7XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWUgfHwgYW5vbkZuKGZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdzdHJpY3RkaScsXG4gICAgICAgICAgICAnezB9IGlzIG5vdCB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIGFuZCBjYW5ub3QgYmUgaW52b2tlZCBpbiBzdHJpY3QgbW9kZScsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGZuVGV4dCA9IGZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpO1xuICAgICAgICBhcmdEZWNsID0gZm5UZXh0Lm1hdGNoKEZOX0FSR1MpO1xuICAgICAgICBmb3JFYWNoKGFyZ0RlY2xbMV0uc3BsaXQoRk5fQVJHX1NQTElUKSwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbihhbGwsIHVuZGVyc2NvcmUsIG5hbWUpIHtcbiAgICAgICAgICAgICRpbmplY3QucHVzaChuYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmbi4kaW5qZWN0ID0gJGluamVjdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNBcnJheShmbikpIHtcbiAgICBsYXN0ID0gZm4ubGVuZ3RoIC0gMTtcbiAgICBhc3NlcnRBcmdGbihmbltsYXN0XSwgJ2ZuJyk7XG4gICAgJGluamVjdCA9IGZuLnNsaWNlKDAsIGxhc3QpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gJGluamVjdDtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRpbmplY3RvclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkaW5qZWN0b3JgIGlzIHVzZWQgdG8gcmV0cmlldmUgb2JqZWN0IGluc3RhbmNlcyBhcyBkZWZpbmVkIGJ5XG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSBwcm92aWRlcn0sIGluc3RhbnRpYXRlIHR5cGVzLCBpbnZva2UgbWV0aG9kcyxcbiAqIGFuZCBsb2FkIG1vZHVsZXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBhbHdheXMgaG9sZHMgdHJ1ZTpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcigpO1xuICogICBleHBlY3QoJGluamVjdG9yLmdldCgnJGluamVjdG9yJykpLnRvQmUoJGluamVjdG9yKTtcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gKiAgICAgcmV0dXJuICRpbmplY3RvcjtcbiAqICAgfSkpLnRvQmUoJGluamVjdG9yKTtcbiAqIGBgYFxuICpcbiAqICMgSW5qZWN0aW9uIEZ1bmN0aW9uIEFubm90YXRpb25cbiAqXG4gKiBKYXZhU2NyaXB0IGRvZXMgbm90IGhhdmUgYW5ub3RhdGlvbnMsIGFuZCBhbm5vdGF0aW9ucyBhcmUgbmVlZGVkIGZvciBkZXBlbmRlbmN5IGluamVjdGlvbi4gVGhlXG4gKiBmb2xsb3dpbmcgYXJlIGFsbCB2YWxpZCB3YXlzIG9mIGFubm90YXRpbmcgZnVuY3Rpb24gd2l0aCBpbmplY3Rpb24gYXJndW1lbnRzIGFuZCBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBpbmZlcnJlZCAob25seSB3b3JrcyBpZiBjb2RlIG5vdCBtaW5pZmllZC9vYmZ1c2NhdGVkKVxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKHNlcnZpY2VBKXt9KTtcbiAqXG4gKiAgIC8vIGFubm90YXRlZFxuICogICBmdW5jdGlvbiBleHBsaWNpdChzZXJ2aWNlQSkge307XG4gKiAgIGV4cGxpY2l0LiRpbmplY3QgPSBbJ3NlcnZpY2VBJ107XG4gKiAgICRpbmplY3Rvci5pbnZva2UoZXhwbGljaXQpO1xuICpcbiAqICAgLy8gaW5saW5lXG4gKiAgICRpbmplY3Rvci5pbnZva2UoWydzZXJ2aWNlQScsIGZ1bmN0aW9uKHNlcnZpY2VBKXt9XSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBJbmZlcmVuY2VcbiAqXG4gKiBJbiBKYXZhU2NyaXB0IGNhbGxpbmcgYHRvU3RyaW5nKClgIG9uIGEgZnVuY3Rpb24gcmV0dXJucyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbi4gVGhlIGRlZmluaXRpb25cbiAqIGNhbiB0aGVuIGJlIHBhcnNlZCBhbmQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBjYW4gYmUgZXh0cmFjdGVkLiBUaGlzIG1ldGhvZCBvZiBkaXNjb3ZlcmluZ1xuICogYW5ub3RhdGlvbnMgaXMgZGlzYWxsb3dlZCB3aGVuIHRoZSBpbmplY3RvciBpcyBpbiBzdHJpY3QgbW9kZS5cbiAqICpOT1RFOiogVGhpcyBkb2VzIG5vdCB3b3JrIHdpdGggbWluaWZpY2F0aW9uLCBhbmQgb2JmdXNjYXRpb24gdG9vbHMgc2luY2UgdGhlc2UgdG9vbHMgY2hhbmdlIHRoZVxuICogYXJndW1lbnQgbmFtZXMuXG4gKlxuICogIyMgYCRpbmplY3RgIEFubm90YXRpb25cbiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxuICpcbiAqICMjIElubGluZVxuICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNnZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiBhbiBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHJldHVybiB7Kn0gVGhlIGluc3RhbmNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cbiAqXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGludm9rZS4gRnVuY3Rpb24gcGFyYW1ldGVycyBhcmUgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogICB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaGFzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcXVlcnkgaWYgdGhlIHBhcnRpY3VsYXIgc2VydmljZSBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaW5qZWN0b3IgaGFzIGdpdmVuIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW5zdGFudGlhdGVcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XG4gKiBvcGVyYXRvciwgYW5kIHN1cHBsaWVzIGFsbCBvZiB0aGUgYXJndW1lbnRzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gKiBjb25zdHJ1Y3RvciBhbm5vdGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFR5cGUgQW5ub3RhdGVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMge09iamVjdH0gbmV3IGluc3RhbmNlIG9mIGBUeXBlYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXG4gKiB1c2VkIGJ5IHRoZSBpbmplY3RvciB0byBkZXRlcm1pbmUgd2hpY2ggc2VydmljZXMgbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbiB3aGVuIHRoZVxuICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXG4gKiBkZXBlbmRlbmNpZXMuXG4gKlxuICogIyBBcmd1bWVudCBuYW1lc1xuICpcbiAqIFRoZSBzaW1wbGVzdCBmb3JtIGlzIHRvIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcyBmcm9tIHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGlzIGRvbmVcbiAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcbiAqIG5hbWVzLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayB3aXRoIGNvZGUgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24uIEZvciB0aGlzIHJlYXNvbiB0aGUgZm9sbG93aW5nXG4gKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiAjIFRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXG4gKiByZXByZXNlbnQgbmFtZXMgb2Ygc2VydmljZXMgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24uXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICB2YXIgTXlDb250cm9sbGVyID0gZnVuY3Rpb24ob2JmdXNjYXRlZFNjb3BlLCBvYmZ1c2NhdGVkUm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICogICAvLyBEZWZpbmUgZnVuY3Rpb24gZGVwZW5kZW5jaWVzXG4gKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqICMgVGhlIGFycmF5IG5vdGF0aW9uXG4gKlxuICogSXQgaXMgb2Z0ZW4gZGVzaXJhYmxlIHRvIGlubGluZSBJbmplY3RlZCBmdW5jdGlvbnMgYW5kIHRoYXQncyB3aGVuIHNldHRpbmcgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXG4gKiAgIGluamVjdG9yLmludm9rZShmdW5jdGlvbigkY29tcGlsZSwgJHJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9KTtcbiAqXG4gKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfTtcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xuICogICBpbmplY3Rvci5pbnZva2UodG1wRm4pO1xuICpcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcbiAqICAgaW5qZWN0b3IuaW52b2tlKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZkNvbXBpbGUsIG9iZlJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XSk7XG4gKlxuICogICAvLyBUaGVyZWZvcmVcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxuICogICAgICBbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZ1c18kY29tcGlsZSwgb2JmdXNfJHJvb3RTY29wZSkge31dKVxuICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBuYW1lcyBvZiB0aGUgc2VydmljZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLlxuICovXG5cblxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwcm92aWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cbiAqXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUob2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkoZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKiosIGBmbmAsXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlXG4gKiAgICAgZ2l2ZW4gZmFjdG9yeSBmdW5jdGlvbi5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlKGNsYXNzKX0gLSByZWdpc3RlcnMgYSAqKmNvbnN0cnVjdG9yIGZ1bmN0aW9uKiosIGBjbGFzc2BcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgaW5zdGFudGlhdGVcbiAqICAgICAgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxuICpcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG5cbiAqIEBleGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICpcbiAqIGBgYGpzXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xuICpcbiAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XG4gKiAgICB9O1xuICpcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cbiAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xuICogICAgICByZXR1cm4ge1xuICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcbiAqICAgICAgICAgIGNvdW50ICs9IDE7XG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xuICogICAgICAgIH0sXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XG4gKiAgICAgICAgfVxuICogICAgICB9O1xuICogICAgfV07XG4gKiAgfVxuICpcbiAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XG4gKiAgICB2YXIgcG9zdFNweTtcbiAqXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XG4gKiAgICB9KSk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcbiAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XG4gKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcbiAqICAgIH0pKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB0byByZXR1cm4gdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KGdldEZuKX0gaWYgeW91IGRvIG5vdCBuZWVkIHRvXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSAkZ2V0Rm4gVGhlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLiBJbnRlcm5hbGx5IHRoaXMgaXMgYSBzaG9ydCBoYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2VcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24gcGluZygpIHtcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xuICogICAgIH07XG4gKiAgIH1dKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyB0aGUgc2VydmljZVxuICogY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcbiAqIGFzIGEgdHlwZS9jbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNsYXNzIChjb25zdHJ1Y3RvciBmdW5jdGlvbikgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB1c2luZ1xuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXG4gKiBgYGBqc1xuICogICB2YXIgUGluZyA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICogICB9O1xuICpcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xuICpcbiAqICAgUGluZy5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcbiAqICAgfTtcbiAqICAgJHByb3ZpZGUuc2VydmljZSgncGluZycsIFBpbmcpO1xuICogYGBgXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxuICogYGBganNcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xuICogICAgIHBpbmcuc2VuZCgpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0c1xuICogcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSAqKnZhbHVlXG4gKiBzZXJ2aWNlKiouXG4gKlxuICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIGFuIEFuZ3VsYXJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGFyZSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIHZhbHVlIHNlcnZpY2VzLlxuICogYGBganNcbiAqICAgJHByb3ZpZGUudmFsdWUoJ0FETUlOX1VTRVInLCAnYWRtaW4nKTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XG4gKlxuICogICAkcHJvdmlkZS52YWx1ZSgnaGFsZk9mJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xuICogICB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNjb25zdGFudFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKmNvbnN0YW50IHNlcnZpY2UqKiwgc3VjaCBhcyBhIHN0cmluZywgYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbixcbiAqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBVbmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9IGl0IGNhbiBiZVxuICogaW5qZWN0ZWQgaW50byBhIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGFuZCBpdCBjYW5ub3RcbiAqIGJlIG92ZXJyaWRkZW4gYnkgYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29uc3RhbnQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBjb25zdGFudCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOlxuICogYGBganNcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ1NIQVJEX0hFSUdIVCcsIDMwNik7XG4gKlxuICogICAkcHJvdmlkZS5jb25zdGFudCgnTVlfQ09MT1VSUycsIFsncmVkJywgJ2JsdWUnLCAnZ3JleSddKTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAqIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZGVjb3JhdG9yKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgc2VydmljZSBkZWNvcmF0b3JcbiAqIGludGVyY2VwdHMgdGhlIGNyZWF0aW9uIG9mIGEgc2VydmljZSwgYWxsb3dpbmcgaXQgdG8gb3ZlcnJpZGUgb3IgbW9kaWZ5IHRoZSBiZWhhdmlvdXIgb2YgdGhlXG4gKiBzZXJ2aWNlLiBUaGUgb2JqZWN0IHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0b3IgbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXG4gKiBvYmplY3Qgd2hpY2ggcmVwbGFjZXMgb3Igd3JhcHMgYW5kIGRlbGVnYXRlcyB0byB0aGUgb3JpZ2luYWwgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAqICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgdXNpbmdcbiAqICAgIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdG9yLmludm9rZX0gbWV0aG9kIGFuZCBpcyB0aGVyZWZvcmUgZnVsbHkgaW5qZWN0YWJsZS5cbiAqICAgIExvY2FsIGluamVjdGlvbiBhcmd1bWVudHM6XG4gKlxuICogICAgKiBgJGRlbGVnYXRlYCAtIFRoZSBvcmlnaW5hbCBzZXJ2aWNlIGluc3RhbmNlLCB3aGljaCBjYW4gYmUgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXG4gKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xuICogICAgIHJldHVybiAkZGVsZWdhdGU7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xuICB2YXIgSU5TVEFOVElBVElORyA9IHt9LFxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxuICAgICAgcGF0aCA9IFtdLFxuICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBIYXNoTWFwKFtdLCB0cnVlKSxcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XG4gICAgICAgICRwcm92aWRlOiB7XG4gICAgICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxuICAgICAgICAgICAgc2VydmljZTogc3VwcG9ydE9iamVjdChzZXJ2aWNlKSxcbiAgICAgICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSxcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcbiAgICAgICAgICAgIGRlY29yYXRvcjogZGVjb3JhdG9yXG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVySW5qZWN0b3IgPSAocHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xuICAgICAgICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsIFwiVW5rbm93biBwcm92aWRlcjogezB9XCIsIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgICB9KSksXG4gICAgICBpbnN0YW5jZUNhY2hlID0ge30sXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gKGluc3RhbmNlQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGluc3RhbmNlQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgsIGNhbGxlcik7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCwgcHJvdmlkZXIsIHVuZGVmaW5lZCwgc2VydmljZU5hbWUpO1xuICAgICAgICAgIH0pKTtcblxuXG4gIGZvckVhY2gobG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCksIGZ1bmN0aW9uKGZuKSB7IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZuIHx8IG5vb3ApOyB9KTtcblxuICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gJHByb3ZpZGVyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxlZ2F0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ3NlcnZpY2UnKTtcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkge1xuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xuICAgIH1cbiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7XG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LCB0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuLCBlbmZvcmNlKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcbiAgICAgICRnZXQ6IGVuZm9yY2UgIT09IGZhbHNlID8gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnlGbikgOiBmYWN0b3J5Rm5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XG4gICAgfV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWUobmFtZSwgdmFsKSB7IHJldHVybiBmYWN0b3J5KG5hbWUsIHZhbHVlRm4odmFsKSwgZmFsc2UpOyB9XG5cbiAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTtcbiAgICBwcm92aWRlckNhY2hlW25hbWVdID0gdmFsdWU7XG4gICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLCBkZWNvckZuKSB7XG4gICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLFxuICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xuXG4gICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnSW5zdGFuY2UgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCwgb3JpZ1Byb3ZpZGVyKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7JGRlbGVnYXRlOiBvcmlnSW5zdGFuY2V9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1vZHVsZSBMb2FkaW5nXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSB7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIGludGVybmFsIEluamVjdG9yXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xuICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdjZGVwJywgJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfScsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lICsgJyA8LSAnICsgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gSU5TVEFOVElBVElORztcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBsb2NhbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNlcnZpY2VOYW1lID0gbG9jYWxzO1xuICAgICAgICBsb2NhbHMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICRpbmplY3QgPSBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpLFxuICAgICAgICAgIGxlbmd0aCwgaSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gJGluamVjdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnB1c2goXG4gICAgICAgICAgbG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgICAgPyBsb2NhbHNba2V5XVxuICAgICAgICAgIDogZ2V0U2VydmljZShrZXksIHNlcnZpY2VOYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgIGZuID0gZm5bbGVuZ3RoXTtcbiAgICAgIH1cblxuICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhcmpzLWludm9rZS1hcHBseS12cy1zd2l0Y2hcbiAgICAgIC8vICM1Mzg4XG4gICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xuICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxuICAgICAgdmFyIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZSgoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpLnByb3RvdHlwZSB8fCBudWxsKTtcbiAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gaW52b2tlKFR5cGUsIGluc3RhbmNlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcblxuICAgICAgcmV0dXJuIGlzT2JqZWN0KHJldHVybmVkVmFsdWUpIHx8IGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSkgPyByZXR1cm5lZFZhbHVlIDogaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludm9rZTogaW52b2tlLFxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxuICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXG4gICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUgPSBhbm5vdGF0ZTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJgIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZyB3aGVuZXZlclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uICRBbmNob3JTY3JvbGxQcm92aWRlcigpIHtcblxuICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnkgZGVmYXVsdCwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IGNoYW5nZXMgdG9cbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcbiAgICogY3VycmVudCBoYXNoLlxuICAgKi9cbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICogQHJlcXVpcmVzICR3aW5kb3dcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hlbiBjYWxsZWQsIGl0IGNoZWNrcyB0aGUgY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kXG4gICAqIHNjcm9sbHMgdG8gdGhlIHJlbGF0ZWQgZWxlbWVudCwgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBzcGVjaWZpZWQgaW4gdGhlXG4gICAqIFtIdG1sNSBzcGVjXShodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdGhlLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuXG4gICAqXG4gICAqIEl0IGFsc28gd2F0Y2hlcyB0aGUge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBhdXRvbWF0aWNhbGx5IHNjcm9sbHMgdG9cbiAgICogbWF0Y2ggYW55IGFuY2hvciB3aGVuZXZlciBpdCBjaGFuZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjYWxsaW5nXG4gICAqIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmcgJGFuY2hvclNjcm9sbFByb3ZpZGVyLmRpc2FibGVBdXRvU2Nyb2xsaW5nKCl9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gdXNlIGl0cyB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0IHlPZmZzZXR9IHByb3BlcnR5IHRvIHNwZWNpZnkgYVxuICAgKiB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChlaXRoZXIgZml4ZWQgb3IgZHluYW1pYykuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgdmFyIGhhc2ggPSAkbG9jYXRpb24uaGFzaCgpLCBlbG07XG5cbiAgICAgIC8vIGVtcHR5IGhhc2gsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXG4gICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xuXG4gICAgICAvLyBlbGVtZW50IHdpdGggZ2l2ZW4gaWRcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkpIHNjcm9sbFRvKGVsbSk7XG5cbiAgICAgIC8vIGZpcnN0IGFuY2hvciB3aXRoIGdpdmVuIG5hbWUgOi1EXG4gICAgICBlbHNlIGlmICgoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gbm8gZWxlbWVudCBhbmQgaGFzaCA9PSAndG9wJywgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSBzY3JvbGxUbyhudWxsKTtcbiAgICB9XG5cbiAgICAvLyBkb2VzIG5vdCBzY3JvbGwgd2hlbiB1c2VyIGNsaWNrcyBvbiBhbmNob3IgbGluayB0aGF0IGlzIGN1cnJlbnRseSBvblxuICAgIC8vIChubyB1cmwgY2hhbmdlLCBubyAkbG9jYXRpb24uaGFzaCgpIGNoYW5nZSksIGJyb3dzZXIgbmF0aXZlIGRvZXMgc2Nyb2xsXG4gICAgaWYgKGF1dG9TY3JvbGxpbmdFbmFibGVkKSB7XG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2goKSB7cmV0dXJuICRsb2NhdGlvbi5oYXNoKCk7fSxcbiAgICAgICAgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgLy8gc2tpcCB0aGUgaW5pdGlhbCBzY3JvbGwgaWYgJGxvY2F0aW9uLmhhc2ggaXMgZW1wdHlcbiAgICAgICAgICBpZiAobmV3VmFsID09PSBvbGRWYWwgJiYgbmV3VmFsID09PSAnJykgcmV0dXJuO1xuXG4gICAgICAgICAganFMaXRlRG9jdW1lbnRMb2FkZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcm9sbDtcbiAgfV07XG59XG5cbnZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxuICogc3luY2hyb25vdXNseSBwZXJmb3JtcyBET01cbiAqIHVwZGF0ZXMgYW5kIGNhbGxzIGRvbmUoKSBjYWxsYmFja3MuXG4gKlxuICogSW4gb3JkZXIgdG8gZW5hYmxlIGFuaW1hdGlvbnMgdGhlIG5nQW5pbWF0ZSBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cbiAqXG4gKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IHNyYy9uZ0FuaW1hdGUvYW5pbWF0ZS5qc1xuICovXG52YXIgJEFuaW1hdGVQcm92aWRlciA9IFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuXG5cbiAgdGhpcy4kJHNlbGVjdG9ycyA9IHt9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IGluamVjdGFibGUgYW5pbWF0aW9uIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHByb2R1Y2VzIHRoZVxuICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlXG4gICAqIGFuaW1hdGVkLlxuICAgKlxuICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oRWxlbWVudCwgZG9uZUZ1bmN0aW9uKWAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gXG4gICAqICAgbXVzdCBiZSBjYWxsZWQgb25jZSB0aGUgZWxlbWVudCBhbmltYXRpb24gaXMgY29tcGxldGUuIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgdGhlbiB0aGVcbiAgICogICBhbmltYXRpb24gc2VydmljZSB3aWxsIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uIHdoZW5ldmVyIGEgY2FuY2VsIGV2ZW50IGlzXG4gICAqICAgdHJpZ2dlcmVkLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHJldHVybiB7XG4gICAgICogICAgIGV2ZW50Rm4gOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICB2YXIga2V5ID0gbmFtZSArICctYW5pbWF0aW9uJztcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPSAnLicpIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJyxcbiAgICAgICAgXCJFeHBlY3RpbmcgY2xhc3Mgc2VsZWN0b3Igc3RhcnRpbmcgd2l0aCAnLicgZ290ICd7MH0nLlwiLCBuYW1lKTtcbiAgICB0aGlzLiQkc2VsZWN0b3JzW25hbWUuc3Vic3RyKDEpXSA9IGtleTtcbiAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIENTUyBjbGFzcyByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyBjaGVja2VkIHdoZW4gcGVyZm9ybWluZ1xuICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcbiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50LlxuICAgKiBXaGVuIHNldHRpbmcgdGhlIGNsYXNzTmFtZUZpbHRlciB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyID0gKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApID8gZXhwcmVzc2lvbiA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRxJywgJyQkYXN5bmNDYWxsYmFjaycsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJCRxLCAkJGFzeW5jQ2FsbGJhY2ssICRyb290U2NvcGUpIHtcblxuICAgIHZhciBjdXJyZW50RGVmZXI7XG5cbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZuKSB7XG4gICAgICB2YXIgY2FuY2VsRm4sIGRlZmVyID0gJCRxLmRlZmVyKCk7XG4gICAgICBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm4gPSBmdW5jdGlvbiBuZ0FuaW1hdGVNYXliZUNhbmNlbCgpIHtcbiAgICAgICAgY2FuY2VsRm4gJiYgY2FuY2VsRm4oKTtcbiAgICAgIH07XG5cbiAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uIG5nQW5pbWF0ZVBvc3REaWdlc3QoKSB7XG4gICAgICAgIGNhbmNlbEZuID0gZm4oZnVuY3Rpb24gbmdBbmltYXRlTm90aWZ5Q29tcGxldGUoKSB7XG4gICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgICAgdmFyIHRvQWRkID0gW10sIHRvUmVtb3ZlID0gW107XG5cbiAgICAgIHZhciBoYXNDbGFzc2VzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3JFYWNoKChlbGVtZW50LmF0dHIoJ2NsYXNzJykgfHwgJycpLnNwbGl0KC9cXHMrLyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICBoYXNDbGFzc2VzW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGhhc0NsYXNzID0gaGFzQ2xhc3Nlc1tjbGFzc05hbWVdO1xuXG4gICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudCBjbGFzcyBtYW5pcHVsYXRpb24gKHZpYSAkYW5pbWF0ZSkgd2FzIHRvIHJlbW92ZSB0aGUgY2xhc3MsIGFuZCB0aGVcbiAgICAgICAgLy8gZWxlbWVudCBjdXJyZW50bHkgaGFzIHRoZSBjbGFzcywgdGhlIGNsYXNzIGlzIHNjaGVkdWxlZCBmb3IgcmVtb3ZhbC4gT3RoZXJ3aXNlLCBpZlxuICAgICAgICAvLyB0aGUgbW9zdCByZWNlbnQgY2xhc3MgbWFuaXB1bGF0aW9uICh2aWEgJGFuaW1hdGUpIHdhcyB0byBhZGQgdGhlIGNsYXNzLCBhbmQgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgZG9lcyBub3QgY3VycmVudGx5IGhhdmUgdGhlIGNsYXNzLCB0aGUgY2xhc3MgaXMgc2NoZWR1bGVkIHRvIGJlIGFkZGVkLlxuICAgICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSAmJiBoYXNDbGFzcykge1xuICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IHRydWUgJiYgIWhhc0NsYXNzKSB7XG4gICAgICAgICAgdG9BZGQucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuICh0b0FkZC5sZW5ndGggKyB0b1JlbW92ZS5sZW5ndGgpID4gMCAmJlxuICAgICAgICBbdG9BZGQubGVuZ3RoID8gdG9BZGQgOiBudWxsLCB0b1JlbW92ZS5sZW5ndGggPyB0b1JlbW92ZSA6IG51bGxdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhY2hlZENsYXNzTWFuaXB1bGF0aW9uKGNhY2hlLCBjbGFzc2VzLCBvcCkge1xuICAgICAgZm9yICh2YXIgaT0wLCBpaSA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3Nlc1tpXTtcbiAgICAgICAgY2FjaGVbY2xhc3NOYW1lXSA9IG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzeW5jUHJvbWlzZSgpIHtcbiAgICAgIC8vIG9ubHkgc2VydmUgb25lIGluc3RhbmNlIG9mIGEgcHJvbWlzZSBpbiBvcmRlciB0byBzYXZlIENQVSBjeWNsZXNcbiAgICAgIGlmICghY3VycmVudERlZmVyKSB7XG4gICAgICAgIGN1cnJlbnREZWZlciA9ICQkcS5kZWZlcigpO1xuICAgICAgICAkJGFzeW5jQ2FsbGJhY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY3VycmVudERlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICBjdXJyZW50RGVmZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50RGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc3R5bGVzID0gZXh0ZW5kKG9wdGlvbnMuZnJvbSB8fCB7fSwgb3B0aW9ucy50byB8fCB7fSk7XG4gICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRhbmltYXRlXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIHByb3ZpZGVzIHJ1ZGltZW50YXJ5IERPTSBtYW5pcHVsYXRpb24gZnVuY3Rpb25zIHRvXG4gICAgICogaW5zZXJ0LCByZW1vdmUgYW5kIG1vdmUgZWxlbWVudHMgd2l0aGluIHRoZSBET00sIGFzIHdlbGwgYXMgYWRkaW5nIGFuZCByZW1vdmluZyBjbGFzc2VzLlxuICAgICAqIFRoaXMgc2VydmljZSBpcyB0aGUgY29yZSBzZXJ2aWNlIHVzZWQgYnkgdGhlIG5nQW5pbWF0ZSAkYW5pbWF0b3Igc2VydmljZSB3aGljaCBwcm92aWRlc1xuICAgICAqIGhpZ2gtbGV2ZWwgYW5pbWF0aW9uIGhvb2tzIGZvciBDU1MgYW5kIEphdmFTY3JpcHQuXG4gICAgICpcbiAgICAgKiAkYW5pbWF0ZSBpcyBhdmFpbGFibGUgaW4gdGhlIEFuZ3VsYXJKUyBjb3JlLCBob3dldmVyLCB0aGUgbmdBbmltYXRlIG1vZHVsZSBtdXN0IGJlIGluY2x1ZGVkXG4gICAgICogdG8gZW5hYmxlIGZ1bGwgb3V0IGFuaW1hdGlvbiBzdXBwb3J0LiBPdGhlcndpc2UsICRhbmltYXRlIHdpbGwgb25seSBwZXJmb3JtIHNpbXBsZSBET01cbiAgICAgKiBtYW5pcHVsYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgZW5hYmxpbmcgYW5pbWF0aW9uIHN1cHBvcnQsIGNsaWNrIGhlcmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGVcbiAgICAgKiBuZ0FuaW1hdGUgbW9kdWxlIHBhZ2V9IGFzIHdlbGwgYXMgdGhlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgbmdBbmltYXRlICRhbmltYXRlIHNlcnZpY2VcbiAgICAgKiBwYWdlfS5cbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8pIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgeyBmcm9tOiBmcm9tLCB0bzogdG8gfSk7XG4gICAgICAgIHJldHVybiBhc3luY1Byb21pc2UoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yXG4gICAgICAgKiBhcyB0aGUgZmlyc3QgY2hpbGQgd2l0aGluIHRoZSBgcGFyZW50YCBlbGVtZW50LiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlXG4gICAgICAgKiBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcbiAgICAgICAqICAgYSBjaGlsZCAoaWYgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyIHRoZSBzaWJsaW5nIGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnRcbiAgICAgICAqICAgYWZ0ZXIgaXRzZWxmXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAqL1xuICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFmdGVyID8gYWZ0ZXIuYWZ0ZXIoZWxlbWVudClcbiAgICAgICAgICAgICAgOiBwYXJlbnQucHJlcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjbGVhdmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2VcbiAgICAgICAqIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gYXN5bmNQcm9taXNlKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIE1vdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoaW4gdGhlIERPTSB0byBiZSBwbGFjZWRcbiAgICAgICAqIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yIGluc2lkZSBvZiB0aGUgYHBhcmVudGAgZWxlbWVudC4gV2hlbiB0aGUgZnVuY3Rpb25cbiAgICAgICAqIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBtb3ZlZCBhcm91bmQgd2l0aGluIHRoZVxuICAgICAgICogICBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGVyZSB0aGUgZWxlbWVudCB3aWxsIGJlXG4gICAgICAgKiAgIGluc2VydGVkIGludG8gKGlmIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IHdoZXJlIHRoZSBlbGVtZW50IHdpbGwgYmVcbiAgICAgICAqICAgcG9zaXRpb25lZCBuZXh0IHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRG8gbm90IHJlbW92ZSBlbGVtZW50IGJlZm9yZSBpbnNlcnQuIFJlbW92aW5nIHdpbGwgY2F1c2UgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgZHJvcHBlZC4gSW5zZXJ0IHdpbGwgaW1wbGljaXRseSBkbyB0aGUgcmVtb3ZlLlxuICAgICAgICByZXR1cm4gdGhpcy5lbnRlcihlbGVtZW50LCBwYXJlbnQsIGFmdGVyLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgdGhlIHByb3ZpZGVkIGNsYXNzTmFtZSBDU1MgY2xhc3MgdmFsdWUgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIHRoZSBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqICAgYWRkZWQgdG8gaXRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBbXSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJGFkZENsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIENTUyBjbGFzcyB2YWx1ZSBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAgICogV2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgaGF2ZSB0aGUgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgW10sIGNsYXNzTmFtZSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjc2V0Q2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhbmQvb3IgcmVtb3ZlcyB0aGUgZ2l2ZW4gQ1NTIGNsYXNzZXMgdG8gYW5kIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIGl0cyBDU1MgY2xhc3NlcyBjaGFuZ2VkXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbW92ZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBTVE9SQUdFX0tFWSA9ICckJGFuaW1hdGVDbGFzc2VzJztcbiAgICAgICAgdmFyIGNyZWF0ZWRDYWNoZSA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICBjYWNoZSA9IHtcbiAgICAgICAgICAgIGNsYXNzZXM6IHt9LFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgIH07XG4gICAgICAgICAgY3JlYXRlZENhY2hlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIGNhY2hlLm9wdGlvbnMpIHtcbiAgICAgICAgICBjYWNoZS5vcHRpb25zID0gYW5ndWxhci5leHRlbmQoY2FjaGUub3B0aW9ucyB8fCB7fSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2xhc3NlcyA9IGNhY2hlLmNsYXNzZXM7XG5cbiAgICAgICAgYWRkID0gaXNBcnJheShhZGQpID8gYWRkIDogYWRkLnNwbGl0KCcgJyk7XG4gICAgICAgIHJlbW92ZSA9IGlzQXJyYXkocmVtb3ZlKSA/IHJlbW92ZSA6IHJlbW92ZS5zcGxpdCgnICcpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCBhZGQsIHRydWUpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCByZW1vdmUsIGZhbHNlKTtcblxuICAgICAgICBpZiAoY3JlYXRlZENhY2hlKSB7XG4gICAgICAgICAgY2FjaGUucHJvbWlzZSA9IHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRGF0YShTVE9SQUdFX0tFWSk7XG5cbiAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgYmVmb3JlIHBvc3REaWdlc3RcbiAgICAgICAgICAgIC8vIGlzIHJ1biB0aGVuIHRoZSBjYWNoZSB3aWxsIGJlIHVuZGVmaW5lZCBhbmQgdGhlcmUgd2lsbCBiZVxuICAgICAgICAgICAgLy8gbm8gbmVlZCBhbnltb3JlIHRvIGFkZCBvciByZW1vdmUgYW5kIG9mIHRoZSBlbGVtZW50IGNsYXNzZXNcbiAgICAgICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LCBjYWNoZS5jbGFzc2VzKTtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBzZWxmLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBjbGFzc2VzWzBdLCBjbGFzc2VzWzFdLCBjYWNoZS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZLCBjYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FjaGUucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICQkc2V0Q2xhc3NJbW1lZGlhdGVseTogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgYWRkICYmIHRoaXMuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsIGFkZCk7XG4gICAgICAgIHJlbW92ZSAmJiB0aGlzLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCByZW1vdmUpO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgZW5hYmxlZDogbm9vcCxcbiAgICAgIGNhbmNlbDogbm9vcFxuICAgIH07XG4gIH1dO1xufV07XG5cbmZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyQkckFGJywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJCRyQUYsICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuICQkckFGLnN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikgeyByZXR1cm4gJCRyQUYoZm4pOyB9XG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHJldHVybiAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xuICAgICAgfTtcbiAgfV07XG59XG5cbi8qIGdsb2JhbCBzdHJpcEhhc2g6IHRydWUgKi9cblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkYnJvd3NlclxuICogQHJlcXVpcmVzICRsb2dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcbiAqXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XG4gKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcbiAqXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXG4gKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXG4gKiB0aGUgcmVhbCBicm93c2VyIGFwaXMuXG4gKi9cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHdpbmRvdyBUaGUgZ2xvYmFsIHdpbmRvdyBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gJGxvZyB3aW5kb3cuY29uc29sZSBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gJHNuaWZmZXIgJHNuaWZmZXIgc2VydmljZVxuICovXG5mdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIHJhd0RvY3VtZW50ID0gZG9jdW1lbnRbMF0sXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeSxcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcbiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsXG4gICAgICBwZW5kaW5nRGVmZXJJZHMgPSB7fTtcblxuICBzZWxmLmlzTW9jayA9IGZhbHNlO1xuXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IDA7XG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTtcblxuICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxuICBzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QgPSBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdDtcbiAgc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24oKSB7IG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7IH07XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uKHN1cHBvcnRzIGN1cnJ5aW5nKSBhbmQgZGVjcmVtZW50cyB0aGUgYG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrc2BcbiAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIHNsaWNlQXJncyhhcmd1bWVudHMsIDEpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcbiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgICB3aGlsZSAob3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucG9wKCkoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhhc2godXJsKSB7XG4gICAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4ICsgMSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxuICAgKiBUT0RPKHZvanRhKTogcHJlZml4IHRoaXMgbWV0aG9kIHdpdGggJCQgP1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBubyBvdXRzdGFuZGluZyByZXF1ZXN0XG4gICAqL1xuICBzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIC8vIGZvcmNlIGJyb3dzZXIgdG8gZXhlY3V0ZSBhbGwgcG9sbEZucyAtIHRoaXMgaXMgbmVlZGVkIHNvIHRoYXQgY29va2llcyBhbmQgb3RoZXIgcG9sbGVycyBmaXJlXG4gICAgLy8gYXQgc29tZSBkZXRlcm1pbmlzdGljIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgdGVzdCBydW5uZXIncyBhY3Rpb25zLiBMZWF2aW5nIHRoaW5ncyB1cCB0byB0aGVcbiAgICAvLyByZWd1bGFyIHBvbGxlciB3b3VsZCByZXN1bHQgaW4gZmxha3kgdGVzdHMuXG4gICAgZm9yRWFjaChwb2xsRm5zLCBmdW5jdGlvbihwb2xsRm4pIHsgcG9sbEZuKCk7IH0pO1xuXG4gICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFBvbGwgV2F0Y2hlciBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdmFyIHBvbGxGbnMgPSBbXSxcbiAgICAgIHBvbGxUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNhZGRQb2xsRm5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBQb2xsIGZ1bmN0aW9uIHRvIGFkZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBhIGZ1bmN0aW9uIHRvIHRoZSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IHBvbGxlciBwZXJpb2RpY2FsbHkgZXhlY3V0ZXMsXG4gICAqIGFuZCBzdGFydHMgcG9sbGluZyBpZiBub3Qgc3RhcnRlZCB5ZXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSB0aGUgYWRkZWQgZnVuY3Rpb25cbiAgICovXG4gIHNlbGYuYWRkUG9sbEZuID0gZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAoaXNVbmRlZmluZWQocG9sbFRpbWVvdXQpKSBzdGFydFBvbGxlcigxMDAsIHNldFRpbWVvdXQpO1xuICAgIHBvbGxGbnMucHVzaChmbik7XG4gICAgcmV0dXJuIGZuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgSG93IG9mdGVuIHNob3VsZCBicm93c2VyIGNhbGwgcG9sbCBmdW5jdGlvbnMgKG1zKVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHNldFRpbWVvdXQgUmVmZXJlbmNlIHRvIGEgcmVhbCBvciBmYWtlIGBzZXRUaW1lb3V0YCBmdW5jdGlvbi5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbmZpZ3VyZXMgdGhlIHBvbGxlciB0byBydW4gaW4gdGhlIHNwZWNpZmllZCBpbnRlcnZhbHMsIHVzaW5nIHRoZSBzcGVjaWZpZWRcbiAgICogc2V0VGltZW91dCBmbiBhbmQga2lja3MgaXQgb2ZmLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RhcnRQb2xsZXIoaW50ZXJ2YWwsIHNldFRpbWVvdXQpIHtcbiAgICAoZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICBmb3JFYWNoKHBvbGxGbnMsIGZ1bmN0aW9uKHBvbGxGbikgeyBwb2xsRm4oKTsgfSk7XG4gICAgICBwb2xsVGltZW91dCA9IHNldFRpbWVvdXQoY2hlY2ssIGludGVydmFsKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVVJMIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZhciBjYWNoZWRTdGF0ZSwgbGFzdEhpc3RvcnlTdGF0ZSxcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcbiAgICAgIGJhc2VFbGVtZW50ID0gZG9jdW1lbnQuZmluZCgnYmFzZScpLFxuICAgICAgcmVsb2FkTG9jYXRpb24gPSBudWxsO1xuXG4gIGNhY2hlU3RhdGUoKTtcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdFVFRFUjpcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXG4gICAqXG4gICAqIFNFVFRFUjpcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cbiAgICogSWYgaHRtbDUgaGlzdG9yeSBhcGkgc3VwcG9ydGVkLCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlIGlzIHVzZWQsIG90aGVyd2lzZVxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cbiAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgb2JqZWN0IHRvIHVzZSB3aXRoIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGVcbiAgICovXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgIC8vIEluIG1vZGVybiBicm93c2VycyBgaGlzdG9yeS5zdGF0ZWAgaXMgYG51bGxgIGJ5IGRlZmF1bHQ7IHRyZWF0aW5nIGl0IHNlcGFyYXRlbHlcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuXG4gICAgLy8gc2V0dGVyXG4gICAgaWYgKHVybCkge1xuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xuXG4gICAgICAvLyBEb24ndCBjaGFuZ2UgYW55dGhpbmcgaWYgcHJldmlvdXMgYW5kIGN1cnJlbnQgVVJMcyBhbmQgc3RhdGVzIG1hdGNoLiBUaGlzIGFsc28gcHJldmVudHNcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0L2ZmYjI3MDFcbiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gdXJsICYmICghJHNuaWZmZXIuaGlzdG9yeSB8fCBzYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuICAgICAgdmFyIHNhbWVCYXNlID0gbGFzdEJyb3dzZXJVcmwgJiYgc3RyaXBIYXNoKGxhc3RCcm93c2VyVXJsKSA9PT0gc3RyaXBIYXNoKHVybCk7XG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcbiAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBzdGF0ZTtcbiAgICAgIC8vIERvbid0IHVzZSBoaXN0b3J5IEFQSSBpZiBvbmx5IHRoZSBoYXNoIGNoYW5nZWRcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcbiAgICAgIC8vIHRvIG5vdCBmaXJpbmcgYSBgaGFzaGNoYW5nZWAgbm9yIGBwb3BzdGF0ZWAgZXZlbnRcbiAgICAgIC8vIGluIHNvbWUgY2FzZXMgKHNlZSAjOTE0MykuXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XG4gICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgY2FjaGVTdGF0ZSgpO1xuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgcmVsb2FkTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gZ2V0SGFzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAvLyBnZXR0ZXJcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLSByZWxvYWRMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkLlxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcbiAgICAgIHJldHVybiByZWxvYWRMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhpc3Rvcnkuc3RhdGUgb3IgbnVsbCBpZiBoaXN0b3J5LnN0YXRlIGlzIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcbiAgICovXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XG4gIH07XG5cbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xuICAgIGNhY2hlU3RhdGUoKTtcbiAgICBmaXJlVXJsQ2hhbmdlKCk7XG4gIH1cblxuICAvLyBUaGlzIHZhcmlhYmxlIHNob3VsZCBiZSB1c2VkICpvbmx5KiBpbnNpZGUgdGhlIGNhY2hlU3RhdGUgZnVuY3Rpb24uXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBvbmx5IHBsYWNlIGluICRicm93c2VyIHdoZXJlIGBoaXN0b3J5LnN0YXRlYCBpcyByZWFkLlxuICAgIGNhY2hlZFN0YXRlID0gd2luZG93Lmhpc3Rvcnkuc3RhdGU7XG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xuICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XG4gICAgfVxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcbiAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHNlbGYudXJsKCkgJiYgbGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICAgIGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKlxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXG4gICAqL1xuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50c1xuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxuICAgICAgLy8gZG9uJ3QgZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXG5cbiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnRcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcblxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHVybCBoYXMgY2hhbmdlZCBvdXRzaWRlIG9mIEFuZ3VsYXIuXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxuICAgKi9cbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVVybENoYW5nZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNaXNjIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XG4gICAqIChhbHdheXMgcmVsYXRpdmUgLSB3aXRob3V0IGRvbWFpbilcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXG4gICAqL1xuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLywgJycpIDogJyc7XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ29va2llcyBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdmFyIGxhc3RDb29raWVzID0ge307XG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XG4gIHZhciBjb29raWVQYXRoID0gc2VsZi5iYXNlSHJlZigpO1xuXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNjb29raWVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBDb29raWUgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIENvb2tpZSB2YWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGNvb2tpZXMgbWV0aG9kIHByb3ZpZGVzIGEgJ3ByaXZhdGUnIGxvdyBsZXZlbCBhY2Nlc3MgdG8gYnJvd3NlciBjb29raWVzLlxuICAgKiBJdCBpcyBub3QgbWVhbnQgdG8gYmUgdXNlZCBkaXJlY3RseSwgdXNlIHRoZSAkY29va2llIHNlcnZpY2UgaW5zdGVhZC5cbiAgICpcbiAgICogVGhlIHJldHVybiB2YWx1ZXMgdmFyeSBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50cyB0aGF0IHRoZSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqIC0gY29va2llcygpIC0+IGhhc2ggb2YgYWxsIGNvb2tpZXMsIHRoaXMgaXMgTk9UIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgc3RhdGUsIHNvIGRvIG5vdCBtb2RpZnlcbiAgICogICBpdFxuICAgKiAtIGNvb2tpZXMobmFtZSwgdmFsdWUpIC0+IHNldCBuYW1lIHRvIHZhbHVlLCBpZiB2YWx1ZSBpcyB1bmRlZmluZWQgZGVsZXRlIHRoZSBjb29raWVcbiAgICogLSBjb29raWVzKG5hbWUpIC0+IHRoZSBzYW1lIGFzIChuYW1lLCB1bmRlZmluZWQpID09IERFTEVURVMgKG5vIG9uZSBjYWxscyBpdCByaWdodCBub3cgdGhhdFxuICAgKiAgIHdheSlcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gSGFzaCBvZiBhbGwgY29va2llcyAoaWYgY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlcilcbiAgICovXG4gIHNlbGYuY29va2llcyA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGNvb2tpZUxlbmd0aCwgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXg7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmF3RG9jdW1lbnQuY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9O3BhdGg9XCIgKyBjb29raWVQYXRoICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIGNvb2tpZUxlbmd0aCA9IChyYXdEb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJztwYXRoPScgKyBjb29raWVQYXRoKS5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgLy8gcGVyIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzIxMDkudHh0IGJyb3dzZXIgbXVzdCBhbGxvdyBhdCBtaW5pbXVtOlxuICAgICAgICAgIC8vIC0gMzAwIGNvb2tpZXNcbiAgICAgICAgICAvLyAtIDIwIGNvb2tpZXMgcGVyIHVuaXF1ZSBkb21haW5cbiAgICAgICAgICAvLyAtIDQwOTYgYnl0ZXMgcGVyIGNvb2tpZVxuICAgICAgICAgIGlmIChjb29raWVMZW5ndGggPiA0MDk2KSB7XG4gICAgICAgICAgICAkbG9nLndhcm4oXCJDb29raWUgJ1wiICsgbmFtZSArXG4gICAgICAgICAgICAgIFwiJyBwb3NzaWJseSBub3Qgc2V0IG9yIG92ZXJmbG93ZWQgYmVjYXVzZSBpdCB3YXMgdG9vIGxhcmdlIChcIiArXG4gICAgICAgICAgICAgIGNvb2tpZUxlbmd0aCArIFwiID4gNDA5NiBieXRlcykhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmF3RG9jdW1lbnQuY29va2llICE9PSBsYXN0Q29va2llU3RyaW5nKSB7XG4gICAgICAgIGxhc3RDb29raWVTdHJpbmcgPSByYXdEb2N1bWVudC5jb29raWU7XG4gICAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdChcIjsgXCIpO1xuICAgICAgICBsYXN0Q29va2llcyA9IHt9O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29raWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZUFycmF5W2ldO1xuICAgICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vaWdub3JlIG5hbWVsZXNzIGNvb2tpZXNcbiAgICAgICAgICAgIG5hbWUgPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzIHNlZW4gZm9yIGEgY29va2llIGlzIHRoZSBtb3N0XG4gICAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXRcbiAgICAgICAgICAgIC8vIGZvbGxvdyBhcmUgZm9yIGxlc3Mgc3BlY2lmaWMgcGF0aHMuXG4gICAgICAgICAgICBpZiAobGFzdENvb2tpZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhpbmRleCArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0Q29va2llcztcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICogQHJldHVybnMgeyp9IERlZmVySWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHRhc2sgdmlhIGAkYnJvd3Nlci5kZWZlci5jYW5jZWwoKWAuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeGVjdXRlcyBhIGZuIGFzeW5jaHJvbm91c2x5IHZpYSBgc2V0VGltZW91dChmbiwgZGVsYXkpYC5cbiAgICpcbiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmdcbiAgICogYHNldFRpbWVvdXRgIGluIHRlc3RzLCB0aGUgZm5zIGFyZSBxdWV1ZWQgaW4gYW4gYXJyYXksIHdoaWNoIGNhbiBiZSBwcm9ncmFtbWF0aWNhbGx5IGZsdXNoZWRcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cbiAgICpcbiAgICovXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcbiAgICB2YXIgdGltZW91dElkO1xuICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKTtcbiAgICB9LCBkZWxheSB8fCAwKTtcbiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XG4gICAgcmV0dXJuIHRpbWVvdXRJZDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICogICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkLlxuICAgKi9cbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XG4gICAgaWYgKHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXSkge1xuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxufVxuXG5mdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGxvZycsICckc25pZmZlcicsICckZG9jdW1lbnQnLFxuICAgICAgZnVuY3Rpb24oJHdpbmRvdywgJGxvZywgJHNuaWZmZXIsICRkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcik7XG4gICAgICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNhY2hlRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xuICogdGhlbS5cbiAqXG4gKiBgYGBqc1xuICpcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnbm9TdWNoQ2FjaGVJZCcpKS5ub3QudG9CZURlZmluZWQoKTtcbiAqXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XG4gKiAgY2FjaGUucHV0KFwiYW5vdGhlciBrZXlcIiwgXCJhbm90aGVyIHZhbHVlXCIpO1xuICpcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxuICogIGV4cGVjdChjYWNoZS5pbmZvKCkpLnRvRXF1YWwoe2lkOiAnY2FjaGVJZCcsIHNpemU6IDJ9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgY2FjaGUgYmVoYXZpb3IuIFByb3BlcnRpZXM6XG4gKlxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XG4gKlxuICogLSBge29iamVjdH1gIGBpbmZvKClgIOKAlCBSZXR1cm5zIGlkLCBzaXplLCBhbmQgb3B0aW9ucyBvZiBjYWNoZS5cbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcbiAqICAgaXQuXG4gKiAtIGB7eyp9fWAgYGdldCh7c3RyaW5nfSBrZXkpYCDigJQgUmV0dXJucyBjYWNoZWQgdmFsdWUgZm9yIGBrZXlgIG9yIHVuZGVmaW5lZCBmb3IgY2FjaGUgbWlzcy5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxuICogLSBge3ZvaWR9YCBgZGVzdHJveSgpYCDigJQgUmVtb3ZlcyByZWZlcmVuY2VzIHRvIHRoaXMgY2FjaGUgZnJvbSAkY2FjaGVGYWN0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjYWNoZUV4YW1wbGVBcHBcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYWNoZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlS2V5XCIgcGxhY2Vob2xkZXI9XCJLZXlcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlVmFsdWVcIiBwbGFjZWhvbGRlcj1cIlZhbHVlXCI+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHV0KG5ld0NhY2hlS2V5LCBuZXdDYWNoZVZhbHVlKVwiPkNhY2hlPC9idXR0b24+XG5cbiAgICAgICAgIDxwIG5nLWlmPVwia2V5cy5sZW5ndGhcIj5DYWNoZWQgVmFsdWVzPC9wPlxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJrZXkgaW4ga2V5c1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cImNhY2hlLmdldChrZXkpXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgIDxwPkNhY2hlIEluZm88L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBjYWNoZS5pbmZvKClcIj5cbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XG4gICAgICAgICAgIDxiIG5nLWJpbmQ9XCJ2YWx1ZVwiPjwvYj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2FjaGVFeGFtcGxlQXBwJywgW10pLlxuICAgICAgICAgY29udHJvbGxlcignQ2FjaGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICAgICAkc2NvcGUua2V5cyA9IFtdO1xuICAgICAgICAgICAkc2NvcGUuY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gICAgICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgaWYgKCRzY29wZS5jYWNoZS5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICRzY29wZS5jYWNoZS5wdXQoa2V5LCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgcCB7XG4gICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2FjaGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCwgb3B0aW9ucykge1xuICAgICAgaWYgKGNhY2hlSWQgaW4gY2FjaGVzKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCBcIkNhY2hlSWQgJ3swfScgaXMgYWxyZWFkeSB0YWtlbiFcIiwgY2FjaGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplID0gMCxcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXG4gICAgICAgICAgZGF0YSA9IHt9LFxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBscnVIYXNoID0ge30sXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgdHlwZVxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcbiAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxuICAgICAgICogdGVtcGxhdGVzIGFuZCBvdGhlciBkYXRhLlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N1cGVyQ2FjaGUnKVxuICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xuICAgICAgICogICAgfV0pO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogRXhhbXBsZSB0ZXN0OlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgaXQoJ3Nob3VsZCBiZWhhdmUgbGlrZSBhIGNhY2hlJywgaW5qZWN0KGZ1bmN0aW9uKHN1cGVyQ2FjaGUpIHtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XG4gICAgICAgKlxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDJcbiAgICAgICAqICAgIH0pO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlKCdhbm90aGVyIGtleScpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAwXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqICB9KSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3B1dFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zZXJ0cyBhIG5hbWVkIGVudHJ5IGludG8gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgdG8gYmVcbiAgICAgICAgICogcmV0cmlldmVkIGxhdGVyLCBhbmQgaW5jcmVtZW50aW5nIHRoZSBzaXplIG9mIHRoZSBjYWNoZSBpZiB0aGUga2V5IHdhcyBub3QgYWxyZWFkeVxuICAgICAgICAgKiBwcmVzZW50IGluIHRoZSBjYWNoZS4gSWYgYmVoYXZpbmcgbGlrZSBhbiBMUlUgY2FjaGUsIGl0IHdpbGwgYWxzbyByZW1vdmUgc3RhbGVcbiAgICAgICAgICogZW50cmllcyBmcm9tIHRoZSBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IHdpbGwgbm90IGluc2VydCB1bmRlZmluZWQgdmFsdWVzIGludG8gdGhlIGNhY2hlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdW5kZXIgd2hpY2ggdGhlIGNhY2hlZCBkYXRhIGlzIHN0b3JlZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSB0aGUgdmFsdWUgdG8gc3RvcmUgYWxvbmdzaWRlIHRoZSBrZXkuIElmIGl0IGlzIHVuZGVmaW5lZCwgdGhlIGtleVxuICAgICAgICAgKiAgICB3aWxsIG5vdCBiZSBzdG9yZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgc2l6ZSsrO1xuICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgaWYgKHNpemUgPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNnZXRcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHJpZXZlcyBuYW1lZCBkYXRhIHN0b3JlZCBpbiB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBkYXRhIHRvIGJlIHJldHJpZXZlZFxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlcyBhbiBlbnRyeSBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWxydUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IHN0YWxlRW5kKSBzdGFsZUVuZCA9IGxydUVudHJ5Lm47XG4gICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBscnVIYXNoW2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgICAgICBzaXplLS07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ2xlYXJzIHRoZSBjYWNoZSBvYmplY3Qgb2YgYW55IGVudHJpZXMuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgICBzaXplID0gMDtcbiAgICAgICAgICBscnVIYXNoID0ge307XG4gICAgICAgICAgZnJlc2hFbmQgPSBzdGFsZUVuZCA9IG51bGw7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2Rlc3Ryb3lcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IGVudGlyZWx5LFxuICAgICAgICAgKiByZW1vdmluZyBpdCBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICBzdGF0cyA9IG51bGw7XG4gICAgICAgICAgbHJ1SGFzaCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIGNhY2hlc1tjYWNoZUlkXTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjaW5mb1xuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGEgcGFydGljdWxhciB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAgICogICA8dWw+XG4gICAgICAgICAqICAgICA8bGk+KippZCoqOiB0aGUgaWQgb2YgdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKnNpemUqKjogdGhlIG51bWJlciBvZiBlbnRyaWVzIGtlcHQgaW4gdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKi4uLioqOiBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IHdoZW4gY3JlYXRpbmcgdGhlXG4gICAgICAgICAqICAgICAgIGNhY2hlLjwvbGk+XG4gICAgICAgICAqICAgPC91bD5cbiAgICAgICAgICovXG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBleHRlbmQoe30sIHN0YXRzLCB7c2l6ZTogc2l6ZX0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogbWFrZXMgdGhlIGBlbnRyeWAgdGhlIGZyZXNoRW5kIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVmcmVzaChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkgIT0gZnJlc2hFbmQpIHtcbiAgICAgICAgICBpZiAoIXN0YWxlRW5kKSB7XG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhbGVFbmQgPT0gZW50cnkpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnkubjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5rKGVudHJ5Lm4sIGVudHJ5LnApO1xuICAgICAgICAgIGxpbmsoZW50cnksIGZyZXNoRW5kKTtcbiAgICAgICAgICBmcmVzaEVuZCA9IGVudHJ5O1xuICAgICAgICAgIGZyZXNoRW5kLm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBiaWRpcmVjdGlvbmFsbHkgbGlua3MgdHdvIGVudHJpZXMgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBsaW5rKG5leHRFbnRyeSwgcHJldkVudHJ5KSB7XG4gICAgICAgIGlmIChuZXh0RW50cnkgIT0gcHJldkVudHJ5KSB7XG4gICAgICAgICAgaWYgKG5leHRFbnRyeSkgbmV4dEVudHJ5LnAgPSBwcmV2RW50cnk7IC8vcCBzdGFuZHMgZm9yIHByZXZpb3VzLCAncHJldicgZGlkbid0IG1pbmlmeVxuICAgICAgICAgIGlmIChwcmV2RW50cnkpIHByZXZFbnRyeS5uID0gbmV4dEVudHJ5OyAvL24gc3RhbmRzIGZvciBuZXh0LCAnbmV4dCcgZGlkbid0IG1pbmlmeVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNpbmZvXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBjYWNoZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbmZvID0ge307XG4gICAgICBmb3JFYWNoKGNhY2hlcywgZnVuY3Rpb24oY2FjaGUsIGNhY2hlSWQpIHtcbiAgICAgICAgaW5mb1tjYWNoZUlkXSA9IGNhY2hlLmluZm8oKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjZ2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgYWNjZXNzIHRvIGEgY2FjaGUgb2JqZWN0IGJ5IHRoZSBgY2FjaGVJZGAgdXNlZCB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBDYWNoZSBvYmplY3QgaWRlbnRpZmllZCBieSB0aGUgY2FjaGVJZCBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBjYWNoZS5cbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKGNhY2hlSWQpIHtcbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF07XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGNhY2hlRmFjdG9yeTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHRlbXBsYXRlQ2FjaGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBmaXJzdCB0aW1lIGEgdGVtcGxhdGUgaXMgdXNlZCwgaXQgaXMgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSBjYWNoZSBmb3IgcXVpY2sgcmV0cmlldmFsLiBZb3VcbiAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgb3IgYnkgY29uc3VtaW5nIHRoZVxuICogYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlIGRpcmVjdGx5LlxuICpcbiAqIEFkZGluZyB2aWEgdGhlIGBzY3JpcHRgIHRhZzpcbiAqXG4gKiBgYGBodG1sXG4gKiAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cInRlbXBsYXRlSWQuaHRtbFwiPlxuICogICAgIDxwPlRoaXMgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRlbXBsYXRlPC9wPlxuICogICA8L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqICoqTm90ZToqKiB0aGUgYHNjcmlwdGAgdGFnIGNvbnRhaW5pbmcgdGhlIHRlbXBsYXRlIGRvZXMgbm90IG5lZWQgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGBoZWFkYCBvZlxuICogdGhlIGRvY3VtZW50LCBidXQgaXQgbXVzdCBiZSBhIGRlc2NlbmRlbnQgb2YgdGhlIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgJHJvb3RFbGVtZW50fSAoSUUsXG4gKiBlbGVtZW50IHdpdGggbmctYXBwIGF0dHJpYnV0ZSksIG90aGVyd2lzZSB0aGUgdGVtcGxhdGUgd2lsbCBiZSBpZ25vcmVkLlxuICpcbiAqIEFkZGluZyB2aWEgdGhlICR0ZW1wbGF0ZUNhY2hlIHNlcnZpY2U6XG4gKlxuICogYGBganNcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbiAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBIVE1MOlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pbmNsdWRlPVwiICd0ZW1wbGF0ZUlkLmh0bWwnIFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogb3IgZ2V0IGl0IHZpYSBKYXZhc2NyaXB0OlxuICogYGBganNcbiAqICR0ZW1wbGF0ZUNhY2hlLmdldCgndGVtcGxhdGVJZC5odG1sJylcbiAqIGBgYFxuICpcbiAqIFNlZSB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fS5cbiAqXG4gKi9cbmZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcbiAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndGVtcGxhdGVzJyk7XG4gIH1dO1xufVxuXG4vKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSFcbiAqXG4gKiBET00tcmVsYXRlZCB2YXJpYWJsZXM6XG4gKlxuICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXG4gKiAtIFwiZWxlbWVudFwiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZVxuICogLSBcIiRub2RlXCIgb3IgXCIkZWxlbWVudFwiIC0ganFMaXRlLXdyYXBwZWQgbm9kZSBvciBlbGVtZW50XG4gKlxuICpcbiAqIENvbXBpbGVyIHJlbGF0ZWQgc3R1ZmY6XG4gKlxuICogLSBcImxpbmtGblwiIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmVcbiAqIC0gXCJub2RlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZVxuICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjb21wb3NpdGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY29tcGlsZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXG4gKiBjYW4gdGhlbiBiZSB1c2VkIHRvIGxpbmsge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYHNjb3BlYH0gYW5kIHRoZSB0ZW1wbGF0ZSB0b2dldGhlci5cbiAqXG4gKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cbiAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFRoaXMgZG9jdW1lbnQgaXMgYW4gaW4tZGVwdGggcmVmZXJlbmNlIG9mIGFsbCBkaXJlY3RpdmUgb3B0aW9ucy5cbiAqIEZvciBhIGdlbnRsZSBpbnRyb2R1Y3Rpb24gdG8gZGlyZWN0aXZlcyB3aXRoIGV4YW1wbGVzIG9mIGNvbW1vbiB1c2UgY2FzZXMsXG4gKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cbiAqIDwvZGl2PlxuICpcbiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCBvcHRpb25zIGZvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGUgZGlmZmVyZW5jZSByZXNpZGVzIGluIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBZb3UgY2FuIGVpdGhlciByZXR1cm4gYSBcIkRpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFwiIChzZWUgYmVsb3cpIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsXG4gKiBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmUgdGhlIGRlZmF1bHQgdmFsdWVzKS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXG4gKiA8L2Rpdj5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAgcHJpb3JpdHk6IDAsXG4gKiAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyB0ZW1wbGF0ZVVybDogJ2RpcmVjdGl2ZS5odG1sJywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICogICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAqICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlOiAnaHRtbCcsXG4gKiAgICAgICBzY29wZTogZmFsc2UsXG4gKiAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxuICogICAgICAgY29udHJvbGxlckFzOiAnc3RyaW5nQWxpYXMnLFxuICogICAgICAgcmVxdWlyZTogJ3NpYmxpbmdEaXJlY3RpdmVOYW1lJywgLy8gb3IgLy8gWydecGFyZW50RGlyZWN0aXZlTmFtZScsICc/b3B0aW9uYWxEaXJlY3RpdmVOYW1lJywgJz9eb3B0aW9uYWxQYXJlbnQnXSxcbiAqICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgICAgICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxuICogICAgICAgICB9XG4gKiAgICAgICAgIC8vIG9yXG4gKiAgICAgICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxuICogICAgICAgfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyBsaW5rOiB7XG4gKiAgICAgICAvLyAgcHJlOiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxuICogICAgICAgLy8gIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAvLyB9XG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gbGluazogZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICB9O1xuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogQW55IHVuc3BlY2lmaWVkIG9wdGlvbnMgd2lsbCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gc2VlIHRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdy5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZXJlZm9yZSB0aGUgYWJvdmUgY2FuIGJlIHNpbXBsaWZpZWQgYXM6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgICAvLyBvclxuICogICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKlxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxuICpcbiAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGVcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxuICpcbiAqICMjIyMgYG11bHRpRWxlbWVudGBcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXG4gKiBub2RlcyB3aXRoIHRoZSBhdHRyaWJ1dGVzIGBkaXJlY3RpdmUtbmFtZS1zdGFydGAgYW5kIGBkaXJlY3RpdmUtbmFtZS1lbmRgLCBhbmQgZ3JvdXAgdGhlbVxuICogdG9nZXRoZXIgYXMgdGhlIGRpcmVjdGl2ZSBlbGVtZW50cy4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW91cmFsIChzdWNoIGFzIHtAbGluayBuZ0NsaWNrfSksIGFuZCB3aGljaFxuICogZG8gbm90IG1hbmlwdWxhdGUgb3IgcmVwbGFjZSBjaGlsZCBub2RlcyAoc3VjaCBhcyB7QGxpbmsgbmdJbmNsdWRlfSkuXG4gKlxuICogIyMjIyBgcHJpb3JpdHlgXG4gKiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkaXJlY3RpdmVzIGRlZmluZWQgb24gYSBzaW5nbGUgRE9NIGVsZW1lbnQsIHNvbWV0aW1lcyBpdFxuICogaXMgbmVjZXNzYXJ5IHRvIHNwZWNpZnkgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhcHBsaWVkLiBUaGUgYHByaW9yaXR5YCBpcyB1c2VkXG4gKiB0byBzb3J0IHRoZSBkaXJlY3RpdmVzIGJlZm9yZSB0aGVpciBgY29tcGlsZWAgZnVuY3Rpb25zIGdldCBjYWxsZWQuIFByaW9yaXR5IGlzIGRlZmluZWQgYXMgYVxuICogbnVtYmVyLiBEaXJlY3RpdmVzIHdpdGggZ3JlYXRlciBudW1lcmljYWwgYHByaW9yaXR5YCBhcmUgY29tcGlsZWQgZmlyc3QuIFByZS1saW5rIGZ1bmN0aW9uc1xuICogYXJlIGFsc28gcnVuIGluIHByaW9yaXR5IG9yZGVyLCBidXQgcG9zdC1saW5rIGZ1bmN0aW9ucyBhcmUgcnVuIGluIHJldmVyc2Ugb3JkZXIuIFRoZSBvcmRlclxuICogb2YgZGlyZWN0aXZlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGlzIHVuZGVmaW5lZC4gVGhlIGRlZmF1bHQgcHJpb3JpdHkgaXMgYDBgLlxuICpcbiAqICMjIyMgYHRlcm1pbmFsYFxuICogSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgY3VycmVudCBgcHJpb3JpdHlgIHdpbGwgYmUgdGhlIGxhc3Qgc2V0IG9mIGRpcmVjdGl2ZXNcbiAqIHdoaWNoIHdpbGwgZXhlY3V0ZSAoYW55IGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgcHJpb3JpdHkgd2lsbCBzdGlsbCBleGVjdXRlXG4gKiBhcyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9uIHNhbWUgYHByaW9yaXR5YCBpcyB1bmRlZmluZWQpLiBOb3RlIHRoYXQgZXhwcmVzc2lvbnNcbiAqIGFuZCBvdGhlciBkaXJlY3RpdmVzIHVzZWQgaW4gdGhlIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIHdpbGwgYWxzbyBiZSBleGNsdWRlZCBmcm9tIGV4ZWN1dGlvbi5cbiAqXG4gKiAjIyMjIGBzY29wZWBcbiAqICoqSWYgc2V0IHRvIGB0cnVlYCwqKiB0aGVuIGEgbmV3IHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBkaXJlY3RpdmUuIElmIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlXG4gKiBzYW1lIGVsZW1lbnQgcmVxdWVzdCBhIG5ldyBzY29wZSwgb25seSBvbmUgbmV3IHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSBuZXcgc2NvcGUgcnVsZSBkb2VzIG5vdFxuICogYXBwbHkgZm9yIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBzaW5jZSB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGUgYWx3YXlzIGdldHMgYSBuZXcgc2NvcGUuXG4gKlxuICogKipJZiBzZXQgdG8gYHt9YCAob2JqZWN0IGhhc2gpLCoqIHRoZW4gYSBuZXcgXCJpc29sYXRlXCIgc2NvcGUgaXMgY3JlYXRlZC4gVGhlICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb21cbiAqIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBUaGlzIGlzIHVzZWZ1bFxuICogd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90IGFjY2lkZW50YWxseSByZWFkIG9yIG1vZGlmeSBkYXRhIGluIHRoZVxuICogcGFyZW50IHNjb3BlLlxuICpcbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgdGFrZXMgYW4gb2JqZWN0IGhhc2ggd2hpY2ggZGVmaW5lcyBhIHNldCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0aWVzXG4gKiBkZXJpdmVkIGZyb20gdGhlIHBhcmVudCBzY29wZS4gVGhlc2UgbG9jYWwgcHJvcGVydGllcyBhcmUgdXNlZnVsIGZvciBhbGlhc2luZyB2YWx1ZXMgZm9yXG4gKiB0ZW1wbGF0ZXMuIExvY2FscyBkZWZpbml0aW9uIGlzIGEgaGFzaCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byBpdHMgc291cmNlOlxuICpcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgIHRoZW4gdGhlXG4gKiAgIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJoZWxsbyB7e25hbWV9fVwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uXG4gKiAgIG9mIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLCB0aGVuIHdpZGdldCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3RcbiAqICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG8ge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlXG4gKiAgIGBsb2NhbE5hbWVgIHByb3BlcnR5IG9uIHRoZSB3aWRnZXQgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdFxuICogICBjb21wb25lbnQgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYmktZGlyZWN0aW9uYWwgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIHRoZVxuICogICBwYXJlbnQgc2NvcGUgcHJvcGVydHkgb2YgbmFtZSBkZWZpbmVkIHZpYSB0aGUgdmFsdWUgb2YgdGhlIGBhdHRyYCBhdHRyaWJ1dGUuIElmIG5vIGBhdHRyYFxuICogICBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLlxuICogICBHaXZlbiBgPHdpZGdldCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPW15QXR0cicgfWAsIHRoZW4gd2lkZ2V0IHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAgYW5kIGFueSBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gSWYgdGhlIHBhcmVudFxuICogICBzY29wZSBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIHRocm93IGEgTk9OX0FTU0lHTkFCTEVfTU9ERUxfRVhQUkVTU0lPTiBleGNlcHRpb24uIFlvdVxuICogICBjYW4gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2luZyBgPT9gIG9yIGA9P2F0dHJgIGluIG9yZGVyIHRvIGZsYWcgdGhlIHByb3BlcnR5IGFzIG9wdGlvbmFsLiBJZlxuICogICB5b3Ugd2FudCB0byBzaGFsbG93IHdhdGNoIGZvciBjaGFuZ2VzIChpLmUuICR3YXRjaENvbGxlY3Rpb24gaW5zdGVhZCBvZiAkd2F0Y2gpIHlvdSBjYW4gdXNlXG4gKiAgIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgcHJvcGVydHkgaXMgb3B0aW9uYWwpLlxuICpcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlXG4gKiAgIGxvY2FsIG5hbWUuIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZW4gaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0b1xuICogICBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0b1xuICogICBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGUgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZSwgdGhpcyBjYW4gYmVcbiAqICAgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLlxuICogICBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYCB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWVcbiAqICAgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqXG4gKiAjIyMjIGBiaW5kVG9Db250cm9sbGVyYFxuICogV2hlbiBhbiBpc29sYXRlIHNjb3BlIGlzIHVzZWQgZm9yIGEgY29tcG9uZW50IChzZWUgYWJvdmUpLCBhbmQgYGNvbnRyb2xsZXJBc2AgaXMgdXNlZCwgYGJpbmRUb0NvbnRyb2xsZXI6IHRydWVgIHdpbGxcbiAqIGFsbG93IGEgY29tcG9uZW50IHRvIGhhdmUgaXRzIHByb3BlcnRpZXMgYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIsIHJhdGhlciB0aGFuIHRvIHNjb3BlLiBXaGVuIHRoZSBjb250cm9sbGVyXG4gKiBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBhcmUgYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogIyMjIyBgY29udHJvbGxlcmBcbiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXG4gKiBwcmUtbGlua2luZyBwaGFzZSBhbmQgaXQgaXMgc2hhcmVkIHdpdGggb3RoZXIgZGlyZWN0aXZlcyAoc2VlXG4gKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XG4gKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICpcbiAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gKiAqIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcbiAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XG4gKiAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxuICogICAgKiBgc2NvcGVgOiBvcHRpb25hbCBhcmd1bWVudCB0byBvdmVycmlkZSB0aGUgc2NvcGUuXG4gKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IG9wdGlvbmFsIGFyZ3VtZW50IHRvIGNyZWF0ZSBjbG9uZXMgb2YgdGhlIG9yaWdpbmFsIHRyYW5zY2x1ZGVkIGNvbnRlbnQuXG4gKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YDpcbiAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxuICogICAgICAgICogZGVmYXVsdDogYCRlbGVtZW50LnBhcmVudCgpYCByZXNwLiBgJGVsZW1lbnRgIGZvciBgdHJhbnNjbHVkZTonZWxlbWVudCdgIHJlc3AuIGB0cmFuc2NsdWRlOnRydWVgLlxuICogICAgICAgICogb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbCBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpXG4gKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luRm5gIGlzIHBhc3NlZCxcbiAqICAgICAgICAgIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gY3JlYXRlZCBhbmQgY2xvbmVkIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXJcbiAqICAgICAgICAgIHVzdWFsIGNvbnRhaW5lcnMgKGUuZy4gbGlrZSBgPHN2Zz5gKS5cbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cbiAqXG4gKlxuICogIyMjIyBgcmVxdWlyZWBcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcbiAqIGByZXF1aXJlYCB0YWtlcyBhIHN0cmluZyBuYW1lIChvciBhcnJheSBvZiBzdHJpbmdzKSBvZiB0aGUgZGlyZWN0aXZlKHMpIHRvIHBhc3MgaW4uIElmIGFuIGFycmF5IGlzIHVzZWQsIHRoZVxuICogaW5qZWN0ZWQgYXJndW1lbnQgd2lsbCBiZSBhbiBhcnJheSBpbiBjb3JyZXNwb25kaW5nIG9yZGVyLiBJZiBubyBzdWNoIGRpcmVjdGl2ZSBjYW4gYmVcbiAqIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzIHJhaXNlZC4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6XG4gKlxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxuICogKiBgXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJBc2BcbiAqIENvbnRyb2xsZXIgYWxpYXMgYXQgdGhlIGRpcmVjdGl2ZSBzY29wZS4gQW4gYWxpYXMgZm9yIHRoZSBjb250cm9sbGVyIHNvIGl0XG4gKiBjYW4gYmUgcmVmZXJlbmNlZCBhdCB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlLiBUaGUgZGlyZWN0aXZlIG5lZWRzIHRvIGRlZmluZSBhIHNjb3BlIGZvciB0aGlzXG4gKiBjb25maWd1cmF0aW9uIHRvIGJlIHVzZWQuIFVzZWZ1bCBpbiB0aGUgY2FzZSB3aGVuIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudC5cbiAqXG4gKlxuICogIyMjIyBgcmVzdHJpY3RgXG4gKiBTdHJpbmcgb2Ygc3Vic2V0IG9mIGBFQUNNYCB3aGljaCByZXN0cmljdHMgdGhlIGRpcmVjdGl2ZSB0byBhIHNwZWNpZmljIGRpcmVjdGl2ZVxuICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0cyAoZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMpIGFyZSB1c2VkLlxuICpcbiAqICogYEVgIC0gRWxlbWVudCBuYW1lIChkZWZhdWx0KTogYDxteS1kaXJlY3RpdmU+PC9teS1kaXJlY3RpdmU+YFxuICogKiBgQWAgLSBBdHRyaWJ1dGUgKGRlZmF1bHQpOiBgPGRpdiBteS1kaXJlY3RpdmU9XCJleHBcIj48L2Rpdj5gXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcbiAqICogYE1gIC0gQ29tbWVudDogYDwhLS0gZGlyZWN0aXZlOiBteS1kaXJlY3RpdmUgZXhwIC0tPmBcbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVOYW1lc3BhY2VgXG4gKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb2N1bWVudCB0eXBlIHVzZWQgYnkgdGhlIG1hcmt1cCBpbiB0aGUgdGVtcGxhdGUuXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxuICogaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpciB1c3VhbCBjb250YWluZXJzIGxpa2UgYDxzdmc+YCBhbmQgYDxtYXRoPmAuXG4gKlxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcbiAqICAgdG9wLWxldmVsIGVsZW1lbnRzIHN1Y2ggYXMgYDxzdmc+YCBvciBgPG1hdGg+YC5cbiAqICogYHN2Z2AgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIFNWRyBlbGVtZW50cyAoZXhjbHVkaW5nIGA8bWF0aD5gKS5cbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cbiAqXG4gKiBJZiBubyBgdGVtcGxhdGVOYW1lc3BhY2VgIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgbmFtZXNwYWNlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYGh0bWxgLlxuICpcbiAqICMjIyMgYHRlbXBsYXRlYFxuICogSFRNTCBtYXJrdXAgdGhhdCBtYXk6XG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cbiAqICogUmVwbGFjZSB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpdHNlbGYgKGlmIGByZXBsYWNlYCBpcyB0cnVlIC0gREVQUkVDQVRFRCkuXG4gKiAqIFdyYXAgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChpZiBgdHJhbnNjbHVkZWAgaXMgdHJ1ZSkuXG4gKlxuICogVmFsdWUgbWF5IGJlOlxuICpcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXG4gKiAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWBcbiAqICAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucyBhIHN0cmluZyB2YWx1ZS5cbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVVcmxgXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBCZWNhdXNlIHRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIHRoZSBjb21waWxlciB3aWxsIHN1c3BlbmQgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlcyBvbiB0aGF0IGVsZW1lbnRcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcbiAqIHNpYmxpbmcgYW5kIHBhcmVudCBlbGVtZW50cyBhcyB0aG91Z2ggdGhpcyBlbGVtZW50IGhhZCBub3QgY29udGFpbmVkIGFueSBkaXJlY3RpdmVzLlxuICpcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcbiAqIHdvdWxkIHJlc3VsdCBpbiB0aGUgd2hvbGUgYXBwIFwic3RhbGxpbmdcIiB1bnRpbCBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgLSBldmVuIGluIHRoZVxuICogY2FzZSB3aGVuIG9ubHkgb25lIGRlZXBseSBuZXN0ZWQgZGlyZWN0aXZlIGhhcyBgdGVtcGxhdGVVcmxgLlxuICpcbiAqIFRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIGV2ZW4gaWYgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHByZWxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgJHRlbXBsYXRlQ2FjaGV9XG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cbiAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJuc1xuICogYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB1cmwuICBJbiBlaXRoZXIgY2FzZSwgdGhlIHRlbXBsYXRlIFVSTCBpcyBwYXNzZWQgdGhyb3VnaCB7QGxpbmtcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cbiAqXG4gKlxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcbiAqIHNwZWNpZnkgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKlxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XG4gKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgb3IgdGhlIGVudGlyZSBlbGVtZW50OlxuICpcbiAqICogYHRydWVgIC0gdHJhbnNjbHVkZSB0aGUgY29udGVudCAoaS5lLiB0aGUgY2hpbGQgbm9kZXMpIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXG4gKiAgIGVsZW1lbnQgdGhhdCBkZWZpbmVkIGF0IGEgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGlzIGRpcmVjdGl2ZS4gV2hlbiB1c2VkLCB0aGUgYHRlbXBsYXRlYFxuICogICBwcm9wZXJ0eSBpcyBpZ25vcmVkLlxuICpcbiAqXG4gKiAjIyMjIGBjb21waWxlYFxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXG4gKlxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcbiAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcbiAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmQgYVxuICogc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICpcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXG4gKiBhIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIGluc3RlYWQgb2YgcmVseWluZyBvbiBhdXRvbWF0aWMgdGVtcGxhdGUgY29tcGlsYXRpb24gdmlhIGB0ZW1wbGF0ZWAgb3JcbiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPlxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxuICogICB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG5cbiAqIEEgY29tcGlsZSBmdW5jdGlvbiBjYW4gaGF2ZSBhIHJldHVybiB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0LlxuICpcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcbiAqICAgYGxpbmtgIHByb3BlcnR5IG9mIHRoZSBjb25maWcgb2JqZWN0IHdoZW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xuICogICBjb250cm9sIHdoZW4gYSBsaW5raW5nIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlLiBTZWUgaW5mbyBhYm91dFxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cbiAqXG4gKlxuICogIyMjIyBgbGlua2BcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXG4gKiBleGVjdXRlZCBhZnRlciB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gY2xvbmVkLiBUaGlzIGlzIHdoZXJlIG1vc3Qgb2YgdGhlIGRpcmVjdGl2ZSBsb2dpYyB3aWxsIGJlXG4gKiBwdXQuXG4gKlxuICogICAqIGBzY29wZWAgLSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gLSBUaGUgc2NvcGUgdG8gYmUgdXNlZCBieSB0aGVcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cbiAqXG4gKiAgICogYGlFbGVtZW50YCAtIGluc3RhbmNlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGlzIHRvIGJlIHVzZWQuIEl0IGlzIHNhZmUgdG9cbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxuICpcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxuICpcbiAqICAgKiBgY29udHJvbGxlcmAgLSBhIGNvbnRyb2xsZXIgaW5zdGFuY2UgLSBBIGNvbnRyb2xsZXIgaW5zdGFuY2UgaWYgYXQgbGVhc3Qgb25lIGRpcmVjdGl2ZSBvbiB0aGVcbiAqICAgICBlbGVtZW50IGRlZmluZXMgYSBjb250cm9sbGVyLiBUaGUgY29udHJvbGxlciBpcyBzaGFyZWQgYW1vbmcgYWxsIHRoZSBkaXJlY3RpdmVzLCB3aGljaCBhbGxvd3NcbiAqICAgICB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvbiBjaGFubmVsLlxuICpcbiAqICAgKiBgdHJhbnNjbHVkZUZuYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYFxuICogICAgIHBhcmFtZXRlciBvZiBkaXJlY3RpdmUgY29udHJvbGxlcnMsIHNlZSB0aGVyZSBmb3IgZGV0YWlscy5cbiAqICAgICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpYC5cbiAqXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXG4gKlxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBhZnRlciB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC5cbiAqXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcbiAqIGFuZCBsaW5rZWQgc2luY2UgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogSXQgaXMgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gaW4gdGhlIHBvc3QtbGlua2luZyBmdW5jdGlvbiBvbiBlbGVtZW50cyB0aGF0IGFyZSBub3Qgd2FpdGluZ1xuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cbiAqXG4gKlxuICogIyMjIFRyYW5zY2x1c2lvblxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB0aGUgcHJvY2VzcyBvZiBleHRyYWN0aW5nIGEgY29sbGVjdGlvbiBvZiBET00gZWxlbWVudCBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXG4gKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXG4gKlxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXG4gKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIHJlcXVlc3RzIHRyYW5zY2x1c2lvbiwgdGhlIGNvbXBpbGVyIGV4dHJhY3RzIGl0cyBjb250ZW50cyBhbmQgcHJvdmlkZXMgYSAqKnRyYW5zY2x1c2lvblxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxuICogKipsaW5raW5nIGZ1bmN0aW9uKiogdGhhdCB3aWxsIHJldHVybiB0aGUgY29tcGlsZWQgY29udGVudHMgbGlua2VkIHRvIGEgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogSWYgeW91IGFyZSBqdXN0IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRoZW4geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBmdW5jdGlvbiwgc2luY2VcbiAqIG5nVHJhbnNjbHVkZSB3aWxsIGRlYWwgd2l0aCBpdCBmb3IgdXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBtYW51YWxseSBjb250cm9sIHRoZSBpbnNlcnRpb24gYW5kIHJlbW92YWwgb2YgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaW4geW91ciBkaXJlY3RpdmVcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxuICogb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGNvbXBpbGVkIERPTSwgd2hpY2ggaXMgbGlua2VkIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xuICogdHdvIHBhcmFtZXRlcnMsIGBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHsgLi4uIH1gLCB3aGVyZSB0aGUgYGNsb25lYCBpcyBhIGZyZXNoIGNvbXBpbGVkIGNvcHkgb2YgeW91ciB0cmFuc2NsdWRlZFxuICogY29udGVudCBhbmQgdGhlIGBzY29wZWAgaXMgdGhlIG5ld2x5IGNyZWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlLCB0byB3aGljaCB0aGUgY2xvbmUgaXMgYm91bmQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBBbHdheXMgcHJvdmlkZSBhIGBjbG9uZUZuYCAoY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKSB3aGVuIHlvdSBjYWxsIGEgdHJhbnNsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBhbmQgY2FsbGluZyBgZWxlbWVudC5yZW1vdmUoKWAgdG8gcmVtb3ZlIGl0KSxcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XG4gKiBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgdGhlaXIgdHJhbnNsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBcbiAqIC0gJHJvb3RTY29wZVxuICogICAtIGlzb2xhdGVcbiAqICAgICAtIHRyYW5zY2x1c2lvblxuICogYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICogYGBgXG4gKiAtICRyb290U2NvcGVcbiAqICAgLSB0cmFuc2NsdXNpb25cbiAqIC0gaXNvbGF0ZVxuICogYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiBhY2Nlc3NpbmcgKk5vcm1hbGl6ZWQgYXR0cmlidXRlIG5hbWVzOipcbiAqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czogJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuXG4gKiB0aGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2VzcyB0b1xuICogICB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIG5ldyAnY29tcGlsZScgZGlyZWN0aXZlIGJ5IHBhc3NpbmcgYSBkaXJlY3RpdmVcbiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJ1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgICAgICAgLy8gZGlyZWN0aXZlIGZhY3RvcnkgY3JlYXRlcyBhIGxpbmsgZnVuY3Rpb25cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduIGl0IGludG8gdGhlIGN1cnJlbnQgRE9NXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAvLyBzY29wZS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jb250cm9sbGVyKCdHcmVldGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAgICAkc2NvcGUuaHRtbCA9ICdIZWxsbyB7e25hbWV9fSc7XG4gICAgICB9XSk7XG4gICAgPC9zY3JpcHQ+XG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR3JlZXRlckNvbnRyb2xsZXJcIj5cbiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj4gPGJyPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxicj5cbiAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgdGV4dGFyZWEgPSAkKCd0ZXh0YXJlYScpO1xuICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcbiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhcicuXG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIEFuZ3VsYXInKTtcbiAgICAgICB0ZXh0YXJlYS5jbGVhcigpO1xuICAgICAgIHRleHRhcmVhLnNlbmRLZXlzKCd7e25hbWV9fSEnKTtcbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnQW5ndWxhciEnKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzIC0gREVQUkVDQVRFRC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj5cbiAqICoqTm90ZToqKiBQYXNzaW5nIGEgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRvIHRoZSAkY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxuICogICBlLmcuIHdpbGwgbm90IHVzZSB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSBwYXNzIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGFzIGFcbiAqICAgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFByaW9yaXR5IG9ubHkgYXBwbHkgZGlyZWN0aXZlcyBsb3dlciB0aGFuIGdpdmVuIHByaW9yaXR5IChPbmx5IGVmZmVjdHMgdGhlXG4gKiAgICAgICAgICAgICAgICAgcm9vdCBlbGVtZW50KHMpLCBub3QgdGhlaXIgY2hpbGRyZW4pXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49LCBvcHRpb25zPSl9IGEgbGluayBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGJpbmQgdGVtcGxhdGVcbiAqIChhIERPTSBlbGVtZW50L3RyZWUpIHRvIGEgc2NvcGUuIFdoZXJlOlxuICpcbiAqICAqIGBzY29wZWAgLSBBIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSB0byBiaW5kIHRvLlxuICogICogYGNsb25lQXR0YWNoRm5gIC0gSWYgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgY2xvbmUgdGhlXG4gKiAgYHRlbXBsYXRlYCBhbmQgY2FsbCB0aGUgYGNsb25lQXR0YWNoRm5gIGZ1bmN0aW9uIGFsbG93aW5nIHRoZSBjYWxsZXIgdG8gYXR0YWNoIHRoZVxuICogIGNsb25lZCBlbGVtZW50cyB0byB0aGUgRE9NIGRvY3VtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBwbGFjZS4gVGhlIGBjbG9uZUF0dGFjaEZuYCBpc1xuICogIGNhbGxlZCBhczogPGJyPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxuICpcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cbiAqXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcbiAqXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcbiAqICAgICAgICB0byBjb250cm9sbGVyIGluc3RhbmNlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnNcbiAqICAgICAgICBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcy5cbiAqICAgICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgLSBkZWZpbmVzIHRoZSBwYXJlbnQgdG8gd2hpY2ggdGhlIGBjbG9uZUF0dGFjaEZuYCB3aWxsIGFkZFxuICogICAgICAgIHRoZSBjbG9uZWQgZWxlbWVudHM7IG9ubHkgbmVlZGVkIGZvciB0cmFuc2NsdWRlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNvbnRhaW4gbm9uIGh0bWxcbiAqICAgICAgICBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpLiBTZWUgYWxzbyB0aGUgZGlyZWN0aXZlLmNvbnRyb2xsZXIgcHJvcGVydHkuXG4gKlxuICogQ2FsbGluZyB0aGUgbGlua2luZyBmdW5jdGlvbiByZXR1cm5zIHRoZSBlbGVtZW50IG9mIHRoZSB0ZW1wbGF0ZS4gSXQgaXMgZWl0aGVyIHRoZSBvcmlnaW5hbFxuICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLlxuICpcbiAqIEFmdGVyIGxpbmtpbmcgdGhlIHZpZXcgaXMgbm90IHVwZGF0ZWQgdW50aWwgYWZ0ZXIgYSBjYWxsIHRvICRkaWdlc3Qgd2hpY2ggdHlwaWNhbGx5IGlzIGRvbmUgYnlcbiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS5cbiAqXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGJvdW5kIHZpZXcsIHRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyBpdDpcbiAqXG4gKiAtIElmIHlvdSBhcmUgbm90IGFza2luZyB0aGUgbGlua2luZyBmdW5jdGlvbiB0byBjbG9uZSB0aGUgdGVtcGxhdGUsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQocylcbiAqICAgYmVmb3JlIHlvdSBzZW5kIHRoZW0gdG8gdGhlIGNvbXBpbGVyIGFuZCBrZWVwIHRoaXMgcmVmZXJlbmNlIGFyb3VuZC5cbiAqICAgYGBganNcbiAqICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8cD57e3RvdGFsfX08L3A+Jykoc2NvcGUpO1xuICogICBgYGBcbiAqXG4gKiAtIGlmIG9uIHRoZSBvdGhlciBoYW5kLCB5b3UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSBjbG9uZWQsIHRoZSB2aWV3IHJlZmVyZW5jZSBmcm9tIHRoZSBvcmlnaW5hbFxuICogICBleGFtcGxlIHdvdWxkIG5vdCBwb2ludCB0byB0aGUgY2xvbmUsIGJ1dCByYXRoZXIgdG8gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNsb25lZC4gSW5cbiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxuICogICBgYGBqc1xuICogICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxwPnt7dG90YWx9fTwvcD4nKSxcbiAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xuICpcbiAqICAgICB2YXIgY2xvbmVkRWxlbWVudCA9ICRjb21waWxlKHRlbXBsYXRlRWxlbWVudCkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQsIHNjb3BlKSB7XG4gKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxuICogICAgIH0pO1xuICpcbiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXG4gKiAgIGBgYFxuICpcbiAqXG4gKiBGb3IgaW5mb3JtYXRpb24gb24gaG93IHRoZSBjb21waWxlciB3b3Jrcywgc2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL2NvbXBpbGVyIEFuZ3VsYXIgSFRNTCBDb21waWxlcn0gc2VjdGlvbiBvZiB0aGUgRGV2ZWxvcGVyIEd1aWRlLlxuICovXG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRjb21waWxlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqL1xuJENvbXBpbGVQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZScsICckJHNhbml0aXplVXJpUHJvdmlkZXInXTtcbmZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsICQkc2FuaXRpemVVcmlQcm92aWRlcikge1xuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxuICAgICAgU3VmZml4ID0gJ0RpcmVjdGl2ZScsXG4gICAgICBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAgPSAvXlxccypkaXJlY3RpdmVcXDpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLFxuICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHdcXC1dKykoPzpcXDooW147XSspKT87PykvLFxuICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXG4gICAgICBSRVFVSVJFX1BSRUZJWF9SRUdFWFAgPSAvXig/OihcXF5cXF4/KT8oXFw/KT8oXFxeXFxePyk/KT8vO1xuXG4gIC8vIFJlZjogaHR0cDovL2RldmVsb3BlcnMud2hhdHdnLm9yZy93ZWJhcHBhcGlzLmh0bWwjZXZlbnQtaGFuZGxlci1pZGwtYXR0cmlidXRlc1xuICAvLyBUaGUgYXNzdW1wdGlvbiBpcyB0aGF0IGZ1dHVyZSBET00gZXZlbnQgYXR0cmlidXRlIG5hbWVzIHdpbGwgYmVnaW4gd2l0aFxuICAvLyAnb24nIGFuZCBiZSBjb21wb3NlZCBvZiBvbmx5IEVuZ2xpc2ggbGV0dGVycy5cbiAgdmFyIEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAgPSAvXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO1xuXG4gIGZ1bmN0aW9uIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKHNjb3BlLCBkaXJlY3RpdmVOYW1lKSB7XG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCZdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLztcblxuICAgIHZhciBiaW5kaW5ncyA9IHt9O1xuXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBkZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2lzY3AnLFxuICAgICAgICAgICAgXCJJbnZhbGlkIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBmb3IgZGlyZWN0aXZlICd7MH0nLlwiICtcbiAgICAgICAgICAgIFwiIERlZmluaXRpb246IHsuLi4gezF9OiAnezJ9JyAuLi59XCIsXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBzY29wZU5hbWUsIGRlZmluaXRpb24pO1xuICAgICAgfVxuXG4gICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0ge1xuICAgICAgICBtb2RlOiBtYXRjaFsxXVswXSxcbiAgICAgICAgY29sbGVjdGlvbjogbWF0Y2hbMl0gPT09ICcqJyxcbiAgICAgICAgb3B0aW9uYWw6IG1hdGNoWzNdID09PSAnPycsXG4gICAgICAgIGF0dHJOYW1lOiBtYXRjaFs0XSB8fCBzY29wZU5hbWVcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmluZGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZVxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBuZXcgZGlyZWN0aXZlIHdpdGggdGhlIGNvbXBpbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZGlyZWN0aXZlIGluIGNhbWVsLWNhc2UgKGkuZS4gPGNvZGU+bmdCaW5kPC9jb2RlPiB3aGljaFxuICAgKiAgICB3aWxsIG1hdGNoIGFzIDxjb2RlPm5nLWJpbmQ8L2NvZGU+KSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGVcbiAgICogICAgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGRpcmVjdGl2ZUZhY3RvcnkgQW4gaW5qZWN0YWJsZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gU2VlXG4gICAqICAgIHtAbGluayBndWlkZS9kaXJlY3RpdmV9IGZvciBtb3JlIGluZm8uXG4gICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSBTZWxmIGZvciBjaGFpbmluZy5cbiAgICovXG4gICB0aGlzLmRpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnZGlyZWN0aXZlJyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICBhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwgJ2RpcmVjdGl2ZUZhY3RvcnknKTtcbiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBoYXNEaXJlY3RpdmVzW25hbWVdID0gW107XG4gICAgICAgICRwcm92aWRlLmZhY3RvcnkobmFtZSArIFN1ZmZpeCwgWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVzID0gW107XG4gICAgICAgICAgICBmb3JFYWNoKGhhc0RpcmVjdGl2ZXNbbmFtZV0sIGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksIGluZGV4KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZSA9ICRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkaXJlY3RpdmUuY29tcGlsZSAmJiBkaXJlY3RpdmUubGluaykge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBpbGUgPSB2YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5IHx8IDA7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmUgfHwgKGRpcmVjdGl2ZS5jb250cm9sbGVyICYmIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0VBJztcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLnNjb3BlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLCBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gICAgICAgICAgfV0pO1xuICAgICAgfVxuICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKG5hbWUsIHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2FIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50aW5nIFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHVwZGF0ZSB0aGUgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxuICAgKiBjdXJyZW50IGRlYnVnSW5mb0VuYWJsZWQgc3RhdGVcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICpcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGwgdGhpcyBtZXRob2QgdG8gZW5hYmxlL2Rpc2FibGUgdmFyaW91cyBkZWJ1ZyBydW50aW1lIGluZm9ybWF0aW9uIGluIHRoZSBjb21waWxlciBzdWNoIGFzIGFkZGluZ1xuICAgKiBiaW5kaW5nIGluZm9ybWF0aW9uIGFuZCBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBzY29wZSBvbiB0byBET00gZWxlbWVudHMuXG4gICAqIElmIGVuYWJsZWQsIHRoZSBjb21waWxlciB3aWxsIGFkZCB0aGUgZm9sbG93aW5nIHRvIERPTSBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBib3VuZCB0byB0aGUgc2NvcGVcbiAgICogKiBgbmctYmluZGluZ2AgQ1NTIGNsYXNzXG4gICAqICogYCRiaW5kaW5nYCBkYXRhIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbnNcbiAgICpcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcbiAgICoge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGlzYWJsaW5nIERlYnVnIERhdGF9IGZvciBtb3JlLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRpbmplY3RvcicsICckaW50ZXJwb2xhdGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckcGFyc2UnLFxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyRzY2UnLCAnJGFuaW1hdGUnLCAnJCRzYW5pdGl6ZVVyaScsXG4gICAgZnVuY3Rpb24oJGluamVjdG9yLCAgICRpbnRlcnBvbGF0ZSwgICAkZXhjZXB0aW9uSGFuZGxlciwgICAkdGVtcGxhdGVSZXF1ZXN0LCAgICRwYXJzZSxcbiAgICAgICAgICAgICAkY29udHJvbGxlciwgICAkcm9vdFNjb3BlLCAgICRkb2N1bWVudCwgICAkc2NlLCAgICRhbmltYXRlLCAgICQkc2FuaXRpemVVcmkpIHtcblxuICAgIHZhciBBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzVG9Db3B5KTtcbiAgICAgICAgdmFyIGksIGwsIGtleTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIHRoaXNba2V5XSA9IGF0dHJpYnV0ZXNUb0NvcHlba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kYXR0ciA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkbm9ybWFsaXplXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQ29udmVydHMgYW4gYXR0cmlidXRlIG5hbWUgKGUuZy4gZGFzaC9jb2xvbi91bmRlcnNjb3JlLWRlbGltaXRlZCBzdHJpbmcsIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgeC1gIG9yXG4gICAgICAgKiBgZGF0YS1gKSB0byBpdHMgbm9ybWFsaXplZCwgY2FtZWxDYXNlIGZvcm0uXG4gICAgICAgKlxuICAgICAgICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cbiAgICAgICAqXG4gICAgICAgKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gICAgICAgKi9cbiAgICAgICRub3JtYWxpemU6IGRpcmVjdGl2ZU5vcm1hbGl6ZSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciB0byB0aGUgZWxlbWVudC4gSWYgYW5pbWF0aW9uc1xuICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJGFkZENsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHJlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIGZyb20gdGhlIGVsZW1lbnQuIElmXG4gICAgICAgKiBhbmltYXRpb25zIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgcmVtb3ZhbC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgICRyZW1vdmVDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyR1cGRhdGVDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgYW5kIHJlbW92ZXMgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyB2YWx1ZXMgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIGRpZmZlcmVuY2VcbiAgICAgICAqIGJldHdlZW4gdGhlIG5ldyBhbmQgb2xkIENTUyBjbGFzcyB2YWx1ZXMgKHNwZWNpZmllZCBhcyBuZXdDbGFzc2VzIGFuZCBvbGRDbGFzc2VzKS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NlcyBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NlcyBUaGUgZm9ybWVyIENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqL1xuICAgICAgJHVwZGF0ZUNsYXNzOiBmdW5jdGlvbihuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKSB7XG4gICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCB0b0FkZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBhIG5vcm1hbGl6ZWQgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGluIGEgd2F5IHN1Y2ggdGhhdCBhbGwgZGlyZWN0aXZlc1xuICAgICAgICogY2FuIHNoYXJlIHRoZSBhdHRyaWJ1dGUuIFRoaXMgZnVuY3Rpb24gcHJvcGVybHkgaGFuZGxlcyBib29sZWFuIGF0dHJpYnV0ZXMuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBJZiBgbnVsbGAgYXR0cmlidXRlIHdpbGwgYmUgZGVsZXRlZC5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdyaXRlQXR0ciBJZiBmYWxzZSwgZG9lcyBub3Qgd3JpdGUgdGhlIHZhbHVlIHRvIERPTSBlbGVtZW50IGF0dHJpYnV0ZS5cbiAgICAgICAqICAgICBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhdHRyTmFtZSBPcHRpb25hbCBub25lIG5vcm1hbGl6ZWQgbmFtZS4gRGVmYXVsdHMgdG8ga2V5LlxuICAgICAgICovXG4gICAgICAkc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB0byB0aHJvdyBhbiBlcnJvciBpZiBcImNsYXNzXCJcbiAgICAgICAgLy9pcyBzZXQgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNpbmNlIGl0IG1heSBjYXVzZSAkdXBkYXRlQ2xhc3MgdG9cbiAgICAgICAgLy9iZWNvbWUgdW5zdGFibGUuXG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcbiAgICAgICAgICAgIGJvb2xlYW5LZXkgPSBnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIGFsaWFzZWRLZXkgPSBnZXRBbGlhc2VkQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxuICAgICAgICAgICAgbm9kZU5hbWU7XG5cbiAgICAgICAgaWYgKGJvb2xlYW5LZXkpIHtcbiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAgdGhpc1thbGlhc2VkS2V5XSA9IHZhbHVlO1xuICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5XG4gICAgICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJOYW1lID0gdGhpcy4kYXR0cltrZXldO1xuICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICgobm9kZU5hbWUgPT09ICdhJyAmJiBrZXkgPT09ICdocmVmJykgfHxcbiAgICAgICAgICAgIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3JjJykpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBhW2hyZWZdIGFuZCBpbWdbc3JjXSB2YWx1ZXNcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9ICQkc2FuaXRpemVVcmkodmFsdWUsIGtleSA9PT0gJ3NyYycpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmNzZXQnKSB7XG4gICAgICAgICAgLy8gc2FuaXRpemUgaW1nW3NyY3NldF0gdmFsdWVzXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgICAgICAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGVyZSBhcmUgc3BhY2VzIGJlY2F1c2UgaXQncyBub3QgdGhlIHNhbWUgcGF0dGVyblxuICAgICAgICAgIHZhciB0cmltbWVkU3Jjc2V0ID0gdHJpbSh2YWx1ZSk7XG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgKCAgIDk5OXggICAsfCAgIDk5OXcgICAsfCAgICx8LCAgIClcbiAgICAgICAgICB2YXIgc3JjUGF0dGVybiA9IC8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLztcbiAgICAgICAgICB2YXIgcGF0dGVybiA9IC9cXHMvLnRlc3QodHJpbW1lZFNyY3NldCkgPyBzcmNQYXR0ZXJuIDogLygsKS87XG5cbiAgICAgICAgICAvLyBzcGxpdCBzcmNzZXQgaW50byB0dXBsZSBvZiB1cmkgYW5kIGRlc2NyaXB0b3IgZXhjZXB0IGZvciB0aGUgbGFzdCBpdGVtXG4gICAgICAgICAgdmFyIHJhd1VyaXMgPSB0cmltbWVkU3Jjc2V0LnNwbGl0KHBhdHRlcm4pO1xuXG4gICAgICAgICAgLy8gZm9yIGVhY2ggdHVwbGVzXG4gICAgICAgICAgdmFyIG5iclVyaXNXaXRoMnBhcnRzID0gTWF0aC5mbG9vcihyYXdVcmlzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJyVXJpc1dpdGgycGFydHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlubmVySWR4ID0gaSAqIDI7XG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgdXJpXG4gICAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKHJhd1VyaXNbaW5uZXJJZHhdKSwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBhZGQgdGhlIGRlc2NyaXB0b3JcbiAgICAgICAgICAgIHJlc3VsdCArPSAoXCIgXCIgKyB0cmltKHJhd1VyaXNbaW5uZXJJZHggKyAxXSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNwbGl0IHRoZSBsYXN0IGl0ZW0gaW50byB1cmkgYW5kIGRlc2NyaXB0b3JcbiAgICAgICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kgKiAyXSkuc3BsaXQoL1xccy8pO1xuXG4gICAgICAgICAgLy8gc2FuaXRpemUgdGhlIGxhc3QgdXJpXG4gICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShsYXN0VHVwbGVbMF0pLCB0cnVlKTtcblxuICAgICAgICAgIC8vIGFuZCBhZGQgdGhlIGxhc3QgZGVzY3JpcHRvciBpZiBhbnlcbiAgICAgICAgICBpZiAobGFzdFR1cGxlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0obGFzdFR1cGxlWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdyaXRlQXR0ciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJlIG9ic2VydmVyc1xuICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSB0aGlzLiQkb2JzZXJ2ZXJzO1xuICAgICAgICAkJG9ic2VydmVycyAmJiBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4odmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RleHQtYW5kLWF0dHJpYnV0ZS1iaW5kaW5ncyBEaXJlY3RpdmVzfSBndWlkZSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBubyBvbmUgcmVnaXN0ZXJlZCBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiwgc28gbGV0cyBjYWxsIGl0IG1hbnVhbGx5XG4gICAgICAgICAgICBmbihhdHRyc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMsIGZuKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlLCBzaW5jZSBpdCBtZWFucyB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gc2V0IGNsYXNzIG9uXG4gICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS5cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxuICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgICAgIGRlbm9ybWFsaXplVGVtcGxhdGUgPSAoc3RhcnRTeW1ib2wgPT0gJ3t7JyB8fCBlbmRTeW1ib2wgID09ICd9fScpXG4gICAgICAgICAgICA/IGlkZW50aXR5XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIGRlbm9ybWFsaXplVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTtcbiAgICAgICAgfSxcbiAgICAgICAgTkdfQVRUUl9CSU5ESU5HID0gL15uZ0F0dHJbQS1aXS87XG5cbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nSW5mbygkZWxlbWVudCwgYmluZGluZykge1xuICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcblxuICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5ncy5jb25jYXQoYmluZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgfVxuXG4gICAgICAkZWxlbWVudC5kYXRhKCckYmluZGluZycsIGJpbmRpbmdzKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nQ2xhc3MoJGVsZW1lbnQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIHNjb3BlLCBpc29sYXRlZCwgbm9UZW1wbGF0ZSkge1xuICAgICAgdmFyIGRhdGFOYW1lID0gaXNvbGF0ZWQgPyAobm9UZW1wbGF0ZSA/ICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScgOiAnJGlzb2xhdGVTY29wZScpIDogJyRzY29wZSc7XG4gICAgICAkZWxlbWVudC5kYXRhKGRhdGFOYW1lLCBzY29wZSk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkKSB7XG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICByZXR1cm4gY29tcGlsZTtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcbiAgICAgICAgLy8ganF1ZXJ5IGFsd2F5cyByZXdyYXBzLCB3aGVyZWFzIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNlbGVjdG9yIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIGNhbiBub3QgY29tcGlsZSB0b3AgbGV2ZWwgdGV4dCBlbGVtZW50cyBzaW5jZSB0ZXh0IG5vZGVzIGNhbiBiZSBtZXJnZWQgYW5kIHdlIHdpbGxcbiAgICAgIC8vIG5vdCBiZSBhYmxlIHRvIGF0dGFjaCBzY29wZSBkYXRhIHRvIHRoZW0sIHNvIHdlIHdpbGwgd3JhcCB0aGVtIGluIDxzcGFuPlxuICAgICAgZm9yRWFjaCgkY29tcGlsZU5vZGVzLCBmdW5jdGlvbihub2RlLCBpbmRleCkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfVEVYVCAmJiBub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFxTKy8pIC8qIG5vbi1lbXB0eSAqLyApIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGVzW2luZGV4XSA9IGpxTGl0ZShub2RlKS53cmFwKCc8c3Bhbj48L3NwYW4+JykucGFyZW50KClbMF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGNvbXBvc2l0ZUxpbmtGbiA9XG4gICAgICAgICAgICAgIGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sICRjb21waWxlTm9kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcbiAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRjb21waWxlTm9kZXMpO1xuICAgICAgdmFyIG5hbWVzcGFjZSA9IG51bGw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgb3B0aW9ucykge1xuICAgICAgICBhc3NlcnRBcmcoc2NvcGUsICdzY29wZScpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBvcHRpb25zLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IG9wdGlvbnMudHJhbnNjbHVkZUNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBvcHRpb25zLmZ1dHVyZVBhcmVudEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gV2hlbiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIGlzIHBhc3NlZCwgaXQgaXMgYVxuICAgICAgICAvLyBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uIChpdCB3YXMgcHJldmlvdXNseSBwYXNzZWRcbiAgICAgICAgLy8gYXMgYHRyYW5zY2x1ZGVgIHRvIGRpcmVjdGl2ZS5saW5rKSBzbyB3ZSBtdXN0IHVud3JhcCBpdCB0byBnZXRcbiAgICAgICAgLy8gaXRzIGBib3VuZFRyYW5zY2x1ZGVGbmBcbiAgICAgICAgaWYgKHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgbmFtZXNwYWNlID0gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhmdXR1cmVQYXJlbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGxpbmtOb2RlO1xuICAgICAgICBpZiAobmFtZXNwYWNlICE9PSAnaHRtbCcpIHtcbiAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgZGlyZWN0aXZlIHdpdGggcmVwbGFjZTp0cnVlIGFuZCB0ZW1wbGF0ZVVybCB0aGUgJGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIChvciBhIGNoaWxkIGVsZW1lbnQgaW5zaWRlIG9mIHRoZW0pXG4gICAgICAgICAgLy8gbWlnaHQgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBuYW1lc3BhY2UgYWRhcHRlZCBjb21waWxlTm9kZXNcbiAgICAgICAgICAvLyBmb3IgY2FsbCB0byB0aGUgbGluayBmdW5jdGlvbi5cbiAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxyZWFkeSBjbG9uZSB0aGUgbm9kZXMuLi5cbiAgICAgICAgICAkbGlua05vZGUgPSBqcUxpdGUoXG4gICAgICAgICAgICB3cmFwVGVtcGxhdGUobmFtZXNwYWNlLCBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKCRjb21waWxlTm9kZXMpLmh0bWwoKSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGNsb25lQ29ubmVjdEZuKSB7XG4gICAgICAgICAgLy8gaW1wb3J0YW50ISE6IHdlIG11c3QgY2FsbCBvdXIganFMaXRlLmNsb25lKCkgc2luY2UgdGhlIGpRdWVyeSBvbmUgaXMgdHJ5aW5nIHRvIGJlIHNtYXJ0XG4gICAgICAgICAgLy8gYW5kIHNvbWV0aW1lcyBjaGFuZ2VzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIERPTS5cbiAgICAgICAgICAkbGlua05vZGUgPSBKUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkbGlua05vZGUgPSAkY29tcGlsZU5vZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xuICAgICAgICAgICAgJGxpbmtOb2RlLmRhdGEoJyQnICsgY29udHJvbGxlck5hbWUgKyAnQ29udHJvbGxlcicsIHRyYW5zY2x1ZGVDb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0uaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLCBzY29wZSk7XG5cbiAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZUxpbmtGbikgY29tcG9zaXRlTGlua0ZuKHNjb3BlLCAkbGlua05vZGUsICRsaW5rTm9kZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICByZXR1cm4gJGxpbmtOb2RlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBkZXRlY3QgTWF0aE1MIGFzIHdlbGwuLi5cbiAgICAgIHZhciBub2RlID0gcGFyZW50RWxlbWVudCAmJiBwYXJlbnRFbGVtZW50WzBdO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiAnaHRtbCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgbm9kZS50b1N0cmluZygpLm1hdGNoKC9TVkcvKSA/ICdzdmcnIDogJ2h0bWwnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgZnVuY3Rpb24gbWF0Y2hlcyBlYWNoIG5vZGUgaW4gbm9kZUxpc3QgYWdhaW5zdCB0aGUgZGlyZWN0aXZlcy4gT25jZSBhbGwgZGlyZWN0aXZlc1xuICAgICAqIGZvciBhIHBhcnRpY3VsYXIgbm9kZSBhcmUgY29sbGVjdGVkIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhlIGNvbXBpbGVcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcbiAgICAgKiBmdW5jdGlvbiwgd2hpY2ggaXMgdGhlIGEgbGlua2luZyBmdW5jdGlvbiBmb3IgdGhlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxuICAgICAqICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3IGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXG4gICAgICogICAgICAgIHRoZSByb290RWxlbWVudCBtdXN0IGJlIHNldCB0aGUganFMaXRlIGNvbGxlY3Rpb24gb2YgdGhlIGNvbXBpbGUgcm9vdC4gVGhpcyBpc1xuICAgICAqICAgICAgICBuZWVkZWQgc28gdGhhdCB0aGUganFMaXRlIGNvbGxlY3Rpb24gaXRlbXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggd2lkZ2V0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGNvbXBvc2l0ZSBsaW5raW5nIGZ1bmN0aW9uIG9mIGFsbCBvZiB0aGUgbWF0Y2hlZCBkaXJlY3RpdmVzIG9yIG51bGwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua0ZucyA9IFtdLFxuICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQsIG5vZGVMaW5rRm5Gb3VuZDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gd2UgbXVzdCBhbHdheXMgcmVmZXIgdG8gbm9kZUxpc3RbaV0gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxuICAgICAgICBkaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMobm9kZUxpc3RbaV0sIFtdLCBhdHRycywgaSA9PT0gMCA/IG1heFByaW9yaXR5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgbm9kZUxpbmtGbiA9IChkaXJlY3RpdmVzLmxlbmd0aClcbiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFtdLCBbXSwgcHJldmlvdXNDb21waWxlQ29udGV4dClcbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgICBub2RlTGlua0ZuID8gKFxuICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlKSA6IHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xuICAgICAgICAgIGxpbmtGbkZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBub2RlTGlua0ZuRm91bmQgPSBub2RlTGlua0ZuRm91bmQgfHwgbm9kZUxpbmtGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIGlmIHdlIGhhdmUgZm91bmQgYW55dGhpbmcsIG51bGwgb3RoZXJ3aXNlXG4gICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xuXG4gICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgY2hpbGRTY29wZSwgaSwgaWksIGlkeCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgdmFyIHN0YWJsZU5vZGVMaXN0O1xuXG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xuICAgICAgICAgIC8vIGNvcHkgbm9kZUxpc3Qgc28gdGhhdCBpZiBhIG5vZGVMaW5rRm4gcmVtb3ZlcyBvciBhZGRzIGFuIGVsZW1lbnQgYXQgdGhpcyBET00gbGV2ZWwgb3VyXG4gICAgICAgICAgLy8gb2Zmc2V0cyBkb24ndCBnZXQgc2NyZXdlZCB1cFxuICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5ldyBBcnJheShub2RlTGlzdExlbmd0aCk7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYSBzcGFyc2UgYXJyYXkgYnkgb25seSBjb3B5aW5nIHRoZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgbGlua0ZuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmtGbnMubGVuZ3RoOyBpKz0zKSB7XG4gICAgICAgICAgICBpZHggPSBsaW5rRm5zW2ldO1xuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgICAgbm9kZSA9IHN0YWJsZU5vZGVMaXN0W2xpbmtGbnNbaSsrXV07XG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGxpbmtGbnNbaSsrXTtcbiAgICAgICAgICBjaGlsZExpbmtGbiA9IGxpbmtGbnNbaSsrXTtcblxuICAgICAgICAgIGlmIChub2RlTGlua0ZuKSB7XG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKGpxTGl0ZShub2RlKSwgY2hpbGRTY29wZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihcbiAgICAgICAgICAgICAgICAgIHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgbm9kZUxpbmtGbi5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiwgZWxlbWVudFRyYW5zY2x1c2lvbikge1xuXG4gICAgICB2YXIgYm91bmRUcmFuc2NsdWRlRm4gPSBmdW5jdGlvbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgY29udGFpbmluZ1Njb3BlKSB7XG5cbiAgICAgICAgaWYgKCF0cmFuc2NsdWRlZFNjb3BlKSB7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZSA9IHNjb3BlLiRuZXcoZmFsc2UsIGNvbnRhaW5pbmdTY29wZSk7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kJHRyYW5zY2x1ZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwge1xuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuOiBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudDogZnV0dXJlUGFyZW50RWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xuICAgICAqIHNvcnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSBkaXJlY3RpdmVzIEFuIGFycmF5IHRvIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhZGRlZCB0by4gVGhpcyBhcnJheSBpcyBzb3J0ZWQgYmVmb3JlXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlLFxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgY2xhc3NOYW1lO1xuXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpXG4gICAgICAgICAgICAgICAgLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBsZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZU5OYW1lID0gbmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCAnJyk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQoZGlyZWN0aXZlTk5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChuZ0F0dHJOYW1lID09PSBkaXJlY3RpdmVOTmFtZSArICdTdGFydCcpIHtcbiAgICAgICAgICAgICAgICBhdHRyU3RhcnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNSkgKyAnZW5kJztcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgYXR0cnNNYXBbbk5hbWVdID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XG4gICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcbiAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAvLyBNYXliZSBTVkdBbmltYXRlZFN0cmluZ1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cbiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcbiAgICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxuICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSB3aXRoIGFuIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXG4gICAgICogZGlyZWN0aXZlLWVuZC5cbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCAnezB9JyBidXQgbm8gbWF0Y2hpbmcgJ3sxfScgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSBkZXB0aCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3IgbGlua2luZyBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBub3JtYWwgbGlua2luZyBmdW5jdGlvbiBpbnRvIGEgZ3JvdXBlZFxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGxpbmtGblxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBvZiB0aGUgZGlyZWN0aXZlcyBpZiB0aGUgdGVybWluYWwgZGlyZWN0aXZlIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cbiAgICAgKiAgICAgICAgdGhpcyBuZWVkcyB0byBiZSBwcmUtc29ydGVkIGJ5IHByaW9yaXR5IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7SlFMaXRlfSBqcUNvbGxlY3Rpb24gSWYgd2UgYXJlIHdvcmtpbmcgb24gdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZSB0aGVuIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUgQW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSBpZ25vcmVkIHdoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHBvc3RMaW5rRm5zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGxpbmtGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xuXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5jb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICBjb250cm9sbGVycyxcbiAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gZmFsc2UsXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSxcbiAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPSBqcUxpdGUoY29tcGlsZU5vZGUpLFxuICAgICAgICAgIGRpcmVjdGl2ZSxcbiAgICAgICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgICAgICR0ZW1wbGF0ZSxcbiAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLFxuICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZUZuLFxuICAgICAgICAgIGxpbmtGbixcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcblxuICAgICAgLy8gZXhlY3V0ZXMgYWxsIGRpcmVjdGl2ZXMgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDtcbiAgICAgICAgdmFyIGF0dHJFbmQgPSBkaXJlY3RpdmUuJCRlbmQ7XG5cbiAgICAgICAgLy8gY29sbGVjdCBtdWx0aWJsb2NrIHNlY3Rpb25zXG4gICAgICAgIGlmIChhdHRyU3RhcnQpIHtcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSBncm91cFNjYW4oY29tcGlsZU5vZGUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgJHRlbXBsYXRlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0ZXJtaW5hbFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSB7XG4gICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZSkge1xuXG4gICAgICAgICAgLy8gc2tpcCB0aGUgY2hlY2sgZm9yIGRpcmVjdGl2ZXMgd2l0aCBhc3luYyB0ZW1wbGF0ZXMsIHdlJ2xsIGNoZWNrIHRoZSBkZXJpdmVkIHN5bmNcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgd2hlbiB0aGUgdGVtcGxhdGUgYXJyaXZlc1xuICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYW4gaXNvbGF0ZWQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gc2NvcGUgb2YgYW55IGtpbmQgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgZGlyZWN0aXZlIGlzIHRyeWluZyB0byBhZGQgYSBjaGlsZCBzY29wZS5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBpc29sYXRlZCBzY29wZSBhbHJlYWR5XG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IG5ld1Njb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmUubmFtZTtcblxuICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCAmJiBkaXJlY3RpdmUuY29udHJvbGxlcikge1xuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBjb250cm9sbGVyRGlyZWN0aXZlcyB8fCB7fTtcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZShcIidcIiArIGRpcmVjdGl2ZU5hbWUgKyBcIicgY29udHJvbGxlclwiLFxuICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBuZ0lmIGFuZCBuZ1JlcGVhdCBzbyB0aGF0IHdlIGRvbid0IGNvbXBsYWluIGFib3V0IGR1cGxpY2F0ZSB0cmFuc2NsdXNpb24uXG4gICAgICAgICAgLy8gVGhpcyBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBkaXJlY3RpdmVzIHRoYXQga25vdyBob3cgdG8gc2FmZWx5IGhhbmRsZSBlbGVtZW50IHRyYW5zY2x1c2lvbixcbiAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCR0bGIpIHtcbiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0cmFuc2NsdXNpb24nLCBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9PSAnZWxlbWVudCcpIHtcbiAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHk7XG4gICAgICAgICAgICAkdGVtcGxhdGUgPSAkY29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9XG4gICAgICAgICAgICAgICAganFMaXRlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyAnICsgZGlyZWN0aXZlTmFtZSArICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnNbZGlyZWN0aXZlTmFtZV0gKyAnICcpKTtcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCBzbGljZUFyZ3MoJHRlbXBsYXRlKSwgY29tcGlsZU5vZGUpO1xuXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGUoJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHRlcm1pbmFsUHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSAmJiByZXBsYWNlRGlyZWN0aXZlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHBhc3MgaW46XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIGNvbnRyb2xsZXJEaXJlY3RpdmVzIC0gb3RoZXJ3aXNlIHdlJ2xsIGNyZWF0ZSBkdXBsaWNhdGVzIGNvbnRyb2xsZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSBvciB0ZW1wbGF0ZURpcmVjdGl2ZSAtIGNvbWJpbmluZyB0ZW1wbGF0ZXMgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlbGVtZW50IHRyYW5zY2x1c2lvbiBkb2Vzbid0IG1ha2Ugc2Vuc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCBvbmx5IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgc28gdGhhdCB3ZSBwcmV2ZW50IHB1dHRpbmcgdHJhbnNjbHVzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGUgc2FtZSBlbGVtZW50IG1vcmUgdGhhbiBvbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGVtcGxhdGUgPSBqcUxpdGUoanFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpKS5jb250ZW50cygpO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7IC8vIGNsZWFyIGNvbnRlbnRzXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGUoJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gKGlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKSlcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxuICAgICAgICAgICAgICA6IGRpcmVjdGl2ZS50ZW1wbGF0ZTtcblxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUoZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlLCB0cmltKGRpcmVjdGl2ZVZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XG5cbiAgICAgICAgICAgIGlmICgkdGVtcGxhdGUubGVuZ3RoICE9IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICBcIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9XCIsXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XG5cbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcbiAgICAgICAgICAgIC8vIC0gdGFrZSB0aGUgYXJyYXkgb2YgZGlyZWN0aXZlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHNwbGl0IGl0IGludG8gdHdvIHBhcnRzLCB0aG9zZSB0aGF0IGFscmVhZHkgYXBwbGllZCAocHJvY2Vzc2VkKSBhbmQgdGhvc2UgdGhhdCB3ZXJlbid0ICh1bnByb2Nlc3NlZClcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgICAgICAgIC8vIC0gY29tYmluZSBkaXJlY3RpdmVzIGFzOiBwcm9jZXNzZWQgKyB0ZW1wbGF0ZSArIHVucHJvY2Vzc2VkXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCBuZXdUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcblxuICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLCBuZXdUZW1wbGF0ZUF0dHJzKTtcblxuICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlua0ZuKSkge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua0ZuKSB7XG4gICAgICAgICAgICAgIGFkZExpbmtGbnMobGlua0ZuLnByZSwgbGlua0ZuLnBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGNvbXBpbGVOb2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xuICAgICAgICAgIG5vZGVMaW5rRm4udGVybWluYWwgPSB0cnVlO1xuICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBNYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LCBkaXJlY3RpdmUucHJpb3JpdHkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU7XG4gICAgICBub2RlTGlua0ZuLmVsZW1lbnRUcmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlO1xuICAgICAgbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgPSBoYXNUZW1wbGF0ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZSA9IGNoaWxkVHJhbnNjbHVkZUZuO1xuXG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU7XG5cbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcbiAgICAgIHJldHVybiBub2RlTGlua0ZuO1xuXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICBmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSwgcG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwcmUgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcHJlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcHJlID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHByZSwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVMaW5rRm5zLnB1c2gocHJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zdCkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHBvc3QgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHBvc3QucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcG9zdCA9IGNsb25lQW5kQW5ub3RhdGVGbihwb3N0LCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgcmV0cmlldmFsTWV0aG9kID0gJ2RhdGEnLCBvcHRpb25hbCA9IGZhbHNlO1xuICAgICAgICB2YXIgJHNlYXJjaEVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICBpZiAoaXNTdHJpbmcocmVxdWlyZSkpIHtcbiAgICAgICAgICBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgICByZXF1aXJlID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSBtYXRjaFszXSA9IG51bGw7XG4gICAgICAgICAgICBlbHNlIG1hdGNoWzFdID0gbWF0Y2hbM107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXRjaFsxXSA9PT0gJ14nKSB7XG4gICAgICAgICAgICByZXRyaWV2YWxNZXRob2QgPSAnaW5oZXJpdGVkRGF0YSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsxXSA9PT0gJ15eJykge1xuICAgICAgICAgICAgcmV0cmlldmFsTWV0aG9kID0gJ2luaGVyaXRlZERhdGEnO1xuICAgICAgICAgICAgJHNlYXJjaEVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1hdGNoWzJdID09PSAnPycpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoZWxlbWVudENvbnRyb2xsZXJzICYmIHJldHJpZXZhbE1ldGhvZCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPSBlbGVtZW50Q29udHJvbGxlcnNbcmVxdWlyZV0pIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAkc2VhcmNoRWxlbWVudFtyZXRyaWV2YWxNZXRob2RdKCckJyArIHJlcXVpcmUgKyAnQ29udHJvbGxlcicpO1xuXG4gICAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICAgXCJDb250cm9sbGVyICd7MH0nLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgJ3sxfScsIGNhbid0IGJlIGZvdW5kIVwiLFxuICAgICAgICAgICAgICAgIHJlcXVpcmUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uKHJlcXVpcmUpIHtcbiAgICAgICAgICAgIHZhbHVlLnB1c2goZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIGksIGlpLCBsaW5rRm4sIGNvbnRyb2xsZXIsIGlzb2xhdGVTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxuICAgICAgICAgICAgYXR0cnM7XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICBpc29sYXRlU2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgLy8gdHJhY2sgYGJvdW5kVHJhbnNjbHVkZUZuYCBzbyBpdCBjYW4gYmUgdW53cmFwcGVkIGlmIGB0cmFuc2NsdWRlRm5gXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcbiAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUgPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGBjb250cm9sbGVyc2AgYW5kIGBlbGVtZW50Q29udHJvbGxlcnNgIGludG8gc2luZ2xlIG9iamVjdC5cbiAgICAgICAgICBjb250cm9sbGVycyA9IHt9O1xuICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVycyA9IHt9O1xuICAgICAgICAgIGZvckVhY2goY29udHJvbGxlckRpcmVjdGl2ZXMsIGZ1bmN0aW9uKGRpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIGxvY2FscyA9IHtcbiAgICAgICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgICAgICAgICAgICAkYXR0cnM6IGF0dHJzLFxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgICAgICB9LCBjb250cm9sbGVySW5zdGFuY2U7XG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyID09ICdAJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMsIHRydWUsIGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpO1xuXG4gICAgICAgICAgICAvLyBGb3IgZGlyZWN0aXZlcyB3aXRoIGVsZW1lbnQgdHJhbnNjbHVzaW9uIHRoZSBlbGVtZW50IGlzIGEgY29tbWVudCxcbiAgICAgICAgICAgIC8vIGJ1dCBqUXVlcnkgLmRhdGEgZG9lc24ndCBzdXBwb3J0IGF0dGFjaGluZyBkYXRhIHRvIGNvbW1lbnQgbm9kZXMgYXMgaXQncyBoYXJkIHRvXG4gICAgICAgICAgICAvLyBjbGVhbiB1cCAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODMzNSkuXG4gICAgICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBzYXZlIHRoZSBjb250cm9sbGVycyBmb3IgdGhlIGVsZW1lbnQgaW4gYSBsb2NhbCBoYXNoIGFuZCBhdHRhY2ggdG8gLmRhdGFcbiAgICAgICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LlxuICAgICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICAgIGlmICghaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBkaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlLmluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIGlzb2xhdGVTY29wZSwgdHJ1ZSwgISh0ZW1wbGF0ZURpcmVjdGl2ZSAmJiAodGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fFxuICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSk7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIHRydWUpO1xuXG4gICAgICAgICAgdmFyIGlzb2xhdGVTY29wZUNvbnRyb2xsZXIgPSBjb250cm9sbGVycyAmJiBjb250cm9sbGVyc1tuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZV07XG4gICAgICAgICAgdmFyIGlzb2xhdGVCaW5kaW5nQ29udGV4dCA9IGlzb2xhdGVTY29wZTtcbiAgICAgICAgICBpZiAoaXNvbGF0ZVNjb3BlQ29udHJvbGxlciAmJiBpc29sYXRlU2NvcGVDb250cm9sbGVyLmlkZW50aWZpZXIgJiZcbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlzb2xhdGVCaW5kaW5nQ29udGV4dCA9IGlzb2xhdGVTY29wZUNvbnRyb2xsZXIuaW5zdGFuY2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yRWFjaChpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MgPSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MsIGZ1bmN0aW9uKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gZGVmaW5pdGlvbi5hdHRyTmFtZSxcbiAgICAgICAgICAgICAgICBvcHRpb25hbCA9IGRlZmluaXRpb24ub3B0aW9uYWwsXG4gICAgICAgICAgICAgICAgbW9kZSA9IGRlZmluaXRpb24ubW9kZSwgLy8gQCwgPSwgb3IgJlxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRHZXQsIHBhcmVudFNldCwgY29tcGFyZTtcblxuICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7XG5cbiAgICAgICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzW2F0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZCB0aGVuIHdlIHRyaWdnZXIgYW4gaW50ZXJwb2xhdGlvbiB0byBlbnN1cmVcbiAgICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBpcyB0aGVyZSBmb3IgdXNlIGluIHRoZSBsaW5rIGZuXG4gICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9ICRpbnRlcnBvbGF0ZShhdHRyc1thdHRyTmFtZV0pKHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEdldC5saXRlcmFsKSB7XG4gICAgICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb21wYXJlID0gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYSA9PT0gYiB8fCAoYSAhPT0gYSAmJiBiICE9PSBiKTsgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50U2V0ID0gcGFyZW50R2V0LmFzc2lnbiB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdFxuICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vbmFzc2lnbicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJFeHByZXNzaW9uICd7MH0nIHVzZWQgd2l0aCBkaXJlY3RpdmUgJ3sxfScgaXMgbm9uLWFzc2lnbmFibGUhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFZhbHVlV2F0Y2ggPSBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoKHBhcmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgb3V0IG9mIHN5bmMgYW5kIG5lZWQgdG8gY29weVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc29cbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBwYXJlbnRWYWx1ZVdhdGNoLiRzdGF0ZWZ1bCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgdW53YXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdW53YXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGUuJG9uKCckZGVzdHJveScsIHVud2F0Y2gpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgICAgICAgICAgIGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50R2V0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgZm9yRWFjaChjb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnRyb2xsZXJzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBSRUxJTktJTkdcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUkVDVVJTSU9OXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGNoaWxkIGVsZW1lbnRzIGRvIG5vdCBiZWxvbmcgdG8gdGhlIGlzb2xhdGUgZGlyZWN0aXZlLlxuICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7XG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XG4gICAgICAgICAgc2NvcGVUb0NoaWxkID0gaXNvbGF0ZVNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkTGlua0ZuICYmIGNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCwgbGlua05vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBib3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgLy8gUE9TVExJTktJTkdcbiAgICAgICAgZm9yIChpID0gcG9zdExpbmtGbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBsaW5rRm4gPSBwb3N0TGlua0Zuc1tpXTtcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICAgICBhdHRycyxcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cbiAgICAgICAgLy8gTm90ZTogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwhXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztcblxuICAgICAgICAgIC8vIE5vIHNjb3BlIHBhc3NlZCBpbjpcbiAgICAgICAgICBpZiAoIWlzU2NvcGUoc2NvcGUpKSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gY2xvbmVBdHRhY2hGbjtcbiAgICAgICAgICAgIGNsb25lQXR0YWNoRm4gPSBzY29wZTtcbiAgICAgICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gZWxlbWVudENvbnRyb2xsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZ1dHVyZVBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA/ICRlbGVtZW50LnBhcmVudCgpIDogJGVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUoZGlyZWN0aXZlcykge1xuICAgICAgLy8gbWFyayBhbGwgZGlyZWN0aXZlcyBhcyBuZWVkaW5nIGlzb2xhdGUgc2NvcGUuXG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBkaXJlY3RpdmVzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyQkaXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgZGVjb3JhdGVzIGl0IHdpdGggZXhjZXB0aW9uIGhhbmRsaW5nIGFuZCBwcm9wZXIgcGFyYW1ldGVycy4gV2VcbiAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XG4gICAgICpcbiAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcbiAgICAgKiAgICogYENgOiBjbGFzc1xuICAgICAqICAgKiBgTWA6IGNvbW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XG4gICAgICBpZiAobmFtZSA9PT0gaWdub3JlRGlyZWN0aXZlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBtYXRjaCA9IG51bGw7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgICBpZiAoKG1heFByaW9yaXR5ID09PSB1bmRlZmluZWQgfHwgbWF4UHJpb3JpdHkgPiBkaXJlY3RpdmUucHJpb3JpdHkpICYmXG4gICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXN0cmljdC5pbmRleE9mKGxvY2F0aW9uKSAhPSAtMSkge1xuICAgICAgICAgICAgICBpZiAoc3RhcnRBdHRyTmFtZSkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGluaGVyaXQoZGlyZWN0aXZlLCB7JCRzdGFydDogc3RhcnRBdHRyTmFtZSwgJCRlbmQ6IGVuZEF0dHJOYW1lfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdERpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICBtYXRjaCA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7ICRleGNlcHRpb25IYW5kbGVyKGUpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIHJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIG11bHRpLWVsZW1lbnQgZGlyZWN0aXZlLFxuICAgICAqIGFuZCB0aGVyZWZvcmUgcmVxdWlyZXMgRE9NIG5vZGVzIGJldHdlZW4gLXN0YXJ0IGFuZCAtZW5kIG1hcmtlcnMgdG8gYmUgZ3JvdXBlZFxuICAgICAqIHRvZ2V0aGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIHJlZ2lzdGVyZWQgYXMgbXVsdGktZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChuYW1lKSB7XG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBkaXJlY3RpdmUsIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBTdWZmaXgpLFxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLm11bHRpRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZWxlbWVudCBpcyByZXBsYWNlZCB3aXRoIEhUTUwgdGVtcGxhdGUgdGhlbiB0aGUgbmV3IGF0dHJpYnV0ZXNcbiAgICAgKiBvbiB0aGUgdGVtcGxhdGUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCB0aGUgZXhpc3RpbmcgYXR0cmlidXRlcyBpbiB0aGUgRE9NLlxuICAgICAqIFRoZSBkZXNpcmVkIGVmZmVjdCBpcyB0byBoYXZlIGJvdGggb2YgdGhlIGF0dHJpYnV0ZXMgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkc3QgZGVzdGluYXRpb24gYXR0cmlidXRlcyAob3JpZ2luYWwgRE9NKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgc291cmNlIGF0dHJpYnV0ZXMgKGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3QsIHNyYykge1xuICAgICAgdmFyIHNyY0F0dHIgPSBzcmMuJGF0dHIsXG4gICAgICAgICAgZHN0QXR0ciA9IGRzdC4kYXR0cixcbiAgICAgICAgICAkZWxlbWVudCA9IGRzdC4kJGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlYXBwbHkgdGhlIG9sZCBhdHRyaWJ1dGVzIHRvIHRoZSBuZXcgZWxlbWVudFxuICAgICAgZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XG4gICAgICAgICAgaWYgKHNyY1trZXldICYmIHNyY1trZXldICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgKz0gKGtleSA9PT0gJ3N0eWxlJyA/ICc7JyA6ICcgJykgKyBzcmNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0LiRzZXQoa2V5LCB2YWx1ZSwgdHJ1ZSwgc3JjQXR0cltrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNvcHkgdGhlIG5ldyBhdHRyaWJ1dGVzIG9uIHRoZSBvbGQgYXR0cnMgb2JqZWN0XG4gICAgICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5ID09ICdjbGFzcycpIHtcbiAgICAgICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICBkc3RbJ2NsYXNzJ10gPSAoZHN0WydjbGFzcyddID8gZHN0WydjbGFzcyddICsgJyAnIDogJycpICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdHlsZScpIHtcbiAgICAgICAgICAkZWxlbWVudC5hdHRyKCdzdHlsZScsICRlbGVtZW50LmF0dHIoJ3N0eWxlJykgKyAnOycgKyB2YWx1ZSk7XG4gICAgICAgICAgZHN0WydzdHlsZSddID0gKGRzdFsnc3R5bGUnXSA/IGRzdFsnc3R5bGUnXSArICc7JyA6ICcnKSArIHZhbHVlO1xuICAgICAgICAgIC8vIGBkc3RgIHdpbGwgbmV2ZXIgY29udGFpbiBoYXNPd25Qcm9wZXJ0eSBhcyBET00gcGFyc2VyIHdvbid0IGxldCBpdC5cbiAgICAgICAgICAvLyBZb3Ugd2lsbCBnZXQgYW4gXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3I6IERPTSBFeGNlcHRpb24gNVwiIGVycm9yIGlmIHlvdVxuICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnICYmICFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rUXVldWUgPSBbXSxcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXG4gICAgICAgICAgYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXSxcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXG4gICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBpbmhlcml0KG9yaWdBc3luY0RpcmVjdGl2ZSwge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IG51bGwsIHRyYW5zY2x1ZGU6IG51bGwsIHJlcGxhY2U6IG51bGwsICQkb3JpZ2luYWxEaXJlY3RpdmU6IG9yaWdBc3luY0RpcmVjdGl2ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSlcbiAgICAgICAgICAgICAgPyBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLCB0QXR0cnMpXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxuICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xuXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcblxuICAgICAgJHRlbXBsYXRlUmVxdWVzdCgkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0ZW1wbGF0ZVVybCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIHdoaWxlIChsaW5rUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgbGlua1Jvb3RFbGVtZW50ID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcblxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGJlZm9yZVRlbXBsYXRlTGlua05vZGUgIT09IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgICBpZiAoIShwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgbGlua05vZGUgPSBqcUxpdGVDbG9uZShjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlua1F1ZXVlID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxheWVkTm9kZUxpbmtGbihpZ25vcmVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGxpbmtRdWV1ZSkge1xuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XG4gICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiAoYS5uYW1lIDwgYi5uYW1lKSA/IC0xIDogMTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChwcmV2aW91c0RpcmVjdGl2ZSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30nLFxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgZGlyZWN0aXZlLm5hbWUsIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7XG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gdGV4dEludGVycG9sYXRlQ29tcGlsZUZuKHRlbXBsYXRlTm9kZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTm9kZVBhcmVudCA9IHRlbXBsYXRlTm9kZS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHRyYW5zY2x1ZGluZyBhIHRlbXBsYXRlIHRoYXQgaGFzIGJpbmRpbmdzIGluIHRoZSByb290XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cbiAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XG4gICAgICAgICAgICAgIGlmICghaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyhwYXJlbnQpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVbMF0ubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gd3JhcFRlbXBsYXRlKHR5cGUsIHRlbXBsYXRlKSB7XG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnc3ZnJzpcbiAgICAgIGNhc2UgJ21hdGgnOlxuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XG4gICAgICAgICAgKHRhZyAhPSBcImltZ1wiICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XG4gICAgICBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBhbGxPck5vdGhpbmc7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcblxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcbiAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xuXG5cbiAgICAgIGlmIChuYW1lID09PSBcIm11bHRpcGxlXCIgJiYgbm9kZU5hbWVfKG5vZGUpID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKFwic2VsbXVsdGlcIixcbiAgICAgICAgICAgIFwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9XCIsXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IHt9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgIFwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibmctIHZlcnNpb25zIChzdWNoIGFzIG5nLWNsaWNrIGluc3RlYWQgb2Ygb25jbGljaykgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0ICRpbnRlcnBvbGF0ZSgpZWRcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBhdHRyW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW50ZXJwb2xhdGUgYWdhaW4gc2luY2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxuICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9IG5ld1ZhbHVlICYmICRpbnRlcnBvbGF0ZShuZXdWYWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxuICAgICAgICAgICAgICAgICAgJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9ob29rcyBwcm92aWRlZCBieSB0aGUgJGFuaW1hdGUgc2VydmljZS4gQmUgc3VyZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIENTUyBjbGFzc2VzIGFyZSB0aGUgbm9uLWludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8ocGVyZik6IHdoYXQncyB0aGlzIGRvY3VtZW50IGZyYWdtZW50IGZvcj8gaXMgaXQgbmVlZGVkPyBjYW4gd2UgYXQgbGVhc3QgcmV1c2UgaXQ/XG4gICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG5cbiAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAvLyBkYXRhIGhlcmUgYmVjYXVzZSB0aGVyZSdzIG5vIHB1YmxpYyBpbnRlcmZhY2UgaW4galF1ZXJ5IHRvIGRvIHRoYXQgYW5kIGNvcHlpbmcgb3ZlclxuICAgICAgLy8gZXZlbnQgbGlzdGVuZXJzICh3aGljaCBpcyB0aGUgbWFpbiB1c2Ugb2YgcHJpdmF0ZSBkYXRhKSB3b3VsZG4ndCB3b3JrIGFueXdheS5cbiAgICAgIGpxTGl0ZShuZXdOb2RlKS5kYXRhKGpxTGl0ZShmaXJzdEVsZW1lbnRUb1JlbW92ZSkuZGF0YSgpKTtcblxuICAgICAgLy8gUmVtb3ZlIGRhdGEgb2YgdGhlIHJlcGxhY2VkIGVsZW1lbnQuIFdlIGNhbm5vdCBqdXN0IGNhbGwgLnJlbW92ZSgpXG4gICAgICAvLyBvbiB0aGUgZWxlbWVudCBpdCBzaW5jZSB0aGF0IHdvdWxkIGRlYWxsb2NhdGUgc2NvcGUgdGhhdCBpcyBuZWVkZWRcbiAgICAgIC8vIGZvciB0aGUgbmV3IG5vZGUuIEluc3RlYWQsIHJlbW92ZSB0aGUgZGF0YSBcIm1hbnVhbGx5XCIuXG4gICAgICBpZiAoIWpRdWVyeSkge1xuICAgICAgICBkZWxldGUganFMaXRlLmNhY2hlW2ZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBqUXVlcnkgMi54IGRvZXNuJ3QgZXhwb3NlIHRoZSBkYXRhIHN0b3JhZ2UuIFVzZSBqUXVlcnkuY2xlYW5EYXRhIHRvIGNsZWFuIHVwIGFmdGVyXG4gICAgICAgIC8vIHRoZSByZXBsYWNlZCBlbGVtZW50LiBUaGUgY2xlYW5EYXRhIHZlcnNpb24gbW9ua2V5LXBhdGNoZWQgYnkgQW5ndWxhciB3b3VsZCBjYXVzZVxuICAgICAgICAvLyB0aGUgc2NvcGUgdG8gYmUgdHJhc2hlZCBhbmQgd2UgZG8gbmVlZCB0aGUgdmVyeSBzYW1lIHNjb3BlIHRvIHdvcmsgd2l0aCB0aGUgbmV3XG4gICAgICAgIC8vIGVsZW1lbnQuIEhvd2V2ZXIsIHdlIGNhbm5vdCBqdXN0IGNhY2hlIHRoZSBub24tcGF0Y2hlZCB2ZXJzaW9uIGFuZCB1c2UgaXQgaGVyZSBhc1xuICAgICAgICAvLyB0aGF0IHdvdWxkIGJyZWFrIGlmIGFub3RoZXIgbGlicmFyeSBwYXRjaGVzIHRoZSBtZXRob2QgYWZ0ZXIgQW5ndWxhciBkb2VzIChvbmVcbiAgICAgICAgLy8gZXhhbXBsZSBpcyBqUXVlcnkgVUkpLiBJbnN0ZWFkLCBzZXQgYSBmbGFnIGluZGljYXRpbmcgc2NvcGUgZGVzdHJveWluZyBzaG91bGQgYmVcbiAgICAgICAgLy8gc2tpcHBlZCB0aGlzIG9uZSB0aW1lLlxuICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IHRydWU7XG4gICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoW2ZpcnN0RWxlbWVudFRvUmVtb3ZlXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgPSAxLCBrayA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzVG9SZW1vdmVba107XG4gICAgICAgIGpxTGl0ZShlbGVtZW50KS5yZW1vdmUoKTsgLy8gbXVzdCBkbyB0aGlzIHdheSB0byBjbGVhbiB1cCBleHBhbmRvXG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xuLyoqXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xuICByZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJykpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcbiAgICB9XG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1lbnRzKGpxTm9kZXMpIHtcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcbiAgdmFyIGkgPSBqcU5vZGVzLmxlbmd0aDtcblxuICBpZiAoaSA8PSAxKSB7XG4gICAgcmV0dXJuIGpxTm9kZXM7XG4gIH1cblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIG5vZGUgPSBqcU5vZGVzW2ldO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xuICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBqcU5vZGVzO1xufVxuXG52YXIgJGNvbnRyb2xsZXJNaW5FcnIgPSBtaW5FcnIoJyRjb250cm9sbGVyJyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcbiAqIGNvbnRyb2xsZXJzLlxuICpcbiAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XG4gIHZhciBjb250cm9sbGVycyA9IHt9LFxuICAgICAgZ2xvYmFscyA9IGZhbHNlLFxuICAgICAgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhcXHcrKSk/JC87XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlIGtleXMgYXJlXG4gICAqICAgIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmbiAob3B0aW9uYWxseSBkZWNvcmF0ZWQgd2l0aCBESVxuICAgKiAgICBhbm5vdGF0aW9ucyBpbiB0aGUgYXJyYXkgbm90YXRpb24pLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnRyb2xsZXInKTtcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIGV4dGVuZChjb250cm9sbGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBjYWxsZWQsIGFsbG93cyBgJGNvbnRyb2xsZXJgIHRvIGZpbmQgY29udHJvbGxlciBjb25zdHJ1Y3RvcnMgb24gYHdpbmRvd2BcbiAgICovXG4gIHRoaXMuYWxsb3dHbG9iYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgZ2xvYmFscyA9IHRydWU7XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckd2luZG93JywgZnVuY3Rpb24oJGluamVjdG9yLCAkd2luZG93KSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRjb250cm9sbGVyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGNvbnN0cnVjdG9yIElmIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb24gdGhlbiBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgdGhlXG4gICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXG4gICAgICogICAgdG8gcmV0cmlldmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgdXNpbmcgdGhlIGZvbGxvd2luZyBzdGVwczpcbiAgICAgKlxuICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcbiAgICAgKiAgICAqIGNoZWNrIGlmIGV2YWx1YXRpbmcgdGhlIHN0cmluZyBvbiB0aGUgY3VycmVudCBzY29wZSByZXR1cm5zIGEgY29uc3RydWN0b3JcbiAgICAgKiAgICAqIGlmICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzLCBjaGVjayBgd2luZG93W2NvbnN0cnVjdG9yXWAgb24gdGhlIGdsb2JhbFxuICAgICAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChub3QgcmVjb21tZW5kZWQpXG4gICAgICpcbiAgICAgKiAgICBUaGUgc3RyaW5nIGNhbiB1c2UgdGhlIGBjb250cm9sbGVyIGFzIHByb3BlcnR5YCBzeW50YXgsIHdoZXJlIHRoZSBjb250cm9sbGVyIGluc3RhbmNlIGlzIHB1Ymxpc2hlZFxuICAgICAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xuICAgICAqICAgIHRvIHdvcmsgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cbiAgICAgKlxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cbiAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XG4gICAgICAvLyBQUklWQVRFIEFQSTpcbiAgICAgIC8vICAgcGFyYW0gYGxhdGVyYCAtLS0gaW5kaWNhdGVzIHRoYXQgdGhlIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpcyBpbnZva2VkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgaXMgaW52b2tlZC5cbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXG4gICAgICB2YXIgaW5zdGFuY2UsIG1hdGNoLCBjb25zdHJ1Y3RvciwgaWRlbnRpZmllcjtcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XG4gICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbnRyb2xsZXJNaW5FcnIoJ2N0cmxmbXQnLFxuICAgICAgICAgICAgXCJCYWRseSBmb3JtZWQgY29udHJvbGxlciBzdHJpbmcgJ3swfScuIFwiICtcbiAgICAgICAgICAgIFwiTXVzdCBtYXRjaCBgX19uYW1lX18gYXMgX19pZF9fYCBvciBgX19uYW1lX19gLlwiLCBleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdLFxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIChnbG9iYWxzID8gZ2V0dGVyKCR3aW5kb3csIGNvbnN0cnVjdG9yLCB0cnVlKSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgYXNzZXJ0QXJnRm4oZXhwcmVzc2lvbiwgY29uc3RydWN0b3IsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGF0ZXIpIHtcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgY29udHJvbGxlciBsYXRlcjpcbiAgICAgICAgLy8gVGhpcyBtYWNoaW5lcnkgaXMgdXNlZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG9iamVjdCBiZWZvcmUgY2FsbGluZyB0aGVcbiAgICAgICAgLy8gY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGl0c2VsZi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlciBiZWZvcmUgdGhlIGNvbnN0cnVjdG9yIGlzXG4gICAgICAgIC8vIGludm9rZWQuIFByaW1hcmlseSwgdGhpcyBpcyB1c2VkIGZvciBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGluICRjb21waWxlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZlYXR1cmUgaXMgbm90IGludGVuZGVkIGZvciB1c2UgYnkgYXBwbGljYXRpb25zLCBhbmQgaXMgdGh1cyBub3QgZG9jdW1lbnRlZFxuICAgICAgICAvLyBwdWJsaWNseS5cbiAgICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxuICAgICAgICB2YXIgY29udHJvbGxlclByb3RvdHlwZSA9IChpc0FycmF5KGV4cHJlc3Npb24pID9cbiAgICAgICAgICBleHByZXNzaW9uW2V4cHJlc3Npb24ubGVuZ3RoIC0gMV0gOiBleHByZXNzaW9uKS5wcm90b3R5cGU7XG4gICAgICAgIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShjb250cm9sbGVyUHJvdG90eXBlIHx8IG51bGwpO1xuXG4gICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UgPSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbiwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XG5cbiAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgICAgIGlmICghKGxvY2FscyAmJiBpc09iamVjdChsb2NhbHMuJHNjb3BlKSkpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY29udHJvbGxlcicpKCdub3NjcCcsXG4gICAgICAgICAgXCJDYW5ub3QgZXhwb3J0IGNvbnRyb2xsZXIgJ3swfScgYXMgJ3sxfSchIE5vICRzY29wZSBvYmplY3QgcHJvdmlkZWQgdmlhIGBsb2NhbHNgLlwiLFxuICAgICAgICAgIG5hbWUsIGlkZW50aWZpZXIpO1xuICAgICAgfVxuXG4gICAgICBsb2NhbHMuJHNjb3BlW2lkZW50aWZpZXJdID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGRvY3VtZW50XG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclxuICogQHJlcXVpcmVzIG5nLiRsb2dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5IGRlbGVnYXRlcyB0byBgJGxvZy5lcnJvcmAgd2hpY2ggbG9ncyBpdCBpbnRvXG4gKiB0aGUgYnJvd3NlciBjb25zb2xlLlxuICpcbiAqIEluIHVuaXQgdGVzdHMsIGlmIGBhbmd1bGFyLW1vY2tzLmpzYCBpcyBsb2FkZWQsIHRoaXMgc2VydmljZSBpcyBvdmVycmlkZGVuIGJ5XG4gKiB7QGxpbmsgbmdNb2NrLiRleGNlcHRpb25IYW5kbGVyIG1vY2sgJGV4Y2VwdGlvbkhhbmRsZXJ9IHdoaWNoIGFpZHMgaW4gdGVzdGluZy5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdleGNlcHRpb25PdmVycmlkZScsIFtdKS5mYWN0b3J5KCckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gKiAgICAgICBleGNlcHRpb24ubWVzc2FnZSArPSAnIChjYXVzZWQgYnkgXCInICsgY2F1c2UgKyAnXCIpJztcbiAqICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAqICAgICB9O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXhhbXBsZSB3aWxsIG92ZXJyaWRlIHRoZSBub3JtYWwgYWN0aW9uIG9mIGAkZXhjZXB0aW9uSGFuZGxlcmAsIHRvIG1ha2UgYW5ndWxhclxuICogZXhjZXB0aW9ucyBmYWlsIGhhcmQgd2hlbiB0aGV5IGhhcHBlbiwgaW5zdGVhZCBvZiBqdXN0IGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuXG4gKlxuICogPGhyIC8+XG4gKiBOb3RlLCB0aGF0IGNvZGUgZXhlY3V0ZWQgaW4gZXZlbnQtbGlzdGVuZXJzIChldmVuIHRob3NlIHJlZ2lzdGVyZWQgdXNpbmcganFMaXRlJ3MgYG9uYC9gYmluZGBcbiAqIG1ldGhvZHMpIGRvZXMgbm90IGRlbGVnYXRlIGV4Y2VwdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn1cbiAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cbiAqXG4gKiBJZiB5b3Ugd2lzaCwgeW91IGNhbiBtYW51YWxseSBkZWxlZ2F0ZSBleGNlcHRpb25zLCBlLmcuXG4gKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBleGNlcHRpb24gRXhjZXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXJyb3IuXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIG9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXG4gKiAgICAgICB0aGUgZXJyb3Igd2FzIHRocm93bi5cbiAqXG4gKi9cbmZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGxvZycsIGZ1bmN0aW9uKCRsb2cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1dO1xufVxuXG52YXIgQVBQTElDQVRJT05fSlNPTiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xudmFyIEpTT05fU1RBUlQgPSAvXlxcW3xeXFx7KD8hXFx7KS87XG52YXIgSlNPTl9FTkRTID0ge1xuICAnWyc6IC9dJC8sXG4gICd7JzogL30kL1xufTtcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xuXG5mdW5jdGlvbiBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKGRhdGEsIGhlYWRlcnMpIHtcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XG4gICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcbiAgICB2YXIgdGVtcERhdGEgPSBkYXRhLnJlcGxhY2UoSlNPTl9QUk9URUNUSU9OX1BSRUZJWCwgJycpLnRyaW0oKTtcblxuICAgIGlmICh0ZW1wRGF0YSkge1xuICAgICAgdmFyIGNvbnRlbnRUeXBlID0gaGVhZGVycygnQ29udGVudC1UeXBlJyk7XG4gICAgICBpZiAoKGNvbnRlbnRUeXBlICYmIChjb250ZW50VHlwZS5pbmRleE9mKEFQUExJQ0FUSU9OX0pTT04pID09PSAwKSkgfHwgaXNKc29uTGlrZSh0ZW1wRGF0YSkpIHtcbiAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNKc29uTGlrZShzdHIpIHtcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xuICAgIHJldHVybiBqc29uU3RhcnQgJiYgSlNPTl9FTkRTW2pzb25TdGFydFswXV0udGVzdChzdHIpO1xufVxuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlcnMgUmF3IGhlYWRlcnMgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IGNyZWF0ZU1hcCgpLCBrZXksIHZhbCwgaTtcblxuICBpZiAoIWhlYWRlcnMpIHJldHVybiBwYXJzZWQ7XG5cbiAgZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLCBpKSkpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxuICpcbiAqIEhlYWRlcnMgYXJlIGxhenkgcGFyc2VkIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICogQHNlZSBwYXJzZUhlYWRlcnNcbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gaGVhZGVycyBIZWFkZXJzIHRvIHByb3ZpZGUgYWNjZXNzIHRvLlxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxuICpcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBzaW5nbGUgYW4gYXJndW1lbnQgcmV0dXJucyBhIHNpbmdsZSBoZWFkZXIgdmFsdWUgb3IgbnVsbFxuICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLlxuICovXG5mdW5jdGlvbiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnNPYmogPSBpc09iamVjdChoZWFkZXJzKSA/IGhlYWRlcnMgOiB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNPYmpbbG93ZXJjYXNlKG5hbWUpXTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyc09iajtcbiAgfTtcbn1cblxuXG4vKipcbiAqIENoYWluIGFsbCBnaXZlbiBmdW5jdGlvbnNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIERhdGEgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgZ2V0dGVyIGZuLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1cyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAqIEBwYXJhbSB7KEZ1bmN0aW9ufEFycmF5LjxGdW5jdGlvbj4pfSBmbnMgRnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLlxuICogQHJldHVybnMgeyp9IFRyYW5zZm9ybWVkIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgc3RhdHVzLCBmbnMpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm5zKSlcbiAgICByZXR1cm4gZm5zKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGh0dHBQcm92aWRlcmAgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKiAqL1xuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7T2JqZWN0fSAtIGFuIG9iamVjdCBidWlsdCB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH1cbiAgICogdGhhdCB3aWxsIHByb3ZpZGUgdGhlIGNhY2hlIGZvciBhbGwgcmVxdWVzdHMgd2hvIHNldCB0aGVpciBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYC5cbiAgICogSWYgeW91IHNldCB0aGUgYGRlZmF1bHQuY2FjaGUgPSBmYWxzZWAgdGhlbiBvbmx5IHJlcXVlc3RzIHRoYXQgc3BlY2lmeSB0aGVpciBvd24gY3VzdG9tXG4gICAqIGNhY2hlIG9iamVjdCB3aWxsIGJlIGNhY2hlZC4gU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZDb29raWVOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgKiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1hTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZVxuICAgKiBYU1JGIHRva2VuLiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1gtWFNSRi1UT0tFTidgLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxuICAgKiBSZWZlciB0byB7QGxpbmsgbmcuJGh0dHAjc2V0dGluZy1odHRwLWhlYWRlcnMgJGh0dHB9IGZvciBkb2N1bWVudGF0aW9uIG9uXG4gICAqIHNldHRpbmcgZGVmYXVsdCBoZWFkZXJzLlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnBvc3RgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wdXRgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxuICAgKlxuICAgKiovXG4gIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgLy8gdHJhbnNmb3JtIGluY29taW5nIHJlc3BvbnNlIGRhdGFcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogW2RlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm1dLFxuXG4gICAgLy8gdHJhbnNmb3JtIG91dGdvaW5nIHJlcXVlc3QgZGF0YVxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3QoZCkgJiYgIWlzRmlsZShkKSAmJiAhaXNCbG9iKGQpICYmICFpc0Zvcm1EYXRhKGQpID8gdG9Kc29uKGQpIDogZDtcbiAgICB9XSxcblxuICAgIC8vIGRlZmF1bHQgaGVhZGVyc1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICAgIH0sXG4gICAgICBwb3N0OiAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcbiAgICAgIHB1dDogICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcGF0Y2g6ICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTilcbiAgICB9LFxuXG4gICAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTidcbiAgfTtcblxuICB2YXIgdXNlQXBwbHlBc3luYyA9IGZhbHNlO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI3VzZUFwcGx5QXN5bmNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbmZpZ3VyZSAkaHR0cCBzZXJ2aWNlIHRvIGNvbWJpbmUgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSBodHRwIHJlc3BvbnNlcyByZWNlaXZlZCBhdCBhcm91bmRcbiAgICogdGhlIHNhbWUgdGltZSB2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmMgJHJvb3RTY29wZS4kYXBwbHlBc3luY30uIFRoaXMgY2FuIHJlc3VsdCBpblxuICAgKiBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCBmb3IgYmlnZ2VyIGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UgbWFueSBIVFRQIHJlcXVlc3RzXG4gICAqIGNvbmN1cnJlbnRseSAoY29tbW9uIGR1cmluZyBhcHBsaWNhdGlvbiBib290c3RyYXApLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBmYWxzZS4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICoqL1xuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cbiAgICpcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cbiAgICoqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyRicm93c2VyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkYnJvd3NlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXG4gICAgICpcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAgICAgKlxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IOKAlFxuICAgICAqIHRoYXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBhbiBIVFRQIHJlcXVlc3QgYW5kIHJldHVybnMgIGEge0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogd2l0aCB0d28gJGh0dHAgc3BlY2lmaWMgbWV0aG9kczogYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIFNpbXBsZSBHRVQgcmVxdWVzdCBleGFtcGxlIDpcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyBTaW1wbGUgUE9TVCByZXF1ZXN0IGV4YW1wbGUgKHBhc3NpbmcgZGF0YSkgOlxuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCB7bXNnOidoZWxsbyB3b3JkISd9KS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogU2luY2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGNhbGxpbmcgdGhlICRodHRwIGZ1bmN0aW9uIGlzIGEgYHByb21pc2VgLCB5b3UgY2FuIGFsc28gdXNlXG4gICAgICogdGhlIGB0aGVuYCBtZXRob2QgdG8gcmVnaXN0ZXIgY2FsbGJhY2tzLCBhbmQgdGhlc2UgY2FsbGJhY2tzIHdpbGwgcmVjZWl2ZSBhIHNpbmdsZSBhcmd1bWVudCDigJNcbiAgICAgKiBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNwb25zZS4gU2VlIHRoZSBBUEkgc2lnbmF0dXJlIGFuZCB0eXBlIGluZm8gYmVsb3cgZm9yIG1vcmVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmRcbiAgICAgKiB3aWxsIHJlc3VsdCBpbiB0aGUgc3VjY2VzcyBjYWxsYmFjayBiZWluZyBjYWxsZWQuIE5vdGUgdGhhdCBpZiB0aGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCxcbiAgICAgKiBYTUxIdHRwUmVxdWVzdCB3aWxsIHRyYW5zcGFyZW50bHkgZm9sbG93IGl0LCBtZWFuaW5nIHRoYXQgdGhlIGVycm9yIGNhbGxiYWNrIHdpbGwgbm90IGJlXG4gICAgICogY2FsbGVkIGZvciBzdWNoIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xuICAgICAqICRodHRwLmdldCguLi4pO1xuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xuICAgICAqXG4gICAgICogU2hvcnRjdXQgbWV0aG9kcyBhcmUgYWxzbyBhdmFpbGFibGUuIEFsbCBzaG9ydGN1dCBtZXRob2RzIHJlcXVpcmUgcGFzc2luZyBpbiB0aGUgVVJMLCBhbmRcbiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5zdWNjZXNzKHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICogICAkaHR0cC5wb3N0KCcvc29tZVVybCcsIGRhdGEpLnN1Y2Nlc3Moc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXG4gICAgICpcbiAgICAgKiBUaGUgJGh0dHAgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGNlcnRhaW4gSFRUUCBoZWFkZXJzIHRvIGFsbCByZXF1ZXN0cy4gVGhlc2UgZGVmYXVsdHNcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3QsIHdoaWNoIGN1cnJlbnRseSBjb250YWlucyB0aGlzIGRlZmF1bHQgY29uZmlndXJhdGlvbjpcbiAgICAgKlxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcbiAgICAgKiAgIC0gYEFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKiAvICpgXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wdXRgIChoZWFkZXIgZGVmYXVsdHMgZm9yIFBVVCByZXF1ZXN0cylcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcbiAgICAgKlxuICAgICAqIFRvIGFkZCBvciBvdmVyd3JpdGUgdGhlc2UgZGVmYXVsdHMsIHNpbXBseSBhZGQgb3IgcmVtb3ZlIGEgcHJvcGVydHkgZnJvbSB0aGVzZSBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XG4gICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy5cbiAgICAgKiBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ015LUhlYWRlcicgOiAndmFsdWUnIH0uXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xuICAgICAqICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyBZbVZsY0RwaWIyOXcnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiwgeW91IGNhbiBzdXBwbHkgYSBgaGVhZGVyc2AgcHJvcGVydHkgaW4gdGhlIGNvbmZpZyBvYmplY3QgcGFzc2VkIHdoZW5cbiAgICAgKiBjYWxsaW5nIGAkaHR0cChjb25maWcpYCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0cyB3aXRob3V0IGNoYW5naW5nIHRoZW0gZ2xvYmFsbHkuXG4gICAgICpcbiAgICAgKiBUbyBleHBsaWNpdGx5IHJlbW92ZSBhIGhlYWRlciBhdXRvbWF0aWNhbGx5IGFkZGVkIHZpYSAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMgb24gYSBwZXIgcmVxdWVzdCBiYXNpcyxcbiAgICAgKiBVc2UgdGhlIGBoZWFkZXJzYCBwcm9wZXJ0eSwgc2V0dGluZyB0aGUgZGVzaXJlZCBoZWFkZXIgdG8gYHVuZGVmaW5lZGAuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgcmVxID0ge1xuICAgICAqICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgKiAgdXJsOiAnaHR0cDovL2V4YW1wbGUuY29tJyxcbiAgICAgKiAgaGVhZGVyczoge1xuICAgICAqICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICAgKiAgfSxcbiAgICAgKiAgZGF0YTogeyB0ZXN0OiAndGVzdCcgfSxcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cChyZXEpLnN1Y2Nlc3MoZnVuY3Rpb24oKXsuLi59KS5lcnJvcihmdW5jdGlvbigpey4uLn0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHRyYW5zZm9ybWVkIHZhbHVlIChgZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKWApIG9yIGFuIGFycmF5IG9mIHN1Y2ggdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLFxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cbiAgICAgKlxuICAgICAqICMjIyBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc1xuICAgICAqXG4gICAgICogVGhlIGAkaHR0cFByb3ZpZGVyYCBwcm92aWRlciBhbmQgYCRodHRwYCBzZXJ2aWNlIGV4cG9zZSBgZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kXG4gICAgICogYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzLiBJZiBhIHJlcXVlc3QgZG9lcyBub3QgcHJvdmlkZSBpdHMgb3duIHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIHRoZW4gdGhlc2Ugd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhdWdtZW50IG9yIHJlcGxhY2UgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIGJ5IG1vZGlmeWluZyB0aGVzZSBwcm9wZXJ0aWVzIGJ5IGFkZGluZyB0byBvclxuICAgICAqIHJlcGxhY2luZyB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICpcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCk6XG4gICAgICpcbiAgICAgKiAtIElmIHRoZSBgZGF0YWAgcHJvcGVydHkgb2YgdGhlIHJlcXVlc3QgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbnMgYW4gb2JqZWN0LCBzZXJpYWxpemUgaXRcbiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBSZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBhbmQgYCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCk6XG4gICAgICpcbiAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXQgKHNlZSBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBzZWN0aW9uIGJlbG93KS5cbiAgICAgKiAgLSBJZiBKU09OIHJlc3BvbnNlIGlzIGRldGVjdGVkLCBkZXNlcmlhbGl6ZSBpdCB1c2luZyBhIEpTT04gcGFyc2VyLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyMgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnMgUGVyIFJlcXVlc3RcbiAgICAgKlxuICAgICAqIElmIHlvdSB3aXNoIG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyBvbmx5IGZvciBhIHNpbmdsZSByZXF1ZXN0IHRoZW4gcHJvdmlkZVxuICAgICAqIGB0cmFuc2Zvcm1SZXF1ZXN0YCBhbmQvb3IgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWRcbiAgICAgKiBpbnRvIGAkaHR0cGAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHByb3ZpZGUgdGhlc2UgcHJvcGVydGllcyBvbiB0aGUgY29uZmlnIG9iamVjdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgd2lsbCBiZVxuICAgICAqIG92ZXJ3cml0dGVuLiBJZiB5b3Ugd2lzaCB0byBhdWdtZW50IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB0aGVuIHlvdSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB5b3VyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24gYXJyYXkuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgZGVtb25zdHJhdGVzIGFkZGluZyBhIG5ldyByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBydW4gYWZ0ZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2VcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZnVuY3Rpb24gYXBwZW5kVHJhbnNmb3JtKGRlZmF1bHRzLCB0cmFuc2Zvcm0pIHtcbiAgICAgKlxuICAgICAqICAgLy8gV2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb24gaXMgYW4gYXJyYXlcbiAgICAgKiAgIGRlZmF1bHRzID0gYW5ndWxhci5pc0FycmF5KGRlZmF1bHRzKSA/IGRlZmF1bHRzIDogW2RlZmF1bHRzXTtcbiAgICAgKlxuICAgICAqICAgLy8gQXBwZW5kIHRoZSBuZXcgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGRlZmF1bHRzXG4gICAgICogICByZXR1cm4gZGVmYXVsdHMuY29uY2F0KHRyYW5zZm9ybSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogJGh0dHAoe1xuICAgICAqICAgdXJsOiAnLi4uJyxcbiAgICAgKiAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICogICB0cmFuc2Zvcm1SZXNwb25zZTogYXBwZW5kVHJhbnNmb3JtKCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICByZXR1cm4gZG9UcmFuc2Zvcm0odmFsdWUpO1xuICAgICAqICAgfSlcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgQ2FjaGluZ1xuICAgICAqXG4gICAgICogVG8gZW5hYmxlIGNhY2hpbmcsIHNldCB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgICh0byB1c2UgZGVmYXVsdFxuICAgICAqIGNhY2hlKSBvciB0byBhIGN1c3RvbSBjYWNoZSBvYmplY3QgKGJ1aWx0IHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuXG4gICAgICogV2hlbiB0aGUgY2FjaGUgaXMgZW5hYmxlZCwgYCRodHRwYCBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpbiB0aGUgc3BlY2lmaWVkXG4gICAgICogY2FjaGUuIFRoZSBuZXh0IHRpbWUgdGhlIHNhbWUgcmVxdWVzdCBpcyBtYWRlLCB0aGUgcmVzcG9uc2UgaXMgc2VydmVkIGZyb20gdGhlIGNhY2hlIHdpdGhvdXRcbiAgICAgKiBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHJlc3BvbnNlIGlzIHNlcnZlZCBmcm9tIGNhY2hlLCBkZWxpdmVyeSBvZiB0aGUgZGF0YSBpcyBhc3luY2hyb25vdXMgaW5cbiAgICAgKiB0aGUgc2FtZSB3YXkgdGhhdCByZWFsIHJlcXVlc3RzIGFyZS5cbiAgICAgKlxuICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBHRVQgcmVxdWVzdHMgZm9yIHRoZSBzYW1lIFVSTCB0aGF0IHNob3VsZCBiZSBjYWNoZWQgdXNpbmcgdGhlIHNhbWVcbiAgICAgKiBjYWNoZSwgYnV0IHRoZSBjYWNoZSBpcyBub3QgcG9wdWxhdGVkIHlldCwgb25seSBvbmUgcmVxdWVzdCB0byB0aGUgc2VydmVyIHdpbGwgYmUgbWFkZSBhbmRcbiAgICAgKiB0aGUgcmVtYWluaW5nIHJlcXVlc3RzIHdpbGwgYmUgZnVsZmlsbGVkIHVzaW5nIHRoZSByZXNwb25zZSBmcm9tIHRoZSBmaXJzdCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogWW91IGNhbiBjaGFuZ2UgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYSBuZXcgb2JqZWN0IChidWlsdCB3aXRoXG4gICAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkgYnkgdXBkYXRpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRodHRwI2RlZmF1bHRzIGAkaHR0cC5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LiBBbGwgcmVxdWVzdHMgd2hvIHNldFxuICAgICAqIHRoZWlyIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgIHdpbGwgbm93IHVzZSB0aGlzIGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIElmIHlvdSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYGZhbHNlYCB0aGVuIG9ubHkgcmVxdWVzdHMgdGhhdCBzcGVjaWZ5IHRoZWlyIG93biBjdXN0b21cbiAgICAgKiBjYWNoZSBvYmplY3Qgd2lsbCBiZSBjYWNoZWQuXG4gICAgICpcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcbiAgICAgKlxuICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxuICAgICAqXG4gICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0XG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXG4gICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLlxuICAgICAqXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XG4gICAgICpcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCBgY29uZmlnYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC5cbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxuICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxuICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeVxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xuICAgICAqXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxuICAgICAqXG4gICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcbiAgICAgKlxuICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiApXX0nLFxuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYSB0ZWNobmlxdWUgYnkgd2hpY2hcbiAgICAgKiBhbiB1bmF1dGhvcml6ZWQgc2l0ZSBjYW4gZ2FpbiB5b3VyIHVzZXIncyBwcml2YXRlIGRhdGEuIEFuZ3VsYXIgcHJvdmlkZXMgYSBtZWNoYW5pc21cbiAgICAgKiB0byBjb3VudGVyIFhTUkYuIFdoZW4gcGVyZm9ybWluZyBYSFIgcmVxdWVzdHMsIHRoZSAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZVxuICAgICAqIChieSBkZWZhdWx0LCBgWFNSRi1UT0tFTmApIGFuZCBzZXRzIGl0IGFzIGFuIEhUVFAgaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHlcbiAgICAgKiBKYXZhU2NyaXB0IHRoYXQgcnVucyBvbiB5b3VyIGRvbWFpbiBjb3VsZCByZWFkIHRoZSBjb29raWUsIHlvdXIgc2VydmVyIGNhbiBiZSBhc3N1cmVkIHRoYXRcbiAgICAgKiB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4uIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvclxuICAgICAqIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXG4gICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZVxuICAgICAqIHNlcnZlciBjYW4gdmVyaWZ5IHRoYXQgdGhlIGNvb2tpZSBtYXRjaGVzIGBYLVhTUkYtVE9LRU5gIEhUVFAgaGVhZGVyLCBhbmQgdGhlcmVmb3JlIGJlIHN1cmVcbiAgICAgKiB0aGF0IG9ubHkgSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluIGNvdWxkIGhhdmUgc2VudCB0aGUgcmVxdWVzdC4gVGhlIHRva2VuIG11c3QgYmVcbiAgICAgKiB1bmlxdWUgZm9yIGVhY2ggdXNlciBhbmQgbXVzdCBiZSB2ZXJpZmlhYmxlIGJ5IHRoZSBzZXJ2ZXIgKHRvIHByZXZlbnQgdGhlIEphdmFTY3JpcHQgZnJvbVxuICAgICAqIG1ha2luZyB1cCBpdHMgb3duIHRva2VucykuIFdlIHJlY29tbWVuZCB0aGF0IHRoZSB0b2tlbiBpcyBhIGRpZ2VzdCBvZiB5b3VyIHNpdGUnc1xuICAgICAqIGF1dGhlbnRpY2F0aW9uIGNvb2tpZSB3aXRoIGEgW3NhbHRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhbHRfKGNyeXB0b2dyYXBoeSYjNDE7KVxuICAgICAqIGZvciBhZGRlZCBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZVxuICAgICAqIHByb3BlcnRpZXMgb2YgZWl0aGVyICRodHRwUHJvdmlkZXIuZGVmYXVsdHMgYXQgY29uZmlnLXRpbWUsICRodHRwLmRlZmF1bHRzIGF0IHJ1bi10aW1lLFxuICAgICAqIG9yIHRoZSBwZXItcmVxdWVzdCBjb25maWcgb2JqZWN0LlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcbiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXG4gICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ31gIOKAkyBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkLlxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSB0dXJuZWRcbiAgICAgKiAgICAgIHRvIGA/a2V5MT12YWx1ZTEma2V5Mj12YWx1ZTJgIGFmdGVyIHRoZSB1cmwuIElmIHRoZSB2YWx1ZSBpcyBub3QgYSBzdHJpbmcsIGl0IHdpbGwgYmVcbiAgICAgKiAgICAgIEpTT05pZmllZC5cbiAgICAgKiAgICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgRGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZGF0YS5cbiAgICAgKiAgICAtICoqaGVhZGVycyoqIOKAkyBge09iamVjdH1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnMgd2hpY2ggcmV0dXJuIHN0cmluZ3MgcmVwcmVzZW50aW5nXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXG4gICAgICogICAgICBoZWFkZXIgd2lsbCBub3QgYmUgc2VudC5cbiAgICAgKiAgICAtICoqeHNyZkhlYWRlck5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip4c3JmQ29va2llTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXF1ZXN0Kiog4oCTXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVxdWVzdCBib2R5IGFuZCBoZWFkZXJzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IHNlcmlhbGl6ZWQpIHZlcnNpb24uXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XG4gICAgICogICAgICBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc31cbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVzcG9uc2UqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVzcG9uc2UgYm9keSwgaGVhZGVycyBhbmQgc3RhdHVzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IGRlc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKipjYWNoZSoqIOKAkyBge2Jvb2xlYW58Q2FjaGV9YCDigJMgSWYgdHJ1ZSwgYSBkZWZhdWx0ICRodHRwIGNhY2hlIHdpbGwgYmUgdXNlZCB0byBjYWNoZSB0aGVcbiAgICAgKiAgICAgIEdFVCByZXF1ZXN0LCBvdGhlcndpc2UgaWYgYSBjYWNoZSBpbnN0YW5jZSBidWlsdCB3aXRoXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSwgdGhpcyBjYWNoZSB3aWxsIGJlIHVzZWQgZm9yXG4gICAgICogICAgICBjYWNoaW5nLlxuICAgICAqICAgIC0gKip0aW1lb3V0Kiog4oCTIGB7bnVtYmVyfFByb21pc2V9YCDigJMgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIG9yIHtAbGluayBuZy4kcSBwcm9taXNlfVxuICAgICAqICAgICAgdGhhdCBzaG91bGQgYWJvcnQgdGhlIHJlcXVlc3Qgd2hlbiByZXNvbHZlZC5cbiAgICAgKiAgICAtICoqd2l0aENyZWRlbnRpYWxzKiogLSBge2Jvb2xlYW59YCAtIHdoZXRoZXIgdG8gc2V0IHRoZSBgd2l0aENyZWRlbnRpYWxzYCBmbGFnIG9uIHRoZVxuICAgICAqICAgICAgWEhSIG9iamVjdC4gU2VlIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMjUmVxdWVzdHNfd2l0aF9jcmVkZW50aWFscylcbiAgICAgKiAgICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqICAgIC0gKipyZXNwb25zZVR5cGUqKiAtIGB7c3RyaW5nfWAgLSBzZWVcbiAgICAgKiAgICAgIFtyZXF1ZXN0VHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9ET00vWE1MSHR0cFJlcXVlc3QjcmVzcG9uc2VUeXBlKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gUmV0dXJucyBhIHtAbGluayBuZy4kcSBwcm9taXNlfSBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiAgIHN0YW5kYXJkIGB0aGVuYCBtZXRob2QgYW5kIHR3byBodHRwIHNwZWNpZmljIG1ldGhvZHM6IGBzdWNjZXNzYCBhbmQgYGVycm9yYC4gVGhlIGB0aGVuYFxuICAgICAqICAgbWV0aG9kIHRha2VzIHR3byBhcmd1bWVudHMgYSBzdWNjZXNzIGFuZCBhbiBlcnJvciBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIGFcbiAgICAgKiAgIHJlc3BvbnNlIG9iamVjdC4gVGhlIGBzdWNjZXNzYCBhbmQgYGVycm9yYCBtZXRob2RzIHRha2UgYSBzaW5nbGUgYXJndW1lbnQgLSBhIGZ1bmN0aW9uIHRoYXRcbiAgICAgKiAgIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHJlcXVlc3Qgc3VjY2VlZHMgb3IgZmFpbHMgcmVzcGVjdGl2ZWx5LiBUaGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvXG4gICAgICogICB0aGVzZSBmdW5jdGlvbnMgYXJlIGRlc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVzcG9uc2Ugb2JqZWN0IHBhc3NlZCBpbnRvIHRoZVxuICAgICAqICAgYHRoZW5gIG1ldGhvZC4gVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxuICAgICAqICAgICBmdW5jdGlvbnMuXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nXG4gICAgICogICByZXF1ZXN0cy4gVGhpcyBpcyBwcmltYXJpbHkgbWVhbnQgdG8gYmUgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwiaHR0cEV4YW1wbGVcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkZldGNoQ29udHJvbGxlclwiPlxuICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtZXRob2RcIj5cbiAgICAgIDxvcHRpb24+R0VUPC9vcHRpb24+XG4gICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1cmxcIiBzaXplPVwiODBcIi8+XG4gICAgPGJ1dHRvbiBpZD1cImZldGNoYnRuXCIgbmctY2xpY2s9XCJmZXRjaCgpXCI+ZmV0Y2g8L2J1dHRvbj48YnI+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWdldGJ0blwiIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0dFVCcsICdodHRwLWhlbGxvLmh0bWwnKVwiPlNhbXBsZSBHRVQ8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLFxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9jYWxsYmFjaz1KU09OX0NBTExCQUNLJm5hbWU9U3VwZXIlMjBIZXJvJylcIj5cbiAgICAgIFNhbXBsZSBKU09OUFxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJpbnZhbGlkanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JmNhbGxiYWNrPUpTT05fQ0FMTEJBQ0snKVwiPlxuICAgICAgICBJbnZhbGlkIEpTT05QXG4gICAgICA8L2J1dHRvbj5cbiAgICA8cHJlPmh0dHAgc3RhdHVzIGNvZGU6IHt7c3RhdHVzfX08L3ByZT5cbiAgICA8cHJlPmh0dHAgcmVzcG9uc2UgZGF0YToge3tkYXRhfX08L3ByZT5cbiAgPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxuICAgIC5jb250cm9sbGVyKCdGZXRjaENvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsXG4gICAgICBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAkc2NvcGUubWV0aG9kID0gJ0dFVCc7XG4gICAgICAgICRzY29wZS51cmwgPSAnaHR0cC1oZWxsby5odG1sJztcblxuICAgICAgICAkc2NvcGUuZmV0Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuY29kZSA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLnJlc3BvbnNlID0gbnVsbDtcblxuICAgICAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAkc2NvcGUudXJsID0gdXJsO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuPC9maWxlPlxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxuICBIZWxsbywgJGh0dHAhXG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcbiAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xuICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICBzYW1wbGVKc29ucEJ0bi5jbGljaygpO1xuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4vLyAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvU3VwZXIgSGVybyEvKTtcbi8vIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFrZSBKU09OUCByZXF1ZXN0IHRvIGludmFsaWQgVVJMIGFuZCBpbnZva2UgdGhlIGVycm9yIGhhbmRsZXInLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgIH0sIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICBjb25maWcuaGVhZGVycyA9IG1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtcbiAgICAgIGNvbmZpZy5tZXRob2QgPSB1cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7XG5cbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XG5cbiAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShoZWFkZXIpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XG4gICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oY29uZmlnKTtcblxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXG4gICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBwcm9taXNlLmVycm9yID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKG51bGwsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgc2luY2UgdGhlIHJlc3BvbnNlIG11c3QgYmUgY2FjaGVhYmxlXG4gICAgICAgIHZhciByZXNwID0gZXh0ZW5kKHt9LCByZXNwb25zZSk7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJlc3AuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcbiAgICAgICAgICA/IHJlc3BcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUhlYWRlckZucyhoZWFkZXJzKSB7XG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XG5cbiAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XG4gICAgICAgICAgICBoZWFkZXJDb250ZW50ID0gaGVhZGVyRm4oKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSGVhZGVycztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZykge1xuICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXG4gICAgICAgICAgICBkZWZIZWFkZXJOYW1lLCBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLCByZXFIZWFkZXJOYW1lO1xuXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xuXG4gICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5lY2Vzc2FyeSBpdGVyYXRpb24gYWZ0ZXIgaGVhZGVyIGhhcyBiZWVuIGZvdW5kXG4gICAgICAgIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOlxuICAgICAgICBmb3IgKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycykge1xuICAgICAgICAgIGxvd2VyY2FzZURlZkhlYWRlck5hbWUgPSBsb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7XG5cbiAgICAgICAgICBmb3IgKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShyZXFIZWFkZXJOYW1lKSA9PT0gbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSkge1xuICAgICAgICAgICAgICBjb250aW51ZSBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGEgZnVuY3Rpb24gZm9yIG1lcmdlZCBoZWFkZXJzXG4gICAgICAgIHJldHVybiBleGVjdXRlSGVhZGVyRm5zKHJlcUhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2dldFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNkZWxldGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBERUxFVEVgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjaGVhZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjanNvbnBcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0LlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHNob3VsZCBiZSB0aGUgc3RyaW5nIGBKU09OX0NBTExCQUNLYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kcygnZ2V0JywgJ2RlbGV0ZScsICdoZWFkJywgJ2pzb25wJyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI3B1dFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJGh0dHAjcGF0Y2hcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQQVRDSGAgcmVxdWVzdC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgKiBAbmFtZSAkaHR0cCNkZWZhdWx0c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUnVudGltZSBlcXVpdmFsZW50IG9mIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0c2AgcHJvcGVydHkuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAqIGRlZmF1bHQgaGVhZGVycywgd2l0aENyZWRlbnRpYWxzIGFzIHdlbGwgYXMgcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUgXCJTZXR0aW5nIEhUVFAgSGVhZGVyc1wiIGFuZCBcIlRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXCIgc2VjdGlvbnMgYWJvdmUuXG4gICAgICAgICAqL1xuICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XG5cblxuICAgIHJldHVybiAkaHR0cDtcblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKG5hbWVzKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOlxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgY2FjaGVkUmVzcCxcbiAgICAgICAgICByZXFIZWFkZXJzID0gY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgdXJsID0gYnVpbGRVcmwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcyk7XG5cbiAgICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGNvbmZpZyk7XG4gICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7XG5cblxuICAgICAgaWYgKChjb25maWcuY2FjaGUgfHwgZGVmYXVsdHMuY2FjaGUpICYmIGNvbmZpZy5jYWNoZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAoY29uZmlnLm1ldGhvZCA9PT0gJ0dFVCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ0pTT05QJykpIHtcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXG4gICAgICAgICAgICAgIDogaXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpID8gZGVmYXVsdHMuY2FjaGVcbiAgICAgICAgICAgICAgOiBkZWZhdWx0Q2FjaGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICBpZiAoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XG4gICAgICAgICAgICBjYWNoZWRSZXNwLnRoZW4ocmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0LCByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxuICAgICAgICAgICAgPyAkYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LFxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxuICAgICAgICogIC0gcmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlXG4gICAgICAgKiAgLSBjYWxscyAkYXBwbHlcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZG9uZShzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xuICAgICAgICAgICAgY2FjaGUucHV0KHVybCwgW3N0YXR1cywgcmVzcG9uc2UsIHBhcnNlSGVhZGVycyhoZWFkZXJzU3RyaW5nKSwgc3RhdHVzVGV4dF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKHJlc29sdmVIdHRwUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xuICAgICAgICAvLyBub3JtYWxpemUgaW50ZXJuYWwgc3RhdHVzZXMgdG8gMFxuICAgICAgICBzdGF0dXMgPSBNYXRoLm1heChzdGF0dXMsIDApO1xuXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XG4gICAgICAgIHZhciBpZHggPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYnVpbGRVcmwodXJsLCBwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gdXJsO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHZhbHVlID0gW3ZhbHVlXTtcblxuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgICBpZiAoaXNEYXRlKHYpKSB7XG4gICAgICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2ID0gdG9Kc29uKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSkgKyAnPScgK1xuICAgICAgICAgICAgICAgICAgICAgZW5jb2RlVXJpUXVlcnkodikpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PSAtMSkgPyAnPycgOiAnJicpICsgcGFydHMuam9pbignJicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYaHIoKSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGh0dHBCYWNrZW5kXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRUUCBiYWNrZW5kIHVzZWQgYnkgdGhlIHtAbGluayBuZy4kaHR0cCBzZXJ2aWNlfSB0aGF0IGRlbGVnYXRlcyB0b1xuICogWE1MSHR0cFJlcXVlc3Qgb2JqZWN0IG9yIEpTT05QIGFuZCBkZWFscyB3aXRoIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMuXG4gKlxuICogWW91IHNob3VsZCBuZXZlciBuZWVkIHRvIHVzZSB0aGlzIHNlcnZpY2UgZGlyZWN0bHksIGluc3RlYWQgdXNlIHRoZSBoaWdoZXItbGV2ZWwgYWJzdHJhY3Rpb25zOlxuICoge0BsaW5rIG5nLiRodHRwICRodHRwfSBvciB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2UgJHJlc291cmNlfS5cbiAqXG4gKiBEdXJpbmcgdGVzdGluZyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIHN3YXBwZWQgd2l0aCB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCBtb2NrXG4gKiAkaHR0cEJhY2tlbmR9IHdoaWNoIGNhbiBiZSB0cmFpbmVkIHdpdGggcmVzcG9uc2VzLlxuICovXG5mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRicm93c2VyLCAkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXIuZGVmZXIsICR3aW5kb3cuYW5ndWxhci5jYWxsYmFja3MsICRkb2N1bWVudFswXSk7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3NlckRlZmVyLCBjYWxsYmFja3MsIHJhd0RvY3VtZW50KSB7XG4gIC8vIFRPRE8odm9qdGEpOiBmaXggdGhlIHNpZ25hdHVyZVxuICByZXR1cm4gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBvc3QsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMsIHJlc3BvbnNlVHlwZSkge1xuICAgICRicm93c2VyLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtcbiAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XG5cbiAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT0gJ2pzb25wJykge1xuICAgICAgdmFyIGNhbGxiYWNrSWQgPSAnXycgKyAoY2FsbGJhY2tzLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xuICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSA9IGRhdGE7XG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybC5yZXBsYWNlKCdKU09OX0NBTExCQUNLJywgJ2FuZ3VsYXIuY2FsbGJhY2tzLicgKyBjYWxsYmFja0lkKSxcbiAgICAgICAgICBjYWxsYmFja0lkLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCBcIlwiLCB0ZXh0KTtcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gbm9vcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciB4aHIgPSBjcmVhdGVYaHIoKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOCAmIDkpXG4gICAgICAgIC8vIHJlc3BvbnNlL3Jlc3BvbnNlVHlwZSBwcm9wZXJ0aWVzIHdlcmUgaW50cm9kdWNlZCBpbiBYSFIgTGV2ZWwyIHNwZWMgKHN1cHBvcnRlZCBieSBJRTEwKVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAvLyBub3JtYWxpemUgSUU5IGJ1ZyAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTQ1MClcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xuXG4gICAgICAgIC8vIGZpeCBzdGF0dXMgY29kZSB3aGVuIGl0IGlzIDAgKDAgc3RhdHVzIGlzIHVuZG9jdW1lbnRlZCkuXG4gICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXG4gICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09ICdmaWxlJyA/IDQwNCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUaGUgcmVzcG9uc2UgaXMgYWx3YXlzIGVtcHR5XG4gICAgICAgIC8vIFNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3QtZXJyb3Itc3RlcHMgYW5kIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW5ldHdvcmstZXJyb3JcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XG4gICAgICB4aHIub25hYm9ydCA9IHJlcXVlc3RFcnJvcjtcblxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxuICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHBvc3QgfHwgbnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2VMaWtlKHRpbWVvdXQpKSB7XG4gICAgICB0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKSB7XG4gICAgICBqc29ucERvbmUgJiYganNvbnBEb25lKCk7XG4gICAgICB4aHIgJiYgeGhyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAvLyBjYW5jZWwgdGltZW91dCBhbmQgc3Vic2VxdWVudCB0aW1lb3V0IHByb21pc2UgcmVzb2x1dGlvblxuICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsO1xuXG4gICAgICBjYWxsYmFjayhzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICAgICRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGpzb25wUmVxKHVybCwgY2FsbGJhY2tJZCwgZG9uZSkge1xuICAgIC8vIHdlIGNhbid0IHVzZSBqUXVlcnkvanFMaXRlIGhlcmUgYmVjYXVzZSBqUXVlcnkgZG9lcyBjcmF6eSBzaGl0IHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cbiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50XG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XG4gICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgIHNjcmlwdC5zcmMgPSB1cmw7XG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuICAgIGNhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwibG9hZFwiLCBjYWxsYmFjayk7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICB2YXIgc3RhdHVzID0gLTE7XG4gICAgICB2YXIgdGV4dCA9IFwidW5rbm93blwiO1xuXG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwibG9hZFwiICYmICFjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkKSB7XG4gICAgICAgICAgZXZlbnQgPSB7IHR5cGU6IFwiZXJyb3JcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHRleHQgPSBldmVudC50eXBlO1xuICAgICAgICBzdGF0dXMgPSBldmVudC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJsb2FkXCIsIGNhbGxiYWNrKTtcbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICByYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9XG59XG5cbnZhciAkaW50ZXJwb2xhdGVNaW5FcnIgPSBtaW5FcnIoJyRpbnRlcnBvbGF0ZScpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2VkIGZvciBjb25maWd1cmluZyB0aGUgaW50ZXJwb2xhdGlvbiBtYXJrdXAuIERlZmF1bHRzIHRvIGB7e2AgYW5kIGB9fWAuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cImN1c3RvbUludGVycG9sYXRpb25BcHBcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48c2NyaXB0PlxuICB2YXIgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjdXN0b21JbnRlcnBvbGF0aW9uQXBwJywgW10pO1xuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJy8vJyk7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpO1xuICB9KTtcblxuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGFiZWwgPSBcIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuXCI7XG4gIH0pO1xuPC9zY3JpcHQ+XG48ZGl2IG5nLWFwcD1cIkFwcFwiIG5nLWNvbnRyb2xsZXI9XCJEZW1vQ29udHJvbGxlciBhcyBkZW1vXCI+XG4gICAgLy9kZW1vLmxhYmVsLy9cbjwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpO1xuICB9KTtcbjwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XG4gIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7XG4gIHZhciBlbmRTeW1ib2wgPSAnfX0nO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBlbmRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5lbmRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyAkcGFyc2VcbiAgICAgKiBAcmVxdWlyZXMgJHNjZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxuICAgICAqIEhUTUwge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSBzZXJ2aWNlIGZvciBkYXRhIGJpbmRpbmcuIFNlZVxuICAgICAqIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciAkaW50ZXJwb2xhdGVQcm92aWRlcn0gZm9yIGNvbmZpZ3VyaW5nIHRoZVxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ0hlbGxvIHt7bmFtZSB8IHVwcGVyY2FzZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KS50b0VxdWFsKCdIZWxsbyBBTkdVTEFSIScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYCRpbnRlcnBvbGF0ZWAgdGFrZXMgYW4gb3B0aW9uYWwgZm91cnRoIGFyZ3VtZW50LCBgYWxsT3JOb3RoaW5nYC4gSWYgYGFsbE9yTm90aGluZ2AgaXNcbiAgICAgKiBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnNcbiAgICAgKiBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBjb250ZXh0ID0ge2dyZWV0aW5nOiAnSGVsbG8nLCBuYW1lOiB1bmRlZmluZWQgfTtcbiAgICAgKlxuICAgICAqICAgLy8gZGVmYXVsdCBcImZvcmdpdmluZ1wiIG1vZGVcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvICEnKTtcbiAgICAgKlxuICAgICAqICAgLy8gXCJhbGxPck5vdGhpbmdcIiBtb2RlXG4gICAgICogICBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnLCBmYWxzZSwgbnVsbCwgdHJ1ZSk7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICogICBjb250ZXh0Lm5hbWUgPSAnQW5ndWxhcic7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyBBbmd1bGFyIScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYGFsbE9yTm90aGluZ2AgaXMgdXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIFVSTHMuIGBuZ1NyY2AgYW5kIGBuZ1NyY3NldGAgdXNlIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiAjIyMjRXNjYXBlZCBJbnRlcnBvbGF0aW9uXG4gICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xuICAgICAqIGNhbiBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBlYWNoIG9mIHRoZWlyIGNoYXJhY3RlcnMgd2l0aCBhIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaCkuXG4gICAgICogSXQgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHJlZ3VsYXIgc3RhcnQvZW5kIG1hcmtlciwgYW5kIHdpbGwgbm90IGJlIGludGVycHJldGVkIGFzIGFuIGV4cHJlc3Npb25cbiAgICAgKiBvciBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIHdlYi1zZXJ2ZXJzIHRvIHByZXZlbnQgc2NyaXB0IGluamVjdGlvbiBhdHRhY2tzIGFuZCBkZWZhY2luZyBhdHRhY2tzLCB0byBzb21lXG4gICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ05vbkJpbmRhYmxlIG5nTm9uQmluZGFibGV9IGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcbiAgICAgKiByZXBsYWNpbmcgYW5nbGUgYnJhY2tldHMgKCZsdDssICZndDspIHdpdGggJmFtcDtsdDsgYW5kICZhbXA7Z3Q7IHJlc3BlY3RpdmVseSwgYW5kIHJlcGxhY2luZyBhbGxcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBjb3VudGVycGFydHMuKipcbiAgICAgKlxuICAgICAqIEVzY2FwZWQgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGFyZSBvbmx5IHJlcGxhY2VkIHdpdGggdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgaW4gcmVuZGVyZWRcbiAgICAgKiBvdXRwdXQgd2hlbiB0aGUgJGludGVycG9sYXRlIHNlcnZpY2UgcHJvY2Vzc2VzIHRoZSB0ZXh0LiBTbywgZm9yIEhUTUwgZWxlbWVudHMgaW50ZXJwb2xhdGVkXG4gICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcbiAgICAgKiBzZXQgdG8gYHRydWVgLCB0aGUgaW50ZXJwb2xhdGVkIHRleHQgbXVzdCBjb250YWluIGFuIHVuZXNjYXBlZCBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24uIEFzIHN1Y2gsXG4gICAgICogdGhpcyBpcyB0eXBpY2FsbHkgdXNlZnVsIG9ubHkgd2hlbiB1c2VyLWRhdGEgaXMgdXNlZCBpbiByZW5kZXJpbmcgYSB0ZW1wbGF0ZSBmcm9tIHRoZSBzZXJ2ZXIsIG9yXG4gICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIDxleGFtcGxlPlxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAqICAgIDxkaXYgbmctaW5pdD1cInVzZXJuYW1lPSdBIHVzZXInXCI+XG4gICAgICogICAgICA8cCBuZy1pbml0PVwiYXBwdGl0bGU9J0VzY2FwaW5nIGRlbW8nXCI+e3thcHB0aXRsZX19OiBcXHtcXHsgdXNlcm5hbWUgPSBcImRlZmFjZWQgdmFsdWVcIjsgXFx9XFx9XG4gICAgICogICAgICAgIDwvcD5cbiAgICAgKiAgICAgIDxwPjxzdHJvbmc+e3t1c2VybmFtZX19PC9zdHJvbmc+IGF0dGVtcHRzIHRvIGluamVjdCBjb2RlIHdoaWNoIHdpbGwgZGVmYWNlIHRoZVxuICAgICAqICAgICAgICBhcHBsaWNhdGlvbiwgYnV0IGZhaWxzIHRvIGFjY29tcGxpc2ggdGhlaXIgdGFzaywgYmVjYXVzZSB0aGUgc2VydmVyIGhhcyBjb3JyZWN0bHlcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycy48L3A+XG4gICAgICogICAgICA8cD5JbnN0ZWFkLCB0aGUgcmVzdWx0IG9mIHRoZSBhdHRlbXB0ZWQgc2NyaXB0IGluamVjdGlvbiBpcyB2aXNpYmxlLCBhbmQgY2FuIGJlIHJlbW92ZWRcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICogICAgPC9kaXY+XG4gICAgICogIDwvZmlsZT5cbiAgICAgKiA8L2V4YW1wbGU+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBtdXN0SGF2ZUV4cHJlc3Npb24gaWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgaW50ZXJwb2xhdGlvbiBzdHJpbmcgbXVzdCBoYXZlXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiBpbiBvcmRlciB0byByZXR1cm4gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi4gU3RyaW5ncyB3aXRoIG5vXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHRydXN0ZWRDb250ZXh0IHdoZW4gcHJvdmlkZWQsIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBwYXNzZXMgdGhlIGludGVycG9sYXRlZFxuICAgICAqICAgIHJlc3VsdCB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkKGludGVycG9sYXRlZFJlc3VsdCxcbiAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0XG4gICAgICogICAgcHJvdmlkZXMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZm9yIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYWxsT3JOb3RoaW5nIGlmIGB0cnVlYCwgdGhlbiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcmV0dXJucyB1bmRlZmluZWRcbiAgICAgKiAgICB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCl9IGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICAgICAqICAgIGludGVycG9sYXRlZCBzdHJpbmcuIFRoZSBmdW5jdGlvbiBoYXMgdGhlc2UgcGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqIC0gYGNvbnRleHRgOiBldmFsdWF0aW9uIGNvbnRleHQgZm9yIGFsbCBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgaW50ZXJwb2xhdGVkIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKSB7XG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcbiAgICAgIHZhciBzdGFydEluZGV4LFxuICAgICAgICAgIGVuZEluZGV4LFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxuICAgICAgICAgIHBhcnNlRm5zID0gW10sXG4gICAgICAgICAgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoLFxuICAgICAgICAgIGV4cCxcbiAgICAgICAgICBjb25jYXQgPSBbXSxcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zID0gW107XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IHRleHRMZW5ndGgpIHtcbiAgICAgICAgaWYgKCgoc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihzdGFydFN5bWJvbCwgaW5kZXgpKSAhPSAtMSkgJiZcbiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT0gLTEpKSB7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0SW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV4cCA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCwgZW5kSW5kZXgpO1xuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goZXhwKTtcbiAgICAgICAgICBwYXJzZUZucy5wdXNoKCRwYXJzZShleHAsIHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IpKTtcbiAgICAgICAgICBpbmRleCA9IGVuZEluZGV4ICsgZW5kU3ltYm9sTGVuZ3RoO1xuICAgICAgICAgIGV4cHJlc3Npb25Qb3NpdGlvbnMucHVzaChjb25jYXQubGVuZ3RoKTtcbiAgICAgICAgICBjb25jYXQucHVzaCgnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2UgZGlkIG5vdCBmaW5kIGFuIGludGVycG9sYXRpb24sIHNvIHdlIGhhdmUgdG8gYWRkIHRoZSByZW1haW5kZXIgdG8gdGhlIHNlcGFyYXRvcnMgYXJyYXlcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHRleHRMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ29uY2F0ZW5hdGluZyBleHByZXNzaW9ucyBtYWtlcyBpdCBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGV0aGVyIHNvbWUgY29tYmluYXRpb24gb2ZcbiAgICAgIC8vIGNvbmNhdGVuYXRlZCB2YWx1ZXMgYXJlIHVuc2FmZSB0byB1c2UgYW5kIGNvdWxkIGVhc2lseSBsZWFkIHRvIFhTUy4gIEJ5IHJlcXVpcmluZyB0aGF0IGFcbiAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIGlmcmFtZVtzcmNdLCBvYmplY3Rbc3JjXSwgZXRjLiwgd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0J3MgdXNlZCBpcyBhc3NpZ25lZCBvciBjb25zdHJ1Y3RlZCBieSBzb21lIEpTIGNvZGUgc29tZXdoZXJlIHRoYXQgaXMgbW9yZSB0ZXN0YWJsZSBvclxuICAgICAgLy8gbWFrZSBpdCBvYnZpb3VzIHRoYXQgeW91IGJvdW5kIHRoZSB2YWx1ZSB0byBzb21lIHVzZXIgY29udHJvbGxlZCB2YWx1ZS4gIFRoaXMgaGVscHMgcmVkdWNlXG4gICAgICAvLyB0aGUgbG9hZCB3aGVuIGF1ZGl0aW5nIGZvciBYU1MgaXNzdWVzLlxuICAgICAgaWYgKHRydXN0ZWRDb250ZXh0ICYmIGNvbmNhdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgJGludGVycG9sYXRlTWluRXJyKCdub2NvbmNhdCcsXG4gICAgICAgICAgICAgIFwiRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XFxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzIFwiICtcbiAgICAgICAgICAgICAgXCJpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIFwiICtcbiAgICAgICAgICAgICAgXCJyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlXCIsIHRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7IC8vIG51bGwgfHwgdW5kZWZpbmVkXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgdmFyIG5ld0VyciA9ICRpbnRlcnBvbGF0ZU1pbkVycignaW50ZXJyJywgXCJDYW4ndCBpbnRlcnBvbGF0ZTogezB9XFxuezF9XCIsIHRleHQsXG4gICAgICAgICAgICAgICAgICBlcnIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKG5ld0Vycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgLy8gYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIHVuZG9jdW1lbnRlZCBmb3Igbm93XG4gICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxuICAgICAgICAgIGV4cHJlc3Npb25zOiBleHByZXNzaW9ucyxcbiAgICAgICAgICAkJHdhdGNoRGVsZWdhdGU6IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoR3JvdXAocGFyc2VGbnMsIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyVmFsdWUgPSBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1bmVzY2FwZVRleHQodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxuICAgICAgICAgIHJlcGxhY2UoZXNjYXBlZEVuZFJlZ2V4cCwgZW5kU3ltYm9sKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcih2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhbHVlID0gZ2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgIHJldHVybiBhbGxPck5vdGhpbmcgJiYgIWlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHZhciBuZXdFcnIgPSAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsIFwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxcbnsxfVwiLCB0ZXh0LFxuICAgICAgICAgICAgZXJyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKG5ld0Vycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjc3RhcnRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLlxuICAgICAqL1xuICAgICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sYH0gdG8gY2hhbmdlXG4gICAgICogdGhlIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVuZCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJHdpbmRvdycsICckcScsICckJHEnLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJHdpbmRvdywgICAkcSwgICAkJHEpIHtcbiAgICB2YXIgaW50ZXJ2YWxzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJGludGVydmFsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGV2ZXJ5IGBkZWxheWBcbiAgICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAgKlxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGFuIGludGVydmFsIGZ1bmN0aW9uIGlzIGEgcHJvbWlzZS4gVGhpcyBwcm9taXNlIHdpbGwgYmVcbiAgICAgICogbm90aWZpZWQgdXBvbiBlYWNoIHRpY2sgb2YgdGhlIGludGVydmFsLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBgY291bnRgIGl0ZXJhdGlvbnMsIG9yXG4gICAgICAqIHJ1biBpbmRlZmluaXRlbHkgaWYgYGNvdW50YCBpcyBub3QgZGVmaW5lZC4gVGhlIHZhbHVlIG9mIHRoZSBub3RpZmljYXRpb24gd2lsbCBiZSB0aGVcbiAgICAgICogbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBoYXZlIHJ1bi5cbiAgICAgICogVG8gY2FuY2VsIGFuIGludGVydmFsLCBjYWxsIGAkaW50ZXJ2YWwuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG9cbiAgICAgICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdFxuICAgICAgKiB0aW1lLlxuICAgICAgKlxuICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkXG4gICAgICAqIHdpdGggdGhlbS4gIEluIHBhcnRpY3VsYXIgdGhleSBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW4gYSBjb250cm9sbGVyJ3Mgc2NvcGUgb3IgYVxuICAgICAgKiBkaXJlY3RpdmUncyBlbGVtZW50IGFyZSBkZXN0cm95ZWQuXG4gICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZVxuICAgICAgKiBhcHByb3ByaWF0ZSBtb21lbnQuICBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIG1vcmUgZGV0YWlscyBvbiBob3cgYW5kIHdoZW4gdG8gZG8gdGhpcy5cbiAgICAgICogPC9kaXY+XG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgcmVwZWF0ZWRseS5cbiAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IE51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvdW50PTBdIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQuIElmIG5vdCBzZXQsIG9yIDAsIHdpbGwgcmVwZWF0XG4gICAgICAqICAgaW5kZWZpbml0ZWx5LlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIG5vdGlmaWVkIG9uIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgKlxuICAgICAgKiBAZXhhbXBsZVxuICAgICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnRlcnZhbEV4YW1wbGVcIj5cbiAgICAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICogICA8c2NyaXB0PlxuICAgICAgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2ludGVydmFsRXhhbXBsZScsIFtdKVxuICAgICAgKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaW50ZXJ2YWwnLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsKSB7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJ00vZC95eSBoOm1tOnNzIGEnO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgIHZhciBzdG9wO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIC8vIERvbid0IHN0YXJ0IGEgbmV3IGZpZ2h0IGlmIHdlIGFyZSBhbHJlYWR5IGZpZ2h0aW5nXG4gICAgICAqICAgICAgICAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoc3RvcCkgKSByZXR1cm47XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIHN0b3AgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ibG9vZF8xID4gMCAmJiAkc2NvcGUuYmxvb2RfMiA+IDApIHtcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gJHNjb3BlLmJsb29kXzEgLSAzO1xuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAkc2NvcGUuYmxvb2RfMiAtIDQ7XG4gICAgICAqICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgICogICAgICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc3RvcCkpIHtcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3ApO1xuICAgICAgKiAgICAgICAgICAgICAgIHN0b3AgPSB1bmRlZmluZWQ7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICogICAgICAgICAgIH07XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAkc2NvcGUucmVzZXRGaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGludGVydmFsIGlzIGRlc3Ryb3llZCB0b29cbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xuICAgICAgKiAgICAgICAgICAgfSk7XG4gICAgICAqICAgICAgICAgfV0pXG4gICAgICAqICAgICAgIC8vIFJlZ2lzdGVyIHRoZSAnbXlDdXJyZW50VGltZScgZGlyZWN0aXZlIGZhY3RvcnkgbWV0aG9kLlxuICAgICAgKiAgICAgICAvLyBXZSBpbmplY3QgJGludGVydmFsIGFuZCBkYXRlRmlsdGVyIHNlcnZpY2Ugc2luY2UgdGhlIGZhY3RvcnkgbWV0aG9kIGlzIERJLlxuICAgICAgKiAgICAgICAuZGlyZWN0aXZlKCdteUN1cnJlbnRUaW1lJywgWyckaW50ZXJ2YWwnLCAnZGF0ZUZpbHRlcicsXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJGludGVydmFsLCBkYXRlRmlsdGVyKSB7XG4gICAgICAqICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRpcmVjdGl2ZSBsaW5rIGZ1bmN0aW9uLiAoY29tcGlsZSBmdW5jdGlvbiBub3QgbmVlZGVkKVxuICAgICAgKiAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgKiAgICAgICAgICAgICB2YXIgZm9ybWF0LCAgLy8gZGF0ZSBmb3JtYXRcbiAgICAgICogICAgICAgICAgICAgICAgIHN0b3BUaW1lOyAvLyBzbyB0aGF0IHdlIGNhbiBjYW5jZWwgdGhlIHRpbWUgdXBkYXRlc1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICAvLyB1c2VkIHRvIHVwZGF0ZSB0aGUgVUlcbiAgICAgICogICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcbiAgICAgICogICAgICAgICAgICAgICBlbGVtZW50LnRleHQoZGF0ZUZpbHRlcihuZXcgRGF0ZSgpLCBmb3JtYXQpKTtcbiAgICAgICogICAgICAgICAgICAgfVxuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICAvLyB3YXRjaCB0aGUgZXhwcmVzc2lvbiwgYW5kIHVwZGF0ZSB0aGUgVUkgb24gY2hhbmdlLlxuICAgICAgKiAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMubXlDdXJyZW50VGltZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICogICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZTtcbiAgICAgICogICAgICAgICAgICAgICB1cGRhdGVUaW1lKCk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICBzdG9wVGltZSA9ICRpbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gbGlzdGVuIG9uIERPTSBkZXN0cm95IChyZW1vdmFsKSBldmVudCwgYW5kIGNhbmNlbCB0aGUgbmV4dCBVSSB1cGRhdGVcbiAgICAgICogICAgICAgICAgICAgLy8gdG8gcHJldmVudCB1cGRhdGluZyB0aW1lIGFmdGVyIHRoZSBET00gZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAgICAgICogICAgICAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3BUaW1lKTtcbiAgICAgICogICAgICAgICAgICAgfSk7XG4gICAgICAqICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgfV0pO1xuICAgICAgKiAgIDwvc2NyaXB0PlxuICAgICAgKlxuICAgICAgKiAgIDxkaXY+XG4gICAgICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgKiAgICAgICBEYXRlIGZvcm1hdDogPGlucHV0IG5nLW1vZGVsPVwiZm9ybWF0XCI+IDxoci8+XG4gICAgICAqICAgICAgIEN1cnJlbnQgdGltZSBpczogPHNwYW4gbXktY3VycmVudC10aW1lPVwiZm9ybWF0XCI+PC9zcGFuPlxuICAgICAgKiAgICAgICA8aHIvPlxuICAgICAgKiAgICAgICBCbG9vZCAxIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8xfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIEJsb29kIDIgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzJ9fTwvZm9udD5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cImZpZ2h0KClcIj5GaWdodDwvYnV0dG9uPlxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwic3RvcEZpZ2h0KClcIj5TdG9wRmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInJlc2V0RmlnaHQoKVwiPnJlc2V0RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgIDwvZGl2PlxuICAgICAgKiAgIDwvZGl2PlxuICAgICAgKlxuICAgICAgKiA8L2ZpbGU+XG4gICAgICAqIDwvZXhhbXBsZT5cbiAgICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJ2YWwoZm4sIGRlbGF5LCBjb3VudCwgaW52b2tlQXBwbHkpIHtcbiAgICAgIHZhciBzZXRJbnRlcnZhbCA9ICR3aW5kb3cuc2V0SW50ZXJ2YWwsXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCA9ICR3aW5kb3cuY2xlYXJJbnRlcnZhbCxcbiAgICAgICAgICBpdGVyYXRpb24gPSAwLFxuICAgICAgICAgIHNraXBBcHBseSA9IChpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSksXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgIGNvdW50ID0gaXNEZWZpbmVkKGNvdW50KSA/IGNvdW50IDogMDtcblxuICAgICAgcHJvbWlzZS50aGVuKG51bGwsIG51bGwsIGZuKTtcblxuICAgICAgcHJvbWlzZS4kJGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpdGVyYXRpb24pO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG5cbiAgICAgIH0sIGRlbGF5KTtcblxuICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWwjY2FuY2VsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtwcm9taXNlfSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIHdhcyBzdWNjZXNzZnVsbHkgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCRpbnRlcnZhbElkIGluIGludGVydmFscykge1xuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcbiAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gaW50ZXJ2YWw7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9jYWxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAkbG9jYWxlIHNlcnZpY2UgcHJvdmlkZXMgbG9jYWxpemF0aW9uIHJ1bGVzIGZvciB2YXJpb3VzIEFuZ3VsYXIgY29tcG9uZW50cy4gQXMgb2YgcmlnaHQgbm93IHRoZVxuICogb25seSBwdWJsaWMgYXBpIGlzOlxuICpcbiAqICogYGlkYCDigJMgYHtzdHJpbmd9YCDigJMgbG9jYWxlIGlkIGZvcm1hdHRlZCBhcyBgbGFuZ3VhZ2VJZC1jb3VudHJ5SWRgIChlLmcuIGBlbi11c2ApXG4gKi9cbmZ1bmN0aW9uICRMb2NhbGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnZW4tdXMnLFxuXG4gICAgICBOVU1CRVJfRk9STUFUUzoge1xuICAgICAgICBERUNJTUFMX1NFUDogJy4nLFxuICAgICAgICBHUk9VUF9TRVA6ICcsJyxcbiAgICAgICAgUEFUVEVSTlM6IFtcbiAgICAgICAgICB7IC8vIERlY2ltYWwgUGF0dGVyblxuICAgICAgICAgICAgbWluSW50OiAxLFxuICAgICAgICAgICAgbWluRnJhYzogMCxcbiAgICAgICAgICAgIG1heEZyYWM6IDMsXG4gICAgICAgICAgICBwb3NQcmU6ICcnLFxuICAgICAgICAgICAgcG9zU3VmOiAnJyxcbiAgICAgICAgICAgIG5lZ1ByZTogJy0nLFxuICAgICAgICAgICAgbmVnU3VmOiAnJyxcbiAgICAgICAgICAgIGdTaXplOiAzLFxuICAgICAgICAgICAgbGdTaXplOiAzXG4gICAgICAgICAgfSx7IC8vQ3VycmVuY3kgUGF0dGVyblxuICAgICAgICAgICAgbWluSW50OiAxLFxuICAgICAgICAgICAgbWluRnJhYzogMixcbiAgICAgICAgICAgIG1heEZyYWM6IDIsXG4gICAgICAgICAgICBwb3NQcmU6ICdcXHUwMEE0JyxcbiAgICAgICAgICAgIHBvc1N1ZjogJycsXG4gICAgICAgICAgICBuZWdQcmU6ICcoXFx1MDBBNCcsXG4gICAgICAgICAgICBuZWdTdWY6ICcpJyxcbiAgICAgICAgICAgIGdTaXplOiAzLFxuICAgICAgICAgICAgbGdTaXplOiAzXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBDVVJSRU5DWV9TWU06ICckJ1xuICAgICAgfSxcblxuICAgICAgREFURVRJTUVfRk9STUFUUzoge1xuICAgICAgICBNT05USDpcbiAgICAgICAgICAgICdKYW51YXJ5LEZlYnJ1YXJ5LE1hcmNoLEFwcmlsLE1heSxKdW5lLEp1bHksQXVndXN0LFNlcHRlbWJlcixPY3RvYmVyLE5vdmVtYmVyLERlY2VtYmVyJ1xuICAgICAgICAgICAgLnNwbGl0KCcsJyksXG4gICAgICAgIFNIT1JUTU9OVEg6ICAnSmFuLEZlYixNYXIsQXByLE1heSxKdW4sSnVsLEF1ZyxTZXAsT2N0LE5vdixEZWMnLnNwbGl0KCcsJyksXG4gICAgICAgIERBWTogJ1N1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Jy5zcGxpdCgnLCcpLFxuICAgICAgICBTSE9SVERBWTogJ1N1bixNb24sVHVlLFdlZCxUaHUsRnJpLFNhdCcuc3BsaXQoJywnKSxcbiAgICAgICAgQU1QTVM6IFsnQU0nLCdQTSddLFxuICAgICAgICBtZWRpdW06ICdNTU0gZCwgeSBoOm1tOnNzIGEnLFxuICAgICAgICAnc2hvcnQnOiAnTS9kL3l5IGg6bW0gYScsXG4gICAgICAgIGZ1bGxEYXRlOiAnRUVFRSwgTU1NTSBkLCB5JyxcbiAgICAgICAgbG9uZ0RhdGU6ICdNTU1NIGQsIHknLFxuICAgICAgICBtZWRpdW1EYXRlOiAnTU1NIGQsIHknLFxuICAgICAgICBzaG9ydERhdGU6ICdNL2QveXknLFxuICAgICAgICBtZWRpdW1UaW1lOiAnaDptbTpzcyBhJyxcbiAgICAgICAgc2hvcnRUaW1lOiAnaDptbSBhJ1xuICAgICAgfSxcblxuICAgICAgcGx1cmFsQ2F0OiBmdW5jdGlvbihudW0pIHtcbiAgICAgICAgaWYgKG51bSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiAnb25lJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ290aGVyJztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuXG52YXIgUEFUSF9NQVRDSCA9IC9eKFteXFw/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLFxuICAgIERFRkFVTFRfUE9SVFMgPSB7J2h0dHAnOiA4MCwgJ2h0dHBzJzogNDQzLCAnZnRwJzogMjF9O1xudmFyICRsb2NhdGlvbk1pbkVyciA9IG1pbkVycignJGxvY2F0aW9uJyk7XG5cblxuLyoqXG4gKiBFbmNvZGUgcGF0aCB1c2luZyBlbmNvZGVVcmlTZWdtZW50LCBpZ25vcmluZyBmb3J3YXJkIHNsYXNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIGVuY29kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XG4gIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSxcbiAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHNlZ21lbnRzW2ldID0gZW5jb2RlVXJpU2VnbWVudChzZWdtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gc2VnbWVudHMuam9pbignLycpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUFic29sdXRlVXJsKGFic29sdXRlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZShhYnNvbHV0ZVVybCk7XG5cbiAgbG9jYXRpb25PYmouJCRwcm90b2NvbCA9IHBhcnNlZFVybC5wcm90b2NvbDtcbiAgbG9jYXRpb25PYmouJCRob3N0ID0gcGFyc2VkVXJsLmhvc3RuYW1lO1xuICBsb2NhdGlvbk9iai4kJHBvcnQgPSBpbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsO1xufVxuXG5cbmZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcHJlZml4ZWQgPSAocmVsYXRpdmVVcmwuY2hhckF0KDApICE9PSAnLycpO1xuICBpZiAocHJlZml4ZWQpIHtcbiAgICByZWxhdGl2ZVVybCA9ICcvJyArIHJlbGF0aXZlVXJsO1xuICB9XG4gIHZhciBtYXRjaCA9IHVybFJlc29sdmUocmVsYXRpdmVVcmwpO1xuICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgP1xuICAgICAgbWF0Y2gucGF0aG5hbWUuc3Vic3RyaW5nKDEpIDogbWF0Y2gucGF0aG5hbWUpO1xuICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTtcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xuXG4gIC8vIG1ha2Ugc3VyZSBwYXRoIHN0YXJ0cyB3aXRoICcvJztcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9ICcvJykge1xuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcbiAgfVxufVxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiZWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHdob2xlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXR1cm5zIHRleHQgZnJvbSB3aG9sZSBhZnRlciBiZWdpbiBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgYmVnaW4gd2l0aFxuICogICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiZWdpbnNXaXRoKGJlZ2luLCB3aG9sZSkge1xuICBpZiAod2hvbGUuaW5kZXhPZihiZWdpbikgPT09IDApIHtcbiAgICByZXR1cm4gd2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7XG4gIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBpbmRleCA9PSAtMSA/IHVybCA6IHVybC5zdWJzdHIoMCwgaW5kZXgpO1xufVxuXG5mdW5jdGlvbiB0cmltRW1wdHlIYXNoKHVybCkge1xuICByZXR1cm4gdXJsLnJlcGxhY2UoLygjLispfCMkLywgJyQxJyk7XG59XG5cblxuZnVuY3Rpb24gc3RyaXBGaWxlKHVybCkge1xuICByZXR1cm4gdXJsLnN1YnN0cigwLCBzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG5cbi8qIHJldHVybiB0aGUgc2VydmVyIG9ubHkgKHNjaGVtZTovL2hvc3Q6cG9ydCkgKi9cbmZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKCcvJywgdXJsLmluZGV4T2YoJy8vJykgKyAyKSk7XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkh0bWw1VXJsIHJlcHJlc2VudHMgYW4gdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gSFRNTDUgbW9kZSBpcyBlbmFibGVkIGFuZCBzdXBwb3J0ZWRcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVByZWZpeCB1cmwgcGF0aCBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IdG1sNVVybChhcHBCYXNlLCBiYXNlUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xuICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBodG1sNSAocmVndWxhcikgdXJsIHN0cmluZyBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIVE1MNSB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciBwYXRoVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIGlmICghaXNTdHJpbmcocGF0aFVybCkpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXB0aHByZngnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIiwgbWlzc2luZyBwYXRoIHByZWZpeCBcInsxfVwiLicsIHVybCxcbiAgICAgICAgICBhcHBCYXNlTm9GaWxlKTtcbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybChwYXRoVXJsLCB0aGlzKTtcblxuICAgIGlmICghdGhpcy4kJHBhdGgpIHtcbiAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xuICAgIH1cblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZU5vRmlsZSArIHRoaXMuJCR1cmwuc3Vic3RyKDEpOyAvLyBmaXJzdCBjaGFyIGlzIGFsd2F5cyAnLydcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGFwcFVybCwgcHJldkFwcFVybDtcbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuXG4gICAgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2UsIHVybCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHByZXZBcHBVcmwgPSBhcHBVcmw7XG4gICAgICBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYmFzZVByZWZpeCwgYXBwVXJsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgKGJlZ2luc1dpdGgoJy8nLCBhcHBVcmwpIHx8IGFwcFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgcHJldkFwcFVybDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyBhcHBVcmw7XG4gICAgfSBlbHNlIGlmIChhcHBCYXNlTm9GaWxlID09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBkZXZlbG9wZXIgZG9lc24ndCBvcHQgaW50byBodG1sNSBtb2RlLlxuICogSXQgYWxzbyBzZXJ2ZXMgYXMgdGhlIGJhc2UgY2xhc3MgZm9yIGh0bWw1IG1vZGUgZmFsbGJhY2sgb24gbGVnYWN5IGJyb3dzZXJzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nVXJsKGFwcEJhc2UsIGhhc2hQcmVmaXgpIHtcbiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyB1cmwgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSGFzaGJhbmcgdXJsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgd2l0aG91dEJhc2VVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2UsIHVybCkgfHwgYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIHZhciB3aXRob3V0SGFzaFVybDtcblxuICAgIGlmICh3aXRob3V0QmFzZVVybC5jaGFyQXQoMCkgPT09ICcjJykge1xuXG4gICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgdXJsIHN0YXJ0cyB3aXRoIGEgaGFzaCBzbyB3ZSBoYXZlXG4gICAgICAvLyBnb3QgZWl0aGVyIGEgaGFzaGJhbmcgcGF0aCBvciBhIHBsYWluIGhhc2ggZnJhZ21lbnRcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gYmVnaW5zV2l0aChoYXNoUHJlZml4LCB3aXRob3V0QmFzZVVybCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEhhc2hVcmwpKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwYXRoIG5vciBoYXNoIGZyYWdtZW50OlxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBpZ25vcmUgd2hhdCBpcyBsZWZ0XG4gICAgICB3aXRob3V0SGFzaFVybCA9IHRoaXMuJCRodG1sNSA/IHdpdGhvdXRCYXNlVXJsIDogJyc7XG4gICAgfVxuXG4gICAgcGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsIHRoaXMpO1xuXG4gICAgdGhpcy4kJHBhdGggPSByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHRoaXMuJCRwYXRoLCB3aXRob3V0SGFzaFVybCwgYXBwQmFzZSk7XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgLypcbiAgICAgKiBJbiBXaW5kb3dzLCBvbiBhbiBhbmNob3Igbm9kZSBvbiBkb2N1bWVudHMgbG9hZGVkIGZyb21cbiAgICAgKiB0aGUgZmlsZXN5c3RlbSwgdGhlIGJyb3dzZXIgd2lsbCByZXR1cm4gYSBwYXRobmFtZVxuICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYVxuICAgICAqIHBhdGhuYW1lIHdpdGhvdXQgYSBkcml2ZSBpcyBzZXQ6XG4gICAgICogICogYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnL2ZvbycpXG4gICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWVcbiAgICAgKlxuICAgICAqIEluc2lkZSBvZiBBbmd1bGFyLCB3ZSdyZSBhbHdheXMgdXNpbmcgcGF0aG5hbWVzIHRoYXRcbiAgICAgKiBkbyBub3QgaW5jbHVkZSBkcml2ZSBuYW1lcyBmb3Igcm91dGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHBhdGgsIHVybCwgYmFzZSkge1xuICAgICAgLypcbiAgICAgIE1hdGNoZXMgcGF0aHMgZm9yIGZpbGUgcHJvdG9jb2wgb24gd2luZG93cyxcbiAgICAgIHN1Y2ggYXMgL0M6L2Zvby9iYXIsIGFuZCBjYXB0dXJlcyBvbmx5IC9mb28vYmFyLlxuICAgICAgKi9cbiAgICAgIHZhciB3aW5kb3dzRmlsZVBhdGhFeHAgPSAvXlxcL1tBLVpdOihcXC8uKikvO1xuXG4gICAgICB2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoO1xuXG4gICAgICAvL0dldCB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBpbnB1dCBVUkwuXG4gICAgICBpZiAodXJsLmluZGV4T2YoYmFzZSkgPT09IDApIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cbiAgICAgIGlmICh3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPSB3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKTtcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ29tcG9zZSBoYXNoYmFuZyB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcblxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgKHRoaXMuJCR1cmwgPyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybCA6ICcnKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PSBzdHJpcEhhc2godXJsKSkge1xuICAgICAgdGhpcy4kJHBhcnNlKHVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGh0bWw1IGhpc3RvcnkgYXBpIGlzIGVuYWJsZWQgYnV0IHRoZSBicm93c2VyXG4gKiBkb2VzIG5vdCBzdXBwb3J0IGl0LlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBoYXNoUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuICAgIHZhciBhcHBVcmw7XG5cbiAgICBpZiAoYXBwQmFzZSA9PSBzdHJpcEhhc2godXJsKSkge1xuICAgICAgcmV3cml0dGVuVXJsID0gdXJsO1xuICAgIH0gZWxzZSBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xuXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICAvLyBpbmNsdWRlIGhhc2hQcmVmaXggaW4gJCRhYnNVcmwgd2hlbiAkJHVybCBpcyBlbXB0eSBzbyBJRTggJiA5IGRvIG5vdCByZWxvYWQgcGFnZSBiZWNhdXNlIG9mIHJlbW92YWwgb2YgJyMnXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybDtcbiAgfTtcblxufVxuXG5cbnZhciBsb2NhdGlvblByb3RvdHlwZSA9IHtcblxuICAvKipcbiAgICogQXJlIHdlIGluIGh0bWw1IG1vZGU/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJGh0bWw1OiBmYWxzZSxcblxuICAvKipcbiAgICogSGFzIGFueSBjaGFuZ2UgYmVlbiByZXBsYWNpbmc/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJHJlcGxhY2U6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNhYnNVcmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gZnVsbCB1cmwgcmVwcmVzZW50YXRpb24gd2l0aCBhbGwgc2VnbWVudHMgZW5jb2RlZCBhY2NvcmRpbmcgdG8gcnVsZXMgc3BlY2lmaWVkIGluXG4gICAqIFtSRkMgMzk4Nl0oaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQpLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGFic1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICogLy8gPT4gXCJodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGZ1bGwgdXJsXG4gICAqL1xuICBhYnNVcmw6IGxvY2F0aW9uR2V0dGVyKCckJGFic1VybCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHVybCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKSB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2gsIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgdXJsID0gJGxvY2F0aW9uLnVybCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHVybCBOZXcgdXJsIHdpdGhvdXQgYmFzZSBwcmVmaXggKGUuZy4gYC9wYXRoP2E9YiNoYXNoYClcbiAgICogQHJldHVybiB7c3RyaW5nfSB1cmxcbiAgICovXG4gIHVybDogZnVuY3Rpb24odXJsKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHVybCkpXG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcblxuICAgIHZhciBtYXRjaCA9IFBBVEhfTUFUQ0guZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSk7XG4gICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdIHx8IHVybCA9PT0gJycpIHRoaXMuc2VhcmNoKG1hdGNoWzNdIHx8ICcnKTtcbiAgICB0aGlzLmhhc2gobWF0Y2hbNV0gfHwgJycpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3Byb3RvY29sXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHByb3RvY29sIG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHByb3RvY29sID0gJGxvY2F0aW9uLnByb3RvY29sKCk7XG4gICAqIC8vID0+IFwiaHR0cFwiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByb3RvY29sIG9mIGN1cnJlbnQgdXJsXG4gICAqL1xuICBwcm90b2NvbDogbG9jYXRpb25HZXR0ZXIoJyQkcHJvdG9jb2wnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jaG9zdFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBob3N0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICovXG4gIGhvc3Q6IGxvY2F0aW9uR2V0dGVyKCckJGhvc3QnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcG9ydFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwb3J0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xuICAgKiAvLyA9PiA4MFxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBwb3J0XG4gICAqL1xuICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3BhdGhcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKiBOb3RlOiBQYXRoIHNob3VsZCBhbHdheXMgYmVnaW4gd2l0aCBmb3J3YXJkIHNsYXNoICgvKSwgdGhpcyBtZXRob2Qgd2lsbCBhZGQgdGhlIGZvcndhcmQgc2xhc2hcbiAgICogaWYgaXQgaXMgbWlzc2luZy5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwYXRoID0gJGxvY2F0aW9uLnBhdGgoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gcGF0aCBOZXcgcGF0aFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHBhdGhcbiAgICovXG4gIHBhdGg6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJHBhdGgnLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgcGF0aCA9IHBhdGggIT09IG51bGwgPyBwYXRoLnRvU3RyaW5nKCkgOiAnJztcbiAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgdXJsIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XG4gICAqXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvI2hhc2hWYWx1ZVxuICAgKiB2YXIgaGFzaCA9ICRsb2NhdGlvbi5oYXNoKCk7XG4gICAqIC8vID0+IFwiaGFzaFZhbHVlXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gaGFzaCBOZXcgaGFzaCBmcmFnbWVudFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhhc2hcbiAgICovXG4gIGhhc2g6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJGhhc2gnLCBmdW5jdGlvbihoYXNoKSB7XG4gICAgcmV0dXJuIGhhc2ggIT09IG51bGwgPyBoYXNoLnRvU3RyaW5nKCkgOiAnJztcbiAgfSksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3JlcGxhY2VcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIGNhbGxlZCwgYWxsIGNoYW5nZXMgdG8gJGxvY2F0aW9uIGR1cmluZyBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIGJlIHJlcGxhY2luZyBjdXJyZW50IGhpc3RvcnlcbiAgICogcmVjb3JkLCBpbnN0ZWFkIG9mIGFkZGluZyBuZXcgb25lLlxuICAgKi9cbiAgcmVwbGFjZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJHJlcGxhY2UgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5mb3JFYWNoKFtMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCwgTG9jYXRpb25IYXNoYmFuZ1VybCwgTG9jYXRpb25IdG1sNVVybF0sIGZ1bmN0aW9uKExvY2F0aW9uKSB7XG4gIExvY2F0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzdGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRoIG9uZSBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICogVGhlIHN0YXRlIG9iamVjdCBpcyBsYXRlciBwYXNzZWQgdG8gYHB1c2hTdGF0ZWAgb3IgYHJlcGxhY2VTdGF0ZWAuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIHN1cHBvcnRlZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZ1xuICAgKiB0aGUgSFRNTDUgSGlzdG9yeSBBUEkgKGkuZS4gbWV0aG9kcyBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWApLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0XG4gICAqIG9sZGVyIGJyb3dzZXJzIChsaWtlIElFOSBvciBBbmRyb2lkIDwgNC4wKSwgZG9uJ3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIFN0YXRlIG9iamVjdCBmb3IgcHVzaFN0YXRlIG9yIHJlcGxhY2VTdGF0ZVxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHN0YXRlXG4gICAqL1xuICBMb2NhdGlvbi5wcm90b3R5cGUuc3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG5cbiAgICBpZiAoTG9jYXRpb24gIT09IExvY2F0aW9uSHRtbDVVcmwgfHwgIXRoaXMuJCRodG1sNSkge1xuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub3N0YXRlJywgJ0hpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgJyArXG4gICAgICAgICdpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEknKTtcbiAgICB9XG4gICAgLy8gVGhlIHVzZXIgbWlnaHQgbW9kaWZ5IGBzdGF0ZU9iamVjdGAgYWZ0ZXIgaW52b2tpbmcgYCRsb2NhdGlvbi5zdGF0ZShzdGF0ZU9iamVjdClgXG4gICAgLy8gYnV0IHdlJ3JlIGNoYW5naW5nIHRoZSAkJHN0YXRlIHJlZmVyZW5jZSB0byAkYnJvd3Nlci5zdGF0ZSgpIGR1cmluZyB0aGUgJGRpZ2VzdFxuICAgIC8vIHNvIHRoZSBtb2RpZmljYXRpb24gd2luZG93IGlzIG5hcnJvdy5cbiAgICB0aGlzLiQkc3RhdGUgPSBpc1VuZGVmaW5lZChzdGF0ZSkgPyBudWxsIDogc3RhdGU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gIH07XG59XG5cblxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXJTZXR0ZXIocHJvcGVydHksIHByZXByb2Nlc3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcblxuICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2NhdGlvblxuICpcbiAqIEByZXF1aXJlcyAkcm9vdEVsZW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSAkbG9jYXRpb24gc2VydmljZSBwYXJzZXMgdGhlIFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciAoYmFzZWQgb24gdGhlXG4gKiBbd2luZG93LmxvY2F0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi93aW5kb3cubG9jYXRpb24pKSBhbmQgbWFrZXMgdGhlIFVSTFxuICogYXZhaWxhYmxlIHRvIHlvdXIgYXBwbGljYXRpb24uIENoYW5nZXMgdG8gdGhlIFVSTCBpbiB0aGUgYWRkcmVzcyBiYXIgYXJlIHJlZmxlY3RlZCBpbnRvXG4gKiAkbG9jYXRpb24gc2VydmljZSBhbmQgY2hhbmdlcyB0byAkbG9jYXRpb24gYXJlIHJlZmxlY3RlZCBpbnRvIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLlxuICpcbiAqICoqVGhlICRsb2NhdGlvbiBzZXJ2aWNlOioqXG4gKlxuICogLSBFeHBvc2VzIHRoZSBjdXJyZW50IFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciwgc28geW91IGNhblxuICogICAtIFdhdGNoIGFuZCBvYnNlcnZlIHRoZSBVUkwuXG4gKiAgIC0gQ2hhbmdlIHRoZSBVUkwuXG4gKiAtIFN5bmNocm9uaXplcyB0aGUgVVJMIHdpdGggdGhlIGJyb3dzZXIgd2hlbiB0aGUgdXNlclxuICogICAtIENoYW5nZXMgdGhlIGFkZHJlc3MgYmFyLlxuICogICAtIENsaWNrcyB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiAob3IgY2xpY2tzIGEgSGlzdG9yeSBsaW5rKS5cbiAqICAgLSBDbGlja3Mgb24gYSBsaW5rLlxuICogLSBSZXByZXNlbnRzIHRoZSBVUkwgb2JqZWN0IGFzIGEgc2V0IG9mIG1ldGhvZHMgKHByb3RvY29sLCBob3N0LCBwb3J0LCBwYXRoLCBzZWFyY2gsIGhhc2gpLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uIERldmVsb3BlciBHdWlkZTogVXNpbmcgJGxvY2F0aW9ufVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuXG4gKi9cbmZ1bmN0aW9uICRMb2NhdGlvblByb3ZpZGVyKCkge1xuICB2YXIgaGFzaFByZWZpeCA9ICcnLFxuICAgICAgaHRtbDVNb2RlID0ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IHRydWUsXG4gICAgICAgIHJld3JpdGVMaW5rczogdHJ1ZVxuICAgICAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNoYXNoUHJlZml4XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxuICAgKiAgIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCxcbiAgICogICAgIGVuYWJsZXMvZGlzYWJsZXMgdXJsIHJld3JpdGluZyBmb3IgcmVsYXRpdmUgbGlua3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGh0bWw1TW9kZSBvYmplY3QgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkge1xuICAgIGlmIChpc0Jvb2xlYW4obW9kZSkpIHtcbiAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobW9kZSkpIHtcblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLmVuYWJsZWQpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5lbmFibGVkID0gbW9kZS5lbmFibGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXF1aXJlQmFzZSA9IG1vZGUucmVxdWlyZUJhc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXdyaXRlTGlua3MpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBodG1sNU1vZGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0XG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS5cbiAgICpcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gZm9yIG1vcmVcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgIFwiJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhXCIpO1xuICAgICAgfVxuICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTtcbiAgICAgIExvY2F0aW9uTW9kZSA9ICRzbmlmZmVyLmhpc3RvcnkgPyBMb2NhdGlvbkh0bWw1VXJsIDogTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSBMb2NhdGlvbkhhc2hiYW5nVXJsO1xuICAgIH1cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcilcbiAgICAgIC8vIGN1cnJlbnRseSB3ZSBvcGVuIG5pY2UgdXJsIGxpbmsgYW5kIHJlZGlyZWN0IHRoZW5cblxuICAgICAgaWYgKCFodG1sNU1vZGUucmV3cml0ZUxpbmtzIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC53aGljaCA9PSAyIHx8IGV2ZW50LmJ1dHRvbiA9PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT0gJGJyb3dzZXIudXJsKCkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAvLyBoYWNrIHRvIHdvcmsgYXJvdW5kIEZGNiBidWcgNjg0MjA4IHdoZW4gc2NlbmFyaW8gcnVubmVyIGNsaWNrcyBvbiBsaW5rc1xuICAgICAgICAgICAgJHdpbmRvdy5hbmd1bGFyWydmZi02ODQyMDgtcHJldmVudERlZmF1bHQnXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxuICAgIGlmICh0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSkgIT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xuICAgICAgJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICAvLyB1cGRhdGUgJGxvY2F0aW9uIHdoZW4gJGJyb3dzZXIgdXJsIGNoYW5nZXNcbiAgICAkYnJvd3Nlci5vblVybENoYW5nZShmdW5jdGlvbihuZXdVcmwsIG5ld1N0YXRlKSB7XG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpO1xuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xuXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICBuZXdTdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxuICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sob2xkVXJsLCBmYWxzZSwgb2xkU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIGJyb3dzZXJcbiAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAkbG9jYXRpb25XYXRjaCgpIHtcbiAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcbiAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8XG4gICAgICAgICgkbG9jYXRpb24uJCRodG1sNSAmJiAkc25pZmZlci5oaXN0b3J5ICYmIG9sZFN0YXRlICE9PSAkbG9jYXRpb24uJCRzdGF0ZSk7XG5cbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1cmxPclN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG5ld1VybCwgY3VycmVudFJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXG4gICAgICAvLyB0aGVyZSBpcyBhIGNoYW5nZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICRsb2NhdGlvbjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XG4gICAgfVxufV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2dcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaW1wbGUgc2VydmljZSBmb3IgbG9nZ2luZy4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzYWZlbHkgd3JpdGVzIHRoZSBtZXNzYWdlXG4gKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXG4gKlxuICogVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gc2ltcGxpZnkgZGVidWdnaW5nIGFuZCB0cm91Ymxlc2hvb3RpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cbiAgICAgICAgIE1lc3NhZ2U6XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIi8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5sb2cobWVzc2FnZSlcIj5sb2c8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZXJyb3IobWVzc2FnZSlcIj5lcnJvcjwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2dQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcbiAqL1xuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xuICB2YXIgZGVidWcgPSB0cnVlLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBlbmFibGUgb3IgZGlzYWJsZSBkZWJ1ZyBsZXZlbCBtZXNzYWdlc1xuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5kZWJ1Z0VuYWJsZWQgPSBmdW5jdGlvbihmbGFnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xuICAgICAgZGVidWcgPSBmbGFnO1xuICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxuICAgICAgICovXG4gICAgICBpbmZvOiBjb25zb2xlTG9nKCdpbmZvJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICB3YXJuOiBjb25zb2xlTG9nKCd3YXJuJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZGVidWc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGFyZy5zdGFjaykge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcbiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlO1xuXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxuICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlIFwib2JqZWN0XCIgaW4gSUU4Li4uXG4gICAgICB0cnkge1xuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAoaGFzQXBwbHkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIElFIHdoaWNoIGVpdGhlciBkb2Vzbid0IGhhdmUgd2luZG93LmNvbnNvbGUgPT4gdGhpcyBpcyBub29wIGFuZCB3ZSBkbyBub3RoaW5nLFxuICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgICAgICBsb2dGbihhcmcxLCBhcmcyID09IG51bGwgPyAnJyA6IGFyZzIpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcblxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFuZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGdlbmVyYWxseSBjb25zaWRlcmVkIHNhZmUgYmVjYXVzZSB0aGVzZSBleHByZXNzaW9ucyBvbmx5IGhhdmUgZGlyZWN0XG4vLyBhY2Nlc3MgdG8gYCRzY29wZWAgYW5kIGxvY2Fscy4gSG93ZXZlciwgb25lIGNhbiBvYnRhaW4gdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgSlMgY29kZSBieVxuLy8gb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgc3VjaCBhcyB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXG4vL1xuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XG4vL1xuLy8gICB7fS50b1N0cmluZy5jb25zdHJ1Y3RvcignYWxlcnQoXCJldmlsIEpTIGNvZGVcIiknKVxuLy9cbi8vIFRoaXMgc2FuZGJveGluZyB0ZWNobmlxdWUgaXMgbm90IHBlcmZlY3QgYW5kIGRvZXNuJ3QgYWltIHRvIGJlLiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGV4cGxvaXRzXG4vLyBhZ2FpbnN0IHRoZSBleHByZXNzaW9uIGxhbmd1YWdlLCBidXQgbm90IHRvIHByZXZlbnQgZXhwbG9pdHMgdGhhdCB3ZXJlIGVuYWJsZWQgYnkgZXhwb3Npbmdcbi8vIHNlbnNpdGl2ZSBKYXZhU2NyaXB0IG9yIGJyb3dzZXIgQVBJcyBvbiBTY29wZS4gRXhwb3Npbmcgc3VjaCBvYmplY3RzIG9uIGEgU2NvcGUgaXMgbmV2ZXIgYSBnb29kXG4vLyBwcmFjdGljZSBhbmQgdGhlcmVmb3JlIHdlIGFyZSBub3QgZXZlbiB0cnlpbmcgdG8gcHJvdGVjdCBhZ2FpbnN0IGludGVyYWN0aW9uIHdpdGggYW4gb2JqZWN0XG4vLyBleHBsaWNpdGx5IGV4cG9zZWQgaW4gdGhpcyB3YXkuXG4vL1xuLy8gSW4gZ2VuZXJhbCwgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGFjY2VzcyBhIFdpbmRvdyBvYmplY3QgZnJvbSBhbiBhbmd1bGFyIGV4cHJlc3Npb24gdW5sZXNzIGFcbi8vIHdpbmRvdyBvciBzb21lIERPTSBvYmplY3QgdGhhdCBoYXMgYSByZWZlcmVuY2UgdG8gd2luZG93IGlzIHB1Ymxpc2hlZCBvbnRvIGEgU2NvcGUuXG4vLyBTaW1pbGFybHkgd2UgcHJldmVudCBpbnZvY2F0aW9ucyBvZiBmdW5jdGlvbiBrbm93biB0byBiZSBkYW5nZXJvdXMsIGFzIHdlbGwgYXMgYXNzaWdubWVudHMgdG9cbi8vIG5hdGl2ZSBvYmplY3RzLlxuLy9cbi8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxuXG5cbmZ1bmN0aW9uIGVuc3VyZVNhZmVNZW1iZXJOYW1lKG5hbWUsIGZ1bGxFeHByZXNzaW9uKSB7XG4gIGlmIChuYW1lID09PSBcIl9fZGVmaW5lR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fZGVmaW5lU2V0dGVyX19cIlxuICAgICAgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cEdldHRlcl9fXCIgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cFNldHRlcl9fXCJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19wcm90b19fXCIpIHtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbGQnLFxuICAgICAgICAnQXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBkaXNhbGxvd2VkIGZpZWxkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMhICdcbiAgICAgICAgKyAnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzXG4gIGlmIChvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iailcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxuICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxuICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xuICAgICAgICBvYmogPT09IE9iamVjdCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IG9iaiA9PT0gQklORCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxuLy9LZXl3b3JkIGNvbnN0YW50c1xudmFyIENPTlNUQU5UUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCh7XG4gICdudWxsJzogZnVuY3Rpb24oKSB7IHJldHVybiBudWxsOyB9LFxuICAndHJ1ZSc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgJ2ZhbHNlJzogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgJ3VuZGVmaW5lZCc6IGZ1bmN0aW9uKCkge31cbn0sIGZ1bmN0aW9uKGNvbnN0YW50R2V0dGVyLCBuYW1lKSB7XG4gIGNvbnN0YW50R2V0dGVyLmNvbnN0YW50ID0gY29uc3RhbnRHZXR0ZXIubGl0ZXJhbCA9IGNvbnN0YW50R2V0dGVyLnNoYXJlZEdldHRlciA9IHRydWU7XG4gIENPTlNUQU5UU1tuYW1lXSA9IGNvbnN0YW50R2V0dGVyO1xufSk7XG5cbi8vTm90IHF1aXRlIGEgY29uc3RhbnQsIGJ1dCBjYW4gYmUgbGV4L3BhcnNlZCB0aGUgc2FtZVxuQ09OU1RBTlRTWyd0aGlzJ10gPSBmdW5jdGlvbihzZWxmKSB7IHJldHVybiBzZWxmOyB9O1xuQ09OU1RBTlRTWyd0aGlzJ10uc2hhcmVkR2V0dGVyID0gdHJ1ZTtcblxuXG4vL09wZXJhdG9ycyAtIHdpbGwgYmUgd3JhcHBlZCBieSBiaW5hcnlGbi91bmFyeUZuL2Fzc2lnbm1lbnQvZmlsdGVyXG52YXIgT1BFUkFUT1JTID0gZXh0ZW5kKGNyZWF0ZU1hcCgpLCB7XG4gICAgJysnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge1xuICAgICAgYT1hKHNlbGYsIGxvY2Fscyk7IGI9YihzZWxmLCBsb2NhbHMpO1xuICAgICAgaWYgKGlzRGVmaW5lZChhKSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGIpKSB7XG4gICAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzRGVmaW5lZChiKSA/IGIgOiB1bmRlZmluZWQ7fSxcbiAgICAnLSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7XG4gICAgICAgICAgYT1hKHNlbGYsIGxvY2Fscyk7IGI9YihzZWxmLCBsb2NhbHMpO1xuICAgICAgICAgIHJldHVybiAoaXNEZWZpbmVkKGEpID8gYSA6IDApIC0gKGlzRGVmaW5lZChiKSA/IGIgOiAwKTtcbiAgICAgICAgfSxcbiAgICAnKic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSAqIGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICcvJzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpIC8gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyUnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgJSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPT09JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpID09PSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnIT09JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpICE9PSBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPT0gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyE9JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpICE9IGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICc8JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpIDwgYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz4nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPiBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPD0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgPD0gYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz49JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpID49IGIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICcmJic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSAmJiBiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnfHwnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykgfHwgYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyEnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSkge3JldHVybiAhYShzZWxmLCBsb2NhbHMpO30sXG5cbiAgICAvL1Rva2VuaXplZCBhcyBvcGVyYXRvcnMgYnV0IHBhcnNlZCBhcyBhc3NpZ25tZW50L2ZpbHRlcnNcbiAgICAnPSc6dHJ1ZSxcbiAgICAnfCc6dHJ1ZVxufSk7XG52YXIgRVNDQVBFID0ge1wiblwiOlwiXFxuXCIsIFwiZlwiOlwiXFxmXCIsIFwiclwiOlwiXFxyXCIsIFwidFwiOlwiXFx0XCIsIFwidlwiOlwiXFx2XCIsIFwiJ1wiOlwiJ1wiLCAnXCInOidcIid9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIExleGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuTGV4ZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTGV4ZXIsXG5cbiAgbGV4OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgaWYgKGNoID09PSAnXCInIHx8IGNoID09PSBcIidcIikge1xuICAgICAgICB0aGlzLnJlYWRTdHJpbmcoY2gpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKGNoKSB8fCBjaCA9PT0gJy4nICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgIHRoaXMucmVhZE51bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnQoY2gpKSB7XG4gICAgICAgIHRoaXMucmVhZElkZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaH0pO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcbiAgICAgICAgdmFyIGNoMyA9IGNoMiArIHRoaXMucGVlaygyKTtcbiAgICAgICAgdmFyIG9wMSA9IE9QRVJBVE9SU1tjaF07XG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcbiAgICAgICAgdmFyIG9wMyA9IE9QRVJBVE9SU1tjaDNdO1xuICAgICAgICBpZiAob3AxIHx8IG9wMiB8fCBvcDMpIHtcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiB0b2tlbiwgb3BlcmF0b3I6IHRydWV9KTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgJywgdGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfSxcblxuICBpczogZnVuY3Rpb24oY2gsIGNoYXJzKSB7XG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihpKSB7XG4gICAgdmFyIG51bSA9IGkgfHwgMTtcbiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTtcbiAgfSxcblxuICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gXCJzdHJpbmdcIjtcbiAgfSxcblxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XG4gIH0sXG5cbiAgaXNJZGVudDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XG4gIH0sXG5cbiAgaXNFeHBPcGVyYXRvcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHtcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcbiAgICB2YXIgY29sU3RyID0gKGlzRGVmaW5lZChzdGFydClcbiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJ1xuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xuICAgIHRocm93ICRwYXJzZU1pbkVycignbGV4ZXJyJywgJ0xleGVyIEVycm9yOiB7MH0gYXQgY29sdW1uezF9IGluIGV4cHJlc3Npb24gW3syfV0uJyxcbiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTtcbiAgfSxcblxuICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcbiAgICAgIGlmIChjaCA9PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcbiAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xuICAgICAgICAgIG51bWJlciArPSBjaDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiBudW1iZXIsXG4gICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIobnVtYmVyKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRJZGVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoISh0aGlzLmlzSWRlbnQoY2gpIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQuc2xpY2Uoc3RhcnQsIHRoaXMuaW5kZXgpLFxuICAgICAgaWRlbnRpZmllcjogdHJ1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRTdHJpbmc6IGZ1bmN0aW9uKHF1b3RlKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB0aGlzLmluZGV4Kys7XG4gICAgdmFyIHN0cmluZyA9ICcnO1xuICAgIHZhciByYXdTdHJpbmcgPSBxdW90ZTtcbiAgICB2YXIgZXNjYXBlID0gZmFsc2U7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgcmF3U3RyaW5nICs9IGNoO1xuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBpZiAoY2ggPT09ICd1Jykge1xuICAgICAgICAgIHZhciBoZXggPSB0aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCB0aGlzLmluZGV4ICsgNSk7XG4gICAgICAgICAgaWYgKCFoZXgubWF0Y2goL1tcXGRhLWZdezR9L2kpKVxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcbiAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlcCA9IEVTQ0FQRVtjaF07XG4gICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgKHJlcCB8fCBjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHF1b3RlKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgICAgIHRleHQ6IHJhd1N0cmluZyxcbiAgICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogc3RyaW5nXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFcnJvcignVW50ZXJtaW5hdGVkIHF1b3RlJywgc3RhcnQpO1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGlzQ29uc3RhbnQoZXhwKSB7XG4gIHJldHVybiBleHAuY29uc3RhbnQ7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBQYXJzZXIgPSBmdW5jdGlvbihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xuICB0aGlzLmxleGVyID0gbGV4ZXI7XG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5QYXJzZXIuWkVSTyA9IGV4dGVuZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDA7XG59LCB7XG4gIHNoYXJlZEdldHRlcjogdHJ1ZSxcbiAgY29uc3RhbnQ6IHRydWVcbn0pO1xuXG5QYXJzZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxuXG4gIHBhcnNlOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZW1lbnRzKCk7XG5cbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7XG4gICAgfVxuXG4gICAgdmFsdWUubGl0ZXJhbCA9ICEhdmFsdWUubGl0ZXJhbDtcbiAgICB2YWx1ZS5jb25zdGFudCA9ICEhdmFsdWUuY29uc3RhbnQ7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllciAmJiB0aGlzLnBlZWsoKS50ZXh0IGluIENPTlNUQU5UUykge1xuICAgICAgcHJpbWFyeSA9IENPTlNUQU5UU1t0aGlzLmNvbnN1bWUoKS50ZXh0XTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICBwcmltYXJ5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ25vdCBhIHByaW1hcnkgZXhwcmVzc2lvbicsIHRoaXMucGVlaygpKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dCwgY29udGV4dDtcbiAgICB3aGlsZSAoKG5leHQgPSB0aGlzLmV4cGVjdCgnKCcsICdbJywgJy4nKSkpIHtcbiAgICAgIGlmIChuZXh0LnRleHQgPT09ICcoJykge1xuICAgICAgICBwcmltYXJ5ID0gdGhpcy5mdW5jdGlvbkNhbGwocHJpbWFyeSwgY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xuICAgICAgICBjb250ZXh0ID0gcHJpbWFyeTtcbiAgICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSk7XG4gICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJy4nKSB7XG4gICAgICAgIGNvbnRleHQgPSBwcmltYXJ5O1xuICAgICAgICBwcmltYXJ5ID0gdGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJpbWFyeTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihtc2csIHRva2VuKSB7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdzeW50YXgnLFxuICAgICAgICAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJyxcbiAgICAgICAgICB0b2tlbi50ZXh0LCBtc2csICh0b2tlbi5pbmRleCArIDEpLCB0aGlzLnRleHQsIHRoaXMudGV4dC5zdWJzdHJpbmcodG9rZW4uaW5kZXgpKTtcbiAgfSxcblxuICBwZWVrVG9rZW46IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICByZXR1cm4gdGhpcy50b2tlbnNbMF07XG4gIH0sXG5cbiAgcGVlazogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpIHtcbiAgICByZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCwgZTEsIGUyLCBlMywgZTQpO1xuICB9LFxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xuICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8XG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgY29uc3VtZTogZnVuY3Rpb24oZTEpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG5cbiAgdW5hcnlGbjogZnVuY3Rpb24ob3AsIHJpZ2h0KSB7XG4gICAgdmFyIGZuID0gT1BFUkFUT1JTW29wXTtcbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZVVuYXJ5Rm4oc2VsZiwgbG9jYWxzKSB7XG4gICAgICByZXR1cm4gZm4oc2VsZiwgbG9jYWxzLCByaWdodCk7XG4gICAgfSwge1xuICAgICAgY29uc3RhbnQ6cmlnaHQuY29uc3RhbnQsXG4gICAgICBpbnB1dHM6IFtyaWdodF1cbiAgICB9KTtcbiAgfSxcblxuICBiaW5hcnlGbjogZnVuY3Rpb24obGVmdCwgb3AsIHJpZ2h0LCBpc0JyYW5jaGluZykge1xuICAgIHZhciBmbiA9IE9QRVJBVE9SU1tvcF07XG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkcGFyc2VCaW5hcnlGbihzZWxmLCBsb2NhbHMpIHtcbiAgICAgIHJldHVybiBmbihzZWxmLCBsb2NhbHMsIGxlZnQsIHJpZ2h0KTtcbiAgICB9LCB7XG4gICAgICBjb25zdGFudDogbGVmdC5jb25zdGFudCAmJiByaWdodC5jb25zdGFudCxcbiAgICAgIGlucHV0czogIWlzQnJhbmNoaW5nICYmIFtsZWZ0LCByaWdodF1cbiAgICB9KTtcbiAgfSxcblxuICBpZGVudGlmaWVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSB0aGlzLmNvbnN1bWUoKS50ZXh0O1xuXG4gICAgLy9Db250aW51ZSByZWFkaW5nIGVhY2ggYC5pZGVudGlmaWVyYCB1bmxlc3MgaXQgaXMgYSBtZXRob2QgaW52b2NhdGlvblxuICAgIHdoaWxlICh0aGlzLnBlZWsoJy4nKSAmJiB0aGlzLnBlZWtBaGVhZCgxKS5pZGVudGlmaWVyICYmICF0aGlzLnBlZWtBaGVhZCgyLCAnKCcpKSB7XG4gICAgICBpZCArPSB0aGlzLmNvbnN1bWUoKS50ZXh0ICsgdGhpcy5jb25zdW1lKCkudGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGVyRm4oaWQsIHRoaXMub3B0aW9ucywgdGhpcy50ZXh0KTtcbiAgfSxcblxuICBjb25zdGFudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lKCkudmFsdWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZUNvbnN0YW50KCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sIHtcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgbGl0ZXJhbDogdHJ1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHN0YXRlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZW1lbnRzID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwICYmICF0aGlzLnBlZWsoJ30nLCAnKScsICc7JywgJ10nKSlcbiAgICAgICAgc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7XG4gICAgICBpZiAoIXRoaXMuZXhwZWN0KCc7JykpIHtcbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSB0aGVyZSBpcyBvbmx5IG9uZSBzdGF0ZW1lbnQuXG4gICAgICAgIC8vIFRPRE8oc2l6ZSk6IG1heWJlIHdlIHNob3VsZCBub3Qgc3VwcG9ydCBtdWx0aXBsZSBzdGF0ZW1lbnRzP1xuICAgICAgICByZXR1cm4gKHN0YXRlbWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgPyBzdGF0ZW1lbnRzWzBdXG4gICAgICAgICAgICA6IGZ1bmN0aW9uICRwYXJzZVN0YXRlbWVudHMoc2VsZiwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHN0YXRlbWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBzdGF0ZW1lbnRzW2ldKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfCcpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uKGlucHV0Rm4pIHtcbiAgICB2YXIgZm4gPSB0aGlzLiRmaWx0ZXIodGhpcy5jb25zdW1lKCkudGV4dCk7XG4gICAgdmFyIGFyZ3NGbjtcbiAgICB2YXIgYXJncztcblxuICAgIGlmICh0aGlzLnBlZWsoJzonKSkge1xuICAgICAgYXJnc0ZuID0gW107XG4gICAgICBhcmdzID0gW107IC8vIHdlIGNhbiBzYWZlbHkgcmV1c2UgdGhlIGFycmF5XG4gICAgICB3aGlsZSAodGhpcy5leHBlY3QoJzonKSkge1xuICAgICAgICBhcmdzRm4ucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlucHV0cyA9IFtpbnB1dEZuXS5jb25jYXQoYXJnc0ZuIHx8IFtdKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlRmlsdGVyKHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIGlucHV0ID0gaW5wdXRGbihzZWxmLCBsb2NhbHMpO1xuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgYXJnc1swXSA9IGlucHV0O1xuXG4gICAgICAgIHZhciBpID0gYXJnc0ZuLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGFyZ3NbaSArIDFdID0gYXJnc0ZuW2ldKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGlucHV0KTtcbiAgICB9LCB7XG4gICAgICBjb25zdGFudDogIWZuLiRzdGF0ZWZ1bCAmJiBpbnB1dHMuZXZlcnkoaXNDb25zdGFudCksXG4gICAgICBpbnB1dHM6ICFmbi4kc3RhdGVmdWwgJiYgaW5wdXRzXG4gICAgfSk7XG4gIH0sXG5cbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xuICB9LFxuXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy50ZXJuYXJ5KCk7XG4gICAgdmFyIHJpZ2h0O1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJz0nKSkpIHtcbiAgICAgIGlmICghbGVmdC5hc3NpZ24pIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFsnICtcbiAgICAgICAgICAgIHRoaXMudGV4dC5zdWJzdHJpbmcoMCwgdG9rZW4uaW5kZXgpICsgJ10gY2FuIG5vdCBiZSBhc3NpZ25lZCB0bycsIHRva2VuKTtcbiAgICAgIH1cbiAgICAgIHJpZ2h0ID0gdGhpcy50ZXJuYXJ5KCk7XG4gICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZUFzc2lnbm1lbnQoc2NvcGUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gbGVmdC5hc3NpZ24oc2NvcGUsIHJpZ2h0KHNjb3BlLCBsb2NhbHMpLCBsb2NhbHMpO1xuICAgICAgfSwge1xuICAgICAgICBpbnB1dHM6IFtsZWZ0LCByaWdodF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbE9SKCk7XG4gICAgdmFyIG1pZGRsZTtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc/JykpKSB7XG4gICAgICBtaWRkbGUgPSB0aGlzLmFzc2lnbm1lbnQoKTtcbiAgICAgIGlmICh0aGlzLmNvbnN1bWUoJzonKSkge1xuICAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmFzc2lnbm1lbnQoKTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZVRlcm5hcnkoc2VsZiwgbG9jYWxzKSB7XG4gICAgICAgICAgcmV0dXJuIGxlZnQoc2VsZiwgbG9jYWxzKSA/IG1pZGRsZShzZWxmLCBsb2NhbHMpIDogcmlnaHQoc2VsZiwgbG9jYWxzKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvbnN0YW50OiBsZWZ0LmNvbnN0YW50ICYmIG1pZGRsZS5jb25zdGFudCAmJiByaWdodC5jb25zdGFudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsT1I6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5sb2dpY2FsQU5EKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfHwnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMubG9naWNhbEFORCgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgbG9naWNhbEFORDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmVxdWFsaXR5KCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnJiYnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMuZXF1YWxpdHkoKSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGVxdWFsaXR5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJz09JywnIT0nLCc9PT0nLCchPT0nKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMucmVsYXRpb25hbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgcmVsYXRpb25hbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmFkZGl0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnPCcsICc+JywgJzw9JywgJz49JykpKSB7XG4gICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi50ZXh0LCB0aGlzLmFkZGl0aXZlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMubXVsdGlwbGljYXRpdmUoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcqJywnLycsJyUnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmJpbmFyeUZuKGxlZnQsIHRva2VuLnRleHQsIHRoaXMudW5hcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHVuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcrJykpIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9IGVsc2UgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCctJykpKSB7XG4gICAgICByZXR1cm4gdGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTywgdG9rZW4udGV4dCwgdGhpcy51bmFyeSgpKTtcbiAgICB9IGVsc2UgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCchJykpKSB7XG4gICAgICByZXR1cm4gdGhpcy51bmFyeUZuKHRva2VuLnRleHQsIHRoaXMudW5hcnkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9XG4gIH0sXG5cbiAgZmllbGRBY2Nlc3M6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBnZXR0ZXIgPSB0aGlzLmlkZW50aWZpZXIoKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlRmllbGRBY2Nlc3Moc2NvcGUsIGxvY2Fscywgc2VsZikge1xuICAgICAgdmFyIG8gPSBzZWxmIHx8IG9iamVjdChzY29wZSwgbG9jYWxzKTtcbiAgICAgIHJldHVybiAobyA9PSBudWxsKSA/IHVuZGVmaW5lZCA6IGdldHRlcihvKTtcbiAgICB9LCB7XG4gICAgICBhc3NpZ246IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciBvID0gb2JqZWN0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICBpZiAoIW8pIG9iamVjdC5hc3NpZ24oc2NvcGUsIG8gPSB7fSwgbG9jYWxzKTtcbiAgICAgICAgcmV0dXJuIGdldHRlci5hc3NpZ24obywgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIG9iamVjdEluZGV4OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZXhwcmVzc2lvbiA9IHRoaXMudGV4dDtcblxuICAgIHZhciBpbmRleEZuID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdGhpcy5jb25zdW1lKCddJyk7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZU9iamVjdEluZGV4KHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIG8gPSBvYmooc2VsZiwgbG9jYWxzKSxcbiAgICAgICAgICBpID0gaW5kZXhGbihzZWxmLCBsb2NhbHMpLFxuICAgICAgICAgIHY7XG5cbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGksIGV4cHJlc3Npb24pO1xuICAgICAgaWYgKCFvKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgdiA9IGVuc3VyZVNhZmVPYmplY3Qob1tpXSwgZXhwcmVzc2lvbik7XG4gICAgICByZXR1cm4gdjtcbiAgICB9LCB7XG4gICAgICBhc3NpZ246IGZ1bmN0aW9uKHNlbGYsIHZhbHVlLCBsb2NhbHMpIHtcbiAgICAgICAgdmFyIGtleSA9IGVuc3VyZVNhZmVNZW1iZXJOYW1lKGluZGV4Rm4oc2VsZiwgbG9jYWxzKSwgZXhwcmVzc2lvbik7XG4gICAgICAgIC8vIHByZXZlbnQgb3ZlcndyaXRpbmcgb2YgRnVuY3Rpb24uY29uc3RydWN0b3Igd2hpY2ggd291bGQgYnJlYWsgZW5zdXJlU2FmZU9iamVjdCBjaGVja1xuICAgICAgICB2YXIgbyA9IGVuc3VyZVNhZmVPYmplY3Qob2JqKHNlbGYsIGxvY2FscyksIGV4cHJlc3Npb24pO1xuICAgICAgICBpZiAoIW8pIG9iai5hc3NpZ24oc2VsZiwgbyA9IHt9LCBsb2NhbHMpO1xuICAgICAgICByZXR1cm4gb1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZnVuY3Rpb25DYWxsOiBmdW5jdGlvbihmbkdldHRlciwgY29udGV4dEdldHRlcikge1xuICAgIHZhciBhcmdzRm4gPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnKScpO1xuXG4gICAgdmFyIGV4cHJlc3Npb25UZXh0ID0gdGhpcy50ZXh0O1xuICAgIC8vIHdlIGNhbiBzYWZlbHkgcmV1c2UgdGhlIGFycmF5IGFjcm9zcyBpbnZvY2F0aW9uc1xuICAgIHZhciBhcmdzID0gYXJnc0ZuLmxlbmd0aCA/IFtdIDogbnVsbDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAkcGFyc2VGdW5jdGlvbkNhbGwoc2NvcGUsIGxvY2Fscykge1xuICAgICAgdmFyIGNvbnRleHQgPSBjb250ZXh0R2V0dGVyID8gY29udGV4dEdldHRlcihzY29wZSwgbG9jYWxzKSA6IGlzRGVmaW5lZChjb250ZXh0R2V0dGVyKSA/IHVuZGVmaW5lZCA6IHNjb3BlO1xuICAgICAgdmFyIGZuID0gZm5HZXR0ZXIoc2NvcGUsIGxvY2FscywgY29udGV4dCkgfHwgbm9vcDtcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgdmFyIGkgPSBhcmdzRm4ubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGVuc3VyZVNhZmVPYmplY3QoYXJnc0ZuW2ldKHNjb3BlLCBsb2NhbHMpLCBleHByZXNzaW9uVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZW5zdXJlU2FmZU9iamVjdChjb250ZXh0LCBleHByZXNzaW9uVGV4dCk7XG4gICAgICBlbnN1cmVTYWZlRnVuY3Rpb24oZm4sIGV4cHJlc3Npb25UZXh0KTtcblxuICAgICAgLy8gSUUgZG9lc24ndCBoYXZlIGFwcGx5IGZvciBzb21lIG5hdGl2ZSBmdW5jdGlvbnNcbiAgICAgIHZhciB2ID0gZm4uYXBwbHlcbiAgICAgICAgICAgID8gZm4uYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgICAgIDogZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG5cbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIC8vIEZyZWUtdXAgdGhlIG1lbW9yeSAoYXJndW1lbnRzIG9mIHRoZSBsYXN0IGZ1bmN0aW9uIGNhbGwpLlxuICAgICAgICBhcmdzLmxlbmd0aCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbnN1cmVTYWZlT2JqZWN0KHYsIGV4cHJlc3Npb25UZXh0KTtcbiAgICAgIH07XG4gIH0sXG5cbiAgLy8gVGhpcyBpcyB1c2VkIHdpdGgganNvbiBhcnJheSBkZWNsYXJhdGlvblxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudEZucyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudEZucy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ10nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlQXJyYXlMaXRlcmFsKHNlbGYsIGxvY2Fscykge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbGVtZW50Rm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsIGxvY2FscykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sIHtcbiAgICAgIGxpdGVyYWw6IHRydWUsXG4gICAgICBjb25zdGFudDogZWxlbWVudEZucy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogZWxlbWVudEZuc1xuICAgIH0pO1xuICB9LFxuXG4gIG9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXMgPSBbXSwgdmFsdWVGbnMgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAodG9rZW4uY29uc3RhbnQpIHtcbiAgICAgICAgICBrZXlzLnB1c2godG9rZW4udmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICBrZXlzLnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIiwgdG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICB2YWx1ZUZucy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ30nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlT2JqZWN0TGl0ZXJhbChzZWxmLCBsb2NhbHMpIHtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHZhbHVlRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2JqZWN0W2tleXNbaV1dID0gdmFsdWVGbnNbaV0oc2VsZiwgbG9jYWxzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSwge1xuICAgICAgbGl0ZXJhbDogdHJ1ZSxcbiAgICAgIGNvbnN0YW50OiB2YWx1ZUZucy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogdmFsdWVGbnNcbiAgICB9KTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUGFyc2VyIGhlbHBlciBmdW5jdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHNldHRlcihvYmosIGxvY2FscywgcGF0aCwgc2V0VmFsdWUsIGZ1bGxFeHApIHtcbiAgZW5zdXJlU2FmZU9iamVjdChvYmosIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KGxvY2FscywgZnVsbEV4cCk7XG5cbiAgdmFyIGVsZW1lbnQgPSBwYXRoLnNwbGl0KCcuJyksIGtleTtcbiAgZm9yICh2YXIgaSA9IDA7IGVsZW1lbnQubGVuZ3RoID4gMTsgaSsrKSB7XG4gICAga2V5ID0gZW5zdXJlU2FmZU1lbWJlck5hbWUoZWxlbWVudC5zaGlmdCgpLCBmdWxsRXhwKTtcbiAgICB2YXIgcHJvcGVydHlPYmogPSAoaSA9PT0gMCAmJiBsb2NhbHMgJiYgbG9jYWxzW2tleV0pIHx8IG9ialtrZXldO1xuICAgIGlmICghcHJvcGVydHlPYmopIHtcbiAgICAgIHByb3BlcnR5T2JqID0ge307XG4gICAgICBvYmpba2V5XSA9IHByb3BlcnR5T2JqO1xuICAgIH1cbiAgICBvYmogPSBlbnN1cmVTYWZlT2JqZWN0KHByb3BlcnR5T2JqLCBmdWxsRXhwKTtcbiAgfVxuICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KG9ialtrZXldLCBmdWxsRXhwKTtcbiAgb2JqW2tleV0gPSBzZXRWYWx1ZTtcbiAgcmV0dXJuIHNldFZhbHVlO1xufVxuXG52YXIgZ2V0dGVyRm5DYWNoZURlZmF1bHQgPSBjcmVhdGVNYXAoKTtcbnZhciBnZXR0ZXJGbkNhY2hlRXhwZW5zaXZlID0gY3JlYXRlTWFwKCk7XG5cbmZ1bmN0aW9uIGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUgPT0gJ2NvbnN0cnVjdG9yJztcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgXCJCbGFjayBIb2xlXCIgdmFyaWFudCBmcm9tOlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtcGFyc2UtZ2V0dGVyLzRcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcGF0aC1ldmFsdWF0aW9uLXNpbXBsaWZpZWQvN1xuICovXG5mdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCwga2V5MSwga2V5Miwga2V5Mywga2V5NCwgZnVsbEV4cCwgZXhwZW5zaXZlQ2hlY2tzKSB7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkxLCBmdWxsRXhwKTtcbiAgZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MiwgZnVsbEV4cCk7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXk0LCBmdWxsRXhwKTtcbiAgdmFyIGVzbyA9IGZ1bmN0aW9uKG8pIHtcbiAgICByZXR1cm4gZW5zdXJlU2FmZU9iamVjdChvLCBmdWxsRXhwKTtcbiAgfTtcbiAgdmFyIGVzbzAgPSAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleTApKSA/IGVzbyA6IGlkZW50aXR5O1xuICB2YXIgZXNvMSA9IChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoa2V5MSkpID8gZXNvIDogaWRlbnRpdHk7XG4gIHZhciBlc28yID0gKGV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShrZXkyKSkgPyBlc28gOiBpZGVudGl0eTtcbiAgdmFyIGVzbzMgPSAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleTMpKSA/IGVzbyA6IGlkZW50aXR5O1xuICB2YXIgZXNvNCA9IChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUoa2V5NCkpID8gZXNvIDogaWRlbnRpdHk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNzcFNhZmVHZXR0ZXIoc2NvcGUsIGxvY2Fscykge1xuICAgIHZhciBwYXRoVmFsID0gKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5MCkpID8gbG9jYWxzIDogc2NvcGU7XG5cbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gcGF0aFZhbDtcbiAgICBwYXRoVmFsID0gZXNvMChwYXRoVmFsW2tleTBdKTtcblxuICAgIGlmICgha2V5MSkgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMShwYXRoVmFsW2tleTFdKTtcblxuICAgIGlmICgha2V5MikgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMihwYXRoVmFsW2tleTJdKTtcblxuICAgIGlmICgha2V5MykgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvMyhwYXRoVmFsW2tleTNdKTtcblxuICAgIGlmICgha2V5NCkgcmV0dXJuIHBhdGhWYWw7XG4gICAgaWYgKHBhdGhWYWwgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBwYXRoVmFsID0gZXNvNChwYXRoVmFsW2tleTRdKTtcblxuICAgIHJldHVybiBwYXRoVmFsO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXR0ZXJGbldpdGhFbnN1cmVTYWZlT2JqZWN0KGZuLCBmdWxsRXhwcmVzc2lvbikge1xuICByZXR1cm4gZnVuY3Rpb24ocywgbCkge1xuICAgIHJldHVybiBmbihzLCBsLCBlbnN1cmVTYWZlT2JqZWN0LCBmdWxsRXhwcmVzc2lvbik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldHRlckZuKHBhdGgsIG9wdGlvbnMsIGZ1bGxFeHApIHtcbiAgdmFyIGV4cGVuc2l2ZUNoZWNrcyA9IG9wdGlvbnMuZXhwZW5zaXZlQ2hlY2tzO1xuICB2YXIgZ2V0dGVyRm5DYWNoZSA9IChleHBlbnNpdmVDaGVja3MgPyBnZXR0ZXJGbkNhY2hlRXhwZW5zaXZlIDogZ2V0dGVyRm5DYWNoZURlZmF1bHQpO1xuICB2YXIgZm4gPSBnZXR0ZXJGbkNhY2hlW3BhdGhdO1xuICBpZiAoZm4pIHJldHVybiBmbjtcblxuXG4gIHZhciBwYXRoS2V5cyA9IHBhdGguc3BsaXQoJy4nKSxcbiAgICAgIHBhdGhLZXlzTGVuZ3RoID0gcGF0aEtleXMubGVuZ3RoO1xuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1wYXJzZS1nZXR0ZXIvNlxuICBpZiAob3B0aW9ucy5jc3ApIHtcbiAgICBpZiAocGF0aEtleXNMZW5ndGggPCA2KSB7XG4gICAgICBmbiA9IGNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSwgcGF0aEtleXNbMV0sIHBhdGhLZXlzWzJdLCBwYXRoS2V5c1szXSwgcGF0aEtleXNbNF0sIGZ1bGxFeHAsIGV4cGVuc2l2ZUNoZWNrcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuID0gZnVuY3Rpb24gY3NwU2FmZUdldHRlcihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciBpID0gMCwgdmFsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFsID0gY3NwU2FmZUdldHRlckZuKHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sIHBhdGhLZXlzW2krK10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhLZXlzW2krK10sIGZ1bGxFeHAsIGV4cGVuc2l2ZUNoZWNrcykoc2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICBsb2NhbHMgPSB1bmRlZmluZWQ7IC8vIGNsZWFyIGFmdGVyIGZpcnN0IGl0ZXJhdGlvblxuICAgICAgICAgIHNjb3BlID0gdmFsO1xuICAgICAgICB9IHdoaWxlIChpIDwgcGF0aEtleXNMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvZGUgPSAnJztcbiAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICBjb2RlICs9ICdzID0gZXNvKHMsIGZlKTtcXG5sID0gZXNvKGwsIGZlKTtcXG4nO1xuICAgIH1cbiAgICB2YXIgbmVlZHNFbnN1cmVTYWZlT2JqZWN0ID0gZXhwZW5zaXZlQ2hlY2tzO1xuICAgIGZvckVhY2gocGF0aEtleXMsIGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleSwgZnVsbEV4cCk7XG4gICAgICB2YXIgbG9va3VwSnMgPSAoaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgZGVyZWZlcmVuY2UgJ3MnIG9uIGFueSAuZG90IG5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgPyAncydcbiAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgaWYgd2UgYXJlIGZpcnN0IHRoZW4gd2UgY2hlY2sgbG9jYWxzIGZpcnN0LCBhbmQgaWYgc28gcmVhZCBpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgIDogJygobCYmbC5oYXNPd25Qcm9wZXJ0eShcIicgKyBrZXkgKyAnXCIpKT9sOnMpJykgKyAnLicgKyBrZXk7XG4gICAgICBpZiAoZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGtleSkpIHtcbiAgICAgICAgbG9va3VwSnMgPSAnZXNvKCcgKyBsb29rdXBKcyArICcsIGZlKSc7XG4gICAgICAgIG5lZWRzRW5zdXJlU2FmZU9iamVjdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb2RlICs9ICdpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XFxuJyArXG4gICAgICAgICAgICAgICdzPScgKyBsb29rdXBKcyArICc7XFxuJztcbiAgICB9KTtcbiAgICBjb2RlICs9ICdyZXR1cm4gczsnO1xuXG4gICAgLyoganNoaW50IC1XMDU0ICovXG4gICAgdmFyIGV2YWxlZEZuR2V0dGVyID0gbmV3IEZ1bmN0aW9uKCdzJywgJ2wnLCAnZXNvJywgJ2ZlJywgY29kZSk7IC8vIHM9c2NvcGUsIGw9bG9jYWxzLCBlc289ZW5zdXJlU2FmZU9iamVjdFxuICAgIC8qIGpzaGludCArVzA1NCAqL1xuICAgIGV2YWxlZEZuR2V0dGVyLnRvU3RyaW5nID0gdmFsdWVGbihjb2RlKTtcbiAgICBpZiAobmVlZHNFbnN1cmVTYWZlT2JqZWN0KSB7XG4gICAgICBldmFsZWRGbkdldHRlciA9IGdldHRlckZuV2l0aEVuc3VyZVNhZmVPYmplY3QoZXZhbGVkRm5HZXR0ZXIsIGZ1bGxFeHApO1xuICAgIH1cbiAgICBmbiA9IGV2YWxlZEZuR2V0dGVyO1xuICB9XG5cbiAgZm4uc2hhcmVkR2V0dGVyID0gdHJ1ZTtcbiAgZm4uYXNzaWduID0gZnVuY3Rpb24oc2VsZiwgdmFsdWUsIGxvY2Fscykge1xuICAgIHJldHVybiBzZXR0ZXIoc2VsZiwgbG9jYWxzLCBwYXRoLCB2YWx1ZSwgcGF0aCk7XG4gIH07XG4gIGdldHRlckZuQ2FjaGVbcGF0aF0gPSBmbjtcbiAgcmV0dXJuIGZuO1xufVxuXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gZ2V0VmFsdWVPZih2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwYXJzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gKlxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gKiAgICAgIGBjb250ZXh0YC5cbiAqXG4gKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcbiAqICAgICAgICBsaXRlcmFsLlxuICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXG4gKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlRGVmYXVsdCA9IGNyZWF0ZU1hcCgpO1xuICB2YXIgY2FjaGVFeHBlbnNpdmUgPSBjcmVhdGVNYXAoKTtcblxuXG5cbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgJyRzbmlmZmVyJywgZnVuY3Rpb24oJGZpbHRlciwgJHNuaWZmZXIpIHtcbiAgICB2YXIgJHBhcnNlT3B0aW9ucyA9IHtcbiAgICAgICAgICBjc3A6ICRzbmlmZmVyLmNzcCxcbiAgICAgICAgICBleHBlbnNpdmVDaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XG4gICAgICAgICAgY3NwOiAkc25pZmZlci5jc3AsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICBmdW5jdGlvbiB3cmFwU2hhcmVkRXhwcmVzc2lvbihleHApIHtcbiAgICAgIHZhciB3cmFwcGVkID0gZXhwO1xuXG4gICAgICBpZiAoZXhwLnNoYXJlZEdldHRlcikge1xuICAgICAgICB3cmFwcGVkID0gZnVuY3Rpb24gJHBhcnNlV3JhcHBlcihzZWxmLCBsb2NhbHMpIHtcbiAgICAgICAgICByZXR1cm4gZXhwKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgIH07XG4gICAgICAgIHdyYXBwZWQubGl0ZXJhbCA9IGV4cC5saXRlcmFsO1xuICAgICAgICB3cmFwcGVkLmNvbnN0YW50ID0gZXhwLmNvbnN0YW50O1xuICAgICAgICB3cmFwcGVkLmFzc2lnbiA9IGV4cC5hc3NpZ247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAkcGFyc2UoZXhwLCBpbnRlcmNlcHRvckZuLCBleHBlbnNpdmVDaGVja3MpIHtcbiAgICAgIHZhciBwYXJzZWRFeHByZXNzaW9uLCBvbmVUaW1lLCBjYWNoZUtleTtcblxuICAgICAgc3dpdGNoICh0eXBlb2YgZXhwKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHAgPSBleHAudHJpbSgpO1xuXG4gICAgICAgICAgdmFyIGNhY2hlID0gKGV4cGVuc2l2ZUNoZWNrcyA/IGNhY2hlRXhwZW5zaXZlIDogY2FjaGVEZWZhdWx0KTtcbiAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uID0gY2FjaGVbY2FjaGVLZXldO1xuXG4gICAgICAgICAgaWYgKCFwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAoZXhwLmNoYXJBdCgwKSA9PT0gJzonICYmIGV4cC5jaGFyQXQoMSkgPT09ICc6Jykge1xuICAgICAgICAgICAgICBvbmVUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZXhwID0gZXhwLnN1YnN0cmluZygyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQpIHtcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uZVRpbWUpIHtcbiAgICAgICAgICAgICAgLy9vbmVUaW1lIGlzIG5vdCBwYXJ0IG9mIHRoZSBleHAgcGFzc2VkIHRvIHRoZSBQYXJzZXIgc28gd2UgbWF5IGhhdmUgdG9cbiAgICAgICAgICAgICAgLy93cmFwIHRoZSBwYXJzZWRFeHByZXNzaW9uIGJlZm9yZSBhZGRpbmcgYSAkJHdhdGNoRGVsZWdhdGVcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHdyYXBTaGFyZWRFeHByZXNzaW9uKHBhcnNlZEV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/XG4gICAgICAgICAgICAgICAgb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlIDogb25lVGltZVdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gcGFyc2VkRXhwcmVzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24sIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IoZXhwLCBpbnRlcmNlcHRvckZuKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihub29wLCBpbnRlcmNlcHRvckZuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdEV4cHJlc3Npb25JbnB1dHMoaW5wdXRzLCBsaXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07XG4gICAgICAgIGlmICghaW5wdXQuY29uc3RhbnQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRzKSB7XG4gICAgICAgICAgICBjb2xsZWN0RXhwcmVzc2lvbklucHV0cyhpbnB1dC5pbnB1dHMsIGxpc3QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdC5pbmRleE9mKGlucHV0KSA9PT0gLTEpIHsgLy8gVE9ETyhwZXJmKSBjYW4gd2UgZG8gYmV0dGVyP1xuICAgICAgICAgICAgbGlzdC5wdXNoKGlucHV0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlKSB7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG9sZFZhbHVlT2ZWYWx1ZSA9PSBudWxsKSB7IC8vIG51bGwvdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gY29udmVydCB0aGUgdmFsdWUgdG8gYSBwcmltaXRpdmUgdHlwZVxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cbiAgICAgICAgLy8gICAgICAgICAgICAgYmUgY2hlYXBseSBkaXJ0eS1jaGVja2VkXG4gICAgICAgIG5ld1ZhbHVlID0gZ2V0VmFsdWVPZihuZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBvYmplY3RzL2FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCAtIGRlZXAtd2F0Y2hpbmcgdGhlbSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbC10aHJvdWdoIHRvIHRoZSBwcmltaXRpdmUgZXF1YWxpdHkgY2hlY2tcbiAgICAgIH1cblxuICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZSB8fCAobmV3VmFsdWUgIT09IG5ld1ZhbHVlICYmIG9sZFZhbHVlT2ZWYWx1ZSAhPT0gb2xkVmFsdWVPZlZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyB8fFxuICAgICAgICAgICAgICAgICAgICAocGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyA9IGNvbGxlY3RFeHByZXNzaW9uSW5wdXRzKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzLCBbXSkpO1xuXG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dFdhdGNoKHNjb3BlKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWUgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICB9LCBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIHZhbHVlLCBvbGQsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0FsbERlZmluZWQobGFzdFZhbHVlKSkgdW53YXRjaCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG5cbiAgICAgIGZ1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICB2YXIgYWxsRGVmaW5lZCA9IHRydWU7XG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhbGxEZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaDtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gY29uc3RhbnRMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XG4gICAgICBpZiAoIWludGVyY2VwdG9yRm4pIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgdmFyIHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcblxuICAgICAgdmFyIHJlZ3VsYXJXYXRjaCA9XG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlICYmXG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZVdhdGNoRGVsZWdhdGU7XG5cbiAgICAgIHZhciBmbiA9IHJlZ3VsYXJXYXRjaCA/IGZ1bmN0aW9uIHJlZ3VsYXJJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgLy8gd2Ugb25seSByZXR1cm4gdGhlIGludGVyY2VwdG9yJ3MgcmVzdWx0IGlmIHRoZVxuICAgICAgICAvLyBpbml0aWFsIHZhbHVlIGlzIGRlZmluZWQgKGZvciBiaW5kLW9uY2UpXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICAvLyBQcm9wYWdhdGUgJCR3YXRjaERlbGVnYXRlcyBvdGhlciB0aGVuIGlucHV0c1dhdGNoRGVsZWdhdGVcbiAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSAmJlxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlO1xuICAgICAgfSBlbHNlIGlmICghaW50ZXJjZXB0b3JGbi4kc3RhdGVmdWwpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcbiAgICAgICAgLy8gd2UgdHJlYXQgZmlsdGVycyAtIGl0IGlzIGFzc3VtZWQgdG8gYmUgYSBwdXJlIGZ1bmN0aW9uIHVubGVzcyBmbGFnZ2VkIHdpdGggJHN0YXRlZnVsXG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgIGZuLmlucHV0cyA9IFtwYXJzZWRFeHByZXNzaW9uXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRxXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcbiAqIHdoZW4gdGhleSBhcmUgZG9uZSBwcm9jZXNzaW5nLlxuICpcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWQgb2JqZWN0cyBpbnNwaXJlZCBieVxuICogW0tyaXMgS293YWwncyBRXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpLlxuICpcbiAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxuICogaW1wbGVtZW50YXRpb25zLCBhbmQgdGhlIG90aGVyIHdoaWNoIHJlc2VtYmxlcyBFUzYgcHJvbWlzZXMgdG8gc29tZSBkZWdyZWUuXG4gKlxuICogIyAkcSBjb25zdHJ1Y3RvclxuICpcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYgSGFybW9ueSxcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cbiAqXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IEhhcm1vbnkgcHJvbWlzZXMgYXJlXG4gKiBhdmFpbGFibGUgeWV0LlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sIDEwMDApO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cbiAqXG4gKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxuICpcbiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW5cbiAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcbiAqIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseSwgYW5kIG1heSBvciBtYXkgbm90IGJlIGZpbmlzaGVkIGF0IGFueSBnaXZlbiBwb2ludCBpbiB0aW1lLlxuICpcbiAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cbiAqIGFzeW5jaHJvbm91cyBwcm9ncmFtbWluZyB3aGF0IGB0cnlgLCBgY2F0Y2hgIGFuZCBgdGhyb3dgIGtleXdvcmRzIGFyZSB0byBzeW5jaHJvbm91cyBwcm9ncmFtbWluZy5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICpcbiAqICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7XG4gKlxuICogICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xuICogICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICB9XG4gKiAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9LCBmdW5jdGlvbih1cGRhdGUpIHtcbiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxuICogY29tZXMgaW4gdGhlIHdheSBvZiBndWFyYW50ZWVzIHRoYXQgcHJvbWlzZSBhbmQgZGVmZXJyZWQgQVBJcyBtYWtlLCBzZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLlxuICpcbiAqIEFkZGl0aW9uYWxseSB0aGUgcHJvbWlzZSBhcGkgYWxsb3dzIGZvciBjb21wb3NpdGlvbiB0aGF0IGlzIHZlcnkgaGFyZCB0byBkbyB3aXRoIHRoZVxuICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC5cbiAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxuICogc2VjdGlvbiBvbiBzZXJpYWwgb3IgcGFyYWxsZWwgam9pbmluZyBvZiBwcm9taXNlcy5cbiAqXG4gKiAjIFRoZSBEZWZlcnJlZCBBUElcbiAqXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcbiAqIG9mIHRoZSB0YXNrLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICoqUHJvcGVydGllcyoqXG4gKlxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXG4gKlxuICpcbiAqICMgVGhlIFByb21pc2UgQVBJXG4gKlxuICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XG4gKiBjYWxsaW5nIGBkZWZlcnJlZC5wcm9taXNlYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcbiAqIG9mIHRoZSBkZWZlcnJlZCB0YXNrIHdoZW4gaXQgY29tcGxldGVzLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3JcbiAqICAgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCwgYHRoZW5gIGNhbGxzIG9uZSBvZiB0aGUgc3VjY2VzcyBvciBlcnJvciBjYWxsYmFja3MgYXN5bmNocm9ub3VzbHlcbiAqICAgYXMgc29vbiBhcyB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gVGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSByZXN1bHRcbiAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvXG4gKiAgIHByb3ZpZGUgYSBwcm9ncmVzcyBpbmRpY2F0aW9uLCBiZWZvcmUgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXG4gKlxuICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcbiAqICAgYHN1Y2Nlc3NDYWxsYmFja2AsIGBlcnJvckNhbGxiYWNrYC4gSXQgYWxzbyBub3RpZmllcyB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcbiAqICAgYG5vdGlmeUNhbGxiYWNrYCBtZXRob2QuIFRoZSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tIHRoZSBub3RpZnlDYWxsYmFja1xuICogICBtZXRob2QuXG4gKlxuICogLSBgY2F0Y2goZXJyb3JDYWxsYmFjaylgIOKAkyBzaG9ydGhhbmQgZm9yIGBwcm9taXNlLnRoZW4obnVsbCwgZXJyb3JDYWxsYmFjaylgXG4gKlxuICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcbiAqICAgYnV0IHRvIGRvIHNvIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBmaW5hbCB2YWx1ZS4gVGhpcyBpcyB1c2VmdWwgdG8gcmVsZWFzZSByZXNvdXJjZXMgb3IgZG8gc29tZVxuICogICBjbGVhbi11cCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgb3IgcmVzb2x2ZWQuIFNlZSB0aGUgW2Z1bGxcbiAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcbiAqICAgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAjIENoYWluaW5nIHByb21pc2VzXG4gKlxuICogQmVjYXVzZSBjYWxsaW5nIHRoZSBgdGhlbmAgbWV0aG9kIG9mIGEgcHJvbWlzZSByZXR1cm5zIGEgbmV3IGRlcml2ZWQgcHJvbWlzZSwgaXQgaXMgZWFzaWx5XG4gKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcbiAqXG4gKiBgYGBqc1xuICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gKiAgICAgcmV0dXJuIHJlc3VsdCArIDE7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gcHJvbWlzZUIgd2lsbCBiZSByZXNvbHZlZCBpbW1lZGlhdGVseSBhZnRlciBwcm9taXNlQSBpcyByZXNvbHZlZCBhbmQgaXRzIHZhbHVlXG4gKiAgIC8vIHdpbGwgYmUgdGhlIHJlc3VsdCBvZiBwcm9taXNlQSBpbmNyZW1lbnRlZCBieSAxXG4gKiBgYGBcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBjcmVhdGUgY2hhaW5zIG9mIGFueSBsZW5ndGggYW5kIHNpbmNlIGEgcHJvbWlzZSBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBhbm90aGVyXG4gKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXG4gKiB0aGUgcHJvbWlzZXMgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbi4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgcG93ZXJmdWwgQVBJcyBsaWtlXG4gKiAkaHR0cCdzIHJlc3BvbnNlIGludGVyY2VwdG9ycy5cbiAqXG4gKlxuICogIyBEaWZmZXJlbmNlcyBiZXR3ZWVuIEtyaXMgS293YWwncyBRIGFuZCAkcVxuICpcbiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6XG4gKlxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxuICogICBtZWNoYW5pc20gaW4gYW5ndWxhciwgd2hpY2ggbWVhbnMgZmFzdGVyIHByb3BhZ2F0aW9uIG9mIHJlc29sdXRpb24gb3IgcmVqZWN0aW9uIGludG8geW91clxuICogICBtb2RlbHMgYW5kIGF2b2lkaW5nIHVubmVjZXNzYXJ5IGJyb3dzZXIgcmVwYWludHMsIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBmbGlja2VyaW5nIFVJLlxuICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcbiAqICAgYWxsIHRoZSBpbXBvcnRhbnQgZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGNvbW1vbiBhc3luYyB0YXNrcy5cbiAqXG4gKiAgIyBUZXN0aW5nXG4gKlxuICogIGBgYGpzXG4gKiAgICBpdCgnc2hvdWxkIHNpbXVsYXRlIHByb21pc2UnLCBpbmplY3QoZnVuY3Rpb24oJHEsICRyb290U2NvcGUpIHtcbiAqICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAqICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICogICAgICB2YXIgcmVzb2x2ZWRWYWx1ZTtcbiAqXG4gKiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkgeyByZXNvbHZlZFZhbHVlID0gdmFsdWU7IH0pO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIG9mIHByb21pc2VcbiAqICAgICAgZGVmZXJyZWQucmVzb2x2ZSgxMjMpO1xuICogICAgICAvLyBOb3RlIHRoYXQgdGhlICd0aGVuJyBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgY2FsbGVkIHN5bmNocm9ub3VzbHkuXG4gKiAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRoZSBwcm9taXNlIEFQSSB0byBhbHdheXMgYmUgYXN5bmMsIHdoZXRoZXIgb3Igbm90XG4gKiAgICAgIC8vIGl0IGdvdCBjYWxsZWQgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcbiAqXG4gKiAgICAgIC8vIFByb3BhZ2F0ZSBwcm9taXNlIHJlc29sdXRpb24gdG8gJ3RoZW4nIGZ1bmN0aW9ucyB1c2luZyAkYXBwbHkoKS5cbiAqICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvRXF1YWwoMTIzKTtcbiAqICAgIH0pKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uLCBmdW5jdGlvbil9IHJlc29sdmVyIEZ1bmN0aW9uIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciByZXNvbHZpbmcgb3JcbiAqICAgcmVqZWN0aW5nIHRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZXNvbHZlcyB0aGVcbiAqICAgcHJvbWlzZSwgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZWplY3RzIHRoZSBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLlxuICovXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xuXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJGJyb3dzZXIsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIpO1xuICB9XTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxuICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgbWFuYWdlci5cbiAqL1xuZnVuY3Rpb24gcUZhY3RvcnkobmV4dFRpY2ssIGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XG4gIGZ1bmN0aW9uIGNhbGxPbmNlKHNlbGYsIHJlc29sdmVGbiwgcmVqZWN0Rm4pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gd3JhcChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbChzZWxmLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBbd3JhcChyZXNvbHZlRm4pLCB3cmFwKHJlamVjdEZuKV07XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZy4kcSNkZWZlclxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIGBEZWZlcnJlZGAgb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSB0YXNrIHdoaWNoIHdpbGwgZmluaXNoIGluIHRoZSBmdXR1cmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtEZWZlcnJlZH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZC5cbiAgICovXG4gIHZhciBkZWZlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGVmZXJyZWQoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBQcm9taXNlKCkge1xuICAgIHRoaXMuJCRzdGF0ZSA9IHsgc3RhdHVzOiAwIH07XG4gIH1cblxuICBQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nID0gdGhpcy4kJHN0YXRlLnBlbmRpbmcgfHwgW107XG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtyZXN1bHQsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2tdKTtcbiAgICAgIGlmICh0aGlzLiQkc3RhdGUuc3RhdHVzID4gMCkgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy4kJHN0YXRlKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgXCJmaW5hbGx5XCI6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2soZXJyb3IsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICB9LCBwcm9ncmVzc0JhY2spO1xuICAgIH1cbiAgfTtcblxuICAvL0Zhc3RlciwgbW9yZSBiYXNpYyB0aGFuIGFuZ3VsYXIuYmluZCBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyLWJpbmQtdnMtY3VzdG9tLXZzLW5hdGl2ZVxuICBmdW5jdGlvbiBzaW1wbGVCaW5kKGNvbnRleHQsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbi5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgdmFyIGZuLCBwcm9taXNlLCBwZW5kaW5nO1xuXG4gICAgcGVuZGluZyA9IHN0YXRlLnBlbmRpbmc7XG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHN0YXRlLnBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGVuZGluZy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBwcm9taXNlID0gcGVuZGluZ1tpXVswXTtcbiAgICAgIGZuID0gcGVuZGluZ1tpXVtzdGF0ZS5zdGF0dXNdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc3RhdHVzID09PSAxKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHN0YXRlLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlLnJlamVjdChzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERlZmVycmVkKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG4gICAgLy9OZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xuICAgIHRoaXMucmVzb2x2ZSA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZXNvbHZlKTtcbiAgICB0aGlzLnJlamVjdCA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5yZWplY3QpO1xuICAgIHRoaXMubm90aWZ5ID0gc2ltcGxlQmluZCh0aGlzLCB0aGlzLm5vdGlmeSk7XG4gIH1cblxuICBEZWZlcnJlZC5wcm90b3R5cGUgPSB7XG4gICAgcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICBpZiAodmFsID09PSB0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdGhpcy4kJHJlamVjdCgkcU1pbkVycihcbiAgICAgICAgICAncWN5Y2xlJyxcbiAgICAgICAgICBcIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9J1wiLFxuICAgICAgICAgIHZhbCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kJHJlc29sdmUodmFsKTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAkJHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFyIHRoZW4sIGZucztcblxuICAgICAgZm5zID0gY2FsbE9uY2UodGhpcywgdGhpcy4kJHJlc29sdmUsIHRoaXMuJCRyZWplY3QpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkpIHRoZW4gPSB2YWwgJiYgdmFsLnRoZW47XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gLTE7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgZm5zWzBdLCBmbnNbMV0sIHRoaXMubm90aWZ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xuICAgICAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBmbnNbMV0oZSk7XG4gICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICBpZiAodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgICB0aGlzLiQkcmVqZWN0KHJlYXNvbik7XG4gICAgfSxcblxuICAgICQkcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gcmVhc29uO1xuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcbiAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKTtcbiAgICB9LFxuXG4gICAgbm90aWZ5OiBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMucHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7XG5cbiAgICAgIGlmICgodGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDApICYmIGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFja3NbaV1bMF07XG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5ub3RpZnkoaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayhwcm9ncmVzcykgOiBwcm9ncmVzcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjcmVqZWN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBgcmVhc29uYC4gVGhpcyBhcGkgc2hvdWxkIGJlXG4gICAqIHVzZWQgdG8gZm9yd2FyZCByZWplY3Rpb24gaW4gYSBjaGFpbiBvZiBwcm9taXNlcy4gSWYgeW91IGFyZSBkZWFsaW5nIHdpdGggdGhlIGxhc3QgcHJvbWlzZSBpblxuICAgKiBhIHByb21pc2UgY2hhaW4sIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGl0LlxuICAgKlxuICAgKiBXaGVuIGNvbXBhcmluZyBkZWZlcnJlZHMvcHJvbWlzZXMgdG8gdGhlIGZhbWlsaWFyIGJlaGF2aW9yIG9mIHRyeS9jYXRjaC90aHJvdywgdGhpbmsgb2ZcbiAgICogYHJlamVjdGAgYXMgdGhlIGB0aHJvd2Aga2V5d29yZCBpbiBKYXZhU2NyaXB0LiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpZiB5b3UgXCJjYXRjaFwiIGFuIGVycm9yIHZpYVxuICAgKiBhIHByb21pc2UgZXJyb3IgY2FsbGJhY2sgYW5kIHlvdSB3YW50IHRvIGZvcndhcmQgdGhlIGVycm9yIHRvIHRoZSBwcm9taXNlIGRlcml2ZWQgZnJvbSB0aGVcbiAgICogY3VycmVudCBwcm9taXNlLCB5b3UgaGF2ZSB0byBcInJldGhyb3dcIiB0aGUgZXJyb3IgYnkgcmV0dXJuaW5nIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYVxuICAgKiBgcmVqZWN0YC5cbiAgICpcbiAgICogYGBganNcbiAgICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUJcbiAgICogICAgIC8vICAgICAgICAgIHdpdGggdGhlIG9sZCBvciBhIG5ldyByZXN1bHRcbiAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAqICAgICAvLyBlcnJvcjogaGFuZGxlIHRoZSBlcnJvciBpZiBwb3NzaWJsZSBhbmRcbiAgICogICAgIC8vICAgICAgICByZXNvbHZlIHByb21pc2VCIHdpdGggbmV3UHJvbWlzZU9yVmFsdWUsXG4gICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQlxuICAgKiAgICAgaWYgKGNhbkhhbmRsZShyZWFzb24pKSB7XG4gICAqICAgICAgLy8gaGFuZGxlIHRoZSBlcnJvciBhbmQgcmVjb3ZlclxuICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTtcbiAgICogICAgIH1cbiAgICogICAgIHJldHVybiAkcS5yZWplY3QocmVhc29uKTtcbiAgICogICB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2FzIGFscmVhZHkgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgYHJlYXNvbmAuXG4gICAqL1xuICB2YXIgcmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHJlc3VsdC5yZWplY3QocmVhc29uKTtcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gIH07XG5cbiAgdmFyIG1ha2VQcm9taXNlID0gZnVuY3Rpb24gbWFrZVByb21pc2UodmFsdWUsIHJlc29sdmVkKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgcmVzdWx0LnJlc29sdmUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucmVqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICB9O1xuXG4gIHZhciBoYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCBpc1Jlc29sdmVkLCBjYWxsYmFjaykge1xuICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkgY2FsbGJhY2tPdXRwdXQgPSBjYWxsYmFjaygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBtYWtlUHJvbWlzZShlLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gbWFrZVByb21pc2UoZXJyb3IsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSN3aGVuXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXcmFwcyBhbiBvYmplY3QgdGhhdCBtaWdodCBiZSBhIHZhbHVlIG9yIGEgKDNyZCBwYXJ0eSkgdGhlbi1hYmxlIHByb21pc2UgaW50byBhICRxIHByb21pc2UuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSBkZWFsaW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgbWlnaHQgb3IgbWlnaHQgbm90IGJlIGEgcHJvbWlzZSwgb3IgaWZcbiAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiB0aGUgcGFzc2VkIHZhbHVlIG9yIHByb21pc2VcbiAgICovXG5cblxuICB2YXIgd2hlbiA9IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2UudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNhbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbWJpbmVzIG11bHRpcGxlIHByb21pc2VzIGludG8gYSBzaW5nbGUgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG9mIHRoZSBpbnB1dFxuICAgKiBwcm9taXNlcyBhcmUgcmVzb2x2ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgc2luZ2xlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYW4gYXJyYXkvaGFzaCBvZiB2YWx1ZXMsXG4gICAqICAgZWFjaCB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9taXNlIGF0IHRoZSBzYW1lIGluZGV4L2tleSBpbiB0aGUgYHByb21pc2VzYCBhcnJheS9oYXNoLlxuICAgKiAgIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiwgdGhpcyByZXN1bHRpbmcgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXG4gICAqICAgd2l0aCB0aGUgc2FtZSByZWplY3Rpb24gdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpLFxuICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgcmVzdWx0cyA9IGlzQXJyYXkocHJvbWlzZXMpID8gW10gOiB7fTtcblxuICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHByb21pc2UsIGtleSkge1xuICAgICAgY291bnRlcisrO1xuICAgICAgd2hlbihwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XG4gICAgICAgIGlmICghKC0tY291bnRlcikpIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICB2YXIgJFEgPSBmdW5jdGlvbiBRKHJlc29sdmVyKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJlc29sdmVyKSkge1xuICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCBcIkV4cGVjdGVkIHJlc29sdmVyRm4sIGdvdCAnezB9J1wiLCByZXNvbHZlcik7XG4gICAgfVxuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFEpKSB7XG4gICAgICAvLyBNb3JlIHVzZWZ1bCB3aGVuICRRIGlzIHRoZSBQcm9taXNlIGl0c2VsZi5cbiAgICAgIHJldHVybiBuZXcgUShyZXNvbHZlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRm4odmFsdWUpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdEZuKHJlYXNvbikge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuXG4gICAgcmVzb2x2ZXIocmVzb2x2ZUZuLCByZWplY3RGbik7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcblxuICAkUS5kZWZlciA9IGRlZmVyO1xuICAkUS5yZWplY3QgPSByZWplY3Q7XG4gICRRLndoZW4gPSB3aGVuO1xuICAkUS5hbGwgPSBhbGw7XG5cbiAgcmV0dXJuICRRO1xufVxuXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gdGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gbWlkZGxlIGFyZSBleHBlbnNpdmUgc28gd2UgdXNlIGxpbmtlZCBsaXN0XG4gKlxuICogVGhlcmUgYXJlIGZldyB3YXRjaGVzIHRoZW4gYSBsb3Qgb2Ygb2JzZXJ2ZXJzLiBUaGlzIGlzIHdoeSB5b3UgZG9uJ3Qgd2FudCB0aGUgb2JzZXJ2ZXIgdG8gYmVcbiAqIGltcGxlbWVudGVkIGluIHRoZSBzYW1lIHdheSBhcyB3YXRjaC4gV2F0Y2ggcmVxdWlyZXMgcmV0dXJuIG9mIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoXG4gKiBhcmUgZXhwZW5zaXZlIHRvIGNvbnN0cnVjdC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyI2RpZ2VzdFR0bFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIGAkZGlnZXN0YCBpdGVyYXRpb25zIHRoZSBzY29wZSBzaG91bGQgYXR0ZW1wdCB0byBleGVjdXRlIGJlZm9yZSBnaXZpbmcgdXAgYW5kXG4gKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cbiAqXG4gKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXG4gKlxuICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cbiAqIHNldmVyYWwgZGlnZXN0IGl0ZXJhdGlvbnMuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwIGRpZ2VzdFxuICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0b1xuICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cbiAqXG4gKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0XG4gKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBhIHNpbmdsZSByb290IHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cbiAqIEFsbCBvdGhlciBzY29wZXMgYXJlIGRlc2NlbmRhbnQgc2NvcGVzIG9mIHRoZSByb290IHNjb3BlLiBTY29wZXMgcHJvdmlkZSBzZXBhcmF0aW9uXG4gKiBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgdGhlIHZpZXcsIHZpYSBhIG1lY2hhbmlzbSBmb3Igd2F0Y2hpbmcgdGhlIG1vZGVsIGZvciBjaGFuZ2VzLlxuICogVGhleSBhbHNvIHByb3ZpZGUgYW4gZXZlbnQgZW1pc3Npb24vYnJvYWRjYXN0IGFuZCBzdWJzY3JpcHRpb24gZmFjaWxpdHkuIFNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9zY29wZSBkZXZlbG9wZXIgZ3VpZGUgb24gc2NvcGVzfS5cbiAqL1xuZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCkge1xuICB2YXIgVFRMID0gMTA7XG4gIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7XG4gIHZhciBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gIHZhciBhcHBseUFzeW5jSWQgPSBudWxsO1xuXG4gIHRoaXMuZGlnZXN0VHRsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgVFRMID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBUVEw7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcbiAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIsICRwYXJzZSwgJGJyb3dzZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKVxuICAgICAqXG4gICAgICogSGVyZSBpcyBhIHNpbXBsZSBzY29wZSBzbmlwcGV0IHRvIHNob3cgaG93IHlvdSBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgc2NvcGUuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxmaWxlIHNyYz1cIi4vdGVzdC9uZy9yb290U2NvcGVTcGVjLmpzXCIgdGFnPVwiZG9jczFcIiAvPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBmdW5jdGlvbiBDaGlsZFNjb3BlKCkge1xuICAgICAgICAgICAgICB0aGlzLiQkd2F0Y2hlcnMgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XG4gICAgICAgICAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgICAgICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUucHJvdG90eXBlID0gdGhpcztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQgPSBuZXcgdGhpcy4kJENoaWxkU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC4kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xuICAgICAgICBpZiAocGFyZW50LiQkY2hpbGRIZWFkKSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIG5ldyBzY29wZSBpcyBub3QgaXNvbGF0ZWQgb3Igd2UgaW5oZXJpdCBmcm9tIGB0aGlzYCwgYW5kXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLCB0aGUgcHJvcGVydHkgYCQkZGVzdHJveWVkYCBpcyBpbmhlcml0ZWRcbiAgICAgICAgLy8gcHJvdG90eXBpY2FsbHkuIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBwcm9wZXJ0eSBuZWVkcyB0byBiZSBzZXRcbiAgICAgICAgLy8gd2hlbiB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgLy8gVGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlIGFkZGVkIGFmdGVyIHRoZSBwYXJlbnQgaXMgc2V0XG4gICAgICAgIGlmIChpc29sYXRlIHx8IHBhcmVudCAhPSB0aGlzKSBjaGlsZC4kb24oJyRkZXN0cm95JywgZGVzdHJveUNoaWxkKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG5cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUNoaWxkKCkge1xuICAgICAgICAgIGNoaWxkLiQkZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKFNpbmNlXG4gICAgICAgKiAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSByZXJ1bnMgd2hlbiBpdCBkZXRlY3RzIGNoYW5nZXMgdGhlXG4gICAgICAgKiAgIGB3YXRjaEV4cHJlc3Npb25gIGNhbiBleGVjdXRlIG11bHRpcGxlIHRpbWVzIHBlclxuICAgICAgICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gYW5kIHNob3VsZCBiZSBpZGVtcG90ZW50LilcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgdmFsdWUgZnJvbSB0aGUgY3VycmVudCBgd2F0Y2hFeHByZXNzaW9uYCBhbmQgdGhlXG4gICAgICAgKiAgIHByZXZpb3VzIGNhbGwgdG8gYHdhdGNoRXhwcmVzc2lvbmAgYXJlIG5vdCBlcXVhbCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBpbml0aWFsIHJ1bixcbiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcbiAgICAgICAqICAgW3N0cmljdCBjb21wYXJpc29uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29tcGFyaXNvbl9PcGVyYXRvcnMpXG4gICAgICAgKiAgICB2aWEgdGhlIGAhPT1gIEphdmFzY3JpcHQgb3BlcmF0b3IsIHVubGVzcyBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWBcbiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxuICAgICAgICogLSBXaGVuIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYCwgaW5lcXVhbGl0eSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgZGV0ZXJtaW5lZFxuICAgICAgICogICBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24uIFRvIHNhdmUgdGhlIHZhbHVlIG9mIHRoZSBvYmplY3QgZm9yXG4gICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XG4gICAgICAgKiAgIHdhdGNoaW5nIGNvbXBsZXggb2JqZWN0cyB3aWxsIGhhdmUgYWR2ZXJzZSBtZW1vcnkgYW5kIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAgICAgICAqIC0gVGhlIHdhdGNoIGBsaXN0ZW5lcmAgbWF5IGNoYW5nZSB0aGUgbW9kZWwsIHdoaWNoIG1heSB0cmlnZ2VyIG90aGVyIGBsaXN0ZW5lcmBzIHRvIGZpcmUuXG4gICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuXG4gICAgICAgKiAgIGl0ZXJhdGlvbiBsaW1pdCBpcyAxMCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AgZGVhZGxvY2suXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gaXMgY2FsbGVkLFxuICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGggbm8gYGxpc3RlbmVyYC4gKFNpbmNlIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSB3aGVuIGFcbiAgICAgICAqIGNoYW5nZSBpcyBkZXRlY3RlZCwgYmUgcHJlcGFyZWQgZm9yIG11bHRpcGxlIGNhbGxzIHRvIHlvdXIgbGlzdGVuZXIuKVxuICAgICAgICpcbiAgICAgICAqIEFmdGVyIGEgd2F0Y2hlciBpcyByZWdpc3RlcmVkIHdpdGggdGhlIHNjb3BlLCB0aGUgYGxpc3RlbmVyYCBmbiBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAqICh2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luYyAkZXZhbEFzeW5jfSkgdG8gaW5pdGlhbGl6ZSB0aGVcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxuICAgICAgICogb2YgYHdhdGNoRXhwcmVzc2lvbmAgZGlkbid0IGNoYW5nZS4gVG8gZGV0ZWN0IHRoaXMgc2NlbmFyaW8gd2l0aGluIHRoZSBgbGlzdGVuZXJgIGZuLCB5b3VcbiAgICAgICAqIGNhbiBjb21wYXJlIHRoZSBgbmV3VmFsYCBhbmQgYG9sZFZhbGAuIElmIHRoZXNlIHR3byB2YWx1ZXMgYXJlIGlkZW50aWNhbCAoYD09PWApIHRoZW4gdGhlXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG5cblxuXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cbiAgICAgICAgICAgdmFyIGZvb2Q7XG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxuICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNoYW5nZSBsaXN0ZW5lciwgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGFib3ZlIGZ1bmN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAvLyBPbmx5IGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICk7XG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFVwZGF0ZSBmb29kIGFuZCBydW4gZGlnZXN0LiAgTm93IHRoZSBjb3VudGVyIHdpbGwgaW5jcmVtZW50XG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoZnVuY3Rpb24oKXxzdHJpbmcpfSB3YXRjaEV4cHJlc3Npb24gRXhwcmVzc2lvbiB0aGF0IGlzIGV2YWx1YXRlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgbmV3VmFsYCBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gb2JqZWN0RXF1YWxpdHkgQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxuICAgICAgICogICAgIGNvbXBhcmluZyBmb3IgcmVmZXJlbmNlIGVxdWFsaXR5LlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoOiBmdW5jdGlvbih3YXRjaEV4cCwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KSB7XG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xuXG4gICAgICAgIGlmIChnZXQuJCR3YXRjaERlbGVnYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMsXG4gICAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMsXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xuICAgICAgICAgICAgICBmbjogbGlzdGVuZXIsXG4gICAgICAgICAgICAgIGxhc3Q6IGluaXRXYXRjaFZhbCxcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICAgIGV4cDogd2F0Y2hFeHAsXG4gICAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgd2F0Y2hlci5mbiA9IG5vb3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgdXNlIHVuc2hpZnQgc2luY2Ugd2UgdXNlIGEgd2hpbGUgbG9vcCBpbiAkZGlnZXN0IGZvciBzcGVlZC5cbiAgICAgICAgLy8gdGhlIHdoaWxlIGxvb3AgcmVhZHMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgYXJyYXkudW5zaGlmdCh3YXRjaGVyKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkge1xuICAgICAgICAgIGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKTtcbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIHZhcmlhbnQgb2Yge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aGVyZSBpdCB3YXRjaGVzIGFuIGFycmF5IG9mIGB3YXRjaEV4cHJlc3Npb25zYC5cbiAgICAgICAqIElmIGFueSBvbmUgZXhwcmVzc2lvbiBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBgbGlzdGVuZXJgIGlzIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGl0ZW1zIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgYXJlIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBhcmUgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBjaGFuZ2VzLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbihzY29wZSk+fSB3YXRjaEV4cHJlc3Npb25zIEFycmF5IG9mIGV4cHJlc3Npb25zIHRoYXQgd2lsbCBiZSBpbmRpdmlkdWFsbHlcbiAgICAgICAqIHdhdGNoZWQgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSByZXR1cm4gdmFsdWUgb2YgYW55XG4gICAgICAgKiAgICBleHByZXNzaW9uIGluIGB3YXRjaEV4cHJlc3Npb25zYCBjaGFuZ2VzXG4gICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBhbmQgdGhlIGBvbGRWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIFRoZSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciBhbGwgbGlzdGVuZXJzLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hHcm91cDogZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgZGVyZWdpc3RlckZucyA9IFtdO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZmlyc3RSdW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBObyBleHByZXNzaW9ucyBtZWFucyB3ZSBjYWxsIHRoZSBsaXN0ZW5lciBBU0FQXG4gICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2god2F0Y2hFeHByZXNzaW9uc1swXSwgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCAodmFsdWUgPT09IG9sZFZhbHVlKSA/IG5ld1ZhbHVlcyA6IG9sZFZhbHVlcywgc2NvcGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLCBmdW5jdGlvbihleHByLCBpKSB7XG4gICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1tpXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcbiAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgIHdoaWxlIChkZXJlZ2lzdGVyRm5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNoYWxsb3cgd2F0Y2hlcyB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kIGZpcmVzIHdoZW5ldmVyIGFueSBvZiB0aGUgcHJvcGVydGllcyBjaGFuZ2VcbiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZ1xuICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55dGhpbmcgd2l0aGluIHRoZSBgb2JqYCBoYXMgY2hhbmdlZC4gRXhhbXBsZXMgaW5jbHVkZVxuICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ2lnb3InLCAnbWF0aWFzJywgJ21pc2tvJywgJ2phbWVzJ107XG4gICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IDQ7XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmFtZXMnLCBmdW5jdGlvbihuZXdOYW1lcywgb2xkTmFtZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSBuZXdOYW1lcy5sZW5ndGg7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgLy9zdGlsbCBhdCA0IC4uLiBubyBjaGFuZ2VzXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG5cbiAgICAgICAgICAkc2NvcGUubmFtZXMucG9wKCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZVxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDMpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKHNjb3BlKX0gb2JqIEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS4gVGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaFxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQW55IHNoYWxsb3cgY2hhbmdlIHdpdGhpbiB0aGVcbiAgICAgICAqICAgIGNvbGxlY3Rpb24gd2lsbCB0cmlnZ2VyIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld0NvbGxlY3Rpb24sIG9sZENvbGxlY3Rpb24sIHNjb3BlKX0gbGlzdGVuZXIgYSBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWRcbiAgICAgICAqICAgIHdoZW4gYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuXG4gICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb25cbiAgICAgICAqICAgIC0gVGhlIGBvbGRDb2xsZWN0aW9uYCBvYmplY3QgaXMgYSBjb3B5IG9mIHRoZSBmb3JtZXIgY29sbGVjdGlvbiBkYXRhLlxuICAgICAgICogICAgICBEdWUgdG8gcGVyZm9ybWFuY2UgY29uc2lkZXJhdGlvbnMsIHRoZWBvbGRDb2xsZWN0aW9uYCB2YWx1ZSBpcyBjb21wdXRlZCBvbmx5IGlmIHRoZVxuICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cbiAgICAgICAqICAgIC0gVGhlIGBzY29wZWAgYXJndW1lbnQgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZVxuICAgICAgICogICAgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLCB0aGUgaW50ZXJuYWwgd2F0Y2ggb3BlcmF0aW9uIGlzIHRlcm1pbmF0ZWQuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uKG9iaiwgbGlzdGVuZXIpIHtcbiAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyB0aGUgY3VycmVudCB2YWx1ZSwgdXBkYXRlZCBvbiBlYWNoIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgbmV3VmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHRoZSBsYXN0IGRpcnR5LWNoZWNrIHJ1bixcbiAgICAgICAgLy8gdXBkYXRlZCB0byBtYXRjaCBuZXdWYWx1ZSBkdXJpbmcgZGlydHktY2hlY2sgcnVuXG4gICAgICAgIHZhciBvbGRWYWx1ZTtcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gd2hlbiB0aGUgbGFzdCBjaGFuZ2UgaGFwcGVuZWRcbiAgICAgICAgdmFyIHZlcnlPbGRWYWx1ZTtcbiAgICAgICAgLy8gb25seSB0cmFjayB2ZXJ5T2xkVmFsdWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFza2luZyBmb3IgaXRcbiAgICAgICAgdmFyIHRyYWNrVmVyeU9sZFZhbHVlID0gKGxpc3RlbmVyLmxlbmd0aCA+IDEpO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0ZWQgPSAwO1xuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0b3IgPSAkcGFyc2Uob2JqLCAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IpO1xuICAgICAgICB2YXIgaW50ZXJuYWxBcnJheSA9IFtdO1xuICAgICAgICB2YXIgaW50ZXJuYWxPYmplY3QgPSB7fTtcbiAgICAgICAgdmFyIGluaXRSdW4gPSB0cnVlO1xuICAgICAgICB2YXIgb2xkTGVuZ3RoID0gMDtcblxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IoX3ZhbHVlKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBfdmFsdWU7XG4gICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5LCBib3RoTmFOLCBuZXdJdGVtLCBvbGRJdGVtO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZW4gcmV0dXJuIHVuZGVmaW5lZCBhcyB0aGUgd2F0Y2ggbWF5IGJlIGEgb25lLXRpbWUgd2F0Y2hcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobmV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkgeyAvLyBpZiBwcmltaXRpdmVcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbEFycmF5KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gYXJyYXkgaW50byBhcnJheS5cbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbEFycmF5O1xuICAgICAgICAgICAgICBvbGRMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdMZW5ndGggPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggIT09IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBpZiBsZW5ndGhzIGRvIG5vdCBtYXRjaCB3ZSBuZWVkIHRvIHRyaWdnZXIgY2hhbmdlIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICBvbGRWYWx1ZS5sZW5ndGggPSBvbGRMZW5ndGggPSBuZXdMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2ldO1xuICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVbaV07XG5cbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsT2JqZWN0KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5ld1ZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXG4gICAgICAgKlxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdhdGNoLCB2YWx1ZSwgbGFzdCxcbiAgICAgICAgICAgIHdhdGNoZXJzLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgZGlydHksIHR0bCA9IFRUTCxcbiAgICAgICAgICAgIG5leHQsIGN1cnJlbnQsIHRhcmdldCA9IHRoaXMsXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxuICAgICAgICAgICAgbG9nSWR4LCBsb2dNc2csIGFzeW5jVGFzaztcblxuICAgICAgICBiZWdpblBoYXNlKCckZGlnZXN0Jyk7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHRvIGJyb3dzZXIgdXJsIHRoYXQgaGFwcGVuZWQgaW4gc3luYyBiZWZvcmUgdGhlIGNhbGwgdG8gJGRpZ2VzdFxuICAgICAgICAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgcm9vdCBzY29wZSwgYW5kICRhcHBseUFzeW5jIGhhcyBzY2hlZHVsZWQgYSBkZWZlcnJlZCAkYXBwbHkoKSwgdGhlblxuICAgICAgICAgIC8vIGNhbmNlbCB0aGUgc2NoZWR1bGVkICRhcHBseSBhbmQgZmx1c2ggdGhlIHF1ZXVlIG9mIGV4cHJlc3Npb25zIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcbiAgICAgICAgICBmbHVzaEFwcGx5QXN5bmMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBkbyB7IC8vIFwid2hpbGUgZGlydHlcIiBsb29wXG4gICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgd2hpbGUgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhc3luY1Rhc2sgPSBhc3luY1F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGFzeW5jVGFzay5zY29wZS4kZXZhbChhc3luY1Rhc2suZXhwcmVzc2lvbiwgYXN5bmNUYXNrLmxvY2Fscyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYXZlcnNlU2NvcGVzTG9vcDpcbiAgICAgICAgICBkbyB7IC8vIFwidHJhdmVyc2UgdGhlIHNjb3Blc1wiIGxvb3BcbiAgICAgICAgICAgIGlmICgod2F0Y2hlcnMgPSBjdXJyZW50LiQkd2F0Y2hlcnMpKSB7XG4gICAgICAgICAgICAgIC8vIHByb2Nlc3Mgb3VyIHdhdGNoZXNcbiAgICAgICAgICAgICAgbGVuZ3RoID0gd2F0Y2hlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgd2F0Y2ggPSB3YXRjaGVyc1tsZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgLy8gTW9zdCBjb21tb24gd2F0Y2hlcyBhcmUgb24gcHJpbWl0aXZlcywgaW4gd2hpY2ggY2FzZSB3ZSBjYW4gc2hvcnRcbiAgICAgICAgICAgICAgICAgIC8vIGNpcmN1aXQgaXQgd2l0aCA9PT0gb3BlcmF0b3IsIG9ubHkgd2hlbiA9PT0gZmFpbHMgZG8gd2UgdXNlIC5lcXVhbHNcbiAgICAgICAgICAgICAgICAgIGlmICh3YXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID0gd2F0Y2guZ2V0KGN1cnJlbnQpKSAhPT0gKGxhc3QgPSB3YXRjaC5sYXN0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXF1YWxzKHZhbHVlLCBsYXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxhc3QgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4odmFsdWUpICYmIGlzTmFOKGxhc3QpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIHdhdGNoLmZuKHZhbHVlLCAoKGxhc3QgPT09IGluaXRXYXRjaFZhbCkgPyB2YWx1ZSA6IGxhc3QpLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHRsIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2F0Y2hMb2dbbG9nSWR4XSkgd2F0Y2hMb2dbbG9nSWR4XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBpc0Z1bmN0aW9uKHdhdGNoLmV4cCkgPyAnZm46ICcgKyAod2F0Y2guZXhwLm5hbWUgfHwgd2F0Y2guZXhwLnRvU3RyaW5nKCkpIDogd2F0Y2guZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWw6IGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3YXRjaCA9PT0gbGFzdERpcnR5V2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9zdCByZWNlbnRseSBkaXJ0eSB3YXRjaGVyIGlzIG5vdyBjbGVhbiwgc2hvcnQgY2lyY3VpdCBzaW5jZSB0aGUgcmVtYWluaW5nIHdhdGNoZXJzXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhbHJlYWR5IGJlZW4gdGVzdGVkLlxuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGJyb2FkY2FzdFxuICAgICAgICAgICAgaWYgKCEobmV4dCA9IChjdXJyZW50LiQkY2hpbGRIZWFkIHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSkpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpO1xuXG4gICAgICAgICAgLy8gYGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtgIHRha2VzIHVzIHRvIGhlcmVcblxuICAgICAgICAgIGlmICgoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpICYmICEodHRsLS0pKSB7XG4gICAgICAgICAgICBjbGVhclBoYXNlKCk7XG4gICAgICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbmZkaWcnLFxuICAgICAgICAgICAgICAgICd7MH0gJGRpZ2VzdCgpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXFxuJyArXG4gICAgICAgICAgICAgICAgJ1dhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9JyxcbiAgICAgICAgICAgICAgICBUVEwsIHdhdGNoTG9nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGNsZWFyUGhhc2UoKTtcblxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxuICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXG4gICAgICAgKlxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cbiAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gd2UgY2FuJ3QgZGVzdHJveSB0aGUgcm9vdCBzY29wZSBvciBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWRcbiAgICAgICAgaWYgKHRoaXMuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcblxuICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7XG4gICAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xuICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQodGhpcywgdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSwgZXZlbnROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZFRhaWwgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuICAgICAgICBpZiAodGhpcy4kJHByZXZTaWJsaW5nKSB0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZyA9IHRoaXMuJCRuZXh0U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRuZXh0U2libGluZykgdGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgICAgLy8gRGlzYWJsZSBsaXN0ZW5lcnMsIHdhdGNoZXJzIGFuZCBhcHBseS9kaWdlc3QgbWV0aG9kc1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gdGhpcy4kZGlnZXN0ID0gdGhpcy4kYXBwbHkgPSB0aGlzLiRldmFsQXN5bmMgPSB0aGlzLiRhcHBseUFzeW5jID0gbm9vcDtcbiAgICAgICAgdGhpcy4kb24gPSB0aGlzLiR3YXRjaCA9IHRoaXMuJHdhdGNoR3JvdXAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5vb3A7IH07XG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcblxuICAgICAgICAvLyBBbGwgb2YgdGhlIGNvZGUgYmVsb3cgaXMgYm9ndXMgY29kZSB0aGF0IHdvcmtzIGFyb3VuZCBWOCdzIG1lbW9yeSBsZWFrIHZpYSBvcHRpbWl6ZWQgY29kZVxuICAgICAgICAvLyBhbmQgaW5saW5lIGNhY2hlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gc2VlOlxuICAgICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNlxuICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTMxMyNpc3N1ZWNvbW1lbnQtMTAzNzg0NTFcblxuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkY2hpbGRIZWFkID1cbiAgICAgICAgICAgIHRoaXMuJCRjaGlsZFRhaWwgPSB0aGlzLiRyb290ID0gdGhpcy4kJHdhdGNoZXJzID0gbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBgZXhwcmVzc2lvbmAgb24gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gQW55IGV4Y2VwdGlvbnMgaW5cbiAgICAgICAqIHRoZSBleHByZXNzaW9uIGFyZSBwcm9wYWdhdGVkICh1bmNhdWdodCkuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZXZhbHVhdGluZyBBbmd1bGFyXG4gICAgICAgKiBleHByZXNzaW9ucy5cbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IG5nLiRyb290U2NvcGUuU2NvcGUoKTtcbiAgICAgICAgICAgc2NvcGUuYSA9IDE7XG4gICAgICAgICAgIHNjb3BlLmIgPSAyO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbCgnYStiJykpLnRvRXF1YWwoMyk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluICB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgJGV2YWw6IGZ1bmN0aW9uKGV4cHIsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgYCRldmFsQXN5bmNgIG1ha2VzIG5vIGd1YXJhbnRlZXMgYXMgdG8gd2hlbiB0aGUgYGV4cHJlc3Npb25gIHdpbGwgYmUgZXhlY3V0ZWQsIG9ubHlcbiAgICAgICAqIHRoYXQ6XG4gICAgICAgKlxuICAgICAgICogICAtIGl0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgZnVuY3Rpb24gdGhhdCBzY2hlZHVsZWQgdGhlIGV2YWx1YXRpb24gKHByZWZlcmFibHkgYmVmb3JlIERPTVxuICAgICAgICogICAgIHJlbmRlcmluZykuXG4gICAgICAgKiAgIC0gYXQgbGVhc3Qgb25lIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCBjeWNsZX0gd2lsbCBiZSBwZXJmb3JtZWQgYWZ0ZXJcbiAgICAgICAqICAgICBgZXhwcmVzc2lvbmAgZXhlY3V0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIF9fTm90ZTpfXyBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgYCRkaWdlc3RgIGN5Y2xlLCBhIG5ldyBgJGRpZ2VzdGAgY3ljbGVcbiAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkLiBIb3dldmVyLCBpdCBpcyBlbmNvdXJhZ2VkIHRvIGFsd2F5cyBjYWxsIGNvZGUgdGhhdCBjaGFuZ2VzIHRoZSBtb2RlbFxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS5cbiAgICAgICAqL1xuICAgICAgJGV2YWxBc3luYzogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBvdXRzaWRlIG9mIGFuICRkaWdlc3QgbG9vcCBhbmQgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB3ZSBhcmUgc2NoZWR1bGluZyBhc3luY1xuICAgICAgICAvLyB0YXNrIGFsc28gc2NoZWR1bGUgYXN5bmMgYXV0by1mbHVzaFxuICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSAmJiAhYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jUXVldWUucHVzaCh7c2NvcGU6IHRoaXMsIGV4cHJlc3Npb246IGV4cHIsIGxvY2FsczogbG9jYWxzfSk7XG4gICAgICB9LFxuXG4gICAgICAkJHBvc3REaWdlc3Q6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBgJGFwcGx5KClgIGlzIHVzZWQgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIGFuZ3VsYXIgZnJvbSBvdXRzaWRlIG9mIHRoZSBhbmd1bGFyXG4gICAgICAgKiBmcmFtZXdvcmsuIChGb3IgZXhhbXBsZSBmcm9tIGJyb3dzZXIgRE9NIGV2ZW50cywgc2V0VGltZW91dCwgWEhSIG9yIHRoaXJkIHBhcnR5IGxpYnJhcmllcykuXG4gICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxuICAgICAgICogY3ljbGUgb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyIGV4Y2VwdGlvbiBoYW5kbGluZ30sXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0IGV4ZWN1dGluZyB3YXRjaGVzfS5cbiAgICAgICAqXG4gICAgICAgKiAjIyBMaWZlIGN5Y2xlXG4gICAgICAgKlxuICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICBmdW5jdGlvbiAkYXBwbHkoZXhwcikge1xuICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7XG4gICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICRyb290LiRkaWdlc3QoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBTY29wZSdzIGAkYXBwbHkoKWAgbWV0aG9kIHRyYW5zaXRpb25zIHRocm91Z2ggdGhlIGZvbGxvd2luZyBzdGFnZXM6XG4gICAgICAgKlxuICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZVxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWwgJGV2YWwoKX0gbWV0aG9kLlxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKiAzLiBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNofSBsaXN0ZW5lcnMgYXJlIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkYXBwbHk6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBiZWdpblBoYXNlKCckYXBwbHknKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGNsZWFyUGhhc2UoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2NoZWR1bGUgdGhlIGludm9jYXRpb24gb2YgJGFwcGx5IHRvIG9jY3VyIGF0IGEgbGF0ZXIgdGltZS4gVGhlIGFjdHVhbCB0aW1lIGRpZmZlcmVuY2VcbiAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXG4gICAgICAgKlxuICAgICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBxdWV1ZSB1cCBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGljaCBuZWVkIHRvIGJlIGV2YWx1YXRlZCBpbiB0aGUgc2FtZVxuICAgICAgICogZGlnZXN0LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqL1xuICAgICAgJGFwcGx5QXN5bmM6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcbiAgICAgICAgZXhwciAmJiBhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pO1xuICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcblxuICAgICAgICBmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGV2YWwoZXhwcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXG4gICAgICAgKiBkaXNjdXNzaW9uIG9mIGV2ZW50IGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxuICAgICAgICogcGFzc2VkIGludG8gdGhlIGxpc3RlbmVyIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gICAgICAgKlxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcbiAgICAgICAqICAgICBgJGJyb2FkY2FzdGAtZWQuXG4gICAgICAgKiAgIC0gYGN1cnJlbnRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSB0aGF0IGlzIGN1cnJlbnRseSBoYW5kbGluZyB0aGUgZXZlbnQuIE9uY2UgdGhlXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXG4gICAgICAgKiAgIC0gYG5hbWVgIC0gYHtzdHJpbmd9YDogbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgKiAgIC0gYHN0b3BQcm9wYWdhdGlvbmAgLSBge2Z1bmN0aW9uPX1gOiBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIGZ1bmN0aW9uIHdpbGwgY2FuY2VsXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXG4gICAgICAgKiAgIC0gYHByZXZlbnREZWZhdWx0YCAtIGB7ZnVuY3Rpb259YDogY2FsbGluZyBgcHJldmVudERlZmF1bHRgIHNldHMgYGRlZmF1bHRQcmV2ZW50ZWRgIGZsYWdcbiAgICAgICAqICAgICB0byB0cnVlLlxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGxpc3RlbiBvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBuYW1lZExpc3RlbmVycyA9IHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV07XG4gICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XG4gICAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XG4gICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGluZGV4T2ZMaXN0ZW5lciA9IG5hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdID0gbnVsbDtcbiAgICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwgMSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGVtaXRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCB1cHdhcmRzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSBub3RpZnlpbmcgdGhlXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRlbWl0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHRyYXZlcnNlcyB1cHdhcmRzIHRvd2FyZCB0aGUgcm9vdCBzY29wZSBhbmQgY2FsbHMgYWxsXG4gICAgICAgKiByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgd2lsbCBzdG9wIHByb3BhZ2F0aW5nIGlmIG9uZSBvZiB0aGUgbGlzdGVuZXJzXG4gICAgICAgKiBjYW5jZWxzIGl0LlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gZW1pdC5cbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QgKHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259KS5cbiAgICAgICAqL1xuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gW10sXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyxcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtzdG9wUHJvcGFnYXRpb24gPSB0cnVlO30sXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGksIGxlbmd0aDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lZExpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XG4gICAgICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xuICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoc2NvcGUpO1xuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCwgc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAqL1xuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSByZXR1cm4gZXZlbnQ7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbGlzdGVuZXJzLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxuICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSkge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRkaWdlc3RcbiAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkbGlzdGVuZXJDb3VudClcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgJHJvb3RTY29wZSA9IG5ldyBTY29wZSgpO1xuXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXG4gICAgdmFyIGFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZSA9IFtdO1xuICAgIHZhciBwb3N0RGlnZXN0UXVldWUgPSAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlID0gW107XG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcblxuICAgIHJldHVybiAkcm9vdFNjb3BlO1xuXG5cbiAgICBmdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKSB7XG4gICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2lucHJvZycsICd7MH0gYWxyZWFkeSBpbiBwcm9ncmVzcycsICRyb290U2NvcGUuJCRwaGFzZSk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IHBoYXNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyUGhhc2UoKSB7XG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcblxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cbiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XG5cbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlBc3luY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxuICovXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XG4gIHZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxcbiAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO1xuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICAgICAgdmFyIG5vcm1hbGl6ZWRWYWw7XG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiAndW5zYWZlOicgKyBub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICBIVE1MOiAnaHRtbCcsXG4gIENTUzogJ2NzcycsXG4gIFVSTDogJ3VybCcsXG4gIC8vIFJFU09VUkNFX1VSTCBpcyBhIHN1YnR5cGUgb2YgVVJMIHVzZWQgaW4gY29udGV4dHMgd2hlcmUgYSBwcml2aWxlZ2VkIHJlc291cmNlIGlzIHNvdXJjZWQgZnJvbSBhXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG4gIEpTOiAnanMnXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvbGxvdy5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXCpcXFxcKicsICcuKicpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cbiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLFxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcbiAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbihtYXRjaGVyKSB7XG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZURlbGVnYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlRGVsZWdhdGVgIGlzIGEgc2VydmljZSB0aGF0IGlzIHVzZWQgYnkgdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIHByb3ZpZGUge0BsaW5rIG5nLiRzY2UgU3RyaWN0XG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY29uZmlndXJlIG9yIG92ZXJyaWRlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gaW5zdGVhZCBvZlxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXG4gKiBvdmVycmlkZSAzIGNvcmUgZnVuY3Rpb25zIChgdHJ1c3RBc2AsIGBnZXRUcnVzdGVkYCBhbmQgYHZhbHVlT2ZgKSB0byByZXBsYWNlIHRoZSB3YXkgdGhpbmdzXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IHRvIGNvbmZpZ3VyZSB0aGlzIHNlcnZpY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxuICogY2FuIG92ZXJyaWRlIGl0IGNvbXBsZXRlbHkgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZiBgJHNjZWAsIHRoZSBjb21tb24gY2FzZSB3b3VsZFxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcbiAqIHRlbXBsYXRlcy4gIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxuICogdGhhdCB0aGUgVVJMcyB1c2VkIGZvciBzb3VyY2luZyBBbmd1bGFyIHRlbXBsYXRlcyBhcmUgc2FmZS4gIFJlZmVyIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgIE5vdGU6ICoqYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMqKiFcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xuICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxuICAgKlxuICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqL1xuXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCB0cnVzdGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXG4gICAgICAgICAgICB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBtYXliZVRydXN0ZWQgPT09IHVuZGVmaW5lZCB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICB9XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoY29uc3RydWN0b3IgJiYgbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IG9ubHkgdGFrZSBvbmUgb2YgdHdvIGFjdGlvbnMuXG4gICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3JcbiAgICAgIC8vIDIuIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMKSB7XG4gICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHtcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJyxcbiAgICAgICAgICAgICAgJ0Jsb2NrZWQgbG9hZGluZyByZXNvdXJjZSBmcm9tIHVybCBub3QgYWxsb3dlZCBieSAkc2NlRGVsZWdhdGUgcG9saWN5LiAgVVJMOiB7MH0nLFxuICAgICAgICAgICAgICBtYXliZVRydXN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLkhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlICRzY2VQcm92aWRlciBwcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byBjb25maWd1cmUgdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UuXG4gKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcbiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlXG4gKlxuICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqL1xuXG4vKiBqc2hpbnQgbWF4bGVuOiBmYWxzZSovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXG4gKlxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluXG4gKiBjb250ZXh0cyB0byByZXN1bHQgaW4gYSB2YWx1ZSB0aGF0IGlzIG1hcmtlZCBhcyBzYWZlIHRvIHVzZSBmb3IgdGhhdCBjb250ZXh0LiAgT25lIGV4YW1wbGUgb2ZcbiAqIHN1Y2ggYSBjb250ZXh0IGlzIGJpbmRpbmcgYXJiaXRyYXJ5IGh0bWwgY29udHJvbGxlZCBieSB0aGUgdXNlciB2aWEgYG5nLWJpbmQtaHRtbGAuICBXZSByZWZlclxuICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuXG4gKlxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXIgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxuICpcbiAqIE5vdGU6ICBXaGVuIGVuYWJsZWQgKHRoZSBkZWZhdWx0KSwgSUU8MTEgaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU8MTEgYWxsb3dcbiAqIG9uZSB0byBleGVjdXRlIGFyYml0cmFyeSBqYXZhc2NyaXB0IGJ5IHRoZSB1c2Ugb2YgdGhlIGV4cHJlc3Npb24oKSBzeW50YXguICBSZWZlclxuICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLlxuICogWW91IGNhbiBlbnN1cmUgeW91ciBkb2N1bWVudCBpcyBpbiBzdGFuZGFyZHMgbW9kZSBhbmQgbm90IHF1aXJrcyBtb2RlIGJ5IGFkZGluZyBgPCFkb2N0eXBlIGh0bWw+YFxuICogdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgZG9jdW1lbnQuXG4gKlxuICogU0NFIGFzc2lzdHMgaW4gd3JpdGluZyBjb2RlIGluIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzIHN1Y2ggYXMgWFNTLCBjbGlja2phY2tpbmcsIGV0Yy4gYSBsb3QgZWFzaWVyLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcbiAqXG4gKiBgYGBcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCI+XG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXG4gKiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2cgYXJ0aWNsZXMsIGV0Yy4gdmlhXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGFueSBzdWNoIGJpbmRpbmdzIGFyZSBkaXNhbGxvd2VkIHVubGVzcyB5b3UgY2FuXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcbiAqIGZvciB0aG9zZSB2YWx1ZXMgdGhhdCB5b3UgY2FuIGVhc2lseSB0ZWxsIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB5b3VyIHNlcnZlcixcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcbiAqIGV4cG9zZWQgYnkgdGhhdCBjb2RlIGRvZXNuJ3QgbWFya3VwIGFyYml0cmFyeSB2YWx1ZXMgYXMgc2FmZSB0aGVuIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cbiAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXG4gKlxuICpcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXG4gKiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBUaGlzIGFwcGxpZXMgYm90aCB0byB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nLWluY2x1ZGVgfSBkaXJlY3RpdmUgYXMgd2VsbCBhc1xuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICpcbiAqIEJ5IGRlZmF1bHQsIEFuZ3VsYXIgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdFxuICogdGhlbX0gb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgaXR9IGludG8gYSB0cnVzdGVkIHZhbHVlLlxuICpcbiAqICpQbGVhc2Ugbm90ZSo6XG4gKiBUaGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IGFwcGx5IGluIGFkZGl0aW9uIHRvIHRoaXMgYW5kIG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseVxuICogbG9hZGVkLiAgVGhpcyBtZWFucyB0aGF0IHdpdGhvdXQgdGhlIHJpZ2h0IENPUlMgcG9saWN5LCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpblxuICogd29uJ3Qgd29yayBvbiBhbGwgYnJvd3NlcnMuICBBbHNvLCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGBmaWxlOi8vYCBVUkwgZG9lcyBub3Qgd29yayBvbiBzb21lXG4gKiBicm93c2Vycy5cbiAqXG4gKiAjIyBUaGlzIGZlZWxzIGxpa2UgdG9vIG11Y2ggb3ZlcmhlYWRcbiAqXG4gKiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IFNDRSBvbmx5IGFwcGxpZXMgdG8gaW50ZXJwb2xhdGlvbiBleHByZXNzaW9ucy5cbiAqXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXG4gKiBjYWxsIGAkc2NlLnRydXN0QXNgIG9uIHRoZW0gKHJlbWVtYmVyIHRvIGluY2x1ZGUgdGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUpIChlLmcuXG4gKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgYGFbaHJlZl1gIGFuZCBgaW1nW3NyY11gIGF1dG9tYXRpY2FsbHkgc2FuaXRpemUgdGhlaXIgVVJMcyBhbmQgZG8gbm90IHBhc3MgdGhlbVxuICogdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0uICBTQ0UgZG9lc24ndCBwbGF5IGEgcm9sZSBoZXJlLlxuICpcbiAqIFRoZSBpbmNsdWRlZCB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gY29tZXMgd2l0aCBzYW5lIGRlZmF1bHRzIHRvIGFsbG93IHlvdSB0byBsb2FkXG4gKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xuICogc2VydmVkIGRvY3VtZW50LiAgWW91IGNhbiBjaGFuZ2UgdGhlc2UgYnkgc2V0dGluZyB5b3VyIG93biBjdXN0b20ge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxuICpcbiAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcbiAqIHNlY3VyaXR5IG9udG8gYW4gYXBwbGljYXRpb24gbGF0ZXIuXG4gKlxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxuICogIyMgV2hhdCB0cnVzdGVkIGNvbnRleHQgdHlwZXMgYXJlIHN1cHBvcnRlZD9cbiAqXG4gKiB8IENvbnRleHQgICAgICAgICAgICAgfCBOb3RlcyAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAkc2NlLkhUTUxgICAgICAgICAgfCBGb3IgSFRNTCB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBUaGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IGRpcmVjdGl2ZSB1c2VzIHRoaXMgY29udGV4dCBmb3IgYmluZGluZ3MuIElmIGFuIHVuc2FmZSB2YWx1ZSBpcyBlbmNvdW50ZXJlZCBhbmQgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX0gbW9kdWxlIGlzIHByZXNlbnQgdGhpcyB3aWxsIHNhbml0aXplIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiB8XG4gKiB8IGAkc2NlLkNTU2AgICAgICAgICAgfCBGb3IgQ1NTIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcbiAqIHwgYCRzY2UuVVJMYCAgICAgICAgICB8IEZvciBVUkxzIHRoYXQgYXJlIHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLiAgQ3VycmVudGx5IHVudXNlZCAoYDxhIGhyZWY9YCBhbmQgYDxpbWcgc3JjPWAgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4gfFxuICogfCBgJHNjZS5SRVNPVVJDRV9VUkxgIHwgRm9yIFVSTHMgdGhhdCBhcmUgbm90IG9ubHkgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MsIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgYWxzbyBzYWZlIHRvIGluY2x1ZGUgaW4geW91ciBhcHBsaWNhdGlvbi4gIEV4YW1wbGVzIGluY2x1ZGUgYG5nLWluY2x1ZGVgLCBgc3JjYCAvIGBuZ1NyY2AgYmluZGluZ3MgZm9yIHRhZ3Mgb3RoZXIgdGhhbiBgSU1HYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBhcmUgcmVxdWlyZWQuIHxcbiAqIHwgYCRzY2UuSlNgICAgICAgICAgICB8IEZvciBKYXZhU2NyaXB0IHRoYXQgaXMgc2FmZSB0byBleGVjdXRlIGluIHlvdXIgYXBwbGljYXRpb24ncyBjb250ZXh0LiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICpcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxuICpcbiAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogIC0gKionc2VsZicqKlxuICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXG4gKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xuICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJzsnLiAgSXQncyBhIHVzZWZ1bCB3aWxkY2FyZCBmb3IgdXNlXG4gKiAgICAgIGluIGEgd2hpdGVsaXN0LlxuICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdFxuICogICAgICBub3QgYXBwcm9wcmlhdGUgdG8gdXNlIGluIGZvciBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XG4gKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy5cbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxuICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheFxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxuICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZS4pLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXG4gKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAqICAgICAgaWYgdGhleSBhcyBhIGxhc3QgcmVzb3J0LlxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xuICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWRcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxuICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90XG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxuICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZFxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgZS5nLiBSdWJ5IGhhc1xuICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSlcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXG4gKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKFxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuXG4gKlxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJBcHBDb250cm9sbGVyIGFzIG15Q3RybFwiPlxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxuICogICAgIEJ5IGRlZmF1bHQsIEhUTUwgdGhhdCBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQgKGUuZy4gQWxpY2UncyBjb21tZW50KSBpcyBzYW5pdGl6ZWQgd2hlblxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxuICogICAgIGV4cGxvaXQuXG4gKiAgICAgPGRpdiBjbGFzcz1cIndlbGxcIj5cbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XG4gKiAgICAgICAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cInVzZXJDb21tZW50Lmh0bWxDb21tZW50XCIgY2xhc3M9XCJodG1sQ29tbWVudFwiPjwvc3Bhbj5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRzY2UnLFxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KFwidGVzdF9kYXRhLmpzb25cIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgICB9XSk7XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInRlc3RfZGF0YS5qc29uXCI+XG4gKiBbXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6XG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxuICogICB9LFxuICogICB7IFwibmFtZVwiOiBcIkJvYlwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcbiAqICAgfVxuICogXVxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnLmh0bWxDb21tZW50JykpLmZpcnN0KCkuZ2V0SW5uZXJIdG1sKCkpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgU0NFIGFuZCByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9O1xuXG5cbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXG4gICAqXG4gICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XG4gICAqXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcbiAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cbiAgICpcbiAgICogLSB2YWx1ZU9mKHZhbHVlKVxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcbiAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXG4gICAqXG4gICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiAgSW4gc29tZSBmdXR1cmUsIHdlXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJHBhcnNlLCAgICRzY2VEZWxlZ2F0ZSkge1xuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxuICAgICAqICAgcmVzb3VyY2VfdXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0h0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSHRtbCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEh0bWxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZSByZXR1cm5cbiAgICAgKiAgICAgdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRKc1xuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXG4gICAgICogdGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9KCkgY2FsbCBhbmQgcmV0dXJucyB0aGVcbiAgICAgKiBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUgY3JlYXRlZCB0eXBlLlxuICAgICAqIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG9cbiAgICAgKiAgICAgICAgICAgICAge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LlxuICAgICAqICAgICAgICAgICAgICBPdGhlcndpc2UsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZENzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEpzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNIdG1sKGV4cHJlc3Npb24gc3RyaW5nKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvLyBTaG9ydGhhbmQgZGVsZWdhdGlvbnMuXG4gICAgdmFyIHBhcnNlID0gc2NlLnBhcnNlQXMsXG4gICAgICAgIGdldFRydXN0ZWQgPSBzY2UuZ2V0VHJ1c3RlZCxcbiAgICAgICAgdHJ1c3RBcyA9IHNjZS50cnVzdEFzO1xuXG4gICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uKGVudW1WYWx1ZSwgbmFtZSkge1xuICAgICAgdmFyIGxOYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgICAgc2NlW2NhbWVsQ2FzZShcInBhcnNlX2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XG4gICAgICB9O1xuICAgICAgc2NlW2NhbWVsQ2FzZShcImdldF90cnVzdGVkX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJ0cnVzdF9hc19cIiArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RBcyhlbnVtVmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2NlO1xuICB9XTtcbn1cblxuLyoqXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgc2VydmljZSAhISFcbiAqXG4gKiBAbmFtZSAkc25pZmZlclxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhpc3RvcnkgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGh0bWw1IGhpc3RvcnkgYXBpID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNpdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyB0cmFuc2l0aW9uIGV2ZW50cyA/XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuXG4gKi9cbmZ1bmN0aW9uICRTbmlmZmVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICB2YXIgZXZlbnRTdXBwb3J0ID0ge30sXG4gICAgICAgIGFuZHJvaWQgPVxuICAgICAgICAgIGludCgoL2FuZHJvaWQgKFxcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSksXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXG4gICAgICAgIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9LFxuICAgICAgICB2ZW5kb3JQcmVmaXgsXG4gICAgICAgIHZlbmRvclJlZ2V4ID0gL14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxuICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgbWF0Y2g7XG5cbiAgICBpZiAoYm9keVN0eWxlKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGJvZHlTdHlsZSkge1xuICAgICAgICBpZiAobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gbWF0Y2hbMF07XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gdmVuZG9yUHJlZml4LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdmVuZG9yUHJlZml4LnN1YnN0cigxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZlbmRvclByZWZpeCkge1xuICAgICAgICB2ZW5kb3JQcmVmaXggPSAoJ1dlYmtpdE9wYWNpdHknIGluIGJvZHlTdHlsZSkgJiYgJ3dlYmtpdCc7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zaXRpb25zID0gISEoKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnVHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSk7XG4gICAgICBhbmltYXRpb25zICA9ICEhKCgnYW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnQW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpKTtcblxuICAgICAgaWYgKGFuZHJvaWQgJiYgKCF0cmFuc2l0aW9ucyB8fCAgIWFuaW1hdGlvbnMpKSB7XG4gICAgICAgIHRyYW5zaXRpb25zID0gaXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAvLyBBbmRyb2lkIGhhcyBoaXN0b3J5LnB1c2hTdGF0ZSwgYnV0IGl0IGRvZXMgbm90IHVwZGF0ZSBsb2NhdGlvbiBjb3JyZWN0bHlcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC5cbiAgICAgIC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9hbmRyb2lkL2lzc3Vlcy9kZXRhaWw/aWQ9MTc0NzFcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkwNFxuXG4gICAgICAvLyBvbGRlciB3ZWJraXQgYnJvd3NlciAoNTMzLjkpIG9uIEJveGVlIGJveCBoYXMgZXhhY3RseSB0aGUgc2FtZSBwcm9ibGVtIGFzIEFuZHJvaWQgaGFzXG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXG4gICAgICAvLyBXZSBhcmUgcHVycG9zZWZ1bGx5IHVzaW5nIGAhKGFuZHJvaWQgPCA0KWAgdG8gY292ZXIgdGhlIGNhc2Ugd2hlbiBgYW5kcm9pZGAgaXMgdW5kZWZpbmVkXG4gICAgICAvLyBqc2hpbnQgLVcwMThcbiAgICAgIGhpc3Rvcnk6ICEhKCR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlICYmICEoYW5kcm9pZCA8IDQpICYmICFib3hlZSksXG4gICAgICAvLyBqc2hpbnQgK1cwMThcbiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXG4gICAgICAgIC8vIGl0LiBJbiBwYXJ0aWN1bGFyIHRoZSBldmVudCBpcyBub3QgZmlyZWQgd2hlbiBiYWNrc3BhY2Ugb3IgZGVsZXRlIGtleSBhcmUgcHJlc3NlZCBvclxuICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxuICAgICAgICAvLyBJRTEwKyBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgYnV0IGl0IGVycm9uZW91c2x5IGZpcmVzIHVuZGVyIHZhcmlvdXMgc2l0dWF0aW9ucyxcbiAgICAgICAgLy8gZS5nLiB3aGVuIHBsYWNlaG9sZGVyIGNoYW5nZXMsIG9yIGEgZm9ybSBpcyBmb2N1c2VkLlxuICAgICAgICBpZiAoZXZlbnQgPT09ICdpbnB1dCcgJiYgbXNpZSA8PSAxMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudFN1cHBvcnRbZXZlbnRdKSkge1xuICAgICAgICAgIHZhciBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBldmVudFN1cHBvcnRbZXZlbnRdID0gJ29uJyArIGV2ZW50IGluIGRpdkVsbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xuICAgICAgfSxcbiAgICAgIGNzcDogY3NwKCksXG4gICAgICB2ZW5kb3JQcmVmaXg6IHZlbmRvclByZWZpeCxcbiAgICAgIHRyYW5zaXRpb25zOiB0cmFuc2l0aW9ucyxcbiAgICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgICBhbmRyb2lkOiBhbmRyb2lkXG4gICAgfTtcbiAgfV07XG59XG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkdGVtcGxhdGVSZXF1ZXN0YCBzZXJ2aWNlIGRvd25sb2FkcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdXNpbmcgYCRodHRwYCBhbmQsIHVwb24gc3VjY2VzcyxcbiAqIHN0b3JlcyB0aGUgY29udGVudHMgaW5zaWRlIG9mIGAkdGVtcGxhdGVDYWNoZWAuIElmIHRoZSBIVFRQIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGRhdGFcbiAqIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlIGV4Y2VwdGlvbiBjYW4gYmUgdGh3YXJ0ZWRcbiAqIGJ5IHNldHRpbmcgdGhlIDJuZCBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIHRvIHRydWUpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGlnbm9yZVJlcXVlc3RFcnJvciBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIGV4Y2VwdGlvbiB3aGVuIHRoZSByZXF1ZXN0IGZhaWxzIG9yIHRoZSB0ZW1wbGF0ZSBpcyBlbXB0eVxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBIVFRQIFByb21pc2UgZm9yIHRoZSBnaXZlbi5cbiAqXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgJyRodHRwJywgJyRxJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XG5cbiAgICAgIHZhciB0cmFuc2Zvcm1SZXNwb25zZSA9ICRodHRwLmRlZmF1bHRzICYmICRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO1xuXG4gICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1SZXNwb25zZSkpIHtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSB0cmFuc2Zvcm1SZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIgIT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm1SZXNwb25zZSA9PT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBodHRwT3B0aW9ucyA9IHtcbiAgICAgICAgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlLFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkaHR0cC5nZXQodHBsLCBodHRwT3B0aW9ucylcbiAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS07XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0sIGhhbmRsZUVycm9yKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzcCkge1xuICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxvYWQnLCAnRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGU6IHswfScsIHRwbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMgPSAwO1xuXG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RGbjtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICQkVGVzdGFiaWxpdHlQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRsb2NhdGlvbicsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkYnJvd3NlciwgICAkbG9jYXRpb24pIHtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICR0ZXN0YWJpbGl0eVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIHByaXZhdGUgJCR0ZXN0YWJpbGl0eSBzZXJ2aWNlIHByb3ZpZGVzIGEgY29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciB1c2Ugd2hlbiBkZWJ1Z2dpbmdcbiAgICAgKiBvciBieSBhdXRvbWF0ZWQgdGVzdCBhbmQgZGVidWdnaW5nIHRvb2xzLlxuICAgICAqL1xuICAgIHZhciB0ZXN0YWJpbGl0eSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNmaW5kQmluZGluZ3NcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgYm91bmQgKHZpYSBuZy1iaW5kIG9yIHt7fX0pXG4gICAgICogdG8gZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHJvb3QgdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGJpbmRpbmcgZXhwcmVzc2lvbiB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi4gRmlsdGVycyBhbmQgd2hpdGVzcGFjZSBhcmUgaWdub3JlZC5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5maW5kQmluZGluZ3MgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIGJpbmRpbmdzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZy1iaW5kaW5nJyk7XG4gICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykge1xuICAgICAgICB2YXIgZGF0YUJpbmRpbmcgPSBhbmd1bGFyLmVsZW1lbnQoYmluZGluZykuZGF0YSgnJGJpbmRpbmcnKTtcbiAgICAgICAgaWYgKGRhdGFCaW5kaW5nKSB7XG4gICAgICAgICAgZm9yRWFjaChkYXRhQmluZGluZywgZnVuY3Rpb24oYmluZGluZ05hbWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBlc2NhcGVGb3JSZWdleHAoZXhwcmVzc2lvbikgKyAnKFxcXFxzfFxcXFx8fCQpJyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVyLnRlc3QoYmluZGluZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoYmluZGluZ05hbWUuaW5kZXhPZihleHByZXNzaW9uKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cbiAgICAgKiBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgbW9kZWwgZXhwcmVzc2lvbiB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5maW5kTW9kZWxzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgIHZhciBwcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nXFxcXDonXTtcbiAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJlZml4ZXMubGVuZ3RoOyArK3ApIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUVxdWFscyA9IG9wdF9leGFjdE1hdGNoID8gJz0nIDogJyo9JztcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ1snICsgcHJlZml4ZXNbcF0gKyAnbW9kZWwnICsgYXR0cmlidXRlRXF1YWxzICsgJ1wiJyArIGV4cHJlc3Npb24gKyAnXCJdJztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2dldExvY2F0aW9uXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgbG9jYXRpb24gaW4gYSBicm93c2VyIGFnbm9zdGljIHdheS4gUmV0dXJuc1xuICAgICAqICAgICB0aGUgcGF0aCwgc2VhcmNoLCBhbmQgaGFzaC4gKGUuZy4gL3BhdGg/YT1iI2hhc2gpXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkbG9jYXRpb24udXJsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjc2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBuYXZpZ2F0aW5nIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkb2luZyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBsb2NhdGlvbiB1cmwgKHBhdGgsIHNlYXJjaCBhbmQgaGFzaCxcbiAgICAgKiAgICAgZS5nLiAvcGF0aD9hPWIjaGFzaCkgdG8gZ28gdG8uXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuc2V0TG9jYXRpb24gPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIGlmICh1cmwgIT09ICRsb2NhdGlvbi51cmwoKSkge1xuICAgICAgICAkbG9jYXRpb24udXJsKHVybCk7XG4gICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS53aGVuU3RhYmxlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGVzdGFiaWxpdHk7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHEnLCAnJCRxJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRxLCAgICQkcSwgICAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHZhciBkZWZlcnJlZHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkdGltZW91dFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaFxuICAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXG4gICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICpcbiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiByZWdpc3RlcmluZyBhIHRpbWVvdXQgZnVuY3Rpb24gaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgICogdGhlIHRpbWVvdXQgaXMgcmVhY2hlZCBhbmQgdGhlIHRpbWVvdXQgZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4gICAgICAqXG4gICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvXG4gICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG9zZSBleGVjdXRpb24gc2hvdWxkIGJlIGRlbGF5ZWQuXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIERlbGF5IGluIG1pbGxpc2Vjb25kcy5cbiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcbiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXG4gICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuIFRoZSB2YWx1ZSB0aGlzXG4gICAgICAqICAgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGggaXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYGZuYCBmdW5jdGlvbi5cbiAgICAgICpcbiAgICAgICovXG4gICAgZnVuY3Rpb24gdGltZW91dChmbiwgZGVsYXksIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICB0aW1lb3V0SWQ7XG5cbiAgICAgIHRpbWVvdXRJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBwcm9taXNlLiQkdGltZW91dElkID0gdGltZW91dElkO1xuICAgICAgZGVmZXJyZWRzW3RpbWVvdXRJZF0gPSBkZWZlcnJlZDtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAgICAqICAgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIHRpbWVvdXQuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbWVvdXQ7XG4gIH1dO1xufVxuXG4vLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xuLy8gZGVsaWJlcmF0ZS4gIFRoaXMgc2VydmljZSBkZXBlbmRzIG9uIHRoZSBzcGVjaWZpYyBiZWhhdmlvciBvZiBhbmNob3Igbm9kZXMgY3JlYXRlZCBieSB0aGVcbi8vIGJyb3dzZXIgKHJlc29sdmluZyBhbmQgcGFyc2luZyBVUkxzKSB0aGF0IGlzIHVubGlrZWx5IHRvIGJlIHByb3ZpZGVkIGJ5IG1vY2sgb2JqZWN0cyBhbmRcbi8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcbi8vIGRvZXNuJ3Qga25vdyBhYm91dCBtb2NrZWQgbG9jYXRpb25zIGFuZCByZXNvbHZlcyBVUkxzIHRvIHRoZSByZWFsIGRvY3VtZW50IC0gd2hpY2ggaXNcbi8vIGV4YWN0bHkgdGhlIGJlaGF2aW9yIG5lZWRlZCBoZXJlLiAgVGhlcmUgaXMgbGl0dGxlIHZhbHVlIGlzIG1vY2tpbmcgdGhlc2Ugb3V0IGZvciB0aGlzXG4vLyBzZXJ2aWNlLlxudmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cblxuLyoqXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErLCBPcGVyYSA3KyxlIGV0Yy4gIFNlZVxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElFID49IDggYW5kIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cbiAqXG4gKiBJRTcgZG9lcyBub3Qgbm9ybWFsaXplIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byBhbiBhbmNob3Igbm9kZS4gIChBcHBhcmVudGx5LCBpdCBkb2VzLCBpZiBvbmVcbiAqIHVzZXMgdGhlIGlubmVyIEhUTUwgYXBwcm9hY2ggdG8gYXNzaWduIHRoZSBVUkwgYXMgcGFydCBvZiBhbiBIVE1MIHNuaXBwZXQgLVxuICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDcyNzI5KSAgSG93ZXZlciwgc2V0dGluZyBpbWdbc3JjXSBkb2VzIG5vcm1hbGl6ZSB0aGUgVVJMLlxuICogVW5mb3J0dW5hdGVseSwgc2V0dGluZyBpbWdbc3JjXSB0byBzb21ldGhpbmcgbGlrZSBcImphdmFzY3JpcHQ6Zm9vXCIgb24gSUUgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAqIFNpbmNlIHRoZSBwcmltYXJ5IHVzYWdlIGZvciBub3JtYWxpemluZyBVUkxzIGlzIHRvIHNhbml0aXplIHN1Y2ggVVJMcywgd2UgY2FuJ3QgdXNlIHRoYXRcbiAqIG1ldGhvZCBhbmQgSUUgPCA4IGlzIHVuc3VwcG9ydGVkLlxuICpcbiAqIFJlZmVyZW5jZXM6XG4gKiAgIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxBbmNob3JFbGVtZW50XG4gKiAgIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxuICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzI5MDJcbiAqICAgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3BhcnNpbmctdXJscy13aXRoLXRoZS1kb20vXG4gKlxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWQuXG4gKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLlxuICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBVUkwgYXMgYSBkaWN0aW9uYXJ5LlxuICpcbiAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfFxuICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiAgIHwgaHJlZiAgICAgICAgICB8IEEgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBwcm92aWRlZCBVUkwgaWYgaXQgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwgfFxuICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBob3N0ICAgICAgICAgIHwgVGhlIGhvc3QgYW5kIHBvcnQgKGlmIHRoZSBwb3J0IGlzIG5vbi1kZWZhdWx0KSBvZiB0aGUgbm9ybWFsaXplZFVybCAgICB8XG4gKiAgIHwgc2VhcmNoICAgICAgICB8IFRoZSBzZWFyY2ggcGFyYW1zLCBtaW51cyB0aGUgcXVlc3Rpb24gbWFyayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbFxuICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWVcbiAqICAgfCBwb3J0ICAgICAgICAgIHwgVGhlIHBvcnQsIHdpdGhvdXQgXCI6XCJcbiAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIlxuICpcbiAqL1xuZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpIHtcbiAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgaWYgKG1zaWUpIHtcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xuICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICB9XG5cbiAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICByZXR1cm4ge1xuICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXG4gICAgICA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICA6ICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSByZXF1ZXN0IFVSTCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHNhbWUtb3JpZ2luIHJlcXVlc3QgYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVxdWVzdFVybCBUaGUgdXJsIG9mIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxuICogb3IgYSBwYXJzZWQgVVJMIG9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGZvciB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICovXG5mdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCkge1xuICB2YXIgcGFyc2VkID0gKGlzU3RyaW5nKHJlcXVlc3RVcmwpKSA/IHVybFJlc29sdmUocmVxdWVzdFVybCkgOiByZXF1ZXN0VXJsO1xuICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVXJsLnByb3RvY29sICYmXG4gICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVybC5ob3N0KTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXG4gKiBpcyBnbG9iYWxseSBhdmFpbGFibGUgaW4gSmF2YVNjcmlwdCwgaXQgY2F1c2VzIHRlc3RhYmlsaXR5IHByb2JsZW1zLCBiZWNhdXNlXG4gKiBpdCBpcyBhIGdsb2JhbCB2YXJpYWJsZS4gSW4gYW5ndWxhciB3ZSBhbHdheXMgcmVmZXIgdG8gaXQgdGhyb3VnaCB0aGVcbiAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogRXhwcmVzc2lvbnMsIGxpa2UgdGhlIG9uZSBkZWZpbmVkIGZvciB0aGUgYG5nQ2xpY2tgIGRpcmVjdGl2ZSBpbiB0aGUgZXhhbXBsZVxuICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xuICogbm8gcmlzayBvZiBpbmFkdmVydGVudGx5IGNvZGluZyBpbiBhIGRlcGVuZGVuY3kgb24gYSBnbG9iYWwgdmFsdWUgaW4gc3VjaCBhblxuICogZXhwcmVzc2lvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwid2luZG93RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnd2luZG93RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XG4gICAgICAgICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ0hlbGxvLCBXb3JsZCEnO1xuICAgICAgICAgICAgICRzY29wZS5kb0dyZWV0aW5nID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJncmVldGluZ1wiIC8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZ3JlZXRpbmcgaW4gdGhlIGlucHV0IGJveCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2dyZWV0aW5nJykpLnNlbmRLZXlzKCdIZWxsbywgRTJFIFRlc3RzJyk7XG4gICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxuICAgICAgIC8vIGVsZW1lbnQoJzpidXR0b24nKS5jbGljaygpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSB2YWx1ZUZuKHdpbmRvdyk7XG59XG5cbi8qIGdsb2JhbCBjdXJyZW5jeUZpbHRlcjogdHJ1ZSxcbiBkYXRlRmlsdGVyOiB0cnVlLFxuIGZpbHRlckZpbHRlcjogdHJ1ZSxcbiBqc29uRmlsdGVyOiB0cnVlLFxuIGxpbWl0VG9GaWx0ZXI6IHRydWUsXG4gbG93ZXJjYXNlRmlsdGVyOiB0cnVlLFxuIG51bWJlckZpbHRlcjogdHJ1ZSxcbiBvcmRlckJ5RmlsdGVyOiB0cnVlLFxuIHVwcGVyY2FzZUZpbHRlcjogdHJ1ZSxcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGZpbHRlclByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBGaWx0ZXJzIGFyZSBqdXN0IGZ1bmN0aW9ucyB3aGljaCB0cmFuc2Zvcm0gaW5wdXQgdG8gYW4gb3V0cHV0LiBIb3dldmVyIGZpbHRlcnMgbmVlZCB0byBiZVxuICogRGVwZW5kZW5jeSBJbmplY3RlZC4gVG8gYWNoaWV2ZSB0aGlzIGEgZmlsdGVyIGRlZmluaXRpb24gY29uc2lzdHMgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIGlzXG4gKiBhbm5vdGF0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhIGZpbHRlciBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uXG4gKiAgIGZ1bmN0aW9uIE15TW9kdWxlKCRwcm92aWRlLCAkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAvLyBjcmVhdGUgYSBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIGluamVjdGlvbiAobm90IGFsd2F5cyBuZWVkZWQpXG4gKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7XG4gKiAgICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xuICogICAgIH0pO1xuICpcbiAqICAgICAvLyByZWdpc3RlciBhIGZpbHRlciBmYWN0b3J5IHdoaWNoIHVzZXMgdGhlXG4gKiAgICAgLy8gZ3JlZXQgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBESS5cbiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpe1xuICogICAgICAgLy8gcmV0dXJuIHRoZSBmaWx0ZXIgZnVuY3Rpb24gd2hpY2ggdXNlcyB0aGUgZ3JlZXQgc2VydmljZVxuICogICAgICAgLy8gdG8gZ2VuZXJhdGUgc2FsdXRhdGlvblxuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcbiAqICAgICAgICAgLy8gZmlsdGVycyBuZWVkIHRvIGJlIGZvcmdpdmluZyBzbyBjaGVjayBpbnB1dCB2YWxpZGl0eVxuICogICAgICAgICByZXR1cm4gdGV4dCAmJiBncmVldCh0ZXh0KSB8fCB0ZXh0O1xuICogICAgICAgfTtcbiAqICAgICB9KTtcbiAqICAgfVxuICogYGBgXG4gKlxuICogVGhlIGZpbHRlciBmdW5jdGlvbiBpcyByZWdpc3RlcmVkIHdpdGggdGhlIGAkaW5qZWN0b3JgIHVuZGVyIHRoZSBmaWx0ZXIgbmFtZSBzdWZmaXggd2l0aFxuICogYEZpbHRlcmAuXG4gKlxuICogYGBganNcbiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdChcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigncmV2ZXJzZScsIGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIHJldHVybiAuLi47XG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHtcbiAqICAgICAgIGV4cGVjdCgkZmlsdGVyKCdyZXZlcnNlJykpLnRvQmUocmV2ZXJzZUZpbHRlcik7XG4gKiAgICAgfSk7XG4gKiBgYGBcbiAqXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IGFuZ3VsYXIgZmlsdGVycyB3b3JrLCBhbmQgaG93IHRvIGNyZWF0ZSB5b3VyIG93biBmaWx0ZXJzLCBzZWVcbiAqIHtAbGluayBndWlkZS9maWx0ZXIgRmlsdGVyc30gaW4gdGhlIEFuZ3VsYXIgRGV2ZWxvcGVyIEd1aWRlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgZGF0YSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIuXG4gKlxuICogVGhlIGdlbmVyYWwgc3ludGF4IGluIHRlbXBsYXRlcyBpcyBhcyBmb2xsb3dzOlxuICpcbiAqICAgICAgICAge3sgZXhwcmVzc2lvbiBbfCBmaWx0ZXJfbmFtZVs6cGFyYW1ldGVyX3ZhbHVlXSAuLi4gXSB9fVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiB0byByZXRyaWV2ZVxuICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBmaWx0ZXIgZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwiJGZpbHRlclwiIG1vZHVsZT1cImZpbHRlckV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ3RybFwiPlxuICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz5cbiAgICAgICAgPGgzPnt7IGZpbHRlcmVkVGV4dCB9fTwvaDM+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZmlsdGVyRXhhbXBsZScsIFtdKVxuICAgICAgLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7XG4gICAgICAgICRzY29wZS5vcmlnaW5hbFRleHQgPSAnaGVsbG8nO1xuICAgICAgICAkc2NvcGUuZmlsdGVyZWRUZXh0ID0gJGZpbHRlcigndXBwZXJjYXNlJykoJHNjb3BlLm9yaWdpbmFsVGV4dCk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAqL1xuJEZpbHRlclByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJ107XG5mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpIHtcbiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRmaWx0ZXJQcm92aWRlciNyZWdpc3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBvciBhbiBvYmplY3QgbWFwIG9mIGZpbHRlcnMgd2hlcmVcbiAgICogICAgdGhlIGtleXMgYXJlIHRoZSBmaWx0ZXIgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmaWx0ZXIgZmFjdG9yaWVzLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcFxuICAgKiAgICBvZiB0aGUgcmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2VzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkge1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgIGZvckVhY2gobmFtZSwgZnVuY3Rpb24oZmlsdGVyLCBrZXkpIHtcbiAgICAgICAgZmlsdGVyc1trZXldID0gcmVnaXN0ZXIoa2V5LCBmaWx0ZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlsdGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICRwcm92aWRlLmZhY3RvcnkobmFtZSArIHN1ZmZpeCwgZmFjdG9yeSk7XG4gICAgfVxuICB9XG4gIHRoaXMucmVnaXN0ZXIgPSByZWdpc3RlcjtcblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcbiAgICB9O1xuICB9XTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyogZ2xvYmFsXG4gICAgY3VycmVuY3lGaWx0ZXI6IGZhbHNlLFxuICAgIGRhdGVGaWx0ZXI6IGZhbHNlLFxuICAgIGZpbHRlckZpbHRlcjogZmFsc2UsXG4gICAganNvbkZpbHRlcjogZmFsc2UsXG4gICAgbGltaXRUb0ZpbHRlcjogZmFsc2UsXG4gICAgbG93ZXJjYXNlRmlsdGVyOiBmYWxzZSxcbiAgICBudW1iZXJGaWx0ZXI6IGZhbHNlLFxuICAgIG9yZGVyQnlGaWx0ZXI6IGZhbHNlLFxuICAgIHVwcGVyY2FzZUZpbHRlcjogZmFsc2UsXG4gICovXG5cbiAgcmVnaXN0ZXIoJ2N1cnJlbmN5JywgY3VycmVuY3lGaWx0ZXIpO1xuICByZWdpc3RlcignZGF0ZScsIGRhdGVGaWx0ZXIpO1xuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2pzb24nLCBqc29uRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xpbWl0VG8nLCBsaW1pdFRvRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdudW1iZXInLCBudW1iZXJGaWx0ZXIpO1xuICByZWdpc3Rlcignb3JkZXJCeScsIG9yZGVyQnlGaWx0ZXIpO1xuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc291cmNlIGFycmF5LlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxuICogICBgYXJyYXlgLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYHN0cmluZ2A6IFRoZSBzdHJpbmcgaXMgdXNlZCBmb3IgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgY29udGVudHMgb2YgdGhlIGBhcnJheWAuIEFsbCBzdHJpbmdzIG9yXG4gKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cbiAqICAgICBhcHBsaWVzIHRvIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy5cbiAqICAgICBUaGUgcHJlZGljYXRlIGNhbiBiZSBuZWdhdGVkIGJ5IHByZWZpeGluZyB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICpcbiAqICAgLSBgT2JqZWN0YDogQSBwYXR0ZXJuIG9iamVjdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgc3BlY2lmaWMgcHJvcGVydGllcyBvbiBvYmplY3RzIGNvbnRhaW5lZFxuICogICAgIGJ5IGBhcnJheWAuIEZvciBleGFtcGxlIGB7bmFtZTpcIk1cIiwgcGhvbmU6XCIxXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXNcbiAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxuICogICAgIHByb3BlcnR5IG5hbWUgYCRgIGNhbiBiZSB1c2VkIChhcyBpbiBgeyQ6XCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2ggYWdhaW5zdCBhbnlcbiAqICAgICBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IG9yIGl0cyBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIFRoYXQncyBlcXVpdmFsZW50IHRvIHRoZSBzaW1wbGVcbiAqICAgICBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgIGFzIGRlc2NyaWJlZCBhYm92ZS4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmdcbiAqICAgICB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICogICAgIEZvciBleGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXG4gKiAgICAgbm90IGNvbnRhaW5pbmcgXCJNXCIuXG4gKlxuICogICAgIE5vdGUgdGhhdCBhIG5hbWVkIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvbmx5LCB3aGlsZSB0aGUgc3BlY2lhbFxuICogICAgIGAkYCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb3IgZGVlcGVyLiBFLmcuIGFuIGFycmF5IGl0ZW0gbGlrZVxuICogICAgIGB7bmFtZToge2ZpcnN0OiAnSm9obicsIGxhc3Q6ICdEb2UnfX1gIHdpbGwgKipub3QqKiBiZSBtYXRjaGVkIGJ5IGB7bmFtZTogJ0pvaG4nfWAsIGJ1dFxuICogICAgICoqd2lsbCoqIGJlIG1hdGNoZWQgYnkgYHskOiAnSm9obid9YC5cbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKHZhbHVlLCBpbmRleClgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy4gVGhlXG4gKiAgICAgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YC4gVGhlIGZpbmFsIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aG9zZVxuICogICAgIGVsZW1lbnRzIHRoYXQgdGhlIHByZWRpY2F0ZSByZXR1cm5lZCB0cnVlIGZvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpfHRydWV8dW5kZWZpbmVkfSBjb21wYXJhdG9yIENvbXBhcmF0b3Igd2hpY2ggaXMgdXNlZCBpblxuICogICAgIGRldGVybWluaW5nIGlmIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWwgdmFsdWUgKGZyb21cbiAqICAgICB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaC5cbiAqXG4gKiAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAtIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKWA6XG4gKiAgICAgVGhlIGZ1bmN0aW9uIHdpbGwgYmUgZ2l2ZW4gdGhlIG9iamVjdCB2YWx1ZSBhbmQgdGhlIHByZWRpY2F0ZSB2YWx1ZSB0byBjb21wYXJlIGFuZFxuICogICAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiBib3RoIHZhbHVlcyBzaG91bGQgYmUgY29uc2lkZXJlZCBlcXVhbC5cbiAqXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpfWAuXG4gKiAgICAgVGhpcyBpcyBlc3NlbnRpYWxseSBzdHJpY3QgY29tcGFyaXNvbiBvZiBleHBlY3RlZCBhbmQgYWN0dWFsLlxuICpcbiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxuXG4gICAgICAgU2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+XG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8aHI+XG4gICAgICAgQW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPiA8YnI+XG4gICAgICAgTmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PGJyPlxuICAgICAgIFBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PGJyPlxuICAgICAgIEVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjxicj5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xuICAgICAgICAgZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoa2V5ICsgJyBpbiBmcmllbmRzJykuY29sdW1uKGtleSArICcubmFtZScpKS50aGVuKGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgfSk7XG4gICAgICAgfTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xuXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKb2huJywgJ0p1bGllJ10sICdmcmllbmQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGluIHNwZWNpZmljIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgcHJlZGljYXRlIG9iamVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hBbnkuc2VuZEtleXMoJ2knKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVzZSBhIGVxdWFsIGNvbXBhcmlzb24gd2hlbiBjb21wYXJhdG9yIGlzIHRydWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xuICAgICAgICAgc2VhcmNoTmFtZS5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKdWxpZSddLCAnZnJpZW5kT2JqJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSByZXR1cm4gYXJyYXk7XG5cbiAgICB2YXIgcHJlZGljYXRlRm47XG4gICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiBleHByZXNzaW9uKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gZXhwcmVzc2lvbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBtYXRjaEFnYWluc3RBbnlQcm9wID0gdHJ1ZTtcbiAgICAgICAgLy9qc2hpbnQgLVcwODZcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIC8vanNoaW50ICtXMDg2XG4gICAgICAgIHByZWRpY2F0ZUZuID0gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheS5maWx0ZXIocHJlZGljYXRlRm4pO1xuICB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBgZmlsdGVyRmlsdGVyYFxuZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKCckJyBpbiBleHByZXNzaW9uKTtcbiAgdmFyIHByZWRpY2F0ZUZuO1xuXG4gIGlmIChjb21wYXJhdG9yID09PSB0cnVlKSB7XG4gICAgY29tcGFyYXRvciA9IGVxdWFscztcbiAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjb21wYXJhdG9yKSkge1xuICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYWN0dWFsKSB8fCBpc09iamVjdChleHBlY3RlZCkpIHtcbiAgICAgICAgLy8gUHJldmVudCBhbiBvYmplY3QgdG8gYmUgY29uc2lkZXJlZCBlcXVhbCB0byBhIHN0cmluZyBsaWtlIGAnW29iamVjdCdgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgYWN0dWFsID0gbG93ZXJjYXNlKCcnICsgYWN0dWFsKTtcbiAgICAgIGV4cGVjdGVkID0gbG93ZXJjYXNlKCcnICsgZXhwZWN0ZWQpO1xuICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSAhPT0gLTE7XG4gICAgfTtcbiAgfVxuXG4gIHByZWRpY2F0ZUZuID0gZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChzaG91bGRNYXRjaFByaW1pdGl2ZXMgJiYgIWlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbi4kLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfTtcblxuICByZXR1cm4gcHJlZGljYXRlRm47XG59XG5cbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XG4gIHZhciBhY3R1YWxUeXBlID0gdHlwZW9mIGFjdHVhbDtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IHR5cGVvZiBleHBlY3RlZDtcblxuICBpZiAoKGV4cGVjdGVkVHlwZSA9PT0gJ3N0cmluZycpICYmIChleHBlY3RlZC5jaGFyQXQoMCkgPT09ICchJykpIHtcbiAgICByZXR1cm4gIWRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQuc3Vic3RyaW5nKDEpLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGFjdHVhbCkpIHtcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXG4gICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gICAgfSk7XG4gIH1cblxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIGtleTtcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XG4gICAgICAgIGZvciAoa2V5IGluIGFjdHVhbCkge1xuICAgICAgICAgIGlmICgoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIHRydWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbnRNYXRjaFdob2xlT2JqZWN0ID8gZmFsc2UgOiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVmFsKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1hdGNoQW55UHJvcGVydHkgPSBrZXkgPT09ICckJztcbiAgICAgICAgICB2YXIgYWN0dWFsVmFsID0gbWF0Y2hBbnlQcm9wZXJ0eSA/IGFjdHVhbCA6IGFjdHVhbFtrZXldO1xuICAgICAgICAgIGlmICghZGVlcENvbXBhcmUoYWN0dWFsVmFsLCBleHBlY3RlZFZhbCwgY29tcGFyYXRvciwgbWF0Y2hBbnlQcm9wZXJ0eSwgbWF0Y2hBbnlQcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBjdXJyZW5jeVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBjdXJyZW5jeSAoaWUgJDEsMjM0LjU2KS4gV2hlbiBubyBjdXJyZW5jeSBzeW1ib2wgaXMgcHJvdmlkZWQsIGRlZmF1bHRcbiAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IElucHV0IHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgYW1vdW50IHRvLCBkZWZhdWx0cyB0byBkZWZhdWx0IG1heCBmcmFjdGlvbiBzaXplIGZvciBjdXJyZW50IGxvY2FsZVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIG51bWJlci5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiPiA8YnI+XG4gICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktZGVmYXVsdFwiPnt7YW1vdW50IHwgY3VycmVuY3l9fTwvc3Bhbj48YnI+XG4gICAgICAgICBjdXN0b20gY3VycmVuY3kgaWRlbnRpZmllciAoVVNEJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktY3VzdG9tXCI+e3thbW91bnQgfCBjdXJyZW5jeTpcIlVTRCRcIn19PC9zcGFuPlxuICAgICAgICAgbm8gZnJhY3Rpb25zICgwKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1uby1mcmFjdGlvbnNcIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwiOjB9fTwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBpbml0IHdpdGggMTIzNC41NicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCckMSwyMzQuNTYnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzQuNTYnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzUnKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXG4gICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MVxuICAgICAgICAgICByZXR1cm47XG4gICAgICAgICB9XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5zZW5kS2V5cygnLTEyMzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnKCQxLDIzNC4wMCknKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCcoVVNEJDEsMjM0LjAwKScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJyhVU0QkMSwyMzQpJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuY3VycmVuY3lGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xuZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihhbW91bnQsIGN1cnJlbmN5U3ltYm9sLCBmcmFjdGlvblNpemUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7XG4gICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XG4gICAgfVxuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcbiAgICAgICAgPyBhbW91bnRcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cbiAgICAgICAgICAgIHJlcGxhY2UoL1xcdTAwQTQvZywgY3VycmVuY3lTeW1ib2wpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG51bWJlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gZGVjaW1hbFBsYWNlcyBhbmQgcGxhY2VzIGEg4oCcLOKAnSBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJGaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgRW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PGJyPlxuICAgICAgICAgRGVmYXVsdCBmb3JtYXR0aW5nOiA8c3BhbiBpZD0nbnVtYmVyLWRlZmF1bHQnPnt7dmFsIHwgbnVtYmVyfX08L3NwYW4+PGJyPlxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxuICAgICAgICAgTmVnYXRpdmUgbnVtYmVyOiA8c3Bhbj57ey12YWwgfCBudW1iZXI6NH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMSwyMzUnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuc2VuZEtleXMoJzMzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0zLDM3NC4zMzMwJyk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxubnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKG51bWJlciA9PSBudWxsKVxuICAgICAgICA/IG51bWJlclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxuICAgICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblNpemUpO1xuICB9O1xufVxuXG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XG4gIGlmICghaXNGaW5pdGUobnVtYmVyKSB8fCBpc09iamVjdChudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1iZXIgPCAwO1xuICBudW1iZXIgPSBNYXRoLmFicyhudW1iZXIpO1xuICB2YXIgbnVtU3RyID0gbnVtYmVyICsgJycsXG4gICAgICBmb3JtYXRlZFRleHQgPSAnJyxcbiAgICAgIHBhcnRzID0gW107XG5cbiAgdmFyIGhhc0V4cG9uZW50ID0gZmFsc2U7XG4gIGlmIChudW1TdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhciBtYXRjaCA9IG51bVN0ci5tYXRjaCgvKFtcXGRcXC5dKyllKC0/KShcXGQrKS8pO1xuICAgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PSAnLScgJiYgbWF0Y2hbM10gPiBmcmFjdGlvblNpemUgKyAxKSB7XG4gICAgICBudW1iZXIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtYXRlZFRleHQgPSBudW1TdHI7XG4gICAgICBoYXNFeHBvbmVudCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYXNFeHBvbmVudCkge1xuICAgIHZhciBmcmFjdGlvbkxlbiA9IChudW1TdHIuc3BsaXQoREVDSU1BTF9TRVApWzFdIHx8ICcnKS5sZW5ndGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gTWF0aC5taW4oTWF0aC5tYXgocGF0dGVybi5taW5GcmFjLCBmcmFjdGlvbkxlbiksIHBhdHRlcm4ubWF4RnJhYyk7XG4gICAgfVxuXG4gICAgLy8gc2FmZWx5IHJvdW5kIG51bWJlcnMgaW4gSlMgd2l0aG91dCBoaXR0aW5nIGltcHJlY2lzaW9ucyBvZiBmbG9hdGluZy1wb2ludCBhcml0aG1ldGljc1xuICAgIC8vIGluc3BpcmVkIGJ5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcbiAgICBudW1iZXIgPSArKE1hdGgucm91bmQoKyhudW1iZXIudG9TdHJpbmcoKSArICdlJyArIGZyYWN0aW9uU2l6ZSkpLnRvU3RyaW5nKCkgKyAnZScgKyAtZnJhY3Rpb25TaXplKTtcblxuICAgIHZhciBmcmFjdGlvbiA9ICgnJyArIG51bWJlcikuc3BsaXQoREVDSU1BTF9TRVApO1xuICAgIHZhciB3aG9sZSA9IGZyYWN0aW9uWzBdO1xuICAgIGZyYWN0aW9uID0gZnJhY3Rpb25bMV0gfHwgJyc7XG5cbiAgICB2YXIgaSwgcG9zID0gMCxcbiAgICAgICAgbGdyb3VwID0gcGF0dGVybi5sZ1NpemUsXG4gICAgICAgIGdyb3VwID0gcGF0dGVybi5nU2l6ZTtcblxuICAgIGlmICh3aG9sZS5sZW5ndGggPj0gKGxncm91cCArIGdyb3VwKSkge1xuICAgICAgcG9zID0gd2hvbGUubGVuZ3RoIC0gbGdyb3VwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHBvczsgaSsrKSB7XG4gICAgICAgIGlmICgocG9zIC0gaSkgJSBncm91cCA9PT0gMCAmJiBpICE9PSAwKSB7XG4gICAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IGdyb3VwU2VwO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdGVkVGV4dCArPSB3aG9sZS5jaGFyQXQoaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gcG9zOyBpIDwgd2hvbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICgod2hvbGUubGVuZ3RoIC0gaSkgJSBsZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgICBmb3JtYXRlZFRleHQgKz0gZ3JvdXBTZXA7XG4gICAgICB9XG4gICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBmcmFjdGlvbiBwYXJ0LlxuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCBmcmFjdGlvblNpemUpIHtcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoZnJhY3Rpb25TaXplICYmIGZyYWN0aW9uU2l6ZSAhPT0gXCIwXCIpIGZvcm1hdGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZnJhY3Rpb24uc3Vic3RyKDAsIGZyYWN0aW9uU2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGZyYWN0aW9uU2l6ZSA+IDAgJiYgbnVtYmVyIDwgMSkge1xuICAgICAgZm9ybWF0ZWRUZXh0ID0gbnVtYmVyLnRvRml4ZWQoZnJhY3Rpb25TaXplKTtcbiAgICAgIG51bWJlciA9IHBhcnNlRmxvYXQoZm9ybWF0ZWRUZXh0KTtcbiAgICB9XG4gIH1cblxuICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgcGFydHMucHVzaChpc05lZ2F0aXZlID8gcGF0dGVybi5uZWdQcmUgOiBwYXR0ZXJuLnBvc1ByZSxcbiAgICAgICAgICAgICBmb3JtYXRlZFRleHQsXG4gICAgICAgICAgICAgaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnU3VmIDogcGF0dGVybi5wb3NTdWYpO1xuICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSkge1xuICB2YXIgbmVnID0gJyc7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgbmVnID0gICctJztcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIG51bSA9ICcnICsgbnVtO1xuICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gJzAnICsgbnVtO1xuICBpZiAodHJpbSlcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICByZXR1cm4gbmVnICsgbnVtO1xufVxuXG5cbmZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSwgc2l6ZSwgb2Zmc2V0LCB0cmltKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xuICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldClcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgZ2V0ID0gdXBwZXJjYXNlKHNob3J0Rm9ybSA/ICgnU0hPUlQnICsgbmFtZSkgOiBuYW1lKTtcblxuICAgIHJldHVybiBmb3JtYXRzW2dldF1bdmFsdWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlKSB7XG4gIHZhciB6b25lID0gLTEgKiBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XG5cbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XG5cbiAgcmV0dXJuIHBhZGRlZFpvbmU7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcblxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcblxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xuICAgfTtcbn1cblxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xufVxuXG52YXIgREFURV9GT1JNQVRTID0ge1xuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQpLFxuICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUpLFxuICAgICB5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDEpLFxuICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxuICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxuICAgIE1NOiBkYXRlR2V0dGVyKCdNb250aCcsIDIsIDEpLFxuICAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxuICAgICBhOiBhbXBtR2V0dGVyLFxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcbiAgICB3dzogd2Vla0dldHRlcigyKSxcbiAgICAgdzogd2Vla0dldHRlcigxKVxufTtcblxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TWRIaG1zYVpFdyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8Wnx3KykpKC4qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBkYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBGb3JtYXRzIGBkYXRlYCB0byBhIHN0cmluZyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGBmb3JtYXRgLlxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuICpcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcbiAqICAgKiBgJ3knYDogMSBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBlLmcuIChBRCAxID0+IDEsIEFEIDE5OSA9PiAxOTkpXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcbiAqICAgKiBgJ01NJ2A6IE1vbnRoIGluIHllYXIsIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXG4gKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcbiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXG4gKiAgICogYCdoaCdgOiBIb3VyIGluIEFNL1BNLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSlcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXG4gKiAgICogYCdzc3MnYDogTWlsbGlzZWNvbmQgaW4gc2Vjb25kLCBwYWRkZWQgKDAwMC05OTkpXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxuICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApXG4gKiAgICogYCd3dydgOiBXZWVrIG9mIHllYXIsIHBhZGRlZCAoMDAtNTMpLiBXZWVrIDAxIGlzIHRoZSB3ZWVrIHdpdGggdGhlIGZpcnN0IFRodXJzZGF5IG9mIHRoZSB5ZWFyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWRcbiAqICAge0BsaW5rIGd1aWRlL2kxOG4gbG9jYWxpemFibGUgZm9ybWF0c306XG4gKlxuICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlXG4gKiAgICAgKGUuZy4gU2VwIDMsIDIwMTAgMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydCdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5IGg6bW0gYSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIDkvMy8xMCAxMjowNSBQTSlcbiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZVxuICogICAgIChlLmcuIEZyaWRheSwgU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdsb25nRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwdGVtYmVyIDMsIDIwMTApXG4gKiAgICogYCdtZWRpdW1EYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcCAzLCAyMDEwKVxuICogICAqIGAnc2hvcnREYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXknYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDkvMy8xMClcbiAqICAgKiBgJ21lZGl1bVRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDU6MDggUE0pXG4gKiAgICogYCdzaG9ydFRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW0gYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDUgUE0pXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGNvbnRhaW4gbGl0ZXJhbCB2YWx1ZXMuIFRoZXNlIG5lZWQgdG8gYmUgZXNjYXBlZCBieSBzdXJyb3VuZGluZyB3aXRoIHNpbmdsZSBxdW90ZXMgKGUuZy5cbiAqICAgYFwiaCAnaW4gdGhlIG1vcm5pbmcnXCJgKS4gSW4gb3JkZXIgdG8gb3V0cHV0IGEgc2luZ2xlIHF1b3RlLCBlc2NhcGUgaXQgLSBpLmUuLCB0d28gc2luZ2xlIHF1b3RlcyBpbiBhIHNlcXVlbmNlXG4gKiAgIChlLmcuIGBcImggJ28nJ2Nsb2NrJ1wiYCkuXG4gKlxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcbiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXNcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gUmlnaHQgbm93LCBvbmx5IGAnVVRDJ2AgaXMgc3VwcG9ydGVkLlxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvTWF0Y2goLzIwMTBcXC0xMFxcLTJcXGQgXFxkezJ9OlxcZHsyfTpcXGR7Mn0gKFxcLXxcXCspP1xcZHs0fS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XFxcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVxcXCJcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5kYXRlRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xuXG5cbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxuICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksXG4gICAgICAgICAgdHpIb3VyID0gMCxcbiAgICAgICAgICB0ek1pbiAgPSAwLFxuICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLFxuICAgICAgICAgIHRpbWVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDSG91cnMgOiBkYXRlLnNldEhvdXJzO1xuXG4gICAgICBpZiAobWF0Y2hbOV0pIHtcbiAgICAgICAgdHpIb3VyID0gaW50KG1hdGNoWzldICsgbWF0Y2hbMTBdKTtcbiAgICAgICAgdHpNaW4gPSBpbnQobWF0Y2hbOV0gKyBtYXRjaFsxMV0pO1xuICAgICAgfVxuICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIGludChtYXRjaFsxXSksIGludChtYXRjaFsyXSkgLSAxLCBpbnQobWF0Y2hbM10pKTtcbiAgICAgIHZhciBoID0gaW50KG1hdGNoWzRdIHx8IDApIC0gdHpIb3VyO1xuICAgICAgdmFyIG0gPSBpbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcbiAgICAgIHZhciBzID0gaW50KG1hdGNoWzZdIHx8IDApO1xuICAgICAgdmFyIG1zID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KCcwLicgKyAobWF0Y2hbN10gfHwgMCkpICogMTAwMCk7XG4gICAgICB0aW1lU2V0dGVyLmNhbGwoZGF0ZSwgaCwgbSwgcywgbXMpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cblxuXG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIHRpbWV6b25lKSB7XG4gICAgdmFyIHRleHQgPSAnJyxcbiAgICAgICAgcGFydHMgPSBbXSxcbiAgICAgICAgZm4sIG1hdGNoO1xuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gaW50KGRhdGUpIDoganNvblN0cmluZ1RvRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgd2hpbGUgKGZvcm1hdCkge1xuICAgICAgbWF0Y2ggPSBEQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XG4gICAgICAgIGZvcm1hdCA9IHBhcnRzLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xuICAgICAgICBmb3JtYXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW1lem9uZSAmJiB0aW1lem9uZSA9PT0gJ1VUQycpIHtcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgIH1cbiAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdO1xuICAgICAgdGV4dCArPSBmbiA/IGZuKGRhdGUsICRsb2NhbGUuREFURVRJTUVfRk9STUFUUylcbiAgICAgICAgICAgICAgICAgOiB2YWx1ZS5yZXBsYWNlKC8oXid8JyQpL2csICcnKS5yZXBsYWNlKC8nJy9nLCBcIidcIik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGpzb25cbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAgIEFsbG93cyB5b3UgdG8gY29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gSlNPTiBzdHJpbmcuXG4gKlxuICogICBUaGlzIGZpbHRlciBpcyBtb3N0bHkgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuIFdoZW4gdXNpbmcgdGhlIGRvdWJsZSBjdXJseSB7e3ZhbHVlfX0gbm90YXRpb25cbiAqICAgdGhlIGJpbmRpbmcgaXMgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gSlNPTi5cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBBbnkgSmF2YVNjcmlwdCBvYmplY3QgKGluY2x1ZGluZyBhcnJheXMgYW5kIHByaW1pdGl2ZSB0eXBlcykgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtudW1iZXI9fSBzcGFjaW5nIFRoZSBudW1iZXIgb2Ygc3BhY2VzIHRvIHVzZSBwZXIgaW5kZW50YXRpb24sIGRlZmF1bHRzIHRvIDIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIHN0cmluZy5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxwcmUgaWQ9XCJkZWZhdWx0LXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbiB9fTwvcHJlPlxuICAgICAgIDxwcmUgaWQ9XCJjdXN0b20tc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uOjQgfX08L3ByZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBqc29uaWZ5IGZpbHRlcmVkIG9iamVjdHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZWZhdWx0LXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1c3RvbS1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuICAgIFwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICovXG5mdW5jdGlvbiBqc29uRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBzcGFjaW5nKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHNwYWNpbmcpKSB7XG4gICAgICAgIHNwYWNpbmcgPSAyO1xuICAgIH1cbiAgICByZXR1cm4gdG9Kc29uKG9iamVjdCwgc3BhY2luZyk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsb3dlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIubG93ZXJjYXNlXG4gKi9cbnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSB1cHBlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIudXBwZXJjYXNlXG4gKi9cbnZhciB1cHBlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKHVwcGVyY2FzZSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGltaXRUb1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgb3Igc3RyaW5nIGNvbnRhaW5pbmcgb25seSBhIHNwZWNpZmllZCBudW1iZXIgb2YgZWxlbWVudHMuIFRoZSBlbGVtZW50c1xuICogYXJlIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcbiAqIHRoZSB2YWx1ZSBhbmQgc2lnbiAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG9mIGBsaW1pdGAuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsIGl0IGlzXG4gKiBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd8bnVtYmVyfSBpbnB1dCBTb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gbGltaXQgVGhlIGxlbmd0aCBvZiB0aGUgcmV0dXJuZWQgYXJyYXkgb3Igc3RyaW5nLiBJZiB0aGUgYGxpbWl0YCBudW1iZXJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXG4gKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xuICogICAgIGFyZSBjb3BpZWQuIFRoZSBgbGltaXRgIHdpbGwgYmUgdHJpbW1lZCBpZiBpdCBleGNlZWRzIGBhcnJheS5sZW5ndGhgXG4gKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfSBBIG5ldyBzdWItYXJyYXkgb3Igc3Vic3RyaW5nIG9mIGxlbmd0aCBgbGltaXRgIG9yIGxlc3MgaWYgaW5wdXQgYXJyYXlcbiAqICAgICBoYWQgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cbiAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD5cbiAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxldHRlcnM6IHt7IGxldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0IH19PC9wPlxuICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCkge1xuICAgIGlmIChpc051bWJlcihpbnB1dCkpIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGlmIChNYXRoLmFicyhOdW1iZXIobGltaXQpKSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGltaXQgPSBpbnQobGltaXQpO1xuICAgIH1cblxuICAgIC8vTmFOIGNoZWNrIG9uIGxpbWl0XG4gICAgaWYgKGxpbWl0KSB7XG4gICAgICByZXR1cm4gbGltaXQgPiAwID8gaW5wdXQuc2xpY2UoMCwgbGltaXQpIDogaW5wdXQuc2xpY2UobGltaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXNTdHJpbmcoaW5wdXQpID8gXCJcIiA6IFtdO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBvcmRlckJ5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogT3JkZXJzIGEgc3BlY2lmaWVkIGBhcnJheWAgYnkgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuIEl0IGlzIG9yZGVyZWQgYWxwaGFiZXRpY2FsbHlcbiAqIGZvciBzdHJpbmdzIGFuZCBudW1lcmljYWxseSBmb3IgbnVtYmVycy4gTm90ZTogaWYgeW91IG5vdGljZSBudW1iZXJzIGFyZSBub3QgYmVpbmcgc29ydGVkXG4gKiBjb3JyZWN0bHksIG1ha2Ugc3VyZSB0aGV5IGFyZSBhY3R1YWxseSBiZWluZyBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKil8c3RyaW5nfEFycmF5LjwoZnVuY3Rpb24oKil8c3RyaW5nKT49fSBleHByZXNzaW9uIEEgcHJlZGljYXRlIHRvIGJlXG4gKiAgICB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBmdW5jdGlvbmA6IEdldHRlciBmdW5jdGlvbi4gVGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgc29ydGVkIHVzaW5nIHRoZVxuICogICAgICBgPGAsIGA9YCwgYD5gIG9wZXJhdG9yLlxuICogICAgLSBgc3RyaW5nYDogQW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiBpcyB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHNcbiAqICAgICAgKGZvciBleGFtcGxlIGBuYW1lYCB0byBzb3J0IGJ5IGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCBvciBgbmFtZS5zdWJzdHIoMCwgMylgIHRvIHNvcnQgYnlcbiAqICAgICAgMyBmaXJzdCBjaGFyYWN0ZXJzIG9mIGEgcHJvcGVydHkgY2FsbGVkIGBuYW1lYCkuIFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uXG4gKiAgICAgIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGluIGNvbXBhcmlzb25zIChmb3IgZXhhbXBsZSBgXCJzcGVjaWFsIG5hbWVcImBcbiAqICAgICAgdG8gc29ydCBvYmplY3QgYnkgdGhlIHZhbHVlIG9mIHRoZWlyIGBzcGVjaWFsIG5hbWVgIHByb3BlcnR5KS4gQW4gZXhwcmVzc2lvbiBjYW4gYmVcbiAqICAgICAgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGArYCBvciBgLWAgdG8gY29udHJvbCBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXG4gKiAgICAgIChmb3IgZXhhbXBsZSwgYCtuYW1lYCBvciBgLW5hbWVgKS4gSWYgbm8gcHJvcGVydHkgaXMgcHJvdmlkZWQsIChlLmcuIGAnKydgKSB0aGVuIHRoZSBhcnJheVxuICogICAgICBlbGVtZW50IGl0c2VsZiBpcyB1c2VkIHRvIGNvbXBhcmUgd2hlcmUgc29ydGluZy5cbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gb3Igc3RyaW5nIHByZWRpY2F0ZXMuIFRoZSBmaXJzdCBwcmVkaWNhdGUgaW4gdGhlIGFycmF5XG4gKiAgICAgIGlzIHVzZWQgZm9yIHNvcnRpbmcsIGJ1dCB3aGVuIHR3byBpdGVtcyBhcmUgZXF1aXZhbGVudCwgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQuXG4gKlxuICogICAgSWYgdGhlIHByZWRpY2F0ZSBpcyBtaXNzaW5nIG9yIGVtcHR5IHRoZW4gaXQgZGVmYXVsdHMgdG8gYCcrJ2AuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSBSZXZlcnNlIHRoZSBvcmRlciBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFNvcnRlZCBjb3B5IG9mIHRoZSBzb3VyY2UgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID1cbiAgICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dO1xuICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAnLWFnZSc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHByZT5Tb3J0aW5nIHByZWRpY2F0ZSA9IHt7cHJlZGljYXRlfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlPScnXCI+dW5zb3J0ZWQ8L2E+IF1cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInByZWRpY2F0ZSA9ICduYW1lJzsgcmV2ZXJzZT1mYWxzZVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICAgICg8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGUgPSAnLW5hbWUnOyByZXZlcnNlPWZhbHNlXCI+XjwvYT4pPC90aD5cbiAgICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlID0gJ3Bob25lJzsgcmV2ZXJzZT0hcmV2ZXJzZVwiPlBob25lIE51bWJlcjwvYT48L3RoPlxuICAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGUgPSAnYWdlJzsgcmV2ZXJzZT0hcmV2ZXJzZVwiPkFnZTwvYT48L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICogSXQncyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIG9yZGVyQnkgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYCRmaWx0ZXJgLCByZXRyaWV2aW5nIHRoZVxuICogZmlsdGVyIHJvdXRpbmUgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYCwgYW5kIGNhbGxpbmcgdGhlIHJldHVybmVkIGZpbHRlciByb3V0aW5lIHdpdGggdGhlXG4gKiBkZXNpcmVkIHBhcmFtZXRlcnMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRcIj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT1mYWxzZTtvcmRlcignbmFtZScsIGZhbHNlKVwiPk5hbWU8L2E+XG4gICAgICAgICAgICAgICg8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcignLW5hbWUnLGZhbHNlKVwiPl48L2E+KTwvdGg+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT0hcmV2ZXJzZTtvcmRlcigncGhvbmUnLCByZXZlcnNlKVwiPlBob25lIE51bWJlcjwvYT48L3RoPlxuICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInJldmVyc2U9IXJldmVyc2U7b3JkZXIoJ2FnZScscmV2ZXJzZSlcIj5BZ2U8L2E+PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAgIHZhciBvcmRlckJ5ID0gJGZpbHRlcignb3JkZXJCeScpO1xuICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnSm9obicsICAgIHBob25lOiAnNTU1LTEyMTInLCAgICBhZ2U6IDEwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdNYXJ5JywgICAgcGhvbmU6ICc1NTUtOTg3NicsICAgIGFnZTogMTkgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ01pa2UnLCAgICBwaG9uZTogJzU1NS00MzIxJywgICAgYWdlOiAyMSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnQWRhbScsICAgIHBob25lOiAnNTU1LTU2NzgnLCAgICBhZ2U6IDM1IH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdKdWxpZScsICAgcGhvbmU6ICc1NTUtODc2NScsICAgIGFnZTogMjkgfVxuICAgICAgICAgIF07XG4gICAgICAgICAgJHNjb3BlLm9yZGVyID0gZnVuY3Rpb24ocHJlZGljYXRlLCByZXZlcnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoJHNjb3BlLmZyaWVuZHMsIHByZWRpY2F0ZSwgcmV2ZXJzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICAkc2NvcGUub3JkZXIoJy1hZ2UnLGZhbHNlKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xub3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyKSB7XG4gICAgaWYgKCEoaXNBcnJheUxpa2UoYXJyYXkpKSkgcmV0dXJuIGFycmF5O1xuICAgIHNvcnRQcmVkaWNhdGUgPSBpc0FycmF5KHNvcnRQcmVkaWNhdGUpID8gc29ydFByZWRpY2F0ZSA6IFtzb3J0UHJlZGljYXRlXTtcbiAgICBpZiAoc29ydFByZWRpY2F0ZS5sZW5ndGggPT09IDApIHsgc29ydFByZWRpY2F0ZSA9IFsnKyddOyB9XG4gICAgc29ydFByZWRpY2F0ZSA9IHNvcnRQcmVkaWNhdGUubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGRlc2NlbmRpbmcgPSBmYWxzZSwgZ2V0ID0gcHJlZGljYXRlIHx8IGlkZW50aXR5O1xuICAgICAgaWYgKGlzU3RyaW5nKHByZWRpY2F0ZSkpIHtcbiAgICAgICAgaWYgKChwcmVkaWNhdGUuY2hhckF0KDApID09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJykpIHtcbiAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLSc7XG4gICAgICAgICAgcHJlZGljYXRlID0gcHJlZGljYXRlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZGljYXRlID09PSAnJykge1xuICAgICAgICAgIC8vIEVmZmVjdGl2ZWx5IG5vIHByZWRpY2F0ZSB3YXMgcGFzc2VkIHNvIHdlIGNvbXBhcmUgaWRlbnRpdHlcbiAgICAgICAgICByZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcGFyZSwgZGVzY2VuZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XG4gICAgICAgIGlmIChnZXQuY29uc3RhbnQpIHtcbiAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7XG4gICAgICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICB9LCBkZXNjZW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmUoZ2V0KGEpLGdldChiKSk7XG4gICAgICB9LCBkZXNjZW5kaW5nKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSkuc29ydChyZXZlcnNlQ29tcGFyYXRvcihjb21wYXJhdG9yLCByZXZlcnNlT3JkZXIpKTtcblxuICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobzEsIG8yKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRQcmVkaWNhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbXAgPSBzb3J0UHJlZGljYXRlW2ldKG8xLCBvMik7XG4gICAgICAgIGlmIChjb21wICE9PSAwKSByZXR1cm4gY29tcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXZlcnNlQ29tcGFyYXRvcihjb21wLCBkZXNjZW5kaW5nKSB7XG4gICAgICByZXR1cm4gZGVzY2VuZGluZ1xuICAgICAgICAgID8gZnVuY3Rpb24oYSwgYikge3JldHVybiBjb21wKGIsYSk7fVxuICAgICAgICAgIDogY29tcDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdib29sZWFuJzogLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XG4gICAgICB2YXIgdDEgPSB0eXBlb2YgdjE7XG4gICAgICB2YXIgdDIgPSB0eXBlb2YgdjI7XG4gICAgICBpZiAodDEgPT09IHQyICYmIHQxID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHYxID0gb2JqZWN0VG9TdHJpbmcodjEpO1xuICAgICAgICB2MiA9IG9iamVjdFRvU3RyaW5nKHYyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0MSA9PT0gdDIpIHtcbiAgICAgICAgaWYgKHQxID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgIHYxID0gdjEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgdjIgPSB2Mi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2MSA9PT0gdjIpIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gdjEgPCB2MiA/IC0xIDogMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0MSA8IHQyID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBkaXJlY3RpdmVcbiAgICB9O1xuICB9XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBBIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxuICpcbiAqIFRoaXMgY2hhbmdlIHBlcm1pdHMgdGhlIGVhc3kgY3JlYXRpb24gb2YgYWN0aW9uIGxpbmtzIHdpdGggdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmVcbiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOlxuICogYDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cImxpc3QuYWRkSXRlbSgpXCI+QWRkIEl0ZW08L2E+YFxuICovXG52YXIgaHRtbEFuY2hvckRpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0UnLFxuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgaWYgKCFhdHRyLmhyZWYgJiYgIWF0dHIueGxpbmtIcmVmICYmICFhdHRyLm5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgbGlua2VkIGVsZW1lbnQgaXMgbm90IGFuIGFuY2hvciB0YWcgYW55bW9yZSwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcblxuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBocmVmID0gdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScgP1xuICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJyA6ICdocmVmJztcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gaHJlZiB1cmwsIHRoZW4gZG9uJ3QgbmF2aWdhdGUgYW55d2hlcmUuXG4gICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hyZWZcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhbiBocmVmIGF0dHJpYnV0ZSB3aWxsXG4gKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxuICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBtYXJrdXAgdGhlIGxpbmsgd2lsbCBiZSBicm9rZW5cbiAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxuICogc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgbmctaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgQVxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXNcbiAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsdWVcIiAvPjxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0yXCIgaHJlZj1cIlwiIG5nLWNsaWNrPVwidmFsdWUgPSAyXCI+bGluayAyPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstM1wiIG5nLWhyZWY9XCIve3snMTIzJ319XCI+bGluayAzPC9hPiAobGluaywgcmVsb2FkISk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay01XCIgbmFtZT1cInh4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA1XCI+YW5jaG9yPC9hPiAobm8gbGluayk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTZcIiBuZy1ocmVmPVwie3t2YWx1ZX19XCI+bGluazwvYT4gKGxpbmssIGNoYW5nZSBsb2NhdGlvbilcbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiB3aXRob3V0IHZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzInKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0yJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGFuZCBjaGFuZ2UgdXJsIHdoZW4gbmctaHJlZiBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XG5cbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuY2xpY2soKTtcblxuICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG5hdmlnYXRlIGF3YXkgZnJvbSBhbiBBbmd1bGFyIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cblxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC8xMjMnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5jbGVhcigpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvNicpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY1xuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY2AgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIi8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3JjIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3Jjc2V0XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3Jjc2V0YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmNzZXQgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEaXNhYmxlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBXZSBzaG91bGRuJ3QgZG8gdGhpcywgYmVjYXVzZSBpdCB3aWxsIG1ha2UgdGhlIGJ1dHRvbiBlbmFibGVkIG9uIENocm9tZS9GaXJlZm94IGJ1dCBub3Qgb24gSUU4IGFuZCBvbGRlciBJRXM6XG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWluaXQ9XCJzY29wZSA9IHsgaXNEaXNhYmxlZDogZmFsc2UgfVwiPlxuICogIDxidXR0b24gZGlzYWJsZWQ9XCJ7e3Njb3BlLmlzRGlzYWJsZWR9fVwiPkRpc2FibGVkPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyBkaXNhYmxlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdEaXNhYmxlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgICAgPGJ1dHRvbiBuZy1tb2RlbD1cImJ1dHRvblwiIG5nLWRpc2FibGVkPVwiY2hlY2tlZFwiPkJ1dHRvbjwvYnV0dG9uPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBidXR0b24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwiZGlzYWJsZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NoZWNrZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgY2hlY2tlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdDaGVja2VkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2hlY2sgbWUgdG8gY2hlY2sgYm90aDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwibWFzdGVyXCI+PGJyLz5cbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnbWFzdGVyJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJjaGVja2VkXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZWFkb25seVxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyByZWFkb25seS4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdSZWFkb25seWAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgcmVhZG9ubHlgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICBDaGVjayBtZSB0byBtYWtlIHRleHQgcmVhZG9ubHk6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48YnIvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIvPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHRvZ2dsZSByZWFkb25seSBhdHRyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBJTlBVVFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1JlYWRvbmx5IElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcInJlYWRvbmx5XCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTZWxlY3RlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyBzZWxlY3RlZC4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdTZWxlY3RlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgQ2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjxici8+XG4gICAgICAgIDxzZWxlY3Q+XG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgT1BUSU9OXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcGVuXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIG9wZW4uIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nT3BlbmAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgb3BlbmAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIENoZWNrIG1lIGNoZWNrIG11bHRpcGxlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJvcGVuXCI+PGJyLz5cbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuXG4vLyBib29sZWFuIGF0dHJzIGFyZSBldmFsdWF0ZWRcbmZvckVhY2goQk9PTEVBTl9BVFRSLCBmdW5jdGlvbihwcm9wTmFtZSwgYXR0ck5hbWUpIHtcbiAgLy8gYmluZGluZyB0byBtdWx0aXBsZSBpcyBub3Qgc3VwcG9ydGVkXG4gIGlmIChwcm9wTmFtZSA9PSBcIm11bHRpcGxlXCIpIHJldHVybjtcblxuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSwgZnVuY3Rpb24gbmdCb29sZWFuQXR0cldhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBhbGlhc2VkIGlucHV0IGF0dHJzIGFyZSBldmFsdWF0ZWRcbmZvckVhY2goQUxJQVNFRF9BVFRSLCBmdW5jdGlvbihodG1sQXR0ciwgbmdBdHRyKSB7XG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25nQXR0cl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIC8vc3BlY2lhbCBjYXNlIG5nUGF0dGVybiB3aGVuIGEgbGl0ZXJhbCByZWd1bGFyIGV4cHJlc3Npb24gdmFsdWVcbiAgICAgICAgLy9pcyB1c2VkIGFzIHRoZSBleHByZXNzaW9uICh0aGlzIHdheSB3ZSBkb24ndCBoYXZlIHRvIHdhdGNoIGFueXRoaW5nKS5cbiAgICAgICAgaWYgKG5nQXR0ciA9PT0gXCJuZ1BhdHRlcm5cIiAmJiBhdHRyLm5nUGF0dGVybi5jaGFyQXQoMCkgPT0gXCIvXCIpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBhdHRyLm5nUGF0dGVybi5tYXRjaChSRUdFWF9TVFJJTkdfUkVHRVhQKTtcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldChcIm5nUGF0dGVyblwiLCBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25nQXR0cl0sIGZ1bmN0aW9uIG5nQXR0ckFsaWFzV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBhdHRyLiRzZXQobmdBdHRyLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLy8gbmctc3JjLCBuZy1zcmNzZXQsIG5nLWhyZWYgYXJlIGludGVycG9sYXRlZFxuZm9yRWFjaChbJ3NyYycsICdzcmNzZXQnLCAnaHJlZiddLCBmdW5jdGlvbihhdHRyTmFtZSkge1xuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDk5LCAvLyBpdCBuZWVkcyB0byBydW4gYWZ0ZXIgdGhlIGF0dHJpYnV0ZXMgYXJlIGludGVycG9sYXRlZFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gYXR0ck5hbWUsXG4gICAgICAgICAgICBuYW1lID0gYXR0ck5hbWU7XG5cbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicgJiZcbiAgICAgICAgICAgIHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XG4gICAgICAgICAgbmFtZSA9ICd4bGlua0hyZWYnO1xuICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7XG4gICAgICAgICAgcHJvcE5hbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2hyZWYnKSB7XG4gICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgdmFsdWUpO1xuXG4gICAgICAgICAgLy8gb24gSUUsIGlmIFwibmc6c3JjXCIgZGlyZWN0aXZlIGRlY2xhcmF0aW9uIGlzIHVzZWQgYW5kIFwic3JjXCIgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAvLyB0aGVuIGNhbGxpbmcgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsICdmb28nKSBkb2Vzbid0IGRvIGFueXRoaW5nLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gc2V0IHRoZSBwcm9wZXJ0eSBhcyB3ZWxsIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgICAgICAgIC8vIHdlIHVzZSBhdHRyW2F0dHJOYW1lXSB2YWx1ZSBzaW5jZSAkc2V0IGNhbiBzYW5pdGl6ZSB0aGUgdXJsLlxuICAgICAgICAgIGlmIChtc2llICYmIHByb3BOYW1lKSBlbGVtZW50LnByb3AocHJvcE5hbWUsIGF0dHJbbmFtZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSk7XG5cbi8qIGdsb2JhbCAtbnVsbEZvcm1DdHJsLCAtU1VCTUlUVEVEX0NMQVNTLCBhZGRTZXRWYWxpZGl0eU1ldGhvZDogdHJ1ZVxuICovXG52YXIgbnVsbEZvcm1DdHJsID0ge1xuICAkYWRkQ29udHJvbDogbm9vcCxcbiAgJCRyZW5hbWVDb250cm9sOiBudWxsRm9ybVJlbmFtZUNvbnRyb2wsXG4gICRyZW1vdmVDb250cm9sOiBub29wLFxuICAkc2V0VmFsaWRpdHk6IG5vb3AsXG4gICRzZXREaXJ0eTogbm9vcCxcbiAgJHNldFByaXN0aW5lOiBub29wLFxuICAkc2V0U3VibWl0dGVkOiBub29wXG59LFxuU1VCTUlUVEVEX0NMQVNTID0gJ25nLXN1Ym1pdHRlZCc7XG5cbmZ1bmN0aW9uIG51bGxGb3JtUmVuYW1lQ29udHJvbChjb250cm9sLCBuYW1lKSB7XG4gIGNvbnRyb2wuJG5hbWUgPSBuYW1lO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBjb250YWluaW5nIGNvbnRyb2wgb3IgZm9ybSBpcyBpbnZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkc3VibWl0dGVkIFRydWUgaWYgdXNlciBoYXMgc3VibWl0dGVkIHRoZSBmb3JtIGV2ZW4gaWYgaXRzIGludmFsaWQuXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBJcyBhbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yXG4gKiAgZm9ybXMgd2l0aCBmYWlsaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxuICpcbiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksXG4gKiAgLSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb250cm9scyBvciBmb3JtcyB0aGF0IGhhdmUgYSBmYWlsaW5nIHZhbGlkYXRvciBmb3IgZ2l2ZW4gZXJyb3IgbmFtZS5cbiAqXG4gKiAgQnVpbHQtaW4gdmFsaWRhdGlvbiB0b2tlbnM6XG4gKlxuICogIC0gYGVtYWlsYFxuICogIC0gYG1heGBcbiAqICAtIGBtYXhsZW5ndGhgXG4gKiAgLSBgbWluYFxuICogIC0gYG1pbmxlbmd0aGBcbiAqICAtIGBudW1iZXJgXG4gKiAgLSBgcGF0dGVybmBcbiAqICAtIGByZXF1aXJlZGBcbiAqICAtIGB1cmxgXG4gKiAgLSBgZGF0ZWBcbiAqICAtIGBkYXRldGltZWxvY2FsYFxuICogIC0gYHRpbWVgXG4gKiAgLSBgd2Vla2BcbiAqICAtIGBtb250aGBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBGb3JtQ29udHJvbGxlcmAga2VlcHMgdHJhY2sgb2YgYWxsIGl0cyBjb250cm9scyBhbmQgbmVzdGVkIGZvcm1zIGFzIHdlbGwgYXMgdGhlIHN0YXRlIG9mIHRoZW0sXG4gKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXG4gKlxuICogRWFjaCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0gZGlyZWN0aXZlIGNyZWF0ZXMgYW4gaW5zdGFuY2VcbiAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXG4gKlxuICovXG4vL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxuRm9ybUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnLCAnJGF0dHJzJywgJyRzY29wZScsICckYW5pbWF0ZScsICckaW50ZXJwb2xhdGUnXTtcbmZ1bmN0aW9uIEZvcm1Db250cm9sbGVyKGVsZW1lbnQsIGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkaW50ZXJwb2xhdGUpIHtcbiAgdmFyIGZvcm0gPSB0aGlzLFxuICAgICAgY29udHJvbHMgPSBbXTtcblxuICB2YXIgcGFyZW50Rm9ybSA9IGZvcm0uJCRwYXJlbnRGb3JtID0gZWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCdmb3JtJykgfHwgbnVsbEZvcm1DdHJsO1xuXG4gIC8vIGluaXQgc3RhdGVcbiAgZm9ybS4kZXJyb3IgPSB7fTtcbiAgZm9ybS4kJHN1Y2Nlc3MgPSB7fTtcbiAgZm9ybS4kcGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgZm9ybS4kbmFtZSA9ICRpbnRlcnBvbGF0ZShhdHRycy5uYW1lIHx8IGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcbiAgZm9ybS4kZGlydHkgPSBmYWxzZTtcbiAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICBmb3JtLiR2YWxpZCA9IHRydWU7XG4gIGZvcm0uJGludmFsaWQgPSBmYWxzZTtcbiAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XG5cbiAgcGFyZW50Rm9ybS4kYWRkQ29udHJvbChmb3JtKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUm9sbGJhY2sgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHR5cGljYWxseSBuZWVkZWQgYnkgdGhlIHJlc2V0IGJ1dHRvbiBvZlxuICAgKiBhIGZvcm0gdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBwZW5kIHVwZGF0ZXMuXG4gICAqL1xuICBmb3JtLiRyb2xsYmFja1ZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21taXQgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cbiAgICovXG4gIGZvcm0uJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGFkZENvbnRyb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLlxuICAgKlxuICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBsaW5rZWQuXG4gICAqL1xuICBmb3JtLiRhZGRDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xuICAgIC8vIEJyZWFraW5nIGNoYW5nZSAtIGJlZm9yZSwgaW5wdXRzIHdob3NlIG5hbWUgd2FzIFwiaGFzT3duUHJvcGVydHlcIiB3ZXJlIHF1aWV0bHkgaWdub3JlZFxuICAgIC8vIGFuZCBub3QgYWRkZWQgdG8gdGhlIHNjb3BlLiAgTm93IHdlIHRocm93IGFuIGVycm9yLlxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsICdpbnB1dCcpO1xuICAgIGNvbnRyb2xzLnB1c2goY29udHJvbCk7XG5cbiAgICBpZiAoY29udHJvbC4kbmFtZSkge1xuICAgICAgZm9ybVtjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7XG4gICAgfVxuICB9O1xuXG4gIC8vIFByaXZhdGUgQVBJOiByZW5hbWUgYSBmb3JtIGNvbnRyb2xcbiAgZm9ybS4kJHJlbmFtZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sLCBuZXdOYW1lKSB7XG4gICAgdmFyIG9sZE5hbWUgPSBjb250cm9sLiRuYW1lO1xuXG4gICAgaWYgKGZvcm1bb2xkTmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSBmb3JtW29sZE5hbWVdO1xuICAgIH1cbiAgICBmb3JtW25ld05hbWVdID0gY29udHJvbDtcbiAgICBjb250cm9sLiRuYW1lID0gbmV3TmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyZW1vdmVDb250cm9sXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBEZXJlZ2lzdGVyIGEgY29udHJvbCBmcm9tIHRoZSBmb3JtLlxuICAgKlxuICAgKiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGFyZSBkZXN0cm95ZWQuXG4gICAqL1xuICBmb3JtLiRyZW1vdmVDb250cm9sID0gZnVuY3Rpb24oY29udHJvbCkge1xuICAgIGlmIChjb250cm9sLiRuYW1lICYmIGZvcm1bY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSBmb3JtW2NvbnRyb2wuJG5hbWVdO1xuICAgIH1cbiAgICBmb3JFYWNoKGZvcm0uJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGZvcm0uJGVycm9yLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSk7XG4gICAgZm9yRWFjaChmb3JtLiQkc3VjY2VzcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuXG4gICAgYXJyYXlSZW1vdmUoY29udHJvbHMsIGNvbnRyb2wpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIHZhbGlkaXR5IG9mIGEgZm9ybSBjb250cm9sLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cbiAgICovXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgICBjdHJsOiB0aGlzLFxuICAgICRlbGVtZW50OiBlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBbY29udHJvbGxlcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBsaXN0LnB1c2goY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXJyYXlSZW1vdmUobGlzdCwgY29udHJvbGxlcik7XG4gICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfSxcbiAgICBwYXJlbnRGb3JtOiBwYXJlbnRGb3JtLFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBhIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcbiAgICogc3RhdGUgKG5nLWRpcnR5IGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gICAqL1xuICBmb3JtLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgZm9ybS4kZGlydHkgPSB0cnVlO1xuICAgIGZvcm0uJHByaXN0aW5lID0gZmFsc2U7XG4gICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChuZy1wcmlzdGluZSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWRcbiAgICogaW4gdGhpcyBmb3JtLlxuICAgKlxuICAgKiBTZXR0aW5nIGEgZm9ybSBiYWNrIHRvIGEgcHJpc3RpbmUgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gd2Ugd2FudCB0byAncmV1c2UnIGEgZm9ybSBhZnRlclxuICAgKiBzYXZpbmcgb3IgcmVzZXR0aW5nIGl0LlxuICAgKi9cbiAgZm9ybS4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUywgRElSVFlfQ0xBU1MgKyAnICcgKyBTVUJNSVRURURfQ0xBU1MpO1xuICAgIGZvcm0uJGRpcnR5ID0gZmFsc2U7XG4gICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICAgIGZvcm0uJHN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHNldFByaXN0aW5lKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctdG91Y2hlZCcgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSBjb250cm9scyB0byB0aGVpclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXG4gICAqXG4gICAqIFNldHRpbmcgYSBmb3JtIGNvbnRyb2xzIGJhY2sgdG8gdGhlaXIgdW50b3VjaGVkIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHNldHRpbmcgdGhlIGZvcm1cbiAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqL1xuICBmb3JtLiRzZXRVbnRvdWNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRzZXRVbnRvdWNoZWQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRTdWJtaXR0ZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHN1Ym1pdHRlZCBzdGF0ZS5cbiAgICovXG4gIGZvcm0uJHNldFN1Ym1pdHRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgZm9ybS4kc3VibWl0dGVkID0gdHJ1ZTtcbiAgICBwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Zvcm1cbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE5lc3RhYmxlIGFsaWFzIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBgZm9ybWB9IGRpcmVjdGl2ZS4gSFRNTFxuICogZG9lcyBub3QgYWxsb3cgbmVzdGluZyBvZiBmb3JtIGVsZW1lbnRzLiBJdCBpcyB1c2VmdWwgdG8gbmVzdCBmb3JtcywgZm9yIGV4YW1wbGUgaWYgdGhlIHZhbGlkaXR5IG9mIGFcbiAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxuICpcbiAqIE5vdGU6IHRoZSBwdXJwb3NlIG9mIGBuZ0Zvcm1gIGlzIHRvIGdyb3VwIGNvbnRyb2xzLFxuICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcbiAqIChlLmcuIHBvc3RpbmcgdG8gdGhlIHNlcnZlciwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBmb3JtXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgaW5zdGFudGlhdGVzXG4gKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciBGb3JtQ29udHJvbGxlcn0uXG4gKlxuICogSWYgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIGlzIHB1Ymxpc2hlZCBvbnRvIHRoZSBjdXJyZW50IHNjb3BlIHVuZGVyXG4gKiB0aGlzIG5hbWUuXG4gKlxuICogIyBBbGlhczoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9XG4gKlxuICogSW4gQW5ndWxhciBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH0gZGlyZWN0aXZlIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cbiAqIGA8Zm9ybT5gIGJ1dCBjYW4gYmUgbmVzdGVkLiAgVGhpcyBhbGxvd3MgeW91IHRvIGhhdmUgbmVzdGVkIGZvcm1zLCB3aGljaCBpcyB2ZXJ5IHVzZWZ1bCB3aGVuXG4gKiB1c2luZyBBbmd1bGFyIHZhbGlkYXRpb24gZGlyZWN0aXZlcyBpbiBmb3JtcyB0aGF0IGFyZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgdXNpbmcgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9IGRpcmVjdGl2ZS4gU2luY2UgeW91IGNhbm5vdCBkeW5hbWljYWxseSBnZW5lcmF0ZSB0aGUgYG5hbWVgXG4gKiBhdHRyaWJ1dGUgb2YgaW5wdXQgZWxlbWVudHMgdXNpbmcgaW50ZXJwb2xhdGlvbiwgeW91IGhhdmUgdG8gd3JhcCBlYWNoIHNldCBvZiByZXBlYXRlZCBpbnB1dHMgaW4gYW5cbiAqIGBuZ0Zvcm1gIGRpcmVjdGl2ZSBhbmQgbmVzdCB0aGVzZSBpbiBhbiBvdXRlciBgZm9ybWAgZWxlbWVudC5cbiAqXG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXG4gKiAgLSBgbmctaW52YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGludmFsaWQuXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cbiAqICAtIGBuZy1kaXJ0eWAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGRpcnR5LlxuICogIC0gYG5nLXN1Ym1pdHRlZGAgaXMgc2V0IGlmIHRoZSBmb3JtIHdhcyBzdWJtaXR0ZWQuXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICpcbiAqICMgU3VibWl0dGluZyBhIGZvcm0gYW5kIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKlxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXG4gKiByb3VuZHRyaXAgYXBwcywgaXQgaXMgZGVzaXJhYmxlIGZvciB0aGUgYnJvd3NlciBub3QgdG8gdHJhbnNsYXRlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW50byBhIGZ1bGxcbiAqIHBhZ2UgcmVsb2FkIHRoYXQgc2VuZHMgdGhlIGRhdGEgdG8gdGhlIHNlcnZlci4gSW5zdGVhZCBzb21lIGphdmFzY3JpcHQgbG9naWMgc2hvdWxkIGJlIHRyaWdnZXJlZFxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxuICpcbiAqIEZvciB0aGlzIHJlYXNvbiwgQW5ndWxhciBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XG4gKlxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudFxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcbiAqXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxuICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246XG4gKlxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XG4gKiAoYG5nU3VibWl0YClcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxuICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlblxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXG4gKlxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueVxuICogb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIHdpdGhpbiB0aGUgZm9ybS4gQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHNpbWlsYXIgdG8gaG93XG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxuICogYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWZvcm0ge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAqICAgYmFja2dyb3VuZDogcmVkO1xuICogICBjb2xvcjp3aGl0ZTtcbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgLm15LWZvcm0ge1xuICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm15LWZvcm0ubmctaW52YWxpZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkZvcm1Db250cm9sbGVyXCIgY2xhc3M9XCJteS1mb3JtXCI+XG4gICAgICAgICB1c2VyVHlwZTogPGlucHV0IG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXNlclR5cGVcIiByZXF1aXJlZD5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICA8dHQ+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgdXNlcklucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlclR5cGUnKSk7XG5cbiAgICAgICAgICB1c2VySW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VySW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9FcXVhbCgndXNlclR5cGUgPScpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cbiAqL1xudmFyIGZvcm1EaXJlY3RpdmVGYWN0b3J5ID0gZnVuY3Rpb24oaXNOZ0Zvcm0pIHtcbiAgcmV0dXJuIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuICAgIHZhciBmb3JtRGlyZWN0aXZlID0ge1xuICAgICAgbmFtZTogJ2Zvcm0nLFxuICAgICAgcmVzdHJpY3Q6IGlzTmdGb3JtID8gJ0VBQycgOiAnRScsXG4gICAgICBjb250cm9sbGVyOiBGb3JtQ29udHJvbGxlcixcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nRm9ybUNvbXBpbGUoZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgICBmb3JtRWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ0Zvcm1QcmVMaW5rKHNjb3BlLCBmb3JtRWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgLy8gaWYgYGFjdGlvbmAgYXR0ciBpcyBub3QgcHJlc2VudCBvbiB0aGUgZm9ybSwgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gKHN1Ym1pc3Npb24pXG4gICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xuICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1c2UganEgZXZlbnRzIGJlY2F1c2UgaWYgYSBmb3JtIGlzIGRlc3Ryb3llZCBkdXJpbmcgc3VibWlzc2lvbiB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgICAvLyBhY3Rpb24gaXMgbm90IHByZXZlbnRlZC4gc2VlICMxMjM4XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIElFIDkgaXMgbm90IGFmZmVjdGVkIGJlY2F1c2UgaXQgZG9lc24ndCBmaXJlIGEgc3VibWl0IGV2ZW50IGFuZCB0cnkgdG8gZG8gYSBmdWxsXG4gICAgICAgICAgICAgIC8vIHBhZ2UgcmVsb2FkIGlmIHRoZSBmb3JtIHdhcyBkZXN0cm95ZWQgYnkgc3VibWlzc2lvbiBvZiB0aGUgZm9ybSB2aWEgYSBjbGljayBoYW5kbGVyXG4gICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXG4gICAgICAgICAgICAgIHZhciBoYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLFxuICAgICAgICAgICAgICAgIGFsaWFzID0gY29udHJvbGxlci4kbmFtZTtcblxuICAgICAgICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgbnVsbCwgYWxpYXMsIGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShhdHRyLm5hbWUgPyAnbmFtZScgOiAnbmdGb3JtJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXMgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBudWxsLCBhbGlhcywgdW5kZWZpbmVkLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgYWxpYXMgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIG51bGwsIGFsaWFzLCBjb250cm9sbGVyLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIGlmIChhbGlhcykge1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgbnVsbCwgYWxpYXMsIHVuZGVmaW5lZCwgYWxpYXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcbiAgVE9VQ0hFRF9DTEFTUzogZmFsc2UsXG4gICRuZ01vZGVsTWluRXJyOiBmYWxzZSxcbiovXG5cbi8vIFJlZ2V4IGNvZGUgaXMgb2J0YWluZWQgZnJvbSBTTzogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE0MzA3MC9qYXZhc2NyaXB0LXJlZ2V4LWlzby1kYXRldGltZSNhbnN3ZXItMzE0MzIzMVxudmFyIElTT19EQVRFX1JFR0VYUCA9IC9cXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoWystXVswLTJdXFxkOlswLTVdXFxkfFopLztcbnZhciBVUkxfUkVHRVhQID0gL14oZnRwfGh0dHB8aHR0cHMpOlxcL1xcLyhcXHcrOnswLDF9XFx3KkApPyhcXFMrKSg6WzAtOV0rKT8oXFwvfFxcLyhbXFx3IyE6Lj8rPSYlQCFcXC1cXC9dKSk/JC87XG52YXIgRU1BSUxfUkVHRVhQID0gL15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2k7XG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpXFxzKiQvO1xudmFyIERBVEVfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvO1xudmFyIERBVEVUSU1FTE9DQUxfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcbnZhciBXRUVLX1JFR0VYUCA9IC9eKFxcZHs0fSktVyhcXGRcXGQpJC87XG52YXIgTU9OVEhfUkVHRVhQID0gL14oXFxkezR9KS0oXFxkXFxkKSQvO1xudmFyIFRJTUVfUkVHRVhQID0gL14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcblxudmFyIGlucHV0VHlwZSA9IHtcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3RleHRdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBhbmd1bGFyIGRhdGEgYmluZGluZywgaW5oZXJpdGVkIGJ5IG1vc3Qgb2YgdGhlIGBpbnB1dGAgZWxlbWVudHMuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0IHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBpcyBhIHN0cmluZyB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgXG4gICAqICAgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAgICogICAgaW5wdXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidGV4dC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0ZXh0SW5wdXRFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndGV4dElucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2d1ZXN0JyxcbiAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgU2luZ2xlIHdvcmQ6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1wYXR0ZXJuPVwiZXhhbXBsZS53b3JkXCIgcmVxdWlyZWQgbmctdHJpbT1cImZhbHNlXCI+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnBhdHRlcm5cIj5cbiAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cblxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZXhhbXBsZS50ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBtdWx0aSB3b3JkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RleHQnOiB0ZXh0SW5wdXRUeXBlLFxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGlucHV0XG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAgKiBkYXRlIGZvcm1hdCAoeXl5eS1NTS1kZCksIGZvciBleGFtcGxlOiBgMjAwOS0wMS0wNmAuIFNpbmNlIG1hbnlcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcbiAgICAgKiBleHBlY3RlZCBpbnB1dCBmb3JtYXQgdmlhIGEgcGxhY2Vob2xkZXIgb3IgbGFiZWwuXG4gICAgICpcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgICogdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICAqIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cImRhdGUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUlucHV0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAyMilcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgICAgUGljayBhIGRhdGUgaW4gMjAxMzpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcbiAgICAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCddKSxcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiBsb2NhbCBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDIwMTAtMTItMjhUMTQ6NTc6MDBgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICpcbiAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgKiB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXG4gICAgKiBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgKlxuICAgICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZXRpbWVsb2NhbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEwLCAxMSwgMjgsIDE0LCA1NylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFRISDptbTpzc1wiIG1pbj1cIjIwMDEtMDEtMDFUMDA6MDA6MDBcIiBtYXg9XCIyMDEzLTEyLTMxVDAwOjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMVQyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVUSU1FTE9DQUxfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnLCAnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAgJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIGxvY2FsIHRpbWUgZm9ybWF0IChISDptbTpzcyksIGZvciBleGFtcGxlOiBgMTQ6NTc6MDBgLiBNb2RlbCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QuIFRoaXMgYmluZGluZyB3aWxsIGFsd2F5cyBvdXRwdXQgYVxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxuICAgKiB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmUgYVxuICAgKiB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cInRpbWUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGltZUV4YW1wbGVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgndGltZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgxOTcwLCAwLCAxLCAxNCwgNTcsIDApXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICBQaWNrIGEgYmV0d2VlbiA4YW0gYW5kIDVwbTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJISDptbTpzc1wiIG1pbj1cIjA4OjAwOjAwXCIgbWF4PVwiMTc6MDA6MDBcIiByZXF1aXJlZCAvPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnRpbWVcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzE0OjU3OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICAqL1xuICAndGltZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3RpbWUnLCBUSU1FX1JFR0VYUCxcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsIFsnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAnSEg6bW06c3Muc3NzJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFt3ZWVrXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCB3ZWVrLW9mLXRoZS15ZWFyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIHRvIERhdGUuIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLCBmb3IgZXhhbXBsZTogYDIwMTMtVzAyYC5cbiAgICAqXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAqXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxuICAgICogdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICogYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICpcbiAgICAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIndlZWstaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwid2Vla0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd3ZWVrRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDAsIDMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIndlZWtcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCIgbWF4PVwiMjAxMy1XNTJcIiByZXF1aXJlZCAvPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LVcwMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFttb250aF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggbW9udGggdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAqIHRoZSBIVE1MNSBtb250aCBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIElmIHRoZSBtb2RlbCBpcyBub3Qgc2V0IHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGgsIHRoZSBuZXh0IHZpZXcgdG8gbW9kZWwgdXBkYXRlIHdpbGwgc2V0IGl0XG4gICAqIHRvIHRoZSBmaXJzdCBvZiB0aGUgbW9udGguXG4gICAqXG4gICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmVcbiAgICogYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3RcbiAgICogYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICBQaWNrIGEgbW9udGggaW4gMjAxMzpcbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTVwiIG1pbj1cIjIwMTMtMDFcIiBtYXg9XCIyMDEzLTEyXCIgcmVxdWlyZWQgLz5cbiAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XG4gICAgICAgICAgTm90IGEgdmFsaWQgbW9udGghPC9zcGFuPlxuICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwifX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMScpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICAqL1xuICAnbW9udGgnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdtb250aCcsIE1PTlRIX1JFR0VYUCxcbiAgICAgY3JlYXRlRGF0ZVBhcnNlcihNT05USF9SRUdFWFAsIFsneXl5eScsICdNTSddKSxcbiAgICAgJ3l5eXktTU0nKSxcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W251bWJlcl1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBudW1iZXIgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIFNldHMgdGhlIGBudW1iZXJgIHZhbGlkYXRpb25cbiAgICogZXJyb3IgaWYgbm90IGEgdmFsaWQgbnVtYmVyLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBudW1iZXIsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gaXMgYSBzdHJpbmcgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cCBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYFxuICAgKiAgICBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdmFsdWU6IDEyXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICBOdW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiIG1heD1cIjk5XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm51bWJlclwiPlxuICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWV9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ251bWJlcic6IG51bWJlcklucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdXJsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIFVSTCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgdXJsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgY29udGVudCBpcyBub3QgYVxuICAgKiB2YWxpZCBVUkwuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiBgaW5wdXRbdXJsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIHVybHMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24sIHlvdSBjYW4gdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnlcbiAgICogdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0IHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBpcyBhIHN0cmluZyB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgXG4gICAqICAgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIFVSTDogPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnVybFwiPlxuICAgICAgICAgICAgIE5vdCB2YWxpZCB1cmwhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7dXJsLnRleHR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci51cmwgPSB7eyEhbXlGb3JtLiRlcnJvci51cmx9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCd1cmwudGV4dCcpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXJsLnRleHQnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdodHRwOi8vZ29vZ2xlLmNvbScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IHVybCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdib3gnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAndXJsJzogdXJsSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtlbWFpbF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBlbWFpbCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgZW1haWxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIG5vdCBhIHZhbGlkIGVtYWlsXG4gICAqIGFkZHJlc3MuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiBgaW5wdXRbZW1haWxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgZW1haWwgYWRkcmVzc2VzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uIChlLmcuIHJlcXVpcmluZyBhIHRvcC1sZXZlbCBkb21haW4pLCB5b3UgY2FuXG4gICAqIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5IHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gaXMgYSBzdHJpbmcgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cCBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYFxuICAgKiAgICBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImVtYWlsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImVtYWlsRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2VtYWlsRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdtZUBleGFtcGxlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgICBFbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5lbWFpbFwiPlxuICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzZXRzIHRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGRcbiAgICogICAgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJyZWRcIj4gIFJlZCA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj4gR3JlZW4gPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwiYmx1ZVwiPiBCbHVlIDxici8+XG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gZWxlbWVudChieS5iaW5kaW5nKCdjb2xvci5uYW1lJykpO1xuXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ2NvbG9yLm5hbWUnKSkuZ2V0KDApLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIFZhbHVlMTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj4gPGJyLz5cbiAgICAgICAgICAgVmFsdWUyOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPiA8YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUxID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMX19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1lFUycpO1xuXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKS5jbGljaygpO1xuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTInKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdjaGVja2JveCc6IGNoZWNrYm94SW5wdXRUeXBlLFxuXG4gICdoaWRkZW4nOiBub29wLFxuICAnYnV0dG9uJzogbm9vcCxcbiAgJ3N1Ym1pdCc6IG5vb3AsXG4gICdyZXNldCc6IG5vb3AsXG4gICdmaWxlJzogbm9vcFxufTtcblxuZnVuY3Rpb24gc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCkge1xuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG59XG5cbmZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICB2YXIgdHlwZSA9IGxvd2VyY2FzZShlbGVtZW50WzBdLnR5cGUpO1xuXG4gIC8vIEluIGNvbXBvc2l0aW9uIG1vZGUsIHVzZXJzIGFyZSBzdGlsbCBpbnB1dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsXG4gIC8vIGhvbGQgdGhlIGxpc3RlbmVyIHVudGlsIGNvbXBvc2l0aW9uIGlzIGRvbmUuXG4gIC8vIE1vcmUgYWJvdXQgY29tcG9zaXRpb24gZXZlbnRzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ29tcG9zaXRpb25FdmVudFxuICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHtcbiAgICB2YXIgY29tcG9zaW5nID0gZmFsc2U7XG5cbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29tcG9zaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCksXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcblxuICAgIC8vIEJ5IGRlZmF1bHQgd2Ugd2lsbCB0cmltIHRoZSB2YWx1ZVxuICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcbiAgICBpZiAodHlwZSAhPT0gJ3Bhc3N3b3JkJyAmJiAoIWF0dHIubmdUcmltIHx8IGF0dHIubmdUcmltICE9PSAnZmFsc2UnKSkge1xuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGNvbnRyb2wgaXMgc3VmZmVyaW5nIGZyb20gYmFkIGlucHV0IChkdWUgdG8gbmF0aXZlIHZhbGlkYXRvcnMpLCBicm93c2VycyBkaXNjYXJkIGl0c1xuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcbiAgICAvLyBjb250cm9sJ3MgdmFsdWUgaXMgdGhlIHNhbWUgZW1wdHkgdmFsdWUgdHdpY2UgaW4gYSByb3cuXG4gICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUgfHwgKHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpZiB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgXCJpbnB1dFwiIGV2ZW50LCB3ZSBhcmUgZmluZSAtIGV4Y2VwdCBvbiBJRTkgd2hpY2ggZG9lc24ndCBmaXJlIHRoZVxuICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRpbWVvdXQ7XG5cbiAgICB2YXIgZGVmZXJMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2LCBpbnB1dCwgb3JpZ1ZhbHVlKSB7XG4gICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGtleSA9IGV2ZW50LmtleUNvZGU7XG5cbiAgICAgIC8vIGlnbm9yZVxuICAgICAgLy8gICAgY29tbWFuZCAgICAgICAgICAgIG1vZGlmaWVycyAgICAgICAgICAgICAgICAgICBhcnJvd3NcbiAgICAgIGlmIChrZXkgPT09IDkxIHx8ICgxNSA8IGtleSAmJiBrZXkgPCAxOSkgfHwgKDM3IDw9IGtleSAmJiBrZXkgPD0gNDApKSByZXR1cm47XG5cbiAgICAgIGRlZmVyTGlzdGVuZXIoZXZlbnQsIHRoaXMsIHRoaXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgdXNlciBtb2RpZmllcyBpbnB1dCB2YWx1ZSB1c2luZyBjb250ZXh0IG1lbnUgaW4gSUUsIHdlIG5lZWQgXCJwYXN0ZVwiIGFuZCBcImN1dFwiIGV2ZW50cyB0byBjYXRjaCBpdFxuICAgIGlmICgkc25pZmZlci5oYXNFdmVudCgncGFzdGUnKSkge1xuICAgICAgZWxlbWVudC5vbigncGFzdGUgY3V0JywgZGVmZXJMaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdXNlciBwYXN0ZSBpbnRvIGlucHV0IHVzaW5nIG1vdXNlIG9uIG9sZGVyIGJyb3dzZXJcbiAgLy8gb3IgZm9ybSBhdXRvY29tcGxldGUgb24gbmV3ZXIgYnJvd3Nlciwgd2UgbmVlZCBcImNoYW5nZVwiIGV2ZW50IHRvIGNhdGNoIGl0XG4gIGVsZW1lbnQub24oJ2NoYW5nZScsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50LnZhbChjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtQYXJzZXIoaXNvV2VlaywgZXhpc3RpbmdEYXRlKSB7XG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcbiAgICByZXR1cm4gaXNvV2VlaztcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhpc29XZWVrKSkge1xuICAgIFdFRUtfUkVHRVhQLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcbiAgICBpZiAocGFydHMpIHtcbiAgICAgIHZhciB5ZWFyID0gK3BhcnRzWzFdLFxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXG4gICAgICAgICAgaG91cnMgPSAwLFxuICAgICAgICAgIG1pbnV0ZXMgPSAwLFxuICAgICAgICAgIHNlY29uZHMgPSAwLFxuICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IDAsXG4gICAgICAgICAgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhciksXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xuXG4gICAgICBpZiAoZXhpc3RpbmdEYXRlKSB7XG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xuICAgICAgICBzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldFNlY29uZHMoKTtcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTmFOO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xuICByZXR1cm4gZnVuY3Rpb24oaXNvLCBkYXRlKSB7XG4gICAgdmFyIHBhcnRzLCBtYXA7XG5cbiAgICBpZiAoaXNEYXRlKGlzbykpIHtcbiAgICAgIHJldHVybiBpc287XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxuICAgICAgLy8gc2V0IG9mIGRvdWJsZSBxdW90ZXMuIFRoaXMgbWFrZXMgdGhlIGRhdGUgcGFyc2luZyBjb2RlIHVuYWJsZVxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PSAnXCInICYmIGlzby5jaGFyQXQoaXNvLmxlbmd0aCAtIDEpID09ICdcIicpIHtcbiAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoSVNPX0RBVEVfUkVHRVhQLnRlc3QoaXNvKSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoaXNvKTtcbiAgICAgIH1cbiAgICAgIHJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgcGFydHMgPSByZWdleHAuZXhlYyhpc28pO1xuXG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICBtYXAgPSB7XG4gICAgICAgICAgICB5eXl5OiBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBNTTogZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgICAgIGRkOiBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgIEhIOiBkYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICBtbTogZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgICBzczogZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgICBzc3M6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXAgPSB7IHl5eXk6IDE5NzAsIE1NOiAxLCBkZDogMSwgSEg6IDAsIG1tOiAwLCBzczogMCwgc3NzOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBbbWFwcGluZ1tpbmRleF1dID0gK3BhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1hcC55eXl5LCBtYXAuTU0gLSAxLCBtYXAuZGQsIG1hcC5ISCwgbWFwLm1tLCBtYXAuc3MgfHwgMCwgbWFwLnNzcyAqIDEwMDAgfHwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5hTjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLCByZWdleHAsIHBhcnNlRGF0ZSwgZm9ybWF0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkeW5hbWljRGF0ZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyKSB7XG4gICAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICAgIHZhciB0aW1lem9uZSA9IGN0cmwgJiYgY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLnRpbWV6b25lO1xuICAgIHZhciBwcmV2aW91c0RhdGU7XG5cbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9IHR5cGU7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHJlZ2V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAvLyBOb3RlOiBXZSBjYW5ub3QgcmVhZCBjdHJsLiRtb2RlbFZhbHVlLCBhcyB0aGVyZSBtaWdodCBiZSBhIGRpZmZlcmVudFxuICAgICAgICAvLyBwYXJzZXIvZm9ybWF0dGVyIGluIHRoZSBwcm9jZXNzaW5nIGNoYWluIHNvIHRoYXQgdGhlIG1vZGVsXG4gICAgICAgIC8vIGNvbnRhaW5zIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9ybWF0IVxuICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZSwgcHJldmlvdXNEYXRlKTtcbiAgICAgICAgaWYgKHRpbWV6b25lID09PSAnVVRDJykge1xuICAgICAgICAgIHBhcnNlZERhdGUuc2V0TWludXRlcyhwYXJzZWREYXRlLmdldE1pbnV0ZXMoKSAtIHBhcnNlZERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgJiYgIWlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHByZXZpb3VzRGF0ZSAmJiB0aW1lem9uZSA9PT0gJ1VUQycpIHtcbiAgICAgICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSA2MDAwMCAqIHByZXZpb3VzRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IG5ldyBEYXRlKHByZXZpb3VzRGF0ZS5nZXRUaW1lKCkgKyB0aW1lem9uZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKSh2YWx1ZSwgZm9ybWF0LCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XG4gICAgICB2YXIgbWluVmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgICB2YXIgbWF4VmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPD0gbWF4VmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtYXhWYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgICAgLy8gSW52YWxpZCBEYXRlOiBnZXRUaW1lKCkgcmV0dXJucyBOYU5cbiAgICAgIHJldHVybiB2YWx1ZSAmJiAhKHZhbHVlLmdldFRpbWUgJiYgdmFsdWUuZ2V0VGltZSgpICE9PSB2YWx1ZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgPyAoaXNEYXRlKHZhbCkgPyB2YWwgOiBwYXJzZURhdGUodmFsKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XG4gIGlmIChuYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xuICAgICAgLy8gRGV0ZWN0IGJ1ZyBpbiBGRjM1IGZvciBpbnB1dFtlbWFpbF0gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEwNjQ0MzApOlxuICAgICAgLy8gLSBhbHNvIHNldHMgdmFsaWRpdHkuYmFkSW5wdXQgKHNob3VsZCBvbmx5IGJlIHZhbGlkaXR5LnR5cGVNaXNtYXRjaCkuXG4gICAgICAvLyAtIHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9mb3Jtcy5odG1sI2UtbWFpbC1zdGF0ZS0odHlwZT1lbWFpbClcbiAgICAgIC8vIC0gY2FuIGlnbm9yZSB0aGlzIGNhc2UgYXMgd2UgY2FuIHN0aWxsIHJlYWQgb3V0IHRoZSBlcnJvbmVvdXMgZW1haWwuLi5cbiAgICAgIHJldHVybiB2YWxpZGl0eS5iYWRJbnB1dCAmJiAhdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKE5VTUJFUl9SRUdFWFAudGVzdCh2YWx1ZSkpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIWN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChhdHRyLm1pbiB8fCBhdHRyLm5nTWluKSB7XG4gICAgdmFyIG1pblZhbDtcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCB2YWx1ZSA+PSBtaW5WYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gICAgICB9XG4gICAgICBtaW5WYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGF0dHIubWF4IHx8IGF0dHIubmdNYXgpIHtcbiAgICB2YXIgbWF4VmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgICAgIH1cbiAgICAgIG1heFZhbCA9IGlzTnVtYmVyKHZhbCkgJiYgIWlzTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICd1cmwnO1xuICBjdHJsLiR2YWxpZGF0b3JzLnVybCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBVUkxfUkVHRVhQLnRlc3QodmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBlbWFpbElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnZW1haWwnO1xuICBjdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmFkaW9JbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgLy8gbWFrZSB0aGUgbmFtZSB1bmlxdWUsIGlmIG5vdCBkZWZpbmVkXG4gIGlmIChpc1VuZGVmaW5lZChhdHRyLm5hbWUpKSB7XG4gICAgZWxlbWVudC5hdHRyKCduYW1lJywgbmV4dFVpZCgpKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGVsZW1lbnRbMF0uY2hlY2tlZCkge1xuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9ICh2YWx1ZSA9PSBjdHJsLiR2aWV3VmFsdWUpO1xuICB9O1xuXG4gIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgY3RybC4kcmVuZGVyKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBjb250ZXh0LCBuYW1lLCBleHByZXNzaW9uLCBmYWxsYmFjaykge1xuICB2YXIgcGFyc2VGbjtcbiAgaWYgKGlzRGVmaW5lZChleHByZXNzaW9uKSkge1xuICAgIHBhcnNlRm4gPSAkcGFyc2UoZXhwcmVzc2lvbik7XG4gICAgaWYgKCFwYXJzZUZuLmNvbnN0YW50KSB7XG4gICAgICB0aHJvdyBtaW5FcnIoJ25nTW9kZWwnKSgnY29uc3RleHByJywgJ0V4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYHsxfWAuJywgbmFtZSwgZXhwcmVzc2lvbik7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZuKGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHZhciB0cnVlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdUcnVlVmFsdWUnLCBhdHRyLm5nVHJ1ZVZhbHVlLCB0cnVlKTtcbiAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xuICB9O1xuXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcblxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xuICB9KTtcblxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvblxuICogcHJvcGVydGllcyBvZiB0aGlzIGVsZW1lbnQgYXJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGVcbiAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGlucHV0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCBpbnB1dCBlbGVtZW50IGNvbnRyb2wuIFdoZW4gdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sIGl0IHByb3ZpZGVzIGRhdGEtYmluZGluZyxcbiAqIGlucHV0IHN0YXRlIGNvbnRyb2wsIGFuZCB2YWxpZGF0aW9uLlxuICogSW5wdXQgY29udHJvbCBmb2xsb3dzIEhUTUw1IGlucHV0IHR5cGVzIGFuZCBwb2x5ZmlsbHMgdGhlIEhUTUw1IHZhbGlkYXRpb24gYmVoYXZpb3IgZm9yIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogTm90IGV2ZXJ5IGZlYXR1cmUgb2ZmZXJlZCBpcyBhdmFpbGFibGUgZm9yIGFsbCBpbnB1dCB0eXBlcy5cbiAqIFNwZWNpZmljYWxseSwgZGF0YSBiaW5kaW5nIGFuZCBldmVudCBoYW5kbGluZyB2aWEgYG5nLW1vZGVsYCBpcyB1bnN1cHBvcnRlZCBmb3IgYGlucHV0W2ZpbGVdYC5cbiAqIDwvZGl2PlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nUmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBpZiBzZXQgdG8gdHJ1ZVxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGVcbiAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxuICogICAgaW5wdXQuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7bmFtZTogJ2d1ZXN0JywgbGFzdDogJ3Zpc2l0b3InfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgICAgICBVc2VyIG5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICAgIExhc3QgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgbmctbW9kZWw9XCJ1c2VyLmxhc3RcIlxuICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoXCI+XG4gICAgICAgICAgICAgVG9vIHNob3J0ITwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aFwiPlxuICAgICAgICAgICAgIFRvbyBsb25nITwvc3Bhbj48YnI+XG4gICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8aHI+XG4gICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kdmFsaWQgPSB7e215Rm9ybS5sYXN0TmFtZS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxicj5cbiAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHVzZXIgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygndXNlcicpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS51c2VyTmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJHZhbGlkJykpO1xuICAgICAgICB2YXIgbGFzdE5hbWVFcnJvciA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiRlcnJvcicpKTtcbiAgICAgICAgdmFyIGZvcm1WYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XG4gICAgICAgIHZhciB1c2VyTGFzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5sYXN0JykpO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwidmlzaXRvclwifScpO1xuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHkgd2hlbiByZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSB2YWxpZCBpZiBlbXB0eSB3aGVuIG1pbiBsZW5ndGggaXMgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxlc3MgdGhhbiByZXF1aXJlZCBtaW4gbGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3h4Jyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWlubGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxvbmdlciB0aGFuIG1heCBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnc29tZSByaWRpY3Vsb3VzbHkgbG9uZyBuYW1lJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWF4bGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgaW5wdXREaXJlY3RpdmUgPSBbJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRmaWx0ZXInLCAnJHBhcnNlJyxcbiAgICBmdW5jdGlvbigkYnJvd3NlciwgJHNuaWZmZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWyc/bmdNb2RlbCddLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIGlmIChjdHJsc1swXSkge1xuICAgICAgICAgIChpbnB1dFR5cGVbbG93ZXJjYXNlKGF0dHIudHlwZSldIHx8IGlucHV0VHlwZS50ZXh0KShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHNbMF0sICRzbmlmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG5cblxudmFyIENPTlNUQU5UX1ZBTFVFX1JFR0VYUCA9IC9eKHRydWV8ZmFsc2V8XFxkKykkLztcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdWYWx1ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQmluZHMgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIG9mIGA8b3B0aW9uPmAgb3Ige0BsaW5rIGlucHV0W3JhZGlvXSBgaW5wdXRbcmFkaW9dYH0sXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCBpcyBzZXQgdG9cbiAqIHRoZSBib3VuZCB2YWx1ZS5cbiAqXG4gKiBgbmdWYWx1ZWAgaXMgdXNlZnVsIHdoZW4gZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBsaXN0cyBvZiByYWRpbyBidXR0b25zIHVzaW5nXG4gKiB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNob3duIGJlbG93LlxuICpcbiAqIExpa2V3aXNlLCBgbmdWYWx1ZWAgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYDxvcHRpb24+YCBlbGVtZW50cyBmb3JcbiAqIHRoZSB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBlbGVtZW50LiBJbiB0aGF0IGNhc2UgaG93ZXZlciwgb25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWRcbiAqIGZvciB0aGUgYHZhbHVlIGBhdHRyaWJ1dGUsIHNvIHRoZSByZXN1bHRpbmcgYG5nTW9kZWxgIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nLlxuICogU3VwcG9ydCBmb3IgYHNlbGVjdGAgbW9kZWxzIHdpdGggbm9uLXN0cmluZyB2YWx1ZXMgaXMgYXZhaWxhYmxlIHZpYSBgbmdPcHRpb25zYC5cbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcbiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudFxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8aDI+V2hpY2ggaXMgeW91ciBmYXZvcml0ZT88L2gyPlxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxuICAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tuYW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBiaW5kIHRoZSB2YWx1ZXMgdG8gdGhlIGlucHV0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XG4gICAgICBpZiAoQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kYCBhdHRyaWJ1dGUgdGVsbHMgQW5ndWxhciB0byByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHNwZWNpZmllZCBIVE1MIGVsZW1lbnRcbiAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXRcbiAqIGV4cHJlc3Npb24gY2hhbmdlcy5cbiAqXG4gKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZVxuICogYHt7IGV4cHJlc3Npb24gfX1gIHdoaWNoIGlzIHNpbWlsYXIgYnV0IGxlc3MgdmVyYm9zZS5cbiAqXG4gKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCBpZiBhIHRlbXBsYXRlIGlzIG1vbWVudGFyaWx5XG4gKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyBzdGF0ZSBiZWZvcmUgQW5ndWxhciBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cbiAqIGVsZW1lbnQgYXR0cmlidXRlLCBpdCBtYWtlcyB0aGUgYmluZGluZ3MgaW52aXNpYmxlIHRvIHRoZSB1c2VyIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcuXG4gKlxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9IGRpcmVjdGl2ZS5cbiAqXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICBFbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48YnI+XG4gICAgICAgICBIZWxsbyA8c3BhbiBuZy1iaW5kPVwibmFtZVwiPjwvc3Bhbj4hXG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygnd29ybGQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmREaXJlY3RpdmUgPSBbJyRjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmQpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJycgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxuICogdGV4dCBjb250ZW50IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHRoZSBpbnRlcnBvbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZVxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxuICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcbiAqIGV4cHJlc3Npb25zLiBUaGlzIGRpcmVjdGl2ZSBpcyBuZWVkZWQgc2luY2Ugc29tZSBIVE1MIGVsZW1lbnRzXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cbiAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBTYWx1dGF0aW9uOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNhbHV0YXRpb25cIj48YnI+XG4gICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjxicj5cbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XG5cbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcblxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8cCBuZy1iaW5kLWh0bWw9XCJteUhUTUxcIj48L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLm15SFRNTCA9XG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXG4gICAgICAgICAgICAgICc8YSBocmVmPVwiI1wiPmxpbmtzITwvYT4gYW5kIG90aGVyIDxlbT5zdHVmZjwvZW0+JztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbXlIVE1MJykpLmdldFRleHQoKSkudG9CZShcbiAgICAgICAgICAgICAnSSBhbSBhbiBIVE1Mc3RyaW5nIHdpdGggbGlua3MhIGFuZCBvdGhlciBzdHVmZicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgJyRwYXJzZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRzY2UsICRwYXJzZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZEh0bWxDb21waWxlKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgIHZhciBuZ0JpbmRIdG1sR2V0dGVyID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKTtcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZEh0bWxMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2gobmdCaW5kSHRtbFdhdGNoLCBmdW5jdGlvbiBuZ0JpbmRIdG1sV2F0Y2hBY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgcmUtZXZhbHVhdGUgdGhlIGV4cHIgYmVjYXVzZSB3ZSB3YW50IGEgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICAgIC8vIGZvciAkc2NlLCBub3QgYSBzdHJpbmdcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKSkgfHwgJycpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xuICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTtcbiAgcmV0dXJuIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBvbGRWYWw7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmFtZV0sIG5nQ2xhc3NXYXRjaEFjdGlvbiwgdHJ1ZSk7XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG5nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKG5hbWUgIT09ICduZ0NsYXNzJykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgICAgICAgICAgdmFyIG1vZCA9ICRpbmRleCAmIDE7XG4gICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHtcbiAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBhcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICAgICAgICBtb2QgPT09IHNlbGVjdG9yID9cbiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDpcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGNsYXNzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCAxKTtcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgY291bnQpIHtcbiAgICAgICAgICB2YXIgY2xhc3NDb3VudHMgPSBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycpIHx8IHt9O1xuICAgICAgICAgIHZhciBjbGFzc2VzVG9VcGRhdGUgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMCB8fCBjbGFzc0NvdW50c1tjbGFzc05hbWVdKSB7XG4gICAgICAgICAgICAgIGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPSAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSB8fCAwKSArIGNvdW50O1xuICAgICAgICAgICAgICBpZiAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9PT0gKyhjb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJywgY2xhc3NDb3VudHMpO1xuICAgICAgICAgIHJldHVybiBjbGFzc2VzVG9VcGRhdGUuam9pbignICcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIHRvQWRkID0gYXJyYXlEaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgICB0b0FkZCA9IGRpZ2VzdENsYXNzQ291bnRzKHRvQWRkLCAxKTtcbiAgICAgICAgICB0b1JlbW92ZSA9IGRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlLCAtMSk7XG4gICAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xuICAgICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgdG9BZGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCB0b1JlbW92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gdHJ1ZSB8fCBzY29wZS4kaW5kZXggJSAyID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBhcnJheUNsYXNzZXMobmV3VmFsIHx8IFtdKTtcbiAgICAgICAgICAgIGlmICghb2xkVmFsKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFlcXVhbHMobmV3VmFsLG9sZFZhbCkpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBhcnJheUNsYXNzZXMob2xkVmFsKTtcbiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgb2xkVmFsID0gc2hhbGxvd0NvcHkobmV3VmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSwgdG9rZW5zMikge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zMS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZiAodG9rZW4gPT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnB1c2godG9rZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUNsYXNzZXMoY2xhc3NWYWwpIHtcbiAgICAgIGlmIChpc0FycmF5KGNsYXNzVmFsKSkge1xuICAgICAgICByZXR1cm4gY2xhc3NWYWw7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNsYXNzVmFsKSkge1xuICAgICAgICByZXR1cm4gY2xhc3NWYWwuc3BsaXQoJyAnKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY2xhc3NWYWwpKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gW107XG4gICAgICAgIGZvckVhY2goY2xhc3NWYWwsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgY2xhc3NlcyA9IGNsYXNzZXMuY29uY2F0KGsuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xhc3NWYWw7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZHluYW1pY2FsbHkgc2V0IENTUyBjbGFzc2VzIG9uIGFuIEhUTUwgZWxlbWVudCBieSBkYXRhYmluZGluZ1xuICogYW4gZXhwcmVzc2lvbiB0aGF0IHJlcHJlc2VudHMgYWxsIGNsYXNzZXMgdG8gYmUgYWRkZWQuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBvcGVyYXRlcyBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cywgZGVwZW5kaW5nIG9uIHdoaWNoIG9mIHRocmVlIHR5cGVzIHRoZSBleHByZXNzaW9uXG4gKiBldmFsdWF0ZXMgdG86XG4gKlxuICogMS4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHNob3VsZCBiZSBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NcbiAqIG5hbWVzLlxuICpcbiAqIDIuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgYmUgYSBzdHJpbmcgdGhhdCBpc1xuICogb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzIG5hbWVzLlxuICpcbiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBvYmplY3QsIHRoZW4gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlXG4gKiBvYmplY3Qgd2l0aCBhIHRydXRoeSB2YWx1ZSB0aGUgY29ycmVzcG9uZGluZyBrZXkgaXMgdXNlZCBhcyBhIGNsYXNzIG5hbWUuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC5cbiAqXG4gKiBXaGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIHRoZSBwcmV2aW91c2x5IGFkZGVkIGNsYXNzZXMgYXJlIHJlbW92ZWQgYW5kIG9ubHkgdGhlbiB0aGVcbiAqIG5ldyBjbGFzc2VzIGFyZSBhZGRlZC5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogKiphZGQqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRzXG4gKlxuICogKipyZW1vdmUqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsIHJlZDogZXJyb3J9XCI+TWFwIFN5bnRheCBFeGFtcGxlPC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj4gZGVsZXRlZCAoYXBwbHkgXCJzdHJpa2VcIiBjbGFzcyk8YnI+XG4gICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiaW1wb3J0YW50XCI+IGltcG9ydGFudCAoYXBwbHkgXCJib2xkXCIgY2xhc3MpPGJyPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImVycm9yXCI+IGVycm9yIChhcHBseSBcInJlZFwiIGNsYXNzKVxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cInN0eWxlXCI+VXNpbmcgU3RyaW5nIFN5bnRheDwvcD5cbiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInN0eWxlXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCI+PGJyPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMlwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIiBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gICAgICAgfVxuICAgICAgIC5ib2xkIHtcbiAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgfVxuICAgICAgIC5yZWQge1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvcmVkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL3JlZC8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cblxuXG4gICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgbmcuJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Nsb2FrXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xuICogb2YgdGhlIGJyb3dzZXIgdmlldy5cbiAqXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXG4gKiBgYW5ndWxhci5taW4uanNgLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgY3NzXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGlzIGNzcyBydWxlIGlzIGxvYWRlZCBieSB0aGUgYnJvd3NlciwgYWxsIGh0bWwgZWxlbWVudHMgKGluY2x1ZGluZyB0aGVpciBjaGlsZHJlbikgdGhhdFxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBMZWdhY3kgYnJvd3NlcnMsIGxpa2UgSUU3LCBkbyBub3QgcHJvdmlkZSBhdHRyaWJ1dGUgc2VsZWN0b3Igc3VwcG9ydCAoYWRkZWQgaW4gQ1NTIDIuMSkgc28gdGhleVxuICogY2Fubm90IG1hdGNoIHRoZSBgW25nXFw6Y2xvYWtdYCBzZWxlY3Rvci4gVG8gd29yayBhcm91bmQgdGhpcyBsaW1pdGF0aW9uLCB5b3UgbXVzdCBhZGQgdGhlIGNzc1xuICogY2xhc3MgYG5nLWNsb2FrYCBpbiBhZGRpdGlvbiB0byB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBuZy1jbG9hayBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ2hlbGxvIElFNycgfX08L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxuICogc3VwcG9ydHMgdGhlIHByaW5jaXBsZXMgYmVoaW5kIHRoZSBNb2RlbC1WaWV3LUNvbnRyb2xsZXIgZGVzaWduIHBhdHRlcm4uXG4gKlxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcbiAqXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxuICogKiBWaWV3IOKAlCBUaGUgdGVtcGxhdGUgKEhUTUwgd2l0aCBkYXRhIGJpbmRpbmdzKSB0aGF0IGlzIHJlbmRlcmVkIGludG8gdGhlIFZpZXcuXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXG4gKiBhZ2FpbiB1c2luZyBgbmctY29udHJvbGxlcmAgaW4gdGhlIHRlbXBsYXRlIGl0c2VsZi4gIFRoaXMgd2lsbCBjYXVzZSB0aGUgY29udHJvbGxlciB0byBiZSBhdHRhY2hlZFxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNTAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29udHJvbGxlciBOYW1lIG9mIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxuICogYWxzbyBiZSB0aGUgbmFtZSBvZiBhIGdsb2JhbGx5IGFjY2Vzc2libGUgY29uc3RydWN0b3IgZnVuY3Rpb24gKG5vdCByZWNvbW1lbmRlZCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmRcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXIgY29tbXVuaXR5LCBhbmQgaXMgZ2VuZXJhbGx5IHVzZWQgaW4gYm9pbGVycGxhdGVzXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXG4gKlxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxuICogKiBJZiB5b3UgYXJlIHdyaXRpbmcgeW91ciBjb250cm9sbGVycyBhcyBjbGFzc2VzIHlvdSBoYXZlIGVhc2llciBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgYW5kXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcbiAqIGluaGVyaXRhbmNlIG1hc2tpbmcgcHJpbWl0aXZlcy5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxkaXYgaWQ9XCJjdHJsLWFzLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcIj5cbiAqICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPlxuICogICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmdyZWV0KClcIj5ncmVldDwvYT4gXTxici8+XG4gKiAgICAgIENvbnRhY3Q6XG4gKiAgICAgIDx1bD5cbiAqICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0c1wiPlxuICogICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiPlxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9hPlxuICogICAgICAgICAgfCA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpXCI+WDwvYT4gXVxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPlsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9hPiBdPC9saT5cbiAqICAgICA8L3VsPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcbiAqXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xuICogICAgICB0aGlzLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcbiAqICAgIH1cbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICBhbGVydCh0aGlzLm5hbWUpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICB0aGlzLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgfTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKlxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubGlua1RleHQoJ2NsZWFyJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5saW5rVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cbiAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XG4gKiAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPlxuICogICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9hPiBdPGJyLz5cbiAqICAgICBDb250YWN0OlxuICogICAgIDx1bD5cbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgIDwvc2VsZWN0PlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2E+XG4gKiAgICAgICAgIHwgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2E+IF1cbiAqICAgICAgIDwvbGk+XG4gKiAgICAgICA8bGk+WyA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2E+IF08L2xpPlxuICogICAgPC91bD5cbiAqICAgPC9kaXY+XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gKiAgICAgJHNjb3BlLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07XG4gKlxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgICB9O1xuICogICB9XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5saW5rVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmxpbmtUZXh0KCdhZGQnKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICB9KTtcbiAqICA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cblxuICovXG52YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0AnLFxuICAgIHByaW9yaXR5OiA1MDBcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3NwXG4gKlxuICogQGVsZW1lbnQgaHRtbFxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBzdXBwb3J0LlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKiBDU1AgZm9yYmlkcyBhcHBzIHRvIHVzZSBgZXZhbGAgb3IgYEZ1bmN0aW9uKHN0cmluZylgIGdlbmVyYXRlZCBmdW5jdGlvbnMgKGFtb25nIG90aGVyIHRoaW5ncykuXG4gKiBGb3IgQW5ndWxhciB0byBiZSBDU1AgY29tcGF0aWJsZSB0aGVyZSBhcmUgb25seSB0d28gdGhpbmdzIHRoYXQgd2UgbmVlZCB0byBkbyBkaWZmZXJlbnRseTpcbiAqXG4gKiAtIGRvbid0IHVzZSBgRnVuY3Rpb25gIGNvbnN0cnVjdG9yIHRvIGdlbmVyYXRlIG9wdGltaXplZCB2YWx1ZSBnZXR0ZXJzXG4gKiAtIGRvbid0IGluamVjdCBjdXN0b20gc3R5bGVzaGVldCBpbnRvIHRoZSBkb2N1bWVudFxuICpcbiAqIEFuZ3VsYXJKUyB1c2VzIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zIGFzIGEgc3BlZWQgb3B0aW1pemF0aW9uLiBBcHBseWluZyB0aGUgYG5nQ3NwYFxuICogZGlyZWN0aXZlIHdpbGwgY2F1c2UgQW5ndWxhciB0byB1c2UgQ1NQIGNvbXBhdGliaWxpdHkgbW9kZS4gV2hlbiB0aGlzIG1vZGUgaXMgb24gQW5ndWxhckpTIHdpbGxcbiAqIGV2YWx1YXRlIGFsbCBleHByZXNzaW9ucyB1cCB0byAzMCUgc2xvd2VyIHRoYW4gaW4gbm9uLUNTUCBtb2RlLCBidXQgbm8gc2VjdXJpdHkgdmlvbGF0aW9ucyB3aWxsXG4gKiBiZSByYWlzZWQuXG4gKlxuICogQ1NQIGZvcmJpZHMgSmF2YVNjcmlwdCB0byBpbmxpbmUgc3R5bGVzaGVldCBydWxlcy4gSW4gbm9uIENTUCBtb2RlIEFuZ3VsYXIgYXV0b21hdGljYWxseVxuICogaW5jbHVkZXMgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9KS5cbiAqIFRvIG1ha2UgdGhvc2UgZGlyZWN0aXZlcyB3b3JrIGluIENTUCBtb2RlLCBpbmNsdWRlIHRoZSBgYW5ndWxhci1jc3AuY3NzYCBtYW51YWxseS5cbiAqXG4gKiBBbmd1bGFyIHRyaWVzIHRvIGF1dG9kZXRlY3QgaWYgQ1NQIGlzIGFjdGl2ZSBhbmQgYXV0b21hdGljYWxseSB0dXJuIG9uIHRoZSBDU1Atc2FmZSBtb2RlLiBUaGlzXG4gKiBhdXRvZGV0ZWN0aW9uIGhvd2V2ZXIgdHJpZ2dlcnMgYSBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxuICpcbiAqIGBgYFxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSBvbiB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBvciBvbiB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCB0YWcsIHdoaWNoZXZlclxuICogYXBwZWFycyBmaXJzdCBpbiB0aGUgaHRtbCBkb2N1bWVudC5cbiAqXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBhcHBseSB0aGUgYG5nQ3NwYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gICBgYGBodG1sXG4gICAgIDwhZG9jdHlwZSBodG1sPlxuICAgICA8aHRtbCBuZy1hcHAgbmctY3NwPlxuICAgICAuLi5cbiAgICAgLi4uXG4gICAgIDwvaHRtbD5cbiAgIGBgYFxuICAqIEBleGFtcGxlXG4gICAgICAvLyBOb3RlOiB0aGUgc3VmZml4IGAuY3NwYCBpbiB0aGUgZXhhbXBsZSBuYW1lIHRyaWdnZXJzXG4gICAgICAvLyBjc3AgbW9kZSBpbiBvdXIgaHR0cCBzZXJ2ZXIhXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZXhhbXBsZS5jc3BcIiBtb2R1bGU9XCJjc3BFeGFtcGxlXCIgbmctY3NwPVwidHJ1ZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XG4gICAgICAgICAgICAgICAge3tjdHJsLmNvdW50ZXJ9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuZXZpbCgpXCIgaWQ9XCJldmlsXCI+RXZpbDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGpzaGludCBldmlsOnRydWVcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoJzErMicpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2aWxFcnJvciA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHV0aWwsIHdlYmRyaXZlcjtcblxuICAgICAgICAgIHZhciBpbmNCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbmMnKSk7XG4gICAgICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xuICAgICAgICAgIHZhciBldmlsQnRuID0gZWxlbWVudChieS5pZCgnZXZpbCcpKTtcbiAgICAgICAgICB2YXIgZXZpbEVycm9yID0gZWxlbWVudChieS5pZCgnZXZpbEVycm9yJykpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5tYW5hZ2UoKS5sb2dzKCkuZ2V0KCdicm93c2VyJykudGhlbihmdW5jdGlvbihicm93c2VyTG9nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBicm93c2VyTG9nLmZpbHRlcihmdW5jdGlvbihsb2dFbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2dFbnRyeS5sZXZlbC52YWx1ZSA+IHdlYmRyaXZlci5sb2dnaW5nLkxldmVsLldBUk5JTkcudmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdE5vRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExvZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYnJvd3NlciBjb25zb2xlIGVycm9yczogJyArIHV0aWwuaW5zcGVjdChmaWx0ZXJlZExvZykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3RFcnJvcihyZWdleCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBmaWx0ZXJlZExvZy5mb3JFYWNoKGZ1bmN0aW9uKGxvZykge1xuICAgICAgICAgICAgICAgIGlmIChsb2cubWVzc2FnZS5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhbiBlcnJvciB0aGF0IG1hdGNoZXMgJyArIHJlZ2V4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG4gICAgICAgICAgICB3ZWJkcml2ZXIgPSByZXF1aXJlKCdwcm90cmFjdG9yL25vZGVfbW9kdWxlcy9zZWxlbml1bS13ZWJkcml2ZXInKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEZvciBub3csIHdlIG9ubHkgdGVzdCBvbiBDaHJvbWUsXG4gICAgICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcbiAgICAgICAgICAvLyBhbmQgRmlyZWZveCB3ZWJkcml2ZXIgYWx3YXlzIGRpc2FibGVzIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5ICgjNjM1OClcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciAhPT0gJ2Nocm9tZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIG5vdCByZXBvcnQgZXJyb3JzIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgYXJlIG5vdCBkZXBlbmRlbnQgb24gcHJldmlvdXMgdGVzdHNcbiAgICAgICAgICAgIGNsZWFyRXJyb3JzKCk7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbG9hZCB0aGUgcGFnZSBhcyB0aGUgcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3aGVuXG4gICAgICAgICAgICAvLyB3ZSBjb21lIGhlcmVcbiAgICAgICAgICAgIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICBicm93c2VyLmdldCh1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSBleHByZXNzaW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcwJyk7XG4gICAgICAgICAgICBpbmNCdG4uY2xpY2soKTtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBldmlsQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoZXZpbEVycm9yLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICovXG5cbi8vIG5nQ3NwIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBhIHByb3BlciBkaXJlY3RpdmUgYW55IG1vcmUsIGJlY2F1c2Ugd2UgbmVlZCBpdCBiZSBwcm9jZXNzZWQgd2hpbGUgd2Vcbi8vIGJvb3RzdHJhcCB0aGUgc3lzdGVtIChiZWZvcmUgJHBhcnNlIGlzIGluc3RhbnRpYXRlZCksIGZvciB0aGlzIHJlYXNvbiB3ZSBqdXN0IGhhdmVcbi8vIHRoZSBjc3AuaXNBY3RpdmUoKSBmbiB0aGF0IGxvb2tzIGZvciBuZy1jc3AgYXR0cmlidXRlIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvY1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cbiAqIGFuIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudFxuICAgICAgPC9idXR0b24+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICAgPC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi8qXG4gKiBBIGNvbGxlY3Rpb24gb2YgZGlyZWN0aXZlcyB0aGF0IGFsbG93cyBjcmVhdGlvbiBvZiBjdXN0b20gZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhc1xuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXG4gKi9cbnZhciBuZ0V2ZW50RGlyZWN0aXZlcyA9IHt9O1xuXG4vLyBGb3IgZXZlbnRzIHRoYXQgbWlnaHQgZmlyZSBzeW5jaHJvbm91c2x5IGR1cmluZyBET00gbWFuaXB1bGF0aW9uXG4vLyB3ZSBuZWVkIHRvIGV4ZWN1dGUgdGhlaXIgZXZlbnQgaGFuZGxlcnMgYXN5bmNocm9ub3VzbHkgdXNpbmcgJGV2YWxBc3luYyxcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cbnZhciBmb3JjZUFzeW5jRXZlbnRzID0ge1xuICAnYmx1cic6IHRydWUsXG4gICdmb2N1cyc6IHRydWVcbn07XG5mb3JFYWNoKFxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcbiAgZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBldmVudE5hbWUpO1xuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAvLyBXZSBleHBvc2UgdGhlIHBvd2VyZnVsICRldmVudCBvYmplY3Qgb24gdGhlIHNjb3BlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBXaW5kb3csXG4gICAgICAgICAgLy8gZXRjLiB0aGF0IGlzbid0IHByb3RlY3RlZCBieSB0aGUgZmFzdCBwYXRocyBpbiAkcGFyc2UuICBXZSBleHBsaWNpdGx5IHJlcXVlc3QgYmV0dGVyXG4gICAgICAgICAgLy8gY2hlY2tzIGF0IHRoZSBjb3N0IG9mIHNwZWVkIHNpbmNlIGV2ZW50IGhhbmRsZXIgZXhwcmVzc2lvbnMgYXJlIG5vdCBleGVjdXRlZCBhc1xuICAgICAgICAgIC8vIGZyZXF1ZW50bHkgYXMgcmVndWxhciBjaGFuZ2UgZGV0ZWN0aW9uLlxuICAgICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdLCAvKiBpbnRlcmNlcHRvckZuICovIG51bGwsIC8qIGV4cGVuc2l2ZUNoZWNrcyAqLyB0cnVlKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdFdmVudEhhbmRsZXIoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24oZXZlbnROYW1lLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDpldmVudH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZm9yY2VBc3luY0V2ZW50c1tldmVudE5hbWVdICYmICRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG4gIH1cbik7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEYmxjbGlja1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0RibGNsaWNrYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBhIGRibGNsaWNrIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEYmxjbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBhIGRibGNsaWNrLiAoVGhlIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGApXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50IChvbiBkb3VibGUgY2xpY2spXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nTW91c2Vkb3duIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgZG93bilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2V1cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2V1cCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2V1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZXVwLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgdXApXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW92ZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlb3ZlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VvdmVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlb3Zlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW92ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBpcyBvdmVyKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWVudGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWVudGVyIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWVudGVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZW50ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VlbnRlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VsZWF2ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VsZWF2ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VsZWF2ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbGVhdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBsZWF2ZXMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbW92ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2Vtb3ZlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW1vdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2Vtb3ZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbW92ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIG1vdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXlkb3duXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICBrZXkgZG93biBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXl1cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5dXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleXVwLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXkgY291bnQ8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPiBrZXkgdXAgY291bnQ6IHt7Y291bnR9fVxuXG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5Y29kZTwvcD5cbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJldmVudD0kZXZlbnRcIj5cbiAgICAgICA8cD5ldmVudCBrZXlDb2RlOiB7eyBldmVudC5rZXlDb2RlIH19PC9wPlxuICAgICAgIDxwPmV2ZW50IGFsdEtleToge3sgZXZlbnQuYWx0S2V5IH19PC9wPlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5cHJlc3NcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXByZXNzIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXByZXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleXByZXNzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfVxuICogYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmcta2V5cHJlc3M9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICBrZXkgcHJlc3MgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3VibWl0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIGJpbmRpbmcgYW5ndWxhciBleHByZXNzaW9ucyB0byBvbnN1Ym1pdCBldmVudHMuXG4gKlxuICogQWRkaXRpb25hbGx5IGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiAod2hpY2ggZm9yIGZvcm0gbWVhbnMgc2VuZGluZyB0aGUgcmVxdWVzdCB0byB0aGVcbiAqIHNlcnZlciBhbmQgcmVsb2FkaW5nIHRoZSBjdXJyZW50IHBhZ2UpLCBidXQgb25seSBpZiB0aGUgZm9ybSBkb2VzIG5vdCBjb250YWluIGBhY3Rpb25gLFxuICogYGRhdGEtYWN0aW9uYCwgb3IgYHgtYWN0aW9uYCBhdHRyaWJ1dGVzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKldhcm5pbmc6KiogQmUgY2FyZWZ1bCBub3QgdG8gY2F1c2UgXCJkb3VibGUtc3VibWlzc2lvblwiIGJ5IHVzaW5nIGJvdGggdGhlIGBuZ0NsaWNrYCBhbmRcbiAqIGBuZ1N1Ym1pdGAgaGFuZGxlcnMgdG9nZXRoZXIuIFNlZSB0aGVcbiAqIHtAbGluayBmb3JtI3N1Ym1pdHRpbmctYS1mb3JtLWFuZC1wcmV2ZW50aW5nLXRoZS1kZWZhdWx0LWFjdGlvbiBgZm9ybWAgZGlyZWN0aXZlIGRvY3VtZW50YXRpb259XG4gKiBmb3IgYSBkZXRhaWxlZCBkaXNjdXNzaW9uIG9mIHdoZW4gYG5nU3VibWl0YCBtYXkgYmUgdHJpZ2dlcmVkLlxuICogPC9kaXY+XG4gKlxuICogQGVsZW1lbnQgZm9ybVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdWJtaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzdWJtaXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3VibWl0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnaGVsbG8nO1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdC5wdXNoKHRoaXMudGV4dCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5nLXN1Ym1pdD1cInN1Ym1pdCgpXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIEVudGVyIHRleHQgYW5kIGhpdCBlbnRlcjpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgbmFtZT1cInRleHRcIiAvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGlkPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxuICAgICAgICA8cHJlPmxpc3Q9e3tsaXN0fX08L3ByZT5cbiAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdWJtaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7XG4gICAgICAgfSk7XG4gICAgICAgaXQoJ3Nob3VsZCBpZ25vcmUgZW1wdHkgc3RyaW5ncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRm9jdXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgZm9jdXNgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgd2hlbiBjYWxsaW5nIGBpbnB1dC5mb2N1cygpYFxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRm9jdXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JsdXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGJsdXIgZXZlbnQuXG4gKlxuICogQSBbYmx1ciBldmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2JsdXIpIGZpcmVzIHdoZW5cbiAqIGFuIGVsZW1lbnQgaGFzIGxvc3QgZm9jdXMuXG4gKlxuICogTm90ZTogQXMgdGhlIGBibHVyYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IGFsc28gZHVyaW5nIERPTSBtYW5pcHVsYXRpb25zXG4gKiAoZS5nLiByZW1vdmluZyBhIGZvY3Vzc2VkIGlucHV0KSxcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JsdXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYmx1ci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29weVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY29weSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvcHkge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY29weS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWNvcHk9XCJjb3BpZWQ9dHJ1ZVwiIG5nLWluaXQ9XCJjb3BpZWQ9ZmFsc2U7IHZhbHVlPSdjb3B5IG1lJ1wiIG5nLW1vZGVsPVwidmFsdWVcIj5cbiAgICAgIGNvcGllZDoge3tjb3BpZWR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0N1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY3V0IGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ3V0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGN1dC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjdXQ6IHt7Y3V0fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQYXN0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gcGFzdGUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdQYXN0ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBwYXN0ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLXBhc3RlPVwicGFzdGU9dHJ1ZVwiIG5nLWluaXQ9XCJwYXN0ZT1mYWxzZVwiIHBsYWNlaG9sZGVyPSdwYXN0ZSBoZXJlJz5cbiAgICAgIHBhc3RlZDoge3twYXN0ZX19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSWZcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSWZgIGRpcmVjdGl2ZSByZW1vdmVzIG9yIHJlY3JlYXRlcyBhIHBvcnRpb24gb2YgdGhlIERPTSB0cmVlIGJhc2VkIG9uIGFuXG4gKiB7ZXhwcmVzc2lvbn0uIElmIHRoZSBleHByZXNzaW9uIGFzc2lnbmVkIHRvIGBuZ0lmYCBldmFsdWF0ZXMgdG8gYSBmYWxzZVxuICogdmFsdWUgdGhlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgb3RoZXJ3aXNlIGEgY2xvbmUgb2YgdGhlXG4gKiBlbGVtZW50IGlzIHJlaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuICpcbiAqIGBuZ0lmYCBkaWZmZXJzIGZyb20gYG5nU2hvd2AgYW5kIGBuZ0hpZGVgIGluIHRoYXQgYG5nSWZgIGNvbXBsZXRlbHkgcmVtb3ZlcyBhbmQgcmVjcmVhdGVzIHRoZVxuICogZWxlbWVudCBpbiB0aGUgRE9NIHJhdGhlciB0aGFuIGNoYW5naW5nIGl0cyB2aXNpYmlsaXR5IHZpYSB0aGUgYGRpc3BsYXlgIGNzcyBwcm9wZXJ0eS4gIEEgY29tbW9uXG4gKiBjYXNlIHdoZW4gdGhpcyBkaWZmZXJlbmNlIGlzIHNpZ25pZmljYW50IGlzIHdoZW4gdXNpbmcgY3NzIHNlbGVjdG9ycyB0aGF0IHJlbHkgb24gYW4gZWxlbWVudCdzXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSwgc3VjaCBhcyB0aGUgYDpmaXJzdC1jaGlsZGAgb3IgYDpsYXN0LWNoaWxkYCBwc2V1ZG8tY2xhc3Nlcy5cbiAqXG4gKiBOb3RlIHRoYXQgd2hlbiBhbiBlbGVtZW50IGlzIHJlbW92ZWQgdXNpbmcgYG5nSWZgIGl0cyBzY29wZSBpcyBkZXN0cm95ZWQgYW5kIGEgbmV3IHNjb3BlXG4gKiBpcyBjcmVhdGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVzdG9yZWQuICBUaGUgc2NvcGUgY3JlYXRlZCB3aXRoaW4gYG5nSWZgIGluaGVyaXRzIGZyb21cbiAqIGl0cyBwYXJlbnQgc2NvcGUgdXNpbmdcbiAqIFtwcm90b3R5cGFsIGluaGVyaXRhbmNlXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMjamF2YXNjcmlwdC1wcm90b3R5cGFsLWluaGVyaXRhbmNlKS5cbiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0b1xuICogYSBqYXZhc2NyaXB0IHByaW1pdGl2ZSBkZWZpbmVkIGluIHRoZSBwYXJlbnQgc2NvcGUuIEluIHRoaXMgY2FzZSBhbnkgbW9kaWZpY2F0aW9ucyBtYWRlIHRvIHRoZVxuICogdmFyaWFibGUgd2l0aGluIHRoZSBjaGlsZCBzY29wZSB3aWxsIG92ZXJyaWRlIChoaWRlKSB0aGUgdmFsdWUgaW4gdGhlIHBhcmVudCBzY29wZS5cbiAqXG4gKiBBbHNvLCBgbmdJZmAgcmVjcmVhdGVzIGVsZW1lbnRzIHVzaW5nIHRoZWlyIGNvbXBpbGVkIHN0YXRlLiBBbiBleGFtcGxlIG9mIHRoaXMgYmVoYXZpb3JcbiAqIGlzIGlmIGFuIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUgaXMgZGlyZWN0bHkgbW9kaWZpZWQgYWZ0ZXIgaXQncyBjb21waWxlZCwgdXNpbmcgc29tZXRoaW5nIGxpa2VcbiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50XG4gKiB0aGUgYWRkZWQgY2xhc3Mgd2lsbCBiZSBsb3N0IGJlY2F1c2UgdGhlIG9yaWdpbmFsIGNvbXBpbGVkIHN0YXRlIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgZWxlbWVudC5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmBcbiAqIGFuZCBgbGVhdmVgIGVmZmVjdHMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBgbmdJZmAgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBgbmdJZmAgY29udGFpbmVyXG4gKiBsZWF2ZSAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGBuZ0lmYCBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDYwMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0lmIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBmYWxzeSB0aGVuXG4gKiAgICAgdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdHJlZS4gSWYgaXQgaXMgdHJ1dGh5IGEgY29weSBvZiB0aGUgY29tcGlsZWRcbiAqICAgICBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBET00gdHJlZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBuZy1pbml0PVwiY2hlY2tlZD10cnVlXCIgLz48YnIvPlxuICAgICAgU2hvdyB3aGVuIGNoZWNrZWQ6XG4gICAgICA8c3BhbiBuZy1pZj1cImNoZWNrZWRcIiBjbGFzcz1cImFuaW1hdGUtaWZcIj5cbiAgICAgICAgVGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1pZiB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsIC5hbmltYXRlLWlmLm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDYwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICByZXN0cmljdDogJ0EnLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgYmxvY2ssIGNoaWxkU2NvcGUsIHByZXZpb3VzRWxlbWVudHM7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgbmV3U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ0lmOiAnICsgJGF0dHIubmdJZiArICcgJyk7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jayA9IHtcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShwcmV2aW91c0VsZW1lbnRzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbmNsdWRlXG4gKiBAcmVzdHJpY3QgRUNBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGZXRjaGVzLCBjb21waWxlcyBhbmQgaW5jbHVkZXMgYW4gZXh0ZXJuYWwgSFRNTCBmcmFnbWVudC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgVVJMIGlzIHJlc3RyaWN0ZWQgdG8gdGhlIHNhbWUgZG9tYWluIGFuZCBwcm90b2NvbCBhcyB0aGVcbiAqIGFwcGxpY2F0aW9uIGRvY3VtZW50LiBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiBpdC4gVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIHByb3RvY29sc1xuICogeW91IG1heSBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdCB0aGVtfSBvclxuICoge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgdGhlbX0gYXMgdHJ1c3RlZCB2YWx1ZXMuIFJlZmVyIHRvIEFuZ3VsYXIncyB7QGxpbmtcbiAqIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmd9LlxuICpcbiAqIEluIGFkZGl0aW9uLCB0aGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gKiBGb3IgZXhhbXBsZSwgYG5nSW5jbHVkZWAgd29uJ3Qgd29yayBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzIG9uIGFsbCBicm93c2VycyBhbmQgZm9yIGBmaWxlOi8vYFxuICogYWNjZXNzIG9uIHNvbWUgYnJvd3NlcnMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYnJpbmcgbmV3IGNvbnRlbnQgaW50byB0aGUgYnJvd3Nlci5cbiAqIGxlYXZlIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYW5pbWF0ZSBleGlzdGluZyBjb250ZW50IGF3YXkuXG4gKlxuICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxuICpcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDQwMFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0luY2x1ZGV8c3JjIGFuZ3VsYXIgZXhwcmVzc2lvbiBldmFsdWF0aW5nIHRvIFVSTC4gSWYgdGhlIHNvdXJjZSBpcyBhIHN0cmluZyBjb25zdGFudCxcbiAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb25sb2FkIEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiBhIG5ldyBwYXJ0aWFsIGlzIGxvYWRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSBjb250ZW50IGlzIGxvYWRlZC5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJpbmNsdWRlRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPihibGFuayk8L29wdGlvbj5cbiAgICAgICA8L3NlbGVjdD5cbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxuICAgICAgIDxoci8+XG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9XG4gICAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcbiAgICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTtcbiAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMS5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTIuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZSB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRvcDo1MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcbiAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uaXNQcmVzZW50KCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRFcnJvclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgd2hlbiBhIHRlbXBsYXRlIEhUVFAgcmVxdWVzdCB5aWVsZHMgYW4gZXJyb25lb3VzIHJlc3BvbnNlIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID4gMjk5KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xudmFyIG5nSW5jbHVkZURpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlUmVxdWVzdCcsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJywgJyRzY2UnLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgICAkYW5jaG9yU2Nyb2xsLCAgICRhbmltYXRlLCAgICRzY2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VDQScsXG4gICAgcHJpb3JpdHk6IDQwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBzcmNFeHAgPSBhdHRyLm5nSW5jbHVkZSB8fCBhdHRyLnNyYyxcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcbiAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQ7XG5cbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoc3JjRXhwKSwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XG4gICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHtcbiAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxuICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcbiAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cbiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkudGhlbihhZnRlckFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWwob25sb2FkRXhwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcbi8vIGlzIGNhbGxlZC5cbnZhciBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLFxuICBmdW5jdGlvbigkY29tcGlsZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICBwcmlvcml0eTogLTQwMCxcbiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCkge1xuICAgICAgICBpZiAoL1NWRy8udGVzdCgkZWxlbWVudFswXS50b1N0cmluZygpKSkge1xuICAgICAgICAgIC8vIFdlYktpdDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTY5OCAtLS0gU1ZHIGVsZW1lbnRzIGRvIG5vdFxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXG4gICAgICAgICAgLy8gc3BlY2lhbGx5LlxuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCBkb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9LCB7ZnV0dXJlUGFyZW50RWxlbWVudDogJGVsZW1lbnR9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xuICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbml0XG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxuICogY3VycmVudCBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj5cbiAqIFRoZSBvbmx5IGFwcHJvcHJpYXRlIHVzZSBvZiBgbmdJbml0YCBpcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93LiBCZXNpZGVzIHRoaXMgY2FzZSwgeW91XG4gKiBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfSByYXRoZXIgdGhhbiBgbmdJbml0YFxuICogdG8gaW5pdGlhbGl6ZSB2YWx1ZXMgb24gYSBzY29wZS5cbiAqIDwvZGl2PlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGgge0BsaW5rIG5nLiRmaWx0ZXIgYCRmaWx0ZXJgfSwgbWFrZVxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNpcyBmb3IgY29ycmVjdCBwcmVjZWRlbmNlOlxuICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoZGF0YSB8IG9yZGVyQnk6J25hbWUnKVwiPjwvZGl2PmBcbiAqIDwvcHJlPlxuICogPC9kaXY+XG4gKlxuICogQHByaW9yaXR5IDQ1MFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiaW5pdEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxzY3JpcHQ+XG4gICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxuICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAkc2NvcGUubGlzdCA9IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXTtcbiAgICAgICB9XSk7XG4gICA8L3NjcmlwdD5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwidmFsdWUgaW4gaW5uZXJMaXN0XCIgbmctaW5pdD1cImlubmVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImV4YW1wbGUtaW5pdFwiPmxpc3RbIHt7b3V0ZXJJbmRleH19IF1bIHt7aW5uZXJJbmRleH19IF0gPSB7e3ZhbHVlfX07PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFsaWFzIGluZGV4IHBvc2l0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMCBdID0gYTsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDEgXSA9IGI7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMSBdID0gZDsnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBwcmlvcml0eTogNDUwLFxuICBjb21waWxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdJbml0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0xpc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICBMaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD5cbiAqICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDxicj5cbiAqICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcbiAqICAgICB2YXIgbmFtZXMgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygnbmFtZXMnKSk7XG4gKiAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQnKSk7XG4gKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpO1xuICpcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIyBFeGFtcGxlIC0gc3BsaXR0aW5nIG9uIHdoaXRlc3BhY2VcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXG4gKi9cbnZhciBuZ0xpc3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICAvLyBXZSB3YW50IHRvIGNvbnRyb2wgd2hpdGVzcGFjZSB0cmltbWluZyBzbyB3ZSB1c2UgdGhpcyBjb252b2x1dGVkIGFwcHJvYWNoXG4gICAgICAvLyB0byBhY2Nlc3MgdGhlIG5nTGlzdCBhdHRyaWJ1dGUsIHdoaWNoIGRvZXNuJ3QgcHJlLXRyaW0gdGhlIGF0dHJpYnV0ZVxuICAgICAgdmFyIG5nTGlzdCA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nTGlzdCkgfHwgJywgJztcbiAgICAgIHZhciB0cmltVmFsdWVzID0gYXR0ci5uZ1RyaW0gIT09ICdmYWxzZSc7XG4gICAgICB2YXIgc2VwYXJhdG9yID0gdHJpbVZhbHVlcyA/IHRyaW0obmdMaXN0KSA6IG5nTGlzdDtcblxuICAgICAgdmFyIHBhcnNlID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgaXMgaW52YWxpZCAoc2F5IHJlcXVpcmVkIGJ1dCBlbXB0eSkgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgaWYgKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuJHBhcnNlcnMucHVzaChwYXJzZSk7XG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4obmdMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LlxuICAgICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyogZ2xvYmFsIFZBTElEX0NMQVNTOiB0cnVlLFxuICBJTlZBTElEX0NMQVNTOiB0cnVlLFxuICBQUklTVElORV9DTEFTUzogdHJ1ZSxcbiAgRElSVFlfQ0xBU1M6IHRydWUsXG4gIFVOVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiAgVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiovXG5cbnZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXG4gICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJyxcbiAgICBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxuICAgIFVOVE9VQ0hFRF9DTEFTUyA9ICduZy11bnRvdWNoZWQnLFxuICAgIFRPVUNIRURfQ0xBU1MgPSAnbmctdG91Y2hlZCcsXG4gICAgUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJztcblxuXG52YXIgJG5nTW9kZWxNaW5FcnIgPSBuZXcgbWluRXJyKCduZ01vZGVsJyk7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gJHZpZXdWYWx1ZSBBY3R1YWwgc3RyaW5nIHZhbHVlIGluIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxuICAgICAgIHRoZSBjb250cm9sIHJlYWRzIHZhbHVlIGZyb20gdGhlIERPTS4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmdcbiAgICAgICBpdHMgcmV0dXJuIHZhbHVlIHRocm91Z2ggdG8gdGhlIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gY29sbGVjdGlvbi5cblxuUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcbmAkdmlld1ZhbHVlYH0uXG5cblJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcbm5vIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IHdpbGwgcnVuIGFuZCB0aGUgYG5nTW9kZWxgXG53aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfVxuaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxuXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAgICAgICB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcbiAgICAgICBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyB0aGUgYWN0dWFsIERPTSB2YWx1ZS5cbiAgICAgICBVc2VkIHRvIGZvcm1hdCAvIGNvbnZlcnQgdmFsdWVzIGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxuICogYGBganNcbiAqIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICogICBpZiAodmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbiAqICAgfVxuICogfVxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcbiAqICAgICAgd2hlbmV2ZXIgdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuIFRoZSBrZXkgdmFsdWUgd2l0aGluIHRoZSBvYmplY3QgcmVmZXJzIHRvIHRoZSBuYW1lIG9mIHRoZVxuICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xuICogICAgICBvbiB0aGUgcmVzcG9uc2Ugb2YgdGhhdCB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiR2YWxpZGF0b3JzLnZhbGlkQ2hhcmFjdGVycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW2Etel0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICRhc3luY1ZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRpb25zIHRoYXQgYXJlIGV4cGVjdGVkIHRvXG4gKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcbiAqICAgICAgaXMgZGVsaXZlcmVkIHRoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdpbGwgYmUgc2V0IHRvIHRydWUgd2hlbiBmdWxmaWxsZWQgYW5kIGZhbHNlIHdoZW4gcmVqZWN0ZWQuXG4gKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxuICogICAgICBpcyB1bmZ1bGZpbGxlZCwgaXRzIGtleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVycyBgJHBlbmRpbmdgIHByb3BlcnR5LiBBbHNvLCBhbGwgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnNcbiAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgaWYgJGh0dHAgaXMgdXNlZCB0aGVuIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHN1Y2Nlc3MgSFRUUCByZXNwb25zZSBjb2RlXG4gKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqXG4gKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cbiAqICAgICAgdGhlbihmdW5jdGlvbiByZXNvbHZlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XG4gKiAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdGVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgIH0pO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRwZW5kaW5nIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIHBlbmRpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBsb3N0IGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIHRoZXJlIGlzIG5vIGVycm9yLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBwcm92aWRlcyBBUEkgZm9yIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IGRpcmVjdGl2ZS5cbiAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcbiAqIGxpc3RlbmluZyB0byBET00gZXZlbnRzLlxuICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoaXMgRE9NIGxvZ2ljIGZvciBtb3N0IHtAbGluayBpbnB1dCBgaW5wdXRgfSBlbGVtZW50cy5cbiAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdNb2RlbENvbnRyb2xsZXJgIHdpdGggYSBjdXN0b20gY29udHJvbCB0byBhY2hpZXZlXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICpcbiAqIE5vdGUgdGhhdCBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxuICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLiAgVGhpcyB3aWxsIG5vdCB3b3JrIG9uIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cbiAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICBbY29udGVudGVkaXRhYmxlXSB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLm5nLWludmFsaWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gICAgICB9XG5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcblxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHJlYWQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXG5cbiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmRcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxuICAgICAgICAgICAgICAgIGlmICggYXR0cnMuc3RyaXBCciAmJiBodG1sID09ICc8YnI+JyApIHtcbiAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGh0bWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgIDxkaXYgY29udGVudGVkaXRhYmxlXG4gICAgICAgICAgICBuYW1lPVwibXlXaWRnZXRcIiBuZy1tb2RlbD1cInVzZXJDb250ZW50XCJcbiAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXG4gICAgICAgICAgICByZXF1aXJlZD5DaGFuZ2UgbWUhPC9kaXY+XG4gICAgICAgIDxzcGFuIG5nLXNob3c9XCJteUZvcm0ubXlXaWRnZXQuJGVycm9yLnJlcXVpcmVkXCI+UmVxdWlyZWQhPC9zcGFuPlxuICAgICAgIDxocj5cbiAgICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiPjwvdGV4dGFyZWE+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgIC8vIFNhZmFyaURyaXZlciBjYW4ndCBoYW5kbGUgY29udGVudGVkaXRhYmxlXG4gICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnQ2hhbmdlIG1lISc7XG5cbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xuXG4gICAgICBjb250ZW50RWRpdGFibGUuY2xlYXIoKTtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKCcnKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9uZy1pbnZhbGlkLXJlcXVpcmVkLyk7XG4gICAgfSk7XG4gICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKi9cbnZhciBOZ01vZGVsQ29udHJvbGxlciA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckcScsICckaW50ZXJwb2xhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRyb290U2NvcGUsICRxLCAkaW50ZXJwb2xhdGUpIHtcbiAgdGhpcy4kdmlld1ZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kbW9kZWxWYWx1ZSA9IE51bWJlci5OYU47XG4gIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cbiAgdGhpcy4kdmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRhc3luY1ZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xuICB0aGlzLiRmb3JtYXR0ZXJzID0gW107XG4gIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcbiAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XG4gIHRoaXMuJHZhbGlkID0gdHJ1ZTtcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJCRzdWNjZXNzID0ge307IC8vIGtlZXAgdmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7IC8vIGtlZXAgcGVuZGluZyBrZXlzIGhlcmVcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblxuXG4gIHZhciBwYXJzZWROZ01vZGVsID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwpLFxuICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHBhcnNlZE5nTW9kZWwuYXNzaWduLFxuICAgICAgbmdNb2RlbEdldCA9IHBhcnNlZE5nTW9kZWwsXG4gICAgICBuZ01vZGVsU2V0ID0gcGFyc2VkTmdNb2RlbEFzc2lnbixcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9IG51bGwsXG4gICAgICBjdHJsID0gdGhpcztcblxuICB0aGlzLiQkc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBjdHJsLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgdmFyIGludm9rZU1vZGVsR2V0dGVyID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwgKyAnKCknKSxcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsICsgJygkJCRwKScpO1xuXG4gICAgICBuZ01vZGVsR2V0ID0gZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIHZhciBtb2RlbFZhbHVlID0gcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgfTtcbiAgICAgIG5nTW9kZWxTZXQgPSBmdW5jdGlvbigkc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcnNlZE5nTW9kZWwoJHNjb3BlKSkpIHtcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlcigkc2NvcGUsIHskJCRwOiBjdHJsLiRtb2RlbFZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbigkc2NvcGUsIGN0cmwuJG1vZGVsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIXBhcnNlZE5nTW9kZWwuYXNzaWduKSB7XG4gICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbm9uYXNzaWduJywgXCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX1cIixcbiAgICAgICAgICAkYXR0ci5uZ01vZGVsLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyZW5kZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHVwZGF0ZWQuIEl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIHVzZXIgb2YgdGhlIG5nLW1vZGVsXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGAkcmVuZGVyKClgIG1ldGhvZCBpcyBpbnZva2VkIGluIHRoZSBmb2xsb3dpbmcgc2l0dWF0aW9uczpcbiAgICpcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcbiAgICogICBjb21taXR0ZWQgdmFsdWUgdGhlbiBgJHJlbmRlcigpYCBpcyBjYWxsZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCBjb250cm9sLlxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCB0byBsYXN0IHRpbWUuXG4gICAqXG4gICAqIFNpbmNlIGBuZy1tb2RlbGAgZG9lcyBub3QgZG8gYSBkZWVwIHdhdGNoLCBgJHJlbmRlcigpYCBpcyBvbmx5IGludm9rZWQgaWYgdGhlIHZhbHVlcyBvZlxuICAgKiBgJG1vZGVsVmFsdWVgIGFuZCBgJHZpZXdWYWx1ZWAgYXJlIGFjdHVhbGx5IGRpZmZlcmVudCB0byB0aGVpciBwcmV2aW91cyB2YWx1ZS4gSWYgYCRtb2RlbFZhbHVlYFxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxuICAgKiBpbnZva2VkIGlmIHlvdSBvbmx5IGNoYW5nZSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3RzLlxuICAgKi9cbiAgdGhpcy4kcmVuZGVyID0gbm9vcDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBgJGlzRW1wdHlgIGZ1bmN0aW9uIGNoZWNrcyB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYCwgYCcnYCwgYG51bGxgIG9yIGBOYU5gLlxuICAgKlxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgdG8gdGhlXG4gICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWBcbiAgICogaW1wbGllcyBlbXB0eS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIGNoZWNrIGZvciBlbXB0aW5lc3MuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgXCJlbXB0eVwiLlxuICAgKi9cbiAgdGhpcy4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xuICB9O1xuXG4gIHZhciBwYXJlbnRGb3JtID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnJGZvcm1Db250cm9sbGVyJykgfHwgbnVsbEZvcm1DdHJsLFxuICAgICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCA9IDA7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUsIGFuZCBub3RpZnkgdGhlIGZvcm0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgd2l0aGluICRwYXJzZXJzLyRmb3JtYXR0ZXJzIG9yIGEgY3VzdG9tIHZhbGlkYXRpb24gaW1wbGVtZW50YXRpb24uXG4gICAqIEhvd2V2ZXIsIGluIG1vc3QgY2FzZXMgaXQgc2hvdWxkIGJlIHN1ZmZpY2llbnQgdG8gdXNlIHRoZSBgbmdNb2RlbC4kdmFsaWRhdG9yc2AgYW5kXG4gICAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYmUgYXNzaWduZWRcbiAgICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxuICAgKiAgICAgICAgKGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2ApLCBzbyB0aGF0IGl0IGlzIGF2YWlsYWJsZSBmb3IgZGF0YS1iaW5kaW5nLlxuICAgKiAgICAgICAgVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZVxuICAgKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcbiAgICogICAgICAgIGNsYXNzIGFuZCBjYW4gYmUgYm91bmQgdG8gYXMgIGB7e3NvbWVGb3JtLnNvbWVDb250cm9sLiRlcnJvci5teUVycm9yfX1gIC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmcgKHVuZGVmaW5lZCksXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBvciBza2lwcGVkIChudWxsKS4gUGVuZGluZyBpcyB1c2VkIGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lwcGVkIGlzIHVzZWQgYnkgQW5ndWxhciB3aGVuIHZhbGlkYXRvcnMgZG8gbm90IHJ1biBiZWNhdXNlIG9mIHBhcnNlIGVycm9ycyBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxuICAgKi9cbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xuICAgIGN0cmw6IHRoaXMsXG4gICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XG4gICAgfSxcbiAgICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfSxcbiAgICBwYXJlbnRGb3JtOiBwYXJlbnRGb3JtLFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctZGlydHlgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChgbmctcHJpc3RpbmVgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHByaXN0aW5lIHdoZW4gdGhlIGNvbnRyb2xcbiAgICogaGFzIG5vdCBiZWVuIGNoYW5nZWQgZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0UHJpc3RpbmUgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IGZhbHNlO1xuICAgIGN0cmwuJHByaXN0aW5lID0gdHJ1ZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0RGlydHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXByaXN0aW5lYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eVxuICAgKiBzdGF0ZSAoYG5nLWRpcnR5YCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBkaXJ0eSB3aGVuIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWRcbiAgICogZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxuICAgKi9cbiAgdGhpcy4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiRkaXJ0eSA9IHRydWU7XG4gICAgY3RybC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy10b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB1bnRvdWNoZWQgc3RhdGUgKGBuZy11bnRvdWNoZWRgIGNsYXNzKS4gVXBvbiBjb21waWxhdGlvbiwgYSBtb2RlbCBpcyBzZXQgYXMgdW50b3VjaGVkXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xuICAgKiBhbHJlYWR5IGJlZW4gdG91Y2hlZCBieSB0aGUgdXNlci5cbiAgICovXG4gIHRoaXMuJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSBmYWxzZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSB0cnVlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdW50b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB0b3VjaGVkIHN0YXRlIChgbmctdG91Y2hlZGAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgdG91Y2hlZCB3aGVuIHRoZSB1c2VyIGhhc1xuICAgKiBmaXJzdCBmb2N1c2VkIHRoZSBjb250cm9sIGVsZW1lbnQgYW5kIHRoZW4gc2hpZnRlZCBmb2N1cyBhd2F5IGZyb20gdGhlIGNvbnRyb2wgKGJsdXIgZXZlbnQpLlxuICAgKi9cbiAgdGhpcy4kc2V0VG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSB0cnVlO1xuICAgIGN0cmwuJHVudG91Y2hlZCA9IGZhbHNlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBUT1VDSEVEX0NMQVNTLCBVTlRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWwgYW4gdXBkYXRlIGFuZCByZXNldCB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIHRvIHByZXZlbnQgYW4gdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLFxuICAgKiB3aGljaCBtYXkgYmUgY2F1c2VkIGJ5IGEgcGVuZGluZyBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lXG4gICAqIGZ1dHVyZSBldmVudC5cbiAgICpcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIGV2ZW50cyBvciBldmVudHMgc3VjaFxuICAgKiBhcyBibHVyIHlvdSBjYW4gaGF2ZSBhIHNpdHVhdGlvbiB3aGVyZSB0aGVyZSBpcyBhIHBlcmlvZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWBcbiAgICogaXMgb3V0IG9mIHN5bmNoIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBJbiB0aGlzIGNhc2UsIHlvdSBjYW4gcnVuIGludG8gZGlmZmljdWx0aWVzIGlmIHlvdSB0cnkgdG8gdXBkYXRlIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYFxuICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXG4gICAqXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICogaW5wdXQgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBtb2RlbCB2YWx1ZSBhbmQgYW55IHBlbmRpbmcgb3BlcmF0aW9ucyBhcmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcbiAgICpcbiAgICogICAgIC5jb250cm9sbGVyKCdDYW5jZWxVcGRhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICogICAgICAgJHNjb3BlLnJlc2V0V2l0aENhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAqICAgICAgICAgICAkc2NvcGUubXlGb3JtLm15SW5wdXQxLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICAgICRzY29wZS5yZXNldFdpdGhvdXRDYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15VmFsdWUgPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICB9XSk7XG4gICAqICAgPC9maWxlPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYW5jZWxVcGRhdGVDb250cm9sbGVyXCI+XG4gICAqICAgICAgIDxwPlRyeSB0eXBpbmcgc29tZXRoaW5nIGluIGVhY2ggaW5wdXQuICBTZWUgdGhhdCB0aGUgbW9kZWwgb25seSB1cGRhdGVzIHdoZW4geW91XG4gICAqICAgICAgICAgIGJsdXIgb2ZmIHRoZSBpbnB1dC5cbiAgICogICAgICAgIDwvcD5cbiAgICogICAgICAgIDxwPk5vdyBzZWUgd2hhdCBoYXBwZW5zIGlmIHlvdSBzdGFydCB0eXBpbmcgdGhlbiBwcmVzcyB0aGUgRXNjYXBlIGtleTwvcD5cbiAgICpcbiAgICogICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiPlxuICAgKiAgICAgICAgIDxwPldpdGggJHJvbGxiYWNrVmlld1ZhbHVlKCk8L3A+XG4gICAqICAgICAgICAgPGlucHV0IG5hbWU9XCJteUlucHV0MVwiIG5nLW1vZGVsPVwibXlWYWx1ZVwiIG5nLWtleWRvd249XCJyZXNldFdpdGhDYW5jZWwoJGV2ZW50KVwiPjxici8+XG4gICAqICAgICAgICAgbXlWYWx1ZTogXCJ7eyBteVZhbHVlIH19XCJcbiAgICpcbiAgICogICAgICAgICA8cD5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpPC9wPlxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwibXlJbnB1dDJcIiBuZy1tb2RlbD1cIm15VmFsdWVcIiBuZy1rZXlkb3duPVwicmVzZXRXaXRob3V0Q2FuY2VsKCRldmVudClcIj48YnIvPlxuICAgKiAgICAgICAgIG15VmFsdWU6IFwie3sgbXlWYWx1ZSB9fVwiXG4gICAqICAgICAgIDwvZm9ybT5cbiAgICogICAgIDwvZGl2PlxuICAgKiAgIDwvZmlsZT5cbiAgICogPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kcm9sbGJhY2tWaWV3VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcbiAgICBjdHJsLiR2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICBjdHJsLiRyZW5kZXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUnVucyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIHZhbGlkYXRvcnMgKGZpcnN0IHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYW5kIHRoZW5cbiAgICogYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMpLlxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byBpbnZhbGlkLCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAsXG4gICAqIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9IGlzIGB0cnVlYC5cbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gdmFsaWQsIGl0IHdpbGwgc2V0IHRoZSBtb2RlbCB0byB0aGUgbGFzdCBhdmFpbGFibGUgdmFsaWRcbiAgICogbW9kZWxWYWx1ZSwgaS5lLiBlaXRoZXIgdGhlIGxhc3QgcGFyc2VkIHZhbHVlIG9yIHRoZSBsYXN0IHZhbHVlIHNldCBmcm9tIHRoZSBzY29wZS5cbiAgICovXG4gIHRoaXMuJHZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gaWdub3JlICR2YWxpZGF0ZSBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgLy8gTm90ZTogd2UgdXNlIHRoZSAkJHJhd01vZGVsVmFsdWUgYXMgJG1vZGVsVmFsdWUgbWlnaHQgaGF2ZSBiZWVuXG4gICAgLy8gc2V0IHRvIHVuZGVmaW5lZCBkdXJpbmcgYSB2aWV3IC0+IG1vZGVsIHVwZGF0ZSB0aGF0IGZvdW5kIHZhbGlkYXRpb25cbiAgICAvLyBlcnJvcnMuIFdlIGNhbid0IHBhcnNlIHRoZSB2aWV3IGhlcmUsIHNpbmNlIHRoYXQgY291bGQgY2hhbmdlXG4gICAgLy8gdGhlIG1vZGVsIGFsdGhvdWdoIG5laXRoZXIgdmlld1ZhbHVlIG5vciB0aGUgbW9kZWwgb24gdGhlIHNjb3BlIGNoYW5nZWRcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHRoZXJlJ3MgYSBwYXJzZSBlcnJvciwgc28gd2UgZG9uJ3QgdW5zZXQgaXQgYWNjaWRlbnRpYWxseVxuICAgIHZhciBwYXJzZXJOYW1lID0gY3RybC4kJHBhcnNlck5hbWUgfHwgJ3BhcnNlJztcbiAgICB2YXIgcGFyc2VyVmFsaWQgPSBjdHJsLiRlcnJvcltwYXJzZXJOYW1lXSA/IGZhbHNlIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIHByZXZWYWxpZCA9IGN0cmwuJHZhbGlkO1xuICAgIHZhciBwcmV2TW9kZWxWYWx1ZSA9IGN0cmwuJG1vZGVsVmFsdWU7XG5cbiAgICB2YXIgYWxsb3dJbnZhbGlkID0gY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLmFsbG93SW52YWxpZDtcblxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKHBhcnNlclZhbGlkLCBtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gY2hhbmdlIGluIHZhbGlkaXR5LCBkb24ndCB1cGRhdGUgdGhlIG1vZGVsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGNoYW5naW5nIGFuIGludmFsaWQgbW9kZWxWYWx1ZSB0byB1bmRlZmluZWRcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgY3RybC4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjdHJsLiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLiQkcnVuVmFsaWRhdG9ycyA9IGZ1bmN0aW9uKHBhcnNlVmFsaWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XG4gICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCsrO1xuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XG5cbiAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcbiAgICBpZiAoIXByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSB7XG4gICAgICB2YXIgZXJyb3JLZXkgPSBjdHJsLiQkcGFyc2VyTmFtZSB8fCAncGFyc2UnO1xuICAgICAgaWYgKHBhcnNlVmFsaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VWYWxpZCk7XG4gICAgICAgIGlmICghcGFyc2VWYWxpZCkge1xuICAgICAgICAgIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xuICAgICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdmFyIGFsbFZhbGlkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKSB7XG4gICAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoXCIkYXN5bmNWYWxpZGF0b3JzXCIsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGFzeW5jaHJvbm91cyB2YWxpZGF0b3IgdG8gcmV0dXJuIGEgcHJvbWlzZSBidXQgZ290ICd7MH0nIGluc3RlYWQuXCIsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHRydWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgZmFsc2UpO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICAgIGlmICghdmFsaWRhdG9yUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgICAgIHZhbGlkYXRpb25Eb25lKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHEuYWxsKHZhbGlkYXRvclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKTtcbiAgICAgICAgfSwgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCkge1xuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG4gICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcblxuICAgICAgICBkb25lQ2FsbGJhY2soYWxsVmFsaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhIHBlbmRpbmcgdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIHRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cbiAgICovXG4gIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiR2aWV3VmFsdWU7XG5cbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcblxuICAgIC8vIElmIHRoZSB2aWV3IHZhbHVlIGhhcyBub3QgY2hhbmdlZCB0aGVuIHdlIHNob3VsZCBqdXN0IGV4aXQsIGV4Y2VwdCBpbiB0aGUgY2FzZSB3aGVyZSB0aGVyZSBpc1xuICAgIC8vIGEgbmF0aXZlIHZhbGlkYXRvciBvbiB0aGUgZWxlbWVudC4gSW4gdGhpcyBjYXNlIHRoZSB2YWxpZGF0aW9uIHN0YXRlIG1heSBoYXZlIGNoYW5nZWQgZXZlbiB0aG91Z2hcbiAgICAvLyB0aGUgdmlld1ZhbHVlIGhhcyBzdGF5ZWQgZW1wdHkuXG4gICAgaWYgKGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID09PSB2aWV3VmFsdWUgJiYgKHZpZXdWYWx1ZSAhPT0gJycgfHwgIWN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmIChjdHJsLiRwcmlzdGluZSkge1xuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICB2YXIgcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICBpZiAocGFyc2VyVmFsaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC4kcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbFZhbHVlID0gY3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgcGFyc2VyVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIC8vIGN0cmwuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgkc2NvcGUpO1xuICAgIH1cbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuICAgIGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcblxuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxuICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKHBhcnNlclZhbGlkLCBtb2RlbFZhbHVlLCBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkge1xuICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XG4gICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkd3JpdGVNb2RlbFRvU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgICBuZ01vZGVsU2V0KCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgZm9yRWFjaChjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBVcGRhdGUgdGhlIHZpZXcgdmFsdWUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbiBpbnB1dCBkaXJlY3RpdmUgd2FudCB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIEZvciBleGFtcGxlIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9IGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZFxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9IGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKlxuICAgKiBJZiB0aGUgbmV3IGB2YWx1ZWAgaXMgYW4gb2JqZWN0IChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBhIG51bWJlciksIHdlIHNob3VsZCBtYWtlIGEgY29weSBvZiB0aGVcbiAgICogb2JqZWN0IGJlZm9yZSBwYXNzaW5nIGl0IHRvIGAkc2V0Vmlld1ZhbHVlYC4gIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3QgcGVyZm9ybSBhIGRlZXBcbiAgICogd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZSB0aGUgcHJvcGVydHkgb2ZcbiAgICogdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGlzZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kIHdpbGwgbm90IGludm9rZSB0aGVcbiAgICogYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuXG4gICAqXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZCBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG9cbiAgICogYCRzZXRWaWV3VmFsdWVgLiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cbiAgICpcbiAgICogV2hlbiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXG4gICAqIHZhbHVlIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcsIGZpbmFsbHkgdG8gYmUgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgIGFuZCB0aGVuIHRoZVxuICAgKiAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlLlxuICAgKlxuICAgKiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLCBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCB0cmlnZ2VyIGEgYCRkaWdlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgZnJvbSB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cbiAgICovXG4gIHRoaXMuJHNldFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKCFjdHJsLiRvcHRpb25zIHx8IGN0cmwuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSB7XG4gICAgICBjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICB2YXIgZGVib3VuY2VEZWxheSA9IDAsXG4gICAgICAgIG9wdGlvbnMgPSBjdHJsLiRvcHRpb25zLFxuICAgICAgICBkZWJvdW5jZTtcblxuICAgIGlmIChvcHRpb25zICYmIGlzRGVmaW5lZChvcHRpb25zLmRlYm91bmNlKSkge1xuICAgICAgZGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlO1xuICAgICAgaWYgKGlzTnVtYmVyKGRlYm91bmNlKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2U7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VbdHJpZ2dlcl07XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlWydkZWZhdWx0J10pKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVsnZGVmYXVsdCddO1xuICAgICAgfVxuICAgIH1cblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGlmIChkZWJvdW5jZURlbGF5KSB7XG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9LCBkZWJvdW5jZURlbGF5KTtcbiAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIG1vZGVsIC0+IHZhbHVlXG4gIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XG4gIC8vIDEuIHNjb3BlIHZhbHVlIGlzICdhJ1xuICAvLyAyLiB1c2VyIGVudGVycyAnYidcbiAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xuICAvLyAgICAtPiBzY29wZSB2YWx1ZSBkaWQgbm90IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCBkaWdlc3QgYXNcbiAgLy8gICAgICAgbmctY2hhbmdlIGV4ZWN1dGVzIGluIGFwcGx5IHBoYXNlXG4gIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XG5cbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlKSB7XG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XG5cbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XG4gICAgICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuICAgICAgICBjdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyh1bmRlZmluZWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsVmFsdWU7XG4gIH0pO1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vZGVsXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwcmlvcml0eSAxXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nTW9kZWxgIGRpcmVjdGl2ZSBiaW5kcyBhbiBgaW5wdXRgLGBzZWxlY3RgLCBgdGV4dGFyZWFgIChvciBjdXN0b20gZm9ybSBjb250cm9sKSB0byBhXG4gKiBwcm9wZXJ0eSBvbiB0aGUgc2NvcGUgdXNpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgTmdNb2RlbENvbnRyb2xsZXJ9LFxuICogd2hpY2ggaXMgY3JlYXRlZCBhbmQgZXhwb3NlZCBieSB0aGlzIGRpcmVjdGl2ZS5cbiAqXG4gKiBgbmdNb2RlbGAgaXMgcmVzcG9uc2libGUgZm9yOlxuICpcbiAqIC0gQmluZGluZyB0aGUgdmlldyBpbnRvIHRoZSBtb2RlbCwgd2hpY2ggb3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBpbnB1dGAsIGB0ZXh0YXJlYWAgb3IgYHNlbGVjdGBcbiAqICAgcmVxdWlyZS5cbiAqIC0gUHJvdmlkaW5nIHZhbGlkYXRpb24gYmVoYXZpb3IgKGkuZS4gcmVxdWlyZWQsIG51bWJlciwgZW1haWwsIHVybCkuXG4gKiAtIEtlZXBpbmcgdGhlIHN0YXRlIG9mIHRoZSBjb250cm9sICh2YWxpZC9pbnZhbGlkLCBkaXJ0eS9wcmlzdGluZSwgdG91Y2hlZC91bnRvdWNoZWQsIHZhbGlkYXRpb24gZXJyb3JzKS5cbiAqIC0gU2V0dGluZyByZWxhdGVkIGNzcyBjbGFzc2VzIG9uIHRoZSBlbGVtZW50IChgbmctdmFsaWRgLCBgbmctaW52YWxpZGAsIGBuZy1kaXJ0eWAsIGBuZy1wcmlzdGluZWAsIGBuZy10b3VjaGVkYCwgYG5nLXVudG91Y2hlZGApIGluY2x1ZGluZyBhbmltYXRpb25zLlxuICogLSBSZWdpc3RlcmluZyB0aGUgY29udHJvbCB3aXRoIGl0cyBwYXJlbnQge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19LlxuICpcbiAqIE5vdGU6IGBuZ01vZGVsYCB3aWxsIHRyeSB0byBiaW5kIHRvIHRoZSBwcm9wZXJ0eSBnaXZlbiBieSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uIG9uIHRoZVxuICogY3VycmVudCBzY29wZS4gSWYgdGhlIHByb3BlcnR5IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBvbiB0aGlzIHNjb3BlLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIGltcGxpY2l0bHkgYW5kIGFkZGVkIHRvIHRoZSBzY29wZS5cbiAqXG4gKiBGb3IgYmVzdCBwcmFjdGljZXMgb24gdXNpbmcgYG5nTW9kZWxgLCBzZWU6XG4gKlxuICogIC0gW1VuZGVyc3RhbmRpbmcgU2NvcGVzXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMpXG4gKlxuICogRm9yIGJhc2ljIGV4YW1wbGVzLCBob3cgdG8gdXNlIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0ZXh0XSB0ZXh0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbY2hlY2tib3hdIGNoZWNrYm94fVxuICogICAgLSB7QGxpbmsgaW5wdXRbcmFkaW9dIHJhZGlvfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbnVtYmVyXSBudW1iZXJ9XG4gKiAgICAtIHtAbGluayBpbnB1dFtlbWFpbF0gZW1haWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt1cmxdIHVybH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGVdIGRhdGV9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRldGltZS1sb2NhbF0gZGF0ZXRpbWUtbG9jYWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0aW1lXSB0aW1lfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbW9udGhdIG1vbnRofVxuICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6dGV4dGFyZWEgdGV4dGFyZWF9XG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogVGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGFzc29jaWF0ZWQgaW5wdXQvc2VsZWN0L3RleHRhcmVhIGVsZW1lbnRcbiAqIGRlcGVuZGluZyBvbiB0aGUgdmFsaWRpdHkgb2YgdGhlIG1vZGVsLlxuICpcbiAqICAtIGBuZy12YWxpZGA6IHRoZSBtb2RlbCBpcyB2YWxpZFxuICogIC0gYG5nLWludmFsaWRgOiB0aGUgbW9kZWwgaXMgaW52YWxpZFxuICogIC0gYG5nLXZhbGlkLVtrZXldYDogZm9yIGVhY2ggdmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctaW52YWxpZC1ba2V5XWA6IGZvciBlYWNoIGludmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctcHJpc3RpbmVgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBpbnRlcmFjdGVkIHdpdGggeWV0XG4gKiAgLSBgbmctZGlydHlgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGhcbiAqICAtIGBuZy10b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gYmx1cnJlZFxuICogIC0gYG5nLXVudG91Y2hlZGA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy1wZW5kaW5nYDogYW55IGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgdW5mdWxmaWxsZWRcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cbiAqXG4gKiAjIyBBbmltYXRpb24gSG9va3NcbiAqXG4gKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcbiAqIG9uIHRoZSBpbnB1dCBlbGVtZW50IHdoaWNoIGlzIGF0dGFjaGVkIHRvIHRoZSBtb2RlbC4gVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCxcbiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxuICogVGhlIGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdpdGhpbiBuZ01vZGVsIGFyZSBzaW1pbGFyIHRvIGhvdyB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmRcbiAqIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwgYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGFuIGlucHV0IGVsZW1lbnRcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XG4gKlxuICogPHByZT5cbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXG4gKiAubXktaW5wdXQge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktaW5wdXQubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XG4gICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgIC5teS1pbnB1dCB7XG4gICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgIH1cbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIFVwZGF0ZSBpbnB1dCB0byBzZWUgdHJhbnNpdGlvbnMgd2hlbiB2YWxpZC9pbnZhbGlkLlxuICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiIC8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcbiAqXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCB0aGFuIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcbiAqIHRvIHRoZSB2aWV3LlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcbiAqIGZyZXF1ZW50bHkgdGhhbiBvdGhlciBwYXJ0cyBvZiB5b3VyIGNvZGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBZb3UgdXNlIHRoaXMgYmVoYXZpb3IgYnkgYWRkaW5nIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0byBhbiBlbGVtZW50IHRoYXRcbiAqIGhhcyBgbmctbW9kZWxgIGF0dGFjaGVkIHRvIGl0LiBZb3UgY2FuIGFsc28gYWRkIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0b1xuICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zYH0gZm9yIG1vcmUuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICAgTmFtZTpcbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld05hbWUpKSB7XG4gICAgICAgICAgICAgICAgIF9uYW1lID0gbmV3TmFtZTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIHJldHVybiBfbmFtZTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxEaXJlY3RpdmUgPSBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsQ29udHJvbGxlcixcbiAgICAvLyBQcmVsaW5rIG5lZWRzIHRvIHJ1biBiZWZvcmUgYW55IGlucHV0IGRpcmVjdGl2ZVxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHNldCB0aGUgTmdNb2RlbE9wdGlvbnMgaW4gTmdNb2RlbENvbnRyb2xsZXJcbiAgICAvLyBiZWZvcmUgYW55b25lIGVsc2UgdXNlcyBpdC5cbiAgICBwcmlvcml0eTogMSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ01vZGVsQ29tcGlsZShlbGVtZW50KSB7XG4gICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICBlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhVTlRPVUNIRURfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ01vZGVsUHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF0sXG4gICAgICAgICAgICAgIGZvcm1DdHJsID0gY3RybHNbMV0gfHwgbnVsbEZvcm1DdHJsO1xuXG4gICAgICAgICAgbW9kZWxDdHJsLiQkc2V0T3B0aW9ucyhjdHJsc1syXSAmJiBjdHJsc1syXS4kb3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBub3RpZnkgb3RoZXJzLCBlc3BlY2lhbGx5IHBhcmVudCBmb3Jtc1xuICAgICAgICAgIGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCk7XG5cbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG5hbWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIGZvcm1DdHJsLiQkcmVuYW1lQ29udHJvbChtb2RlbEN0cmwsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvcm1DdHJsLiRyZW1vdmVDb250cm9sKG1vZGVsQ3RybCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uIG5nTW9kZWxQb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucyAmJiBtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24pIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24obW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICBtb2RlbEN0cmwuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChldiAmJiBldi50eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShtb2RlbEN0cmwuJHNldFRvdWNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgREVGQVVMVF9SRUdFWFAgPSAvKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdHVuaW5nIGhvdyBtb2RlbCB1cGRhdGVzIGFyZSBkb25lLiBVc2luZyBgbmdNb2RlbE9wdGlvbnNgIHlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mXG4gKiBldmVudHMgdGhhdCB3aWxsIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGUgYW5kL29yIGEgZGVib3VuY2luZyBkZWxheSBzbyB0aGF0IHRoZSBhY3R1YWwgdXBkYXRlIG9ubHlcbiAqIHRha2VzIHBsYWNlIHdoZW4gYSB0aW1lciBleHBpcmVzOyB0aGlzIHRpbWVyIHdpbGwgYmUgcmVzZXQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gKlxuICogR2l2ZW4gdGhlIG5hdHVyZSBvZiBgbmdNb2RlbE9wdGlvbnNgLCB0aGUgdmFsdWUgZGlzcGxheWVkIGluc2lkZSBpbnB1dCBmaWVsZHMgaW4gdGhlIHZpZXcgbWlnaHRcbiAqIGJlIGRpZmZlcmVudCB0aGFuIHRoZSB2YWx1ZSBpbiB0aGUgYWN0dWFsIG1vZGVsLiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IHVwZGF0ZSB0aGUgbW9kZWwgeW91XG4gKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9IG9uIHRoZSByZWxldmFudCBpbnB1dCBmaWVsZCBpblxuICogb3JkZXIgdG8gbWFrZSBzdXJlIGl0IGlzIHN5bmNocm9uaXplZCB3aXRoIHRoZSBtb2RlbCBhbmQgdGhhdCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sJ3Mge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgYCRyb2xsYmFja1ZpZXdWYWx1ZWB9XG4gKiBtZXRob2QgaXMgYnkgbWFraW5nIHN1cmUgdGhlIGlucHV0IGlzIHBsYWNlZCBpbnNpZGUgYSBmb3JtIHRoYXQgaGFzIGEgYG5hbWVgIGF0dHJpYnV0ZS4gVGhpcyBpc1xuICogaW1wb3J0YW50IGJlY2F1c2UgYGZvcm1gIGNvbnRyb2xsZXJzIGFyZSBwdWJsaXNoZWQgdG8gdGhlIHJlbGF0ZWQgc2NvcGUgdW5kZXIgdGhlIG5hbWUgaW4gdGhlaXJcbiAqIGBuYW1lYCBhdHRyaWJ1dGUuXG4gKlxuICogQW55IHBlbmRpbmcgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpcyBzdWJtaXR0ZWQgdmlhIHRoZVxuICogYHN1Ym1pdGAgZXZlbnQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogYG5nTW9kZWxPcHRpb25zYCBoYXMgYW4gZWZmZWN0IG9uIHRoZSBlbGVtZW50IGl0J3MgZGVjbGFyZWQgb24gYW5kIGl0cyBkZXNjZW5kYW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgY3VycmVudCBtb2RlbC4gVmFsaWQga2V5cyBhcmU6XG4gKiAgIC0gYHVwZGF0ZU9uYDogc3RyaW5nIHNwZWNpZnlpbmcgd2hpY2ggZXZlbnQgc2hvdWxkIHRoZSBpbnB1dCBiZSBib3VuZCB0by4gWW91IGNhbiBzZXQgc2V2ZXJhbFxuICogICAgIGV2ZW50cyB1c2luZyBhbiBzcGFjZSBkZWxpbWl0ZWQgbGlzdC4gVGhlcmUgaXMgYSBzcGVjaWFsIGV2ZW50IGNhbGxlZCBgZGVmYXVsdGAgdGhhdFxuICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyBvZiB0aGUgY29udHJvbC5cbiAqICAgLSBgZGVib3VuY2VgOiBpbnRlZ2VyIHZhbHVlIHdoaWNoIGNvbnRhaW5zIHRoZSBkZWJvdW5jZSBtb2RlbCB1cGRhdGUgdmFsdWUgaW4gbWlsbGlzZWNvbmRzLiBBXG4gKiAgICAgdmFsdWUgb2YgMCB0cmlnZ2VycyBhbiBpbW1lZGlhdGUgdXBkYXRlLiBJZiBhbiBvYmplY3QgaXMgc3VwcGxpZWQgaW5zdGVhZCwgeW91IGNhbiBzcGVjaWZ5IGFcbiAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxuICogICAgIGBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsIGRlYm91bmNlOiB7J2RlZmF1bHQnOiA1MDAsICdibHVyJzogMH0gfVwiYFxuICogICAtIGBhbGxvd0ludmFsaWRgOiBib29sZWFuIHZhbHVlIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBjYW4gYmUgc2V0IHdpdGggdmFsdWVzIHRoYXQgZGlkXG4gKiAgICAgbm90IHZhbGlkYXRlIGNvcnJlY3RseSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNldHRpbmcgdGhlIG1vZGVsIHRvIHVuZGVmaW5lZC5cbiAqICAgLSBgZ2V0dGVyU2V0dGVyYDogYm9vbGVhbiB2YWx1ZSB3aGljaCBkZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIHRyZWF0IGZ1bmN0aW9ucyBib3VuZCB0b1xuICAgICAgIGBuZ01vZGVsYCBhcyBnZXR0ZXJzL3NldHRlcnMuXG4gKiAgIC0gYHRpbWV6b25lYDogRGVmaW5lcyB0aGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGZvclxuICogICAgIGA8aW5wdXQgdHlwZT1cImRhdGVcIj5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCI+YCwgLi4uIC4gUmlnaHQgbm93LCB0aGUgb25seSBzdXBwb3J0ZWQgdmFsdWUgaXMgYCdVVEMnYCxcbiAqICAgICBvdGhlcndpc2UgdGhlIGRlZmF1bHQgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxuICpcbiAqIEBleGFtcGxlXG5cbiAgVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBvdmVycmlkZSBpbW1lZGlhdGUgdXBkYXRlcy4gQ2hhbmdlcyBvbiB0aGUgaW5wdXRzIHdpdGhpbiB0aGVcbiAgZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXG4gIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXG5cbiAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1ibHVyXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgTmFtZTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXG4gICAgICAgICAgICAgICAgIG5nLWtleXVwPVwiY2FuY2VsKCRldmVudClcIiAvPjxiciAvPlxuXG4gICAgICAgICAgT3RoZXIgZGF0YTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIuZGF0YVwiIC8+PGJyIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnc2F5JywgZGF0YTogJycgfTtcblxuICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlci5uYW1lJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGFsbG93IGN1c3RvbSBldmVudHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCAkcm9sbGJhY2tWaWV3VmFsdWUgd2hlbiBtb2RlbCBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVTQ0FQRSk7XG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheScpO1xuICAgICAgICBvdGhlci5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBkZWJvdW5jZSBtb2RlbCBjaGFuZ2VzLiBNb2RlbCB3aWxsIGJlIHVwZGF0ZWQgb25seSAxIHNlYyBhZnRlciBsYXN0IGNoYW5nZS5cbiAgSWYgdGhlIGBDbGVhcmAgYnV0dG9uIGlzIHByZXNzZWQsIGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkIGFuZCB0aGUgdmFsdWUgYmVjb21lcyBlbXB0eS5cblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgTmFtZTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGRlYm91bmNlOiAxMDAwIH1cIiAvPlxuICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj48YnIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cblxuICBUaGlzIG9uZSBzaG93cyBob3cgdG8gYmluZCB0byBnZXR0ZXIvc2V0dGVyczpcblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIE5hbWU6XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICAgICAgICAgICRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQobmV3TmFtZSkgPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycykge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhpcy4kb3B0aW9ucyA9ICRzY29wZS4kZXZhbCgkYXR0cnMubmdNb2RlbE9wdGlvbnMpO1xuICAgICAgLy8gQWxsb3cgYWRkaW5nL292ZXJyaWRpbmcgYm91bmQgZXZlbnRzXG4gICAgICBpZiAodGhpcy4kb3B0aW9ucy51cGRhdGVPbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgIC8vIGV4dHJhY3QgXCJkZWZhdWx0XCIgcHNldWRvLWV2ZW50IGZyb20gbGlzdCBvZiBldmVudHMgdGhhdCBjYW4gdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZVxuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uID0gdHJpbSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoREVGQVVMVF9SRUdFWFAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoYXQuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IHRydWU7XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn07XG5cblxuXG4vLyBoZWxwZXIgbWV0aG9kc1xuZnVuY3Rpb24gYWRkU2V0VmFsaWRpdHlNZXRob2QoY29udGV4dCkge1xuICB2YXIgY3RybCA9IGNvbnRleHQuY3RybCxcbiAgICAgICRlbGVtZW50ID0gY29udGV4dC4kZWxlbWVudCxcbiAgICAgIGNsYXNzQ2FjaGUgPSB7fSxcbiAgICAgIHNldCA9IGNvbnRleHQuc2V0LFxuICAgICAgdW5zZXQgPSBjb250ZXh0LnVuc2V0LFxuICAgICAgcGFyZW50Rm9ybSA9IGNvbnRleHQucGFyZW50Rm9ybSxcbiAgICAgICRhbmltYXRlID0gY29udGV4dC4kYW5pbWF0ZTtcblxuICBjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdID0gIShjbGFzc0NhY2hlW1ZBTElEX0NMQVNTXSA9ICRlbGVtZW50Lmhhc0NsYXNzKFZBTElEX0NMQVNTKSk7XG5cbiAgY3RybC4kc2V0VmFsaWRpdHkgPSBzZXRWYWxpZGl0eTtcblxuICBmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNyZWF0ZUFuZFNldCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bnNldEFuZENsZWFudXAoJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgaWYgKCFpc0Jvb2xlYW4oc3RhdGUpKSB7XG4gICAgICB1bnNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIHVuc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICAgIHNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHJsLiRwZW5kaW5nKSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCB0cnVlKTtcbiAgICAgIGN0cmwuJHZhbGlkID0gY3RybC4kaW52YWxpZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCBmYWxzZSk7XG4gICAgICBjdHJsLiR2YWxpZCA9IGlzT2JqZWN0RW1wdHkoY3RybC4kZXJyb3IpO1xuICAgICAgY3RybC4kaW52YWxpZCA9ICFjdHJsLiR2YWxpZDtcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3MoJycsIGN0cmwuJHZhbGlkKTtcbiAgICB9XG5cbiAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxuICAgIC8vIGNvbWJpbmVkIHN0YXRlIGluIGN0cmwuJGVycm9yW3ZhbGlkYXRpb25FcnJvcl0gKHVzZWQgZm9yIGZvcm1zKSxcbiAgICAvLyB3aGVyZSBzZXR0aW5nL3Vuc2V0dGluZyBvbmx5IGluY3JlbWVudHMvZGVjcmVtZW50cyB0aGUgdmFsdWUsXG4gICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXG4gICAgdmFyIGNvbWJpbmVkU3RhdGU7XG4gICAgaWYgKGN0cmwuJHBlbmRpbmcgJiYgY3RybC4kcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlKTtcbiAgICBwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIGN0cmwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW5kU2V0KG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XG4gICAgICBjdHJsW25hbWVdID0ge307XG4gICAgfVxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAobmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoY3RybFtuYW1lXSkge1xuICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3RFbXB0eShjdHJsW25hbWVdKSkge1xuICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XG4gICAgaWYgKHN3aXRjaFZhbHVlICYmICFjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFzd2l0Y2hWYWx1ZSAmJiBjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQpIHtcbiAgICB2YWxpZGF0aW9uRXJyb3JLZXkgPSB2YWxpZGF0aW9uRXJyb3JLZXkgPyAnLScgKyBzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwgJy0nKSA6ICcnO1xuXG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IHRydWUpO1xuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKElOVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICBpZiAob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdOb25CaW5kYWJsZVxuICogQHJlc3RyaWN0IEFDXG4gKiBAcHJpb3JpdHkgMTAwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxuICogRE9NIGVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBlbGVtZW50IGNvbnRhaW5zIHdoYXQgYXBwZWFycyB0byBiZSBBbmd1bGFyIGRpcmVjdGl2ZXMgYW5kXG4gKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdFxuICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBleGFtcGxlXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XG4gICAgICAgIDxkaXYgbmctbm9uLWJpbmRhYmxlPklnbm9yZWQ6IHt7MSArIDJ9fTwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctbm9uLWJpbmRhYmxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQbHVyYWxpemVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYG5nUGx1cmFsaXplYCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGRpc3BsYXlzIG1lc3NhZ2VzIGFjY29yZGluZyB0byBlbi1VUyBsb2NhbGl6YXRpb24gcnVsZXMuXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxuICogKHNlZSB7QGxpbmsgZ3VpZGUvaTE4biBBbmd1bGFyIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXG4gKiBieSBzcGVjaWZ5aW5nIHRoZSBtYXBwaW5ncyBiZXR3ZWVuXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXG4gKiBUaGVyZSBhcmUgdHdvXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsIFwib3RoZXJcIiBjYW4gbWF0Y2hcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXG4gKiBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIHRocm91Z2hvdXQgdGhlIHJlc3Qgb2YgdGhpcyBkb2N1bWVudGF0aW9uLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemVcbiAqIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgYnkgcHJvdmlkaW5nIDIgYXR0cmlidXRlczogYGNvdW50YCBhbmQgYHdoZW5gLlxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdGhlIGBjb3VudGAgYXR0cmlidXRlIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb25cbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cbiAqXG4gKiBUaGUgYHdoZW5gIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIG1hcHBpbmdzIGJldHdlZW4gcGx1cmFsIGNhdGVnb3JpZXMgYW5kIHRoZSBhY3R1YWxcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY29uZmlndXJlIG5nUGx1cmFsaXplOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t9IHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKmBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxuICogd291bGQgYmUgc2hvd24gaW5zdGVhZCBvZiBcIk5vYm9keSBpcyB2aWV3aW5nXCIuIFlvdSBjYW4gc3BlY2lmeSBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3JcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhciB3aWxsIHJlcGxhY2UgYHt9YCB3aXRoXG4gKiA8c3BhbiBuZy1ub24tYmluZGFibGU+YHt7cGVyc29uQ291bnR9fWA8L3NwYW4+LiBUaGUgY2xvc2VkIGJyYWNlcyBge31gIGlzIGEgcGxhY2Vob2xkZXJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICBQZXJzb24gMTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjFcIiB2YWx1ZT1cIklnb3JcIiAvPjxici8+XG4gICAgICAgICAgUGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PGJyLz5cbiAgICAgICAgICBOdW1iZXIgb2YgUGVvcGxlOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uQ291bnRcIiB2YWx1ZT1cIjFcIiAvPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRsb2NhbGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgQlJBQ0UgPSAve30vZyxcbiAgICAgIElTX1dIRU4gPSAvXndoZW4oTWludXMpPyguKykkLztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgbnVtYmVyRXhwID0gYXR0ci5jb3VudCxcbiAgICAgICAgICB3aGVuRXhwID0gYXR0ci4kYXR0ci53aGVuICYmIGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLCAvLyB3ZSBoYXZlIHt7fX0gaW4gYXR0cnNcbiAgICAgICAgICBvZmZzZXQgPSBhdHRyLm9mZnNldCB8fCAwLFxuICAgICAgICAgIHdoZW5zID0gc2NvcGUuJGV2YWwod2hlbkV4cCkgfHwge30sXG4gICAgICAgICAgd2hlbnNFeHBGbnMgPSB7fSxcbiAgICAgICAgICBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxuICAgICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgICBicmFjZVJlcGxhY2VtZW50ID0gc3RhcnRTeW1ib2wgKyBudW1iZXJFeHAgKyAnLScgKyBvZmZzZXQgKyBlbmRTeW1ib2wsXG4gICAgICAgICAgd2F0Y2hSZW1vdmVyID0gYW5ndWxhci5ub29wLFxuICAgICAgICAgIGxhc3RDb3VudDtcblxuICAgICAgZm9yRWFjaChhdHRyLCBmdW5jdGlvbihleHByZXNzaW9uLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHZhciB0bXBNYXRjaCA9IElTX1dIRU4uZXhlYyhhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKHRtcE1hdGNoKSB7XG4gICAgICAgICAgdmFyIHdoZW5LZXkgPSAodG1wTWF0Y2hbMV0gPyAnLScgOiAnJykgKyBsb3dlcmNhc2UodG1wTWF0Y2hbMl0pO1xuICAgICAgICAgIHdoZW5zW3doZW5LZXldID0gZWxlbWVudC5hdHRyKGF0dHIuJGF0dHJbYXR0cmlidXRlTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvckVhY2god2hlbnMsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGtleSkge1xuICAgICAgICB3aGVuc0V4cEZuc1trZXldID0gJGludGVycG9sYXRlKGV4cHJlc3Npb24ucmVwbGFjZShCUkFDRSwgYnJhY2VSZXBsYWNlbWVudCkpO1xuXG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKG51bWJlckV4cCwgZnVuY3Rpb24gbmdQbHVyYWxpemVXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VGbG9hdChuZXdWYWwpO1xuICAgICAgICB2YXIgY291bnRJc05hTiA9IGlzTmFOKGNvdW50KTtcblxuICAgICAgICBpZiAoIWNvdW50SXNOYU4gJiYgIShjb3VudCBpbiB3aGVucykpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBzdWNoIGFzIDEsIDIsIDMuLi4gaXMgZGVmaW5lZCwganVzdCB1c2UgaXQuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlLlxuICAgICAgICAgIGNvdW50ID0gJGxvY2FsZS5wbHVyYWxDYXQoY291bnQgLSBvZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYm90aCBgY291bnRgIGFuZCBgbGFzdENvdW50YCBhcmUgTmFOLCB3ZSBkb24ndCBuZWVkIHRvIHJlLXJlZ2lzdGVyIGEgd2F0Y2guXG4gICAgICAgIC8vIEluIEpTIGBOYU4gIT09IE5hTmAsIHNvIHdlIGhhdmUgdG8gZXhsaWNpdGx5IGNoZWNrLlxuICAgICAgICBpZiAoKGNvdW50ICE9PSBsYXN0Q291bnQpICYmICEoY291bnRJc05hTiAmJiBpc05hTihsYXN0Q291bnQpKSkge1xuICAgICAgICAgIHdhdGNoUmVtb3ZlcigpO1xuICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IHNjb3BlLiR3YXRjaCh3aGVuc0V4cEZuc1tjb3VudF0sIHVwZGF0ZUVsZW1lbnRUZXh0KTtcbiAgICAgICAgICBsYXN0Q291bnQgPSBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRUZXh0KG5ld1RleHQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1RleHQgfHwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVwZWF0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxuICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXG4gKlxuICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XG4gKlxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxuICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxuICpcbiAqIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXG4gKiBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cbiAqXG4gKiAjIEl0ZXJhdGluZyBvdmVyIG9iamVjdCBwcm9wZXJ0aWVzXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gZ2V0IGBuZ1JlcGVhdGAgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCB1c2luZyB0aGUgZm9sbG93aW5nXG4gKiBzeW50YXg6XG4gKlxuICogYGBganNcbiAqIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIG15T2JqXCI+IC4uLiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFlvdSBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIEphdmFTY3JpcHQgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCBkZWZpbmUgd2hhdCBvcmRlclxuICogaXQgd2lsbCByZXR1cm4gdGhlIGtleXMgZm9yIGFuIG9iamVjdC4gSW4gb3JkZXIgdG8gaGF2ZSBhIGd1YXJhbnRlZWQgZGV0ZXJtaW5pc3RpYyBvcmRlclxuICogZm9yIHRoZSBrZXlzLCBBbmd1bGFyIHZlcnNpb25zIHVwIHRvIGFuZCBpbmNsdWRpbmcgMS4zICoqc29ydCB0aGUga2V5cyBhbHBoYWJldGljYWxseSoqLlxuICpcbiAqIElmIHRoaXMgaXMgbm90IGRlc2lyZWQsIHRoZSByZWNvbW1lbmRlZCB3b3JrYXJvdW5kIGlzIHRvIGNvbnZlcnQgeW91ciBvYmplY3QgaW50byBhbiBhcnJheVxuICogdGhhdCBpcyBzb3J0ZWQgaW50byB0aGUgb3JkZXIgdGhhdCB5b3UgcHJlZmVyIGJlZm9yZSBwcm92aWRpbmcgaXQgdG8gYG5nUmVwZWF0YC4gIFlvdSBjb3VsZFxuICogZG8gdGhpcyB3aXRoIGEgZmlsdGVyIHN1Y2ggYXMgW3RvQXJyYXlGaWx0ZXJdKGh0dHA6Ly9uZ21vZHVsZXMub3JnL21vZHVsZXMvYW5ndWxhci10b0FycmF5RmlsdGVyKVxuICogb3IgaW1wbGVtZW50IGEgYCR3YXRjaGAgb24gdGhlIG9iamVjdCB5b3Vyc2VsZi5cbiAqXG4gKiBJbiB2ZXJzaW9uIDEuNCB3ZSB3aWxsIHJlbW92ZSB0aGUgc29ydGluZywgc2luY2UgaXQgc2VlbXMgdGhhdCBicm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZVxuICogc3RyYXRlZ3kgb2YgcHJvdmlkaW5nIGtleXMgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBkZWZpbmVkLCBhbHRob3VnaCB0aGVyZSBhcmUgZXhjZXB0aW9uc1xuICogd2hlbiBrZXlzIGFyZSBkZWxldGVkIGFuZCByZWluc3RhdGVkLlxuICpcbiAqXG4gKiAjIFNwZWNpYWwgcmVwZWF0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzXG4gKiBUbyByZXBlYXQgYSBzZXJpZXMgb2YgZWxlbWVudHMgaW5zdGVhZCBvZiBqdXN0IG9uZSBwYXJlbnQgZWxlbWVudCwgbmdSZXBlYXQgKGFzIHdlbGwgYXMgb3RoZXIgbmcgZGlyZWN0aXZlcykgc3VwcG9ydHMgZXh0ZW5kaW5nXG4gKiB0aGUgcmFuZ2Ugb2YgdGhlIHJlcGVhdGVyIGJ5IGRlZmluaW5nIGV4cGxpY2l0IHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGJ5IHVzaW5nICoqbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmctcmVwZWF0LWVuZCoqIHJlc3BlY3RpdmVseS5cbiAqIFRoZSAqKm5nLXJlcGVhdC1zdGFydCoqIGRpcmVjdGl2ZSB3b3JrcyB0aGUgc2FtZSBhcyAqKm5nLXJlcGVhdCoqLCBidXQgd2lsbCByZXBlYXQgYWxsIHRoZSBIVE1MIGNvZGUgKGluY2x1ZGluZyB0aGUgdGFnIGl0J3MgZGVmaW5lZCBvbilcbiAqIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIGVuZGluZyBIVE1MIHRhZyB3aGVyZSAqKm5nLXJlcGVhdC1lbmQqKiBpcyBwbGFjZWQuXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgbWFrZXMgdXNlIG9mIHRoaXMgZmVhdHVyZTpcbiAqIGBgYGh0bWxcbiAqICAgPGhlYWRlciBuZy1yZXBlYXQtc3RhcnQ9XCJpdGVtIGluIGl0ZW1zXCI+XG4gKiAgICAgSGVhZGVyIHt7IGl0ZW0gfX1cbiAqICAgPC9oZWFkZXI+XG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gKiAgICAgQm9keSB7eyBpdGVtIH19XG4gKiAgIDwvZGl2PlxuICogICA8Zm9vdGVyIG5nLXJlcGVhdC1lbmQ+XG4gKiAgICAgRm9vdGVyIHt7IGl0ZW0gfX1cbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBBbmQgd2l0aCBhbiBpbnB1dCBvZiB7QHR5cGUgWydBJywnQiddfSBmb3IgdGhlIGl0ZW1zIHZhcmlhYmxlIGluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgb3V0cHV0IHdpbGwgZXZhbHVhdGUgdG86XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXI+XG4gKiAgICAgSGVhZGVyIEFcbiAqICAgPC9oZWFkZXI+XG4gKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XG4gKiAgICAgQm9keSBBXG4gKiAgIDwvZGl2PlxuICogICA8Zm9vdGVyPlxuICogICAgIEZvb3RlciBBXG4gKiAgIDwvZm9vdGVyPlxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBCXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQlxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQlxuICogICA8L2Zvb3Rlcj5cbiAqIGBgYFxuICpcbiAqIFRoZSBjdXN0b20gc3RhcnQgYW5kIGVuZCBwb2ludHMgZm9yIG5nUmVwZWF0IGFsc28gc3VwcG9ydCBhbGwgb3RoZXIgSFRNTCBkaXJlY3RpdmUgc3ludGF4IGZsYXZvcnMgcHJvdmlkZWQgaW4gQW5ndWxhckpTIChzdWNoXG4gKiBhcyAqKmRhdGEtbmctcmVwZWF0LXN0YXJ0KiosICoqeC1uZy1yZXBlYXQtc3RhcnQqKiBhbmQgKipuZzpyZXBlYXQtc3RhcnQqKikuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqICoqLmVudGVyKiogLSB3aGVuIGEgbmV3IGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIHJldmVhbGVkIGFmdGVyIGEgZmlsdGVyXG4gKlxuICogKioubGVhdmUqKiAtIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIGZpbHRlcmVkIG91dFxuICpcbiAqICoqLm1vdmUqKiAtIHdoZW4gYW4gYWRqYWNlbnQgaXRlbSBpcyBmaWx0ZXJlZCBvdXQgY2F1c2luZyBhIHJlb3JkZXIgb3Igd2hlbiB0aGUgaXRlbSBjb250ZW50cyBhcmUgcmVvcmRlcmVkXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMDAwXG4gKiBAcGFyYW0ge3JlcGVhdF9leHByZXNzaW9ufSBuZ1JlcGVhdCBUaGUgZXhwcmVzc2lvbiBpbmRpY2F0aW5nIGhvdyB0byBlbnVtZXJhdGUgYSBjb2xsZWN0aW9uLiBUaGVzZVxuICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIHZhcmlhYmxlIGlzIHRoZSB1c2VyIGRlZmluZWQgbG9vcCB2YXJpYWJsZSBhbmQgYGV4cHJlc3Npb25gXG4gKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgYWxidW0gaW4gYXJ0aXN0LmFsYnVtc2AuXG4gKlxuICogICAqIGAoa2V5LCB2YWx1ZSkgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIGBrZXlgIGFuZCBgdmFsdWVgIGNhbiBiZSBhbnkgdXNlciBkZWZpbmVkIGlkZW50aWZpZXJzLFxuICogICAgIGFuZCBgZXhwcmVzc2lvbmAgaXMgdGhlIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGAobmFtZSwgYWdlKSBpbiB7J2FkYW0nOjEwLCAnYW1hbGllJzoxMn1gLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZnVuY3Rpb25cbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBmdW5jdGlvblxuICogICAgIGlzIHNwZWNpZmllZCB0aGUgbmctcmVwZWF0IGFzc29jaWF0ZXMgZWxlbWVudHMgYnkgaWRlbnRpdHkgaW4gdGhlIGNvbGxlY3Rpb24uIEl0IGlzIGFuIGVycm9yIHRvIGhhdmVcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGZ1bmN0aW9uIHRvIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlXG4gKiAgICAgbWFwcGVkIHRvIHRoZSBzYW1lIERPTSBlbGVtZW50LCB3aGljaCBpcyBub3QgcG9zc2libGUuKSAgRmlsdGVycyBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgZXhwcmVzc2lvbixcbiAqICAgICBiZWZvcmUgc3BlY2lmeWluZyBhIHRyYWNraW5nIGV4cHJlc3Npb24uXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2lsbCBiZSBhc3NvY2lhdGVkIGJ5IGl0ZW0gaWRlbnRpdHkgaW4gdGhlIGFycmF5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxuICogICAgIGAkJGhhc2hLZXlgIHByb3BlcnR5IHRvIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuIFRoaXMgcHJvcGVydHkgaXMgdGhlbiB1c2VkIGFzIGEga2V5IHRvIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnRzXG4gKiAgICAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGluIHRoZSBhcnJheSBieSBpZGVudGl0eS4gTW92aW5nIHRoZSBzYW1lIG9iamVjdCBpbiBhcnJheSB3b3VsZCBtb3ZlIHRoZSBET01cbiAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSB0eXBpY2FsIHBhdHRlcm4gd2hlbiB0aGUgaXRlbXMgY29tZSBmcm9tIHRoZSBkYXRhYmFzZS4gSW4gdGhpc1xuICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXG4gKiAgICAgcHJvcGVydHkgaXMgc2FtZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxuICogICAgIHRvIGl0ZW1zIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0cmFja2luZyBleHByZXNzaW9uLlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXG4gKiAgICAgaW50ZXJtZWRpYXRlIHJlc3VsdHMgb2YgdGhlIHJlcGVhdGVyIGFmdGVyIHRoZSBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLiBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIHJlbmRlciBhIHNwZWNpYWwgbWVzc2FnZVxuICogICAgIHdoZW4gYSBmaWx0ZXIgaXMgYWN0aXZlIG9uIHRoZSByZXBlYXRlciwgYnV0IHRoZSBmaWx0ZXJlZCByZXN1bHQgc2V0IGlzIGVtcHR5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6eCBhcyByZXN1bHRzYCB3aWxsIHN0b3JlIHRoZSBmcmFnbWVudCBvZiB0aGUgcmVwZWF0ZWQgaXRlbXMgYXMgYHJlc3VsdHNgLCBidXQgb25seSBhZnRlclxuICogICAgIHRoZSBpdGVtcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHRocm91Z2ggdGhlIGZpbHRlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIGluaXRpYWxpemVzIHRoZSBzY29wZSB0byBhIGxpc3Qgb2YgbmFtZXMgYW5kXG4gKiB0aGVuIHVzZXMgYG5nUmVwZWF0YCB0byBkaXNwbGF5IGV2ZXJ5IHBlcnNvbjpcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctaW5pdD1cImZyaWVuZHMgPSBbXG4gICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonSmVzc2llJywgYWdlOjMwLCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J01hcnknLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidFcmlrYScsIGFnZToyNywgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XG4gICAgICBdXCI+XG4gICAgICAgIEkgaGF2ZSB7e2ZyaWVuZHMubGVuZ3RofX0gZnJpZW5kcy4gVGhleSBhcmU6XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCIgbmctbW9kZWw9XCJxXCIgcGxhY2Vob2xkZXI9XCJmaWx0ZXIgZnJpZW5kcy4uLlwiIC8+XG4gICAgICAgIDx1bCBjbGFzcz1cImV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnEgYXMgcmVzdWx0c1wiPlxuICAgICAgICAgICAgW3t7JGluZGV4ICsgMX19XSB7e2ZyaWVuZC5uYW1lfX0gd2hvIGlzIHt7ZnJpZW5kLmFnZX19IHllYXJzIG9sZC5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctaWY9XCJyZXN1bHRzLmxlbmd0aCA9PSAwXCI+XG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XG4gICAgICAgIG1hcmdpbjowO1xuICAgICAgICBwYWRkaW5nOjAgMTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0IHtcbiAgICAgICAgbGluZS1oZWlnaHQ6NDBweDtcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlciB7XG4gICAgICAgIG9wYWNpdHk6MDtcbiAgICAgICAgbWF4LWhlaWdodDowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZS5uZy1tb3ZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjE7XG4gICAgICAgIG1heC1oZWlnaHQ6NDBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIGZyaWVuZHMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kIGluIGZyaWVuZHMnKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmVuZGVyIGluaXRpYWwgZGF0YSBzZXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBKb2huIHdobyBpcyAyNSB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgxKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBKZXNzaWUgd2hvIGlzIDMwIHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzEwXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdmcmllbmRzLmxlbmd0aCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAudG9NYXRjaChcIkkgaGF2ZSAxMCBmcmllbmRzLiBUaGV5IGFyZTpcIik7XG4gICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIHJlcGVhdGVyIHdoZW4gZmlsdGVyIHByZWRpY2F0ZSBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcblxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgncScpKS5zZW5kS2V5cygnbWEnKTtcblxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgyKTtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBNYXJ5IHdobyBpcyAyOCB5ZWFycyBvbGQuJyk7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1JlcGVhdERpcmVjdGl2ZSA9IFsnJHBhcnNlJywgJyRhbmltYXRlJywgZnVuY3Rpb24oJHBhcnNlLCAkYW5pbWF0ZSkge1xuICB2YXIgTkdfUkVNT1ZFRCA9ICckJE5HX1JFTU9WRUQnO1xuICB2YXIgbmdSZXBlYXRNaW5FcnIgPSBtaW5FcnIoJ25nUmVwZWF0Jyk7XG5cbiAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGFycmF5TGVuZ3RoKSB7XG4gICAgLy8gVE9ETyhwZXJmKTogZ2VuZXJhdGUgc2V0dGVycyB0byBzaGF2ZSBvZmYgfjQwbXMgb3IgMS0xLjUlXG4gICAgc2NvcGVbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgIGlmIChrZXlJZGVudGlmaWVyKSBzY29wZVtrZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICBzY29wZS4kaW5kZXggPSBpbmRleDtcbiAgICBzY29wZS4kZmlyc3QgPSAoaW5kZXggPT09IDApO1xuICAgIHNjb3BlLiRsYXN0ID0gKGluZGV4ID09PSAoYXJyYXlMZW5ndGggLSAxKSk7XG4gICAgc2NvcGUuJG1pZGRsZSA9ICEoc2NvcGUuJGZpcnN0IHx8IHNjb3BlLiRsYXN0KTtcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcbiAgICBzY29wZS4kb2RkID0gIShzY29wZS4kZXZlbiA9IChpbmRleCYxKSA9PT0gMCk7XG4gICAgLy8ganNoaW50IGJpdHdpc2U6IHRydWVcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tTdGFydCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xuICB9O1xuXG4gIHZhciBnZXRCbG9ja0VuZCA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsb25lW2Jsb2NrLmNsb25lLmxlbmd0aCAtIDFdO1xuICB9O1xuXG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDEwMDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgJCR0bGI6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcbiAgICAgIHZhciBuZ1JlcGVhdEVuZENvbW1lbnQgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgZW5kIG5nUmVwZWF0OiAnICsgZXhwcmVzc2lvbiArICcgJyk7XG5cbiAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lleHAnLCBcIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX10nIGJ1dCBnb3QgJ3swfScuXCIsXG4gICAgICAgICAgICBleHByZXNzaW9uKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxocyA9IG1hdGNoWzFdO1xuICAgICAgdmFyIHJocyA9IG1hdGNoWzJdO1xuICAgICAgdmFyIGFsaWFzQXMgPSBtYXRjaFszXTtcbiAgICAgIHZhciB0cmFja0J5RXhwID0gbWF0Y2hbNF07XG5cbiAgICAgIG1hdGNoID0gbGhzLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lpZGV4cCcsIFwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLlwiLFxuICAgICAgICAgICAgbGhzKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZUlkZW50aWZpZXIgPSBtYXRjaFszXSB8fCBtYXRjaFsxXTtcbiAgICAgIHZhciBrZXlJZGVudGlmaWVyID0gbWF0Y2hbMl07XG5cbiAgICAgIGlmIChhbGlhc0FzICYmICghL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KGFsaWFzQXMpIHx8XG4gICAgICAgICAgL14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KGFsaWFzQXMpKSkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignYmFkaWRlbnQnLCBcImFsaWFzICd7MH0nIGlzIGludmFsaWQgLS0tIG11c3QgYmUgYSB2YWxpZCBKUyBpZGVudGlmaWVyIHdoaWNoIGlzIG5vdCBhIHJlc2VydmVkIG5hbWUuXCIsXG4gICAgICAgICAgYWxpYXNBcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFja0J5RXhwR2V0dGVyLCB0cmFja0J5SWRFeHBGbiwgdHJhY2tCeUlkQXJyYXlGbiwgdHJhY2tCeUlkT2JqRm47XG4gICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XG5cbiAgICAgIGlmICh0cmFja0J5RXhwKSB7XG4gICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFja0J5SWRBcnJheUZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdSZXBlYXRMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuXG4gICAgICAgIGlmICh0cmFja0J5RXhwR2V0dGVyKSB7XG4gICAgICAgICAgdHJhY2tCeUlkRXhwRm4gPSBmdW5jdGlvbihrZXksIHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl0gPSBrZXk7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLCBoYXNoRm5Mb2NhbHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSBhIGxpc3Qgb2YgZWxlbWVudHMgZnJvbSBwcmV2aW91cyBydW4uIFRoaXMgaXMgYSBoYXNoIHdoZXJlIGtleSBpcyB0aGUgaXRlbSBmcm9tIHRoZVxuICAgICAgICAvLyBpdGVyYXRvciwgYW5kIHRoZSB2YWx1ZSBpcyBvYmplY3RzIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMuXG4gICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGVcbiAgICAgICAgLy8gICAtIGVsZW1lbnQ6IHByZXZpb3VzIGVsZW1lbnQuXG4gICAgICAgIC8vICAgLSBpbmRleDogcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIG5vLXByb3RvIG9iamVjdCBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZ3VhcmQgYWdhaW5zdCBpbmhlcml0ZWQgcHJvcHMgdmlhXG4gICAgICAgIC8vIGhhc093blByb3BlcnR5LlxuICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XG5cbiAgICAgICAgLy93YXRjaCBwcm9wc1xuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsIGZ1bmN0aW9uIG5nUmVwZWF0QWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgaW5kZXgsIGxlbmd0aCxcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gJGVsZW1lbnRbMF0sICAgICAvLyBub2RlIHRoYXQgY2xvbmVkIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemVkIHRvIHRoZSBjb21tZW50IG5vZGUgYW5jaG9yXG4gICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAvLyBTYW1lIGFzIGxhc3RCbG9ja01hcCBidXQgaXQgaGFzIHRoZSBjdXJyZW50IHN0YXRlLiBJdCB3aWxsIGJlY29tZSB0aGVcbiAgICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGgsXG4gICAgICAgICAgICAgIGtleSwgdmFsdWUsIC8vIGtleS92YWx1ZSBvZiBpdGVyYXRpb25cbiAgICAgICAgICAgICAgdHJhY2tCeUlkLFxuICAgICAgICAgICAgICB0cmFja0J5SWRGbixcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXG4gICAgICAgICAgICAgIGJsb2NrLCAgICAgICAvLyBsYXN0IG9iamVjdCBpbmZvcm1hdGlvbiB7c2NvcGUsIGVsZW1lbnQsIGlkfVxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcixcbiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcblxuICAgICAgICAgIGlmIChhbGlhc0FzKSB7XG4gICAgICAgICAgICAkc2NvcGVbYWxpYXNBc10gPSBjb2xsZWN0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBjb2xsZWN0aW9uO1xuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRBcnJheUZuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZE9iakZuO1xuICAgICAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIHNvcnQgdGhlbSBhbmQgdXNlIHRvIGRldGVybWluZSBvcmRlciBvZiBpdGVyYXRpb24gb3ZlciBvYmogcHJvcHNcbiAgICAgICAgICAgIGNvbGxlY3Rpb25LZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sbGVjdGlvbktleXMuc29ydCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGggPSBjb2xsZWN0aW9uS2V5cy5sZW5ndGg7XG4gICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XG5cbiAgICAgICAgICAvLyBsb2NhdGUgZXhpc3RpbmcgaXRlbXNcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIHRyYWNrQnlJZCA9IHRyYWNrQnlJZEZuKGtleSwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIGlmIChsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBmb3VuZCBwcmV2aW91c2x5IHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcbiAgICAgICAgICAgICAgZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcbiAgICAgICAgICAgICAgLy8gaWYgY29sbGlzaW9uIGRldGVjdGVkLiByZXN0b3JlIGxhc3RCbG9ja01hcCBhbmQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgJiYgYmxvY2suc2NvcGUpIGxhc3RCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsXG4gICAgICAgICAgICAgICAgICBcIkR1cGxpY2F0ZXMgaW4gYSByZXBlYXRlciBhcmUgbm90IGFsbG93ZWQuIFVzZSAndHJhY2sgYnknIGV4cHJlc3Npb24gdG8gc3BlY2lmeSB1bmlxdWUga2V5cy4gUmVwZWF0ZXI6IHswfSwgRHVwbGljYXRlIGtleTogezF9LCBEdXBsaWNhdGUgdmFsdWU6IHsyfVwiLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBuZXcgbmV2ZXIgYmVmb3JlIHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0ge2lkOiB0cmFja0J5SWQsIHNjb3BlOiB1bmRlZmluZWQsIGNsb25lOiB1bmRlZmluZWR9O1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVtb3ZlIGxlZnRvdmVyIGl0ZW1zXG4gICAgICAgICAgZm9yICh2YXIgYmxvY2tLZXkgaW4gbGFzdEJsb2NrTWFwKSB7XG4gICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFtibG9ja0tleV07XG4gICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlID0gZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSk7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1RvUmVtb3ZlWzBdLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgd2FzIG5vdCByZW1vdmVkIHlldCBiZWNhdXNlIG9mIHBlbmRpbmcgYW5pbWF0aW9uLCBtYXJrIGl0IGFzIGRlbGV0ZWRcbiAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gaWdub3JlIGl0IGxhdGVyXG4gICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlW2luZGV4XVtOR19SRU1PVkVEXSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2NrLnNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gd2UgYXJlIG5vdCB1c2luZyBmb3JFYWNoIGZvciBwZXJmIHJlYXNvbnMgKHRyeWluZyB0byBhdm9pZCAjY2FsbClcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIGJsb2NrID0gbmV4dEJsb2NrT3JkZXJbaW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoYmxvY2suc2NvcGUpIHtcbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGVcbiAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCBzY29wZS9lbGVtZW50XG5cbiAgICAgICAgICAgICAgbmV4dE5vZGUgPSBwcmV2aW91c05vZGU7XG5cbiAgICAgICAgICAgICAgLy8gc2tpcCBub2RlcyB0aGF0IGFyZSBhbHJlYWR5IHBlbmRpbmcgcmVtb3ZhbCB2aWEgbGVhdmUgYW5pbWF0aW9uXG4gICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICB9IHdoaWxlIChuZXh0Tm9kZSAmJiBuZXh0Tm9kZVtOR19SRU1PVkVEXSk7XG5cbiAgICAgICAgICAgICAgaWYgKGdldEJsb2NrU3RhcnQoYmxvY2spICE9IG5leHROb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWRcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCBudWxsLCBqcUxpdGUocHJldmlvdXNOb2RlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZ2V0QmxvY2tFbmQoYmxvY2spO1xuICAgICAgICAgICAgICB1cGRhdGVTY29wZShibG9jay5zY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgY29sbGVjdGlvbkxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBuZXcgaXRlbSB3aGljaCB3ZSBkb24ndCBrbm93IGFib3V0XG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uIG5nUmVwZWF0VHJhbnNjbHVkZShjbG9uZSwgc2NvcGUpIHtcbiAgICAgICAgICAgICAgICBibG9jay5zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb25lLXZzLWNyZWF0ZWNvbW1lbnRcbiAgICAgICAgICAgICAgICB2YXIgZW5kTm9kZSA9IG5nUmVwZWF0RW5kQ29tbWVudC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGVuZE5vZGU7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKHBlcmYpOiBzdXBwb3J0IG5ha2VkIHByZXZpb3VzTm9kZSBpbiBgZW50ZXJgIHRvIGF2b2lkIGNyZWF0aW9uIG9mIGpxTGl0ZSB3cmFwcGVyP1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBqcUxpdGUocHJldmlvdXNOb2RlKSk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxuICAgICAgICAgICAgICAgIGJsb2NrLmNsb25lID0gY2xvbmU7XG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RCbG9ja01hcCA9IG5leHRCbG9ja01hcDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2hvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1Nob3dgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgZmFsc3kgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXG4gKiBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgY2F1c2luZyBpdCB0byBiZWNvbWUgaGlkZGVuLiBXaGVuIHRydXRoeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXG4gKlxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIENTUy4gTm90ZSB0aGF0IHRoZSBzZWxlY3RvciB0aGF0IG5lZWRzIHRvIGJlIHVzZWQgaXMgYWN0dWFsbHkgYC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKWAgdG8gY29wZVxuICogd2l0aCBleHRyYSBhbmltYXRpb24gY2xhc3NlcyB0aGF0IGNhbiBiZSBhZGRlZC5cbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKSB7XG4gKiAgIC8mIzQyOyB0aGlzIGlzIGp1c3QgYW5vdGhlciBmb3JtIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAqICAgdG9wOiAtOTk5OXB4O1xuICogICBsZWZ0OiAtOTk5OXB4O1xuICogfVxuICogYGBgXG4gKlxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlIGRpc3BsYXkgc3R5bGUuXG4gKlxuICogIyMgQSBub3RlIGFib3V0IGFuaW1hdGlvbnMgd2l0aCBgbmdTaG93YFxuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdTaG93L25nSGlkZSB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBkaXJlY3RpdmUgZXhwcmVzc2lvblxuICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MgZXhjZXB0IHRoYXRcbiAqIHlvdSBtdXN0IGFsc28gaW5jbHVkZSB0aGUgIWltcG9ydGFudCBmbGFnIHRvIG92ZXJyaWRlIHRoZSBkaXNwbGF5IHByb3BlcnR5XG4gKiBzbyB0aGF0IHlvdSBjYW4gcGVyZm9ybSBhbiBhbmltYXRpb24gd2hlbiB0aGUgZWxlbWVudCBpcyBoaWRkZW4gZHVyaW5nIHRoZSB0aW1lIG9mIHRoZSBhbmltYXRpb24uXG4gKlxuICogYGBgY3NzXG4gKiAvL1xuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcbiAqIC8vXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xuICogICAvJiM0MjsgdGhpcyBpcyByZXF1aXJlZCBhcyBvZiAxLjN4IHRvIHByb3Blcmx5XG4gKiAgICAgIGFwcGx5IGFsbCBzdHlsaW5nIGluIGEgc2hvdy9oaWRlIGFuaW1hdGlvbiAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjogMHMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC1hY3RpdmUsXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICogICAvJiM0MjsgdGhlIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBpbiB0aGUgYWN0aXZlIGNsYXNzICYjNDI7L1xuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMy4wLWJldGEuMTEsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGFkZENsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIHRoZSBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGVcbiAqIHJlbW92ZUNsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTaG93IElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHlcbiAqICAgICB0aGVuIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc2hvdyB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRodW1ic1VwID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy11cCcpKTtcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXNob3cgLyBuZy1oaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcblxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTaG93RGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU2hvdywgZnVuY3Rpb24gbmdTaG93V2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gd2UncmUgYWRkaW5nIGEgdGVtcG9yYXJ5LCBhbmltYXRpb24tc3BlY2lmaWMgY2xhc3MgZm9yIG5nLWhpZGUgc2luY2UgdGhpcyB3YXlcbiAgICAgICAgLy8gd2UgY2FuIGNvbnRyb2wgd2hlbiB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgb24gc2NyZWVuIHdpdGhvdXQgaGF2aW5nXG4gICAgICAgIC8vIHRvIGhhdmUgYSBnbG9iYWwvZ3JlZWR5IENTUyBzZWxlY3RvciB0aGF0IGJyZWFrcyB3aGVuIG90aGVyIGFuaW1hdGlvbnMgYXJlIHJ1bi5cbiAgICAgICAgLy8gUmVhZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTEwMyNpc3N1ZWNvbW1lbnQtNTgzMzU4NDVcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hpZGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ0hpZGVgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xuICogdGhlIGBuZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBjbGFzc1xuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXG4gKiBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhciB2aXNpYmxlLlxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXG4gKlxuICogQnkgdXNpbmcgIWltcG9ydGFudCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW4gQ1NTIHNlbGVjdG9yXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIGluIENTUzpcbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICB0b3A6IC05OTk5cHg7XG4gKiAgIGxlZnQ6IC05OTk5cHg7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ0hpZGVgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcywgZXhjZXB0IHRoYXQgdGhlIGAubmctaGlkZWBcbiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLlxuICpcbiAqIGBgYGNzc1xuICogLy9cbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXG4gKiAvL1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgdHJhbnNpdGlvbjogMC41cyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMy4wLWJldGEuMTEsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIHJlbW92ZUNsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGVcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaGlkZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCBmdW5jdGlvbiBuZ0hpZGVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxuICAgICAgICAvLyByZW1vdmUgYSB0ZW1wb3JhcnkgY2xhc3MgZm9yIHRoZSBzaG93L2hpZGUgYW5pbWF0aW9uXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdHlsZVxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcbiAqXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB3aGljaCBldmFscyB0byBhblxuICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXG4gKiBrZXlzLlxuICpcbiAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15U3R5bGU9e31cIj5cbiAgICAgICAgPGJyLz5cbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgICAgIDxwcmU+bXlTdHlsZT17e215U3R5bGV9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBzcGFuIHtcbiAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcblxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1cXCdzZXQgY29sb3JcXCddJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0ci5uZ1N0eWxlLCBmdW5jdGlvbiBuZ1N0eWxlV2F0Y2hBY3Rpb24obmV3U3R5bGVzLCBvbGRTdHlsZXMpIHtcbiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHtcbiAgICAgIGZvckVhY2gob2xkU3R5bGVzLCBmdW5jdGlvbih2YWwsIHN0eWxlKSB7IGVsZW1lbnQuY3NzKHN0eWxlLCAnJyk7fSk7XG4gICAgfVxuICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTd2l0Y2hcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N3aXRjaGAgZGlyZWN0aXZlIGlzIHVzZWQgdG8gY29uZGl0aW9uYWxseSBzd2FwIERPTSBzdHJ1Y3R1cmUgb24geW91ciB0ZW1wbGF0ZSBiYXNlZCBvbiBhIHNjb3BlIGV4cHJlc3Npb24uXG4gKiBFbGVtZW50cyB3aXRoaW4gYG5nU3dpdGNoYCBidXQgd2l0aG91dCBgbmdTd2l0Y2hXaGVuYCBvciBgbmdTd2l0Y2hEZWZhdWx0YCBkaXJlY3RpdmVzIHdpbGwgYmUgcHJlc2VydmVkIGF0IHRoZSBsb2NhdGlvblxuICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGl0c2VsZiB3b3JrcyBzaW1pbGFyIHRvIG5nSW5jbHVkZSwgaG93ZXZlciwgaW5zdGVhZCBvZiBkb3dubG9hZGluZyB0ZW1wbGF0ZSBjb2RlIChvciBsb2FkaW5nIGl0XG4gKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudFxuICogbWF0Y2hlcyB0aGUgdmFsdWUgb2J0YWluZWQgZnJvbSB0aGUgZXZhbHVhdGVkIGV4cHJlc3Npb24uIEluIG90aGVyIHdvcmRzLCB5b3UgZGVmaW5lIGEgY29udGFpbmVyIGVsZW1lbnRcbiAqICh3aGVyZSB5b3UgcGxhY2UgdGhlIGRpcmVjdGl2ZSksIHBsYWNlIGFuIGV4cHJlc3Npb24gb24gdGhlICoqYG9uPVwiLi4uXCJgIGF0dHJpYnV0ZSoqXG4gKiAob3IgdGhlICoqYG5nLXN3aXRjaD1cIi4uLlwiYCBhdHRyaWJ1dGUqKiksIGRlZmluZSBhbnkgaW5uZXIgZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBkaXJlY3RpdmUgYW5kIHBsYWNlXG4gKiBhIHdoZW4gYXR0cmlidXRlIHBlciBlbGVtZW50LiBUaGUgd2hlbiBhdHRyaWJ1dGUgaXMgdXNlZCB0byBpbmZvcm0gbmdTd2l0Y2ggd2hpY2ggZWxlbWVudCB0byBkaXNwbGF5IHdoZW4gdGhlIG9uXG4gKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdFxuICogYXR0cmlidXRlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWRcbiAqIGFzIGxpdGVyYWwgc3RyaW5nIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0LlxuICogRm9yIGV4YW1wbGUsICoqYG5nLXN3aXRjaC13aGVuPVwic29tZVZhbFwiYCoqIHdpbGwgbWF0Y2ggYWdhaW5zdCB0aGUgc3RyaW5nIGBcInNvbWVWYWxcImAgbm90IGFnYWluc3QgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhwcmVzc2lvbiBgJHNjb3BlLnNvbWVWYWxgLlxuICogPC9kaXY+XG5cbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXJcbiAqIGxlYXZlIC0gaGFwcGVucyBqdXN0IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgXG4gKiA8QU5ZIG5nLXN3aXRjaD1cImV4cHJlc3Npb25cIj5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLXdoZW49XCJtYXRjaFZhbHVlMlwiPi4uLjwvQU5ZPlxuICogICA8QU5ZIG5nLXN3aXRjaC1kZWZhdWx0Pi4uLjwvQU5ZPlxuICogPC9BTlk+XG4gKiBgYGBcbiAqXG4gKlxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTIwMFxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPHR0Pm5nLXN3aXRjaC13aGVuPC90dD4uXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XG4gKlxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXG4gKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLlxuICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXG4gKiAgIGNhc2UgbWF0Y2guXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8dHQ+c2VsZWN0aW9uPXt7c2VsZWN0aW9ufX08L3R0PlxuICAgICAgICA8aHIvPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyXCJcbiAgICAgICAgICBuZy1zd2l0Y2ggb249XCJzZWxlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwic2V0dGluZ3NcIj5TZXR0aW5ncyBEaXY8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwiaG9tZVwiPkhvbWUgU3BhbjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLWRlZmF1bHQ+ZGVmYXVsdDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnc3dpdGNoRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1zID0gWydzZXR0aW5ncycsICdob21lJywgJ290aGVyJ107XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGlvbiA9ICRzY29wZS5pdGVtc1swXTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoIHtcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG5cbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyIHtcbiAgICAgICAgdG9wOi01MHB4O1xuICAgICAgfVxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTtcbiAgICAgIHZhciBzZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWxlY3Rpb24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9TZXR0aW5ncyBEaXYvKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgxKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIHNlbGVjdCBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N3aXRjaERpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXG5cbiAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIG5nU3dpdGNoQ29udHJvbGxlcigpIHtcbiAgICAgdGhpcy5jYXNlcyA9IHt9O1xuICAgIH1dLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ1N3aXRjaENvbnRyb2xsZXIpIHtcbiAgICAgIHZhciB3YXRjaEV4cHIgPSBhdHRyLm5nU3dpdGNoIHx8IGF0dHIub24sXG4gICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMgPSBbXSxcbiAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzID0gW107XG5cbiAgICAgIHZhciBzcGxpY2VGYWN0b3J5ID0gZnVuY3Rpb24oYXJyYXksIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyBhcnJheS5zcGxpY2UoaW5kZXgsIDEpOyB9O1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwciwgZnVuY3Rpb24gbmdTd2l0Y2hXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaSwgaWk7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHNlbGVjdGVkU2NvcGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBnZXRCbG9ja05vZGVzKHNlbGVjdGVkRWxlbWVudHNbaV0uY2xvbmUpO1xuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCk7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSA9ICRhbmltYXRlLmxlYXZlKHNlbGVjdGVkKTtcbiAgICAgICAgICBwcm9taXNlLnRoZW4oc3BsaWNlRmFjdG9yeShwcmV2aW91c0xlYXZlQW5pbWF0aW9ucywgaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgICAgICBzZWxlY3RlZFNjb3Blcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGlmICgoc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snIScgKyB2YWx1ZV0gfHwgbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWyc/J10pKSB7XG4gICAgICAgICAgZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLCBmdW5jdGlvbihzZWxlY3RlZFRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZS50cmFuc2NsdWRlKGZ1bmN0aW9uKGNhc2VFbGVtZW50LCBzZWxlY3RlZFNjb3BlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7XG4gICAgICAgICAgICAgIHZhciBhbmNob3IgPSBzZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtcbiAgICAgICAgICAgICAgY2FzZUVsZW1lbnRbY2FzZUVsZW1lbnQubGVuZ3RoKytdID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ1N3aXRjaFdoZW46ICcpO1xuICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7IGNsb25lOiBjYXNlRWxlbWVudCB9O1xuXG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0gPSAoY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dIHx8IFtdKTtcbiAgICBjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xuICB9XG59KTtcblxudmFyIG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICBwcmlvcml0eTogMTIwMCxcbiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgY3RybC5jYXNlc1snPyddID0gKGN0cmwuY2FzZXNbJz8nXSB8fCBbXSk7XG4gICAgY3RybC5jYXNlc1snPyddLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nVHJhbnNjbHVkZVxuICogQHJlc3RyaWN0IEVBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uXG4gKlxuICogQW55IGV4aXN0aW5nIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgdGhhdCB0aGlzIGRpcmVjdGl2ZSBpcyBwbGFjZWQgb24gd2lsbCBiZSByZW1vdmVkIGJlZm9yZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBpbnNlcnRlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwidHJhbnNjbHVkZUV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogZ3JheVwiPnt7dGl0bGV9fTwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICAgICAgIH07XG4gICAgICAgICB9KVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcbiAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xuICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiPiA8YnIvPlxuICAgICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPnt7dGV4dH19PC9wYW5lPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICAgICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHJlc3RyaWN0OiAnRUFDJyxcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcbiAgICAgIHRocm93IG1pbkVycignbmdUcmFuc2NsdWRlJykoJ29ycGhhbicsXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcbiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcbiAgICAgICAnRWxlbWVudDogezB9JyxcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cblxuICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXG4gICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0O1xuXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ09wdGlvbnNNaW5FcnIgPSBtaW5FcnIoJ25nT3B0aW9ucycpO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cbiAqXG4gKiAjIGBuZ09wdGlvbnNgXG4gKlxuICogVGhlIGBuZ09wdGlvbnNgIGF0dHJpYnV0ZSBjYW4gYmUgdXNlZCB0byBkeW5hbWljYWxseSBnZW5lcmF0ZSBhIGxpc3Qgb2YgYDxvcHRpb24+YFxuICogZWxlbWVudHMgZm9yIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQgdXNpbmcgdGhlIGFycmF5IG9yIG9iamVjdCBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZVxuICogYG5nT3B0aW9uc2AgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLlxuICpcbiAqIEluIG1hbnkgY2FzZXMsIGBuZ1JlcGVhdGAgY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYVxuICogc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMgc3VjaCBhcyByZWR1Y2luZyBtZW1vcnkgYW5kXG4gKiBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLiBgbmdPcHRpb25zYCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBgPHNlbGVjdD5gIG1vZGVsIG5lZWRzIHRvIGJlIGJvdW5kXG4gKiAgdG8gYSBub24tc3RyaW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uIGVsZW1lbnQgY2FuIG9ubHkgYmUgYm91bmQgdG8gc3RyaW5nIHZhbHVlcyBhdFxuICogcHJlc2VudC5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XG4gKiByZXByZXNlbnRlZCBieSB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYFxuICogZGlyZWN0aXZlLlxuICpcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIGBuZ01vZGVsYCBjb21wYXJlcyBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgd2hlbiBiaW5kaW5nIHRvIGFuXG4gKiBhcnJheSBvZiBvYmplY3RzLiBTZWUgYW4gZXhhbXBsZSBbaW4gdGhpcyBqc2ZpZGRsZV0oaHR0cDovL2pzZmlkZGxlLm5ldC9xV3pUYi8pLlxuICogPC9kaXY+XG4gKlxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcbiAqXG4gKiBVc2luZyBgc2VsZWN0YCAqKmBhc2AqKiB3aWxsIGJpbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHNlbGVjdGAgZXhwcmVzc2lvbiB0byB0aGUgbW9kZWwsIGJ1dFxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxuICogaXMgdXNlZCwgdGhlIHJlc3VsdCBvZiB0aGF0IGV4cHJlc3Npb24gd2lsbCBiZSBzZXQgYXMgdGhlIHZhbHVlIG9mIHRoZSBgb3B0aW9uYCBhbmQgYHNlbGVjdGAgZWxlbWVudHMuXG4gKlxuICpcbiAqICMjIyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKipcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogRG8gbm90IHVzZSBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi4gVGhleSBhcmUgbm90IGRlc2lnbmVkIHRvIHdvcmsgdG9nZXRoZXIuXG4gKiA8L2Rpdj5cbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XG4gKlxuICogYGBgaHRtbFxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gdmFsdWVzIHRyYWNrIGJ5IGl0ZW0uaWRcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogJHNjb3BlLnZhbHVlcyA9IFt7XG4gKiAgIGlkOiAxLFxuICogICBsYWJlbDogJ2FMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2FTdWJJdGVtJyB9XG4gKiB9LCB7XG4gKiAgIGlkOiAyLFxuICogICBsYWJlbDogJ2JMYWJlbCcsXG4gKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2JTdWJJdGVtJyB9XG4gKiB9XTtcbiAqXG4gKiAkc2NvcGUuc2VsZWN0ZWQgPSB7IG5hbWU6ICdhU3ViSXRlbScgfTtcbiAqIGBgYFxuICpcbiAqIFdpdGggdGhlIHB1cnBvc2Ugb2YgcHJlc2VydmluZyB0aGUgc2VsZWN0aW9uLCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHdheXMgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICogb2YgdGhlIGRhdGEgc291cmNlICh0byBgaXRlbWAgaW4gdGhpcyBleGFtcGxlKS4gVG8gY2FsY3VsYXRlIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBzZWxlY3RlZCwgd2UgZG8gdGhlXG4gKiBmb2xsb3dpbmc6XG4gKlxuICogMS4gQXBwbHkgKipgdHJhY2sgYnlgKiogdG8gdGhlIGVsZW1lbnRzIGluIHRoZSBhcnJheS4gSW4gdGhlIGV4YW1wbGU6IGBbMSwgMl1gXG4gKiAyLiBBcHBseSAqKmB0cmFjayBieWAqKiB0byB0aGUgYWxyZWFkeSBzZWxlY3RlZCB2YWx1ZSBpbiBgbmdNb2RlbGAuXG4gKiAgICBJbiB0aGUgZXhhbXBsZTogdGhpcyBpcyBub3QgcG9zc2libGUgYXMgKipgdHJhY2sgYnlgKiogcmVmZXJzIHRvIGBpdGVtLmlkYCwgYnV0IHRoZSBzZWxlY3RlZFxuICogICAgdmFsdWUgZnJvbSBgbmdNb2RlbGAgaXMgYHtuYW1lOiAnYVN1Ykl0ZW0nfWAsIHNvIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFwcGxpZWQgdG9cbiAqICAgIGEgd3Jvbmcgb2JqZWN0LCB0aGUgc2VsZWN0ZWQgZWxlbWVudCBjYW4ndCBiZSBmb3VuZCwgYDxzZWxlY3Q+YCBpcyBhbHdheXMgcmVzZXQgdG8gdGhlIFwibm90XG4gKiAgICBzZWxlY3RlZFwiIG9wdGlvbi5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBUaGUgY29udHJvbCBpcyBjb25zaWRlcmVkIHZhbGlkIG9ubHkgaWYgdmFsdWUgaXMgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb249fSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XG4gKlxuICogICAqIGZvciBhcnJheSBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgfCBvcmRlckJ5OmBvcmRlcmV4cHJgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgICAgKGZvciBpbmNsdWRpbmcgYSBmaWx0ZXIgd2l0aCBgdHJhY2sgYnlgKVxuICogICAqIGZvciBvYmplY3QgZGF0YSBzb3VyY2VzOlxuICogICAgICogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAqIGBhcnJheWAgLyBgb2JqZWN0YDogYW4gZXhwcmVzc2lvbiB3aGljaCBldmFsdWF0ZXMgdG8gYW4gYXJyYXkgLyBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogICAqIGB2YWx1ZWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gZWFjaCBpdGVtIGluIHRoZSBgYXJyYXlgIG9yIGVhY2ggcHJvcGVydHkgdmFsdWVcbiAqICAgICAgb2YgYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBga2V5YDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBhIHByb3BlcnR5IG5hbWUgaW4gYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cbiAqICAgKiBgbGFiZWxgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHRoZSBsYWJlbCBmb3IgYDxvcHRpb24+YCBlbGVtZW50LiBUaGVcbiAqICAgICBgZXhwcmVzc2lvbmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGUgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuXG4gKiAgICogYHNlbGVjdGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIG9mIHRoZSBwYXJlbnQgYDxzZWxlY3Q+YFxuICogICAgICBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkLCBgc2VsZWN0YCBleHByZXNzaW9uIHdpbGwgZGVmYXVsdCB0byBgdmFsdWVgLlxuICogICAqIGBncm91cGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBncm91cCBvcHRpb25zIHVzaW5nIHRoZSBgPG9wdGdyb3VwPmBcbiAqICAgICAgRE9NIGVsZW1lbnQuXG4gKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICAgICB1c2VkIHRvIGlkZW50aWZ5IHRoZSBvYmplY3RzIGluIHRoZSBhcnJheS4gVGhlIGB0cmFja2V4cHJgIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlXG4gKiAgICAgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuIFdpdGggdGhpcyB0aGUgc2VsZWN0aW9uIGlzIHByZXNlcnZlZFxuICogICAgICBldmVuIHdoZW4gdGhlIG9wdGlvbnMgYXJlIHJlY3JlYXRlZCAoZS5nLiByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIpLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3NlbGVjdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNvbG9ycyA9IFtcbiAgICAgICAgICAgICAge25hbWU6J2JsYWNrJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0J30sXG4gICAgICAgICAgICAgIHtuYW1lOidyZWQnLCBzaGFkZTonZGFyayd9LFxuICAgICAgICAgICAgICB7bmFtZTonYmx1ZScsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOid5ZWxsb3cnLCBzaGFkZTonbGlnaHQnfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICRzY29wZS5teUNvbG9yID0gJHNjb3BlLmNvbG9yc1syXTsgLy8gcmVkXG4gICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIE5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj5cbiAgICAgICAgICAgICAgWzxhIGhyZWYgbmctY2xpY2s9XCJjb2xvcnMuc3BsaWNlKCRpbmRleCwgMSlcIj5YPC9hPl1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIFs8YSBocmVmIG5nLWNsaWNrPVwiY29sb3JzLnB1c2goe30pXCI+YWRkPC9hPl1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIENvbG9yIChudWxsIG5vdCBhbGxvd2VkKTpcbiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD48YnI+XG5cbiAgICAgICAgICBDb2xvciAobnVsbCBhbGxvd2VkKTpcbiAgICAgICAgICA8c3BhbiAgY2xhc3M9XCJudWxsYWJsZVwiPlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvc3Bhbj48YnIvPlxuXG4gICAgICAgICAgQ29sb3IgZ3JvdXBlZCBieSBzaGFkZTpcbiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICA8L3NlbGVjdD48YnIvPlxuXG5cbiAgICAgICAgICBTZWxlY3QgPGEgaHJlZiBuZy1jbGljaz1cIm15Q29sb3IgPSB7IG5hbWU6J25vdCBpbiBsaXN0Jywgc2hhZGU6ICdvdGhlcicgfVwiPmJvZ3VzPC9hPi48YnI+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICBDdXJyZW50bHkgc2VsZWN0ZWQ6IHt7IHtzZWxlY3RlZF9jb2xvcjpteUNvbG9yfSB9fVxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6c29saWQgMXB4IGJsYWNrOyBoZWlnaHQ6MjBweFwiXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215Q29sb3InKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJ3NlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xuICAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbnZhciBuZ09wdGlvbnNEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdBJyxcbiAgdGVybWluYWw6IHRydWVcbn0pO1xuXG4vLyBqc2hpbnQgbWF4bGVuOiBmYWxzZVxudmFyIHNlbGVjdERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICAgJHBhcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDU1NTU1NTU1NTU1NTU1NTAwMDAwMDA2NjY2NjY2NjY2NjY2NjYwMDAwMDAwMDAwMDAwMDA3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODhcbiAgdmFyIE5HX09QVElPTlNfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XSopfCg/OlxcKFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKixcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLyxcbiAgICAgIG51bGxNb2RlbEN0cmwgPSB7JHNldFZpZXdWYWx1ZTogbm9vcH07XG4vLyBqc2hpbnQgbWF4bGVuOiAxMDBcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiBbJyRlbGVtZW50JywgJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkZWxlbWVudCwgJHNjb3BlLCAkYXR0cnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvcHRpb25zTWFwID0ge30sXG4gICAgICAgICAgbmdNb2RlbEN0cmwgPSBudWxsTW9kZWxDdHJsLFxuICAgICAgICAgIG51bGxPcHRpb24sXG4gICAgICAgICAgdW5rbm93bk9wdGlvbjtcblxuXG4gICAgICBzZWxmLmRhdGFib3VuZCA9ICRhdHRycy5uZ01vZGVsO1xuXG5cbiAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgbnVsbE9wdGlvbl8sIHVua25vd25PcHRpb25fKSB7XG4gICAgICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgICAgICBudWxsT3B0aW9uID0gbnVsbE9wdGlvbl87XG4gICAgICAgIHVua25vd25PcHRpb24gPSB1bmtub3duT3B0aW9uXztcbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5hZGRPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCkge1xuICAgICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICAgICAgb3B0aW9uc01hcFt2YWx1ZV0gPSB0cnVlO1xuXG4gICAgICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09IHZhbHVlKSB7XG4gICAgICAgICAgJGVsZW1lbnQudmFsKHZhbHVlKTtcbiAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzgxNDU5XG4gICAgICAgIC8vIEFkZGluZyBhbiA8b3B0aW9uIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4gZWxlbWVudCB0byBhIDxzZWxlY3QgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiPiBzaG91bGRcbiAgICAgICAgLy8gYXV0b21hdGljYWxseSBzZWxlY3QgdGhlIG5ldyBlbGVtZW50XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgZWxlbWVudFswXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5yZW1vdmVPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNPcHRpb24odmFsdWUpKSB7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnNNYXBbdmFsdWVdO1xuICAgICAgICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciB1bmtub3duVmFsID0gJz8gJyArIGhhc2hLZXkodmFsKSArICcgPyc7XG4gICAgICAgIHVua25vd25PcHRpb24udmFsKHVua25vd25WYWwpO1xuICAgICAgICAkZWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pO1xuICAgICAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAgICAgfTtcblxuXG4gICAgICBzZWxmLmhhc09wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zTWFwLmhhc093blByb3BlcnR5KHZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gbm9vcDtcbiAgICAgIH0pO1xuICAgIH1dLFxuXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICBpZiAoIWN0cmxzWzFdKSByZXR1cm47XG5cbiAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF0sXG4gICAgICAgICAgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXSxcbiAgICAgICAgICBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGUsXG4gICAgICAgICAgb3B0aW9uc0V4cCA9IGF0dHIubmdPcHRpb25zLFxuICAgICAgICAgIG51bGxPcHRpb24gPSBmYWxzZSwgLy8gaWYgZmFsc2UsIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBzZWxlY3QgaXQgKHVzZWQgYnkgbmdPcHRpb25zKVxuICAgICAgICAgIGVtcHR5T3B0aW9uLFxuICAgICAgICAgIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlLFxuICAgICAgICAgIC8vIHdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gICAgICAgICAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXG4gICAgICAgICAgb3B0aW9uVGVtcGxhdGUgPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpLFxuICAgICAgICAgIG9wdEdyb3VwVGVtcGxhdGUgPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpKSxcbiAgICAgICAgICB1bmtub3duT3B0aW9uID0gb3B0aW9uVGVtcGxhdGUuY2xvbmUoKTtcblxuICAgICAgLy8gZmluZCBcIm51bGxcIiBvcHRpb25cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKSwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICBlbXB0eU9wdGlvbiA9IG51bGxPcHRpb24gPSBjaGlsZHJlbi5lcShpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxlY3RDdHJsLmluaXQobmdNb2RlbEN0cmwsIG51bGxPcHRpb24sIHVua25vd25PcHRpb24pO1xuXG4gICAgICAvLyByZXF1aXJlZCB2YWxpZGF0b3JcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zRXhwKSBzZXR1cEFzT3B0aW9ucyhzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwpO1xuICAgICAgZWxzZSBpZiAobXVsdGlwbGUpIHNldHVwQXNNdWx0aXBsZShzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwpO1xuICAgICAgZWxzZSBzZXR1cEFzU2luZ2xlKHNjb3BlLCBlbGVtZW50LCBuZ01vZGVsQ3RybCwgc2VsZWN0Q3RybCk7XG5cblxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cblxuICAgICAgZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSwgc2VsZWN0RWxlbWVudCwgbmdNb2RlbEN0cmwsIHNlbGVjdEN0cmwpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdEN0cmwuaGFzT3B0aW9uKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bmtub3duT3B0aW9uLnBhcmVudCgpKSB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgc2VsZWN0RWxlbWVudC52YWwodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2aWV3VmFsdWUgPT09ICcnKSBlbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSAmJiBlbXB0eU9wdGlvbikge1xuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbmRlclVua25vd25PcHRpb24odmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHVua25vd25PcHRpb24ucGFyZW50KCkpIHVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEVsZW1lbnQudmFsKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0dXBBc011bHRpcGxlKHNjb3BlLCBzZWxlY3RFbGVtZW50LCBjdHJsKSB7XG4gICAgICAgIHZhciBsYXN0VmlldztcbiAgICAgICAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEhhc2hNYXAoY3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGRvIGl0IG9uIGVhY2ggd2F0Y2ggc2luY2UgbmdNb2RlbCB3YXRjaGVzIHJlZmVyZW5jZSwgYnV0XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7XG4gICAgICAgICAgaWYgKCFlcXVhbHMobGFzdFZpZXcsIGN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkoY3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgICBmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cEFzT3B0aW9ucyhzY29wZSwgc2VsZWN0RWxlbWVudCwgY3RybCkge1xuICAgICAgICB2YXIgbWF0Y2g7XG5cbiAgICAgICAgaWYgKCEobWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKSkpIHtcbiAgICAgICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgXCIgK1xuICAgICAgICAgICAgXCInX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl8nXCIgK1xuICAgICAgICAgICAgXCIgYnV0IGdvdCAnezB9Jy4gRWxlbWVudDogezF9XCIsXG4gICAgICAgICAgICBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGlzcGxheUZuID0gJHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSxcbiAgICAgICAgICAgIHZhbHVlTmFtZSA9IG1hdGNoWzRdIHx8IG1hdGNoWzZdLFxuICAgICAgICAgICAgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV0sXG4gICAgICAgICAgICBzZWxlY3RBc0ZuID0gc2VsZWN0QXMgPyAkcGFyc2Uoc2VsZWN0QXMpIDogbnVsbCxcbiAgICAgICAgICAgIGtleU5hbWUgPSBtYXRjaFs1XSxcbiAgICAgICAgICAgIGdyb3VwQnlGbiA9ICRwYXJzZShtYXRjaFszXSB8fCAnJyksXG4gICAgICAgICAgICB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpLFxuICAgICAgICAgICAgdmFsdWVzRm4gPSAkcGFyc2UobWF0Y2hbN10pLFxuICAgICAgICAgICAgdHJhY2sgPSBtYXRjaFs4XSxcbiAgICAgICAgICAgIHRyYWNrRm4gPSB0cmFjayA/ICRwYXJzZShtYXRjaFs4XSkgOiBudWxsLFxuICAgICAgICAgICAgdHJhY2tLZXlzQ2FjaGUgPSB7fSxcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXJyYXkgb2YgYXJyYXkgb2YgZXhpc3Rpbmcgb3B0aW9uIGdyb3VwcyBpbiBET00uXG4gICAgICAgICAgICAvLyBXZSB0cnkgdG8gcmV1c2UgdGhlc2UgaWYgcG9zc2libGVcbiAgICAgICAgICAgIC8vIC0gb3B0aW9uR3JvdXBzQ2FjaGVbMF0gaXMgdGhlIG9wdGlvbnMgd2l0aCBubyBvcHRpb24gZ3JvdXBcbiAgICAgICAgICAgIC8vIC0gb3B0aW9uR3JvdXBzQ2FjaGVbP11bMF0gaXMgdGhlIHBhcmVudDogZWl0aGVyIHRoZSBTRUxFQ1Qgb3IgT1BUR1JPVVAgZWxlbWVudFxuICAgICAgICAgICAgb3B0aW9uR3JvdXBzQ2FjaGUgPSBbW3tlbGVtZW50OiBzZWxlY3RFbGVtZW50LCBsYWJlbDonJ31dXSxcbiAgICAgICAgICAgIC8vcmUtdXNhYmxlIG9iamVjdCB0byByZXByZXNlbnQgb3B0aW9uJ3MgbG9jYWxzXG4gICAgICAgICAgICBsb2NhbHMgPSB7fTtcblxuICAgICAgICBpZiAobnVsbE9wdGlvbikge1xuICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXRcbiAgICAgICAgICAkY29tcGlsZShudWxsT3B0aW9uKShzY29wZSk7XG5cbiAgICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdFxuICAgICAgICAgIC8vIGJlY29tZXMgdGhlIGNvbXBpbGF0aW9uIHJvb3RcbiAgICAgICAgICBudWxsT3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xuXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgaXQgYmVmb3JlIGNhbGxpbmcgc2VsZWN0RWxlbWVudC5lbXB0eSgpIGJlY2F1c2Ugb3RoZXJ3aXNlIElFIHdpbGxcbiAgICAgICAgICAvLyByZW1vdmUgdGhlIGxhYmVsIGZyb20gdGhlIGVsZW1lbnQuIHd0Zj9cbiAgICAgICAgICBudWxsT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgY29udGVudHMsIHdlJ2xsIGFkZCB3aGF0J3MgbmVlZGVkIGJhc2VkIG9uIHRoZSBtb2RlbFxuICAgICAgICBzZWxlY3RFbGVtZW50LmVtcHR5KCk7XG5cbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgc2VsZWN0aW9uQ2hhbmdlZCk7XG5cbiAgICAgICAgY3RybC4kcmVuZGVyID0gcmVuZGVyO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24odmFsdWVzRm4sIHNjaGVkdWxlUmVuZGVyaW5nKTtcbiAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihnZXRMYWJlbHMsIHNjaGVkdWxlUmVuZGVyaW5nKTtcblxuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3RybC4kbW9kZWxWYWx1ZTsgfSwgc2NoZWR1bGVSZW5kZXJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgICAgICAgZnVuY3Rpb24gY2FsbEV4cHJlc3Npb24oZXhwckZuLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoa2V5TmFtZSkgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xuICAgICAgICAgIHJldHVybiBleHByRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHZpZXdWYWx1ZTtcbiAgICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgICB2aWV3VmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgZm9yRWFjaChzZWxlY3RFbGVtZW50LnZhbCgpLCBmdW5jdGlvbihzZWxlY3RlZEtleSkge1xuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXkgPSB0cmFja0ZuID8gdHJhY2tLZXlzQ2FjaGVbc2VsZWN0ZWRLZXldIDogc2VsZWN0ZWRLZXk7XG4gICAgICAgICAgICAgICAgdmlld1ZhbHVlLnB1c2goZ2V0Vmlld1ZhbHVlKHNlbGVjdGVkS2V5LCBjb2xsZWN0aW9uW3NlbGVjdGVkS2V5XSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleSA9IHRyYWNrRm4gPyB0cmFja0tleXNDYWNoZVtzZWxlY3RFbGVtZW50LnZhbCgpXSA6IHNlbGVjdEVsZW1lbnQudmFsKCk7XG4gICAgICAgICAgICAgIHZpZXdWYWx1ZSA9IGdldFZpZXdWYWx1ZShzZWxlY3RlZEtleSwgY29sbGVjdGlvbltzZWxlY3RlZEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICByZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFZpZXdWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2aWV3VmFsdWVGbiA9IHNlbGVjdEFzRm4gPyBzZWxlY3RBc0ZuIDogdmFsdWVGbjtcbiAgICAgICAgICAgIHJldHVybiBjYWxsRXhwcmVzc2lvbih2aWV3VmFsdWVGbiwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZXNGbihzY29wZSk7XG4gICAgICAgICAgdmFyIHRvRGlzcGxheTtcbiAgICAgICAgICBpZiAodmFsdWVzICYmIGlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdG9EaXNwbGF5ID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdmFsdWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgdG9EaXNwbGF5W2ldID0gY2FsbEV4cHJlc3Npb24oZGlzcGxheUZuLCBpLCB2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvRGlzcGxheTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgLy8gVE9ETzogQWRkIGEgdGVzdCBmb3IgdGhpcyBjYXNlXG4gICAgICAgICAgICB0b0Rpc3BsYXkgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0b0Rpc3BsYXlbcHJvcF0gPSBjYWxsRXhwcmVzc2lvbihkaXNwbGF5Rm4sIHByb3AsIHZhbHVlc1twcm9wXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRvRGlzcGxheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlzU2VsZWN0ZWRGbih2aWV3VmFsdWUpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRTZXQ7XG4gICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICBpZiAodHJhY2tGbiAmJiBpc0FycmF5KHZpZXdWYWx1ZSkpIHtcblxuICAgICAgICAgICAgICBzZWxlY3RlZFNldCA9IG5ldyBIYXNoTWFwKFtdKTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgdHJhY2tJbmRleCA9IDA7IHRyYWNrSW5kZXggPCB2aWV3VmFsdWUubGVuZ3RoOyB0cmFja0luZGV4KyspIHtcbiAgICAgICAgICAgICAgICAvLyB0cmFja2luZyBieSBrZXlcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNldC5wdXQoY2FsbEV4cHJlc3Npb24odHJhY2tGbiwgbnVsbCwgdmlld1ZhbHVlW3RyYWNrSW5kZXhdKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkU2V0ID0gbmV3IEhhc2hNYXAodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRyYWNrRm4pIHtcbiAgICAgICAgICAgIHZpZXdWYWx1ZSA9IGNhbGxFeHByZXNzaW9uKHRyYWNrRm4sIG51bGwsIHZpZXdWYWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzU2VsZWN0ZWQoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVWYWx1ZUZuO1xuICAgICAgICAgICAgaWYgKHRyYWNrRm4pIHtcbiAgICAgICAgICAgICAgY29tcGFyZVZhbHVlRm4gPSB0cmFja0ZuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RBc0ZuKSB7XG4gICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZUZuID0gc2VsZWN0QXNGbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZUZuID0gdmFsdWVGbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpc0RlZmluZWQoc2VsZWN0ZWRTZXQucmVtb3ZlKGNhbGxFeHByZXNzaW9uKGNvbXBhcmVWYWx1ZUZuLCBrZXksIHZhbHVlKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA9PT0gY2FsbEV4cHJlc3Npb24oY29tcGFyZVZhbHVlRm4sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcmluZygpIHtcbiAgICAgICAgICBpZiAoIXJlbmRlclNjaGVkdWxlZCkge1xuICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KHJlbmRlcik7XG4gICAgICAgICAgICByZW5kZXJTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG5ldyBsYWJlbE1hcCBpcyBjcmVhdGVkIHdpdGggZWFjaCByZW5kZXIuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGV4aXN0aW5nIG9wdGlvbiB3aXRoIGFkZGVkPWZhbHNlLFxuICAgICAgICAgKiBhbmQgZWFjaCBuZXcgb3B0aW9uIHdpdGggYWRkZWQ9dHJ1ZS5cbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIHR3aWNlLFxuICAgICAgICAgKiAob25jZSB3aXRoIGFkZGVkPXRydWUgYW5kIG9uY2Ugd2l0aCBhZGRlZD1mYWxzZSkgd2lsbCBlbmQgdXAgd2l0aCBhIHZhbHVlIG9mIDAsIGFuZFxuICAgICAgICAgKiB3aWxsIGNhdXNlIG5vIGNoYW5nZSB0byBoYXBwZW4gdG8gdGhlIGNvcnJlc3BvbmRpbmcgb3B0aW9uLlxuICAgICAgICAgKiAtIExhYmVscyB0aGF0IGFyZSBwYXNzZWQgdG8gdGhpcyBtZXRob2Qgb25seSBvbmNlIHdpdGggYWRkZWQ9ZmFsc2Ugd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIC0xIGFuZCB3aWxsIGV2ZW50dWFsbHkgYmUgcGFzc2VkIHRvIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKClcbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIG9ubHkgb25jZSB3aXRoIGFkZGVkPXRydWUgd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIDEgYW5kIHdpbGwgZXZlbnR1YWxseSBiZSBwYXNzZWQgdG8gc2VsZWN0Q3RybC5hZGRPcHRpb24oKVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgbGFiZWwsIGFkZGVkKSB7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdID0gbGFiZWxNYXBbbGFiZWxdIHx8IDA7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdICs9IChhZGRlZCA/IDEgOiAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAvLyBUZW1wb3JhcnkgbG9jYXRpb24gZm9yIHRoZSBvcHRpb24gZ3JvdXBzIGJlZm9yZSB3ZSByZW5kZXIgdGhlbVxuICAgICAgICAgIHZhciBvcHRpb25Hcm91cHMgPSB7Jyc6W119LFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cE5hbWVzID0gWycnXSxcbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lLFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cCxcbiAgICAgICAgICAgICAgb3B0aW9uLFxuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCwgZXhpc3RpbmdPcHRpb25zLCBleGlzdGluZ09wdGlvbixcbiAgICAgICAgICAgICAgdmlld1ZhbHVlID0gY3RybC4kdmlld1ZhbHVlLFxuICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW10sXG4gICAgICAgICAgICAgIGtleXMgPSBrZXlOYW1lID8gc29ydGVkS2V5cyh2YWx1ZXMpIDogdmFsdWVzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBncm91cExlbmd0aCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBncm91cEluZGV4LCBpbmRleCxcbiAgICAgICAgICAgICAgbGFiZWxNYXAgPSB7fSxcbiAgICAgICAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKSxcbiAgICAgICAgICAgICAgYW55U2VsZWN0ZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgbGFzdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICBvcHRpb25JZDtcblxuICAgICAgICAgIHRyYWNrS2V5c0NhY2hlID0ge307XG5cbiAgICAgICAgICAvLyBXZSBub3cgYnVpbGQgdXAgdGhlIGxpc3Qgb2Ygb3B0aW9ucyB3ZSBuZWVkICh3ZSBtZXJnZSBsYXRlcilcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgbGVuZ3RoID0ga2V5cy5sZW5ndGgsIGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSBpbmRleDtcbiAgICAgICAgICAgIGlmIChrZXlOYW1lKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2tleV07XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSA9IGNhbGxFeHByZXNzaW9uKGdyb3VwQnlGbiwga2V5LCB2YWx1ZSkgfHwgJyc7XG4gICAgICAgICAgICBpZiAoIShvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdKSkge1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdID0gW107XG4gICAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZXMucHVzaChvcHRpb25Hcm91cE5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBhbnlTZWxlY3RlZCA9IGFueVNlbGVjdGVkIHx8IHNlbGVjdGVkO1xuXG4gICAgICAgICAgICBsYWJlbCA9IGNhbGxFeHByZXNzaW9uKGRpc3BsYXlGbiwga2V5LCB2YWx1ZSk7IC8vIHdoYXQgd2lsbCBiZSBzZWVuIGJ5IHRoZSB1c2VyXG5cbiAgICAgICAgICAgIC8vIGRvaW5nIGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKSB8fCAnJyBvdmVyd3JpdGVzIHplcm8gdmFsdWVzXG4gICAgICAgICAgICBsYWJlbCA9IGlzRGVmaW5lZChsYWJlbCkgPyBsYWJlbCA6ICcnO1xuICAgICAgICAgICAgb3B0aW9uSWQgPSB0cmFja0ZuID8gdHJhY2tGbihzY29wZSwgbG9jYWxzKSA6IChrZXlOYW1lID8ga2V5c1tpbmRleF0gOiBpbmRleCk7XG4gICAgICAgICAgICBpZiAodHJhY2tGbikge1xuICAgICAgICAgICAgICB0cmFja0tleXNDYWNoZVtvcHRpb25JZF0gPSBrZXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwLnB1c2goe1xuICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhlIGluZGV4IGludG8gYXJyYXkgb3Iga2V5IGZyb20gb2JqZWN0XG4gICAgICAgICAgICAgIGlkOiBvcHRpb25JZCxcbiAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmIChudWxsT3B0aW9uIHx8IHZpZXdWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBpbnNlcnQgbnVsbCBvcHRpb24gaWYgd2UgaGF2ZSBhIHBsYWNlaG9sZGVyLCBvciB0aGUgbW9kZWwgaXMgbnVsbFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNbJyddLnVuc2hpZnQoe2lkOicnLCBsYWJlbDonJywgc2VsZWN0ZWQ6IWFueVNlbGVjdGVkfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhbnlTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAvLyBvcHRpb24gY291bGQgbm90IGJlIGZvdW5kLCB3ZSBoYXZlIHRvIGluc2VydCB0aGUgdW5kZWZpbmVkIGl0ZW1cbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBzWycnXS51bnNoaWZ0KHtpZDonPycsIGxhYmVsOicnLCBzZWxlY3RlZDp0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIERPTSBub2RlcyB0byBtYXRjaCB0aGUgb3B0aW9uR3JvdXBzIHdlIGNvbXB1dGVkIGFib3ZlXG4gICAgICAgICAgZm9yIChncm91cEluZGV4ID0gMCwgZ3JvdXBMZW5ndGggPSBvcHRpb25Hcm91cE5hbWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXggPCBncm91cExlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXgrKykge1xuICAgICAgICAgICAgLy8gY3VycmVudCBvcHRpb24gZ3JvdXAgbmFtZSBvciAnJyBpZiBubyBncm91cFxuICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lID0gb3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XTtcblxuICAgICAgICAgICAgLy8gbGlzdCBvZiBvcHRpb25zIGZvciB0aGF0IGdyb3VwLiAoZmlyc3QgaXRlbSBoYXMgdGhlIHBhcmVudClcbiAgICAgICAgICAgIG9wdGlvbkdyb3VwID0gb3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGggPD0gZ3JvdXBJbmRleCkge1xuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdyb3cgdGhlIG9wdGlvbkdyb3Vwc1xuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBvcHRHcm91cFRlbXBsYXRlLmNsb25lKCkuYXR0cignbGFiZWwnLCBvcHRpb25Hcm91cE5hbWUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb25Hcm91cC5sYWJlbFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBleGlzdGluZ09wdGlvbnMgPSBbZXhpc3RpbmdQYXJlbnRdO1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNDYWNoZS5wdXNoKGV4aXN0aW5nT3B0aW9ucyk7XG4gICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmdPcHRpb25zID0gb3B0aW9uR3JvdXBzQ2FjaGVbZ3JvdXBJbmRleF07XG4gICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50ID0gZXhpc3RpbmdPcHRpb25zWzBdOyAgLy8gZWl0aGVyIFNFTEVDVCAobm8gZ3JvdXApIG9yIE9QVEdST1VQIGVsZW1lbnRcblxuICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIE9QVEdST1VQIGxhYmVsIGlmIG5vdCB0aGUgc2FtZS5cbiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGFyZW50LmxhYmVsICE9IG9wdGlvbkdyb3VwTmFtZSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXR0cignbGFiZWwnLCBleGlzdGluZ1BhcmVudC5sYWJlbCA9IG9wdGlvbkdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBudWxsOyAgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9wdGlvbkdyb3VwLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uR3JvdXBbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoKGV4aXN0aW5nT3B0aW9uID0gZXhpc3RpbmdPcHRpb25zW2luZGV4ICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV1c2UgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGV4aXN0aW5nT3B0aW9uLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nT3B0aW9uLmxhYmVsICE9PSBvcHRpb24ubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBleGlzdGluZ09wdGlvbi5sYWJlbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlTGFiZWxNYXAobGFiZWxNYXAsIG9wdGlvbi5sYWJlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC50ZXh0KGV4aXN0aW5nT3B0aW9uLmxhYmVsID0gb3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ2xhYmVsJywgZXhpc3RpbmdPcHRpb24ubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdPcHRpb24uaWQgIT09IG9wdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQudmFsKGV4aXN0aW5nT3B0aW9uLmlkID0gb3B0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbGFzdEVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKSBwcm92aWRlZCBieSBqUXVlcnkgaGFzIHNpZGUtZWZmZWN0c1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RWxlbWVudFswXS5zZWxlY3RlZCAhPT0gb3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC5wcm9wKCdzZWxlY3RlZCcsIChleGlzdGluZ09wdGlvbi5zZWxlY3RlZCA9IG9wdGlvbi5zZWxlY3RlZCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlICM3NjkyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBzZWxlY3RlZCBpdGVtIHdvdWxkbid0IHZpc3VhbGx5IHVwZGF0ZSBvbiBJRSB3aXRob3V0IHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRlc3RlZCBvbiBXaW43OiBJRTksIElFMTAgYW5kIElFMTEuIEZ1dHVyZSBJRXMgc2hvdWxkIGJlIHRlc3RlZCBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ3NlbGVjdGVkJywgZXhpc3RpbmdPcHRpb24uc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBncm93IGVsZW1lbnRzXG5cbiAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIGEgbnVsbCBvcHRpb25cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmlkID09PSAnJyAmJiBudWxsT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAvLyBwdXQgYmFjayB0aGUgcHJlLWNvbXBpbGVkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsT3B0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBqUXVlcnkodjEuNC4yKSBCdWc6IFdlIHNob3VsZCBiZSBhYmxlIHRvIGNoYWluIHRoZSBtZXRob2QgY2FsbHMsIGJ1dFxuICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSBvbiBzb21lIGJyb3dzZXIgdGhlIC50ZXh0KCkgcmV0dXJucyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoZW4gdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAoZWxlbWVudCA9IG9wdGlvblRlbXBsYXRlLmNsb25lKCkpXG4gICAgICAgICAgICAgICAgICAgICAgLnZhbChvcHRpb24uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgLnByb3AoJ3NlbGVjdGVkJywgb3B0aW9uLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzZWxlY3RlZCcsIG9wdGlvbi5zZWxlY3RlZClcbiAgICAgICAgICAgICAgICAgICAgICAucHJvcCgnbGFiZWwnLCBvcHRpb24ubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgICAgLnRleHQob3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleGlzdGluZ09wdGlvbnMucHVzaChleGlzdGluZ09wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IG9wdGlvbi5zZWxlY3RlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBvcHRpb24ubGFiZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXhjZXNzaXZlIE9QVElPTnMgaW4gYSBncm91cFxuICAgICAgICAgICAgaW5kZXgrKzsgLy8gaW5jcmVtZW50IHNpbmNlIHRoZSBleGlzdGluZ09wdGlvbnNbMF0gaXMgcGFyZW50IGVsZW1lbnQgbm90IE9QVElPTlxuICAgICAgICAgICAgd2hpbGUgKGV4aXN0aW5nT3B0aW9ucy5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICAgICAgICBvcHRpb24gPSBleGlzdGluZ09wdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBvcHRpb24ubGFiZWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXhjZXNzaXZlIE9QVEdST1VQcyBmcm9tIHNlbGVjdFxuICAgICAgICAgIHdoaWxlIChvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGggPiBncm91cEluZGV4KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIHRoZSBsYWJlbHMgaW4gdGhlIG9wdGlvbiBncm91cFxuICAgICAgICAgICAgb3B0aW9uR3JvdXAgPSBvcHRpb25Hcm91cHNDYWNoZS5wb3AoKTtcbiAgICAgICAgICAgIGZvciAoaW5kZXggPSAxOyBpbmRleCA8IG9wdGlvbkdyb3VwLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgb3B0aW9uR3JvdXBbaW5kZXhdLmxhYmVsLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25Hcm91cFswXS5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JFYWNoKGxhYmVsTWFwLCBmdW5jdGlvbihjb3VudCwgbGFiZWwpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5hZGRPcHRpb24obGFiZWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24obGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkge1xuICB2YXIgbnVsbFNlbGVjdEN0cmwgPSB7XG4gICAgYWRkT3B0aW9uOiBub29wLFxuICAgIHJlbW92ZU9wdGlvbjogbm9vcFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSkge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBzZWxlY3RDdHJsTmFtZSA9ICckc2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxuICAgICAgICAgICAgICBwYXJlbnQucGFyZW50KCkuZGF0YShzZWxlY3RDdHJsTmFtZSk7IC8vIGluIGNhc2Ugd2UgYXJlIGluIG9wdGdyb3VwXG5cbiAgICAgICAgaWYgKCFzZWxlY3RDdHJsIHx8ICFzZWxlY3RDdHJsLmRhdGFib3VuZCkge1xuICAgICAgICAgIHNlbGVjdEN0cmwgPSBudWxsU2VsZWN0Q3RybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xuICAgICAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RDdHJsLmFkZE9wdGlvbihuZXdWYWwsIGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEN0cmwuYWRkT3B0aW9uKGF0dHIudmFsdWUsIGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgc3R5bGVEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgdGVybWluYWw6IGZhbHNlXG59KTtcblxudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cblxudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XG4gICAgICBhdHRyLiRvYnNlcnZlKCdwYXR0ZXJuJywgZnVuY3Rpb24ocmVnZXgpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xuICAgICAgICAgIHRocm93IG1pbkVycignbmdQYXR0ZXJuJykoJ25vcmVnZXhwJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfScsIHBhdHRlcm5FeHAsXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3QodmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG5cbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heGxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbnRWYWwgPSBpbnQodmFsdWUpO1xuICAgICAgICBtYXhsZW5ndGggPSBpc05hTihpbnRWYWwpID8gLTEgOiBpbnRWYWw7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAobWF4bGVuZ3RoIDwgMCkgfHwgY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8ICh2aWV3VmFsdWUubGVuZ3RoIDw9IG1heGxlbmd0aCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtaW5sZW5ndGggPSAwO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgbWlubGVuZ3RoID0gaW50KHZhbHVlKSB8fCAwO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbmxlbmd0aCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IHZpZXdWYWx1ZS5sZW5ndGggPj0gbWlubGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4gIGlmICh3aW5kb3cuYW5ndWxhci5ib290c3RyYXApIHtcbiAgICAvL0FuZ3VsYXJKUyBpcyBhbHJlYWR5IGxvYWRlZCwgc28gd2UgY2FuIHJldHVybiBoZXJlLi4uXG4gICAgY29uc29sZS5sb2coJ1dBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvL3RyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoKVxuICAvL2J1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXG4gIGJpbmRKUXVlcnkoKTtcblxuICBwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcik7XG5cbiAganFMaXRlKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFySW5pdChkb2N1bWVudCwgYm9vdHN0cmFwKTtcbiAgfSk7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuXG4hd2luZG93LmFuZ3VsYXIuJCRjc3AoKSAmJiB3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9PC9zdHlsZT4nKTsiLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjEzXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FyaWFcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBcmlhYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgY29tbW9uXG4gKiBbPGFiYnIgdGl0bGU9XCJBY2Nlc3NpYmxlIFJpY2ggSW50ZXJuZXQgQXBwbGljYXRpb25zXCI+QVJJQTwvYWJicj5dKGh0dHA6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLylcbiAqIGF0dHJpYnV0ZXMgdGhhdCBjb252ZXkgc3RhdGUgb3Igc2VtYW50aWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFwcGxpY2F0aW9uIGZvciB1c2Vyc1xuICogb2YgYXNzaXN0aXZlIHRlY2hub2xvZ2llcywgc3VjaCBhcyBzY3JlZW4gcmVhZGVycy5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nQXJpYVwiPjwvZGl2PlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogRm9yIG5nQXJpYSB0byBkbyBpdHMgbWFnaWMsIHNpbXBseSBpbmNsdWRlIHRoZSBtb2R1bGUgYXMgYSBkZXBlbmRlbmN5LiBUaGUgZGlyZWN0aXZlcyBzdXBwb3J0ZWRcbiAqIGJ5IG5nQXJpYSBhcmU6XG4gKiBgbmdNb2RlbGAsIGBuZ0Rpc2FibGVkYCwgYG5nU2hvd2AsIGBuZ0hpZGVgLCBgbmdDbGlja2AsIGBuZ0RibENsaWNrYCwgYW5kIGBuZ01lc3NhZ2VzYC5cbiAqXG4gKiBCZWxvdyBpcyBhIG1vcmUgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBhdHRyaWJ1dGVzIGhhbmRsZWQgYnkgbmdBcmlhOlxuICpcbiAqIHwgRGlyZWN0aXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFN1cHBvcnRlZCBBdHRyaWJ1dGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsIG5nTW9kZWx9ICAgICAgICB8IGFyaWEtY2hlY2tlZCwgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCwgYXJpYS12YWx1ZW5vdywgYXJpYS1pbnZhbGlkLCBhcmlhLXJlcXVpcmVkIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Rpc2FibGVkIG5nRGlzYWJsZWR9ICB8IGFyaWEtZGlzYWJsZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1Nob3cgbmdTaG93fSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0hpZGUgbmdIaWRlfSAgICAgICAgICB8IGFyaWEtaGlkZGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9ICAgICAgICB8IHRhYmluZGV4LCBrZXlwcmVzcyBldmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0RibGNsaWNrIG5nRGJsY2xpY2t9ICB8IHRhYmluZGV4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG1vZHVsZTpuZ01lc3NhZ2VzIG5nTWVzc2FnZXN9ICAgICAgICB8IGFyaWEtbGl2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiBGaW5kIG91dCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggZGlyZWN0aXZlIGJ5IHJlYWRpbmcgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvYWNjZXNzaWJpbGl0eSBuZ0FyaWEgRGV2ZWxvcGVyIEd1aWRlfS5cbiAqXG4gKiAjI0V4YW1wbGVcbiAqIFVzaW5nIG5nRGlzYWJsZWQgd2l0aCBuZ0FyaWE6XG4gKiBgYGBodG1sXG4gKiA8bWQtY2hlY2tib3ggbmctZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPlxuICogYGBgXG4gKiBCZWNvbWVzOlxuICogYGBgaHRtbFxuICogPG1kLWNoZWNrYm94IG5nLWRpc2FibGVkPVwiZGlzYWJsZWRcIiBhcmlhLWRpc2FibGVkPVwidHJ1ZVwiPlxuICogYGBgXG4gKlxuICogIyNEaXNhYmxpbmcgQXR0cmlidXRlc1xuICogSXQncyBwb3NzaWJsZSB0byBkaXNhYmxlIGluZGl2aWR1YWwgYXR0cmlidXRlcyBhZGRlZCBieSBuZ0FyaWEgd2l0aCB0aGVcbiAqIHtAbGluayBuZ0FyaWEuJGFyaWFQcm92aWRlciNjb25maWcgY29uZmlnfSBtZXRob2QuIEZvciBtb3JlIGRldGFpbHMsIHNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IERldmVsb3BlciBHdWlkZX0uXG4gKi9cbiAvKiBnbG9iYWwgLW5nQXJpYU1vZHVsZSAqL1xudmFyIG5nQXJpYU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ0FyaWEnLCBbJ25nJ10pLlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIoJyRhcmlhJywgJEFyaWFQcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYXJpYVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIEFSSUEgYXR0cmlidXRlcyBpbmplY3RlZCBhbmQgbWFuYWdlZCBieSBuZ0FyaWEuXG4gKlxuICogYGBganNcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdBcmlhJ10sIGZ1bmN0aW9uIGNvbmZpZygkYXJpYVByb3ZpZGVyKSB7XG4gKiAgICRhcmlhUHJvdmlkZXIuY29uZmlnKHtcbiAqICAgICBhcmlhVmFsdWU6IHRydWUsXG4gKiAgICAgdGFiaW5kZXg6IGZhbHNlXG4gKiAgIH0pO1xuICogfSk7XG4gKmBgYFxuICpcbiAqICMjIERlcGVuZGVuY2llc1xuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICovXG5mdW5jdGlvbiAkQXJpYVByb3ZpZGVyKCkge1xuICB2YXIgY29uZmlnID0ge1xuICAgIGFyaWFIaWRkZW46IHRydWUsXG4gICAgYXJpYUNoZWNrZWQ6IHRydWUsXG4gICAgYXJpYURpc2FibGVkOiB0cnVlLFxuICAgIGFyaWFSZXF1aXJlZDogdHJ1ZSxcbiAgICBhcmlhSW52YWxpZDogdHJ1ZSxcbiAgICBhcmlhTXVsdGlsaW5lOiB0cnVlLFxuICAgIGFyaWFWYWx1ZTogdHJ1ZSxcbiAgICB0YWJpbmRleDogdHJ1ZSxcbiAgICBiaW5kS2V5cHJlc3M6IHRydWVcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYXJpYVByb3ZpZGVyI2NvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIG9iamVjdCB0byBlbmFibGUvZGlzYWJsZSBzcGVjaWZpYyBBUklBIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogIC0gKiphcmlhSGlkZGVuKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtaGlkZGVuIHRhZ3NcbiAgICogIC0gKiphcmlhQ2hlY2tlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWNoZWNrZWQgdGFnc1xuICAgKiAgLSAqKmFyaWFEaXNhYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWRpc2FibGVkIHRhZ3NcbiAgICogIC0gKiphcmlhUmVxdWlyZWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1yZXF1aXJlZCB0YWdzXG4gICAqICAtICoqYXJpYUludmFsaWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1pbnZhbGlkIHRhZ3NcbiAgICogIC0gKiphcmlhTXVsdGlsaW5lKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtbXVsdGlsaW5lIHRhZ3NcbiAgICogIC0gKiphcmlhVmFsdWUqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCBhbmQgYXJpYS12YWx1ZW5vdyB0YWdzXG4gICAqICAtICoqdGFiaW5kZXgqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgdGFiaW5kZXggdGFnc1xuICAgKiAgLSAqKmJpbmRLZXlwcmVzcyoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBrZXlwcmVzcyBldmVudCBiaW5kaW5nIG9uIGAmbHQ7ZGl2Jmd0O2AgYW5kXG4gICAqICAgIGAmbHQ7bGkmZ3Q7YCBlbGVtZW50cyB3aXRoIG5nLWNsaWNrXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFbmFibGVzL2Rpc2FibGVzIHZhcmlvdXMgQVJJQSBhdHRyaWJ1dGVzXG4gICAqL1xuICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uKG5ld0NvbmZpZykge1xuICAgIGNvbmZpZyA9IGFuZ3VsYXIuZXh0ZW5kKGNvbmZpZywgbmV3Q29uZmlnKTtcbiAgfTtcblxuICBmdW5jdGlvbiB3YXRjaEV4cHIoYXR0ck5hbWUsIGFyaWFBdHRyLCBuZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIHtcbiAgICAgIHZhciBhcmlhQ2FtZWxOYW1lID0gYXR0ci4kbm9ybWFsaXplKGFyaWFBdHRyKTtcbiAgICAgIGlmIChjb25maWdbYXJpYUNhbWVsTmFtZV0gJiYgIWF0dHJbYXJpYUNhbWVsTmFtZV0pIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbYXR0ck5hbWVdLCBmdW5jdGlvbihib29sVmFsKSB7XG4gICAgICAgICAgaWYgKG5lZ2F0ZSkge1xuICAgICAgICAgICAgYm9vbFZhbCA9ICFib29sVmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtLmF0dHIoYXJpYUF0dHIsIGJvb2xWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhcmlhXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBUaGUgJGFyaWEgc2VydmljZSBjb250YWlucyBoZWxwZXIgbWV0aG9kcyBmb3IgYXBwbHlpbmcgY29tbW9uXG4gICAqIFtBUklBXShodHRwOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS8pIGF0dHJpYnV0ZXMgdG8gSFRNTCBkaXJlY3RpdmVzLlxuICAgKlxuICAgKiBuZ0FyaWEgaW5qZWN0cyBjb21tb24gYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzIHRoYXQgdGVsbCBhc3Npc3RpdmUgdGVjaG5vbG9naWVzIHdoZW4gSFRNTFxuICAgKiBlbGVtZW50cyBhcmUgZW5hYmxlZCwgc2VsZWN0ZWQsIGhpZGRlbiwgYW5kIG1vcmUuIFRvIHNlZSBob3cgdGhpcyBpcyBwZXJmb3JtZWQgd2l0aCBuZ0FyaWEsXG4gICAqIGxldCdzIHJldmlldyBhIGNvZGUgc25pcHBldCBmcm9tIG5nQXJpYSBpdHNlbGY6XG4gICAqXG4gICAqYGBganNcbiAgICogbmdBcmlhTW9kdWxlLmRpcmVjdGl2ZSgnbmdEaXNhYmxlZCcsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICAgKiAgIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdEaXNhYmxlZCcsICdhcmlhLWRpc2FibGVkJyk7XG4gICAqIH1dKVxuICAgKmBgYFxuICAgKiBTaG93biBhYm92ZSwgdGhlIG5nQXJpYSBtb2R1bGUgY3JlYXRlcyBhIGRpcmVjdGl2ZSB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyB0aGVcbiAgICogdHJhZGl0aW9uYWwgYG5nLWRpc2FibGVkYCBkaXJlY3RpdmUuIEJ1dCB0aGlzIG5nQXJpYSB2ZXJzaW9uIGlzIGRlZGljYXRlZCB0b1xuICAgKiBzb2xlbHkgbWFuYWdpbmcgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzLiBUaGUgaW50ZXJuYWwgYCRhcmlhYCBzZXJ2aWNlIGlzIHVzZWQgdG8gd2F0Y2ggdGhlXG4gICAqIGJvb2xlYW4gYXR0cmlidXRlIGBuZ0Rpc2FibGVkYC4gSWYgaXQgaGFzIG5vdCBiZWVuIGV4cGxpY2l0bHkgc2V0IGJ5IHRoZSBkZXZlbG9wZXIsXG4gICAqIGBhcmlhLWRpc2FibGVkYCBpcyBpbmplY3RlZCBhcyBhbiBhdHRyaWJ1dGUgd2l0aCBpdHMgdmFsdWUgc3luY2hyb25pemVkIHRvIHRoZSB2YWx1ZSBpblxuICAgKiBgbmdEaXNhYmxlZGAuXG4gICAqXG4gICAqIEJlY2F1c2UgbmdBcmlhIGhvb2tzIGludG8gdGhlIGBuZy1kaXNhYmxlZGAgZGlyZWN0aXZlLCBkZXZlbG9wZXJzIGRvIG5vdCBoYXZlIHRvIGRvXG4gICAqIGFueXRoaW5nIHRvIGVuYWJsZSB0aGlzIGZlYXR1cmUuIFRoZSBgYXJpYS1kaXNhYmxlZGAgYXR0cmlidXRlIGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZFxuICAgKiBzaW1wbHkgYXMgYSBzaWxlbnQgc2lkZS1lZmZlY3Qgb2YgdXNpbmcgYG5nLWRpc2FibGVkYCB3aXRoIHRoZSBuZ0FyaWEgbW9kdWxlLlxuICAgKlxuICAgKiBUaGUgZnVsbCBsaXN0IG9mIGRpcmVjdGl2ZXMgdGhhdCBpbnRlcmZhY2Ugd2l0aCBuZ0FyaWE6XG4gICAqICogKipuZ01vZGVsKipcbiAgICogKiAqKm5nU2hvdyoqXG4gICAqICogKipuZ0hpZGUqKlxuICAgKiAqICoqbmdDbGljayoqXG4gICAqICogKipuZ0RibGNsaWNrKipcbiAgICogKiAqKm5nTWVzc2FnZXMqKlxuICAgKiAqICoqbmdEaXNhYmxlZCoqXG4gICAqXG4gICAqIFJlYWQgdGhlIHtAbGluayBndWlkZS9hY2Nlc3NpYmlsaXR5IG5nQXJpYSBEZXZlbG9wZXIgR3VpZGV9IGZvciBhIHRob3JvdWdoIGV4cGxhbmF0aW9uIG9mIGVhY2hcbiAgICogZGlyZWN0aXZlLlxuICAgKlxuICAgKlxuICAgKiAjIyBEZXBlbmRlbmNpZXNcbiAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FyaWF9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlnOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1trZXldO1xuICAgICAgfSxcbiAgICAgICQkd2F0Y2hFeHByOiB3YXRjaEV4cHJcbiAgICB9O1xuICB9O1xufVxuXG5cbm5nQXJpYU1vZHVsZS5kaXJlY3RpdmUoJ25nU2hvdycsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gJGFyaWEuJCR3YXRjaEV4cHIoJ25nU2hvdycsICdhcmlhLWhpZGRlbicsIHRydWUpO1xufV0pXG4uZGlyZWN0aXZlKCduZ0hpZGUnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0hpZGUnLCAnYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG59XSlcbi5kaXJlY3RpdmUoJ25nTW9kZWwnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcblxuICBmdW5jdGlvbiBzaG91bGRBdHRhY2hBdHRyKGF0dHIsIG5vcm1hbGl6ZWRBdHRyLCBlbGVtKSB7XG4gICAgcmV0dXJuICRhcmlhLmNvbmZpZyhub3JtYWxpemVkQXR0cikgJiYgIWVsZW0uYXR0cihhdHRyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGF0dHIsIGVsZW0pIHtcbiAgICB2YXIgdHlwZSA9IGF0dHIudHlwZSxcbiAgICAgICAgcm9sZSA9IGF0dHIucm9sZTtcblxuICAgIHJldHVybiAoKHR5cGUgfHwgcm9sZSkgPT09ICdjaGVja2JveCcgfHwgcm9sZSA9PT0gJ21lbnVpdGVtY2hlY2tib3gnKSA/ICdjaGVja2JveCcgOlxuICAgICAgICAgICAoKHR5cGUgfHwgcm9sZSkgPT09ICdyYWRpbycgICAgfHwgcm9sZSA9PT0gJ21lbnVpdGVtcmFkaW8nKSA/ICdyYWRpbycgOlxuICAgICAgICAgICAodHlwZSA9PT0gJ3JhbmdlJyAgICAgICAgICAgICAgfHwgcm9sZSA9PT0gJ3Byb2dyZXNzYmFyJyB8fCByb2xlID09PSAnc2xpZGVyJykgPyAncmFuZ2UnIDpcbiAgICAgICAgICAgKHR5cGUgfHwgcm9sZSkgPT09ICd0ZXh0Ym94JyAgIHx8IGVsZW1bMF0ubm9kZU5hbWUgPT09ICdURVhUQVJFQScgPyAnbXVsdGlsaW5lJyA6ICcnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIsIG5nTW9kZWwpIHtcbiAgICAgIHZhciBzaGFwZSA9IGdldFNoYXBlKGF0dHIsIGVsZW0pO1xuICAgICAgdmFyIG5lZWRzVGFiSW5kZXggPSBzaG91bGRBdHRhY2hBdHRyKCd0YWJpbmRleCcsICd0YWJpbmRleCcsIGVsZW0pO1xuXG4gICAgICBmdW5jdGlvbiBuZ0FyaWFXYXRjaE1vZGVsVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBuZ01vZGVsLiRtb2RlbFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRSYWRpb1JlYWN0aW9uKCkge1xuICAgICAgICBpZiAobmVlZHNUYWJJbmRleCkge1xuICAgICAgICAgIG5lZWRzVGFiSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdBcmlhUmFkaW9SZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgIHZhciBib29sVmFsID0gbmV3VmFsID09PSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLWNoZWNrZWQnLCBib29sVmFsKTtcbiAgICAgICAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwIC0gIWJvb2xWYWwpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQXJpYVJhZGlvUmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsIG5ld1ZhbCA9PT0gYXR0ci52YWx1ZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBuZ0FyaWFDaGVja2JveFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsICEhbmV3VmFsKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChzaGFwZSkge1xuICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1jaGVja2VkJywgJ2FyaWFDaGVja2VkJywgZWxlbSkpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChuZ0FyaWFXYXRjaE1vZGVsVmFsdWUsIHNoYXBlID09PSAncmFkaW8nID9cbiAgICAgICAgICAgICAgICBnZXRSYWRpb1JlYWN0aW9uKCkgOiBuZ0FyaWFDaGVja2JveFJlYWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdhcmlhVmFsdWUnKSkge1xuICAgICAgICAgICAgaWYgKGF0dHIubWluICYmICFlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nKSkge1xuICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCBhdHRyLm1pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0ci5tYXggJiYgIWVsZW0uYXR0cignYXJpYS12YWx1ZW1heCcpKSB7XG4gICAgICAgICAgICAgIGVsZW0uYXR0cignYXJpYS12YWx1ZW1heCcsIGF0dHIubWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWxlbS5hdHRyKCdhcmlhLXZhbHVlbm93JykpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKG5nQXJpYVdhdGNoTW9kZWxWYWx1ZSwgZnVuY3Rpb24gbmdBcmlhVmFsdWVOb3dSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBuZXdWYWwpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ211bHRpbGluZSc6XG4gICAgICAgICAgaWYgKHNob3VsZEF0dGFjaEF0dHIoJ2FyaWEtbXVsdGlsaW5lJywgJ2FyaWFNdWx0aWxpbmUnLCBlbGVtKSkge1xuICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLW11bHRpbGluZScsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRzVGFiSW5kZXgpIHtcbiAgICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgfVxuXG4gICAgICBpZiAobmdNb2RlbC4kdmFsaWRhdG9ycy5yZXF1aXJlZCAmJiBzaG91bGRBdHRhY2hBdHRyKCdhcmlhLXJlcXVpcmVkJywgJ2FyaWFSZXF1aXJlZCcsIGVsZW0pKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ0FyaWFSZXF1aXJlZFdhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRlcnJvci5yZXF1aXJlZDtcbiAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhUmVxdWlyZWRSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtcmVxdWlyZWQnLCAhIW5ld1ZhbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkQXR0YWNoQXR0cignYXJpYS1pbnZhbGlkJywgJ2FyaWFJbnZhbGlkJywgZWxlbSkpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nQXJpYUludmFsaWRXYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaW52YWxpZDtcbiAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhSW52YWxpZFJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgIGVsZW0uYXR0cignYXJpYS1pbnZhbGlkJywgISFuZXdWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSlcbi5kaXJlY3RpdmUoJ25nRGlzYWJsZWQnLCBbJyRhcmlhJywgZnVuY3Rpb24oJGFyaWEpIHtcbiAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0Rpc2FibGVkJywgJ2FyaWEtZGlzYWJsZWQnKTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdNZXNzYWdlcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01lc3NhZ2VzJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgbmdNZXNzYWdlcykge1xuICAgICAgaWYgKCFlbGVtLmF0dHIoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgIGVsZW0uYXR0cignYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG4uZGlyZWN0aXZlKCduZ0NsaWNrJyxbJyRhcmlhJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRhcmlhLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW0sIGF0dHIpIHtcbiAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyLm5nQ2xpY2ssIC8qIGludGVyY2VwdG9yRm4gKi8gbnVsbCwgLyogZXhwZW5zaXZlQ2hlY2tzICovIHRydWUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNOb2RlT25lT2YoZWxlbSwgbm9kZVR5cGVBcnJheSkge1xuICAgICAgICAgIGlmIChub2RlVHlwZUFycmF5LmluZGV4T2YoZWxlbVswXS5ub2RlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCd0YWJpbmRleCcpICYmICFlbGVtLmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICBlbGVtLmF0dHIoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdiaW5kS2V5cHJlc3MnKSAmJiAhYXR0ci5uZ0tleXByZXNzICYmIGlzTm9kZU9uZU9mKGVsZW0sIFsnRElWJywgJ0xJJ10pKSB7XG4gICAgICAgICAgZWxlbS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDMyIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICBmbihzY29wZSwgeyAkZXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdEYmxjbGljaycsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIHtcbiAgICBpZiAoJGFyaWEuY29uZmlnKCd0YWJpbmRleCcpICYmICFlbGVtLmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjEzXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoganNoaW50IG1heGxlbjogZmFsc2UgKi9cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FuaW1hdGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBbmltYXRlYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgSmF2YVNjcmlwdCwgQ1NTMyB0cmFuc2l0aW9uIGFuZCBDU1MzIGtleWZyYW1lIGFuaW1hdGlvbiBob29rcyB3aXRoaW4gZXhpc3RpbmcgY29yZSBhbmQgY3VzdG9tIGRpcmVjdGl2ZXMuXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ0FuaW1hdGVcIj48L2Rpdj5cbiAqXG4gKiAjIFVzYWdlXG4gKlxuICogVG8gc2VlIGFuaW1hdGlvbnMgaW4gYWN0aW9uLCBhbGwgdGhhdCBpcyByZXF1aXJlZCBpcyB0byBkZWZpbmUgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzc2VzXG4gKiBvciB0byByZWdpc3RlciBhIEphdmFTY3JpcHQgYW5pbWF0aW9uIHZpYSB0aGUgYG15TW9kdWxlLmFuaW1hdGlvbigpYCBmdW5jdGlvbi4gVGhlIGRpcmVjdGl2ZXMgdGhhdCBzdXBwb3J0IGFuaW1hdGlvbiBhdXRvbWF0aWNhbGx5IGFyZTpcbiAqIGBuZ1JlcGVhdGAsIGBuZ0luY2x1ZGVgLCBgbmdJZmAsIGBuZ1N3aXRjaGAsIGBuZ1Nob3dgLCBgbmdIaWRlYCwgYG5nVmlld2AgYW5kIGBuZ0NsYXNzYC4gQ3VzdG9tIGRpcmVjdGl2ZXMgY2FuIHRha2UgYWR2YW50YWdlIG9mIGFuaW1hdGlvblxuICogYnkgdXNpbmcgdGhlIGAkYW5pbWF0ZWAgc2VydmljZS5cbiAqXG4gKiBCZWxvdyBpcyBhIG1vcmUgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBzdXBwb3J0ZWQgYW5pbWF0aW9uIGV2ZW50cyBwcm92aWRlZCBieSBwcmUtZXhpc3RpbmcgbmcgZGlyZWN0aXZlczpcbiAqXG4gKiB8IERpcmVjdGl2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU3VwcG9ydGVkIEFuaW1hdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0I2FuaW1hdGlvbnMgbmdSZXBlYXR9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyLCBsZWF2ZSBhbmQgbW92ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcjYW5pbWF0aW9ucyBuZ1ZpZXd9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUjYW5pbWF0aW9ucyBuZ0luY2x1ZGV9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3dpdGNoI2FuaW1hdGlvbnMgbmdTd2l0Y2h9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJZiNhbmltYXRpb25zIG5nSWZ9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzI2FuaW1hdGlvbnMgbmdDbGFzc30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhZGQgYW5kIHJlbW92ZSAodGhlIENTUyBjbGFzcyhlcykgcHJlc2VudCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU2hvdyNhbmltYXRpb25zIG5nU2hvd30gJiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSGlkZSNhbmltYXRpb25zIG5nSGlkZX0gICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlICh0aGUgbmctaGlkZSBjbGFzcyB2YWx1ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSNhbmltYXRpb24taG9va3MgZm9ybX0gJiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWwjYW5pbWF0aW9uLWhvb2tzIG5nTW9kZWx9ICAgIHwgYWRkIGFuZCByZW1vdmUgKGRpcnR5LCBwcmlzdGluZSwgdmFsaWQsIGludmFsaWQgJiBhbGwgb3RoZXIgdmFsaWRhdGlvbnMpIHxcbiAqIHwge0BsaW5rIG1vZHVsZTpuZ01lc3NhZ2VzI2FuaW1hdGlvbnMgbmdNZXNzYWdlc30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhZGQgYW5kIHJlbW92ZSAobmctYWN0aXZlICYgbmctaW5hY3RpdmUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbW9kdWxlOm5nTWVzc2FnZXMjYW5pbWF0aW9ucyBuZ01lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogWW91IGNhbiBmaW5kIG91dCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGFuaW1hdGlvbnMgdXBvbiB2aXNpdGluZyBlYWNoIGRpcmVjdGl2ZSBwYWdlLlxuICpcbiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgb2YgaG93IHRvIGFwcGx5IGFuaW1hdGlvbnMgdG8gYSBkaXJlY3RpdmUgdGhhdCBzdXBwb3J0cyBhbmltYXRpb24gaG9va3M6XG4gKlxuICogYGBgaHRtbFxuICogPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICogLnNsaWRlLm5nLWVudGVyLCAuc2xpZGUubmctbGVhdmUge1xuICogICAtd2Via2l0LXRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAuc2xpZGUubmctZW50ZXIgeyB9ICAgICAgICAvJiM0Mjsgc3RhcnRpbmcgYW5pbWF0aW9ucyBmb3IgZW50ZXIgJiM0MjsvXG4gKiAuc2xpZGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHsgfSAvJiM0MjsgdGVybWluYWwgYW5pbWF0aW9ucyBmb3IgZW50ZXIgJiM0MjsvXG4gKiAuc2xpZGUubmctbGVhdmUgeyB9ICAgICAgICAvJiM0Mjsgc3RhcnRpbmcgYW5pbWF0aW9ucyBmb3IgbGVhdmUgJiM0MjsvXG4gKiAuc2xpZGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHsgfSAvJiM0MjsgdGVybWluYWwgYW5pbWF0aW9ucyBmb3IgbGVhdmUgJiM0MjsvXG4gKiA8L3N0eWxlPlxuICpcbiAqIDwhLS1cbiAqIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCAubmctZW50ZXIgYW5kIC5uZy1sZWF2ZSB0byB0aGUgZWxlbWVudFxuICogdG8gdHJpZ2dlciB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uc1xuICogLS0+XG4gKiA8QU5ZIGNsYXNzPVwic2xpZGVcIiBuZy1pbmNsdWRlPVwiLi4uXCI+PC9BTlk+XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYnkgZGVmYXVsdCwgaWYgYW4gYW5pbWF0aW9uIGlzIHJ1bm5pbmcsIGFueSBjaGlsZCBlbGVtZW50cyBjYW5ub3QgYmUgYW5pbWF0ZWRcbiAqIHVudGlsIHRoZSBwYXJlbnQgZWxlbWVudCdzIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLiBUaGlzIGJsb2NraW5nIGZlYXR1cmUgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIHBsYWNpbmcgdGhlIGBuZy1hbmltYXRlLWNoaWxkcmVuYCBhdHRyaWJ1dGUgb24gYSBwYXJlbnQgY29udGFpbmVyIHRhZy5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0aW9uXCIgbmctaWY9XCJvblwiIG5nLWFuaW1hdGUtY2hpbGRyZW4+XG4gKiAgIDxkaXYgY2xhc3M9XCJmYWRlLWFuaW1hdGlvblwiIG5nLWlmPVwib25cIj5cbiAqICAgICA8ZGl2IGNsYXNzPVwiZXhwbG9kZS1hbmltYXRpb25cIiBuZy1pZj1cIm9uXCI+XG4gKiAgICAgICAgLi4uXG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgb25gIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcyBhbmQgYW4gYW5pbWF0aW9uIGlzIHRyaWdnZXJlZCB0aGVuIGVhY2ggb2YgdGhlIGVsZW1lbnRzIHdpdGhpblxuICogd2lsbCBhbGwgYW5pbWF0ZSB3aXRob3V0IHRoZSBibG9jayBiZWluZyBhcHBsaWVkIHRvIGNoaWxkIGVsZW1lbnRzLlxuICpcbiAqICMjIEFyZSBhbmltYXRpb25zIHJ1biB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHM/XG4gKiBObyB0aGV5IGFyZSBub3QuIFdoZW4gYW4gYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkIEFuZ3VsYXIgd2lsbCBkaXNhYmxlIGFuaW1hdGlvbnMgZnJvbSBydW5uaW5nIHRvIGF2b2lkXG4gKiBhIGZyZW56eSBvZiBhbmltYXRpb25zIGZyb20gYmVpbmcgdHJpZ2dlcmVkIGFzIHNvb24gYXMgdGhlIGJyb3dzZXIgaGFzIHJlbmRlcmVkIHRoZSBzY3JlZW4uIEZvciB0aGlzIHRvIHdvcmssXG4gKiBBbmd1bGFyIHdpbGwgd2FpdCBmb3IgdHdvIGRpZ2VzdCBjeWNsZXMgdW50aWwgZW5hYmxpbmcgYW5pbWF0aW9ucy4gRnJvbSB0aGVyZSBvbiwgYW55IGFuaW1hdGlvbi10cmlnZ2VyaW5nXG4gKiBsYXlvdXQgY2hhbmdlcyBpbiB0aGUgYXBwbGljYXRpb24gd2lsbCB0cmlnZ2VyIGFuaW1hdGlvbnMgYXMgbm9ybWFsLlxuICpcbiAqIEluIGFkZGl0aW9uLCB1cG9uIGJvb3RzdHJhcCwgaWYgdGhlIHJvdXRpbmcgc3lzdGVtIG9yIGFueSBkaXJlY3RpdmVzIG9yIGxvYWQgcmVtb3RlIGRhdGEgKHZpYSAkaHR0cCkgdGhlbiBBbmd1bGFyXG4gKiB3aWxsIGF1dG9tYXRpY2FsbHkgZXh0ZW5kIHRoZSB3YWl0IHRpbWUgdG8gZW5hYmxlIGFuaW1hdGlvbnMgb25jZSAqKmFsbCoqIG9mIHRoZSBvdXRib3VuZCBIVFRQIHJlcXVlc3RzXG4gKiBhcmUgY29tcGxldGUuXG4gKlxuICogIyMgQ1NTLWRlZmluZWQgQW5pbWF0aW9uc1xuICogVGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYXBwbHkgdHdvIENTUyBjbGFzc2VzIHRvIHRoZSBhbmltYXRlZCBlbGVtZW50IGFuZCB0aGVzZSB0d28gQ1NTIGNsYXNzZXNcbiAqIGFyZSBkZXNpZ25lZCB0byBjb250YWluIHRoZSBzdGFydCBhbmQgZW5kIENTUyBzdHlsaW5nLiBCb3RoIENTUyB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucyBhcmUgc3VwcG9ydGVkXG4gKiBhbmQgY2FuIGJlIHVzZWQgdG8gcGxheSBhbG9uZyB3aXRoIHRoaXMgbmFtaW5nIHN0cnVjdHVyZS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGNvZGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byBwZXJmb3JtIGFuaW1hdGlvbnMgdXNpbmcgKipDU1MgdHJhbnNpdGlvbnMqKiB3aXRoIEFuZ3VsYXI6XG4gKlxuICogYGBgaHRtbFxuICogPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICogLyYjNDI7XG4gKiAgVGhlIGFuaW1hdGUgY2xhc3MgaXMgYXBhcnQgb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBuZy1lbnRlciBjbGFzc1xuICogIGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IG9uY2UgdGhlIGVudGVyIGFuaW1hdGlvbiBldmVudCBpcyB0cmlnZ2VyZWRcbiAqICYjNDI7L1xuICogLnJldmVhbC1hbmltYXRpb24ubmctZW50ZXIge1xuICogIC13ZWJraXQtdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDsgLyYjNDI7IFNhZmFyaS9DaHJvbWUgJiM0MjsvXG4gKiAgdHJhbnNpdGlvbjogMXMgbGluZWFyIGFsbDsgLyYjNDI7IEFsbCBvdGhlciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFMTArICYjNDI7L1xuICpcbiAqICAvJiM0MjsgVGhlIGFuaW1hdGlvbiBwcmVwYXJhdGlvbiBjb2RlICYjNDI7L1xuICogIG9wYWNpdHk6IDA7XG4gKiB9XG4gKlxuICogLyYjNDI7XG4gKiAgS2VlcCBpbiBtaW5kIHRoYXQgeW91IHdhbnQgdG8gY29tYmluZSBib3RoIENTU1xuICogIGNsYXNzZXMgdG9nZXRoZXIgdG8gYXZvaWQgYW55IENTUy1zcGVjaWZpY2l0eVxuICogIGNvbmZsaWN0c1xuICogJiM0MjsvXG4gKiAucmV2ZWFsLWFuaW1hdGlvbi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogIC8mIzQyOyBUaGUgYW5pbWF0aW9uIGNvZGUgaXRzZWxmICYjNDI7L1xuICogIG9wYWNpdHk6IDE7XG4gKiB9XG4gKiA8L3N0eWxlPlxuICpcbiAqIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICogICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJyZXZlYWwtYW5pbWF0aW9uXCI+PC9kaXY+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgY29kZSBiZWxvdyBkZW1vbnN0cmF0ZXMgaG93IHRvIHBlcmZvcm0gYW5pbWF0aW9ucyB1c2luZyAqKkNTUyBhbmltYXRpb25zKiogd2l0aCBBbmd1bGFyOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5cbiAqIC5yZXZlYWwtYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgLXdlYmtpdC1hbmltYXRpb246IGVudGVyX3NlcXVlbmNlIDFzIGxpbmVhcjsgLyYjNDI7IFNhZmFyaS9DaHJvbWUgJiM0MjsvXG4gKiAgIGFuaW1hdGlvbjogZW50ZXJfc2VxdWVuY2UgMXMgbGluZWFyOyAvJiM0MjsgSUUxMCsgYW5kIEZ1dHVyZSBCcm93c2VycyAmIzQyOy9cbiAqIH1cbiAqIEAtd2Via2l0LWtleWZyYW1lcyBlbnRlcl9zZXF1ZW5jZSB7XG4gKiAgIGZyb20geyBvcGFjaXR5OjA7IH1cbiAqICAgdG8geyBvcGFjaXR5OjE7IH1cbiAqIH1cbiAqIEBrZXlmcmFtZXMgZW50ZXJfc2VxdWVuY2Uge1xuICogICBmcm9tIHsgb3BhY2l0eTowOyB9XG4gKiAgIHRvIHsgb3BhY2l0eToxOyB9XG4gKiB9XG4gKiA8L3N0eWxlPlxuICpcbiAqIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICogICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJyZXZlYWwtYW5pbWF0aW9uXCI+PC9kaXY+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIEJvdGggQ1NTMyBhbmltYXRpb25zIGFuZCB0cmFuc2l0aW9ucyBjYW4gYmUgdXNlZCB0b2dldGhlciBhbmQgdGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgZHVyYXRpb24gYW5kIGRlbGF5IHRpbWluZy5cbiAqXG4gKiBVcG9uIERPTSBtdXRhdGlvbiwgdGhlIGV2ZW50IGNsYXNzIGlzIGFkZGVkIGZpcnN0IChzb21ldGhpbmcgbGlrZSBgbmctZW50ZXJgKSwgdGhlbiB0aGUgYnJvd3NlciBwcmVwYXJlcyBpdHNlbGYgdG8gYWRkXG4gKiB0aGUgYWN0aXZlIGNsYXNzIChpbiB0aGlzIGNhc2UgYG5nLWVudGVyLWFjdGl2ZWApIHdoaWNoIHRoZW4gdHJpZ2dlcnMgdGhlIGFuaW1hdGlvbi4gVGhlIGFuaW1hdGlvbiBtb2R1bGUgd2lsbCBhdXRvbWF0aWNhbGx5XG4gKiBkZXRlY3QgdGhlIENTUyBjb2RlIHRvIGRldGVybWluZSB3aGVuIHRoZSBhbmltYXRpb24gZW5kcy4gT25jZSB0aGUgYW5pbWF0aW9uIGlzIG92ZXIgdGhlbiBib3RoIENTUyBjbGFzc2VzIHdpbGwgYmVcbiAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NLiBJZiBhIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbnMgb3IgQ1NTIGFuaW1hdGlvbnMgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgc3RhcnQgYW5kIGVuZFxuICogaW1tZWRpYXRlbHkgcmVzdWx0aW5nIGluIGEgRE9NIGVsZW1lbnQgdGhhdCBpcyBhdCBpdHMgZmluYWwgc3RhdGUuIFRoaXMgZmluYWwgc3RhdGUgaXMgd2hlbiB0aGUgRE9NIGVsZW1lbnRcbiAqIGhhcyBubyBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24gY2xhc3NlcyBhcHBsaWVkIHRvIGl0LlxuICpcbiAqICMjIyBTdHJ1Y3R1cmFsIHRyYW5zaXRpb24gYW5pbWF0aW9uc1xuICpcbiAqIFN0cnVjdHVyYWwgdHJhbnNpdGlvbnMgKHN1Y2ggYXMgZW50ZXIsIGxlYXZlIGFuZCBtb3ZlKSB3aWxsIGFsd2F5cyBhcHBseSBhIGAwcyBub25lYCB0cmFuc2l0aW9uXG4gKiB2YWx1ZSB0byBmb3JjZSB0aGUgYnJvd3NlciBpbnRvIHJlbmRlcmluZyB0aGUgc3R5bGVzIGRlZmluZWQgaW4gdGhlIHNldHVwIChgLm5nLWVudGVyYCwgYC5uZy1sZWF2ZWBcbiAqIG9yIGAubmctbW92ZWApIGNsYXNzLiBUaGlzIG1lYW5zIHRoYXQgYW55IGFjdGl2ZSB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgb3BlcmF0aW5nIG9uIHRoZSBlbGVtZW50XG4gKiB3aWxsIGJlIGN1dCBvZmYgdG8gbWFrZSB3YXkgZm9yIHRoZSBlbnRlciwgbGVhdmUgb3IgbW92ZSBhbmltYXRpb24uXG4gKlxuICogIyMjIENsYXNzLWJhc2VkIHRyYW5zaXRpb24gYW5pbWF0aW9uc1xuICpcbiAqIENsYXNzLWJhc2VkIHRyYW5zaXRpb25zIHJlZmVyIHRvIHRyYW5zaXRpb24gYW5pbWF0aW9ucyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiBhIENTUyBjbGFzcyBpc1xuICogYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICh2aWEgYCRhbmltYXRlLmFkZENsYXNzYCwgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCxcbiAqIGAkYW5pbWF0ZS5zZXRDbGFzc2AsIG9yIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsIGBuZ01vZGVsYCBhbmQgYGZvcm1gKS5cbiAqIFRoZXkgYXJlIGRpZmZlcmVudCB3aGVuIGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9ucyBzaW5jZSB0aGV5ICoqZG8gbm90IGNhbmNlbCBleGlzdGluZ1xuICogYW5pbWF0aW9ucyoqIG5vciBkbyB0aGV5ICoqYmxvY2sgc3VjY2Vzc2l2ZSB0cmFuc2l0aW9ucyoqIGZyb20gcmVuZGVyaW5nIG9uIHRoZSBzYW1lIGVsZW1lbnQuXG4gKiBUaGlzIGRpc3RpbmN0aW9uIGFsbG93cyBmb3IgKiptdWx0aXBsZSBjbGFzcy1iYXNlZCB0cmFuc2l0aW9ucyoqIHRvIGJlIHBlcmZvcm1lZCBvbiB0aGUgc2FtZSBlbGVtZW50LlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIG5nQW5pbWF0ZSBzdXBwb3J0aW5nIHRoZSBkZWZhdWx0IChuYXR1cmFsKSBmdW5jdGlvbmFsaXR5IG9mIGNsYXNzLWJhc2VkIHRyYW5zaXRpb25cbiAqIGFuaW1hdGlvbnMsIG5nQW5pbWF0ZSBhbHNvIGRlY29yYXRlcyB0aGUgZWxlbWVudCB3aXRoIHN0YXJ0aW5nIGFuZCBlbmRpbmcgQ1NTIGNsYXNzZXMgdG8gYWlkIHRoZVxuICogZGV2ZWxvcGVyIGluIGZ1cnRoZXIgc3R5bGluZyB0aGUgZWxlbWVudCB0aHJvdWdob3V0IHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbi4gRWFybGllciB2ZXJzaW9uc1xuICogb2YgbmdBbmltYXRlIG1heSBoYXZlIGNhdXNlZCBuYXR1cmFsIENTUyB0cmFuc2l0aW9ucyB0byBicmVhayBhbmQgbm90IHJlbmRlciBwcm9wZXJseSBkdWUgdG9cbiAqICRhbmltYXRlIHRlbXBvcmFyaWx5IGJsb2NraW5nIHRyYW5zaXRpb25zIHVzaW5nIGAwcyBub25lYCBpbiBvcmRlciB0byBhbGxvdyB0aGUgc2V0dXAgQ1NTIGNsYXNzXG4gKiAodGhlIGAtYWRkYCBvciBgLXJlbW92ZWAgY2xhc3MpIHRvIGJlIGFwcGxpZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGFuaW1hdGlvbi4gSG93ZXZlciwgYXMgb2ZcbiAqICoqdmVyc2lvbiAxLjMqKiwgdGhpcyB3b3JrYXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQgd2l0aCBuZ0FuaW1hdGUgYW5kIGFsbCBub24tbmdBbmltYXRlIENTU1xuICogY2xhc3MgdHJhbnNpdGlvbnMgYXJlIGNvbXBhdGlibGUgd2l0aCBuZ0FuaW1hdGUuXG4gKlxuICogVGhlcmUgaXMsIGhvd2V2ZXIsIG9uZSBzcGVjaWFsIGNhc2Ugd2hlbiBkZWFsaW5nIHdpdGggY2xhc3MtYmFzZWQgdHJhbnNpdGlvbnMgaW4gbmdBbmltYXRlLlxuICogV2hlbiByZW5kZXJpbmcgY2xhc3MtYmFzZWQgdHJhbnNpdGlvbnMgdGhhdCBtYWtlIHVzZSBvZiB0aGUgc2V0dXAgYW5kIGFjdGl2ZSBDU1MgY2xhc3Nlc1xuICogKGUuZy4gYC5mYWRlLWFkZGAgYW5kIGAuZmFkZS1hZGQtYWN0aXZlYCBmb3Igd2hlbiBgLmZhZGVgIGlzIGFkZGVkKSBiZSBzdXJlIHRvIGRlZmluZVxuICogdGhlIHRyYW5zaXRpb24gdmFsdWUgKipvbiB0aGUgYWN0aXZlIENTUyBjbGFzcyoqIGFuZCBub3QgdGhlIHNldHVwIGNsYXNzLlxuICpcbiAqIGBgYGNzc1xuICogLmZhZGUtYWRkIHtcbiAqICAgLyYjNDI7IHJlbWVtYmVyIHRvIHBsYWNlIGEgMHMgdHJhbnNpdGlvbiBoZXJlXG4gKiAgICAgIHRvIGVuc3VyZSB0aGF0IHRoZSBzdHlsZXMgYXJlIGFwcGxpZWQgaW5zdGFudGx5XG4gKiAgICAgIGV2ZW4gaWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSB0cmFuc2l0aW9uIHN0eWxlICYjNDI7L1xuICogICB0cmFuc2l0aW9uOjBzIGxpbmVhciBhbGw7XG4gKlxuICogICAvJiM0Mjsgc3RhcnRpbmcgQ1NTIHN0eWxlcyAmIzQyOy9cbiAqICAgb3BhY2l0eToxO1xuICogfVxuICogLmZhZGUtYWRkLmZhZGUtYWRkLWFjdGl2ZSB7XG4gKiAgIC8mIzQyOyB0aGlzIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB0aGUgYW5pbWF0aW9uICYjNDI7L1xuICogICB0cmFuc2l0aW9uOjFzIGxpbmVhciBhbGw7XG4gKiAgIG9wYWNpdHk6MDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBzZXR1cCBDU1MgY2xhc3MgKGluIHRoaXMgY2FzZSBgLmZhZGUtYWRkYCkgYWxzbyBoYXMgYSB0cmFuc2l0aW9uIHN0eWxlIHByb3BlcnR5LCBob3dldmVyLCBpdFxuICogaGFzIGEgZHVyYXRpb24gb2YgemVyby4gVGhpcyBtYXkgbm90IGJlIHJlcXVpcmVkLCBob3dldmVyLCBpbmNhc2UgdGhlIGJyb3dzZXIgaXMgdW5hYmxlIHRvIHJlbmRlclxuICogdGhlIHN0eWxpbmcgcHJlc2VudCBpbiB0aGlzIENTUyBjbGFzcyBpbnN0YW50bHkgdGhlbiBpdCBjb3VsZCBiZSB0aGF0IHRoZSBicm93c2VyIGlzIGF0dGVtcHRpbmdcbiAqIHRvIHBlcmZvcm0gYW4gdW5uZWNlc3NhcnkgdHJhbnNpdGlvbi5cbiAqXG4gKiBUaGlzIHdvcmthcm91bmQsIGhvd2V2ZXIsIGRvZXMgbm90IGFwcGx5IHRvICBzdGFuZGFyZCBjbGFzcy1iYXNlZCB0cmFuc2l0aW9ucyB0aGF0IGFyZSByZW5kZXJlZFxuICogd2hlbiBhIENTUyBjbGFzcyBjb250YWluaW5nIGEgdHJhbnNpdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGVsZW1lbnQ6XG4gKlxuICogYGBgY3NzXG4gKiAvJiM0MjsgdGhpcyB3b3JrcyBhcyBleHBlY3RlZCAmIzQyOy9cbiAqIC5mYWRlIHtcbiAqICAgdHJhbnNpdGlvbjoxcyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBQbGVhc2Uga2VlcCB0aGlzIGluIG1pbmQgd2hlbiBjb2RpbmcgdGhlIENTUyBtYXJrdXAgdGhhdCB3aWxsIGJlIHVzZWQgd2l0aGluIGNsYXNzLWJhc2VkIHRyYW5zaXRpb25zLlxuICogQWxzbywgdHJ5IG5vdCB0byBtaXggdGhlIHR3byBjbGFzcy1iYXNlZCBhbmltYXRpb24gZmxhdm9ycyB0b2dldGhlciBzaW5jZSB0aGUgQ1NTIGNvZGUgbWF5IGJlY29tZVxuICogb3Zlcmx5IGNvbXBsZXguXG4gKlxuICpcbiAqICMjIyBQcmV2ZW50aW5nIENvbGxpc2lvbnMgV2l0aCBUaGlyZCBQYXJ0eSBMaWJyYXJpZXNcbiAqXG4gKiBTb21lIHRoaXJkLXBhcnR5IGZyYW1ld29ya3MgcGxhY2UgYW5pbWF0aW9uIGR1cmF0aW9uIGRlZmF1bHRzIGFjcm9zcyBtYW55IGVsZW1lbnQgb3IgY2xhc3NOYW1lXG4gKiBzZWxlY3RvcnMgaW4gb3JkZXIgdG8gbWFrZSB0aGVpciBjb2RlIHNtYWxsIGFuZCByZXVzZWFibGUuIFRoaXMgY2FuIGxlYWQgdG8gaXNzdWVzIHdpdGggbmdBbmltYXRlLCB3aGljaFxuICogaXMgZXhwZWN0aW5nIGFjdHVhbCBhbmltYXRpb25zIG9uIHRoZXNlIGVsZW1lbnRzIGFuZCBoYXMgdG8gd2FpdCBmb3IgdGhlaXIgY29tcGxldGlvbi5cbiAqXG4gKiBZb3UgY2FuIHByZXZlbnQgdGhpcyB1bndhbnRlZCBiZWhhdmlvciBieSB1c2luZyBhIHByZWZpeCBvbiBhbGwgeW91ciBhbmltYXRpb24gY2xhc3NlczpcbiAqXG4gKiBgYGBjc3NcbiAqIC8mIzQyOyBwcmVmaXhlZCB3aXRoIGFuaW1hdGUtICYjNDI7L1xuICogLmFuaW1hdGUtZmFkZS1hZGQuYW5pbWF0ZS1mYWRlLWFkZC1hY3RpdmUge1xuICogICB0cmFuc2l0aW9uOjFzIGxpbmVhciBhbGw7XG4gKiAgIG9wYWNpdHk6MDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFlvdSB0aGVuIGNvbmZpZ3VyZSBgJGFuaW1hdGVgIHRvIGVuZm9yY2UgdGhpcyBwcmVmaXg6XG4gKlxuICogYGBganNcbiAqICRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKC9hbmltYXRlLS8pO1xuICogYGBgXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMgQ1NTIFN0YWdnZXJpbmcgQW5pbWF0aW9uc1xuICogQSBTdGFnZ2VyaW5nIGFuaW1hdGlvbiBpcyBhIGNvbGxlY3Rpb24gb2YgYW5pbWF0aW9ucyB0aGF0IGFyZSBpc3N1ZWQgd2l0aCBhIHNsaWdodCBkZWxheSBpbiBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBvcGVyYXRpb24gcmVzdWx0aW5nIGluIGFcbiAqIGN1cnRhaW4tbGlrZSBlZmZlY3QuIFRoZSBuZ0FuaW1hdGUgbW9kdWxlICh2ZXJzaW9ucyA+PTEuMikgc3VwcG9ydHMgc3RhZ2dlcmluZyBhbmltYXRpb25zIGFuZCB0aGUgc3RhZ2dlciBlZmZlY3QgY2FuIGJlXG4gKiBwZXJmb3JtZWQgYnkgY3JlYXRpbmcgYSAqKm5nLUVWRU5ULXN0YWdnZXIqKiBDU1MgY2xhc3MgYW5kIGF0dGFjaGluZyB0aGF0IGNsYXNzIHRvIHRoZSBiYXNlIENTUyBjbGFzcyB1c2VkIGZvclxuICogdGhlIGFuaW1hdGlvbi4gVGhlIHN0eWxlIHByb3BlcnR5IGV4cGVjdGVkIHdpdGhpbiB0aGUgc3RhZ2dlciBjbGFzcyBjYW4gZWl0aGVyIGJlIGEgKip0cmFuc2l0aW9uLWRlbGF5Kiogb3IgYW5cbiAqICoqYW5pbWF0aW9uLWRlbGF5KiogcHJvcGVydHkgKG9yIGJvdGggaWYgeW91ciBhbmltYXRpb24gY29udGFpbnMgYm90aCB0cmFuc2l0aW9ucyBhbmQga2V5ZnJhbWUgYW5pbWF0aW9ucykuXG4gKlxuICogYGBgY3NzXG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgLyYjNDI7IHN0YW5kYXJkIHRyYW5zaXRpb24gY29kZSAmIzQyOy9cbiAqICAgLXdlYmtpdC10cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyLXN0YWdnZXIge1xuICogICAvJiM0MjsgdGhpcyB3aWxsIGhhdmUgYSAxMDBtcyBkZWxheSBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBsZWF2ZSBhbmltYXRpb24gJiM0MjsvXG4gKiAgIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMC4xcztcbiAqICAgdHJhbnNpdGlvbi1kZWxheTogMC4xcztcbiAqXG4gKiAgIC8mIzQyOyBpbiBjYXNlIHRoZSBzdGFnZ2VyIGRvZXNuJ3Qgd29yayB0aGVuIHRoZXNlIHR3byB2YWx1ZXNcbiAqICAgIG11c3QgYmUgc2V0IHRvIDAgdG8gYXZvaWQgYW4gYWNjaWRlbnRhbCBDU1MgaW5oZXJpdGFuY2UgJiM0MjsvXG4gKiAgIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogMHM7XG4gKiAgIHRyYW5zaXRpb24tZHVyYXRpb246IDBzO1xuICogfVxuICogLm15LWFuaW1hdGlvbi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICAvJiM0Mjsgc3RhbmRhcmQgdHJhbnNpdGlvbiBzdHlsZXMgJiM0MjsvXG4gKiAgIG9wYWNpdHk6MTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFN0YWdnZXJpbmcgYW5pbWF0aW9ucyB3b3JrIGJ5IGRlZmF1bHQgaW4gbmdSZXBlYXQgKHNvIGxvbmcgYXMgdGhlIENTUyBjbGFzcyBpcyBkZWZpbmVkKS4gT3V0c2lkZSBvZiBuZ1JlcGVhdCwgdG8gdXNlIHN0YWdnZXJpbmcgYW5pbWF0aW9uc1xuICogb24geW91ciBvd24sIHRoZXkgY2FuIGJlIHRyaWdnZXJlZCBieSBmaXJpbmcgbXVsdGlwbGUgY2FsbHMgdG8gdGhlIHNhbWUgZXZlbnQgb24gJGFuaW1hdGUuIEhvd2V2ZXIsIHRoZSByZXN0cmljdGlvbnMgc3Vycm91bmRpbmcgdGhpc1xuICogYXJlIHRoYXQgZWFjaCBvZiB0aGUgZWxlbWVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIENTUyBjbGFzc05hbWUgdmFsdWUgYXMgd2VsbCBhcyB0aGUgc2FtZSBwYXJlbnQgZWxlbWVudC4gQSBzdGFnZ2VyIG9wZXJhdGlvblxuICogd2lsbCBhbHNvIGJlIHJlc2V0IGlmIG1vcmUgdGhhbiAxMG1zIGhhcyBwYXNzZWQgYWZ0ZXIgdGhlIGxhc3QgYW5pbWF0aW9uIGhhcyBiZWVuIGZpcmVkLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgY29kZSB3aWxsIGlzc3VlIHRoZSAqKm5nLWxlYXZlLXN0YWdnZXIqKiBldmVudCBvbiB0aGUgZWxlbWVudCBwcm92aWRlZDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIGtpZHMgPSBwYXJlbnQuY2hpbGRyZW4oKTtcbiAqXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzBdKTsgLy9zdGFnZ2VyIGluZGV4PTBcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbMV0pOyAvL3N0YWdnZXIgaW5kZXg9MVxuICogJGFuaW1hdGUubGVhdmUoa2lkc1syXSk7IC8vc3RhZ2dlciBpbmRleD0yXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzNdKTsgLy9zdGFnZ2VyIGluZGV4PTNcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbNF0pOyAvL3N0YWdnZXIgaW5kZXg9NFxuICpcbiAqICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAvL3N0YWdnZXIgaGFzIHJlc2V0IGl0c2VsZlxuICogICAkYW5pbWF0ZS5sZWF2ZShraWRzWzVdKTsgLy9zdGFnZ2VyIGluZGV4PTBcbiAqICAgJGFuaW1hdGUubGVhdmUoa2lkc1s2XSk7IC8vc3RhZ2dlciBpbmRleD0xXG4gKiB9LCAxMDAsIGZhbHNlKTtcbiAqIGBgYFxuICpcbiAqIFN0YWdnZXIgYW5pbWF0aW9ucyBhcmUgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIHdpdGhpbiBDU1MtZGVmaW5lZCBhbmltYXRpb25zLlxuICpcbiAqICMjIEphdmFTY3JpcHQtZGVmaW5lZCBBbmltYXRpb25zXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCB5b3UgZG8gbm90IHdhbnQgdG8gdXNlIENTUzMgdHJhbnNpdGlvbnMgb3IgQ1NTMyBhbmltYXRpb25zIG9yIGlmIHlvdSB3aXNoIHRvIG9mZmVyIGFuaW1hdGlvbnMgb24gYnJvd3NlcnMgdGhhdCBkbyBub3RcbiAqIHlldCBzdXBwb3J0IENTUyB0cmFuc2l0aW9ucy9hbmltYXRpb25zLCB0aGVuIHlvdSBjYW4gbWFrZSB1c2Ugb2YgSmF2YVNjcmlwdCBhbmltYXRpb25zIGRlZmluZWQgaW5zaWRlIG9mIHlvdXIgQW5ndWxhckpTIG1vZHVsZS5cbiAqXG4gKiBgYGBqc1xuICogLy8hYW5ub3RhdGU9XCJZb3VyQXBwXCIgWW91ciBBbmd1bGFySlMgTW9kdWxlfFJlcGxhY2UgdGhpcyBvciBuZ01vZHVsZSB3aXRoIHRoZSBtb2R1bGUgdGhhdCB5b3UgdXNlZCB0byBkZWZpbmUgeW91ciBhcHBsaWNhdGlvbi5cbiAqIHZhciBuZ01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdZb3VyQXBwJywgWyduZ0FuaW1hdGUnXSk7XG4gKiBuZ01vZHVsZS5hbmltYXRpb24oJy5teS1jcmF6eS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICogICAgICAgLy9ydW4gdGhlIGFuaW1hdGlvbiBoZXJlIGFuZCBjYWxsIGRvbmUgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24oY2FuY2VsbGVkKSB7XG4gKiAgICAgICAgIC8vdGhpcyAob3B0aW9uYWwpIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvblxuICogICAgICAgICAvL2NvbXBsZXRlcyBvciB3aGVuIHRoZSBhbmltYXRpb24gaXMgY2FuY2VsbGVkICh0aGUgY2FuY2VsbGVkXG4gKiAgICAgICAgIC8vZmxhZyB3aWxsIGJlIHNldCB0byB0cnVlIGlmIGNhbmNlbGxlZCkuXG4gKiAgICAgICB9O1xuICogICAgIH0sXG4gKiAgICAgbGVhdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHsgfSxcbiAqICAgICBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7IH0sXG4gKlxuICogICAgIC8vYW5pbWF0aW9uIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFkZGVkXG4gKiAgICAgYmVmb3JlQWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYWZ0ZXIgdGhlIGNsYXNzIGlzIGFkZGVkXG4gKiAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkXG4gKiAgICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkgeyB9LFxuICpcbiAqICAgICAvL2FuaW1hdGlvbiB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYWZ0ZXIgdGhlIGNsYXNzIGlzIHJlbW92ZWRcbiAqICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7IH1cbiAqICAgfTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgYXJlIGNyZWF0ZWQgd2l0aCBhIENTUy1saWtlIGNsYXNzIHNlbGVjdG9yIGFuZCBhIGNvbGxlY3Rpb24gb2YgZXZlbnRzIHdoaWNoIGFyZSBzZXQgdG8gcnVuXG4gKiBhIGphdmFzY3JpcHQgY2FsbGJhY2sgZnVuY3Rpb24uIFdoZW4gYW4gYW5pbWF0aW9uIGlzIHRyaWdnZXJlZCwgJGFuaW1hdGUgd2lsbCBsb29rIGZvciBhIG1hdGNoaW5nIGFuaW1hdGlvbiB3aGljaCBmaXRzXG4gKiB0aGUgZWxlbWVudCdzIENTUyBjbGFzcyBhdHRyaWJ1dGUgdmFsdWUgYW5kIHRoZW4gcnVuIHRoZSBtYXRjaGluZyBhbmltYXRpb24gZXZlbnQgZnVuY3Rpb24gKGlmIGZvdW5kKS5cbiAqIEluIG90aGVyIHdvcmRzLCBpZiB0aGUgQ1NTIGNsYXNzZXMgcHJlc2VudCBvbiB0aGUgYW5pbWF0ZWQgZWxlbWVudCBtYXRjaCBhbnkgb2YgdGhlIEphdmFTY3JpcHQgYW5pbWF0aW9ucyB0aGVuIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsXG4gKiBiZSBleGVjdXRlZC4gSXQgc2hvdWxkIGJlIGFsc28gbm90ZWQgdGhhdCBvbmx5IHNpbXBsZSwgc2luZ2xlIGNsYXNzIHNlbGVjdG9ycyBhcmUgYWxsb3dlZCAoY29tcG91bmQgY2xhc3Mgc2VsZWN0b3JzIGFyZSBub3Qgc3VwcG9ydGVkKS5cbiAqXG4gKiBXaXRoaW4gYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBldmVudCBjYWxsYmFjayBhbmltYXRpb24gZnVuY3Rpb25zIGlzIGV4cGVjdGVkIHRvIGJlIHJldHVybmVkLlxuICogQXMgZXhwbGFpbmVkIGFib3ZlLCB0aGVzZSBjYWxsYmFja3MgYXJlIHRyaWdnZXJlZCBiYXNlZCBvbiB0aGUgYW5pbWF0aW9uIGV2ZW50LiBUaGVyZWZvcmUgaWYgYW4gZW50ZXIgYW5pbWF0aW9uIGlzIHJ1bixcbiAqIGFuZCB0aGUgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZm91bmQsIHRoZW4gdGhlIGVudGVyIGNhbGxiYWNrIHdpbGwgaGFuZGxlIHRoYXQgYW5pbWF0aW9uIChpbiBhZGRpdGlvbiB0byB0aGUgQ1NTIGtleWZyYW1lIGFuaW1hdGlvblxuICogb3IgdHJhbnNpdGlvbiBjb2RlIHRoYXQgaXMgZGVmaW5lZCB2aWEgYSBzdHlsZXNoZWV0KS5cbiAqXG4gKlxuICogIyMjIEFwcGx5aW5nIERpcmVjdGl2ZS1zcGVjaWZpYyBTdHlsZXMgdG8gYW4gQW5pbWF0aW9uXG4gKiBJbiBzb21lIGNhc2VzIGEgZGlyZWN0aXZlIG9yIHNlcnZpY2UgbWF5IHdhbnQgdG8gcHJvdmlkZSBgJGFuaW1hdGVgIHdpdGggZXh0cmEgZGV0YWlscyB0aGF0IHRoZSBhbmltYXRpb24gd2lsbFxuICogaW5jbHVkZSBpbnRvIGl0cyBhbmltYXRpb24uIExldCdzIHNheSBmb3IgZXhhbXBsZSB3ZSB3YW50ZWQgdG8gcmVuZGVyIGFuIGFuaW1hdGlvbiB0aGF0IGFuaW1hdGVzIGFuIGVsZW1lbnRcbiAqIHRvd2FyZHMgdGhlIG1vdXNlIGNvb3JkaW5hdGVzIGFzIHRvIHdoZXJlIHRoZSB1c2VyIGNsaWNrZWQgbGFzdC4gQnkgY29sbGVjdGluZyB0aGUgWC9ZIGNvb3JkaW5hdGVzIG9mIHRoZSBjbGlja1xuICogKHZpYSB0aGUgZXZlbnQgcGFyYW1ldGVyKSB3ZSBjYW4gc2V0IHRoZSBgdG9wYCBhbmQgYGxlZnRgIHN0eWxlcyBpbnRvIGFuIG9iamVjdCBhbmQgcGFzcyB0aGF0IGludG8gb3VyIGZ1bmN0aW9uXG4gKiBjYWxsIHRvIGAkYW5pbWF0ZS5hZGRDbGFzc2AuXG4gKlxuICogYGBganNcbiAqIGNhbnZhcy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gKiAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdvbicsIHtcbiAqICAgICB0bzoge1xuICogICAgICAgbGVmdCA6IGUuY2xpZW50LnggKyAncHgnLFxuICogICAgICAgdG9wIDogZS5jbGllbnQueSArICdweCdcbiAqICAgICB9XG4gKiAgIH0pOlxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBOb3cgd2hlbiB0aGUgYW5pbWF0aW9uIHJ1bnMsIGFuZCBhIHRyYW5zaXRpb24gb3Iga2V5ZnJhbWUgYW5pbWF0aW9uIGlzIHBpY2tlZCB1cCwgdGhlbiB0aGUgYW5pbWF0aW9uIGl0c2VsZiB3aWxsXG4gKiBhbHNvIGluY2x1ZGUgYW5kIHRyYW5zaXRpb24gdGhlIHN0eWxpbmcgb2YgdGhlIGBsZWZ0YCBhbmQgYHRvcGAgcHJvcGVydGllcyBpbnRvIGl0cyBydW5uaW5nIGFuaW1hdGlvbi4gSWYgd2Ugd2FudFxuICogdG8gcHJvdmlkZSBzb21lIHN0YXJ0aW5nIGFuaW1hdGlvbiB2YWx1ZXMgdGhlbiB3ZSBjYW4gZG8gc28gYnkgcGxhY2luZyB0aGUgc3RhcnRpbmcgYW5pbWF0aW9ucyBzdHlsZXMgaW50byBhbiBvYmplY3RcbiAqIGNhbGxlZCBgZnJvbWAgaW4gdGhlIHNhbWUgb2JqZWN0IGFzIHRoZSBgdG9gIGFuaW1hdGlvbnMuXG4gKlxuICogYGBganNcbiAqIGNhbnZhcy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gKiAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdvbicsIHtcbiAqICAgICBmcm9tOiB7XG4gKiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gKiAgICAgICAgbGVmdDogJzBweCcsXG4gKiAgICAgICAgdG9wOiAnMHB4J1xuICogICAgIH0sXG4gKiAgICAgdG86IHtcbiAqICAgICAgIGxlZnQgOiBlLmNsaWVudC54ICsgJ3B4JyxcbiAqICAgICAgIHRvcCA6IGUuY2xpZW50LnkgKyAncHgnXG4gKiAgICAgfVxuICogICB9KTpcbiAqIH0pO1xuICogYGBgXG4gKlxuICogT25jZSB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlIG9yIGNhbmNlbGxlZCB0aGVuIHRoZSB1bmlvbiBvZiBib3RoIHRoZSBiZWZvcmUgYW5kIGFmdGVyIHN0eWxlcyBhcmUgYXBwbGllZCB0byB0aGVcbiAqIGVsZW1lbnQuIElmIGBuZ0FuaW1hdGVgIGlzIG5vdCBwcmVzZW50IHRoZW4gdGhlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgaW1tZWRpYXRlbHkuXG4gKlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCduZ0FuaW1hdGUnLCBbJ25nJ10pXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm92aWRlclxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBUaGUgYCRhbmltYXRlUHJvdmlkZXJgIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJlZ2lzdGVyIEphdmFTY3JpcHQgYW5pbWF0aW9uIGV2ZW50IGhhbmRsZXJzIGRpcmVjdGx5IGluc2lkZSBvZiBhIG1vZHVsZS5cbiAgICogV2hlbiBhbiBhbmltYXRpb24gaXMgdHJpZ2dlcmVkLCB0aGUgJGFuaW1hdGUgc2VydmljZSB3aWxsIHF1ZXJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlIHRvIGZpbmQgYW55IGFuaW1hdGlvbnMgdGhhdCBtYXRjaFxuICAgKiB0aGUgcHJvdmlkZWQgbmFtZSB2YWx1ZS5cbiAgICpcbiAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0FuaW1hdGUgYG5nQW5pbWF0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAqXG4gICAqIFBsZWFzZSB2aXNpdCB0aGUge0BsaW5rIG5nQW5pbWF0ZSBgbmdBbmltYXRlYH0gbW9kdWxlIG92ZXJ2aWV3IHBhZ2UgbGVhcm4gbW9yZSBhYm91dCBob3cgdG8gdXNlIGFuaW1hdGlvbnMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICovXG4gIC5kaXJlY3RpdmUoJ25nQW5pbWF0ZUNoaWxkcmVuJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIE5HX0FOSU1BVEVfQ0hJTERSRU4gPSAnJCRuZ0FuaW1hdGVDaGlsZHJlbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIHZhbCA9IGF0dHJzLm5nQW5pbWF0ZUNoaWxkcmVuO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwKSB7IC8vZW1wdHkgYXR0cmlidXRlXG4gICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCh2YWwsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU4sICEhdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC8vdGhpcyBwcml2YXRlIHNlcnZpY2UgaXMgb25seSB1c2VkIHdpdGhpbiBDU1MtZW5hYmxlZCBhbmltYXRpb25zXG4gIC8vSUU4ICsgSUU5IGRvIG5vdCBzdXBwb3J0IHJBRiBuYXRpdmVseSwgYnV0IHRoYXQgaXMgZmluZSBzaW5jZSB0aGV5XG4gIC8vYWxzbyBkb24ndCBzdXBwb3J0IHRyYW5zaXRpb25zIGFuZCBrZXlmcmFtZXMgd2hpY2ggbWVhbnMgdGhhdCB0aGUgY29kZVxuICAvL2JlbG93IHdpbGwgbmV2ZXIgYmUgdXNlZCBieSB0aGUgdHdvIGJyb3dzZXJzLlxuICAuZmFjdG9yeSgnJCRhbmltYXRlUmVmbG93JywgWyckJHJBRicsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkJHJBRiwgJGRvY3VtZW50KSB7XG4gICAgdmFyIGJvZCA9ICRkb2N1bWVudFswXS5ib2R5O1xuICAgIHJldHVybiBmdW5jdGlvbihmbikge1xuICAgICAgLy90aGUgcmV0dXJuZWQgZnVuY3Rpb24gYWN0cyBhcyB0aGUgY2FuY2VsbGF0aW9uIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vdGhlIGxpbmUgYmVsb3cgd2lsbCBmb3JjZSB0aGUgYnJvd3NlciB0byBwZXJmb3JtIGEgcmVwYWludFxuICAgICAgICAvL3NvIHRoYXQgYWxsIHRoZSBhbmltYXRlZCBlbGVtZW50cyB3aXRoaW4gdGhlIGFuaW1hdGlvbiBmcmFtZVxuICAgICAgICAvL3dpbGwgYmUgcHJvcGVybHkgdXBkYXRlZCBhbmQgZHJhd24gb24gc2NyZWVuLiBUaGlzIGlzXG4gICAgICAgIC8vcmVxdWlyZWQgdG8gcGVyZm9ybSBtdWx0aS1jbGFzcyBDU1MgYmFzZWQgYW5pbWF0aW9ucyB3aXRoXG4gICAgICAgIC8vRmlyZWZveC4gRE8gTk9UIFJFTU9WRSBUSElTIExJTkUuXG4gICAgICAgIHZhciBhID0gYm9kLm9mZnNldFdpZHRoICsgMTtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1dKVxuXG4gIC5jb25maWcoWyckcHJvdmlkZScsICckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHByb3ZpZGUsICRhbmltYXRlUHJvdmlkZXIpIHtcbiAgICB2YXIgbm9vcCA9IGFuZ3VsYXIubm9vcDtcbiAgICB2YXIgZm9yRWFjaCA9IGFuZ3VsYXIuZm9yRWFjaDtcbiAgICB2YXIgc2VsZWN0b3JzID0gJGFuaW1hdGVQcm92aWRlci4kJHNlbGVjdG9ycztcbiAgICB2YXIgaXNBcnJheSA9IGFuZ3VsYXIuaXNBcnJheTtcbiAgICB2YXIgaXNTdHJpbmcgPSBhbmd1bGFyLmlzU3RyaW5nO1xuICAgIHZhciBpc09iamVjdCA9IGFuZ3VsYXIuaXNPYmplY3Q7XG5cbiAgICB2YXIgRUxFTUVOVF9OT0RFID0gMTtcbiAgICB2YXIgTkdfQU5JTUFURV9TVEFURSA9ICckJG5nQW5pbWF0ZVN0YXRlJztcbiAgICB2YXIgTkdfQU5JTUFURV9DSElMRFJFTiA9ICckJG5nQW5pbWF0ZUNoaWxkcmVuJztcbiAgICB2YXIgTkdfQU5JTUFURV9DTEFTU19OQU1FID0gJ25nLWFuaW1hdGUnO1xuICAgIHZhciByb290QW5pbWF0ZVN0YXRlID0ge3J1bm5pbmc6IHRydWV9O1xuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxtID0gZWxlbWVudFtpXTtcbiAgICAgICAgaWYgKGVsbS5ub2RlVHlwZSA9PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICByZXR1cm4gZWxtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNYXRjaGluZ0VsZW1lbnQoZWxtMSwgZWxtMikge1xuICAgICAgcmV0dXJuIGV4dHJhY3RFbGVtZW50Tm9kZShlbG0xKSA9PSBleHRyYWN0RWxlbWVudE5vZGUoZWxtMik7XG4gICAgfVxuICAgIHZhciAkJGpxTGl0ZTtcbiAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRhbmltYXRlJyxcbiAgICAgICAgWyckZGVsZWdhdGUnLCAnJCRxJywgJyRpbmplY3RvcicsICckc25pZmZlcicsICckcm9vdEVsZW1lbnQnLCAnJCRhc3luY0NhbGxiYWNrJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJCRqcUxpdGUnLFxuIGZ1bmN0aW9uKCRkZWxlZ2F0ZSwgICAkJHEsICAgJGluamVjdG9yLCAgICRzbmlmZmVyLCAgICRyb290RWxlbWVudCwgICAkJGFzeW5jQ2FsbGJhY2ssICAgJHJvb3RTY29wZSwgICAkZG9jdW1lbnQsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkJCRqcUxpdGUpIHtcblxuICAgICAgJCRqcUxpdGUgPSAkJCRqcUxpdGU7XG4gICAgICAkcm9vdEVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLCByb290QW5pbWF0ZVN0YXRlKTtcblxuICAgICAgLy8gV2FpdCB1bnRpbCBhbGwgZGlyZWN0aXZlIGFuZCByb3V0ZS1yZWxhdGVkIHRlbXBsYXRlcyBhcmUgZG93bmxvYWRlZCBhbmRcbiAgICAgIC8vIGNvbXBpbGVkLiBUaGUgJHRlbXBsYXRlUmVxdWVzdC50b3RhbFBlbmRpbmdSZXF1ZXN0cyB2YXJpYWJsZSBrZWVwcyB0cmFjayBvZlxuICAgICAgLy8gYWxsIG9mIHRoZSByZW1vdGUgdGVtcGxhdGVzIGJlaW5nIGN1cnJlbnRseSBkb3dubG9hZGVkLiBJZiB0aGVyZSBhcmUgbm9cbiAgICAgIC8vIHRlbXBsYXRlcyBjdXJyZW50bHkgZG93bmxvYWRpbmcgdGhlbiB0aGUgd2F0Y2hlciB3aWxsIHN0aWxsIGZpcmUgYW55d2F5LlxuICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaCA9ICRyb290U2NvcGUuJHdhdGNoKFxuICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuICR0ZW1wbGF0ZVJlcXVlc3QudG90YWxQZW5kaW5nUmVxdWVzdHM7IH0sXG4gICAgICAgIGZ1bmN0aW9uKHZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgaWYgKHZhbCAhPT0gMCkgcmV0dXJuO1xuICAgICAgICAgIGRlcmVnaXN0ZXJXYXRjaCgpO1xuXG4gICAgICAgICAgLy8gTm93IHRoYXQgYWxsIHRlbXBsYXRlcyBoYXZlIGJlZW4gZG93bmxvYWRlZCwgJGFuaW1hdGUgd2lsbCB3YWl0IHVudGlsXG4gICAgICAgICAgLy8gdGhlIHBvc3QgZGlnZXN0IHF1ZXVlIGlzIGVtcHR5IGJlZm9yZSBlbmFibGluZyBhbmltYXRpb25zLiBCeSBoYXZpbmcgdHdvXG4gICAgICAgICAgLy8gY2FsbHMgdG8gJHBvc3REaWdlc3QgY2FsbHMgd2UgY2FuIGVuc3VyZSB0aGF0IHRoZSBmbGFnIGlzIGVuYWJsZWQgYXQgdGhlXG4gICAgICAgICAgLy8gdmVyeSBlbmQgb2YgdGhlIHBvc3QgZGlnZXN0IHF1ZXVlLiBTaW5jZSBhbGwgb2YgdGhlIGFuaW1hdGlvbnMgaW4gJGFuaW1hdGVcbiAgICAgICAgICAvLyB1c2UgJHBvc3REaWdlc3QsIGl0J3MgaW1wb3J0YW50IHRoYXQgdGhlIGNvZGUgYmVsb3cgZXhlY3V0ZXMgYXQgdGhlIGVuZC5cbiAgICAgICAgICAvLyBUaGlzIGJhc2ljYWxseSBtZWFucyB0aGF0IHRoZSBwYWdlIGlzIGZ1bGx5IGRvd25sb2FkZWQgYW5kIGNvbXBpbGVkIGJlZm9yZVxuICAgICAgICAgIC8vIGFueSBhbmltYXRpb25zIGFyZSB0cmlnZ2VyZWQuXG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgdmFyIGdsb2JhbEFuaW1hdGlvbkNvdW50ZXIgPSAwO1xuICAgICAgdmFyIGNsYXNzTmFtZUZpbHRlciA9ICRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKCk7XG4gICAgICB2YXIgaXNBbmltYXRhYmxlQ2xhc3NOYW1lID0gIWNsYXNzTmFtZUZpbHRlclxuICAgICAgICAgICAgICA/IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICA6IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc05hbWVGaWx0ZXIudGVzdChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgc2V0dGVyKSB7XG4gICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpIHx8IHt9O1xuICAgICAgICBpZiAoc2V0dGVyKSB7XG4gICAgICAgICAgZGF0YS5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICBkYXRhLnN0cnVjdHVyYWwgPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YS5kaXNhYmxlZCB8fCAoZGF0YS5ydW5uaW5nICYmIGRhdGEuc3RydWN0dXJhbCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZm4pIHtcbiAgICAgICAgdmFyIGNhbmNlbEZuLCBkZWZlciA9ICQkcS5kZWZlcigpO1xuICAgICAgICBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjYW5jZWxGbiAmJiBjYW5jZWxGbigpO1xuICAgICAgICB9O1xuICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjYW5jZWxGbiA9IGZuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBzb21lIHBsdWdpbiBjb2RlIG1heSBzdGlsbCBiZSBwYXNzaW5nIGluIHRoZSBjYWxsYmFja1xuICAgICAgICAvLyBmdW5jdGlvbiBhcyB0aGUgbGFzdCBwYXJhbSBmb3IgdGhlICRhbmltYXRlIG1ldGhvZHMgc29cbiAgICAgICAgLy8gaXQncyBiZXN0IHRvIG9ubHkgYWxsb3cgc3RyaW5nIG9yIGFycmF5IHZhbHVlcyBmb3Igbm93XG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICAgIGlmIChvcHRpb25zLnRlbXBDbGFzc2VzICYmIGlzU3RyaW5nKG9wdGlvbnMudGVtcENsYXNzZXMpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRlbXBDbGFzc2VzID0gb3B0aW9ucy50ZW1wQ2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgY2FjaGUsIHJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgIHJ1bm5pbmdBbmltYXRpb25zID0gcnVubmluZ0FuaW1hdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIGxvb2t1cCA9IHt9O1xuICAgICAgICBmb3JFYWNoKHJ1bm5pbmdBbmltYXRpb25zLCBmdW5jdGlvbihkYXRhLCBzZWxlY3Rvcikge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0b3Iuc3BsaXQoJyAnKSwgZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgbG9va3VwW3NdPWRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBoYXNDbGFzc2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yRWFjaCgoZWxlbWVudC5hdHRyKCdjbGFzcycpIHx8ICcnKS5zcGxpdCgvXFxzKy8pLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICBoYXNDbGFzc2VzW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdG9BZGQgPSBbXSwgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yRWFjaCgoY2FjaGUgJiYgY2FjaGUuY2xhc3NlcykgfHwgW10sIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdmFyIGhhc0NsYXNzID0gaGFzQ2xhc3Nlc1tjbGFzc05hbWVdO1xuICAgICAgICAgIHZhciBtYXRjaGluZ0FuaW1hdGlvbiA9IGxvb2t1cFtjbGFzc05hbWVdIHx8IHt9O1xuXG4gICAgICAgICAgLy8gV2hlbiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgaXMgY2FsbGVkIHRoZW4gJGFuaW1hdGUgd2lsbCBjaGVjayB0b1xuICAgICAgICAgIC8vIHNlZSBpZiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgY2FuY2VsIGVhY2ggb3RoZXIgb3V0LiBXaGVuIHRoZXJlIGFyZVxuICAgICAgICAgIC8vIG1vcmUgY2FsbHMgdG8gcmVtb3ZlQ2xhc3MgdGhhbiBhZGRDbGFzcyB0aGVuIHRoZSBjb3VudCBmYWxscyBiZWxvdyAwXG4gICAgICAgICAgLy8gYW5kIHRoZW4gdGhlIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiB3aWxsIGJlIGFsbG93ZWQuIE90aGVyd2lzZSBpZiB0aGVcbiAgICAgICAgICAvLyBjb3VudCBpcyBhYm92ZSAwIHRoZW4gdGhhdCBtZWFucyBhbiBhZGRDbGFzcyBhbmltYXRpb24gd2lsbCBjb21tZW5jZS5cbiAgICAgICAgICAvLyBPbmNlIGFuIGFuaW1hdGlvbiBpcyBhbGxvd2VkIHRoZW4gdGhlIGNvZGUgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZlxuICAgICAgICAgIC8vIHRoZXJlIGV4aXN0cyBhbnkgb24tZ29pbmcgYW5pbWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBhZGRpbmcgb3IgcmVtdm9pbmdcbiAgICAgICAgICAvLyB0aGUgbWF0Y2hpbmcgQ1NTIGNsYXNzLlxuICAgICAgICAgIGlmIChzdGF0dXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvL2RvZXMgaXQgaGF2ZSB0aGUgY2xhc3Mgb3Igd2lsbCBpdCBoYXZlIHRoZSBjbGFzc1xuICAgICAgICAgICAgaWYgKGhhc0NsYXNzIHx8IG1hdGNoaW5nQW5pbWF0aW9uLmV2ZW50ID09ICdhZGRDbGFzcycpIHtcbiAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvL2lzIHRoZSBjbGFzcyBtaXNzaW5nIG9yIHdpbGwgaXQgYmUgcmVtb3ZlZD9cbiAgICAgICAgICAgIGlmICghaGFzQ2xhc3MgfHwgbWF0Y2hpbmdBbmltYXRpb24uZXZlbnQgPT0gJ3JlbW92ZUNsYXNzJykge1xuICAgICAgICAgICAgICB0b0FkZC5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKHRvQWRkLmxlbmd0aCArIHRvUmVtb3ZlLmxlbmd0aCkgPiAwICYmIFt0b0FkZC5qb2luKCcgJyksIHRvUmVtb3ZlLmpvaW4oJyAnKV07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxvb2t1cChuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXSxcbiAgICAgICAgICAgICAgZmxhZ01hcCA9IHt9LFxuICAgICAgICAgICAgICBjbGFzc2VzID0gbmFtZS5zdWJzdHIoMSkuc3BsaXQoJy4nKTtcblxuICAgICAgICAgIC8vdGhlIGVtcHR5IHN0cmluZyB2YWx1ZSBpcyB0aGUgZGVmYXVsdCBhbmltYXRpb25cbiAgICAgICAgICAvL29wZXJhdGlvbiB3aGljaCBwZXJmb3JtcyBDU1MgdHJhbnNpdGlvbiBhbmQga2V5ZnJhbWVcbiAgICAgICAgICAvL2FuaW1hdGlvbnMgc25pZmZpbmcuIFRoaXMgaXMgYWx3YXlzIGluY2x1ZGVkIGZvciBlYWNoXG4gICAgICAgICAgLy9lbGVtZW50IGFuaW1hdGlvbiBwcm9jZWR1cmUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHNcbiAgICAgICAgICAvL3RyYW5zaXRpb25zIGFuZC9vciBrZXlmcmFtZSBhbmltYXRpb25zLiBUaGUgZGVmYXVsdFxuICAgICAgICAgIC8vYW5pbWF0aW9uIGlzIGFkZGVkIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3QgdG8gcHJldmVudFxuICAgICAgICAgIC8vYW55IHByZXZpb3VzIGFuaW1hdGlvbnMgZnJvbSBhZmZlY3RpbmcgdGhlIGVsZW1lbnQgc3R5bGluZ1xuICAgICAgICAgIC8vcHJpb3IgdG8gdGhlIGVsZW1lbnQgYmVpbmcgYW5pbWF0ZWQuXG4gICAgICAgICAgaWYgKCRzbmlmZmVyLnRyYW5zaXRpb25zIHx8ICRzbmlmZmVyLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yc1snJ10pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2xhc3MgPSBjbGFzc2VzW2ldLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yRmFjdG9yeU5hbWUgPSBzZWxlY3RvcnNba2xhc3NdO1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yRmFjdG9yeU5hbWUgJiYgIWZsYWdNYXBba2xhc3NdKSB7XG4gICAgICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yRmFjdG9yeU5hbWUpKTtcbiAgICAgICAgICAgICAgZmxhZ01hcFtrbGFzc10gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbmltYXRpb25SdW5uZXIoZWxlbWVudCwgYW5pbWF0aW9uRXZlbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICAvL3RyYW5zY2x1ZGVkIGRpcmVjdGl2ZXMgbWF5IHNvbWV0aW1lcyBmaXJlIGFuIGFuaW1hdGlvbiB1c2luZyBvbmx5IGNvbW1lbnQgbm9kZXNcbiAgICAgICAgLy9iZXN0IHRvIGNhdGNoIHRoaXMgZWFybHkgb24gdG8gcHJldmVudCBhbnkgYW5pbWF0aW9uIG9wZXJhdGlvbnMgZnJvbSBvY2N1cnJpbmdcbiAgICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMudG8gPSBvcHRpb25zLnRvIHx8IHt9O1xuICAgICAgICAgIG9wdGlvbnMuZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjbGFzc05hbWVBZGQ7XG4gICAgICAgIHZhciBjbGFzc05hbWVSZW1vdmU7XG4gICAgICAgIGlmIChpc0FycmF5KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICBjbGFzc05hbWVBZGQgPSBjbGFzc05hbWVbMF07XG4gICAgICAgICAgY2xhc3NOYW1lUmVtb3ZlID0gY2xhc3NOYW1lWzFdO1xuICAgICAgICAgIGlmICghY2xhc3NOYW1lQWRkKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVSZW1vdmU7XG4gICAgICAgICAgICBhbmltYXRpb25FdmVudCA9ICdyZW1vdmVDbGFzcyc7XG4gICAgICAgICAgfSBlbHNlIGlmICghY2xhc3NOYW1lUmVtb3ZlKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVBZGQ7XG4gICAgICAgICAgICBhbmltYXRpb25FdmVudCA9ICdhZGRDbGFzcyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZUFkZCArICcgJyArIGNsYXNzTmFtZVJlbW92ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNTZXRDbGFzc09wZXJhdGlvbiA9IGFuaW1hdGlvbkV2ZW50ID09ICdzZXRDbGFzcyc7XG4gICAgICAgIHZhciBpc0NsYXNzQmFzZWQgPSBpc1NldENsYXNzT3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAnYWRkQ2xhc3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAncmVtb3ZlQ2xhc3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25FdmVudCA9PSAnYW5pbWF0ZSc7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRDbGFzc05hbWUgPSBlbGVtZW50LmF0dHIoJ2NsYXNzJyk7XG4gICAgICAgIHZhciBjbGFzc2VzID0gY3VycmVudENsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKCFpc0FuaW1hdGFibGVDbGFzc05hbWUoY2xhc3NlcykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmVmb3JlQ29tcGxldGUgPSBub29wLFxuICAgICAgICAgICAgYmVmb3JlQ2FuY2VsID0gW10sXG4gICAgICAgICAgICBiZWZvcmUgPSBbXSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGUgPSBub29wLFxuICAgICAgICAgICAgYWZ0ZXJDYW5jZWwgPSBbXSxcbiAgICAgICAgICAgIGFmdGVyID0gW107XG5cbiAgICAgICAgdmFyIGFuaW1hdGlvbkxvb2t1cCA9ICgnICcgKyBjbGFzc2VzKS5yZXBsYWNlKC9cXHMrL2csJy4nKTtcbiAgICAgICAgZm9yRWFjaChsb29rdXAoYW5pbWF0aW9uTG9va3VwKSwgZnVuY3Rpb24oYW5pbWF0aW9uRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBjcmVhdGVkID0gcmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSwgYW5pbWF0aW9uRXZlbnQpO1xuICAgICAgICAgIGlmICghY3JlYXRlZCAmJiBpc1NldENsYXNzT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICByZWdpc3RlckFuaW1hdGlvbihhbmltYXRpb25GYWN0b3J5LCAnYWRkQ2xhc3MnKTtcbiAgICAgICAgICAgIHJlZ2lzdGVyQW5pbWF0aW9uKGFuaW1hdGlvbkZhY3RvcnksICdyZW1vdmVDbGFzcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSwgZXZlbnQpIHtcbiAgICAgICAgICB2YXIgYWZ0ZXJGbiA9IGFuaW1hdGlvbkZhY3RvcnlbZXZlbnRdO1xuICAgICAgICAgIHZhciBiZWZvcmVGbiA9IGFuaW1hdGlvbkZhY3RvcnlbJ2JlZm9yZScgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnN1YnN0cigxKV07XG4gICAgICAgICAgaWYgKGFmdGVyRm4gfHwgYmVmb3JlRm4pIHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PSAnbGVhdmUnKSB7XG4gICAgICAgICAgICAgIGJlZm9yZUZuID0gYWZ0ZXJGbjtcbiAgICAgICAgICAgICAgLy93aGVuIHNldCBhcyBudWxsIHRoZW4gYW5pbWF0aW9uIGtub3dzIHRvIHNraXAgdGhpcyBwaGFzZVxuICAgICAgICAgICAgICBhZnRlckZuID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyLnB1c2goe1xuICAgICAgICAgICAgICBldmVudDogZXZlbnQsIGZuOiBhZnRlckZuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJlZm9yZS5wdXNoKHtcbiAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LCBmbjogYmVmb3JlRm5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcnVuKGZucywgY2FuY2VsbGF0aW9ucywgYWxsQ29tcGxldGVGbikge1xuICAgICAgICAgIHZhciBhbmltYXRpb25zID0gW107XG4gICAgICAgICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uLmZuICYmIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICBmdW5jdGlvbiBhZnRlckFuaW1hdGlvbkNvbXBsZXRlKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9ucykge1xuICAgICAgICAgICAgICAoY2FuY2VsbGF0aW9uc1tpbmRleF0gfHwgbm9vcCkoKTtcbiAgICAgICAgICAgICAgaWYgKCsrY291bnQgPCBhbmltYXRpb25zLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsbENvbXBsZXRlRm4oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL1RoZSBjb2RlIGJlbG93IGFkZHMgZGlyZWN0bHkgdG8gdGhlIGFycmF5IGluIG9yZGVyIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIC8vYm90aCBzeW5jIGFuZCBhc3luYyBhbmltYXRpb25zLiBTeW5jIGFuaW1hdGlvbnMgYXJlIHdoZW4gdGhlIGRvbmUoKVxuICAgICAgICAgIC8vb3BlcmF0aW9uIGlzIGNhbGxlZCByaWdodCBhd2F5LiBETyBOT1QgUkVGQUNUT1IhXG4gICAgICAgICAgZm9yRWFjaChhbmltYXRpb25zLCBmdW5jdGlvbihhbmltYXRpb24sIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYWZ0ZXJBbmltYXRpb25Db21wbGV0ZShpbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoIChhbmltYXRpb24uZXZlbnQpIHtcbiAgICAgICAgICAgICAgY2FzZSAnc2V0Q2xhc3MnOlxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCwgY2xhc3NOYW1lQWRkLCBjbGFzc05hbWVSZW1vdmUsIHByb2dyZXNzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2FuaW1hdGUnOlxuICAgICAgICAgICAgICAgIGNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20sIG9wdGlvbnMudG8sIHByb2dyZXNzKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2FkZENsYXNzJzpcbiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQsIGNsYXNzTmFtZUFkZCB8fCBjbGFzc05hbWUsICAgICBwcm9ncmVzcywgb3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdyZW1vdmVDbGFzcyc6XG4gICAgICAgICAgICAgICAgY2FuY2VsbGF0aW9ucy5wdXNoKGFuaW1hdGlvbi5mbihlbGVtZW50LCBjbGFzc05hbWVSZW1vdmUgfHwgY2xhc3NOYW1lLCAgcHJvZ3Jlc3MsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQsIHByb2dyZXNzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9ucyAmJiBjYW5jZWxsYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgYWxsQ29tcGxldGVGbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBldmVudDogYW5pbWF0aW9uRXZlbnQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgaXNDbGFzc0Jhc2VkOiBpc0NsYXNzQmFzZWQsXG4gICAgICAgICAgaXNTZXRDbGFzc09wZXJhdGlvbjogaXNTZXRDbGFzc09wZXJhdGlvbixcbiAgICAgICAgICBhcHBseVN0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICBlbGVtZW50LmNzcyhhbmd1bGFyLmV4dGVuZChvcHRpb25zLmZyb20gfHwge30sIG9wdGlvbnMudG8gfHwge30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24oYWxsQ29tcGxldGVGbikge1xuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGUgPSBhbGxDb21wbGV0ZUZuO1xuICAgICAgICAgICAgcnVuKGJlZm9yZSwgYmVmb3JlQ2FuY2VsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYmVmb3JlQ29tcGxldGUgPSBub29wO1xuICAgICAgICAgICAgICBhbGxDb21wbGV0ZUZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbihhbGxDb21wbGV0ZUZuKSB7XG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlID0gYWxsQ29tcGxldGVGbjtcbiAgICAgICAgICAgIHJ1bihhZnRlciwgYWZ0ZXJDYW5jZWwsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBhZnRlckNvbXBsZXRlID0gbm9vcDtcbiAgICAgICAgICAgICAgYWxsQ29tcGxldGVGbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZUNhbmNlbCkge1xuICAgICAgICAgICAgICBmb3JFYWNoKGJlZm9yZUNhbmNlbCwgZnVuY3Rpb24oY2FuY2VsRm4pIHtcbiAgICAgICAgICAgICAgICAoY2FuY2VsRm4gfHwgbm9vcCkodHJ1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBiZWZvcmVDb21wbGV0ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlckNhbmNlbCkge1xuICAgICAgICAgICAgICBmb3JFYWNoKGFmdGVyQ2FuY2VsLCBmdW5jdGlvbihjYW5jZWxGbikge1xuICAgICAgICAgICAgICAgIChjYW5jZWxGbiB8fCBub29wKSh0cnVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFmdGVyQ29tcGxldGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZVxuICAgICAgICogQGtpbmQgb2JqZWN0XG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBUaGUgYCRhbmltYXRlYCBzZXJ2aWNlIHByb3ZpZGVzIGFuaW1hdGlvbiBkZXRlY3Rpb24gc3VwcG9ydCB3aGlsZSBwZXJmb3JtaW5nIERPTSBvcGVyYXRpb25zIChlbnRlciwgbGVhdmUgYW5kIG1vdmUpIGFzIHdlbGwgYXMgZHVyaW5nIGFkZENsYXNzIGFuZCByZW1vdmVDbGFzcyBvcGVyYXRpb25zLlxuICAgICAgICogV2hlbiBhbnkgb2YgdGhlc2Ugb3BlcmF0aW9ucyBhcmUgcnVuLCB0aGUgJGFuaW1hdGUgc2VydmljZVxuICAgICAgICogd2lsbCBleGFtaW5lIGFueSBKYXZhU2NyaXB0LWRlZmluZWQgYW5pbWF0aW9ucyAod2hpY2ggYXJlIGRlZmluZWQgYnkgdXNpbmcgdGhlICRhbmltYXRlUHJvdmlkZXIgcHJvdmlkZXIgb2JqZWN0KVxuICAgICAgICogYXMgd2VsbCBhcyBhbnkgQ1NTLWRlZmluZWQgYW5pbWF0aW9ucyBhZ2FpbnN0IHRoZSBDU1MgY2xhc3NlcyBwcmVzZW50IG9uIHRoZSBlbGVtZW50IG9uY2UgdGhlIERPTSBvcGVyYXRpb24gaXMgcnVuLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGFuaW1hdGVgIHNlcnZpY2UgaXMgdXNlZCBiZWhpbmQgdGhlIHNjZW5lcyB3aXRoIHByZS1leGlzdGluZyBkaXJlY3RpdmVzIGFuZCBhbmltYXRpb24gd2l0aCB0aGVzZSBkaXJlY3RpdmVzXG4gICAgICAgKiB3aWxsIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aG91dCBhbnkgZXh0cmEgY29uZmlndXJhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nQW5pbWF0ZSBgbmdBbmltYXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBQbGVhc2UgdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGUgYG5nQW5pbWF0ZWB9IG1vZHVsZSBvdmVydmlldyBwYWdlIGxlYXJuIG1vcmUgYWJvdXQgaG93IHRvIHVzZSBhbmltYXRpb25zIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgKiAjIyBDYWxsYmFjayBQcm9taXNlc1xuICAgICAgICogV2l0aCBBbmd1bGFySlMgMS4zLCBlYWNoIG9mIHRoZSBhbmltYXRpb24gbWV0aG9kcywgb24gdGhlIGAkYW5pbWF0ZWAgc2VydmljZSwgcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGNhbGxlZC4gVGhlXG4gICAgICAgKiBwcm9taXNlIGl0c2VsZiBpcyB0aGVuIHJlc29sdmVkIG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkIGl0c2VsZiwgaGFzIGJlZW4gY2FuY2VsbGVkIG9yIGhhcyBiZWVuXG4gICAgICAgKiBza2lwcGVkIGR1ZSB0byBhbmltYXRpb25zIGJlaW5nIGRpc2FibGVkLiAoTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIGFuaW1hdGlvbiBpcyBjYW5jZWxsZWQgaXQgd2lsbCBzdGlsbFxuICAgICAgICogY2FsbCB0aGUgcmVzb2x2ZSBmdW5jdGlvbiBvZiB0aGUgYW5pbWF0aW9uLilcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgY29udGFpbmVyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICogICAvLy4uLnRoaXMgaXMgY2FsbGVkIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBjb21wbGV0ZS4uLlxuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBBbHNvIG5vdGUgdGhhdCwgZHVlIHRvIHRoZSBuYXR1cmUgb2YgdGhlIGNhbGxiYWNrIHByb21pc2UsIGlmIGFueSBBbmd1bGFyLXNwZWNpZmljIGNvZGUgKGxpa2UgY2hhbmdpbmcgdGhlIHNjb3BlLFxuICAgICAgICogbG9jYXRpb24gb2YgdGhlIHBhZ2UsIGV0Yy4uLikgaXMgZXhlY3V0ZWQgd2l0aGluIHRoZSBjYWxsYmFjayBwcm9taXNlIHRoZW4gYmUgc3VyZSB0byB3cmFwIHRoZSBjb2RlIHVzaW5nXG4gICAgICAgKiBgJHNjb3BlLiRhcHBseSguLi4pYDtcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUubGVhdmUoZWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAqICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAqICAgICAkbG9jYXRpb24ucGF0aCgnL25ldy1wYWdlJyk7XG4gICAgICAgKiAgIH0pO1xuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBBbiBhbmltYXRpb24gY2FuIGFsc28gYmUgY2FuY2VsbGVkIGJ5IGNhbGxpbmcgdGhlIGAkYW5pbWF0ZS5jYW5jZWwocHJvbWlzZSlgIG1ldGhvZCB3aXRoIHRoZSBwcm92aWRlZFxuICAgICAgICogcHJvbWlzZSB0aGF0IHdhcyByZXR1cm5lZCB3aGVuIHRoZSBhbmltYXRpb24gd2FzIHN0YXJ0ZWQuXG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIHZhciBwcm9taXNlID0gJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgJ3N1cGVyLWxvbmctYW5pbWF0aW9uJyk7XG4gICAgICAgKiBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgKiAgIC8vdGhpcyB3aWxsIHN0aWxsIGJlIGNhbGxlZCBldmVuIGlmIGNhbmNlbGxlZFxuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAqICAgLy90b29vIGxhenkgdG8gd2FpdCBmb3IgdGhlIGFuaW1hdGlvbiB0byBlbmRcbiAgICAgICAqICAgJGFuaW1hdGUuY2FuY2VsKHByb21pc2UpO1xuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiAoS2VlcCBpbiBtaW5kIHRoYXQgdGhlIHByb21pc2UgY2FuY2VsbGF0aW9uIGlzIHVuaXF1ZSB0byBgJGFuaW1hdGVgIHNpbmNlIHByb21pc2VzIGluXG4gICAgICAgKiBnZW5lcmFsIGNhbm5vdCBiZSBjYW5jZWxsZWQuKVxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjYW5pbWF0ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUGVyZm9ybXMgYW4gaW5saW5lIGFuaW1hdGlvbiBvbiB0aGUgZWxlbWVudCB3aGljaCBhcHBsaWVzIHRoZSBwcm92aWRlZCBgdG9gIGFuZCBgZnJvbWAgQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAgICogSWYgYW55IGRldGVjdGVkIENTUyB0cmFuc2l0aW9uLCBrZXlmcmFtZSBvciBKYXZhU2NyaXB0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGBjbGFzc05hbWVgIHZhbHVlIHRoZW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgKiB3aWxsIHRha2Ugb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lIHRoZW4gdGhlXG4gICAgICAgICAqIHByb3ZpZGVkIGBmcm9tYCBhbmQgYHRvYCBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBpc1xuICAgICAgICAgKiBkZXRlY3RlZCB0aGVuIHRoZSBwcm92aWRlZCBzdHlsZXMgd2lsbCBiZSBnaXZlbiBpbiBhcyBmdW5jdGlvbiBwYXJhbXRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5nTW9kdWxlLmFuaW1hdGlvbignLm15LWlubGluZS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICByZXR1cm4ge1xuICAgICAgICAgKiAgICAgYW5pbWF0ZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZnJvbSwgdG8sIGRvbmUpIHtcbiAgICAgICAgICogICAgICAgLy9zdHlsZXNcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICogICB9XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyB0aGUgYGFuaW1hdGVgIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBBbmltYXRpb24gU3RlcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBXaGF0IHRoZSBlbGVtZW50IGNsYXNzIGF0dHJpYnV0ZSBsb29rcyBsaWtlICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmFuaW1hdGUoLi4uKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDIuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAzLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gdGhlIGBjbGFzc05hbWVgIGNsYXNzIHZhbHVlIGlzIGFkZGVkIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lXCJgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDUuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZVwiYCAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA2LiBgJGFuaW1hdGVgIGJsb2NrcyBhbGwgQ1NTIHRyYW5zaXRpb25zIG9uIHRoZSBlbGVtZW50IHRvIGVuc3VyZSB0aGUgYC5jbGFzc05hbWVgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5fCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWVcImAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCBhcHBsaWVzIHRoZSBwcm92aWRlZCBjb2xsZWN0aW9uIG9mIGBmcm9tYCBDU1Mgc3R5bGVzIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lXCJgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDguIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZVwiYCAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA5LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWVcImAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTAuIHRoZSBgY2xhc3NOYW1lLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgY2xhc3NOYW1lIGNsYXNzTmFtZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDExLiBgJGFuaW1hdGVgIGFwcGxpZXMgdGhlIGNvbGxlY3Rpb24gb2YgYHRvYCBDU1Mgc3R5bGVzIHRvIHRoZSBlbGVtZW50IHdoaWNoIGFyZSB0aGVuIGhhbmRsZWQgYnkgdGhlIHRyYW5zaXRpb24gICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIGNsYXNzTmFtZSBjbGFzc05hbWUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMi4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBjbGFzc05hbWUgY2xhc3NOYW1lLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTMuIFRoZSBhbmltYXRpb24gZW5kcyBhbmQgYWxsIGdlbmVyYXRlZCBDU1MgY2xhc3NlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDE0LiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSBhIGNvbGxlY3Rpb24gb2YgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhdCB0aGUgc3RhcnQgb2YgdGhlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gdG8gYSBjb2xsZWN0aW9uIG9mIENTUyBzdHlsZXMgdGhhdCB0aGUgZWxlbWVudCB3aWxsIGFuaW1hdGUgdG93YXJkc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGNsYXNzTmFtZSBhbiBvcHRpb25hbCBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiAodGhlIGRlZmF1bHQgY2xhc3MgaXMgYG5nLWlubGluZS1hbmltYXRlYClcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgJ25nLWlubGluZS1hbmltYXRlJztcbiAgICAgICAgICBvcHRpb25zID0gcGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB8fCB7fTtcbiAgICAgICAgICBvcHRpb25zLmZyb20gPSB0byA/IGZyb20gOiBudWxsO1xuICAgICAgICAgIG9wdGlvbnMudG8gICA9IHRvID8gdG8gOiBmcm9tO1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcmZvcm1BbmltYXRpb24oJ2FuaW1hdGUnLCBjbGFzc05hbWUsIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSwgbnVsbCwgbnVsbCwgbm9vcCwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW50ZXJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFwcGVuZHMgdGhlIGVsZW1lbnQgdG8gdGhlIHBhcmVudEVsZW1lbnQgZWxlbWVudCB0aGF0IHJlc2lkZXMgaW4gdGhlIGRvY3VtZW50IGFuZCB0aGVuIHJ1bnMgdGhlIGVudGVyIGFuaW1hdGlvbi4gT25jZVxuICAgICAgICAgKiB0aGUgYW5pbWF0aW9uIGlzIHN0YXJ0ZWQsIHRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgd2lsbCBiZSBwcmVzZW50IG9uIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBlbnRlciBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmVudGVyKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBlbGVtZW50IGlzIGluc2VydGVkIGludG8gdGhlIGBwYXJlbnRFbGVtZW50YCBlbGVtZW50IG9yIGJlc2lkZSB0aGUgYGFmdGVyRWxlbWVudGAgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gYCRhbmltYXRlYCBydW5zIHRoZSBKYXZhU2NyaXB0LWRlZmluZWQgYW5pbWF0aW9ucyBkZXRlY3RlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5uZy1lbnRlcmAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlclwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWVudGVyXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCBibG9ja3MgYWxsIENTUyB0cmFuc2l0aW9ucyBvbiB0aGUgZWxlbWVudCB0byBlbnN1cmUgdGhlIGAubmctZW50ZXJgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5IHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctZW50ZXJcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA4LiBgJGFuaW1hdGVgIHdhaXRzIGZvciBhIHNpbmdsZSBhbmltYXRpb24gZnJhbWUgKHRoaXMgcGVyZm9ybXMgYSByZWZsb3cpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlclwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIGAkYW5pbWF0ZWAgcmVtb3ZlcyB0aGUgQ1NTIHRyYW5zaXRpb24gYmxvY2sgcGxhY2VkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWVudGVyXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTAuIHRoZSBgLm5nLWVudGVyLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctZW50ZXIgbmctZW50ZXItYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMS4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1lbnRlciBuZy1lbnRlci1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDEyLiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMTMuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIHBhcmVudCBlbGVtZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB0aGUgZm9jdXMgb2YgdGhlIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyRWxlbWVudCB0aGUgc2libGluZyBlbGVtZW50ICh3aGljaCBpcyB0aGUgcHJldmlvdXMgZWxlbWVudCkgb2YgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgZW50ZXIgYW5pbWF0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBpY2tlZCB1cCBieSB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICAqL1xuICAgICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQoYWZ0ZXJFbGVtZW50KTtcblxuICAgICAgICAgIGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICAkZGVsZWdhdGUuZW50ZXIoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVyZm9ybUFuaW1hdGlvbignZW50ZXInLCAnbmctZW50ZXInLCBzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCksIHBhcmVudEVsZW1lbnQsIGFmdGVyRWxlbWVudCwgbm9vcCwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjbGVhdmVcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJ1bnMgdGhlIGxlYXZlIGFuaW1hdGlvbiBvcGVyYXRpb24gYW5kLCB1cG9uIGNvbXBsZXRpb24sIHJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLiBPbmNlXG4gICAgICAgICAqIHRoZSBhbmltYXRpb24gaXMgc3RhcnRlZCwgdGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyB3aWxsIGJlIGFkZGVkIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBsZWF2ZSBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLmxlYXZlKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBuZXh0IGRpZ2VzdCB0byBzdGFydCB0aGUgYW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gdGhlIGAubmctbGVhdmVgIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmVcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiBgJGFuaW1hdGVgIHNjYW5zIHRoZSBlbGVtZW50IHN0eWxlcyB0byBnZXQgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbiBkdXJhdGlvbiBhbmQgZGVsYXkgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1sZWF2ZVwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgYmxvY2tzIGFsbCBDU1MgdHJhbnNpdGlvbnMgb24gdGhlIGVsZW1lbnQgdG8gZW5zdXJlIHRoZSBgLm5nLWxlYXZlYCBjbGFzcyBzdHlsaW5nIGlzIGFwcGxpZWQgcmlnaHQgYXdheSB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWxlYXZlXCJgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmVcImAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA4LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1sZWF2ZVwiYCAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIHRoZSBgLm5nLWxlYXZlLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLWxlYXZlIG5nLWxlYXZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTAuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbGVhdmUgbmctbGVhdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMS4gVGhlIGFuaW1hdGlvbiBlbmRzIGFuZCBhbGwgZ2VuZXJhdGVkIENTUyBjbGFzc2VzIGFyZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEyLiBUaGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEzLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgbGVhdmUgYW5pbWF0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGNhbmNlbENoaWxkQW5pbWF0aW9ucyhlbGVtZW50KTtcbiAgICAgICAgICBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcmZvcm1BbmltYXRpb24oJ2xlYXZlJywgJ25nLWxlYXZlJywgc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLCBudWxsLCBudWxsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJGRlbGVnYXRlLmxlYXZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucywgZG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjbW92ZVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRmlyZXMgdGhlIG1vdmUgRE9NIG9wZXJhdGlvbi4gSnVzdCBiZWZvcmUgdGhlIGFuaW1hdGlvbiBzdGFydHMsIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBlaXRoZXIgYXBwZW5kIGl0IGludG8gdGhlIHBhcmVudEVsZW1lbnQgY29udGFpbmVyIG9yXG4gICAgICAgICAqIGFkZCB0aGUgZWxlbWVudCBkaXJlY3RseSBhZnRlciB0aGUgYWZ0ZXJFbGVtZW50IGVsZW1lbnQgaWYgcHJlc2VudC4gVGhlbiB0aGUgbW92ZSBhbmltYXRpb24gd2lsbCBiZSBydW4uIE9uY2VcbiAgICAgICAgICogdGhlIGFuaW1hdGlvbiBpcyBzdGFydGVkLCB0aGUgZm9sbG93aW5nIENTUyBjbGFzc2VzIHdpbGwgYmUgYWRkZWQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWxvdyBpcyBhIGJyZWFrZG93biBvZiBlYWNoIHN0ZXAgdGhhdCBvY2N1cnMgZHVyaW5nIG1vdmUgYW5pbWF0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IEFuaW1hdGlvbiBTdGVwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5tb3ZlKC4uLilgIGlzIGNhbGxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMi4gZWxlbWVudCBpcyBtb3ZlZCBpbnRvIHRoZSBwYXJlbnRFbGVtZW50IGVsZW1lbnQgb3IgYmVzaWRlIHRoZSBhZnRlckVsZW1lbnQgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb25cImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAzLiBgJGFuaW1hdGVgIHdhaXRzIGZvciB0aGUgbmV4dCBkaWdlc3QgdG8gc3RhcnQgdGhlIGFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlXCJgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgcnVucyB0aGUgSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgZGV0ZWN0ZWQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNS4gdGhlIGAubmctbW92ZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlXCJgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA2LiBgJGFuaW1hdGVgIHNjYW5zIHRoZSBlbGVtZW50IHN0eWxlcyB0byBnZXQgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbiBkdXJhdGlvbiBhbmQgZGVsYXkgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLW1vdmVcImAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgYmxvY2tzIGFsbCBDU1MgdHJhbnNpdGlvbnMgb24gdGhlIGVsZW1lbnQgdG8gZW5zdXJlIHRoZSBgLm5nLW1vdmVgIGNsYXNzIHN0eWxpbmcgaXMgYXBwbGllZCByaWdodCBhd2F5IHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbW92ZVwiYCAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgOC4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlXCJgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA5LiBgJGFuaW1hdGVgIHJlbW92ZXMgdGhlIENTUyB0cmFuc2l0aW9uIGJsb2NrIHBsYWNlZCBvbiB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG5nLW1vdmVcImAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEwLiB0aGUgYC5uZy1tb3ZlLWFjdGl2ZWAgY2xhc3MgaXMgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgbmctbW92ZSBuZy1tb3ZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgMTEuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBuZy1tb3ZlIG5nLW1vdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCAxMi4gVGhlIGFuaW1hdGlvbiBlbmRzIGFuZCBhbGwgZ2VuZXJhdGVkIENTUyBjbGFzc2VzIGFyZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEzLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgdGhlIGZvY3VzIG9mIHRoZSBtb3ZlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIHBhcmVudEVsZW1lbnQgZWxlbWVudCBvZiB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgdGhlIGZvY3VzIG9mIHRoZSBtb3ZlIGFuaW1hdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyRWxlbWVudCB0aGUgc2libGluZyBlbGVtZW50ICh3aGljaCBpcyB0aGUgcHJldmlvdXMgZWxlbWVudCkgb2YgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBmb2N1cyBvZiB0aGUgbW92ZSBhbmltYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygc3R5bGVzIHRoYXQgd2lsbCBiZSBwaWNrZWQgdXAgYnkgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAgKi9cbiAgICAgICAgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gcHJlcGFyZUVsZW1lbnQoYWZ0ZXJFbGVtZW50KTtcblxuICAgICAgICAgIGNhbmNlbENoaWxkQW5pbWF0aW9ucyhlbGVtZW50KTtcbiAgICAgICAgICBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgJGRlbGVnYXRlLm1vdmUoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVyZm9ybUFuaW1hdGlvbignbW92ZScsICduZy1tb3ZlJywgc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQsIG5vb3AsIG9wdGlvbnMsIGRvbmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUcmlnZ2VycyBhIGN1c3RvbSBhbmltYXRpb24gZXZlbnQgYmFzZWQgb2ZmIHRoZSBjbGFzc05hbWUgdmFyaWFibGUgYW5kIHRoZW4gYXR0YWNoZXMgdGhlIGNsYXNzTmFtZSB2YWx1ZSB0byB0aGUgZWxlbWVudCBhcyBhIENTUyBjbGFzcy5cbiAgICAgICAgICogVW5saWtlIHRoZSBvdGhlciBhbmltYXRpb24gbWV0aG9kcywgdGhlIGFuaW1hdGUgc2VydmljZSB3aWxsIHN1ZmZpeCB0aGUgY2xhc3NOYW1lIHZhbHVlIHdpdGgge0B0eXBlIC1hZGR9IGluIG9yZGVyIHRvIHByb3ZpZGVcbiAgICAgICAgICogdGhlIGFuaW1hdGUgc2VydmljZSB0aGUgc2V0dXAgYW5kIGFjdGl2ZSBDU1MgY2xhc3NlcyBpbiBvcmRlciB0byB0cmlnZ2VyIHRoZSBhbmltYXRpb24gKHRoaXMgd2lsbCBiZSBza2lwcGVkIGlmIG5vIENTUyB0cmFuc2l0aW9uc1xuICAgICAgICAgKiBvciBrZXlmcmFtZXMgYXJlIGRlZmluZWQgb24gdGhlIC1hZGQtYWN0aXZlIG9yIGJhc2UgQ1NTIGNsYXNzKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmVsb3cgaXMgYSBicmVha2Rvd24gb2YgZWFjaCBzdGVwIHRoYXQgb2NjdXJzIGR1cmluZyBhZGRDbGFzcyBhbmltYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgV2hhdCB0aGUgZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgbG9va3MgbGlrZSAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnc3VwZXInKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZVwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgMy4gdGhlIGAuc3VwZXItYWRkYCBjbGFzcyBpcyBhZGRlZCB0byB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItYWRkXCJgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIHN1cGVyLWFkZFwiYCAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5zdXBlcmAgYW5kIGAuc3VwZXItYWRkLWFjdGl2ZWAgY2xhc3NlcyBhcmUgYWRkZWQgKHRoaXMgdHJpZ2dlcnMgdGhlIENTUyB0cmFuc2l0aW9uL2FuaW1hdGlvbikgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBzdXBlciBzdXBlci1hZGQgc3VwZXItYWRkLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgNi4gYCRhbmltYXRlYCBzY2FucyB0aGUgZWxlbWVudCBzdHlsZXMgdG8gZ2V0IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24gZHVyYXRpb24gYW5kIGRlbGF5ICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXIgc3VwZXItYWRkIHN1cGVyLWFkZC1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIHN1cGVyIHN1cGVyLWFkZCBzdXBlci1hZGQtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCA4LiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gc3VwZXJcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgOS4gVGhlIHN1cGVyIGNsYXNzIGlzIGtlcHQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDEwLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBzdXBlclwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50IGFuZCB0aGVuIGFuaW1hdGVkXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIFtdLCBvcHRpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNyZW1vdmVDbGFzc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVHJpZ2dlcnMgYSBjdXN0b20gYW5pbWF0aW9uIGV2ZW50IGJhc2VkIG9mZiB0aGUgY2xhc3NOYW1lIHZhcmlhYmxlIGFuZCB0aGVuIHJlbW92ZXMgdGhlIENTUyBjbGFzcyBwcm92aWRlZCBieSB0aGUgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgICAqIGZyb20gdGhlIGVsZW1lbnQuIFVubGlrZSB0aGUgb3RoZXIgYW5pbWF0aW9uIG1ldGhvZHMsIHRoZSBhbmltYXRlIHNlcnZpY2Ugd2lsbCBzdWZmaXggdGhlIGNsYXNzTmFtZSB2YWx1ZSB3aXRoIHtAdHlwZSAtcmVtb3ZlfSBpblxuICAgICAgICAgKiBvcmRlciB0byBwcm92aWRlIHRoZSBhbmltYXRlIHNlcnZpY2UgdGhlIHNldHVwIGFuZCBhY3RpdmUgQ1NTIGNsYXNzZXMgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uICh0aGlzIHdpbGwgYmUgc2tpcHBlZCBpZlxuICAgICAgICAgKiBubyBDU1MgdHJhbnNpdGlvbnMgb3Iga2V5ZnJhbWVzIGFyZSBkZWZpbmVkIG9uIHRoZSAtcmVtb3ZlIG9yIGJhc2UgQ1NTIGNsYXNzZXMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWxvdyBpcyBhIGJyZWFrZG93biBvZiBlYWNoIHN0ZXAgdGhhdCBvY2N1cnMgZHVyaW5nIHJlbW92ZUNsYXNzIGFuaW1hdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBBbmltYXRpb24gU3RlcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFdoYXQgdGhlIGVsZW1lbnQgY2xhc3MgYXR0cmlidXRlIGxvb2tzIGxpa2UgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgKiB8IDEuIGAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAnc3VwZXInKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDIuIGAkYW5pbWF0ZWAgcnVucyB0aGUgSmF2YVNjcmlwdC1kZWZpbmVkIGFuaW1hdGlvbnMgZGV0ZWN0ZWQgb24gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGVcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIHRoZSBgLnN1cGVyLXJlbW92ZWAgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlXCJgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDQuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZSAodGhpcyBwZXJmb3JtcyBhIHJlZmxvdykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIHN1cGVyIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlXCJgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDUuIHRoZSBgLnN1cGVyLXJlbW92ZS1hY3RpdmVgIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCBgLnN1cGVyYCBpcyByZW1vdmVkICh0aGlzIHRyaWdnZXJzIHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb24pIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDcuIGAkYW5pbWF0ZWAgd2FpdHMgZm9yIHRoZSBhbmltYXRpb24gdG8gY29tcGxldGUgKHZpYSBldmVudHMgYW5kIHRpbWVvdXQpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgc3VwZXItcmVtb3ZlIHN1cGVyLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDguIFRoZSBhbmltYXRpb24gZW5kcyBhbmQgYWxsIGdlbmVyYXRlZCBDU1MgY2xhc3NlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGFuaW1hdGVkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgYW5pbWF0ZWQgYW5kIHRoZW4gcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICovXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LCBbXSwgY2xhc3NOYW1lLCBvcHRpb25zKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNzZXRDbGFzc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhbmQvb3IgcmVtb3ZlcyB0aGUgZ2l2ZW4gQ1NTIGNsYXNzZXMgdG8gYW5kIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICAgICAqIE9uY2UgY29tcGxldGUsIHRoZSBgZG9uZSgpYCBjYWxsYmFjayB3aWxsIGJlIGZpcmVkIChpZiBwcm92aWRlZCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIHwgQW5pbWF0aW9uIFN0ZXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBXaGF0IHRoZSBlbGVtZW50IGNsYXNzIGF0dHJpYnV0ZSBsb29rcyBsaWtlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAgICAqIHwgMS4gYCRhbmltYXRlLnNldENsYXNzKGVsZW1lbnQsICdvbicsICdvZmYnKWAgaXMgY2FsbGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gb2ZmXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCAyLiBgJGFuaW1hdGVgIHJ1bnMgdGhlIEphdmFTY3JpcHQtZGVmaW5lZCBhbmltYXRpb25zIGRldGVjdGVkIG9uIHRoZSBlbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG9mZlwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDMuIHRoZSBgLm9uLWFkZGAgYW5kIGAub2ZmLXJlbW92ZWAgY2xhc3NlcyBhcmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgb24tYWRkIG9mZi1yZW1vdmUgb2ZmXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqIHwgNC4gYCRhbmltYXRlYCB3YWl0cyBmb3IgYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lICh0aGlzIHBlcmZvcm1zIGEgcmVmbG93KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBvbi1hZGQgb2ZmLXJlbW92ZSBvZmZcImAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICogfCA1LiB0aGUgYC5vbmAsIGAub24tYWRkLWFjdGl2ZWAgYW5kIGAub2ZmLXJlbW92ZS1hY3RpdmVgIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCBgLm9mZmAgaXMgcmVtb3ZlZCAodGhpcyB0cmlnZ2VycyB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uKSB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBuZy1hbmltYXRlIG9uIG9uLWFkZCBvbi1hZGQtYWN0aXZlIG9mZi1yZW1vdmUgb2ZmLXJlbW92ZS1hY3RpdmVcImAgfFxuICAgICAgICAgKiB8IDYuIGAkYW5pbWF0ZWAgc2NhbnMgdGhlIGVsZW1lbnQgc3R5bGVzIHRvIGdldCB0aGUgQ1NTIHRyYW5zaXRpb24vYW5pbWF0aW9uIGR1cmF0aW9uIGFuZCBkZWxheSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG5nLWFuaW1hdGUgb24gb24tYWRkIG9uLWFkZC1hY3RpdmUgb2ZmLXJlbW92ZSBvZmYtcmVtb3ZlLWFjdGl2ZVwiYCB8XG4gICAgICAgICAqIHwgNy4gYCRhbmltYXRlYCB3YWl0cyBmb3IgdGhlIGFuaW1hdGlvbiB0byBjb21wbGV0ZSAodmlhIGV2ZW50cyBhbmQgdGltZW91dCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgY2xhc3M9XCJteS1hbmltYXRpb24gbmctYW5pbWF0ZSBvbiBvbi1hZGQgb24tYWRkLWFjdGl2ZSBvZmYtcmVtb3ZlIG9mZi1yZW1vdmUtYWN0aXZlXCJgIHxcbiAgICAgICAgICogfCA4LiBUaGUgYW5pbWF0aW9uIGVuZHMgYW5kIGFsbCBnZW5lcmF0ZWQgQ1NTIGNsYXNzZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGBjbGFzcz1cIm15LWFuaW1hdGlvbiBvblwiYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgKiB8IDkuIFRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYGNsYXNzPVwibXktYW5pbWF0aW9uIG9uXCJgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGhhdmUgaXRzIENTUyBjbGFzc2VzIGNoYW5nZWRcbiAgICAgICAgICogICByZW1vdmVkIGZyb20gaXRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3Mgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAgICogICBDU1MgY2xhc3NlcyBoYXZlIGJlZW4gc2V0IG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIHN0eWxlcyB0aGF0IHdpbGwgYmUgcGlja2VkIHVwIGJ5IHRoZSBDU1MgdHJhbnNpdGlvbi9hbmltYXRpb25cbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gcGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAgIHZhciBTVE9SQUdFX0tFWSA9ICckJGFuaW1hdGVDbGFzc2VzJztcbiAgICAgICAgICBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgIGVsZW1lbnQgPSBzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoY2xhc3NCYXNlZEFuaW1hdGlvbnNCbG9ja2VkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gJGRlbGVnYXRlLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gd2UncmUgdXNpbmcgYSBjb21iaW5lZCBhcnJheSBmb3IgYm90aCB0aGUgYWRkIGFuZCByZW1vdmVcbiAgICAgICAgICAvLyBvcGVyYXRpb25zIHNpbmNlIHRoZSBPUkRFUiBPRiBhZGRDbGFzcyBhbmQgcmVtb3ZlQ2xhc3MgbWF0dGVyc1xuICAgICAgICAgIHZhciBjbGFzc2VzLCBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgdmFyIGhhc0NhY2hlID0gISFjYWNoZTtcbiAgICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZSA9IHt9O1xuICAgICAgICAgICAgY2FjaGUuY2xhc3NlcyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGFzc2VzID0gY2FjaGUuY2xhc3NlcztcblxuICAgICAgICAgIGFkZCA9IGlzQXJyYXkoYWRkKSA/IGFkZCA6IGFkZC5zcGxpdCgnICcpO1xuICAgICAgICAgIGZvckVhY2goYWRkLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjbGFzc2VzW2NdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlbW92ZSA9IGlzQXJyYXkocmVtb3ZlKSA/IHJlbW92ZSA6IHJlbW92ZS5zcGxpdCgnICcpO1xuICAgICAgICAgIGZvckVhY2gocmVtb3ZlLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjbGFzc2VzW2NdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaGFzQ2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGNhY2hlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgY2FjaGUub3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKGNhY2hlLm9wdGlvbnMgfHwge30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3RoZSBkaWdlc3QgY3ljbGUgd2lsbCBjb21iaW5lIGFsbCB0aGUgYW5pbWF0aW9ucyBpbnRvIG9uZSBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLnByb21pc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSwgY2FjaGUgPSB7XG4gICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjYWNoZS5wcm9taXNlID0gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgICAgICB2YXIgZWxlbWVudE5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGVsZW1lbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAvLyBUT0RPKG1hdHNrbyk6IG1vdmUgdGhpcyBjb2RlIGludG8gdGhlIGFuaW1hdGlvbnNEaXNhYmxlZCgpIGZ1bmN0aW9uIG9uY2UgIzgwOTIgaXMgZml4ZWRcbiAgICAgICAgICAgIGlmICghcGFyZW50Tm9kZSB8fCBwYXJlbnROb2RlWyckJE5HX1JFTU9WRUQnXSB8fCBlbGVtZW50Tm9kZVsnJCROR19SRU1PVkVEJ10pIHtcbiAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZURhdGEoU1RPUkFHRV9LRVkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LCBjYWNoZSwgc3RhdGUuYWN0aXZlKTtcbiAgICAgICAgICAgIHJldHVybiAhY2xhc3Nlc1xuICAgICAgICAgICAgICA/IGRvbmUoKVxuICAgICAgICAgICAgICA6IHBlcmZvcm1BbmltYXRpb24oJ3NldENsYXNzJywgY2xhc3NlcywgZWxlbWVudCwgcGFyZW50RWxlbWVudCwgbnVsbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2xhc3Nlc1swXSkgJGRlbGVnYXRlLiQkYWRkQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBjbGFzc2VzWzBdKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzWzFdKSAkZGVsZWdhdGUuJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsIGNsYXNzZXNbMV0pO1xuICAgICAgICAgICAgICAgIH0sIGNhY2hlLm9wdGlvbnMsIGRvbmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2NhbmNlbFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge1Byb21pc2V9IGFuaW1hdGlvblByb21pc2UgVGhlIGFuaW1hdGlvbiBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RhcnRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENhbmNlbHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgICAgcHJvbWlzZS4kJGNhbmNlbEZuKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW5hYmxlZFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCB0aGVuIHNldCB0aGUgYW5pbWF0aW9uIG9uIG9yIG9mZi5cbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gZWxlbWVudCBJZiBwcm92aWRlZCB0aGVuIHRoZSBlbGVtZW50IHdpbGwgYmUgdXNlZCB0byByZXByZXNlbnQgdGhlIGVuYWJsZS9kaXNhYmxlIG9wZXJhdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDdXJyZW50IGFuaW1hdGlvbiBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEdsb2JhbGx5IGVuYWJsZXMvZGlzYWJsZXMgYW5pbWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgKi9cbiAgICAgICAgZW5hYmxlZDogZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cChlbGVtZW50KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKSB8fCB7fTtcbiAgICAgICAgICAgICAgICBkYXRhLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSwgZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJvb3RBbmltYXRlU3RhdGUuZGlzYWJsZWQgPSAhdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdmFsdWUgPSAhcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gISF2YWx1ZTtcbiAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qXG4gICAgICAgIGFsbCBhbmltYXRpb25zIGNhbGwgdGhpcyBzaGFyZWQgYW5pbWF0aW9uIHRyaWdnZXJpbmcgZnVuY3Rpb24gaW50ZXJuYWxseS5cbiAgICAgICAgVGhlIGFuaW1hdGlvbkV2ZW50IHZhcmlhYmxlIHJlZmVycyB0byB0aGUgSmF2YVNjcmlwdCBhbmltYXRpb24gZXZlbnQgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICAgICAgICBhbmQgdGhlIGNsYXNzTmFtZSB2YWx1ZSBpcyB0aGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHdpdGhpbiB0aGVcbiAgICAgICAgQ1NTIGNvZGUuIEVsZW1lbnQsIGBwYXJlbnRFbGVtZW50YCBhbmQgYGFmdGVyRWxlbWVudGAgYXJlIHByb3ZpZGVkIERPTSBlbGVtZW50cyBmb3IgdGhlIGFuaW1hdGlvblxuICAgICAgICBhbmQgdGhlIG9uQ29tcGxldGUgY2FsbGJhY2sgd2lsbCBiZSBmaXJlZCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXG4gICAgICAqL1xuICAgICAgZnVuY3Rpb24gcGVyZm9ybUFuaW1hdGlvbihhbmltYXRpb25FdmVudCwgY2xhc3NOYW1lLCBlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQsIGRvbU9wZXJhdGlvbiwgb3B0aW9ucywgZG9uZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBub29wQ2FuY2VsID0gbm9vcDtcbiAgICAgICAgdmFyIHJ1bm5lciA9IGFuaW1hdGlvblJ1bm5lcihlbGVtZW50LCBhbmltYXRpb25FdmVudCwgY2xhc3NOYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFydW5uZXIpIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgY2xvc2VBbmltYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gbm9vcENhbmNlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbkV2ZW50ID0gcnVubmVyLmV2ZW50O1xuICAgICAgICBjbGFzc05hbWUgPSBydW5uZXIuY2xhc3NOYW1lO1xuICAgICAgICB2YXIgZWxlbWVudEV2ZW50cyA9IGFuZ3VsYXIuZWxlbWVudC5fZGF0YShydW5uZXIubm9kZSk7XG4gICAgICAgIGVsZW1lbnRFdmVudHMgPSBlbGVtZW50RXZlbnRzICYmIGVsZW1lbnRFdmVudHMuZXZlbnRzO1xuXG4gICAgICAgIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIHBhcmVudEVsZW1lbnQgPSBhZnRlckVsZW1lbnQgPyBhZnRlckVsZW1lbnQucGFyZW50KCkgOiBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9za2lwIHRoZSBhbmltYXRpb24gaWYgYW5pbWF0aW9ucyBhcmUgZGlzYWJsZWQsIGEgcGFyZW50IGlzIGFscmVhZHkgYmVpbmcgYW5pbWF0ZWQsXG4gICAgICAgIC8vdGhlIGVsZW1lbnQgaXMgbm90IGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQgYm9keSBvciB0aGVuIGNvbXBsZXRlbHkgY2xvc2VcbiAgICAgICAgLy90aGUgYW5pbWF0aW9uIGlmIGFueSBtYXRjaGluZyBhbmltYXRpb25zIGFyZSBub3QgZm91bmQgYXQgYWxsLlxuICAgICAgICAvL05PVEU6IElFOCArIElFOSBzaG91bGQgY2xvc2UgcHJvcGVybHkgKHJ1biBjbG9zZUFuaW1hdGlvbigpKSBpbiBjYXNlIGFuIGFuaW1hdGlvbiB3YXMgZm91bmQuXG4gICAgICAgIGlmIChhbmltYXRpb25zRGlzYWJsZWQoZWxlbWVudCwgcGFyZW50RWxlbWVudCkpIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgY2xvc2VBbmltYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gbm9vcENhbmNlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZ0FuaW1hdGVTdGF0ZSAgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgIHZhciBydW5uaW5nQW5pbWF0aW9ucyAgICAgPSBuZ0FuaW1hdGVTdGF0ZS5hY3RpdmUgfHwge307XG4gICAgICAgIHZhciB0b3RhbEFjdGl2ZUFuaW1hdGlvbnMgPSBuZ0FuaW1hdGVTdGF0ZS50b3RhbEFjdGl2ZSB8fCAwO1xuICAgICAgICB2YXIgbGFzdEFuaW1hdGlvbiAgICAgICAgID0gbmdBbmltYXRlU3RhdGUubGFzdDtcbiAgICAgICAgdmFyIHNraXBBbmltYXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodG90YWxBY3RpdmVBbmltYXRpb25zID4gMCkge1xuICAgICAgICAgIHZhciBhbmltYXRpb25zVG9DYW5jZWwgPSBbXTtcbiAgICAgICAgICBpZiAoIXJ1bm5lci5pc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25FdmVudCA9PSAnbGVhdmUnICYmIHJ1bm5pbmdBbmltYXRpb25zWyduZy1sZWF2ZSddKSB7XG4gICAgICAgICAgICAgIHNraXBBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9jYW5jZWwgYWxsIGFuaW1hdGlvbnMgd2hlbiBhIHN0cnVjdHVyYWwgYW5pbWF0aW9uIHRha2VzIHBsYWNlXG4gICAgICAgICAgICAgIGZvciAodmFyIGtsYXNzIGluIHJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uc1RvQ2FuY2VsLnB1c2gocnVubmluZ0FuaW1hdGlvbnNba2xhc3NdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZ0FuaW1hdGVTdGF0ZSA9IHt9O1xuICAgICAgICAgICAgICBjbGVhbnVwKGVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobGFzdEFuaW1hdGlvbi5ldmVudCA9PSAnc2V0Q2xhc3MnKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zVG9DYW5jZWwucHVzaChsYXN0QW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJ1bm5pbmdBbmltYXRpb25zW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gcnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LmV2ZW50ID09IGFuaW1hdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICAgIHNraXBBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc1RvQ2FuY2VsLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5pbWF0aW9uc1RvQ2FuY2VsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvckVhY2goYW5pbWF0aW9uc1RvQ2FuY2VsLCBmdW5jdGlvbihvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJ1bm5lci5pc0NsYXNzQmFzZWRcbiAgICAgICAgICAgICYmICFydW5uZXIuaXNTZXRDbGFzc09wZXJhdGlvblxuICAgICAgICAgICAgJiYgYW5pbWF0aW9uRXZlbnQgIT0gJ2FuaW1hdGUnXG4gICAgICAgICAgICAmJiAhc2tpcEFuaW1hdGlvbikge1xuICAgICAgICAgIHNraXBBbmltYXRpb24gPSAoYW5pbWF0aW9uRXZlbnQgPT0gJ2FkZENsYXNzJykgPT0gZWxlbWVudC5oYXNDbGFzcyhjbGFzc05hbWUpOyAvL29wcG9zaXRlIG9mIFhPUlxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNraXBBbmltYXRpb24pIHtcbiAgICAgICAgICBmaXJlRE9NT3BlcmF0aW9uKCk7XG4gICAgICAgICAgZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgZmlyZURvbmVDYWxsYmFja0FzeW5jKCk7XG4gICAgICAgICAgcmV0dXJuIG5vb3BDYW5jZWw7XG4gICAgICAgIH1cblxuICAgICAgICBydW5uaW5nQW5pbWF0aW9ucyAgICAgPSBuZ0FuaW1hdGVTdGF0ZS5hY3RpdmUgfHwge307XG4gICAgICAgIHRvdGFsQWN0aXZlQW5pbWF0aW9ucyA9IG5nQW5pbWF0ZVN0YXRlLnRvdGFsQWN0aXZlIHx8IDA7XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbkV2ZW50ID09ICdsZWF2ZScpIHtcbiAgICAgICAgICAvL3RoZXJlJ3Mgbm8gbmVlZCB0byBldmVyIHJlbW92ZSB0aGUgbGlzdGVuZXIgc2luY2UgdGhlIGVsZW1lbnRcbiAgICAgICAgICAvL3dpbGwgYmUgcmVtb3ZlZCAoZGVzdHJveWVkKSBhZnRlciB0aGUgbGVhdmUgYW5pbWF0aW9uIGVuZHMgb3JcbiAgICAgICAgICAvL2lzIGNhbmNlbGxlZCBtaWR3YXlcbiAgICAgICAgICBlbGVtZW50Lm9uZSgnJGRlc3Ryb3knLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICB2YXIgYWN0aXZlTGVhdmVBbmltYXRpb24gPSBzdGF0ZS5hY3RpdmVbJ25nLWxlYXZlJ107XG4gICAgICAgICAgICAgIGlmIChhY3RpdmVMZWF2ZUFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUxlYXZlQW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgJ25nLWxlYXZlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdGhlIG5nLWFuaW1hdGUgY2xhc3MgZG9lcyBub3RoaW5nLCBidXQgaXQncyBoZXJlIHRvIGFsbG93IGZvclxuICAgICAgICAvL3BhcmVudCBhbmltYXRpb25zIHRvIGZpbmQgYW5kIGNhbmNlbCBjaGlsZCBhbmltYXRpb25zIHdoZW4gbmVlZGVkXG4gICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudGVtcENsYXNzZXMpIHtcbiAgICAgICAgICBmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhbEFuaW1hdGlvbkNvdW50ID0gZ2xvYmFsQW5pbWF0aW9uQ291bnRlcisrO1xuICAgICAgICB0b3RhbEFjdGl2ZUFuaW1hdGlvbnMrKztcbiAgICAgICAgcnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXSA9IHJ1bm5lcjtcblxuICAgICAgICBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSwge1xuICAgICAgICAgIGxhc3Q6IHJ1bm5lcixcbiAgICAgICAgICBhY3RpdmU6IHJ1bm5pbmdBbmltYXRpb25zLFxuICAgICAgICAgIGluZGV4OiBsb2NhbEFuaW1hdGlvbkNvdW50LFxuICAgICAgICAgIHRvdGFsQWN0aXZlOiB0b3RhbEFjdGl2ZUFuaW1hdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9maXJzdCB3ZSBydW4gdGhlIGJlZm9yZSBhbmltYXRpb25zIGFuZCB3aGVuIGFsbCBvZiB0aG9zZSBhcmUgY29tcGxldGVcbiAgICAgICAgLy90aGVuIHdlIHBlcmZvcm0gdGhlIERPTSBvcGVyYXRpb24gYW5kIHJ1biB0aGUgbmV4dCBzZXQgb2YgYW5pbWF0aW9uc1xuICAgICAgICBmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpO1xuICAgICAgICBydW5uZXIuYmVmb3JlKGZ1bmN0aW9uKGNhbmNlbGxlZCkge1xuICAgICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO1xuICAgICAgICAgIGNhbmNlbGxlZCA9IGNhbmNlbGxlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWRhdGEgfHwgIWRhdGEuYWN0aXZlW2NsYXNzTmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChydW5uZXIuaXNDbGFzc0Jhc2VkICYmIGRhdGEuYWN0aXZlW2NsYXNzTmFtZV0uZXZlbnQgIT0gYW5pbWF0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgZmlyZURPTU9wZXJhdGlvbigpO1xuICAgICAgICAgIGlmIChjYW5jZWxsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNsb3NlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpcmVBZnRlckNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICAgIHJ1bm5lci5hZnRlcihjbG9zZUFuaW1hdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcnVubmVyLmNhbmNlbDtcblxuICAgICAgICBmdW5jdGlvbiBmaXJlRE9NQ2FsbGJhY2soYW5pbWF0aW9uUGhhc2UpIHtcbiAgICAgICAgICB2YXIgZXZlbnROYW1lID0gJyRhbmltYXRlOicgKyBhbmltYXRpb25QaGFzZTtcbiAgICAgICAgICBpZiAoZWxlbWVudEV2ZW50cyAmJiBlbGVtZW50RXZlbnRzW2V2ZW50TmFtZV0gJiYgZWxlbWVudEV2ZW50c1tldmVudE5hbWVdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQkYXN5bmNDYWxsYmFjayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcihldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBldmVudDogYW5pbWF0aW9uRXZlbnQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpIHtcbiAgICAgICAgICBmaXJlRE9NQ2FsbGJhY2soJ2JlZm9yZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpIHtcbiAgICAgICAgICBmaXJlRE9NQ2FsbGJhY2soJ2FmdGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJlRG9uZUNhbGxiYWNrQXN5bmMoKSB7XG4gICAgICAgICAgZmlyZURPTUNhbGxiYWNrKCdjbG9zZScpO1xuICAgICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pdCBpcyBsZXNzIGNvbXBsaWNhdGVkIHRvIHVzZSBhIGZsYWcgdGhhbiBtYW5hZ2luZyBhbmQgY2FuY2VsaW5nXG4gICAgICAgIC8vdGltZW91dHMgY29udGFpbmluZyBtdWx0aXBsZSBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVET01PcGVyYXRpb24oKSB7XG4gICAgICAgICAgaWYgKCFmaXJlRE9NT3BlcmF0aW9uLmhhc0JlZW5SdW4pIHtcbiAgICAgICAgICAgIGZpcmVET01PcGVyYXRpb24uaGFzQmVlblJ1biA9IHRydWU7XG4gICAgICAgICAgICBkb21PcGVyYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZUFuaW1hdGlvbigpIHtcbiAgICAgICAgICBpZiAoIWNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW4pIHtcbiAgICAgICAgICAgIGlmIChydW5uZXIpIHsgLy90aGUgcnVubmVyIGRvZXNuJ3QgZXhpc3QgaWYgaXQgZmFpbHMgdG8gaW5zdGFudGlhdGVcbiAgICAgICAgICAgICAgcnVubmVyLmFwcGx5U3R5bGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW4gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50ZW1wQ2xhc3Nlcykge1xuICAgICAgICAgICAgICBmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG5cbiAgICAgICAgICAgICAgLyogb25seSBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnMgd2FpdCBmb3IgcmVmbG93IGJlZm9yZSByZW1vdmluZyBhblxuICAgICAgICAgICAgICAgICBhbmltYXRpb24sIGJ1dCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGRvbid0LiBBbiBleGFtcGxlIG9mIHRoaXNcbiAgICAgICAgICAgICAgICAgZmFpbGluZyB3b3VsZCBiZSB3aGVuIGEgcGFyZW50IEhUTUwgdGFnIGhhcyBhIG5nLWNsYXNzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICBjYXVzaW5nIEFMTCBkaXJlY3RpdmVzIGJlbG93IHRvIHNraXAgYW5pbWF0aW9ucyBkdXJpbmcgdGhlIGRpZ2VzdCAqL1xuICAgICAgICAgICAgICBpZiAocnVubmVyICYmIHJ1bm5lci5pc0NsYXNzQmFzZWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCRhc3luY0NhbGxiYWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG4gICAgICAgICAgICAgICAgICBpZiAobG9jYWxBbmltYXRpb25Db3VudCA9PSBkYXRhLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUsIGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJlRG9uZUNhbGxiYWNrQXN5bmMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsQ2hpbGRBbmltYXRpb25zKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgdmFyIG5vZGVzID0gYW5ndWxhci5pc0Z1bmN0aW9uKG5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkgP1xuICAgICAgICAgICAgbm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSkgOlxuICAgICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgICAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgZm9yRWFjaChkYXRhLmFjdGl2ZSwgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhbnVwKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgJHJvb3RFbGVtZW50KSkge1xuICAgICAgICAgIGlmICghcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByb290QW5pbWF0ZVN0YXRlLnN0cnVjdHVyYWwgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSkgfHwge307XG5cbiAgICAgICAgICB2YXIgcmVtb3ZlQW5pbWF0aW9ucyA9IGNsYXNzTmFtZSA9PT0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIXJlbW92ZUFuaW1hdGlvbnMgJiYgZGF0YS5hY3RpdmUgJiYgZGF0YS5hY3RpdmVbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgZGF0YS50b3RhbEFjdGl2ZS0tO1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEuYWN0aXZlW2NsYXNzTmFtZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlbW92ZUFuaW1hdGlvbnMgfHwgIWRhdGEudG90YWxBY3RpdmUpIHtcbiAgICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZURhdGEoTkdfQU5JTUFURV9TVEFURSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGlvbnNEaXNhYmxlZChlbGVtZW50LCBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGlmIChyb290QW5pbWF0ZVN0YXRlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwgJHJvb3RFbGVtZW50KSkge1xuICAgICAgICAgIHJldHVybiByb290QW5pbWF0ZVN0YXRlLnJ1bm5pbmc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsb3dDaGlsZEFuaW1hdGlvbnMsIHBhcmVudFJ1bm5pbmdBbmltYXRpb24sIGhhc1BhcmVudDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vdGhlIGVsZW1lbnQgZGlkIG5vdCByZWFjaCB0aGUgcm9vdCBlbGVtZW50IHdoaWNoIG1lYW5zIHRoYXQgaXRcbiAgICAgICAgICAvL2lzIG5vdCBhcGFydCBvZiB0aGUgRE9NLiBUaGVyZWZvcmUgdGhlcmUgaXMgbm8gcmVhc29uIHRvIGRvXG4gICAgICAgICAgLy9hbnkgYW5pbWF0aW9ucyBvbiBpdFxuICAgICAgICAgIGlmIChwYXJlbnRFbGVtZW50Lmxlbmd0aCA9PT0gMCkgYnJlYWs7XG5cbiAgICAgICAgICB2YXIgaXNSb290ID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgICAgICB2YXIgc3RhdGUgPSBpc1Jvb3QgPyByb290QW5pbWF0ZVN0YXRlIDogKHBhcmVudEVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKSB8fCB7fSk7XG4gICAgICAgICAgaWYgKHN0YXRlLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL25vIG1hdHRlciB3aGF0LCBmb3IgYW4gYW5pbWF0aW9uIHRvIHdvcmsgaXQgbXVzdCByZWFjaCB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAgLy90aGlzIGltcGxpZXMgdGhhdCB0aGUgZWxlbWVudCBpcyBhdHRhY2hlZCB0byB0aGUgRE9NIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBydW5cbiAgICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICBoYXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vb25jZSBhIGZsYWcgaXMgZm91bmQgdGhhdCBpcyBzdHJpY3RseSBmYWxzZSB0aGVuIGV2ZXJ5dGhpbmcgYmVmb3JlXG4gICAgICAgICAgLy9pdCB3aWxsIGJlIGRpc2NhcmRlZCBhbmQgYWxsIGNoaWxkIGFuaW1hdGlvbnMgd2lsbCBiZSByZXN0cmljdGVkXG4gICAgICAgICAgaWYgKGFsbG93Q2hpbGRBbmltYXRpb25zICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGVDaGlsZHJlbkZsYWcgPSBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTik7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0ZUNoaWxkcmVuRmxhZykpIHtcbiAgICAgICAgICAgICAgYWxsb3dDaGlsZEFuaW1hdGlvbnMgPSBhbmltYXRlQ2hpbGRyZW5GbGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmVudFJ1bm5pbmdBbmltYXRpb24gPSBwYXJlbnRSdW5uaW5nQW5pbWF0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnJ1bm5pbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRlLmxhc3QgJiYgIXN0YXRlLmxhc3QuaXNDbGFzc0Jhc2VkKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50KCkpO1xuXG4gICAgICAgIHJldHVybiAhaGFzUGFyZW50IHx8ICghYWxsb3dDaGlsZEFuaW1hdGlvbnMgJiYgcGFyZW50UnVubmluZ0FuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcignJywgWyckd2luZG93JywgJyRzbmlmZmVyJywgJyR0aW1lb3V0JywgJyQkYW5pbWF0ZVJlZmxvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigkd2luZG93LCAgICRzbmlmZmVyLCAgICR0aW1lb3V0LCAgICQkYW5pbWF0ZVJlZmxvdykge1xuICAgICAgLy8gRGV0ZWN0IHByb3BlciB0cmFuc2l0aW9uZW5kL2FuaW1hdGlvbmVuZCBldmVudCBuYW1lcy5cbiAgICAgIHZhciBDU1NfUFJFRklYID0gJycsIFRSQU5TSVRJT05fUFJPUCwgVFJBTlNJVElPTkVORF9FVkVOVCwgQU5JTUFUSU9OX1BST1AsIEFOSU1BVElPTkVORF9FVkVOVDtcblxuICAgICAgLy8gSWYgdW5wcmVmaXhlZCBldmVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgYnV0IHdlYmtpdC1wcmVmaXhlZCBhcmUsIHVzZSB0aGUgbGF0dGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBqdXN0IHVzZSBXM0MgbmFtZXMsIGJyb3dzZXJzIG5vdCBzdXBwb3J0aW5nIHRoZW0gYXQgYWxsIHdpbGwganVzdCBpZ25vcmUgdGhlbS5cbiAgICAgIC8vIE5vdGU6IENocm9tZSBpbXBsZW1lbnRzIGB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmRgIGFuZCBkb2Vzbid0IGltcGxlbWVudCBgd2luZG93Lm9uYW5pbWF0aW9uZW5kYFxuICAgICAgLy8gYnV0IGF0IHRoZSBzYW1lIHRpbWUgZGlzcGF0Y2hlcyB0aGUgYGFuaW1hdGlvbmVuZGAgZXZlbnQgYW5kIG5vdCBgd2Via2l0QW5pbWF0aW9uRW5kYC5cbiAgICAgIC8vIFJlZ2lzdGVyIGJvdGggZXZlbnRzIGluIGNhc2UgYHdpbmRvdy5vbmFuaW1hdGlvbmVuZGAgaXMgbm90IHN1cHBvcnRlZCBiZWNhdXNlIG9mIHRoYXQsXG4gICAgICAvLyBkbyB0aGUgc2FtZSBmb3IgYHRyYW5zaXRpb25lbmRgIGFzIFNhZmFyaSBpcyBsaWtlbHkgdG8gZXhoaWJpdCBzaW1pbGFyIGJlaGF2aW9yLlxuICAgICAgLy8gQWxzbywgdGhlIG9ubHkgbW9kZXJuIGJyb3dzZXIgdGhhdCB1c2VzIHZlbmRvciBwcmVmaXhlcyBmb3IgdHJhbnNpdGlvbnMva2V5ZnJhbWVzIGlzIHdlYmtpdFxuICAgICAgLy8gdGhlcmVmb3JlIHRoZXJlIGlzIG5vIHJlYXNvbiB0byB0ZXN0IGFueW1vcmUgZm9yIG90aGVyIHZlbmRvciBwcmVmaXhlczogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9dHJhbnNpdGlvblxuICAgICAgaWYgKHdpbmRvdy5vbnRyYW5zaXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJiB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gICAgICAgIFRSQU5TSVRJT05fUFJPUCA9ICdXZWJraXRUcmFuc2l0aW9uJztcbiAgICAgICAgVFJBTlNJVElPTkVORF9FVkVOVCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVFJBTlNJVElPTl9QUk9QID0gJ3RyYW5zaXRpb24nO1xuICAgICAgICBUUkFOU0lUSU9ORU5EX0VWRU5UID0gJ3RyYW5zaXRpb25lbmQnO1xuICAgICAgfVxuXG4gICAgICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiYgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gICAgICAgIEFOSU1BVElPTl9QUk9QID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgICAgIEFOSU1BVElPTkVORF9FVkVOVCA9ICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFOSU1BVElPTl9QUk9QID0gJ2FuaW1hdGlvbic7XG4gICAgICAgIEFOSU1BVElPTkVORF9FVkVOVCA9ICdhbmltYXRpb25lbmQnO1xuICAgICAgfVxuXG4gICAgICB2YXIgRFVSQVRJT05fS0VZID0gJ0R1cmF0aW9uJztcbiAgICAgIHZhciBQUk9QRVJUWV9LRVkgPSAnUHJvcGVydHknO1xuICAgICAgdmFyIERFTEFZX0tFWSA9ICdEZWxheSc7XG4gICAgICB2YXIgQU5JTUFUSU9OX0lURVJBVElPTl9DT1VOVF9LRVkgPSAnSXRlcmF0aW9uQ291bnQnO1xuICAgICAgdmFyIEFOSU1BVElPTl9QTEFZU1RBVEVfS0VZID0gJ1BsYXlTdGF0ZSc7XG4gICAgICB2YXIgTkdfQU5JTUFURV9QQVJFTlRfS0VZID0gJyQkbmdBbmltYXRlS2V5JztcbiAgICAgIHZhciBOR19BTklNQVRFX0NTU19EQVRBX0tFWSA9ICckJG5nQW5pbWF0ZUNTUzNEYXRhJztcbiAgICAgIHZhciBFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTID0gMztcbiAgICAgIHZhciBDTE9TSU5HX1RJTUVfQlVGRkVSID0gMS41O1xuICAgICAgdmFyIE9ORV9TRUNPTkQgPSAxMDAwO1xuXG4gICAgICB2YXIgbG9va3VwQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBwYXJlbnRDb3VudGVyID0gMDtcbiAgICAgIHZhciBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgdmFyIGNhbmNlbEFuaW1hdGlvblJlZmxvdztcbiAgICAgIGZ1bmN0aW9uIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxBbmltYXRpb25SZWZsb3cpIHtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25SZWZsb3cgPSAkJGFuaW1hdGVSZWZsb3coZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uUmVmbG93ID0gbnVsbDtcbiAgICAgICAgICAgIGxvb2t1cENhY2hlID0ge307XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWZ0ZXJSZWZsb3coZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbmNlbEFuaW1hdGlvblJlZmxvdykge1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvblJlZmxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1hdGlvblJlZmxvd1F1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25SZWZsb3cgPSAkJGFuaW1hdGVSZWZsb3coZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yRWFjaChhbmltYXRpb25SZWZsb3dRdWV1ZSwgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhbmltYXRpb25SZWZsb3dRdWV1ZSA9IFtdO1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvblJlZmxvdyA9IG51bGw7XG4gICAgICAgICAgbG9va3VwQ2FjaGUgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjbG9zaW5nVGltZXIgPSBudWxsO1xuICAgICAgdmFyIGNsb3NpbmdUaW1lc3RhbXAgPSAwO1xuICAgICAgdmFyIGFuaW1hdGlvbkVsZW1lbnRRdWV1ZSA9IFtdO1xuICAgICAgZnVuY3Rpb24gYW5pbWF0aW9uQ2xvc2VIYW5kbGVyKGVsZW1lbnQsIHRvdGFsVGltZSkge1xuICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChub2RlKTtcblxuICAgICAgICAvL3RoaXMgaXRlbSB3aWxsIGJlIGdhcmJhZ2UgY29sbGVjdGVkIGJ5IHRoZSBjbG9zaW5nXG4gICAgICAgIC8vYW5pbWF0aW9uIHRpbWVvdXRcbiAgICAgICAgYW5pbWF0aW9uRWxlbWVudFF1ZXVlLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgLy9idXQgaXQgbWF5IG5vdCBuZWVkIHRvIGNhbmNlbCBvdXQgdGhlIGV4aXN0aW5nIHRpbWVvdXRcbiAgICAgICAgLy9pZiB0aGUgdGltZXN0YW1wIGlzIGxlc3MgdGhhbiB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIHZhciBmdXR1cmVUaW1lc3RhbXAgPSBEYXRlLm5vdygpICsgdG90YWxUaW1lO1xuICAgICAgICBpZiAoZnV0dXJlVGltZXN0YW1wIDw9IGNsb3NpbmdUaW1lc3RhbXApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkdGltZW91dC5jYW5jZWwoY2xvc2luZ1RpbWVyKTtcblxuICAgICAgICBjbG9zaW5nVGltZXN0YW1wID0gZnV0dXJlVGltZXN0YW1wO1xuICAgICAgICBjbG9zaW5nVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjbG9zZUFsbEFuaW1hdGlvbnMoYW5pbWF0aW9uRWxlbWVudFF1ZXVlKTtcbiAgICAgICAgICBhbmltYXRpb25FbGVtZW50UXVldWUgPSBbXTtcbiAgICAgICAgfSwgdG90YWxUaW1lLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsb3NlQWxsQW5pbWF0aW9ucyhlbGVtZW50cykge1xuICAgICAgICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnREYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtcbiAgICAgICAgICBpZiAoZWxlbWVudERhdGEpIHtcbiAgICAgICAgICAgIGZvckVhY2goZWxlbWVudERhdGEuY2xvc2VBbmltYXRpb25GbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBjYWNoZUtleSkge1xuICAgICAgICB2YXIgZGF0YSA9IGNhY2hlS2V5ID8gbG9va3VwQ2FjaGVbY2FjaGVLZXldIDogbnVsbDtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IDA7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25EZWxheSA9IDA7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMDtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uRGVsYXkgPSAwO1xuXG4gICAgICAgICAgLy93ZSB3YW50IGFsbCB0aGUgc3R5bGVzIGRlZmluZWQgYmVmb3JlIGFuZCBhZnRlclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50U3R5bGVzID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHx8IHt9O1xuXG4gICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb25TdHlsZSA9IGVsZW1lbnRTdHlsZXNbVFJBTlNJVElPTl9QUk9QICsgRFVSQVRJT05fS0VZXTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgocGFyc2VNYXhUaW1lKHRyYW5zaXRpb25EdXJhdGlvblN0eWxlKSwgdHJhbnNpdGlvbkR1cmF0aW9uKTtcblxuICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkRlbGF5U3R5bGUgPSBlbGVtZW50U3R5bGVzW1RSQU5TSVRJT05fUFJPUCArIERFTEFZX0tFWV07XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25EZWxheSAgPSBNYXRoLm1heChwYXJzZU1heFRpbWUodHJhbnNpdGlvbkRlbGF5U3R5bGUpLCB0cmFuc2l0aW9uRGVsYXkpO1xuXG4gICAgICAgICAgICAgIHZhciBhbmltYXRpb25EZWxheVN0eWxlID0gZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWV07XG4gICAgICAgICAgICAgIGFuaW1hdGlvbkRlbGF5ICAgPSBNYXRoLm1heChwYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWV0pLCBhbmltYXRpb25EZWxheSk7XG5cbiAgICAgICAgICAgICAgdmFyIGFEdXJhdGlvbiAgPSBwYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCArIERVUkFUSU9OX0tFWV0pO1xuXG4gICAgICAgICAgICAgIGlmIChhRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgYUR1cmF0aW9uICo9IHBhcnNlSW50KGVsZW1lbnRTdHlsZXNbQU5JTUFUSU9OX1BST1AgKyBBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWV0sIDEwKSB8fCAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgoYUR1cmF0aW9uLCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkRlbGF5OiB0cmFuc2l0aW9uRGVsYXksXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBhbmltYXRpb25EZWxheSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvblxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgICAgICBsb29rdXBDYWNoZVtjYWNoZUtleV0gPSBkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VNYXhUaW1lKHN0cikge1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAwO1xuICAgICAgICB2YXIgdmFsdWVzID0gaXNTdHJpbmcoc3RyKSA/XG4gICAgICAgICAgc3RyLnNwbGl0KC9cXHMqLFxccyovKSA6XG4gICAgICAgICAgW107XG4gICAgICAgIGZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXgocGFyc2VGbG9hdCh2YWx1ZSkgfHwgMCwgbWF4VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1heFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDYWNoZUtleShlbGVtZW50KSB7XG4gICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgdmFyIHBhcmVudElEID0gcGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUEFSRU5UX0tFWSk7XG4gICAgICAgIGlmICghcGFyZW50SUQpIHtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QQVJFTlRfS0VZLCArK3BhcmVudENvdW50ZXIpO1xuICAgICAgICAgIHBhcmVudElEID0gcGFyZW50Q291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50SUQgKyAnLScgKyBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbmltYXRlU2V0dXAoYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgc3R5bGVzKSB7XG4gICAgICAgIHZhciBzdHJ1Y3R1cmFsID0gWyduZy1lbnRlcicsJ25nLWxlYXZlJywnbmctbW92ZSddLmluZGV4T2YoY2xhc3NOYW1lKSA+PSAwO1xuXG4gICAgICAgIHZhciBjYWNoZUtleSA9IGdldENhY2hlS2V5KGVsZW1lbnQpO1xuICAgICAgICB2YXIgZXZlbnRDYWNoZUtleSA9IGNhY2hlS2V5ICsgJyAnICsgY2xhc3NOYW1lO1xuICAgICAgICB2YXIgaXRlbUluZGV4ID0gbG9va3VwQ2FjaGVbZXZlbnRDYWNoZUtleV0gPyArK2xvb2t1cENhY2hlW2V2ZW50Q2FjaGVLZXldLnRvdGFsIDogMDtcblxuICAgICAgICB2YXIgc3RhZ2dlciA9IHt9O1xuICAgICAgICBpZiAoaXRlbUluZGV4ID4gMCkge1xuICAgICAgICAgIHZhciBzdGFnZ2VyQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1zdGFnZ2VyJztcbiAgICAgICAgICB2YXIgc3RhZ2dlckNhY2hlS2V5ID0gY2FjaGVLZXkgKyAnICcgKyBzdGFnZ2VyQ2xhc3NOYW1lO1xuICAgICAgICAgIHZhciBhcHBseUNsYXNzZXMgPSAhbG9va3VwQ2FjaGVbc3RhZ2dlckNhY2hlS2V5XTtcblxuICAgICAgICAgIGFwcGx5Q2xhc3NlcyAmJiAkJGpxTGl0ZS5hZGRDbGFzcyhlbGVtZW50LCBzdGFnZ2VyQ2xhc3NOYW1lKTtcblxuICAgICAgICAgIHN0YWdnZXIgPSBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBzdGFnZ2VyQ2FjaGVLZXkpO1xuXG4gICAgICAgICAgYXBwbHlDbGFzc2VzICYmICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIHN0YWdnZXJDbGFzc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblxuICAgICAgICB2YXIgZm9ybWVyRGF0YSA9IGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSkgfHwge307XG4gICAgICAgIHZhciB0aW1pbmdzID0gZ2V0RWxlbWVudEFuaW1hdGlvbkRldGFpbHMoZWxlbWVudCwgZXZlbnRDYWNoZUtleSk7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbjtcblxuICAgICAgICBpZiAoc3RydWN0dXJhbCAmJiB0cmFuc2l0aW9uRHVyYXRpb24gPT09IDAgJiYgYW5pbWF0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBibG9ja1RyYW5zaXRpb24gPSBzdHlsZXMgfHwgKHN0cnVjdHVyYWwgJiYgdHJhbnNpdGlvbkR1cmF0aW9uID4gMCk7XG4gICAgICAgIHZhciBibG9ja0FuaW1hdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkRlbGF5ID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZ2VyLmFuaW1hdGlvbkR1cmF0aW9uID09PSAwO1xuXG4gICAgICAgIHZhciBjbG9zZUFuaW1hdGlvbkZucyA9IGZvcm1lckRhdGEuY2xvc2VBbmltYXRpb25GbnMgfHwgW107XG4gICAgICAgIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSwge1xuICAgICAgICAgIHN0YWdnZXI6IHN0YWdnZXIsXG4gICAgICAgICAgY2FjaGVLZXk6IGV2ZW50Q2FjaGVLZXksXG4gICAgICAgICAgcnVubmluZzogZm9ybWVyRGF0YS5ydW5uaW5nIHx8IDAsXG4gICAgICAgICAgaXRlbUluZGV4OiBpdGVtSW5kZXgsXG4gICAgICAgICAgYmxvY2tUcmFuc2l0aW9uOiBibG9ja1RyYW5zaXRpb24sXG4gICAgICAgICAgY2xvc2VBbmltYXRpb25GbnM6IGNsb3NlQW5pbWF0aW9uRm5zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBub2RlID0gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChibG9ja1RyYW5zaXRpb24pIHtcbiAgICAgICAgICBibG9ja1RyYW5zaXRpb25zKG5vZGUsIHRydWUpO1xuICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJsb2NrQW5pbWF0aW9uKSB7XG4gICAgICAgICAgYmxvY2tBbmltYXRpb25zKG5vZGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGVSdW4oYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcykge1xuICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgdmFyIGVsZW1lbnREYXRhID0gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtcbiAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoY2xhc3NOYW1lKSA9PSAtMSB8fCAhZWxlbWVudERhdGEpIHtcbiAgICAgICAgICBhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSAnJztcbiAgICAgICAgdmFyIHBlbmRpbmdDbGFzc05hbWUgPSAnJztcbiAgICAgICAgZm9yRWFjaChjbGFzc05hbWUuc3BsaXQoJyAnKSwgZnVuY3Rpb24oa2xhc3MsIGkpIHtcbiAgICAgICAgICB2YXIgcHJlZml4ID0gKGkgPiAwID8gJyAnIDogJycpICsga2xhc3M7XG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lICs9IHByZWZpeCArICctYWN0aXZlJztcbiAgICAgICAgICBwZW5kaW5nQ2xhc3NOYW1lICs9IHByZWZpeCArICctcGVuZGluZyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzdHlsZSA9ICcnO1xuICAgICAgICB2YXIgYXBwbGllZFN0eWxlcyA9IFtdO1xuICAgICAgICB2YXIgaXRlbUluZGV4ID0gZWxlbWVudERhdGEuaXRlbUluZGV4O1xuICAgICAgICB2YXIgc3RhZ2dlciA9IGVsZW1lbnREYXRhLnN0YWdnZXI7XG4gICAgICAgIHZhciBzdGFnZ2VyVGltZSA9IDA7XG4gICAgICAgIGlmIChpdGVtSW5kZXggPiAwKSB7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25TdGFnZ2VyRGVsYXkgPSAwO1xuICAgICAgICAgIGlmIChzdGFnZ2VyLnRyYW5zaXRpb25EZWxheSA+IDAgJiYgc3RhZ2dlci50cmFuc2l0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25TdGFnZ2VyRGVsYXkgPSBzdGFnZ2VyLnRyYW5zaXRpb25EZWxheSAqIGl0ZW1JbmRleDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYW5pbWF0aW9uU3RhZ2dlckRlbGF5ID0gMDtcbiAgICAgICAgICBpZiAoc3RhZ2dlci5hbmltYXRpb25EZWxheSA+IDAgJiYgc3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgYW5pbWF0aW9uU3RhZ2dlckRlbGF5ID0gc3RhZ2dlci5hbmltYXRpb25EZWxheSAqIGl0ZW1JbmRleDtcbiAgICAgICAgICAgIGFwcGxpZWRTdHlsZXMucHVzaChDU1NfUFJFRklYICsgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RhZ2dlclRpbWUgPSBNYXRoLnJvdW5kKE1hdGgubWF4KHRyYW5zaXRpb25TdGFnZ2VyRGVsYXksIGFuaW1hdGlvblN0YWdnZXJEZWxheSkgKiAxMDApIC8gMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFnZ2VyVGltZSkge1xuICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnREYXRhLmJsb2NrVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgYmxvY2tUcmFuc2l0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50Q2FjaGVLZXkgPSBlbGVtZW50RGF0YS5jYWNoZUtleSArICcgJyArIGFjdGl2ZUNsYXNzTmFtZTtcbiAgICAgICAgdmFyIHRpbWluZ3MgPSBnZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LCBldmVudENhY2hlS2V5KTtcbiAgICAgICAgdmFyIG1heER1cmF0aW9uID0gTWF0aC5tYXgodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24sIHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICBpZiAobWF4RHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhY3RpdmVDbGFzc05hbWUpO1xuICAgICAgICAgIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFnZ2VyVGltZSAmJiBzdHlsZXMgJiYgT2JqZWN0LmtleXMoc3R5bGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKCF0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ3RyYW5zaXRpb24nLCB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uICsgJ3MgbGluZWFyIGFsbCcpO1xuICAgICAgICAgICAgYXBwbGllZFN0eWxlcy5wdXNoKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF4RGVsYXkgPSBNYXRoLm1heCh0aW1pbmdzLnRyYW5zaXRpb25EZWxheSwgdGltaW5ncy5hbmltYXRpb25EZWxheSk7XG4gICAgICAgIHZhciBtYXhEZWxheVRpbWUgPSBtYXhEZWxheSAqIE9ORV9TRUNPTkQ7XG5cbiAgICAgICAgaWYgKGFwcGxpZWRTdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vdGhlIGVsZW1lbnQgYmVpbmcgYW5pbWF0ZWQgbWF5IHNvbWV0aW1lcyBjb250YWluIGNvbW1lbnQgbm9kZXMgaW5cbiAgICAgICAgICAvL3RoZSBqcUxpdGUgb2JqZWN0LCBzbyB3ZSdyZSBzYWZlIHRvIHVzZSBhIHNpbmdsZSB2YXJpYWJsZSB0byBob3VzZVxuICAgICAgICAgIC8vdGhlIHN0eWxlcyBzaW5jZSB0aGVyZSBpcyBhbHdheXMgb25seSBvbmUgZWxlbWVudCBiZWluZyBhbmltYXRlZFxuICAgICAgICAgIHZhciBvbGRTdHlsZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnO1xuICAgICAgICAgIGlmIChvbGRTdHlsZS5jaGFyQXQob2xkU3R5bGUubGVuZ3RoIC0gMSkgIT09ICc7Jykge1xuICAgICAgICAgICAgb2xkU3R5bGUgKz0gJzsnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBvbGRTdHlsZSArICcgJyArIHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgY3NzM0FuaW1hdGlvbkV2ZW50cyA9IEFOSU1BVElPTkVORF9FVkVOVCArICcgJyArIFRSQU5TSVRJT05FTkRfRVZFTlQ7XG4gICAgICAgIHZhciBhbmltYXRpb25UaW1lICAgICA9IChtYXhEZWxheSArIG1heER1cmF0aW9uKSAqIENMT1NJTkdfVElNRV9CVUZGRVI7XG4gICAgICAgIHZhciB0b3RhbFRpbWUgICAgICAgICA9IChzdGFnZ2VyVGltZSArIGFuaW1hdGlvblRpbWUpICogT05FX1NFQ09ORDtcblxuICAgICAgICB2YXIgc3RhZ2dlclRpbWVvdXQ7XG4gICAgICAgIGlmIChzdGFnZ2VyVGltZSA+IDApIHtcbiAgICAgICAgICAkJGpxTGl0ZS5hZGRDbGFzcyhlbGVtZW50LCBwZW5kaW5nQ2xhc3NOYW1lKTtcbiAgICAgICAgICBzdGFnZ2VyVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3RhZ2dlclRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgIGJsb2NrQW5pbWF0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBwZW5kaW5nQ2xhc3NOYW1lKTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgICBpZiAodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygndHJhbnNpdGlvbicsIHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gKyAncyBsaW5lYXIgYWxsJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxlbWVudC5jc3Moc3R5bGVzKTtcbiAgICAgICAgICAgICAgYXBwbGllZFN0eWxlcy5wdXNoKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgc3RhZ2dlclRpbWUgKiBPTkVfU0VDT05ELCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50Lm9uKGNzczNBbmltYXRpb25FdmVudHMsIG9uQW5pbWF0aW9uUHJvZ3Jlc3MpO1xuICAgICAgICBlbGVtZW50RGF0YS5jbG9zZUFuaW1hdGlvbkZucy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG9uRW5kKCk7XG4gICAgICAgICAgYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudERhdGEucnVubmluZysrO1xuICAgICAgICBhbmltYXRpb25DbG9zZUhhbmRsZXIoZWxlbWVudCwgdG90YWxUaW1lKTtcbiAgICAgICAgcmV0dXJuIG9uRW5kO1xuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNhbGxlZCBieSAkYW5pbWF0ZSBzb1xuICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGF0dGFjaCB0aGlzIGludGVybmFsbHkgdG8gdGhlXG4gICAgICAgIC8vIHRpbWVvdXQgZG9uZSBtZXRob2QuXG4gICAgICAgIGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQub2ZmKGNzczNBbmltYXRpb25FdmVudHMsIG9uQW5pbWF0aW9uUHJvZ3Jlc3MpO1xuICAgICAgICAgICQkanFMaXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgcGVuZGluZ0NsYXNzTmFtZSk7XG4gICAgICAgICAgaWYgKHN0YWdnZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoc3RhZ2dlclRpbWVvdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbmltYXRlQ2xvc2UoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICB2YXIgbm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgICBmb3IgKHZhciBpIGluIGFwcGxpZWRTdHlsZXMpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoYXBwbGllZFN0eWxlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25BbmltYXRpb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHZhciBldiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQ7XG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IGV2LiRtYW51YWxUaW1lU3RhbXAgfHwgZXYudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cbiAgICAgICAgICAvKiBGaXJlZm94IChvciBwb3NzaWJseSBqdXN0IEdlY2tvKSBsaWtlcyB0byBub3Qgcm91bmQgdmFsdWVzIHVwXG4gICAgICAgICAgICogd2hlbiBhIG1zIG1lYXN1cmVtZW50IGlzIHVzZWQgZm9yIHRoZSBhbmltYXRpb24gKi9cbiAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwYXJzZUZsb2F0KGV2LmVsYXBzZWRUaW1lLnRvRml4ZWQoRUxBUFNFRF9USU1FX01BWF9ERUNJTUFMX1BMQUNFUykpO1xuXG4gICAgICAgICAgLyogJG1hbnVhbFRpbWVTdGFtcCBpcyBhIG1vY2tlZCB0aW1lU3RhbXAgdmFsdWUgd2hpY2ggaXMgc2V0XG4gICAgICAgICAgICogd2l0aGluIGJyb3dzZXJUcmlnZ2VyKCkuIFRoaXMgaXMgb25seSBoZXJlIHNvIHRoYXQgdGVzdHMgY2FuXG4gICAgICAgICAgICogbW9jayBhbmltYXRpb25zIHByb3Blcmx5LiBSZWFsIGV2ZW50cyBmYWxsYmFjayB0byBldmVudC50aW1lU3RhbXAsXG4gICAgICAgICAgICogb3IsIGlmIHRoZXkgZG9uJ3QsIHRoZW4gYSB0aW1lU3RhbXAgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGZvciB0aGVtLlxuICAgICAgICAgICAqIFdlJ3JlIGNoZWNraW5nIHRvIHNlZSBpZiB0aGUgdGltZVN0YW1wIHN1cnBhc3NlcyB0aGUgZXhwZWN0ZWQgZGVsYXksXG4gICAgICAgICAgICogYnV0IHdlJ3JlIHVzaW5nIGVsYXBzZWRUaW1lIGluc3RlYWQgb2YgdGhlIHRpbWVTdGFtcCBvbiB0aGUgMm5kXG4gICAgICAgICAgICogcHJlLWNvbmRpdGlvbiBzaW5jZSBhbmltYXRpb25zIHNvbWV0aW1lcyBjbG9zZSBvZmYgZWFybHkgKi9cbiAgICAgICAgICBpZiAoTWF0aC5tYXgodGltZVN0YW1wIC0gc3RhcnRUaW1lLCAwKSA+PSBtYXhEZWxheVRpbWUgJiYgZWxhcHNlZFRpbWUgPj0gbWF4RHVyYXRpb24pIHtcbiAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgYm9vbCkge1xuICAgICAgICBub2RlLnN0eWxlW1RSQU5TSVRJT05fUFJPUCArIFBST1BFUlRZX0tFWV0gPSBib29sID8gJ25vbmUnIDogJyc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJsb2NrQW5pbWF0aW9ucyhub2RlLCBib29sKSB7XG4gICAgICAgIG5vZGUuc3R5bGVbQU5JTUFUSU9OX1BST1AgKyBBTklNQVRJT05fUExBWVNUQVRFX0tFWV0gPSBib29sID8gJ3BhdXNlZCcgOiAnJztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYW5pbWF0ZUJlZm9yZShhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBzdHlsZXMpIHtcbiAgICAgICAgaWYgKGFuaW1hdGVTZXR1cChhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBzdHlsZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgY2FuY2VsbGVkICYmIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYW5pbWF0ZUFmdGVyKGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50LCBjbGFzc05hbWUsIGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcykge1xuICAgICAgICBpZiAoZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKSkge1xuICAgICAgICAgIHJldHVybiBhbmltYXRlUnVuKGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50LCBjbGFzc05hbWUsIGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsIHN0eWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0ZUNsb3NlKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgYWZ0ZXJBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGUoYW5pbWF0aW9uRXZlbnQsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGUsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9JZiB0aGUgYW5pbWF0ZVNldHVwIGZ1bmN0aW9uIGRvZXNuJ3QgYm90aGVyIHJldHVybmluZyBhXG4gICAgICAgIC8vY2FuY2VsbGF0aW9uIGZ1bmN0aW9uIHRoZW4gaXQgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBhbmltYXRpb25cbiAgICAgICAgLy90byBwZXJmb3JtIGF0IGFsbFxuICAgICAgICB2YXIgcHJlUmVmbG93Q2FuY2VsbGF0aW9uID0gYW5pbWF0ZUJlZm9yZShhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20pO1xuICAgICAgICBpZiAoIXByZVJlZmxvd0NhbmNlbGxhdGlvbikge1xuICAgICAgICAgIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpO1xuICAgICAgICAgIGFuaW1hdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9UaGVyZSBhcmUgdHdvIGNhbmNlbGxhdGlvbiBmdW5jdGlvbnM6IG9uZSBpcyBiZWZvcmUgdGhlIGZpcnN0XG4gICAgICAgIC8vcmVmbG93IGFuaW1hdGlvbiBhbmQgdGhlIHNlY29uZCBpcyBkdXJpbmcgdGhlIGFjdGl2ZSBzdGF0ZVxuICAgICAgICAvL2FuaW1hdGlvbi4gVGhlIGZpcnN0IGZ1bmN0aW9uIHdpbGwgdGFrZSBjYXJlIG9mIHJlbW92aW5nIHRoZVxuICAgICAgICAvL2RhdGEgZnJvbSB0aGUgZWxlbWVudCB3aGljaCB3aWxsIG5vdCBtYWtlIHRoZSAybmQgYW5pbWF0aW9uXG4gICAgICAgIC8vaGFwcGVuIGluIHRoZSBmaXJzdCBwbGFjZVxuICAgICAgICB2YXIgY2FuY2VsID0gcHJlUmVmbG93Q2FuY2VsbGF0aW9uO1xuICAgICAgICBhZnRlclJlZmxvdyhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvL29uY2UgdGhlIHJlZmxvdyBpcyBjb21wbGV0ZSB0aGVuIHdlIHBvaW50IGNhbmNlbCB0b1xuICAgICAgICAgIC8vdGhlIG5ldyBjYW5jZWxsYXRpb24gZnVuY3Rpb24gd2hpY2ggd2lsbCByZW1vdmUgYWxsIG9mIHRoZVxuICAgICAgICAgIC8vYW5pbWF0aW9uIHByb3BlcnRpZXMgZnJvbSB0aGUgYWN0aXZlIGFuaW1hdGlvblxuICAgICAgICAgIGNhbmNlbCA9IGFuaW1hdGVBZnRlcihhbmltYXRpb25FdmVudCwgZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZSwgb3B0aW9ucy50byk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYW5jZWxsZWQpIHtcbiAgICAgICAgICAoY2FuY2VsIHx8IG5vb3ApKGNhbmNlbGxlZCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGVDbG9zZShlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgIGRhdGEucnVubmluZy0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRhdGEucnVubmluZyB8fCBkYXRhLnJ1bm5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZnJvbSwgdG8sIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgICAgICAgb3B0aW9ucy50byA9IHRvO1xuICAgICAgICAgIHJldHVybiBhbmltYXRlKCdhbmltYXRlJywgZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbihlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZSgnZW50ZXInLCBlbGVtZW50LCAnbmctZW50ZXInLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZSgnbGVhdmUnLCBlbGVtZW50LCAnbmctbGVhdmUnLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIHJldHVybiBhbmltYXRlKCdtb3ZlJywgZWxlbWVudCwgJ25nLW1vdmUnLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJlZm9yZVNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHN1ZmZpeENsYXNzZXMocmVtb3ZlLCAnLXJlbW92ZScpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4Q2xhc3NlcyhhZGQsICctYWRkJyk7XG4gICAgICAgICAgdmFyIGNhbmNlbGxhdGlvbk1ldGhvZCA9IGFuaW1hdGVCZWZvcmUoJ3NldENsYXNzJywgZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zLmZyb20pO1xuICAgICAgICAgIGlmIChjYW5jZWxsYXRpb25NZXRob2QpIHtcbiAgICAgICAgICAgIGFmdGVyUmVmbG93KGVsZW1lbnQsIGFuaW1hdGlvbkNvbXBsZXRlZCk7XG4gICAgICAgICAgICByZXR1cm4gY2FuY2VsbGF0aW9uTWV0aG9kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKTtcbiAgICAgICAgICBhbmltYXRpb25Db21wbGV0ZWQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgY2FuY2VsbGF0aW9uTWV0aG9kID0gYW5pbWF0ZUJlZm9yZSgnYWRkQ2xhc3MnLCBlbGVtZW50LCBzdWZmaXhDbGFzc2VzKGNsYXNzTmFtZSwgJy1hZGQnKSwgb3B0aW9ucy5mcm9tKTtcbiAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBhZnRlclJlZmxvdyhlbGVtZW50LCBhbmltYXRpb25Db21wbGV0ZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbmNlbGxhdGlvbk1ldGhvZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYXJDYWNoZUFmdGVyUmVmbG93KCk7XG4gICAgICAgICAgYW5pbWF0aW9uQ29tcGxldGVkKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIGNhbmNlbGxhdGlvbk1ldGhvZCA9IGFuaW1hdGVCZWZvcmUoJ3JlbW92ZUNsYXNzJywgZWxlbWVudCwgc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsICctcmVtb3ZlJyksIG9wdGlvbnMuZnJvbSk7XG4gICAgICAgICAgaWYgKGNhbmNlbGxhdGlvbk1ldGhvZCkge1xuICAgICAgICAgICAgYWZ0ZXJSZWZsb3coZWxlbWVudCwgYW5pbWF0aW9uQ29tcGxldGVkKTtcbiAgICAgICAgICAgIHJldHVybiBjYW5jZWxsYXRpb25NZXRob2Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpO1xuICAgICAgICAgIGFuaW1hdGlvbkNvbXBsZXRlZCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgcmVtb3ZlID0gc3VmZml4Q2xhc3NlcyhyZW1vdmUsICctcmVtb3ZlJyk7XG4gICAgICAgICAgYWRkID0gc3VmZml4Q2xhc3NlcyhhZGQsICctYWRkJyk7XG4gICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHJlbW92ZSArICcgJyArIGFkZDtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZUFmdGVyKCdzZXRDbGFzcycsIGVsZW1lbnQsIGNsYXNzTmFtZSwgYW5pbWF0aW9uQ29tcGxldGVkLCBvcHRpb25zLnRvKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gYW5pbWF0ZUFmdGVyKCdhZGRDbGFzcycsIGVsZW1lbnQsIHN1ZmZpeENsYXNzZXMoY2xhc3NOYW1lLCAnLWFkZCcpLCBhbmltYXRpb25Db21wbGV0ZWQsIG9wdGlvbnMudG8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIHJldHVybiBhbmltYXRlQWZ0ZXIoJ3JlbW92ZUNsYXNzJywgZWxlbWVudCwgc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsICctcmVtb3ZlJyksIGFuaW1hdGlvbkNvbXBsZXRlZCwgb3B0aW9ucy50byk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHN1ZmZpeENsYXNzZXMoY2xhc3Nlcywgc3VmZml4KSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSAnJztcbiAgICAgICAgY2xhc3NlcyA9IGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzLCBpKSB7XG4gICAgICAgICAgaWYgKGtsYXNzICYmIGtsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAoaSA+IDAgPyAnICcgOiAnJykgKyBrbGFzcyArIHN1ZmZpeDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH1dKTtcbiAgfV0pO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuIiwiLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCduZ01hdGVyaWFsJywgW1wibmdcIixcIm5nQW5pbWF0ZVwiLFwibmdBcmlhXCIsXCJtYXRlcmlhbC5jb3JlXCIsXCJtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZVwiLFwibWF0ZXJpYWwuY29yZS50aGVtaW5nXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZVwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5ib3R0b21TaGVldFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuY2FyZFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5jaGVja2JveFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmRpYWxvZ1wiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5kaXZpZGVyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmdyaWRMaXN0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmljb25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0NpcmN1bGFyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzTGluZWFyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudGV4dEZpZWxkXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnRvb2xiYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudG9vbHRpcFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy53aGl0ZWZyYW1lXCJdKTtcbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gdGhhdCB2YWxpZGF0ZXMgZW52aXJvbm1lbnRcbiAqIHJlcXVpcmVtZW50cy5cbiAqL1xuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb3JlJywgWydtYXRlcmlhbC5jb3JlLnRoZW1pbmcnXSlcbiAgLmNvbmZpZyhNZENvcmVDb25maWd1cmUpO1xuXG5cbmZ1bmN0aW9uIE1kQ29yZUNvbmZpZ3VyZSgkcHJvdmlkZSwgJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XG4gICRwcm92aWRlLmRlY29yYXRvcignJCRyQUYnLCBbXCIkZGVsZWdhdGVcIiwgckFGRGVjb3JhdG9yXSk7XG5cbiAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAucHJpbWFyeVBhbGV0dGUoJ2luZGlnbycpXG4gICAgLmFjY2VudFBhbGV0dGUoJ3BpbmsnKVxuICAgIC53YXJuUGFsZXR0ZSgncmVkJylcbiAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ2dyZXknKTtcbn1cbk1kQ29yZUNvbmZpZ3VyZS4kaW5qZWN0ID0gW1wiJHByb3ZpZGVcIiwgXCIkbWRUaGVtaW5nUHJvdmlkZXJcIl07XG5cbmZ1bmN0aW9uIHJBRkRlY29yYXRvciggJGRlbGVnYXRlICkge1xuICAvKipcbiAgICogVXNlIHRoaXMgdG8gdGhyb3R0bGUgZXZlbnRzIHRoYXQgY29tZSBpbiBvZnRlbi5cbiAgICogVGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIGFsd2F5cyB1c2UgdGhlICpsYXN0KiBpbnZvY2F0aW9uIGJlZm9yZSB0aGVcbiAgICogY29taW5nIGZyYW1lLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgd2luZG93IHJlc2l6ZSBldmVudHMgdGhhdCBmaXJlIG1hbnkgdGltZXMgYSBzZWNvbmQ6XG4gICAqIElmIHdlIHNldCB0byB1c2UgYW4gcmFmLXRocm90dGxlZCBjYWxsYmFjayBvbiB3aW5kb3cgcmVzaXplLCB0aGVuXG4gICAqIG91ciBjYWxsYmFjayB3aWxsIG9ubHkgYmUgZmlyZWQgb25jZSBwZXIgZnJhbWUsIHdpdGggdGhlIGxhc3QgcmVzaXplXG4gICAqIGV2ZW50IHRoYXQgaGFwcGVuZWQgYmVmb3JlIHRoYXQgZnJhbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGRlYm91bmNlXG4gICAqL1xuICAkZGVsZWdhdGUudGhyb3R0bGUgPSBmdW5jdGlvbihjYikge1xuICAgIHZhciBxdWV1ZUFyZ3MsIGFscmVhZHlRdWV1ZWQsIHF1ZXVlQ2IsIGNvbnRleHQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgIHF1ZXVlQXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgcXVldWVDYiA9IGNiO1xuICAgICAgaWYgKCFhbHJlYWR5UXVldWVkKSB7XG4gICAgICAgIGFscmVhZHlRdWV1ZWQgPSB0cnVlO1xuICAgICAgICAkZGVsZWdhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcXVldWVDYi5hcHBseShjb250ZXh0LCBxdWV1ZUFyZ3MpO1xuICAgICAgICAgIGFscmVhZHlRdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuICRkZWxlZ2F0ZTtcbn1cblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuLmZhY3RvcnkoJyRtZENvbnN0YW50JywgTWRDb25zdGFudEZhY3RvcnkpO1xuXG5mdW5jdGlvbiBNZENvbnN0YW50RmFjdG9yeSgkJHJBRiwgJHNuaWZmZXIpIHtcblxuICB2YXIgd2Via2l0ID0gL3dlYmtpdC9pLnRlc3QoJHNuaWZmZXIudmVuZG9yUHJlZml4KTtcbiAgZnVuY3Rpb24gdmVuZG9yUHJvcGVydHkobmFtZSkge1xuICAgIHJldHVybiB3ZWJraXQgPyAgKCd3ZWJraXQnICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpKSA6IG5hbWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIEtFWV9DT0RFOiB7XG4gICAgICBFTlRFUjogMTMsXG4gICAgICBFU0NBUEU6IDI3LFxuICAgICAgU1BBQ0U6IDMyLFxuICAgICAgTEVGVF9BUlJPVyA6IDM3LFxuICAgICAgVVBfQVJST1cgOiAzOCxcbiAgICAgIFJJR0hUX0FSUk9XIDogMzksXG4gICAgICBET1dOX0FSUk9XIDogNDBcbiAgICB9LFxuICAgIENTUzoge1xuICAgICAgLyogQ29uc3RhbnRzICovXG4gICAgICBUUkFOU0lUSU9ORU5EOiAndHJhbnNpdGlvbmVuZCcgKyAod2Via2l0ID8gJyB3ZWJraXRUcmFuc2l0aW9uRW5kJyA6ICcnKSxcbiAgICAgIEFOSU1BVElPTkVORDogJ2FuaW1hdGlvbmVuZCcgKyAod2Via2l0ID8gJyB3ZWJraXRBbmltYXRpb25FbmQnIDogJycpLFxuXG4gICAgICBUUkFOU0ZPUk06IHZlbmRvclByb3BlcnR5KCd0cmFuc2Zvcm0nKSxcbiAgICAgIFRSQU5TRk9STV9PUklHSU46IHZlbmRvclByb3BlcnR5KCd0cmFuc2Zvcm1PcmlnaW4nKSxcbiAgICAgIFRSQU5TSVRJT046IHZlbmRvclByb3BlcnR5KCd0cmFuc2l0aW9uJyksXG4gICAgICBUUkFOU0lUSU9OX0RVUkFUSU9OOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNpdGlvbkR1cmF0aW9uJyksXG4gICAgICBBTklNQVRJT05fUExBWV9TVEFURTogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvblBsYXlTdGF0ZScpLFxuICAgICAgQU5JTUFUSU9OX0RVUkFUSU9OOiB2ZW5kb3JQcm9wZXJ0eSgnYW5pbWF0aW9uRHVyYXRpb24nKSxcbiAgICAgIEFOSU1BVElPTl9OQU1FOiB2ZW5kb3JQcm9wZXJ0eSgnYW5pbWF0aW9uTmFtZScpLFxuICAgICAgQU5JTUFUSU9OX1RJTUlORzogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvblRpbWluZ0Z1bmN0aW9uJyksXG4gICAgICBBTklNQVRJT05fRElSRUNUSU9OOiB2ZW5kb3JQcm9wZXJ0eSgnYW5pbWF0aW9uRGlyZWN0aW9uJylcbiAgICB9LFxuICAgIE1FRElBOiB7XG4gICAgICAnc20nOiAnKG1heC13aWR0aDogNjAwcHgpJyxcbiAgICAgICdndC1zbSc6ICcobWluLXdpZHRoOiA2MDBweCknLFxuICAgICAgJ21kJzogJyhtaW4td2lkdGg6IDYwMHB4KSBhbmQgKG1heC13aWR0aDogOTYwcHgpJyxcbiAgICAgICdndC1tZCc6ICcobWluLXdpZHRoOiA5NjBweCknLFxuICAgICAgJ2xnJzogJyhtaW4td2lkdGg6IDk2MHB4KSBhbmQgKG1heC13aWR0aDogMTIwMHB4KScsXG4gICAgICAnZ3QtbGcnOiAnKG1pbi13aWR0aDogMTIwMHB4KSdcbiAgICB9LFxuICAgIE1FRElBX1BSSU9SSVRZOiBbXG4gICAgICAnZ3QtbGcnLFxuICAgICAgJ2xnJyxcbiAgICAgICdndC1tZCcsXG4gICAgICAnbWQnLFxuICAgICAgJ2d0LXNtJyxcbiAgICAgICdzbSdcbiAgICBdXG4gIH07XG59XG5NZENvbnN0YW50RmFjdG9yeS4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkc25pZmZlclwiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpe1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuY29uZmlnKCBbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbigkcHJvdmlkZSl7XG4gICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckbWRVdGlsJywgWyckZGVsZWdhdGUnLCBmdW5jdGlvbiAoJGRlbGVnYXRlKXtcbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAqIEluamVjdCB0aGUgaXRlcmF0b3IgZmFjYWRlIHRvIGVhc2lseSBzdXBwb3J0IGl0ZXJhdGlvbiBhbmQgYWNjZXNzb3JzXG4gICAgICAgICAgICAqIEBzZWUgaXRlcmF0b3IgYmVsb3dcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICRkZWxlZ2F0ZS5pdGVyYXRvciA9IEl0ZXJhdG9yO1xuXG4gICAgICAgICAgIHJldHVybiAkZGVsZWdhdGU7XG4gICAgICAgICB9XG4gICAgICAgXSk7XG4gICAgIH1dKTtcblxuICAvKipcbiAgICogaXRlcmF0b3IgaXMgYSBsaXN0IGZhY2FkZSB0byBlYXNpbHkgc3VwcG9ydCBpdGVyYXRpb24gYW5kIGFjY2Vzc29yc1xuICAgKlxuICAgKiBAcGFyYW0gaXRlbXMgQXJyYXkgbGlzdCB3aGljaCB0aGlzIGl0ZXJhdG9yIHdpbGwgZW51bWVyYXRlXG4gICAqIEBwYXJhbSByZWxvb3AgQm9vbGVhbiBlbmFibGVzIGl0ZXJhdG9yIHRvIGNvbnNpZGVyIHRoZSBsaXN0IGFzIGFuIGVuZGxlc3MgcmVsb29wXG4gICAqL1xuICBmdW5jdGlvbiBJdGVyYXRvcihpdGVtcywgcmVsb29wKSB7XG4gICAgdmFyIHRydWVGbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfTtcblxuICAgIGlmIChpdGVtcyAmJiAhYW5ndWxhci5pc0FycmF5KGl0ZW1zKSkge1xuICAgICAgaXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVtcyk7XG4gICAgfVxuXG4gICAgcmVsb29wID0gISFyZWxvb3A7XG4gICAgdmFyIF9pdGVtcyA9IGl0ZW1zIHx8IFsgXTtcblxuICAgIC8vIFB1Ymxpc2hlZCBBUElcbiAgICByZXR1cm4ge1xuICAgICAgaXRlbXM6IGdldEl0ZW1zLFxuICAgICAgY291bnQ6IGNvdW50LFxuXG4gICAgICBpblJhbmdlOiBpblJhbmdlLFxuICAgICAgY29udGFpbnM6IGNvbnRhaW5zLFxuICAgICAgaW5kZXhPZjogaW5kZXhPZixcbiAgICAgIGl0ZW1BdDogaXRlbUF0LFxuXG4gICAgICBmaW5kQnk6IGZpbmRCeSxcblxuICAgICAgYWRkOiBhZGQsXG4gICAgICByZW1vdmU6IHJlbW92ZSxcblxuICAgICAgZmlyc3Q6IGZpcnN0LFxuICAgICAgbGFzdDogbGFzdCxcbiAgICAgIG5leHQ6IGFuZ3VsYXIuYmluZChudWxsLCBmaW5kU3Vic2VxdWVudEl0ZW0sIGZhbHNlKSxcbiAgICAgIHByZXZpb3VzOiBhbmd1bGFyLmJpbmQobnVsbCwgZmluZFN1YnNlcXVlbnRJdGVtLCB0cnVlKSxcblxuICAgICAgaGFzUHJldmlvdXM6IGhhc1ByZXZpb3VzLFxuICAgICAgaGFzTmV4dDogaGFzTmV4dFxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggY29weSBvZiB0aGUgZW51bWVyYWJsZSBzZXRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVtcygpIHtcbiAgICAgIHJldHVybiBbXS5jb25jYXQoX2l0ZW1zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgbGVuZ3RoIG9mIHRoZSBsaXN0XG4gICAgICogQHJldHVybnMge0FycmF5Lmxlbmd0aHwqfG51bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3VudCgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHRoZSBpbmRleCBzcGVjaWZpZWQgdmFsaWRcbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfGJvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShpbmRleCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGggJiYgKCBpbmRleCA+IC0xICkgJiYgKGluZGV4IDwgX2l0ZW1zLmxlbmd0aCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbiB0aGUgaXRlcmF0b3IgcHJvY2VlZCB0byB0aGUgbmV4dCBpdGVtIGluIHRoZSBsaXN0OyByZWxhdGl2ZSB0b1xuICAgICAqIHRoZSBzcGVjaWZpZWQgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMge0FycmF5Lmxlbmd0aHwqfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc05leHQoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpblJhbmdlKGluZGV4T2YoaXRlbSkgKyAxKSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbiB0aGUgaXRlcmF0b3IgcHJvY2VlZCB0byB0aGUgcHJldmlvdXMgaXRlbSBpbiB0aGUgbGlzdDsgcmVsYXRpdmUgdG9cbiAgICAgKiB0aGUgc3BlY2lmaWVkIGl0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEByZXR1cm5zIHtBcnJheS5sZW5ndGh8KnxudW1iZXJ8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQcmV2aW91cyhpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbSA/IGluUmFuZ2UoaW5kZXhPZihpdGVtKSAtIDEpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGl0ZW0gYXQgc3BlY2lmaWVkIGluZGV4L3Bvc2l0aW9uXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlbUF0KGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5SYW5nZShpbmRleCkgPyBfaXRlbXNbaW5kZXhdIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCBlbGVtZW50cyBtYXRjaGluZyB0aGUga2V5L3ZhbHVlIHBhaXJcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJuIG51bGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGFycmF5XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEJ5KGtleSwgdmFsKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtW2tleV0gPT09IHZhbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBpdGVtIHRvIGxpc3RcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZChpdGVtLCBpbmRleCkge1xuICAgICAgaWYgKCAhaXRlbSApIHJldHVybiAtMTtcblxuICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKGluZGV4KSkge1xuICAgICAgICBpbmRleCA9IF9pdGVtcy5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIF9pdGVtcy5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pO1xuXG4gICAgICByZXR1cm4gaW5kZXhPZihpdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgaXRlbSBmcm9tIGxpc3QuLi5cbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShpdGVtKSB7XG4gICAgICBpZiAoIGNvbnRhaW5zKGl0ZW0pICl7XG4gICAgICAgIF9pdGVtcy5zcGxpY2UoaW5kZXhPZihpdGVtKSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB6ZXJvLWJhc2VkIGluZGV4IG9mIHRoZSB0YXJnZXQgaXRlbVxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihpdGVtKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQm9vbGVhbiBleGlzdGVuY2UgY2hlY2tcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtICYmIChpbmRleE9mKGl0ZW0pID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBmaXJzdCBpdGVtIGluIHRoZSBsaXN0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlyc3QoKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCA/IF9pdGVtc1swXSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4uLlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aCA/IF9pdGVtc1tfaXRlbXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIG5leHQgaXRlbS4gSWYgcmVsb29wIGlzIHRydWUgYW5kIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QsIGl0IHdpbGxcbiAgICAgKiBnbyBiYWNrIHRvIHRoZSBmaXJzdCBpdGVtLiBJZiBnaXZlbiAsdGhlIGB2YWxpZGF0ZWAgY2FsbGJhY2sgd2lsbCBiZSB1c2VkXG4gICAgICogZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgaXRlbSBpcyB2YWxpZC4gSWYgbm90IHZhbGlkLCBpdCB3aWxsIHRyeSB0byBmaW5kIHRoZVxuICAgICAqIG5leHQgaXRlbSBhZ2Fpbi5cbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEBwYXJhbSB7b3B0aW9uYWx9IHZhbGlkYXRlIFZhbGlkYXRlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtvcHRpb25hbH0gbGltaXQgUmVjdXJzaW9uIGxpbWl0XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFN1YnNlcXVlbnRJdGVtKGJhY2t3YXJkcywgaXRlbSwgdmFsaWRhdGUsIGxpbWl0KSB7XG4gICAgICB2YWxpZGF0ZSA9IHZhbGlkYXRlIHx8IHRydWVGbjtcblxuICAgICAgdmFyIGN1ckluZGV4ID0gaW5kZXhPZihpdGVtKTtcbiAgICAgIGlmICghaW5SYW5nZShjdXJJbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0SW5kZXggPSBjdXJJbmRleCArIChiYWNrd2FyZHMgPyAtMSA6IDEpO1xuICAgICAgdmFyIGZvdW5kSXRlbSA9IG51bGw7XG4gICAgICBpZiAoaW5SYW5nZShuZXh0SW5kZXgpKSB7XG4gICAgICAgIGZvdW5kSXRlbSA9IF9pdGVtc1tuZXh0SW5kZXhdO1xuICAgICAgfSBlbHNlIGlmIChyZWxvb3ApIHtcbiAgICAgICAgZm91bmRJdGVtID0gYmFja3dhcmRzID8gbGFzdCgpIDogZmlyc3QoKTtcbiAgICAgICAgbmV4dEluZGV4ID0gaW5kZXhPZihmb3VuZEl0ZW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGZvdW5kSXRlbSA9PT0gbnVsbCkgfHwgKG5leHRJbmRleCA9PT0gbGltaXQpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChsaW1pdCkpIHtcbiAgICAgICAgbGltaXQgPSBuZXh0SW5kZXg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZGF0ZShmb3VuZEl0ZW0pID8gZm91bmRJdGVtIDogZmluZFN1YnNlcXVlbnRJdGVtKGJhY2t3YXJkcywgZm91bmRJdGVtLCB2YWxpZGF0ZSwgbGltaXQpO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuLmZhY3RvcnkoJyRtZE1lZGlhJywgbWRNZWRpYUZhY3RvcnkpO1xuXG4vKipcbiAqIEV4cG9zZXMgYSBmdW5jdGlvbiBvbiB0aGUgJyRtZE1lZGlhJyBzZXJ2aWNlIHdoaWNoIHdpbGwgcmV0dXJuIHRydWUgb3IgZmFsc2UsXG4gKiB3aGV0aGVyIHRoZSBnaXZlbiBtZWRpYSBxdWVyeSBtYXRjaGVzLiBSZS1ldmFsdWF0ZXMgb24gcmVzaXplLiBBbGxvd3MgcHJlc2V0c1xuICogZm9yICdzbScsICdtZCcsICdsZycuXG4gKlxuICogQGV4YW1wbGUgJG1kTWVkaWEoJ3NtJykgPT0gdHJ1ZSBpZiBkZXZpY2Utd2lkdGggPD0gc21cbiAqIEBleGFtcGxlICRtZE1lZGlhKCcobWluLXdpZHRoOiAxMjAwcHgpJykgPT0gdHJ1ZSBpZiBkZXZpY2Utd2lkdGggPj0gMTIwMHB4XG4gKiBAZXhhbXBsZSAkbWRNZWRpYSgnbWF4LXdpZHRoOiAzMDBweCcpID09IHRydWUgaWYgZGV2aWNlLXdpZHRoIDw9IDMwMHB4IChzYW5pdGl6ZXMgaW5wdXQsIGFkZGluZyBwYXJlbnMpXG4gKi9cbmZ1bmN0aW9uIG1kTWVkaWFGYWN0b3J5KCRtZENvbnN0YW50LCAkcm9vdFNjb3BlLCAkd2luZG93KSB7XG4gIHZhciBxdWVyaWVzID0ge307XG4gIHZhciBtcWxzID0ge307XG4gIHZhciByZXN1bHRzID0ge307XG4gIHZhciBub3JtYWxpemVDYWNoZSA9IHt9O1xuXG4gICRtZE1lZGlhLmdldFJlc3BvbnNpdmVBdHRyaWJ1dGUgPSBnZXRSZXNwb25zaXZlQXR0cmlidXRlO1xuICAkbWRNZWRpYS5nZXRRdWVyeSA9IGdldFF1ZXJ5O1xuICAkbWRNZWRpYS53YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzID0gd2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcztcblxuICByZXR1cm4gJG1kTWVkaWE7XG5cbiAgZnVuY3Rpb24gJG1kTWVkaWEocXVlcnkpIHtcbiAgICB2YXIgdmFsaWRhdGVkID0gcXVlcmllc1txdWVyeV07XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsaWRhdGVkKSkge1xuICAgICAgdmFsaWRhdGVkID0gcXVlcmllc1txdWVyeV0gPSB2YWxpZGF0ZShxdWVyeSk7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdHNbdmFsaWRhdGVkXTtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSBhZGQodmFsaWRhdGVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGUocXVlcnkpIHtcbiAgICByZXR1cm4gJG1kQ29uc3RhbnQuTUVESUFbcXVlcnldIHx8XG4gICAgICAgICAgICgocXVlcnkuY2hhckF0KDApICE9PSAnKCcpID8gKCcoJyArIHF1ZXJ5ICsgJyknKSA6IHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZChxdWVyeSkge1xuICAgIHZhciByZXN1bHQgPSBtcWxzW3F1ZXJ5XSA9ICR3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgcmVzdWx0LmFkZExpc3RlbmVyKG9uUXVlcnlDaGFuZ2UpO1xuICAgIHJldHVybiAocmVzdWx0c1tyZXN1bHQubWVkaWFdID0gISFyZXN1bHQubWF0Y2hlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvblF1ZXJ5Q2hhbmdlKHF1ZXJ5KSB7XG4gICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgcmVzdWx0c1txdWVyeS5tZWRpYV0gPSAhIXF1ZXJ5Lm1hdGNoZXM7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeShuYW1lKSB7XG4gICAgcmV0dXJuIG1xbHNbbmFtZV07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCBhdHRyTmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJG1kQ29uc3RhbnQuTUVESUFfUFJJT1JJVFkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtZWRpYU5hbWUgPSAkbWRDb25zdGFudC5NRURJQV9QUklPUklUWVtpXTtcbiAgICAgIGlmICghbXFsc1txdWVyaWVzW21lZGlhTmFtZV1dLm1hdGNoZXMpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IGdldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSArICctJyArIG1lZGlhTmFtZSk7XG4gICAgICBpZiAoYXR0cnNbbm9ybWFsaXplZE5hbWVdKSB7XG4gICAgICAgIHJldHVybiBhdHRyc1tub3JtYWxpemVkTmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmFsbGJhY2sgb24gdW5wcmVmaXhlZFxuICAgIHJldHVybiBhdHRyc1tnZXROb3JtYWxpemVkTmFtZShhdHRycywgYXR0ck5hbWUpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXMoYXR0ck5hbWVzLCBhdHRycywgd2F0Y2hGbikge1xuICAgIHZhciB1bndhdGNoRm5zID0gW107XG4gICAgYXR0ck5hbWVzLmZvckVhY2goZnVuY3Rpb24oYXR0ck5hbWUpIHtcbiAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IGdldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSk7XG4gICAgICBpZiAoYXR0cnNbbm9ybWFsaXplZE5hbWVdKSB7XG4gICAgICAgIHVud2F0Y2hGbnMucHVzaChcbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKG5vcm1hbGl6ZWROYW1lLCBhbmd1bGFyLmJpbmQodm9pZCAwLCB3YXRjaEZuLCBudWxsKSkpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBtZWRpYU5hbWUgaW4gJG1kQ29uc3RhbnQuTUVESUEpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWROYW1lID0gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lICsgJy0nICsgbWVkaWFOYW1lKTtcbiAgICAgICAgaWYgKCFhdHRyc1tub3JtYWxpemVkTmFtZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1bndhdGNoRm5zLnB1c2goYXR0cnMuJG9ic2VydmUobm9ybWFsaXplZE5hbWUsIGFuZ3VsYXIuYmluZCh2b2lkIDAsIHdhdGNoRm4sIG1lZGlhTmFtZSkpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bndhdGNoKCkge1xuICAgICAgdW53YXRjaEZucy5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7IGZuKCk7IH0pXG4gICAgfTtcbiAgfVxuXG4gIC8vIEltcHJvdmVzIHBlcmZvcm1hbmNlIGRyYW1hdGljYWxseVxuICBmdW5jdGlvbiBnZXROb3JtYWxpemVkTmFtZShhdHRycywgYXR0ck5hbWUpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplQ2FjaGVbYXR0ck5hbWVdIHx8XG4gICAgICAgIChub3JtYWxpemVDYWNoZVthdHRyTmFtZV0gPSBhdHRycy4kbm9ybWFsaXplKGF0dHJOYW1lKSk7XG4gIH1cbn1cbm1kTWVkaWFGYWN0b3J5LiRpbmplY3QgPSBbXCIkbWRDb25zdGFudFwiLCBcIiRyb290U2NvcGVcIiwgXCIkd2luZG93XCJdO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogVGhpcyB2YXIgaGFzIHRvIGJlIG91dHNpZGUgdGhlIGFuZ3VsYXIgZmFjdG9yeSwgb3RoZXJ3aXNlIHdoZW5cbiAqIHRoZXJlIGFyZSBtdWx0aXBsZSBtYXRlcmlhbCBhcHBzIG9uIHRoZSBzYW1lIHBhZ2UsIGVhY2ggYXBwXG4gKiB3aWxsIGNyZWF0ZSBpdHMgb3duIGluc3RhbmNlIG9mIHRoaXMgYXJyYXkgYW5kIHRoZSBhcHAncyBJRHNcbiAqIHdpbGwgbm90IGJlIHVuaXF1ZS5cbiAqL1xudmFyIG5leHRVbmlxdWVJZCA9IFsnMCcsJzAnLCcwJ107XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbi5mYWN0b3J5KCckbWRVdGlsJywgW1wiJGNhY2hlRmFjdG9yeVwiLCBcIiRkb2N1bWVudFwiLCBcIiR0aW1lb3V0XCIsIFwiJHFcIiwgXCIkbWRDb25zdGFudFwiLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5LCAkZG9jdW1lbnQsICR0aW1lb3V0LCAkcSwgJG1kQ29uc3RhbnQpIHtcbiAgdmFyIFV0aWw7XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZShlbCkge1xuICAgIHJldHVybiBlbFswXSB8fCBlbDtcbiAgfVxuXG4gIHJldHVybiBVdGlsID0ge1xuICAgIG5vdzogd2luZG93LnBlcmZvcm1hbmNlID9cbiAgICAgIGFuZ3VsYXIuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UsIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpIDogXG4gICAgICBEYXRlLm5vdyxcblxuICAgIGNsaWVudFJlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQsIG9mZnNldFBhcmVudCwgaXNPZmZzZXRSZWN0KSB7XG4gICAgICB2YXIgbm9kZSA9IGdldE5vZGUoZWxlbWVudCk7XG4gICAgICBvZmZzZXRQYXJlbnQgPSBnZXROb2RlKG9mZnNldFBhcmVudCB8fCBub2RlLm9mZnNldFBhcmVudCB8fCBkb2N1bWVudC5ib2R5KTtcbiAgICAgIHZhciBub2RlUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIC8vIFRoZSB1c2VyIGNhbiBhc2sgZm9yIGFuIG9mZnNldFJlY3Q6IGEgcmVjdCByZWxhdGl2ZSB0byB0aGUgb2Zmc2V0UGFyZW50LFxuICAgICAgLy8gb3IgYSBjbGllbnRSZWN0OiBhIHJlY3QgcmVsYXRpdmUgdG8gdGhlIHBhZ2VcbiAgICAgIHZhciBvZmZzZXRSZWN0ID0gaXNPZmZzZXRSZWN0ID9cbiAgICAgICAgb2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogXG4gICAgICAgIHsgbGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBub2RlUmVjdC5sZWZ0IC0gb2Zmc2V0UmVjdC5sZWZ0ICsgb2Zmc2V0UGFyZW50LnNjcm9sbExlZnQsXG4gICAgICAgIHRvcDogbm9kZVJlY3QudG9wIC0gb2Zmc2V0UmVjdC50b3AgKyBvZmZzZXRQYXJlbnQuc2Nyb2xsVG9wLFxuICAgICAgICB3aWR0aDogbm9kZVJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogbm9kZVJlY3QuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG4gICAgb2Zmc2V0UmVjdDogZnVuY3Rpb24oZWxlbWVudCwgb2Zmc2V0UGFyZW50KSB7XG4gICAgICByZXR1cm4gVXRpbC5jbGllbnRSZWN0KGVsZW1lbnQsIG9mZnNldFBhcmVudCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBNb2JpbGUgc2FmYXJpIG9ubHkgYWxsb3dzIHlvdSB0byBzZXQgZm9jdXMgaW4gY2xpY2sgZXZlbnQgbGlzdGVuZXJzLi4uXG4gICAgZm9yY2VGb2N1czogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdIHx8IGVsZW1lbnQ7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gZm9jdXNPbkNsaWNrKGV2KSB7XG4gICAgICAgIGlmIChldi50YXJnZXQgPT09IG5vZGUgJiYgZXYuJGZvY3VzKSB7XG4gICAgICAgICAgbm9kZS5mb2N1cygpO1xuICAgICAgICAgIGV2LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGZvY3VzT25DbGljayk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICB2YXIgbmV3RXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgIG5ld0V2ZW50LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIGZhbHNlLCB0cnVlLCB3aW5kb3csIHt9LCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICBuZXdFdmVudC4kbWF0ZXJpYWwgPSB0cnVlO1xuICAgICAgbmV3RXZlbnQuJGZvY3VzID0gdHJ1ZTtcbiAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgfSxcblxuICAgIHRyYW5zaXRpb25FbmRQcm9taXNlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgZWxlbWVudC5vbigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgZmluaXNoZWQpO1xuICAgICAgZnVuY3Rpb24gZmluaXNoZWQoZXYpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgdHJhbnNpdGlvbmVuZCBkaWRuJ3QgYnViYmxlIHVwIGZyb20gYSBjaGlsZFxuICAgICAgICBpZiAoZXYudGFyZ2V0ID09PSBlbGVtZW50WzBdKSB7XG4gICAgICAgICAgZWxlbWVudC5vZmYoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIGZpbmlzaGVkKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICBmYWtlTmdNb2RlbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkZmFrZTogdHJ1ZSxcbiAgICAgICAgJHNldFRvdWNoZWQgOiBhbmd1bGFyLm5vb3AsXG4gICAgICAgICRzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy4kcmVuZGVyKHZhbHVlKTtcbiAgICAgICAgICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oY2IpIHsgY2IoKTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgICRpc0VtcHR5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAoJycrdmFsdWUpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlcnM6IFtdLFxuICAgICAgICAkZm9ybWF0dGVyczogW10sXG4gICAgICAgICR2aWV3Q2hhbmdlTGlzdGVuZXJzOiBbXSxcbiAgICAgICAgJHJlbmRlcjogYW5ndWxhci5ub29wXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gICAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAgIC8vIE4gbWlsbGlzZWNvbmRzLlxuICAgIC8vIEBwYXJhbSB3YWl0IEludGVnZXIgdmFsdWUgb2YgbXNlY3MgdG8gZGVsYXkgKHNpbmNlIGxhc3QgZGVib3VuY2UgcmVzZXQpOyBkZWZhdWx0IHZhbHVlIDEwIG1zZWNzXG4gICAgLy8gQHBhcmFtIGludm9rZUFwcGx5IHNob3VsZCB0aGUgJHRpbWVvdXQgdHJpZ2dlciAkZGlnZXN0KCkgZGlydHkgY2hlY2tpbmdcbiAgICBkZWJvdW5jZTogZnVuY3Rpb24gKGZ1bmMsIHdhaXQsIHNjb3BlLCBpbnZva2VBcHBseSkge1xuICAgICAgdmFyIHRpbWVyO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHNjb3BlLFxuICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXG4gICAgICAgIH0sIHdhaXQgfHwgMTAsIGludm9rZUFwcGx5ICk7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjYW4gb25seSBiZSB0cmlnZ2VyZWQgZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMuXG4gICAgLy8gSW4gb3RoZXIgd29yZHMsIHRoZSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIGl0IGhhcyBiZWVuIG1vcmVcbiAgICAvLyB0aGFuIGBkZWxheWAgbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBsYXN0IGNhbGwuXG4gICAgdGhyb3R0bGU6IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIGRlbGF5KSB7XG4gICAgICB2YXIgcmVjZW50O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRocm90dGxlZCgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgdmFyIG5vdyA9IFV0aWwubm93KCk7XG5cbiAgICAgICAgaWYgKCFyZWNlbnQgfHwgKG5vdyAtIHJlY2VudCA+IGRlbGF5KSkge1xuICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgcmVjZW50ID0gbm93O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0YWtlbiB0byBydW4gdGhlIHByb3ZpZGVkIGNhbGxiYWNrXG4gICAgICogZnVuY3Rpb24uIFVzZXMgYSBoaWdoLXByZWNpc2lvbiB0aW1lciBpZiBhdmFpbGFibGUuXG4gICAgICovXG4gICAgdGltZTogZnVuY3Rpb24gdGltZShjYikge1xuICAgICAgdmFyIHN0YXJ0ID0gVXRpbC5ub3coKTtcbiAgICAgIGNiKCk7XG4gICAgICByZXR1cm4gVXRpbC5ub3coKSAtIHN0YXJ0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBuZXh0VWlkLCBmcm9tIGFuZ3VsYXIuanMuXG4gICAgICogQSBjb25zaXN0ZW50IHdheSBvZiBjcmVhdGluZyB1bmlxdWUgSURzIGluIGFuZ3VsYXIuIFRoZSBJRCBpcyBhIHNlcXVlbmNlIG9mIGFscGhhIG51bWVyaWNcbiAgICAgKiBjaGFyYWN0ZXJzIHN1Y2ggYXMgJzAxMkFCQycuIFRoZSByZWFzb24gd2h5IHdlIGFyZSBub3QgdXNpbmcgc2ltcGx5IGEgbnVtYmVyIGNvdW50ZXIgaXMgdGhhdFxuICAgICAqIHRoZSBudW1iZXIgc3RyaW5nIGdldHMgbG9uZ2VyIG92ZXIgdGltZSwgYW5kIGl0IGNhbiBhbHNvIG92ZXJmbG93LCB3aGVyZSBhcyB0aGUgbmV4dElkXG4gICAgICogd2lsbCBncm93IG11Y2ggc2xvd2VyLCBpdCBpcyBhIHN0cmluZywgYW5kIGl0IHdpbGwgbmV2ZXIgb3ZlcmZsb3cuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcbiAgICAgKi9cbiAgICBuZXh0VWlkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbmRleCA9IG5leHRVbmlxdWVJZC5sZW5ndGg7XG4gICAgICB2YXIgZGlnaXQ7XG5cbiAgICAgIHdoaWxlKGluZGV4KSB7XG4gICAgICAgIGluZGV4LS07XG4gICAgICAgIGRpZ2l0ID0gbmV4dFVuaXF1ZUlkW2luZGV4XS5jaGFyQ29kZUF0KDApO1xuICAgICAgICBpZiAoZGlnaXQgPT0gNTcgLyonOScqLykge1xuICAgICAgICAgIG5leHRVbmlxdWVJZFtpbmRleF0gPSAnQSc7XG4gICAgICAgICAgcmV0dXJuIG5leHRVbmlxdWVJZC5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlnaXQgPT0gOTAgIC8qJ1onKi8pIHtcbiAgICAgICAgICBuZXh0VW5pcXVlSWRbaW5kZXhdID0gJzAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRVbmlxdWVJZFtpbmRleF0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRpZ2l0ICsgMSk7XG4gICAgICAgICAgcmV0dXJuIG5leHRVbmlxdWVJZC5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dFVuaXF1ZUlkLnVuc2hpZnQoJzAnKTtcbiAgICAgIHJldHVybiBuZXh0VW5pcXVlSWQuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIFN0b3Agd2F0Y2hlcnMgYW5kIGV2ZW50cyBmcm9tIGZpcmluZyBvbiBhIHNjb3BlIHdpdGhvdXQgZGVzdHJveWluZyBpdCxcbiAgICAvLyBieSBkaXNjb25uZWN0aW5nIGl0IGZyb20gaXRzIHBhcmVudCBhbmQgaXRzIHNpYmxpbmdzJyBsaW5rZWQgbGlzdHMuXG4gICAgZGlzY29ubmVjdFNjb3BlOiBmdW5jdGlvbiBkaXNjb25uZWN0U2NvcGUoc2NvcGUpIHtcbiAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgLy8gd2UgY2FuJ3QgZGVzdHJveSB0aGUgcm9vdCBzY29wZSBvciBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWRcbiAgICAgIGlmIChzY29wZS4kcm9vdCA9PT0gc2NvcGUpIHJldHVybjtcbiAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCApIHJldHVybjtcblxuICAgICAgdmFyIHBhcmVudCA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICBzY29wZS4kJGRpc2Nvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIC8vIFNlZSBTY29wZS4kZGVzdHJveVxuICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PT0gc2NvcGUpIHBhcmVudC4kJGNoaWxkSGVhZCA9IHNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICBpZiAocGFyZW50LiQkY2hpbGRUYWlsID09PSBzY29wZSkgcGFyZW50LiQkY2hpbGRUYWlsID0gc2NvcGUuJCRwcmV2U2libGluZztcbiAgICAgIGlmIChzY29wZS4kJHByZXZTaWJsaW5nKSBzY29wZS4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJG5leHRTaWJsaW5nO1xuICAgICAgaWYgKHNjb3BlLiQkbmV4dFNpYmxpbmcpIHNjb3BlLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHNjb3BlLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgIHNjb3BlLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJHByZXZTaWJsaW5nID0gbnVsbDtcblxuICAgIH0sXG5cbiAgICAvLyBVbmRvIHRoZSBlZmZlY3RzIG9mIGRpc2Nvbm5lY3RTY29wZSBhYm92ZS5cbiAgICByZWNvbm5lY3RTY29wZTogZnVuY3Rpb24gcmVjb25uZWN0U2NvcGUoc2NvcGUpIHtcbiAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgLy8gd2UgY2FuJ3QgZGlzY29ubmVjdCB0aGUgcm9vdCBub2RlIG9yIHNjb3BlIGFscmVhZHkgZGlzY29ubmVjdGVkXG4gICAgICBpZiAoc2NvcGUuJHJvb3QgPT09IHNjb3BlKSByZXR1cm47XG4gICAgICBpZiAoIXNjb3BlLiQkZGlzY29ubmVjdGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBjaGlsZCA9IHNjb3BlO1xuXG4gICAgICB2YXIgcGFyZW50ID0gY2hpbGQuJHBhcmVudDtcbiAgICAgIGNoaWxkLiQkZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAvLyBTZWUgU2NvcGUuJG5ldyBmb3IgdGhpcyBsb2dpYy4uLlxuICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgIH1cbiAgICB9LFxuICAvKlxuICAgKiBnZXRDbG9zZXN0IHJlcGxpY2F0ZXMgalF1ZXJ5LmNsb3Nlc3QoKSB0byB3YWxrIHVwIHRoZSBET00gdHJlZSB1bnRpbCBpdCBmaW5kcyBhIG1hdGNoaW5nIG5vZGVOYW1lXG4gICAqXG4gICAqIEBwYXJhbSBlbCBFbGVtZW50IHRvIHN0YXJ0IHdhbGtpbmcgdGhlIERPTSBmcm9tXG4gICAqIEBwYXJhbSB0YWdOYW1lIFRhZyBuYW1lIHRvIGZpbmQgY2xvc2VzdCB0byBlbCwgc3VjaCBhcyAnZm9ybSdcbiAgICovXG4gICAgZ2V0Q2xvc2VzdDogZnVuY3Rpb24gZ2V0Q2xvc2VzdChlbCwgdGFnTmFtZSkge1xuICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKGVsLm5vZGVOYW1lID09PSB0YWdOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChlbCA9IGVsLnBhcmVudE5vZGUpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG59XSk7XG5cbi8qXG4gKiBTaW5jZSByZW1vdmluZyBqUXVlcnkgZnJvbSB0aGUgZGVtb3MsIHNvbWUgY29kZSB0aGF0IHVzZXMgYGVsZW1lbnQuZm9jdXMoKWAgaXMgYnJva2VuLlxuICpcbiAqIFdlIG5lZWQgdG8gYWRkIGBlbGVtZW50LmZvY3VzKClgLCBiZWNhdXNlIGl0J3MgdGVzdGFibGUgdW5saWtlIGBlbGVtZW50WzBdLmZvY3VzYC5cbiAqXG4gKiBUT0RPKGFqb3NsaW4pOiBUaGlzIHNob3VsZCBiZSBhZGRlZCBpbiBhIGJldHRlciBwbGFjZSBsYXRlci5cbiAqL1xuXG5hbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5mb2N1cyB8fCBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgdGhpc1swXS5mb2N1cygpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcbmFuZ3VsYXIuZWxlbWVudC5wcm90b3R5cGUuYmx1ciA9IGFuZ3VsYXIuZWxlbWVudC5wcm90b3R5cGUuYmx1ciB8fCBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgdGhpc1swXS5ibHVyKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5zZXJ2aWNlKCckbWRBcmlhJywgQXJpYVNlcnZpY2UpO1xuXG5mdW5jdGlvbiBBcmlhU2VydmljZSgkJHJBRiwgJGxvZywgJHdpbmRvdykge1xuXG4gIHJldHVybiB7XG4gICAgZXhwZWN0OiBleHBlY3QsXG4gICAgZXhwZWN0QXN5bmM6IGV4cGVjdEFzeW5jLFxuICAgIGV4cGVjdFdpdGhUZXh0OiBleHBlY3RXaXRoVGV4dFxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBleHBlY3RlZCBhdHRyaWJ1dGUgaGFzIGJlZW4gc3BlY2lmaWVkIG9uIHRoZSB0YXJnZXQgZWxlbWVudCBvciBjaGlsZFxuICAgKiBAcGFyYW0gZWxlbWVudFxuICAgKiBAcGFyYW0gYXR0ck5hbWVcbiAgICogQHBhcmFtIHtvcHRpb25hbH0gZGVmYXVsdFZhbHVlIFdoYXQgdG8gc2V0IHRoZSBhdHRyIHRvIGlmIG5vIHZhbHVlIGlzIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBleHBlY3QoZWxlbWVudCwgYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcblxuICAgIGlmICghbm9kZS5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpICYmICFjaGlsZEhhc0F0dHJpYnV0ZShub2RlLCBhdHRyTmFtZSkpIHtcblxuICAgICAgZGVmYXVsdFZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlLnRyaW0oKSA6ICcnO1xuICAgICAgaWYgKGRlZmF1bHRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJOYW1lLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGxvZy53YXJuKCdBUklBOiBBdHRyaWJ1dGUgXCInLCBhdHRyTmFtZSwgJ1wiLCByZXF1aXJlZCBmb3IgYWNjZXNzaWJpbGl0eSwgaXMgbWlzc2luZyBvbiBub2RlOicsIG5vZGUpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0QXN5bmMoZWxlbWVudCwgYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZUdldHRlcikge1xuICAgIC8vIFByb2JsZW06IHdoZW4gcmV0cmlldmluZyB0aGUgZWxlbWVudCdzIGNvbnRlbnRzIHN5bmNocm9ub3VzbHkgdG8gZmluZCB0aGUgbGFiZWwsXG4gICAgLy8gdGhlIHRleHQgbWF5IG5vdCBiZSBkZWZpbmVkIHlldCBpbiB0aGUgY2FzZSBvZiBhIGJpbmRpbmcuXG4gICAgLy8gVGhlcmUgaXMgYSBoaWdoZXIgY2hhbmNlIHRoYXQgYSBiaW5kaW5nIHdpbGwgYmUgZGVmaW5lZCBpZiB3ZSB3YWl0IG9uZSBmcmFtZS5cbiAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChlbGVtZW50LCBhdHRyTmFtZSwgZGVmYXVsdFZhbHVlR2V0dGVyKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0V2l0aFRleHQoZWxlbWVudCwgYXR0ck5hbWUpIHtcbiAgICBleHBlY3RBc3luYyhlbGVtZW50LCBhdHRyTmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0VGV4dChlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRleHQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnRleHQoKS50cmltKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGlsZEhhc0F0dHJpYnV0ZShub2RlLCBhdHRyTmFtZSkge1xuICAgIHZhciBoYXNDaGlsZHJlbiA9IG5vZGUuaGFzQ2hpbGROb2RlcygpLFxuICAgICAgICBoYXNBdHRyID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBpc0hpZGRlbihlbCkge1xuICAgICAgdmFyIHN0eWxlID0gZWwuY3VycmVudFN0eWxlID8gZWwuY3VycmVudFN0eWxlIDogJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgIHJldHVybiAoc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKTtcbiAgICB9XG5cbiAgICBpZihoYXNDaGlsZHJlbikge1xuICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgICAgZm9yKHZhciBpPTA7IGk8Y2hpbGRyZW4ubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT09IDEgJiYgY2hpbGQuaGFzQXR0cmlidXRlKGF0dHJOYW1lKSkge1xuICAgICAgICAgIGlmKCFpc0hpZGRlbihjaGlsZCkpe1xuICAgICAgICAgICAgaGFzQXR0ciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNBdHRyO1xuICB9XG59XG5BcmlhU2VydmljZS4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkbG9nXCIsIFwiJHdpbmRvd1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgLnNlcnZpY2UoJyRtZENvbXBpbGVyJywgbWRDb21waWxlclNlcnZpY2UpO1xuXG5mdW5jdGlvbiBtZENvbXBpbGVyU2VydmljZSgkcSwgJGh0dHAsICRpbmplY3RvciwgJGNvbXBpbGUsICRjb250cm9sbGVyLCAkdGVtcGxhdGVDYWNoZSkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cbiAgLypcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kQ29tcGlsZXJcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgJG1kQ29tcGlsZXIgc2VydmljZSBpcyBhbiBhYnN0cmFjdGlvbiBvZiBhbmd1bGFyJ3MgY29tcGlsZXIsIHRoYXQgYWxsb3dzIHRoZSBkZXZlbG9wZXJcbiAgICogdG8gZWFzaWx5IGNvbXBpbGUgYW4gZWxlbWVudCB3aXRoIGEgdGVtcGxhdGVVcmwsIGNvbnRyb2xsZXIsIGFuZCBsb2NhbHMuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogJG1kQ29tcGlsZXIuY29tcGlsZSh7XG4gICAqICAgdGVtcGxhdGVVcmw6ICdtb2RhbC5odG1sJyxcbiAgICogICBjb250cm9sbGVyOiAnTW9kYWxDdHJsJyxcbiAgICogICBsb2NhbHM6IHtcbiAgICogICAgIG1vZGFsOiBteU1vZGFsSW5zdGFuY2U7XG4gICAqICAgfVxuICAgKiB9KS50aGVuKGZ1bmN0aW9uKGNvbXBpbGVEYXRhKSB7XG4gICAqICAgY29tcGlsZURhdGEuZWxlbWVudDsgLy8gbW9kYWwuaHRtbCdzIHRlbXBsYXRlIGluIGFuIGVsZW1lbnRcbiAgICogICBjb21waWxlRGF0YS5saW5rKG15U2NvcGUpOyAvL2F0dGFjaCBjb250cm9sbGVyICYgc2NvcGUgdG8gZWxlbWVudFxuICAgKiB9KTtcbiAgICogPC9obGpzPlxuICAgKi9cblxuICAgLypcbiAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAqIEBuYW1lICRtZENvbXBpbGVyI2NvbXBpbGVcbiAgICAqIEBkZXNjcmlwdGlvbiBBIGhlbHBlciB0byBjb21waWxlIGFuIEhUTUwgdGVtcGxhdGUvdGVtcGxhdGVVcmwgd2l0aCBhIGdpdmVuIGNvbnRyb2xsZXIsXG4gICAgKiBsb2NhbHMsIGFuZCBzY29wZS5cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAqXG4gICAgKiAgICAtIGBjb250cm9sbGVyYCAtIGB7KHN0cmluZz18ZnVuY3Rpb24oKT19YCBDb250cm9sbGVyIGZuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aFxuICAgICogICAgICBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEgcmVnaXN0ZXJlZCBjb250cm9sbGVyIGlmIHBhc3NlZCBhcyBhIHN0cmluZy5cbiAgICAqICAgIC0gYGNvbnRyb2xsZXJBc2AgLSBge3N0cmluZz19YCBBIGNvbnRyb2xsZXIgYWxpYXMgbmFtZS4gSWYgcHJlc2VudCB0aGUgY29udHJvbGxlciB3aWxsIGJlXG4gICAgKiAgICAgIHB1Ymxpc2hlZCB0byBzY29wZSB1bmRlciB0aGUgYGNvbnRyb2xsZXJBc2AgbmFtZS5cbiAgICAqICAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gIEFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcuXG4gICAgKiAgICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YCBBIHBhdGggdG8gYW4gaHRtbCB0ZW1wbGF0ZS5cbiAgICAqICAgIC0gYHRyYW5zZm9ybVRlbXBsYXRlYCAtIGB7ZnVuY3Rpb24odGVtcGxhdGUpPX1gIEEgZnVuY3Rpb24gd2hpY2ggdHJhbnNmb3JtcyB0aGUgdGVtcGxhdGUgYWZ0ZXJcbiAgICAqICAgICAgaXQgaXMgbG9hZGVkLiBJdCB3aWxsIGJlIGdpdmVuIHRoZSB0ZW1wbGF0ZSBzdHJpbmcgYXMgYSBwYXJhbWV0ZXIsIGFuZCBzaG91bGRcbiAgICAqICAgICAgcmV0dXJuIGEgYSBuZXcgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdHJhbnNmb3JtZWQgdGVtcGxhdGUuXG4gICAgKiAgICAtIGByZXNvbHZlYCAtIGB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPj19YCAtIEFuIG9wdGlvbmFsIG1hcCBvZiBkZXBlbmRlbmNpZXMgd2hpY2ggc2hvdWxkXG4gICAgKiAgICAgIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuIElmIGFueSBvZiB0aGVzZSBkZXBlbmRlbmNpZXMgYXJlIHByb21pc2VzLCB0aGUgY29tcGlsZXJcbiAgICAqICAgICAgd2lsbCB3YWl0IGZvciB0aGVtIGFsbCB0byBiZSByZXNvbHZlZCwgb3IgaWYgb25lIGlzIHJlamVjdGVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBpc1xuICAgICogICAgICBpbnN0YW50aWF0ZWQgYGNvbXBpbGUoKWAgd2lsbCBmYWlsLi5cbiAgICAqICAgICAgKiBga2V5YCAtIGB7c3RyaW5nfWA6IGEgbmFtZSBvZiBhIGRlcGVuZGVuY3kgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci5cbiAgICAqICAgICAgKiBgZmFjdG9yeWAgLSBge3N0cmluZ3xmdW5jdGlvbn1gOiBJZiBgc3RyaW5nYCB0aGVuIGl0IGlzIGFuIGFsaWFzIGZvciBhIHNlcnZpY2UuXG4gICAgKiAgICAgICAgT3RoZXJ3aXNlIGlmIGZ1bmN0aW9uLCB0aGVuIGl0IGlzIGluamVjdGVkIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIHRyZWF0ZWQgYXMgdGhlXG4gICAgKiAgICAgICAgZGVwZW5kZW5jeS4gSWYgdGhlIHJlc3VsdCBpcyBhIHByb21pc2UsIGl0IGlzIHJlc29sdmVkIGJlZm9yZSBpdHMgdmFsdWUgaXMgXG4gICAgKiAgICAgICAgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqZWN0PX0gcHJvbWlzZSBBIHByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGBjb21waWxlRGF0YWAgb2JqZWN0LlxuICAgICogYGNvbXBpbGVEYXRhYCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOiBcbiAgICAqXG4gICAgKiAgIC0gYGVsZW1lbnRgIC0gYHtlbGVtZW50fWA6IGFuIHVuY29tcGlsZWQgZWxlbWVudCBtYXRjaGluZyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUuXG4gICAgKiAgIC0gYGxpbmtgIC0gYHtmdW5jdGlvbihzY29wZSl9YDogQSBsaW5rIGZ1bmN0aW9uLCB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgY29tcGlsZVxuICAgICogICAgIHRoZSBlbGVtZW50IGFuZCBpbnN0YW50aWF0ZSB0aGUgcHJvdmlkZWQgY29udHJvbGxlciAoaWYgZ2l2ZW4pLlxuICAgICogICAtIGBsb2NhbHNgIC0gYHtvYmplY3R9YDogVGhlIGxvY2FscyB3aGljaCB3aWxsIGJlIHBhc3NlZCBpbnRvIHRoZSBjb250cm9sbGVyIG9uY2UgYGxpbmtgIGlzXG4gICAgKiAgICAgY2FsbGVkLiBJZiBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1ZSwgdGhleSB3aWxsIGJlIGNvcHBpZWQgdG8gdGhlIGN0cmwgaW5zdGVhZFxuICAgICogICAtIGBiaW5kVG9Db250cm9sbGVyYCAtIGBib29sYDogYmluZCB0aGUgbG9jYWxzIHRvIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlbSBpblxuICAgICovXG4gIHRoaXMuY29tcGlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgdGVtcGxhdGVVcmwgPSBvcHRpb25zLnRlbXBsYXRlVXJsO1xuICAgIHZhciB0ZW1wbGF0ZSA9IG9wdGlvbnMudGVtcGxhdGUgfHwgJyc7XG4gICAgdmFyIGNvbnRyb2xsZXIgPSBvcHRpb25zLmNvbnRyb2xsZXI7XG4gICAgdmFyIGNvbnRyb2xsZXJBcyA9IG9wdGlvbnMuY29udHJvbGxlckFzO1xuICAgIHZhciByZXNvbHZlID0gb3B0aW9ucy5yZXNvbHZlIHx8IHt9O1xuICAgIHZhciBsb2NhbHMgPSBvcHRpb25zLmxvY2FscyB8fCB7fTtcbiAgICB2YXIgdHJhbnNmb3JtVGVtcGxhdGUgPSBvcHRpb25zLnRyYW5zZm9ybVRlbXBsYXRlIHx8IGFuZ3VsYXIuaWRlbnRpdHk7XG4gICAgdmFyIGJpbmRUb0NvbnRyb2xsZXIgPSBvcHRpb25zLmJpbmRUb0NvbnRyb2xsZXI7XG5cbiAgICAvLyBUYWtlIHJlc29sdmUgdmFsdWVzIGFuZCBpbnZva2UgdGhlbS4gIFxuICAgIC8vIFJlc29sdmVzIGNhbiBlaXRoZXIgYmUgYSBzdHJpbmcgKHZhbHVlOiAnTXlSZWdpc3RlcmVkQW5ndWxhckNvbnN0JyksXG4gICAgLy8gb3IgYW4gaW52b2thYmxlICdmYWN0b3J5JyBvZiBzb3J0czogKHZhbHVlOiBmdW5jdGlvbiBWYWx1ZUdldHRlcigkZGVwZW5kZW5jeSkge30pXG4gICAgYW5ndWxhci5mb3JFYWNoKHJlc29sdmUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXNvbHZlW2tleV0gPSAkaW5qZWN0b3IuZ2V0KHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmVba2V5XSA9ICRpbmplY3Rvci5pbnZva2UodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vQWRkIHRoZSBsb2NhbHMsIHdoaWNoIGFyZSBqdXN0IHN0cmFpZ2h0IHZhbHVlcyB0byBpbmplY3RcbiAgICAvL2VnIGxvY2FsczogeyB0aHJlZTogMyB9LCB3aWxsIGluamVjdCB0aHJlZSBpbnRvIHRoZSBjb250cm9sbGVyXG4gICAgYW5ndWxhci5leHRlbmQocmVzb2x2ZSwgbG9jYWxzKTtcblxuICAgIGlmICh0ZW1wbGF0ZVVybCkge1xuICAgICAgcmVzb2x2ZS4kdGVtcGxhdGUgPSAkaHR0cC5nZXQodGVtcGxhdGVVcmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZS4kdGVtcGxhdGUgPSAkcS53aGVuKHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgdGhlIHJlc29sdmVzIHRvIGZpbmlzaCBpZiB0aGV5IGFyZSBwcm9taXNlc1xuICAgIHJldHVybiAkcS5hbGwocmVzb2x2ZSkudGhlbihmdW5jdGlvbihsb2NhbHMpIHtcblxuICAgICAgdmFyIHRlbXBsYXRlID0gdHJhbnNmb3JtVGVtcGxhdGUobG9jYWxzLiR0ZW1wbGF0ZSk7XG4gICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKS5odG1sKHRlbXBsYXRlLnRyaW0oKSkuY29udGVudHMoKTtcbiAgICAgIHZhciBsaW5rRm4gPSAkY29tcGlsZShlbGVtZW50KTtcblxuICAgICAgLy9SZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgbGF0ZXIgd2hlbiB0aGUgZWxlbWVudCBpcyByZWFkeVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUpIHtcbiAgICAgICAgICBsb2NhbHMuJHNjb3BlID0gc2NvcGU7XG5cbiAgICAgICAgICAvL0luc3RhbnRpYXRlIGNvbnRyb2xsZXIgaWYgaXQgZXhpc3RzLCBiZWNhdXNlIHdlIGhhdmUgc2NvcGVcbiAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgdmFyIGN0cmwgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMpO1xuICAgICAgICAgICAgaWYgKGJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoY3RybCwgbG9jYWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vU2VlIGFuZ3VsYXItcm91dGUgc291cmNlIGZvciB0aGlzIGxvZ2ljXG4gICAgICAgICAgICBlbGVtZW50LmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY3RybCk7XG4gICAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuKCkuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjdHJsKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICBzY29wZVtjb250cm9sbGVyQXNdID0gY3RybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICB9O1xufVxubWRDb21waWxlclNlcnZpY2UuJGluamVjdCA9IFtcIiRxXCIsIFwiJGh0dHBcIiwgXCIkaW5qZWN0b3JcIiwgXCIkY29tcGlsZVwiLCBcIiRjb250cm9sbGVyXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogVE9ETzogQWRkIHN1cHBvcnQgZm9yIG11bHRpcGxlIGZpbmdlcnMgb24gdGhlIGBwb2ludGVyYCBvYmplY3QgKGVuYWJsZXMgcGluY2ggZ2VzdHVyZSlcbiAqL1xuXG52YXIgU1RBUlRfRVZFTlRTID0gJ21vdXNlZG93biB0b3VjaHN0YXJ0IHBvaW50ZXJkb3duJztcbnZhciBNT1ZFX0VWRU5UUyA9ICdtb3VzZW1vdmUgdG91Y2htb3ZlIHBvaW50ZXJtb3ZlJztcbnZhciBFTkRfRVZFTlRTID0gJ21vdXNldXAgbW91c2VsZWF2ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG52YXIgSEFORExFUlM7XG5cbmRvY3VtZW50LmNvbnRhaW5zIHx8IChkb2N1bWVudC5jb250YWlucyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY29udGFpbnMobm9kZSk7XG59KTtcblxuLy8gVE9ETyBhZGQgd2luZG93cyBwaG9uZSB0byB0aGlzXG52YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYTtcbnZhciBpc0lvcyA9IHVzZXJBZ2VudC5tYXRjaCgvaVBhZC9pKSB8fCB1c2VyQWdlbnQubWF0Y2goL2lQaG9uZS9pKSB8fCB1c2VyQWdlbnQubWF0Y2goL2lQb2QvaSk7XG52YXIgaXNBbmRyb2lkID0gdXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpO1xudmFyIHNob3VsZEhpamFja0NsaWNrcyA9IGlzSW9zIHx8IGlzQW5kcm9pZDtcblxuaWYgKHNob3VsZEhpamFja0NsaWNrcykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2KSB7XG4gICAgLy8gU3BhY2UvZW50ZXIgb24gYSBidXR0b24sIGFuZCBzdWJtaXQgZXZlbnRzLCBjYW4gc2VuZCBjbGlja3NcbiAgICB2YXIgaXNLZXlDbGljayA9IGV2LmNsaWVudFggPT09IDAgJiYgZXYuY2xpZW50WSA9PT0gMDtcbiAgICBpZiAoaXNLZXlDbGljayB8fCBldi4kbWF0ZXJpYWwpIHJldHVybjtcblxuICAgIC8vIFByZXZlbnQgY2xpY2tzIHVubGVzcyB0aGV5J3JlIHNlbnQgYnkgbWF0ZXJpYWxcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9LCB0cnVlKTtcbn1cblxuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KVxuICAub24oU1RBUlRfRVZFTlRTLCBnZXN0dXJlU3RhcnQpXG4gIC5vbihNT1ZFX0VWRU5UUywgZ2VzdHVyZU1vdmUpXG4gIC5vbihFTkRfRVZFTlRTLCBnZXN0dXJlRW5kKVxuICAvLyBGb3IgdGVzdGluZ1xuICAub24oJyQkbWRHZXN0dXJlUmVzZXQnLCBmdW5jdGlvbigpIHtcbiAgICBsYXN0UG9pbnRlciA9IHBvaW50ZXIgPSBudWxsO1xuICB9KTtcblxuLy8gVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGFuZCBwcmV2aW91cyAncG9pbnRlcicgKHVzZXIncyBoYW5kKVxudmFyIHBvaW50ZXIsIGxhc3RQb2ludGVyO1xuXG5mdW5jdGlvbiBydW5IYW5kbGVycyhoYW5kbGVyRXZlbnQsIGV2ZW50KSB7XG4gIHZhciBoYW5kbGVyO1xuICBmb3IgKHZhciBoYW5kbGVyTmFtZSBpbiBIQU5ETEVSUykge1xuICAgIGhhbmRsZXIgPSBIQU5ETEVSU1toYW5kbGVyTmFtZV07XG4gICAgaWYgKGhhbmRsZXJFdmVudCA9PT0gJ3N0YXJ0Jykge1xuICAgICAgLy8gUnVuIGNhbmNlbCB0byByZXNldCBhbnkgaGFuZGxlcnMnIHN0YXRlXG4gICAgICBoYW5kbGVyLmNhbmNlbCgpO1xuICAgIH1cbiAgICBoYW5kbGVyW2hhbmRsZXJFdmVudF0oZXZlbnQsIHBvaW50ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlc3R1cmVTdGFydChldikge1xuICAvLyBJZiB3ZSdyZSBhbHJlYWR5IHRvdWNoZWQgZG93biwgYWJvcnRcbiAgaWYgKHBvaW50ZXIpIHJldHVybjtcblxuICB2YXIgbm93ID0gK0RhdGUubm93KCk7XG5cbiAgLy8gaU9TICYgb2xkIGFuZHJvaWQgYnVnOiBhZnRlciBhIHRvdWNoIGV2ZW50LCBhIGNsaWNrIGV2ZW50IGlzIHNlbnQgMzUwIG1zIGxhdGVyLlxuICAvLyBJZiA8NDAwbXMgaGF2ZSBwYXNzZWQsIGRvbid0IGFsbG93IGFuIGV2ZW50IG9mIGEgZGlmZmVyZW50IHR5cGUgdGhhbiB0aGUgcHJldmlvdXMgZXZlbnRcbiAgaWYgKGxhc3RQb2ludGVyICYmICF0eXBlc01hdGNoKGV2LCBsYXN0UG9pbnRlcikgJiYgKG5vdyAtIGxhc3RQb2ludGVyLmVuZFRpbWUgPCAxNTAwKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBvaW50ZXIgPSBtYWtlU3RhcnRQb2ludGVyKGV2KTtcblxuICBydW5IYW5kbGVycygnc3RhcnQnLCBldik7XG59XG5cbmZ1bmN0aW9uIGdlc3R1cmVNb3ZlKGV2KSB7XG4gIGlmICghcG9pbnRlciB8fCAhdHlwZXNNYXRjaChldiwgcG9pbnRlcikpIHJldHVybjtcblxuICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpO1xuICBydW5IYW5kbGVycygnbW92ZScsIGV2KTtcbn1cblxuZnVuY3Rpb24gZ2VzdHVyZUVuZChldikge1xuICBpZiAoIXBvaW50ZXIgfHwgIXR5cGVzTWF0Y2goZXYsIHBvaW50ZXIpKSByZXR1cm47XG5cbiAgdXBkYXRlUG9pbnRlclN0YXRlKGV2LCBwb2ludGVyKTtcbiAgcG9pbnRlci5lbmRUaW1lID0gK0RhdGUubm93KCk7XG5cbiAgcnVuSGFuZGxlcnMoJ2VuZCcsIGV2KTtcblxuICBsYXN0UG9pbnRlciA9IHBvaW50ZXI7XG4gIHBvaW50ZXIgPSBudWxsO1xufVxuXG4vKioqKioqKiogSGVscGVycyAqKioqKioqKiovXG5mdW5jdGlvbiB0eXBlc01hdGNoKGV2LCBwb2ludGVyKSB7XG4gIHJldHVybiBldiAmJiBwb2ludGVyICYmIGV2LnR5cGUuY2hhckF0KDApID09PSBwb2ludGVyLnR5cGU7XG59XG5cbmZ1bmN0aW9uIGdldEV2ZW50UG9pbnQoZXYpIHtcbiAgZXYgPSBldi5vcmlnaW5hbEV2ZW50IHx8IGV2OyAvLyBzdXBwb3J0IGpRdWVyeSBldmVudHNcbiAgcmV0dXJuIChldi50b3VjaGVzICYmIGV2LnRvdWNoZXNbMF0pIHx8XG4gICAgKGV2LmNoYW5nZWRUb3VjaGVzICYmIGV2LmNoYW5nZWRUb3VjaGVzWzBdKSB8fFxuICAgIGV2O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpIHtcbiAgdmFyIHBvaW50ID0gZ2V0RXZlbnRQb2ludChldik7XG4gIHZhciB4ID0gcG9pbnRlci54ID0gcG9pbnQucGFnZVg7XG4gIHZhciB5ID0gcG9pbnRlci55ID0gcG9pbnQucGFnZVk7XG5cbiAgcG9pbnRlci5kaXN0YW5jZVggPSB4IC0gcG9pbnRlci5zdGFydFg7XG4gIHBvaW50ZXIuZGlzdGFuY2VZID0geSAtIHBvaW50ZXIuc3RhcnRZO1xuICBwb2ludGVyLmRpc3RhbmNlID0gTWF0aC5zcXJ0KFxuICAgIHBvaW50ZXIuZGlzdGFuY2VYICogcG9pbnRlci5kaXN0YW5jZVggKyBwb2ludGVyLmRpc3RhbmNlWSAqIHBvaW50ZXIuZGlzdGFuY2VZXG4gICk7XG5cbiAgcG9pbnRlci5kaXJlY3Rpb25YID0gcG9pbnRlci5kaXN0YW5jZVggPiAwID8gJ3JpZ2h0JyA6IHBvaW50ZXIuZGlzdGFuY2VYIDwgMCA/ICdsZWZ0JyA6ICcnO1xuICBwb2ludGVyLmRpcmVjdGlvblkgPSBwb2ludGVyLmRpc3RhbmNlWSA+IDAgPyAndXAnIDogcG9pbnRlci5kaXN0YW5jZVkgPCAwID8gJ2Rvd24nIDogJyc7XG5cbiAgcG9pbnRlci5kdXJhdGlvbiA9ICtEYXRlLm5vdygpIC0gcG9pbnRlci5zdGFydFRpbWU7XG4gIHBvaW50ZXIudmVsb2NpdHlYID0gcG9pbnRlci5kaXN0YW5jZVggLyBwb2ludGVyLmR1cmF0aW9uO1xuICBwb2ludGVyLnZlbG9jaXR5WSA9IHBvaW50ZXIuZGlzdGFuY2VZIC8gcG9pbnRlci5kdXJhdGlvbjtcbn1cblxuXG5mdW5jdGlvbiBtYWtlU3RhcnRQb2ludGVyKGV2KSB7XG4gIHZhciBwb2ludCA9IGdldEV2ZW50UG9pbnQoZXYpO1xuICB2YXIgc3RhcnRQb2ludGVyID0ge1xuICAgIHN0YXJ0VGltZTogK0RhdGUubm93KCksXG4gICAgdGFyZ2V0OiBldi50YXJnZXQsXG4gICAgLy8gJ3AnIGZvciBwb2ludGVyLCAnbScgZm9yIG1vdXNlLCAndCcgZm9yIHRvdWNoXG4gICAgdHlwZTogZXYudHlwZS5jaGFyQXQoMClcbiAgfTtcbiAgc3RhcnRQb2ludGVyLnN0YXJ0WCA9IHN0YXJ0UG9pbnRlci54ID0gcG9pbnQucGFnZVg7XG4gIHN0YXJ0UG9pbnRlci5zdGFydFkgPSBzdGFydFBvaW50ZXIueSA9IHBvaW50LnBhZ2VZO1xuICByZXR1cm4gc3RhcnRQb2ludGVyO1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4ucnVuKFtcIiRtZEdlc3R1cmVcIiwgZnVuY3Rpb24oJG1kR2VzdHVyZSkge31dKSAvLyBtYWtlIHN1cmUgJG1kR2VzdHVyZSBpcyBhbHdheXMgaW5zdGFudGlhdGVkXG4uZmFjdG9yeSgnJG1kR2VzdHVyZScsIFtcIiQkTWRHZXN0dXJlSGFuZGxlclwiLCBcIiQkckFGXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24oJCRNZEdlc3R1cmVIYW5kbGVyLCAkJHJBRiwgJHRpbWVvdXQpIHtcbiAgSEFORExFUlMgPSB7fTtcblxuICBpZiAoc2hvdWxkSGlqYWNrQ2xpY2tzKSB7XG4gICAgYWRkSGFuZGxlcignY2xpY2snLCB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIG1heERpc3RhbmNlOiA2XG4gICAgICB9LFxuICAgICAgb25FbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICAgIGlmIChwb2ludGVyLmRpc3RhbmNlIDwgdGhpcy5zdGF0ZS5vcHRpb25zLm1heERpc3RhbmNlKSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnY2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkSGFuZGxlcigncHJlc3MnLCB7XG4gICAgb25TdGFydDogZnVuY3Rpb24oZXYsIHBvaW50ZXIpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5wcmVzc2Rvd24nKTtcbiAgICB9LFxuICAgIG9uRW5kOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLnByZXNzdXAnKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgYWRkSGFuZGxlcignaG9sZCcsIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBrZWVwcyBoaXMgZmluZ2VyIHdpdGhpbiB0aGUgc2FtZSA8bWF4RGlzdGFuY2U+IGFyZWEgZm9yXG4gICAgICAvLyA8ZGVsYXk+IG1zLCBkaXNwYXRjaCBhIGhvbGQgZXZlbnQuXG4gICAgICBtYXhEaXN0YW5jZTogNixcbiAgICAgIGRlbGF5OiA1MDAsXG4gICAgfSxcbiAgICBvbkNhbmNlbDogZnVuY3Rpb24oKSB7XG4gICAgICAkdGltZW91dC5jYW5jZWwodGhpcy5zdGF0ZS50aW1lb3V0KTtcbiAgICB9LFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICAvLyBGb3IgaG9sZCwgcmVxdWlyZSBhIHBhcmVudCB0byBiZSByZWdpc3RlcmVkIHdpdGggJG1kR2VzdHVyZS5yZWdpc3RlcigpXG4gICAgICAvLyBCZWNhdXNlIHdlIHByZXZlbnQgc2Nyb2xsIGV2ZW50cywgdGhpcyBpcyBuZWNlc3NhcnkuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUucmVnaXN0ZXJlZFBhcmVudCkgcmV0dXJuIHRoaXMuY2FuY2VsKCk7XG5cbiAgICAgIHRoaXMuc3RhdGUucG9zID0ge3g6IHBvaW50ZXIueCwgeTogcG9pbnRlci55fTtcbiAgICAgIHRoaXMuc3RhdGUudGltZW91dCA9ICR0aW1lb3V0KGFuZ3VsYXIuYmluZCh0aGlzLCBmdW5jdGlvbiBob2xkRGVsYXlGbigpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLmhvbGQnKTtcbiAgICAgICAgdGhpcy5jYW5jZWwoKTsgLy93ZSdyZSBkb25lIVxuICAgICAgfSksIHRoaXMuc3RhdGUub3B0aW9ucy5kZWxheSwgZmFsc2UpO1xuICAgIH0sXG4gICAgb25Nb3ZlOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgLy8gRG9uJ3Qgc2Nyb2xsIHdoaWxlIHdhaXRpbmcgZm9yIGhvbGRcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZHggPSB0aGlzLnN0YXRlLnBvcy54IC0gcG9pbnRlci54O1xuICAgICAgdmFyIGR5ID0gdGhpcy5zdGF0ZS5wb3MueSAtIHBvaW50ZXIueTtcbiAgICAgIGlmIChNYXRoLnNxcnQoZHgqZHggKyBkeSpkeSkgPiB0aGlzLm9wdGlvbnMubWF4RGlzdGFuY2UpIHtcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRW5kOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgdGhpcy5vbkNhbmNlbCgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIGFkZEhhbmRsZXIoJ2RyYWcnLCB7XG4gICAgb3B0aW9uczoge1xuICAgICAgbWluRGlzdGFuY2U6IDYsXG4gICAgICBob3Jpem9udGFsOiB0cnVlLFxuICAgIH0sXG4gICAgb25TdGFydDogZnVuY3Rpb24oZXYpIHtcbiAgICAgIC8vIEZvciBkcmFnLCByZXF1aXJlIGEgcGFyZW50IHRvIGJlIHJlZ2lzdGVyZWQgd2l0aCAkbWRHZXN0dXJlLnJlZ2lzdGVyKClcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWdpc3RlcmVkUGFyZW50KSB0aGlzLmNhbmNlbCgpO1xuICAgIH0sXG4gICAgb25Nb3ZlOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgdmFyIHNob3VsZFN0YXJ0RHJhZywgc2hvdWxkQ2FuY2VsO1xuICAgICAgLy8gRG9uJ3QgYWxsb3cgdG91Y2ggZXZlbnRzIHRvIHNjcm9sbCB3aGlsZSB3ZSdyZSBkcmFnZ2luZyBvclxuICAgICAgLy8gZGVjaWRpbmcgaWYgdGhpcyB0b3VjaG1vdmUgaXMgYSBwcm9wZXIgZHJhZ1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmRyYWdQb2ludGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm9wdGlvbnMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgIHNob3VsZFN0YXJ0RHJhZyA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZTtcbiAgICAgICAgICBzaG91bGRDYW5jZWwgPSBNYXRoLmFicyhwb2ludGVyLmRpc3RhbmNlWSkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluRGlzdGFuY2UgKiAxLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2hvdWxkU3RhcnREcmFnID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVkpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlO1xuICAgICAgICAgIHNob3VsZENhbmNlbCA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZSAqIDEuNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGRTdGFydERyYWcpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcG9pbnRlciwgc3RhcnRpbmcgYXQgdGhpcyBwb2ludCB3aGVyZSB0aGUgZHJhZyBzdGFydGVkLlxuICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIgPSBtYWtlU3RhcnRQb2ludGVyKGV2KTtcbiAgICAgICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5kcmFnc3RhcnQnLCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZENhbmNlbCkge1xuICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hEcmFnTW92ZShldik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBPbmx5IGRpc3BhdGNoIHRoZXNlIGV2ZXJ5IGZyYW1lOyBhbnkgbW9yZSBpcyB1bm5lY2Vzc3JheVxuICAgIGRpc3BhdGNoRHJhZ01vdmU6ICQkckFGLnRocm90dGxlKGZ1bmN0aW9uKGV2KSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIGRyYWcgZGlkbid0IHN0b3Agd2hpbGUgd2FpdGluZyBmb3IgdGhlIG5leHQgZnJhbWVcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzUnVubmluZykge1xuICAgICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQuZHJhZycsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIG9uRW5kOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpIHtcbiAgICAgICAgdXBkYXRlUG9pbnRlclN0YXRlKGV2LCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCAnJG1kLmRyYWdlbmQnLCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGFkZEhhbmRsZXIoJ3N3aXBlJywge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIG1pblZlbG9jaXR5OiAwLjY1LFxuICAgICAgbWluRGlzdGFuY2U6IDEwLFxuICAgIH0sXG4gICAgb25FbmQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAoTWF0aC5hYnMocG9pbnRlci52ZWxvY2l0eVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pblZlbG9jaXR5ICYmXG4gICAgICAgICAgTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlKSB7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBwb2ludGVyLmRpcmVjdGlvblggPT0gJ2xlZnQnID8gJyRtZC5zd2lwZWxlZnQnIDogJyRtZC5zd2lwZXJpZ2h0JztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2LCBldmVudFR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHNlbGY7XG4gIHJldHVybiBzZWxmID0ge1xuICAgIGhhbmRsZXI6IGFkZEhhbmRsZXIsXG4gICAgcmVnaXN0ZXI6IHJlZ2lzdGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gYWRkSGFuZGxlcihuYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgdmFyIGhhbmRsZXIgPSBuZXcgJCRNZEdlc3R1cmVIYW5kbGVyKG5hbWUpO1xuICAgIGFuZ3VsYXIuZXh0ZW5kKGhhbmRsZXIsIGRlZmluaXRpb24pO1xuICAgIEhBTkRMRVJTW25hbWVdID0gaGFuZGxlcjtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKGVsZW1lbnQsIGhhbmRsZXJOYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIGhhbmRsZXIgPSBIQU5ETEVSU1sgaGFuZGxlck5hbWUucmVwbGFjZSgvXlxcJG1kLi8sICcnKSBdO1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcmVnaXN0ZXIgZWxlbWVudCB3aXRoIGhhbmRsZXIgJyArIGhhbmRsZXJOYW1lICsgJy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ0F2YWlsYWJsZSBoYW5kbGVyczogJyArIE9iamVjdC5rZXlzKEhBTkRMRVJTKS5qb2luKCcsICcpKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXIucmVnaXN0ZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICB9XG59XSlcbi5mYWN0b3J5KCckJE1kR2VzdHVyZUhhbmRsZXInLCBbXCIkJHJBRlwiLCBmdW5jdGlvbigkJHJBRikge1xuXG4gIGZ1bmN0aW9uIEdlc3R1cmVIYW5kbGVyKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuICBHZXN0dXJlSGFuZGxlci5wcm90b3R5cGUgPSB7XG4gICAgb25TdGFydDogYW5ndWxhci5ub29wLFxuICAgIG9uTW92ZTogYW5ndWxhci5ub29wLFxuICAgIG9uRW5kOiBhbmd1bGFyLm5vb3AsXG4gICAgb25DYW5jZWw6IGFuZ3VsYXIubm9vcCxcbiAgICBvcHRpb25zOiB7fSxcblxuICAgIGRpc3BhdGNoRXZlbnQ6IHR5cGVvZiBqUXVlcnkgIT09ICd1bmRlZmluZWQnICYmIGFuZ3VsYXIuZWxlbWVudCA9PT0galF1ZXJ5ID8gXG4gICAgICBqUXVlcnlEaXNwYXRjaEV2ZW50IDogXG4gICAgICBuYXRpdmVEaXNwYXRjaEV2ZW50LFxuXG4gICAgc3RhcnQ6IGZ1bmN0aW9uKGV2LCBwb2ludGVyKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc1J1bm5pbmcpIHJldHVybjtcbiAgICAgIHZhciBwYXJlbnRUYXJnZXQgPSB0aGlzLmdldE5lYXJlc3RQYXJlbnQoZXYudGFyZ2V0KTtcbiAgICAgIHZhciBwYXJlbnRUYXJnZXRPcHRpb25zID0gcGFyZW50VGFyZ2V0ICYmIHBhcmVudFRhcmdldC4kbWRHZXN0dXJlW3RoaXMubmFtZV0gfHwge307XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIGlzUnVubmluZzogdHJ1ZSxcbiAgICAgICAgb3B0aW9uczogYW5ndWxhci5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgcGFyZW50VGFyZ2V0T3B0aW9ucyksXG4gICAgICAgIHJlZ2lzdGVyZWRQYXJlbnQ6IHBhcmVudFRhcmdldFxuICAgICAgfTtcbiAgICAgIHRoaXMub25TdGFydChldiwgcG9pbnRlcik7XG4gICAgfSxcbiAgICBtb3ZlOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgdGhpcy5vbk1vdmUoZXYsIHBvaW50ZXIpO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgdGhpcy5vbkVuZChldiwgcG9pbnRlcik7XG4gICAgICB0aGlzLnN0YXRlLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIH0sXG4gICAgY2FuY2VsOiBmdW5jdGlvbihldiwgcG9pbnRlcikge1xuICAgICAgdGhpcy5vbkNhbmNlbChldiwgcG9pbnRlcik7XG4gICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgfSxcblxuICAgIC8vIEZpbmQgYW5kIHJldHVybiB0aGUgbmVhcmVzdCBwYXJlbnQgZWxlbWVudCB0aGF0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgdmlhXG4gICAgLy8gJG1kR2VzdHVyZS5yZWdpc3RlcihlbGVtZW50LCAnaGFuZGxlck5hbWUnKS5cbiAgICBnZXROZWFyZXN0UGFyZW50OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICB2YXIgY3VycmVudCA9IG5vZGU7XG4gICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICBpZiAoIChjdXJyZW50LiRtZEdlc3R1cmUgfHwge30pW3RoaXMubmFtZV0gKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVnaXN0ZXJFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBlbGVtZW50WzBdLiRtZEdlc3R1cmUgPSBlbGVtZW50WzBdLiRtZEdlc3R1cmUgfHwge307XG4gICAgICBlbGVtZW50WzBdLiRtZEdlc3R1cmVbdGhpcy5uYW1lXSA9IG9wdGlvbnMgfHwge307XG4gICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIG9uRGVzdHJveSk7XG5cbiAgICAgIHJldHVybiBvbkRlc3Ryb3k7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnRbMF0uJG1kR2VzdHVyZVtzZWxmLm5hbWVdO1xuICAgICAgICBlbGVtZW50Lm9mZignJGRlc3Ryb3knLCBvbkRlc3Ryb3kpO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgZnVuY3Rpb24galF1ZXJ5RGlzcGF0Y2hFdmVudChzcmNFdmVudCwgZXZlbnRUeXBlLCBldmVudFBvaW50ZXIpIHtcbiAgICBldmVudFBvaW50ZXIgPSBldmVudFBvaW50ZXIgfHwgcG9pbnRlcjtcbiAgICB2YXIgZXZlbnRPYmogPSBuZXcgYW5ndWxhci5lbGVtZW50LkV2ZW50KGV2ZW50VHlwZSlcblxuICAgIGV2ZW50T2JqLiRtYXRlcmlhbCA9IHRydWU7XG4gICAgZXZlbnRPYmoucG9pbnRlciA9IGV2ZW50UG9pbnRlcjtcbiAgICBldmVudE9iai5zcmNFdmVudCA9IHNyY0V2ZW50O1xuXG4gICAgYW5ndWxhci5leHRlbmQoZXZlbnRPYmosIHtcbiAgICAgIGNsaWVudFg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgY2xpZW50WTogZXZlbnRQb2ludGVyLnksXG4gICAgICBzY3JlZW5YOiBldmVudFBvaW50ZXIueCxcbiAgICAgIHNjcmVlblk6IGV2ZW50UG9pbnRlci55LFxuICAgICAgcGFnZVg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgcGFnZVk6IGV2ZW50UG9pbnRlci55LFxuICAgICAgY3RybEtleTogc3JjRXZlbnQuY3RybEtleSxcbiAgICAgIGFsdEtleTogc3JjRXZlbnQuYWx0S2V5LFxuICAgICAgc2hpZnRLZXk6IHNyY0V2ZW50LnNoaWZ0S2V5LFxuICAgICAgbWV0YUtleTogc3JjRXZlbnQubWV0YUtleVxuICAgIH0pO1xuICAgIGFuZ3VsYXIuZWxlbWVudChldmVudFBvaW50ZXIudGFyZ2V0KS50cmlnZ2VyKGV2ZW50T2JqKTtcbiAgfVxuXG4gIC8qXG4gICAqIE5PVEU6IG5hdGl2ZURpc3BhdGNoRXZlbnQgaXMgdmVyeSBwZXJmb3JtYW5jZSBzZW5zaXRpdmUuIFxuICAgKi9cbiAgZnVuY3Rpb24gbmF0aXZlRGlzcGF0Y2hFdmVudChzcmNFdmVudCwgZXZlbnRUeXBlLCBldmVudFBvaW50ZXIpIHtcbiAgICBldmVudFBvaW50ZXIgPSBldmVudFBvaW50ZXIgfHwgcG9pbnRlcjtcbiAgICB2YXIgZXZlbnRPYmo7XG5cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snKSB7XG4gICAgICBldmVudE9iaiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgZXZlbnRPYmouaW5pdE1vdXNlRXZlbnQoXG4gICAgICAgICdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgc3JjRXZlbnQuZGV0YWlsLFxuICAgICAgICBldmVudFBvaW50ZXIueCwgZXZlbnRQb2ludGVyLnksIGV2ZW50UG9pbnRlci54LCBldmVudFBvaW50ZXIueSxcbiAgICAgICAgc3JjRXZlbnQuY3RybEtleSwgc3JjRXZlbnQuYWx0S2V5LCBzcmNFdmVudC5zaGlmdEtleSwgc3JjRXZlbnQubWV0YUtleSxcbiAgICAgICAgc3JjRXZlbnQuYnV0dG9uLCBzcmNFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG51bGxcbiAgICAgICk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRPYmogPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgIGV2ZW50T2JqLmluaXRDdXN0b21FdmVudChldmVudFR5cGUsIHRydWUsIHRydWUsIHt9KTtcbiAgICB9XG4gICAgZXZlbnRPYmouJG1hdGVyaWFsID0gdHJ1ZTtcbiAgICBldmVudE9iai5wb2ludGVyID0gZXZlbnRQb2ludGVyO1xuICAgIGV2ZW50T2JqLnNyY0V2ZW50ID0gc3JjRXZlbnQ7XG4gICAgZXZlbnRQb2ludGVyLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50T2JqKTtcbiAgfVxuXG4gIHJldHVybiBHZXN0dXJlSGFuZGxlcjtcbn1dKTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAucHJvdmlkZXIoJyQkaW50ZXJpbUVsZW1lbnQnLCBJbnRlcmltRWxlbWVudFByb3ZpZGVyKTtcblxuLypcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkJGludGVyaW1FbGVtZW50XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBGYWN0b3J5IHRoYXQgY29udHJ1Y3RzIGAkJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlYCBzZXJ2aWNlcy5cbiAqIFVzZWQgaW50ZXJuYWxseSBpbiBtYXRlcmlhbCBkZXNpZ24gZm9yIGVsZW1lbnRzIHRoYXQgYXBwZWFyIG9uIHNjcmVlbiB0ZW1wb3JhcmlseS5cbiAqIFRoZSBzZXJ2aWNlIHByb3ZpZGVzIGEgcHJvbWlzZS1saWtlIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdGVtcG9yYXJ5XG4gKiBlbGVtZW50cy5cbiAqXG4gKiBgYGBqc1xuICogYXBwLnNlcnZpY2UoJyRtZFRvYXN0JywgZnVuY3Rpb24oJCRpbnRlcmltRWxlbWVudCkge1xuICogICB2YXIgJG1kVG9hc3QgPSAkJGludGVyaW1FbGVtZW50KHRvYXN0RGVmYXVsdE9wdGlvbnMpO1xuICogICByZXR1cm4gJG1kVG9hc3Q7XG4gKiB9KTtcbiAqIGBgYFxuICogQHBhcmFtIHtvYmplY3Q9fSBkZWZhdWx0T3B0aW9ucyBPcHRpb25zIHVzZWQgYnkgZGVmYXVsdCBmb3IgdGhlIGBzaG93YCBtZXRob2Qgb24gdGhlIHNlcnZpY2UuXG4gKlxuICogQHJldHVybnMgeyQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2V9XG4gKlxuICovXG5cbmZ1bmN0aW9uIEludGVyaW1FbGVtZW50UHJvdmlkZXIoKSB7XG4gIGNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIuJGdldCA9IEludGVyaW1FbGVtZW50RmFjdG9yeTtcbiAgSW50ZXJpbUVsZW1lbnRGYWN0b3J5LiRpbmplY3QgPSBbXCIkZG9jdW1lbnRcIiwgXCIkcVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBcIiRyb290RWxlbWVudFwiLCBcIiRhbmltYXRlXCIsIFwiJGludGVycG9sYXRlXCIsIFwiJG1kQ29tcGlsZXJcIiwgXCIkbWRUaGVtaW5nXCJdO1xuICByZXR1cm4gY3JlYXRlSW50ZXJpbUVsZW1lbnRQcm92aWRlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBwcm92aWRlciB3aGljaCBhbGxvd3MgY29uZmlndXJhdGlvbiBvZiBhIG5ldyBpbnRlcmltRWxlbWVudFxuICAgKiBzZXJ2aWNlLiBBbGxvd3MgY29uZmlndXJhdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgJiBtZXRob2RzIGZvciBvcHRpb25zLFxuICAgKiBhcyB3ZWxsIGFzIGNvbmZpZ3VyYXRpb24gb2YgJ3ByZXNldCcgbWV0aG9kcyAoZWcgZGlhbG9nLmJhc2ljKCk6IGJhc2ljIGlzIGEgcHJlc2V0IG1ldGhvZClcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIoaW50ZXJpbUZhY3RvcnlOYW1lKSB7XG4gICAgdmFyIEVYUE9TRURfTUVUSE9EUyA9IFsnb25IaWRlJywgJ29uU2hvdycsICdvblJlbW92ZSddO1xuXG4gICAgdmFyIGN1c3RvbU1ldGhvZHMgPSB7fTtcbiAgICB2YXIgcHJvdmlkZXJDb25maWcgPSB7XG4gICAgICBwcmVzZXRzOiB7fVxuICAgIH07XG5cbiAgICB2YXIgcHJvdmlkZXIgPSB7XG4gICAgICBzZXREZWZhdWx0czogc2V0RGVmYXVsdHMsXG4gICAgICBhZGRQcmVzZXQ6IGFkZFByZXNldCxcbiAgICAgIGFkZE1ldGhvZDogYWRkTWV0aG9kLFxuICAgICAgJGdldDogZmFjdG9yeVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBhbGwgaW50ZXJpbSBlbGVtZW50cyB3aWxsIGNvbWUgd2l0aCB0aGUgJ2J1aWxkJyBwcmVzZXRcbiAgICAgKi9cbiAgICBwcm92aWRlci5hZGRQcmVzZXQoJ2J1aWxkJywge1xuICAgICAgbWV0aG9kczogWydjb250cm9sbGVyJywgJ2NvbnRyb2xsZXJBcycsICdyZXNvbHZlJyxcbiAgICAgICAgJ3RlbXBsYXRlJywgJ3RlbXBsYXRlVXJsJywgJ3RoZW1hYmxlJywgJ3RyYW5zZm9ybVRlbXBsYXRlJywgJ3BhcmVudCddXG4gICAgfSk7XG5cbiAgICBmYWN0b3J5LiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50XCIsIFwiJGFuaW1hdGVcIiwgXCIkaW5qZWN0b3JcIl07XG4gICAgcmV0dXJuIHByb3ZpZGVyO1xuXG4gICAgLyoqXG4gICAgICogU2F2ZSB0aGUgY29uZmlndXJlZCBkZWZhdWx0cyB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdHMoZGVmaW5pdGlvbikge1xuICAgICAgcHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnkgPSBkZWZpbml0aW9uLm9wdGlvbnM7XG4gICAgICBwcm92aWRlckNvbmZpZy5tZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KEVYUE9TRURfTUVUSE9EUyk7XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWV0aG9kIHRvIHRoZSBmYWN0b3J5IHRoYXQgaXNuJ3Qgc3BlY2lmaWMgdG8gYW55IGludGVyaW0gZWxlbWVudCBvcGVyYXRpb25zXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBhZGRNZXRob2QobmFtZSwgZm4pIHtcbiAgICAgIGN1c3RvbU1ldGhvZHNbbmFtZV0gPSBmbjtcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBjb25maWd1cmVkIHByZXNldCB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkUHJlc2V0KG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9O1xuICAgICAgZGVmaW5pdGlvbi5tZXRob2RzID0gZGVmaW5pdGlvbi5tZXRob2RzIHx8IFtdO1xuICAgICAgZGVmaW5pdGlvbi5vcHRpb25zID0gZGVmaW5pdGlvbi5vcHRpb25zIHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH07XG5cbiAgICAgIGlmICgvXmNhbmNlbHxoaWRlfHNob3ckLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByZXNldCAnXCIgKyBuYW1lICsgXCInIGluIFwiICsgaW50ZXJpbUZhY3RvcnlOYW1lICsgXCIgaXMgcmVzZXJ2ZWQhXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmluaXRpb24ubWV0aG9kcy5pbmRleE9mKCdfb3B0aW9ucycpID4gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kICdfb3B0aW9ucycgaW4gXCIgKyBpbnRlcmltRmFjdG9yeU5hbWUgKyBcIiBpcyByZXNlcnZlZCFcIik7XG4gICAgICB9XG4gICAgICBwcm92aWRlckNvbmZpZy5wcmVzZXRzW25hbWVdID0ge1xuICAgICAgICBtZXRob2RzOiBkZWZpbml0aW9uLm1ldGhvZHMuY29uY2F0KEVYUE9TRURfTUVUSE9EUyksXG4gICAgICAgIG9wdGlvbnNGYWN0b3J5OiBkZWZpbml0aW9uLm9wdGlvbnMsXG4gICAgICAgIGFyZ09wdGlvbjogZGVmaW5pdGlvbi5hcmdPcHRpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZmFjdG9yeSB0aGF0IGhhcyB0aGUgZ2l2ZW4gbWV0aG9kcyAmIGRlZmF1bHRzIGltcGxlbWVudGluZyBpbnRlcmltRWxlbWVudFxuICAgICAqL1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhY3RvcnkoJCRpbnRlcmltRWxlbWVudCwgJGFuaW1hdGUsICRpbmplY3Rvcikge1xuICAgICAgdmFyIGRlZmF1bHRNZXRob2RzO1xuICAgICAgdmFyIGRlZmF1bHRPcHRpb25zO1xuICAgICAgdmFyIGludGVyaW1FbGVtZW50U2VydmljZSA9ICQkaW50ZXJpbUVsZW1lbnQoKTtcblxuICAgICAgLypcbiAgICAgICAqIHB1YmxpY1NlcnZpY2UgaXMgd2hhdCB0aGUgZGV2ZWxvcGVyIHdpbGwgYmUgdXNpbmcuXG4gICAgICAgKiBJdCBoYXMgbWV0aG9kcyBoaWRlKCksIGNhbmNlbCgpLCBzaG93KCksIGJ1aWxkKCksIGFuZCBhbnkgb3RoZXJcbiAgICAgICAqIHByZXNldHMgd2hpY2ggd2VyZSBzZXQgZHVyaW5nIHRoZSBjb25maWcgcGhhc2UuXG4gICAgICAgKi9cbiAgICAgIHZhciBwdWJsaWNTZXJ2aWNlID0ge1xuICAgICAgICBoaWRlOiBpbnRlcmltRWxlbWVudFNlcnZpY2UuaGlkZSxcbiAgICAgICAgY2FuY2VsOiBpbnRlcmltRWxlbWVudFNlcnZpY2UuY2FuY2VsLFxuICAgICAgICBzaG93OiBzaG93SW50ZXJpbUVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIGRlZmF1bHRNZXRob2RzID0gcHJvdmlkZXJDb25maWcubWV0aG9kcyB8fCBbXTtcbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBpbnZva2VkIGFmdGVyIHRoZSBwdWJsaWNTZXJ2aWNlIGlzIGluaXRpYWxpemVkXG4gICAgICBkZWZhdWx0T3B0aW9ucyA9IGludm9rZUZhY3RvcnkocHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnksIHt9KTtcblxuICAgICAgLy8gQ29weSBvdmVyIHRoZSBzaW1wbGUgY3VzdG9tIG1ldGhvZHNcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjdXN0b21NZXRob2RzLCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAgICAgICBwdWJsaWNTZXJ2aWNlW25hbWVdID0gZm47XG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKHByb3ZpZGVyQ29uZmlnLnByZXNldHMsIGZ1bmN0aW9uKGRlZmluaXRpb24sIG5hbWUpIHtcbiAgICAgICAgdmFyIHByZXNldERlZmF1bHRzID0gaW52b2tlRmFjdG9yeShkZWZpbml0aW9uLm9wdGlvbnNGYWN0b3J5LCB7fSk7XG4gICAgICAgIHZhciBwcmVzZXRNZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KGRlZmF1bHRNZXRob2RzKTtcblxuICAgICAgICAvLyBFdmVyeSBpbnRlcmltRWxlbWVudCBidWlsdCB3aXRoIGEgcHJlc2V0IGhhcyBhIGZpZWxkIGNhbGxlZCBgJHR5cGVgLFxuICAgICAgICAvLyB3aGljaCBtYXRjaGVzIHRoZSBuYW1lIG9mIHRoZSBwcmVzZXQuXG4gICAgICAgIC8vIEVnIGluIHByZXNldCAnY29uZmlybScsIG9wdGlvbnMuJHR5cGUgPT09ICdjb25maXJtJ1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChwcmVzZXREZWZhdWx0cywgeyAkdHlwZTogbmFtZSB9KTtcblxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBwcmVzZXQgY2xhc3Mgd2hpY2ggaGFzIHNldHRlciBtZXRob2RzIGZvciBldmVyeVxuICAgICAgICAvLyBtZXRob2QgZ2l2ZW4gaW4gdGhlIGAuYWRkUHJlc2V0KClgIGZ1bmN0aW9uLCBhcyB3ZWxsIGFzIGV2ZXJ5XG4gICAgICAgIC8vIG1ldGhvZCBnaXZlbiBpbiB0aGUgYC5zZXREZWZhdWx0cygpYCBmdW5jdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQGV4YW1wbGVcbiAgICAgICAgLy8gLnNldERlZmF1bHRzKHtcbiAgICAgICAgLy8gICBtZXRob2RzOiBbJ2hhc0JhY2tkcm9wJywgJ2NsaWNrT3V0c2lkZVRvQ2xvc2UnLCAnZXNjYXBlVG9DbG9zZScsICd0YXJnZXRFdmVudCddLFxuICAgICAgICAvLyAgIG9wdGlvbnM6IGRpYWxvZ0RlZmF1bHRPcHRpb25zXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC5hZGRQcmVzZXQoJ2FsZXJ0Jywge1xuICAgICAgICAvLyAgIG1ldGhvZHM6IFsndGl0bGUnLCAnb2snXSxcbiAgICAgICAgLy8gICBvcHRpb25zOiBhbGVydERpYWxvZ09wdGlvbnNcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2V0IHZhbHVlcyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgb3B0aW9ucyB3aGVuIGludGVyaW1FbGVtbnQuc2hvdygpIGlzIGNhbGxlZC5cbiAgICAgICAgZnVuY3Rpb24gUHJlc2V0KG9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9vcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIHByZXNldERlZmF1bHRzLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJlc2V0TWV0aG9kcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgIFByZXNldC5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHNob3J0Y3V0IG1ldGhvZCBmb3Igb25lLWxpbmVhciBtZXRob2RzXG4gICAgICAgIGlmIChkZWZpbml0aW9uLmFyZ09wdGlvbikge1xuICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gJ3Nob3cnICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gICAgICAgICAgcHVibGljU2VydmljZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHB1YmxpY1NlcnZpY2VbbmFtZV0oYXJnKTtcbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNTZXJ2aWNlLnNob3coY29uZmlnKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZWcgJG1kRGlhbG9nLmFsZXJ0KCkgd2lsbCByZXR1cm4gYSBuZXcgYWxlcnQgcHJlc2V0XG4gICAgICAgIHB1YmxpY1NlcnZpY2VbbmFtZV0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAvLyBJZiBhcmdPcHRpb24gaXMgc3VwcGxpZWQsIGVnIGBhcmdPcHRpb246ICdjb250ZW50J2AsIHRoZW4gd2UgYXNzdW1lXG4gICAgICAgICAgLy8gaWYgdGhlIGFyZ3VtZW50IGlzIG5vdCBhbiBvcHRpb25zIG9iamVjdCB0aGVuIGl0IGlzIHRoZSBgYXJnT3B0aW9uYCBvcHRpb24uXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBAZXhhbXBsZSBgJG1kVG9hc3Quc2ltcGxlKCdoZWxsbycpYCAvLyBzZXRzIG9wdGlvbnMuY29udGVudCB0byBoZWxsb1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgYXJnT3B0aW9uID09PSAnY29udGVudCdcbiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiBkZWZpbml0aW9uLmFyZ09wdGlvbiAmJiAhYW5ndWxhci5pc09iamVjdChhcmcpICYmXG4gICAgICAgICAgICAgICFhbmd1bGFyLmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIChuZXcgUHJlc2V0KCkpW2RlZmluaXRpb24uYXJnT3B0aW9uXShhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByZXNldChhcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwdWJsaWNTZXJ2aWNlO1xuXG4gICAgICBmdW5jdGlvbiBzaG93SW50ZXJpbUVsZW1lbnQob3B0cykge1xuICAgICAgICAvLyBvcHRzIGlzIGVpdGhlciBhIHByZXNldCB3aGljaCBzdG9yZXMgaXRzIG9wdGlvbnMgb24gYW4gX29wdGlvbnMgZmllbGQsXG4gICAgICAgIC8vIG9yIGp1c3QgYW4gb2JqZWN0IG1hZGUgdXAgb2Ygb3B0aW9uc1xuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLl9vcHRpb25zKSBvcHRzID0gb3B0cy5fb3B0aW9ucztcbiAgICAgICAgcmV0dXJuIGludGVyaW1FbGVtZW50U2VydmljZS5zaG93KFxuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIZWxwZXIgdG8gY2FsbCAkaW5qZWN0b3IuaW52b2tlIHdpdGggYSBsb2NhbCBvZiB0aGUgZmFjdG9yeSBuYW1lIGZvclxuICAgICAgICogdGhpcyBwcm92aWRlci5cbiAgICAgICAqIElmIGFuICRtZERpYWxvZyBpcyBwcm92aWRpbmcgb3B0aW9ucyBmb3IgYSBkaWFsb2cgYW5kIHRyaWVzIHRvIGluamVjdFxuICAgICAgICogJG1kRGlhbG9nLCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgZXJyb3Igd2lsbCBoYXBwZW4uXG4gICAgICAgKiBXZSBnZXQgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgaW5qZWN0aW5nICRtZERpYWxvZyBhcyBhIGxvY2FsLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBpbnZva2VGYWN0b3J5KGZhY3RvcnksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuICAgICAgICBsb2NhbHNbaW50ZXJpbUZhY3RvcnlOYW1lXSA9IHB1YmxpY1NlcnZpY2U7XG4gICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZhY3RvcnkgfHwgZnVuY3Rpb24oKSB7IHJldHVybiBkZWZhdWx0VmFsOyB9LCB7fSwgbG9jYWxzKTtcbiAgICAgIH1cblxuICAgIH1cblxuICB9XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIEludGVyaW1FbGVtZW50RmFjdG9yeSgkZG9jdW1lbnQsICRxLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJHJvb3RFbGVtZW50LCAkYW5pbWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnRlcnBvbGF0ZSwgJG1kQ29tcGlsZXIsICRtZFRoZW1pbmcgKSB7XG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgdXNlc1N0YW5kYXJkU3ltYm9scyA9ICgoc3RhcnRTeW1ib2wgPT09ICd7eycpICYmIChlbmRTeW1ib2wgPT09ICd9fScpKSxcbiAgICAgICAgcHJvY2Vzc1RlbXBsYXRlICA9IHVzZXNTdGFuZGFyZFN5bWJvbHMgPyBhbmd1bGFyLmlkZW50aXR5IDogcmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUludGVyaW1FbGVtZW50U2VydmljZSgpIHtcbiAgICAgIC8qXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBzZXJ2aWNlIHVzZWQgdG8gY29udHJvbCBpbnNlcnRpbmcgYW5kIHJlbW92aW5nIGFuIGVsZW1lbnQgaW50byB0aGUgRE9NLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICB2YXIgc2VydmljZTtcbiAgICAgIHJldHVybiBzZXJ2aWNlID0ge1xuICAgICAgICBzaG93OiBzaG93LFxuICAgICAgICBoaWRlOiBoaWRlLFxuICAgICAgICBjYW5jZWw6IGNhbmNlbFxuICAgICAgfTtcblxuICAgICAgLypcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2Ujc2hvd1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgdGhlIGAkaW50ZXJpbUVsZW1lbnRgIHRvIHRoZSBET00gYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZFxuICAgICAgICogd2l0aCBoaWRlIG9yIGNhbmNlbCwgcmVzcGVjdGl2ZWx5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBpcyBoYXNoTWFwIG9mIHNldHRpbmdzXG4gICAgICAgKiBAcmV0dXJucyBhIFByb21pc2VcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNob3cob3B0aW9ucykge1xuICAgICAgICBpZiAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcnZpY2UuY2FuY2VsKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzaG93KG9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnRlcmltRWxlbWVudCA9IG5ldyBJbnRlcmltRWxlbWVudChvcHRpb25zKTtcbiAgICAgICAgICBzdGFjay5wdXNoKGludGVyaW1FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnQuc2hvdygpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnQuZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNoaWRlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgZnJvbSB0aGUgRE9NIGFuZCByZXNvbHZlcyB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGBzaG93YFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gcmVzb2x2ZVBhcmFtIERhdGEgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBoaWRlKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBpbnRlcmltRWxlbWVudCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudCAmJiBpbnRlcmltRWxlbWVudC5yZW1vdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGludGVyaW1FbGVtZW50LmRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2UjY2FuY2VsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgZnJvbSB0aGUgRE9NIGFuZCByZWplY3RzIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYHNob3dgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSByZWFzb24gRGF0YSB0byByZWplY3QgdGhlIHByb21pc2Ugd2l0aFxuICAgICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbChyZWFzb24pIHtcbiAgICAgICAgdmFyIGludGVyaW1FbGVtZW50ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIGludGVyaW1FbGVtZW50ICYmIGludGVyaW1FbGVtZW50LnJlbW92ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW50ZXJpbUVsZW1lbnQuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG5cbiAgICAgIC8qXG4gICAgICAgKiBJbnRlcm5hbCBJbnRlcmltIEVsZW1lbnQgT2JqZWN0XG4gICAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gbWFuYWdlIHRoZSBET00gZWxlbWVudCBhbmQgcmVsYXRlZCBkYXRhXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIEludGVyaW1FbGVtZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGY7XG4gICAgICAgIHZhciBoaWRlVGltZW91dCwgZWxlbWVudDtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgICBwcmVzZXJ2ZVNjb3BlOiBmYWxzZSxcbiAgICAgICAgICBzY29wZTogb3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlLiRuZXcob3B0aW9ucy5pc29sYXRlU2NvcGUpLFxuICAgICAgICAgIG9uU2hvdzogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBvcHRpb25zLnBhcmVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlbW92ZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIEVsZW1lbnQgY291bGQgYmUgdW5kZWZpbmVkIGlmIGEgbmV3IGVsZW1lbnQgaXMgc2hvd24gYmVmb3JlXG4gICAgICAgICAgICAvLyB0aGUgb2xkIG9uZSBmaW5pc2hlcyBjb21waWxpbmcuXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCAmJiAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50KSB8fCAkcS53aGVuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy50ZW1wbGF0ZSkge1xuICAgICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSBwcm9jZXNzVGVtcGxhdGUob3B0aW9ucy50ZW1wbGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hvd0ZhaWxlZDtcbiAgICAgICAgcmV0dXJuIHNlbGYgPSB7XG4gICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICBkZWZlcnJlZDogJHEuZGVmZXIoKSxcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNob3dGYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiAkbWRDb21waWxlci5jb21waWxlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oY29tcGlsZURhdGEpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoY29tcGlsZURhdGEubG9jYWxzLCBzZWxmLm9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGVsZW1lbnQgPSBjb21waWxlRGF0YS5saW5rKG9wdGlvbnMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgcGFyZW50IGF0IGluc2VydGlvbiB0aW1lLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy5wYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudChvcHRpb25zLnNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucGFyZW50KSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyZW50ID0gYW5ndWxhci5lbGVtZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKG9wdGlvbnMucGFyZW50KSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiBwYXJlbnQgcXVlcnlTZWxlY3Rvci9nZXR0ZXIgZnVuY3Rpb24gZmFpbHMsIG9yIGl0J3MganVzdCBudWxsLFxuICAgICAgICAgICAgICAvLyBmaW5kIGEgZGVmYXVsdC5cbiAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5wYXJlbnQgfHwge30pLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyZW50ID0gJHJvb3RFbGVtZW50LmZpbmQoJ2JvZHknKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyZW50Lmxlbmd0aCkgb3B0aW9ucy5wYXJlbnQgPSAkcm9vdEVsZW1lbnQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aGVtYWJsZSkgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgdmFyIHJldCA9IG9wdGlvbnMub25TaG93KG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbihyZXQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgIC8vIElzc3VlIG9uQ29tcGxldGUgY2FsbGJhY2sgd2hlbiB0aGUgYHNob3coKWAgZmluaXNoZXNcbiAgICAgICAgICAgICAgICAgIChvcHRpb25zLm9uQ29tcGxldGUgfHwgYW5ndWxhci5ub29wKShvcHRpb25zLnNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0SGlkZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBmdW5jdGlvbiBzdGFydEhpZGVUaW1lb3V0KCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhpZGVEZWxheSkge1xuICAgICAgICAgICAgICAgICAgaGlkZVRpbWVvdXQgPSAkdGltZW91dChzZXJ2aWNlLmNhbmNlbCwgb3B0aW9ucy5oaWRlRGVsYXkpIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikgeyBzaG93RmFpbGVkID0gdHJ1ZTsgc2VsZi5kZWZlcnJlZC5yZWplY3QocmVhc29uKTsgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYW5jZWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChoaWRlVGltZW91dCkge1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoaGlkZVRpbWVvdXQpO1xuICAgICAgICAgICAgICBoaWRlVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmNhbmNlbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHZhciByZXQ7XG4gICAgICAgICAgICBpZiAoc2hvd0ZhaWxlZCkge1xuICAgICAgICAgICAgICByZXQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0ID0gb3B0aW9ucy5vblJlbW92ZShvcHRpb25zLnNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkcS53aGVuKHJldCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnByZXNlcnZlU2NvcGUpIG9wdGlvbnMuc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBSZXBsYWNlIGB7e2AgYW5kIGB9fWAgaW4gYSBzdHJpbmcgKHVzdWFsbHkgYSB0ZW1wbGF0ZSkgd2l0aCB0aGUgYWN0dWFsIHN0YXJ0LS9lbmRTeW1ib2xzIHVzZWRcbiAgICAgKiBmb3IgaW50ZXJwb2xhdGlvbi4gVGhpcyBhbGxvd3MgcHJlLWRlZmluZWQgdGVtcGxhdGVzIChmb3IgY29tcG9uZW50cyBzdWNoIGFzIGRpYWxvZywgdG9hc3QgZXRjKVxuICAgICAqIHRvIGNvbnRpbnVlIHRvIHdvcmsgaW4gYXBwcyB0aGF0IHVzZSBjdXN0b20gaW50ZXJwb2xhdGlvbiBzdGFydC0vZW5kU3ltYm9scy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IGluIHdoaWNoIHRvIHJlcGxhY2UgYHt7YCAvIGB9fWBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbW9kaWZpZWQgc3RyaW5nIHVzaW5nIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBzdGFydC0vZW5kU3ltYm9sc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2VJbnRlcnBvbGF0aW9uU3ltYm9scyh0ZXh0KSB7XG4gICAgICBpZiAoIXRleHQgfHwgIWFuZ3VsYXIuaXNTdHJpbmcodGV4dCkpIHJldHVybiB0ZXh0O1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx7XFx7L2csIHN0YXJ0U3ltYm9sKS5yZXBsYWNlKC99fS9nLCBlbmRTeW1ib2wpO1xuICAgIH1cbiAgfVxuXG59XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIG1vZHVsZVxuICAgKiBAbmFtZSBtYXRlcmlhbC5jb3JlLmNvbXBvbmVudFJlZ2lzdHJ5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBIGNvbXBvbmVudCBpbnN0YW5jZSByZWdpc3RyYXRpb24gc2VydmljZS5cbiAgICogTm90ZTogY3VycmVudGx5IHRoaXMgYXMgYSBwcml2YXRlIHNlcnZpY2UgaW4gdGhlIFNpZGVOYXYgY29tcG9uZW50LlxuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAgIC5mYWN0b3J5KCckbWRDb21wb25lbnRSZWdpc3RyeScsIENvbXBvbmVudFJlZ2lzdHJ5KTtcblxuICAvKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmdkb2MgZmFjdG9yeVxuICAgKiBAbmFtZSBDb21wb25lbnRSZWdpc3RyeVxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmUuY29tcG9uZW50UmVnaXN0cnlcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIENvbXBvbmVudFJlZ2lzdHJ5KCRsb2csICRxKSB7XG5cbiAgICB2YXIgc2VsZjtcbiAgICB2YXIgaW5zdGFuY2VzID0gWyBdO1xuICAgIHZhciBwZW5kaW5ncyA9IHsgfTtcblxuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHByaW50IGFuIGVycm9yIHdoZW4gYW4gaW5zdGFuY2UgZm9yIGEgaGFuZGxlIGlzbid0IGZvdW5kLlxuICAgICAgICovXG4gICAgICBub3RGb3VuZEVycm9yOiBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgJGxvZy5lcnJvcignTm8gaW5zdGFuY2UgZm91bmQgZm9yIGhhbmRsZScsIGhhbmRsZSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm4gYWxsIHJlZ2lzdGVyZWQgaW5zdGFuY2VzIGFzIGFuIGFycmF5LlxuICAgICAgICovXG4gICAgICBnZXRJbnN0YW5jZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2VzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgYSByZWdpc3RlcmVkIGluc3RhbmNlLlxuICAgICAgICogQHBhcmFtIGhhbmRsZSB0aGUgU3RyaW5nIGhhbmRsZSB0byBsb29rIHVwIGZvciBhIHJlZ2lzdGVyZWQgaW5zdGFuY2UuXG4gICAgICAgKi9cbiAgICAgIGdldDogZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgIGlmICggIWlzVmFsaWRJRChoYW5kbGUpICkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIGksIGosIGluc3RhbmNlO1xuICAgICAgICBmb3IoaSA9IDAsIGogPSBpbnN0YW5jZXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZXNbaV07XG4gICAgICAgICAgaWYoaW5zdGFuY2UuJCRtZEhhbmRsZSA9PT0gaGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZWdpc3RlciBhbiBpbnN0YW5jZS5cbiAgICAgICAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgaW5zdGFuY2UgdG8gcmVnaXN0ZXJcbiAgICAgICAqIEBwYXJhbSBoYW5kbGUgdGhlIGhhbmRsZSB0byBpZGVudGlmeSB0aGUgaW5zdGFuY2UgdW5kZXIuXG4gICAgICAgKi9cbiAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihpbnN0YW5jZSwgaGFuZGxlKSB7XG4gICAgICAgIGlmICggIWhhbmRsZSApIHJldHVybiBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgaW5zdGFuY2UuJCRtZEhhbmRsZSA9IGhhbmRsZTtcbiAgICAgICAgaW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xuICAgICAgICByZXNvbHZlV2hlbigpO1xuXG4gICAgICAgIHJldHVybiBkZXJlZ2lzdGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgcmVnaXN0cmF0aW9uIGZvciBhbiBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVyZWdpc3RlcigpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBpbnN0YW5jZXMuaW5kZXhPZihpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgaW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdmUgYW55IHBlbmRpbmcgcHJvbWlzZXMgZm9yIHRoaXMgaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVXaGVuKCkge1xuICAgICAgICAgIHZhciBkZmQgPSBwZW5kaW5nc1toYW5kbGVdO1xuICAgICAgICAgIGlmICggZGZkICkge1xuICAgICAgICAgICAgZGZkLnJlc29sdmUoIGluc3RhbmNlICk7XG4gICAgICAgICAgICBkZWxldGUgcGVuZGluZ3NbaGFuZGxlXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQXN5bmMgYWNjZXNzb3IgdG8gcmVnaXN0ZXJlZCBjb21wb25lbnQgaW5zdGFuY2VcbiAgICAgICAqIElmIG5vdCBhdmFpbGFibGUgdGhlbiBhIHByb21pc2UgaXMgY3JlYXRlZCB0byBub3RpZnlcbiAgICAgICAqIGFsbCBsaXN0ZW5lcnMgd2hlbiB0aGUgaW5zdGFuY2UgaXMgcmVnaXN0ZXJlZC5cbiAgICAgICAqL1xuICAgICAgd2hlbiA6IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICBpZiAoIGlzVmFsaWRJRChoYW5kbGUpICkge1xuICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gc2VsZi5nZXQoaGFuZGxlKTtcblxuICAgICAgICAgIGlmICggaW5zdGFuY2UgKSAge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSggaW5zdGFuY2UgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVuZGluZ3NbaGFuZGxlXSA9IGRlZmVycmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoXCJJbnZhbGlkIGBtZC1jb21wb25lbnQtaWRgIHZhbHVlLlwiKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkSUQoaGFuZGxlKXtcbiAgICAgIHJldHVybiBoYW5kbGUgJiYgKGhhbmRsZSAhPT0gXCJcIik7XG4gICAgfVxuXG4gIH1cbiAgQ29tcG9uZW50UmVnaXN0cnkuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkcVwiXTtcblxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5mYWN0b3J5KCckbWRJbmtSaXBwbGUnLCBJbmtSaXBwbGVTZXJ2aWNlKVxuICAuZGlyZWN0aXZlKCdtZElua1JpcHBsZScsIElua1JpcHBsZURpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWROb0luaycsIGF0dHJOb0RpcmVjdGl2ZSgpKVxuICAuZGlyZWN0aXZlKCdtZE5vQmFyJywgYXR0ck5vRGlyZWN0aXZlKCkpXG4gIC5kaXJlY3RpdmUoJ21kTm9TdHJldGNoJywgYXR0ck5vRGlyZWN0aXZlKCkpO1xuXG5mdW5jdGlvbiBJbmtSaXBwbGVEaXJlY3RpdmUoJG1kSW5rUmlwcGxlKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKGF0dHIuaGFzT3duUHJvcGVydHkoJ21kSW5rUmlwcGxlQ2hlY2tib3gnKSkge1xuICAgICAgICAkbWRJbmtSaXBwbGUuYXR0YWNoQ2hlY2tib3hCZWhhdmlvcihzY29wZSwgZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbWRJbmtSaXBwbGUuYXR0YWNoQnV0dG9uQmVoYXZpb3Ioc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbklua1JpcHBsZURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kSW5rUmlwcGxlXCJdO1xuXG5mdW5jdGlvbiBJbmtSaXBwbGVTZXJ2aWNlKCR3aW5kb3csICR0aW1lb3V0KSB7XG5cbiAgcmV0dXJuIHtcbiAgICBhdHRhY2hCdXR0b25CZWhhdmlvcjogYXR0YWNoQnV0dG9uQmVoYXZpb3IsXG4gICAgYXR0YWNoQ2hlY2tib3hCZWhhdmlvcjogYXR0YWNoQ2hlY2tib3hCZWhhdmlvcixcbiAgICBhdHRhY2hUYWJCZWhhdmlvcjogYXR0YWNoVGFiQmVoYXZpb3IsXG4gICAgYXR0YWNoOiBhdHRhY2hcbiAgfTtcblxuICBmdW5jdGlvbiBhdHRhY2hCdXR0b25CZWhhdmlvcihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIGlzRkFCOiBlbGVtZW50Lmhhc0NsYXNzKCdtZC1mYWInKSxcbiAgICAgIGlzTWVudUl0ZW06IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLW1lbnUtaXRlbScpLFxuICAgICAgY2VudGVyOiBmYWxzZSxcbiAgICAgIGRpbUJhY2tncm91bmQ6IHRydWVcbiAgICB9LCBvcHRpb25zKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hDaGVja2JveEJlaGF2aW9yKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoe1xuICAgICAgY2VudGVyOiB0cnVlLFxuICAgICAgZGltQmFja2dyb3VuZDogZmFsc2UsXG4gICAgICBmaXRSaXBwbGU6IHRydWVcbiAgICB9LCBvcHRpb25zKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hUYWJCZWhhdmlvcihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIGNlbnRlcjogZmFsc2UsXG4gICAgICBkaW1CYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAgb3V0bGluZTogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dGFjaChzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmIChlbGVtZW50LmNvbnRyb2xsZXIoJ21kTm9JbmsnKSkgcmV0dXJuIGFuZ3VsYXIubm9vcDtcblxuICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICBjb2xvckVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBtb3VzZWRvd246IHRydWUsXG4gICAgICBob3ZlcjogdHJ1ZSxcbiAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgY2VudGVyOiBmYWxzZSxcbiAgICAgIG1vdXNlZG93blBhdXNlVGltZTogMTUwLFxuICAgICAgZGltQmFja2dyb3VuZDogZmFsc2UsXG4gICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgIGlzRkFCOiBmYWxzZSxcbiAgICAgIGlzTWVudUl0ZW06IGZhbHNlLFxuICAgICAgZml0UmlwcGxlOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIHJpcHBsZVNpemUsXG4gICAgICAgIGNvbnRyb2xsZXIgPSBlbGVtZW50LmNvbnRyb2xsZXIoJ21kSW5rUmlwcGxlJykgfHwge30sXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICByaXBwbGVzID0gW10sXG4gICAgICAgIHN0YXRlcyA9IFtdLFxuICAgICAgICBpc0FjdGl2ZUV4cHIgPSBlbGVtZW50LmF0dHIoJ21kLWhpZ2hsaWdodCcpLFxuICAgICAgICBpc0FjdGl2ZSA9IGZhbHNlLFxuICAgICAgICBpc0hlbGQgPSBmYWxzZSxcbiAgICAgICAgbm9kZSA9IGVsZW1lbnRbMF0sXG4gICAgICAgIHJpcHBsZVNpemVTZXR0aW5nID0gZWxlbWVudC5hdHRyKCdtZC1yaXBwbGUtc2l6ZScpLFxuICAgICAgICBjb2xvciA9IHBhcnNlQ29sb3IoZWxlbWVudC5hdHRyKCdtZC1pbmstcmlwcGxlJykpIHx8IHBhcnNlQ29sb3IoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9wdGlvbnMuY29sb3JFbGVtZW50WzBdKS5jb2xvciB8fCAncmdiKDAsIDAsIDApJyk7XG5cbiAgICBzd2l0Y2ggKHJpcHBsZVNpemVTZXR0aW5nKSB7XG4gICAgICBjYXNlICdmdWxsJzpcbiAgICAgICAgb3B0aW9ucy5pc0ZBQiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGFydGlhbCc6XG4gICAgICAgIG9wdGlvbnMuaXNGQUIgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gZXhwb3NlIG9uSW5wdXQgZm9yIHJpcHBsZSB0ZXN0aW5nXG4gICAgaWYgKG9wdGlvbnMubW91c2Vkb3duKSB7XG4gICAgICBlbGVtZW50Lm9uKCckbWQucHJlc3Nkb3duJywgb25QcmVzc0Rvd24pXG4gICAgICAgIC5vbignJG1kLnByZXNzdXAnLCBvblByZXNzVXApO1xuICAgIH1cblxuICAgIGNvbnRyb2xsZXIuY3JlYXRlUmlwcGxlID0gY3JlYXRlUmlwcGxlO1xuXG4gICAgaWYgKGlzQWN0aXZlRXhwcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGlzQWN0aXZlRXhwciwgZnVuY3Rpb24gd2F0Y2hBY3RpdmUobmV3VmFsdWUpIHtcbiAgICAgICAgaXNBY3RpdmUgPSBuZXdWYWx1ZTtcbiAgICAgICAgaWYgKGlzQWN0aXZlICYmICFyaXBwbGVzLmxlbmd0aCkge1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgY3JlYXRlUmlwcGxlKDAsIDApOyB9LCAwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJpcHBsZXMsIHVwZGF0ZUVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUHVibGlzaCBzZWxmLWRldGFjaCBtZXRob2QgaWYgZGVzaXJlZC4uLlxuICAgIHJldHVybiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBlbGVtZW50Lm9mZignJG1kLnByZXNzZG93bicsIG9uUHJlc3NEb3duKVxuICAgICAgICAub2ZmKCckbWQucHJlc3N1cCcsIG9uUHJlc3NVcCk7XG4gICAgICBnZXRSaXBwbGVDb250YWluZXIoKS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCByaXBwbGUgY29udGFpbmVyXG4gICAgICogSWYgdGhlcmUgaXMgbm8gcmlwcGxlIGNvbnRhaW5lciwgaXQgY3JlYXRlcyBvbmUgYW5kIHJldHVybnMgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthbmd1bGFyLmVsZW1lbnR9IHJpcHBsZSBjb250YWluZXIgZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJpcHBsZUNvbnRhaW5lcigpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50LmRhdGEoJyRtZFJpcHBsZUNvbnRhaW5lcicpO1xuICAgICAgaWYgKGNvbnRhaW5lcikgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLXJpcHBsZS1jb250YWluZXJcIj4nKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGNvbnRhaW5lcik7XG4gICAgICBlbGVtZW50LmRhdGEoJyRtZFJpcHBsZUNvbnRhaW5lcicsIGNvbnRhaW5lcik7XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQ29sb3IoY29sb3IpIHtcbiAgICAgIGlmICghY29sb3IpIHJldHVybjtcbiAgICAgIGlmIChjb2xvci5pbmRleE9mKCdyZ2JhJykgPT09IDApIHJldHVybiBjb2xvci5yZXBsYWNlKC9cXGQ/XFwuP1xcZCpcXHMqXFwpXFxzKiQvLCAnMC4xKScpO1xuICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJ3JnYicpICA9PT0gMCkgcmV0dXJuIHJnYlRvUkdCQShjb2xvcik7XG4gICAgICBpZiAoY29sb3IuaW5kZXhPZignIycpICAgID09PSAwKSByZXR1cm4gaGV4VG9SR0JBKGNvbG9yKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhbiByZ2JhIHN0cmluZ1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXggdmFsdWUgKDMgb3IgNiBkaWdpdHMpIHRvIGJlIGNvbnZlcnRlZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHJnYmEgY29sb3Igd2l0aCAwLjEgYWxwaGFcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gaGV4VG9SR0JBKGNvbG9yKSB7XG4gICAgICAgIHZhciBoZXggPSBjb2xvci5jaGFyQXQoMCkgPT09ICcjJyA/IGNvbG9yLnN1YnN0cigxKSA6IGNvbG9yLFxuICAgICAgICAgIGRpZyA9IGhleC5sZW5ndGggLyAzLFxuICAgICAgICAgIHJlZCA9IGhleC5zdWJzdHIoMCwgZGlnKSxcbiAgICAgICAgICBncm4gPSBoZXguc3Vic3RyKGRpZywgZGlnKSxcbiAgICAgICAgICBibHUgPSBoZXguc3Vic3RyKGRpZyAqIDIpO1xuICAgICAgICBpZiAoZGlnID09PSAxKSB7XG4gICAgICAgICAgcmVkICs9IHJlZDtcbiAgICAgICAgICBncm4gKz0gZ3JuO1xuICAgICAgICAgIGJsdSArPSBibHU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyBwYXJzZUludChyZWQsIDE2KSArICcsJyArIHBhcnNlSW50KGdybiwgMTYpICsgJywnICsgcGFyc2VJbnQoYmx1LCAxNikgKyAnLDAuMSknO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENvbnZlcnRzIHJnYiB2YWx1ZSB0byByZ2JhIHN0cmluZ1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZ2IgY29sb3Igc3RyaW5nXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gcmdiYSBjb2xvciB3aXRoIDAuMSBhbHBoYVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZ2JUb1JHQkEoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yLnJlcGxhY2UoJyknLCAnLCAwLjEpJykucmVwbGFjZSgnKCcsICdhKCcpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtLCB3YWl0KSB7XG4gICAgICByaXBwbGVzLnNwbGljZShyaXBwbGVzLmluZGV4T2YoZWxlbSksIDEpO1xuICAgICAgaWYgKHJpcHBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFJpcHBsZUNvbnRhaW5lcigpLmNzcyh7IGJhY2tncm91bmRDb2xvcjogJycgfSk7XG4gICAgICB9XG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7IGVsZW0ucmVtb3ZlKCk7IH0sIHdhaXQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KGVsZW0pIHtcbiAgICAgIHZhciBpbmRleCA9IHJpcHBsZXMuaW5kZXhPZihlbGVtKSxcbiAgICAgICAgICBzdGF0ZSA9IHN0YXRlc1tpbmRleF0gfHwge30sXG4gICAgICAgICAgZWxlbUlzQWN0aXZlID0gcmlwcGxlcy5sZW5ndGggPiAxID8gZmFsc2UgOiBpc0FjdGl2ZSxcbiAgICAgICAgICBlbGVtSXNIZWxkICAgPSByaXBwbGVzLmxlbmd0aCA+IDEgPyBmYWxzZSA6IGlzSGVsZDtcbiAgICAgIGlmIChlbGVtSXNBY3RpdmUgfHwgc3RhdGUuYW5pbWF0aW5nIHx8IGVsZW1Jc0hlbGQpIHtcbiAgICAgICAgZWxlbS5hZGRDbGFzcygnbWQtcmlwcGxlLXZpc2libGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbSkge1xuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdtZC1yaXBwbGUtdmlzaWJsZScpO1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgZWxlbS5jc3Moe1xuICAgICAgICAgICAgd2lkdGg6IHJpcHBsZVNpemUgKyAncHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiByaXBwbGVTaXplICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IChyaXBwbGVTaXplICogLTEpICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogKHJpcHBsZVNpemUgKiAtMSkgKyAncHgnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlRWxlbWVudChlbGVtLCBvcHRpb25zLm91dGxpbmUgPyA0NTAgOiA2NTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByaXBwbGUgYXQgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBjdXJzb3IgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIGN1cnNvciBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge2FuZ3VsYXIuZWxlbWVudH0gdGhlIGdlbmVyYXRlZCByaXBwbGUgZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJpcHBsZShsZWZ0LCB0b3ApIHtcblxuICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKGVsZW1lbnQuYXR0cignbWQtaW5rLXJpcHBsZScpKSB8fCBwYXJzZUNvbG9yKCR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvcHRpb25zLmNvbG9yRWxlbWVudFswXSkuY29sb3IgfHwgJ3JnYigwLCAwLCAwKScpO1xuXG4gICAgICB2YXIgY29udGFpbmVyID0gZ2V0UmlwcGxlQ29udGFpbmVyKCksXG4gICAgICAgICAgc2l6ZSA9IGdldFJpcHBsZVNpemUobGVmdCwgdG9wKSxcbiAgICAgICAgICBjc3MgPSBnZXRSaXBwbGVDc3Moc2l6ZSwgbGVmdCwgdG9wKSxcbiAgICAgICAgICBlbGVtID0gZ2V0UmlwcGxlRWxlbWVudChjc3MpLFxuICAgICAgICAgIGluZGV4ID0gcmlwcGxlcy5pbmRleE9mKGVsZW0pLFxuICAgICAgICAgIHN0YXRlID0gc3RhdGVzW2luZGV4XSB8fCB7fTtcblxuICAgICAgcmlwcGxlU2l6ZSA9IHNpemU7XG5cbiAgICAgIHN0YXRlLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGltQmFja2dyb3VuZCkge1xuICAgICAgICAgIGNvbnRhaW5lci5jc3MoeyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsZW0uYWRkQ2xhc3MoJ21kLXJpcHBsZS1wbGFjZWQgbWQtcmlwcGxlLXNjYWxlZCcpO1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgZWxlbS5jc3Moe1xuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IChzaXplICogMC41KSArICdweCcsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAoc2l6ZSAqIC0wLjUpICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogKHNpemUgKiAtMC41KSArICdweCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtLmNzcyh7IGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdGF0ZS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB1cGRhdGVFbGVtZW50KGVsZW0pO1xuICAgICAgICB9LCAob3B0aW9ucy5vdXRsaW5lID8gNDUwIDogMjI1KSwgZmFsc2UpO1xuICAgICAgfSwgMCwgZmFsc2UpO1xuXG4gICAgICByZXR1cm4gZWxlbTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIHRoZSByaXBwbGUgZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCBjc3NcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gY3NzIHByb3BlcnRpZXMgdG8gYmUgYXBwbGllZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLmVsZW1lbnR9IHRoZSBnZW5lcmF0ZWQgcmlwcGxlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0UmlwcGxlRWxlbWVudChjc3MpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC1yaXBwbGVcIiBkYXRhLWNvdW50ZXI9XCInICsgY291bnRlcisrICsgJ1wiPicpO1xuICAgICAgICByaXBwbGVzLnVuc2hpZnQoZWxlbSk7XG4gICAgICAgIHN0YXRlcy51bnNoaWZ0KHsgYW5pbWF0aW5nOiB0cnVlIH0pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kKGVsZW0pO1xuICAgICAgICBjc3MgJiYgZWxlbS5jc3MoY3NzKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsY3VsYXRlIHRoZSByaXBwbGUgc2l6ZVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGNhbGN1bGF0ZWQgcmlwcGxlIGRpYW1ldGVyXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFJpcHBsZVNpemUobGVmdCwgdG9wKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGNvbnRhaW5lci5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgICAgbXVsdGlwbGllciwgc2l6ZSwgcmVjdDtcbiAgICAgICAgaWYgKG9wdGlvbnMuaXNNZW51SXRlbSkge1xuICAgICAgICAgIHNpemUgPSBNYXRoLnNxcnQoTWF0aC5wb3cod2lkdGgsIDIpICsgTWF0aC5wb3coaGVpZ2h0LCAyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgbGVmdCAtPSByZWN0LmxlZnQ7XG4gICAgICAgICAgdG9wIC09IHJlY3QudG9wO1xuICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgobGVmdCwgd2lkdGggLSBsZWZ0KTtcbiAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heCh0b3AsIGhlaWdodCAtIHRvcCk7XG4gICAgICAgICAgc2l6ZSA9IDIgKiBNYXRoLnNxcnQoTWF0aC5wb3cod2lkdGgsIDIpICsgTWF0aC5wb3coaGVpZ2h0LCAyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXVsdGlwbGllciA9IG9wdGlvbnMuaXNGQUIgPyAxLjEgOiAwLjg7XG4gICAgICAgICAgc2l6ZSA9IE1hdGguc3FydChNYXRoLnBvdyh3aWR0aCwgMikgKyBNYXRoLnBvdyhoZWlnaHQsIDIpKSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZml0UmlwcGxlKSB7XG4gICAgICAgICAgICBzaXplID0gTWF0aC5taW4oaGVpZ2h0LCB3aWR0aCwgc2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdlbmVyYXRlcyB0aGUgcmlwcGxlIGNzc1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aGUgZGlhbWV0ZXIgb2YgdGhlIHJpcHBsZVxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRoZSBsZWZ0IGN1cnNvciBvZmZzZXRcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aGUgdG9wIGN1cnNvciBvZmZzZXRcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7e2JhY2tncm91bmRDb2xvcjogKiwgd2lkdGg6IHN0cmluZywgaGVpZ2h0OiBzdHJpbmcsIG1hcmdpbkxlZnQ6IHN0cmluZywgbWFyZ2luVG9wOiBzdHJpbmd9fVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBnZXRSaXBwbGVDc3Moc2l6ZSwgbGVmdCwgdG9wKSB7XG4gICAgICAgIHZhciByZWN0LFxuICAgICAgICAgICAgY3NzID0ge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJnYmFUb1JHQihjb2xvciksXG4gICAgICAgICAgICAgIGJvcmRlckNvbG9yOiByZ2JhVG9SR0IoY29sb3IpLFxuICAgICAgICAgICAgICB3aWR0aDogc2l6ZSArICdweCcsXG4gICAgICAgICAgICAgIGhlaWdodDogc2l6ZSArICdweCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMub3V0bGluZSkge1xuICAgICAgICAgIGNzcy53aWR0aCA9IDA7XG4gICAgICAgICAgY3NzLmhlaWdodCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3NzLm1hcmdpbkxlZnQgPSBjc3MubWFyZ2luVG9wID0gKHNpemUgKiAtMC41KSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgICBjc3MubGVmdCA9IGNzcy50b3AgPSAnNTAlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBjc3MubGVmdCA9IE1hdGgucm91bmQoKGxlZnQgLSByZWN0LmxlZnQpIC8gY29udGFpbmVyLnByb3AoJ29mZnNldFdpZHRoJykgKiAxMDApICsgJyUnO1xuICAgICAgICAgIGNzcy50b3AgPSBNYXRoLnJvdW5kKCh0b3AgLSByZWN0LnRvcCkgLyBjb250YWluZXIucHJvcCgnb2Zmc2V0SGVpZ2h0JykgKiAxMDApICsgJyUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNzcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgcmdiYSBzdHJpbmcgdG8gcmdiLCByZW1vdmluZyB0aGUgYWxwaGEgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJnYmEgY29sb3JcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gcmdiIGNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZ2JhVG9SR0IoY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gY29sb3IucmVwbGFjZSgncmdiYScsICdyZ2InKS5yZXBsYWNlKC8sW15cXClcXCxdK1xcKS8sICcpJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHVzZXIgaW5wdXQgc3RhcnQgYW5kIHN0b3AgZXZlbnRzXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblByZXNzRG93bihldikge1xuICAgICAgaWYgKCFpc1JpcHBsZUFsbG93ZWQoKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgcmlwcGxlID0gY3JlYXRlUmlwcGxlKGV2LnBvaW50ZXIueCwgZXYucG9pbnRlci55KTtcbiAgICAgIGlzSGVsZCA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUHJlc3NVcChldikge1xuICAgICAgaXNIZWxkID0gZmFsc2U7XG4gICAgICB2YXIgcmlwcGxlID0gcmlwcGxlc1sgcmlwcGxlcy5sZW5ndGggLSAxIF07XG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7IHVwZGF0ZUVsZW1lbnQocmlwcGxlKTsgfSwgMCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHJpcHBsZSBpcyBhbGxvd2VkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcmlwcGxlIGlzIGFsbG93ZWQsIGZhbHNlIGlmIG5vdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUmlwcGxlQWxsb3dlZCgpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICB2YXIgZ3JhbmRwYXJlbnQgPSBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICB2YXIgYW5jZXN0b3IgPSBncmFuZHBhcmVudCAmJiBncmFuZHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgcmV0dXJuICFpc0Rpc2FibGVkKG5vZGUpICYmICFpc0Rpc2FibGVkKHBhcmVudCkgJiYgIWlzRGlzYWJsZWQoZ3JhbmRwYXJlbnQpICYmICFpc0Rpc2FibGVkKGFuY2VzdG9yKTtcbiAgICAgIGZ1bmN0aW9uIGlzRGlzYWJsZWQgKGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIGVsZW0gJiYgZWxlbS5oYXNBdHRyaWJ1dGUgJiYgZWxlbS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbn1cbklua1JpcHBsZVNlcnZpY2UuJGluamVjdCA9IFtcIiR3aW5kb3dcIiwgXCIkdGltZW91dFwiXTtcblxuLyoqXG4gKiBub2luay9ub2Jhci9ub3N0cmV0Y2ggZGlyZWN0aXZlOiBtYWtlIGFueSBlbGVtZW50IHRoYXQgaGFzIG9uZSBvZlxuICogdGhlc2UgYXR0cmlidXRlcyBiZSBnaXZlbiBhIGNvbnRyb2xsZXIsIHNvIHRoYXQgb3RoZXIgZGlyZWN0aXZlcyBjYW5cbiAqIGByZXF1aXJlOmAgdGhlc2UgYW5kIHNlZSBpZiB0aGVyZSBpcyBhIGBubzx4eHg+YCBwYXJlbnQgYXR0cmlidXRlLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxwYXJlbnQgbWQtbm8taW5rPlxuICogICA8Y2hpbGQgZGV0ZWN0LW5vPlxuICogICA8L2NoaWxkPlxuICogPC9wYXJlbnQ+XG4gKiA8L2hsanM+XG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiBteUFwcC5kaXJlY3RpdmUoJ2RldGVjdE5vJywgZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgcmVxdWlyZTogWydeP21kTm9JbmsnLCBeP21kTm9CYXInXSxcbiAqICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAqICAgICAgIHZhciBub2lua0N0cmwgPSBjdHJsc1swXTtcbiAqICAgICAgIHZhciBub2JhckN0cmwgPSBjdHJsc1sxXTtcbiAqICAgICAgIGlmIChub0lua0N0cmwpIHtcbiAqICAgICAgICAgYWxlcnQoXCJ0aGUgbWQtbm8taW5rIGZsYWcgaGFzIGJlZW4gc3BlY2lmaWVkIG9uIGFuIGFuY2VzdG9yIVwiKTtcbiAqICAgICAgIH1cbiAqICAgICAgIGlmIChub2JhckN0cmwpIHtcbiAqICAgICAgICAgYWxlcnQoXCJ0aGUgbWQtbm8tYmFyIGZsYWcgaGFzIGJlZW4gc3BlY2lmaWVkIG9uIGFuIGFuY2VzdG9yIVwiKTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gYXR0ck5vRGlyZWN0aXZlKCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcFxuICAgIH07XG4gIH07XG59XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZS50aGVtaW5nLnBhbGV0dGUnLCBbXSlcbi5jb25zdGFudCgnJG1kQ29sb3JQYWxldHRlJywge1xuICAncmVkJzoge1xuICAgICc1MCc6ICcjZmZlYmVlJyxcbiAgICAnMTAwJzogJyNmZmNkZDInLFxuICAgICcyMDAnOiAnI2VmOWE5YScsXG4gICAgJzMwMCc6ICcjZTU3MzczJyxcbiAgICAnNDAwJzogJyNlZjUzNTAnLFxuICAgICc1MDAnOiAnI2Y0NDMzNicsXG4gICAgJzYwMCc6ICcjZTUzOTM1JyxcbiAgICAnNzAwJzogJyNkMzJmMmYnLFxuICAgICc4MDAnOiAnI2M2MjgyOCcsXG4gICAgJzkwMCc6ICcjYjcxYzFjJyxcbiAgICAnQTEwMCc6ICcjZmY4YTgwJyxcbiAgICAnQTIwMCc6ICcjZmY1MjUyJyxcbiAgICAnQTQwMCc6ICcjZmYxNzQ0JyxcbiAgICAnQTcwMCc6ICcjZDUwMDAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgNDAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAncGluayc6IHtcbiAgICAnNTAnOiAnI2ZjZTRlYycsXG4gICAgJzEwMCc6ICcjZjhiYmQwJyxcbiAgICAnMjAwJzogJyNmNDhmYjEnLFxuICAgICczMDAnOiAnI2YwNjI5MicsXG4gICAgJzQwMCc6ICcjZWM0MDdhJyxcbiAgICAnNTAwJzogJyNlOTFlNjMnLFxuICAgICc2MDAnOiAnI2Q4MWI2MCcsXG4gICAgJzcwMCc6ICcjYzIxODViJyxcbiAgICAnODAwJzogJyNhZDE0NTcnLFxuICAgICc5MDAnOiAnIzg4MGU0ZicsXG4gICAgJ0ExMDAnOiAnI2ZmODBhYicsXG4gICAgJ0EyMDAnOiAnI2ZmNDA4MScsXG4gICAgJ0E0MDAnOiAnI2Y1MDA1NycsXG4gICAgJ0E3MDAnOiAnI2M1MTE2MicsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIDQwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAncHVycGxlJzoge1xuICAgICc1MCc6ICcjZjNlNWY1JyxcbiAgICAnMTAwJzogJyNlMWJlZTcnLFxuICAgICcyMDAnOiAnI2NlOTNkOCcsXG4gICAgJzMwMCc6ICcjYmE2OGM4JyxcbiAgICAnNDAwJzogJyNhYjQ3YmMnLFxuICAgICc1MDAnOiAnIzljMjdiMCcsXG4gICAgJzYwMCc6ICcjOGUyNGFhJyxcbiAgICAnNzAwJzogJyM3YjFmYTInLFxuICAgICc4MDAnOiAnIzZhMWI5YScsXG4gICAgJzkwMCc6ICcjNGExNDhjJyxcbiAgICAnQTEwMCc6ICcjZWE4MGZjJyxcbiAgICAnQTIwMCc6ICcjZTA0MGZiJyxcbiAgICAnQTQwMCc6ICcjZDUwMGY5JyxcbiAgICAnQTcwMCc6ICcjYWEwMGZmJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnZGVlcC1wdXJwbGUnOiB7XG4gICAgJzUwJzogJyNlZGU3ZjYnLFxuICAgICcxMDAnOiAnI2QxYzRlOScsXG4gICAgJzIwMCc6ICcjYjM5ZGRiJyxcbiAgICAnMzAwJzogJyM5NTc1Y2QnLFxuICAgICc0MDAnOiAnIzdlNTdjMicsXG4gICAgJzUwMCc6ICcjNjczYWI3JyxcbiAgICAnNjAwJzogJyM1ZTM1YjEnLFxuICAgICc3MDAnOiAnIzUxMmRhOCcsXG4gICAgJzgwMCc6ICcjNDUyN2EwJyxcbiAgICAnOTAwJzogJyMzMTFiOTInLFxuICAgICdBMTAwJzogJyNiMzg4ZmYnLFxuICAgICdBMjAwJzogJyM3YzRkZmYnLFxuICAgICdBNDAwJzogJyM2NTFmZmYnLFxuICAgICdBNzAwJzogJyM2MjAwZWEnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzMwMCA0MDAgQTIwMCdcbiAgfSxcbiAgJ2luZGlnbyc6IHtcbiAgICAnNTAnOiAnI2U4ZWFmNicsXG4gICAgJzEwMCc6ICcjYzVjYWU5JyxcbiAgICAnMjAwJzogJyM5ZmE4ZGEnLFxuICAgICczMDAnOiAnIzc5ODZjYicsXG4gICAgJzQwMCc6ICcjNWM2YmMwJyxcbiAgICAnNTAwJzogJyMzZjUxYjUnLFxuICAgICc2MDAnOiAnIzM5NDlhYicsXG4gICAgJzcwMCc6ICcjMzAzZjlmJyxcbiAgICAnODAwJzogJyMyODM1OTMnLFxuICAgICc5MDAnOiAnIzFhMjM3ZScsXG4gICAgJ0ExMDAnOiAnIzhjOWVmZicsXG4gICAgJ0EyMDAnOiAnIzUzNmRmZScsXG4gICAgJ0E0MDAnOiAnIzNkNWFmZScsXG4gICAgJ0E3MDAnOiAnIzMwNGZmZScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnMzAwIDQwMCBBMjAwIEE0MDAnXG4gIH0sXG4gICdibHVlJzoge1xuICAgICc1MCc6ICcjZTNmMmZkJyxcbiAgICAnMTAwJzogJyNiYmRlZmInLFxuICAgICcyMDAnOiAnIzkwY2FmOScsXG4gICAgJzMwMCc6ICcjNjRiNWY2JyxcbiAgICAnNDAwJzogJyM0MmE1ZjUnLFxuICAgICc1MDAnOiAnIzIxOTZmMycsXG4gICAgJzYwMCc6ICcjMWU4OGU1JyxcbiAgICAnNzAwJzogJyMxOTc2ZDInLFxuICAgICc4MDAnOiAnIzE1NjVjMCcsXG4gICAgJzkwMCc6ICcjMGQ0N2ExJyxcbiAgICAnQTEwMCc6ICcjODJiMWZmJyxcbiAgICAnQTIwMCc6ICcjNDQ4YWZmJyxcbiAgICAnQTQwMCc6ICcjMjk3OWZmJyxcbiAgICAnQTcwMCc6ICcjMjk2MmZmJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnMTAwIDIwMCAzMDAgNDAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIEEyMDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnbGlnaHQtYmx1ZSc6IHtcbiAgICAnNTAnOiAnI2UxZjVmZScsXG4gICAgJzEwMCc6ICcjYjNlNWZjJyxcbiAgICAnMjAwJzogJyM4MWQ0ZmEnLFxuICAgICczMDAnOiAnIzRmYzNmNycsXG4gICAgJzQwMCc6ICcjMjliNmY2JyxcbiAgICAnNTAwJzogJyMwM2E5ZjQnLFxuICAgICc2MDAnOiAnIzAzOWJlNScsXG4gICAgJzcwMCc6ICcjMDI4OGQxJyxcbiAgICAnODAwJzogJyMwMjc3YmQnLFxuICAgICc5MDAnOiAnIzAxNTc5YicsXG4gICAgJ0ExMDAnOiAnIzgwZDhmZicsXG4gICAgJ0EyMDAnOiAnIzQwYzRmZicsXG4gICAgJ0E0MDAnOiAnIzAwYjBmZicsXG4gICAgJ0E3MDAnOiAnIzAwOTFlYScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAgQTcwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIEE3MDAnXG4gIH0sXG4gICdjeWFuJzoge1xuICAgICc1MCc6ICcjZTBmN2ZhJyxcbiAgICAnMTAwJzogJyNiMmViZjInLFxuICAgICcyMDAnOiAnIzgwZGVlYScsXG4gICAgJzMwMCc6ICcjNGRkMGUxJyxcbiAgICAnNDAwJzogJyMyNmM2ZGEnLFxuICAgICc1MDAnOiAnIzAwYmNkNCcsXG4gICAgJzYwMCc6ICcjMDBhY2MxJyxcbiAgICAnNzAwJzogJyMwMDk3YTcnLFxuICAgICc4MDAnOiAnIzAwODM4ZicsXG4gICAgJzkwMCc6ICcjMDA2MDY0JyxcbiAgICAnQTEwMCc6ICcjODRmZmZmJyxcbiAgICAnQTIwMCc6ICcjMThmZmZmJyxcbiAgICAnQTQwMCc6ICcjMDBlNWZmJyxcbiAgICAnQTcwMCc6ICcjMDBiOGQ0JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwJ1xuICB9LFxuICAndGVhbCc6IHtcbiAgICAnNTAnOiAnI2UwZjJmMScsXG4gICAgJzEwMCc6ICcjYjJkZmRiJyxcbiAgICAnMjAwJzogJyM4MGNiYzQnLFxuICAgICczMDAnOiAnIzRkYjZhYycsXG4gICAgJzQwMCc6ICcjMjZhNjlhJyxcbiAgICAnNTAwJzogJyMwMDk2ODgnLFxuICAgICc2MDAnOiAnIzAwODk3YicsXG4gICAgJzcwMCc6ICcjMDA3OTZiJyxcbiAgICAnODAwJzogJyMwMDY5NWMnLFxuICAgICc5MDAnOiAnIzAwNGQ0MCcsXG4gICAgJ0ExMDAnOiAnI2E3ZmZlYicsXG4gICAgJ0EyMDAnOiAnIzY0ZmZkYScsXG4gICAgJ0E0MDAnOiAnIzFkZTliNicsXG4gICAgJ0E3MDAnOiAnIzAwYmZhNScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwJ1xuICB9LFxuICAnZ3JlZW4nOiB7XG4gICAgJzUwJzogJyNlOGY1ZTknLFxuICAgICcxMDAnOiAnI2M4ZTZjOScsXG4gICAgJzIwMCc6ICcjYTVkNmE3JyxcbiAgICAnMzAwJzogJyM4MWM3ODQnLFxuICAgICc0MDAnOiAnIzY2YmI2YScsXG4gICAgJzUwMCc6ICcjNGNhZjUwJyxcbiAgICAnNjAwJzogJyM0M2EwNDcnLFxuICAgICc3MDAnOiAnIzM4OGUzYycsXG4gICAgJzgwMCc6ICcjMmU3ZDMyJyxcbiAgICAnOTAwJzogJyMxYjVlMjAnLFxuICAgICdBMTAwJzogJyNiOWY2Y2EnLFxuICAgICdBMjAwJzogJyM2OWYwYWUnLFxuICAgICdBNDAwJzogJyMwMGU2NzYnLFxuICAgICdBNzAwJzogJyMwMGM4NTMnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCdcbiAgfSxcbiAgJ2xpZ2h0LWdyZWVuJzoge1xuICAgICc1MCc6ICcjZjFmOGU5JyxcbiAgICAnMTAwJzogJyNkY2VkYzgnLFxuICAgICcyMDAnOiAnI2M1ZTFhNScsXG4gICAgJzMwMCc6ICcjYWVkNTgxJyxcbiAgICAnNDAwJzogJyM5Y2NjNjUnLFxuICAgICc1MDAnOiAnIzhiYzM0YScsXG4gICAgJzYwMCc6ICcjN2NiMzQyJyxcbiAgICAnNzAwJzogJyM2ODlmMzgnLFxuICAgICc4MDAnOiAnIzU1OGIyZicsXG4gICAgJzkwMCc6ICcjMzM2OTFlJyxcbiAgICAnQTEwMCc6ICcjY2NmZjkwJyxcbiAgICAnQTIwMCc6ICcjYjJmZjU5JyxcbiAgICAnQTQwMCc6ICcjNzZmZjAzJyxcbiAgICAnQTcwMCc6ICcjNjRkZDE3JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnODAwIDkwMCdcbiAgfSxcbiAgJ2xpbWUnOiB7XG4gICAgJzUwJzogJyNmOWZiZTcnLFxuICAgICcxMDAnOiAnI2YwZjRjMycsXG4gICAgJzIwMCc6ICcjZTZlZTljJyxcbiAgICAnMzAwJzogJyNkY2U3NzUnLFxuICAgICc0MDAnOiAnI2Q0ZTE1NycsXG4gICAgJzUwMCc6ICcjY2RkYzM5JyxcbiAgICAnNjAwJzogJyNjMGNhMzMnLFxuICAgICc3MDAnOiAnI2FmYjQyYicsXG4gICAgJzgwMCc6ICcjOWU5ZDI0JyxcbiAgICAnOTAwJzogJyM4Mjc3MTcnLFxuICAgICdBMTAwJzogJyNmNGZmODEnLFxuICAgICdBMjAwJzogJyNlZWZmNDEnLFxuICAgICdBNDAwJzogJyNjNmZmMDAnLFxuICAgICdBNzAwJzogJyNhZWVhMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzkwMCdcbiAgfSxcbiAgJ3llbGxvdyc6IHtcbiAgICAnNTAnOiAnI2ZmZmRlNycsXG4gICAgJzEwMCc6ICcjZmZmOWM0JyxcbiAgICAnMjAwJzogJyNmZmY1OWQnLFxuICAgICczMDAnOiAnI2ZmZjE3NicsXG4gICAgJzQwMCc6ICcjZmZlZTU4JyxcbiAgICAnNTAwJzogJyNmZmViM2InLFxuICAgICc2MDAnOiAnI2ZkZDgzNScsXG4gICAgJzcwMCc6ICcjZmJjMDJkJyxcbiAgICAnODAwJzogJyNmOWE4MjUnLFxuICAgICc5MDAnOiAnI2Y1N2YxNycsXG4gICAgJ0ExMDAnOiAnI2ZmZmY4ZCcsXG4gICAgJ0EyMDAnOiAnI2ZmZmYwMCcsXG4gICAgJ0E0MDAnOiAnI2ZmZWEwMCcsXG4gICAgJ0E3MDAnOiAnI2ZmZDYwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnXG4gIH0sXG4gICdhbWJlcic6IHtcbiAgICAnNTAnOiAnI2ZmZjhlMScsXG4gICAgJzEwMCc6ICcjZmZlY2IzJyxcbiAgICAnMjAwJzogJyNmZmUwODInLFxuICAgICczMDAnOiAnI2ZmZDU0ZicsXG4gICAgJzQwMCc6ICcjZmZjYTI4JyxcbiAgICAnNTAwJzogJyNmZmMxMDcnLFxuICAgICc2MDAnOiAnI2ZmYjMwMCcsXG4gICAgJzcwMCc6ICcjZmZhMDAwJyxcbiAgICAnODAwJzogJyNmZjhmMDAnLFxuICAgICc5MDAnOiAnI2ZmNmYwMCcsXG4gICAgJ0ExMDAnOiAnI2ZmZTU3ZicsXG4gICAgJ0EyMDAnOiAnI2ZmZDc0MCcsXG4gICAgJ0E0MDAnOiAnI2ZmYzQwMCcsXG4gICAgJ0E3MDAnOiAnI2ZmYWIwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnXG4gIH0sXG4gICdvcmFuZ2UnOiB7XG4gICAgJzUwJzogJyNmZmYzZTAnLFxuICAgICcxMDAnOiAnI2ZmZTBiMicsXG4gICAgJzIwMCc6ICcjZmZjYzgwJyxcbiAgICAnMzAwJzogJyNmZmI3NGQnLFxuICAgICc0MDAnOiAnI2ZmYTcyNicsXG4gICAgJzUwMCc6ICcjZmY5ODAwJyxcbiAgICAnNjAwJzogJyNmYjhjMDAnLFxuICAgICc3MDAnOiAnI2Y1N2MwMCcsXG4gICAgJzgwMCc6ICcjZWY2YzAwJyxcbiAgICAnOTAwJzogJyNlNjUxMDAnLFxuICAgICdBMTAwJzogJyNmZmQxODAnLFxuICAgICdBMjAwJzogJyNmZmFiNDAnLFxuICAgICdBNDAwJzogJyNmZjkxMDAnLFxuICAgICdBNzAwJzogJyNmZjZkMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc4MDAgOTAwJ1xuICB9LFxuICAnZGVlcC1vcmFuZ2UnOiB7XG4gICAgJzUwJzogJyNmYmU5ZTcnLFxuICAgICcxMDAnOiAnI2ZmY2NiYycsXG4gICAgJzIwMCc6ICcjZmZhYjkxJyxcbiAgICAnMzAwJzogJyNmZjhhNjUnLFxuICAgICc0MDAnOiAnI2ZmNzA0MycsXG4gICAgJzUwMCc6ICcjZmY1NzIyJyxcbiAgICAnNjAwJzogJyNmNDUxMWUnLFxuICAgICc3MDAnOiAnI2U2NGExOScsXG4gICAgJzgwMCc6ICcjZDg0MzE1JyxcbiAgICAnOTAwJzogJyNiZjM2MGMnLFxuICAgICdBMTAwJzogJyNmZjllODAnLFxuICAgICdBMjAwJzogJyNmZjZlNDAnLFxuICAgICdBNDAwJzogJyNmZjNkMDAnLFxuICAgICdBNzAwJzogJyNkZDJjMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCA0MDAgQTEwMCBBMjAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgOTAwIEE0MDAgQTcwMCdcbiAgfSxcbiAgJ2Jyb3duJzoge1xuICAgICc1MCc6ICcjZWZlYmU5JyxcbiAgICAnMTAwJzogJyNkN2NjYzgnLFxuICAgICcyMDAnOiAnI2JjYWFhNCcsXG4gICAgJzMwMCc6ICcjYTE4ODdmJyxcbiAgICAnNDAwJzogJyM4ZDZlNjMnLFxuICAgICc1MDAnOiAnIzc5NTU0OCcsXG4gICAgJzYwMCc6ICcjNmQ0YzQxJyxcbiAgICAnNzAwJzogJyM1ZDQwMzcnLFxuICAgICc4MDAnOiAnIzRlMzQyZScsXG4gICAgJzkwMCc6ICcjM2UyNzIzJyxcbiAgICAnQTEwMCc6ICcjZDdjY2M4JyxcbiAgICAnQTIwMCc6ICcjYmNhYWE0JyxcbiAgICAnQTQwMCc6ICcjOGQ2ZTYzJyxcbiAgICAnQTcwMCc6ICcjNWQ0MDM3JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnMzAwIDQwMCdcbiAgfSxcbiAgJ2dyZXknOiB7XG4gICAgJzAnOiAnI2ZmZmZmZicsXG4gICAgJzUwJzogJyNmYWZhZmEnLFxuICAgICcxMDAnOiAnI2Y1ZjVmNScsXG4gICAgJzIwMCc6ICcjZWVlZWVlJyxcbiAgICAnMzAwJzogJyNlMGUwZTAnLFxuICAgICc0MDAnOiAnI2JkYmRiZCcsXG4gICAgJzUwMCc6ICcjOWU5ZTllJyxcbiAgICAnNjAwJzogJyM3NTc1NzUnLFxuICAgICc3MDAnOiAnIzYxNjE2MScsXG4gICAgJzgwMCc6ICcjNDI0MjQyJyxcbiAgICAnOTAwJzogJyMyMTIxMjEnLFxuICAgICcxMDAwJzogJyMwMDAwMDAnLFxuICAgICdBMTAwJzogJyNmZmZmZmYnLFxuICAgICdBMjAwJzogJyNlZWVlZWUnLFxuICAgICdBNDAwJzogJyNiZGJkYmQnLFxuICAgICdBNzAwJzogJyM2MTYxNjEnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc2MDAgNzAwIDgwMCA5MDAnXG4gIH0sXG4gICdibHVlLWdyZXknOiB7XG4gICAgJzUwJzogJyNlY2VmZjEnLFxuICAgICcxMDAnOiAnI2NmZDhkYycsXG4gICAgJzIwMCc6ICcjYjBiZWM1JyxcbiAgICAnMzAwJzogJyM5MGE0YWUnLFxuICAgICc0MDAnOiAnIzc4OTA5YycsXG4gICAgJzUwMCc6ICcjNjA3ZDhiJyxcbiAgICAnNjAwJzogJyM1NDZlN2EnLFxuICAgICc3MDAnOiAnIzQ1NWE2NCcsXG4gICAgJzgwMCc6ICcjMzc0NzRmJyxcbiAgICAnOTAwJzogJyMyNjMyMzgnLFxuICAgICdBMTAwJzogJyNjZmQ4ZGMnLFxuICAgICdBMjAwJzogJyNiMGJlYzUnLFxuICAgICdBNDAwJzogJyM3ODkwOWMnLFxuICAgICdBNzAwJzogJyM0NTVhNjQnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNDAwIDUwMCdcbiAgfVxufSk7XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZS50aGVtaW5nJywgWydtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZSddKVxuICAuZGlyZWN0aXZlKCdtZFRoZW1lJywgVGhlbWluZ0RpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRUaGVtYWJsZScsIFRoZW1hYmxlRGlyZWN0aXZlKVxuICAucHJvdmlkZXIoJyRtZFRoZW1pbmcnLCBUaGVtaW5nUHJvdmlkZXIpXG4gIC5ydW4oZ2VuZXJhdGVUaGVtZXMpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb24gUHJvdmlkZXIgdG8gY29uZmlndXJlIHRoZSBgJG1kVGhlbWluZ2Agc2VydmljZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRoZW1pbmdQcm92aWRlciNzZXREZWZhdWx0VGhlbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGVtZU5hbWUgRGVmYXVsdCB0aGVtZSBuYW1lIHRvIGJlIGFwcGxpZWQgdG8gZWxlbWVudHMuIERlZmF1bHQgdmFsdWUgaXMgYGRlZmF1bHRgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyI2Fsd2F5c1dhdGNoVGhlbWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gd2F0Y2ggV2hldGhlciBvciBub3QgdG8gYWx3YXlzIHdhdGNoIHRoZW1lcyBmb3IgY2hhbmdlcyBhbmQgcmUtYXBwbHlcbiAqIGNsYXNzZXMgd2hlbiB0aGV5IGNoYW5nZS4gRGVmYXVsdCBpcyBgZmFsc2VgLiBFbmFibGluZyBjYW4gcmVkdWNlIHBlcmZvcm1hbmNlLlxuICovXG5cbi8vIEluIG1lbW9yeSBzdG9yYWdlIG9mIGRlZmluZWQgdGhlbWVzIGFuZCBjb2xvciBwYWxldHRlcyAoYm90aCBsb2FkZWQgYnkgQ1NTLCBhbmQgdXNlciBzcGVjaWZpZWQpXG52YXIgUEFMRVRURVM7XG52YXIgVEhFTUVTO1xudmFyIHRoZW1pbmdQcm92aWRlcjtcbnZhciBnZW5lcmF0aW9uSXNEb25lO1xuXG52YXIgREFSS19GT1JFR1JPVU5EID0ge1xuICBuYW1lOiAnZGFyaycsXG4gICcxJzogJ3JnYmEoMCwwLDAsMC44NyknLFxuICAnMic6ICdyZ2JhKDAsMCwwLDAuNTQpJyxcbiAgJzMnOiAncmdiYSgwLDAsMCwwLjI2KScsXG4gICc0JzogJ3JnYmEoMCwwLDAsMC4xMiknXG59O1xudmFyIExJR0hUX0ZPUkVHUk9VTkQgPSB7XG4gIG5hbWU6ICdsaWdodCcsXG4gICcxJzogJ3JnYmEoMjU1LDI1NSwyNTUsMS4wKScsXG4gICcyJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScsXG4gICczJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4zKScsXG4gICc0JzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4xMiknXG59O1xuXG52YXIgREFSS19TSEFET1cgPSAnMXB4IDFweCAwcHggcmdiYSgwLDAsMCwwLjQpLCAtMXB4IC0xcHggMHB4IHJnYmEoMCwwLDAsMC40KSc7XG52YXIgTElHSFRfU0hBRE9XID0gJyc7XG5cbnZhciBEQVJLX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgwLDAsMCwwLjg3KScpO1xudmFyIExJR0hUX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgyNTUsMjU1LDI1NSwwLjg3Jyk7XG52YXIgU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiKDI1NSwyNTUsMjU1KScpO1xuXG52YXIgVEhFTUVfQ09MT1JfVFlQRVMgPSBbJ3ByaW1hcnknLCAnYWNjZW50JywgJ3dhcm4nLCAnYmFja2dyb3VuZCddO1xudmFyIERFRkFVTFRfQ09MT1JfVFlQRSA9ICdwcmltYXJ5JztcblxuLy8gQSBjb2xvciBpbiBhIHRoZW1lIHdpbGwgdXNlIHRoZXNlIGh1ZXMgYnkgZGVmYXVsdCwgaWYgbm90IHNwZWNpZmllZCBieSB1c2VyLlxudmFyIExJR0hUX0RFRkFVTFRfSFVFUyA9IHtcbiAgJ2FjY2VudCc6IHtcbiAgICAnZGVmYXVsdCc6ICdBMjAwJyxcbiAgICAnaHVlLTEnOiAnQTEwMCcsXG4gICAgJ2h1ZS0yJzogJ0E0MDAnLFxuICAgICdodWUtMyc6ICdBNzAwJ1xuICB9XG59O1xudmFyIERBUktfREVGQVVMVF9IVUVTID0ge1xuICAnYmFja2dyb3VuZCc6IHtcbiAgICAnZGVmYXVsdCc6ICc1MDAnLFxuICAgICdodWUtMSc6ICczMDAnLFxuICAgICdodWUtMic6ICc2MDAnLFxuICAgICdodWUtMyc6ICc4MDAnXG4gIH1cbn07XG5USEVNRV9DT0xPUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKGNvbG9yVHlwZSkge1xuICAvLyBDb2xvciB0eXBlcyB3aXRoIHVuc3BlY2lmaWVkIGRlZmF1bHQgaHVlcyB3aWxsIHVzZSB0aGVzZSBkZWZhdWx0IGh1ZSB2YWx1ZXNcbiAgdmFyIGRlZmF1bHREZWZhdWx0SHVlcyA9IHtcbiAgICAnZGVmYXVsdCc6ICc1MDAnLFxuICAgICdodWUtMSc6ICczMDAnLFxuICAgICdodWUtMic6ICc4MDAnLFxuICAgICdodWUtMyc6ICdBMTAwJ1xuICB9O1xuICBpZiAoIUxJR0hUX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdKSBMSUdIVF9ERUZBVUxUX0hVRVNbY29sb3JUeXBlXSA9IGRlZmF1bHREZWZhdWx0SHVlcztcbiAgaWYgKCFEQVJLX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdKSBEQVJLX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdID0gZGVmYXVsdERlZmF1bHRIdWVzO1xufSk7XG5cbnZhciBWQUxJRF9IVUVfVkFMVUVTID0gW1xuICAnNTAnLCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLFxuICAnNzAwJywgJzgwMCcsICc5MDAnLCAnQTEwMCcsICdBMjAwJywgJ0E0MDAnLCAnQTcwMCdcbl07XG5cbmZ1bmN0aW9uIFRoZW1pbmdQcm92aWRlcigkbWRDb2xvclBhbGV0dGUpIHtcbiAgUEFMRVRURVMgPSB7fTtcbiAgVEhFTUVTID0ge307XG4gIHZhciBkZWZhdWx0VGhlbWUgPSAnZGVmYXVsdCc7XG4gIHZhciBhbHdheXNXYXRjaFRoZW1lID0gZmFsc2U7XG5cbiAgLy8gTG9hZCBKUyBEZWZpbmVkIFBhbGV0dGVzXG4gIGFuZ3VsYXIuZXh0ZW5kKFBBTEVUVEVTLCAkbWRDb2xvclBhbGV0dGUpO1xuXG4gIC8vIERlZmF1bHQgdGhlbWUgZGVmaW5lZCBpbiBjb3JlLmpzXG5cbiAgVGhlbWluZ1NlcnZpY2UuJGluamVjdCA9IFtcIiRyb290U2NvcGVcIiwgXCIkbG9nXCJdO1xuICByZXR1cm4gdGhlbWluZ1Byb3ZpZGVyID0ge1xuICAgIGRlZmluZVBhbGV0dGU6IGRlZmluZVBhbGV0dGUsXG4gICAgZXh0ZW5kUGFsZXR0ZTogZXh0ZW5kUGFsZXR0ZSxcbiAgICB0aGVtZTogcmVnaXN0ZXJUaGVtZSxcblxuICAgIHNldERlZmF1bHRUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcbiAgICAgIGRlZmF1bHRUaGVtZSA9IHRoZW1lO1xuICAgIH0sXG4gICAgYWx3YXlzV2F0Y2hUaGVtZTogZnVuY3Rpb24oYWx3YXlzV2F0Y2gpIHtcbiAgICAgIGFsd2F5c1dhdGNoVGhlbWUgPSBhbHdheXNXYXRjaDtcbiAgICB9LFxuICAgICRnZXQ6IFRoZW1pbmdTZXJ2aWNlLFxuICAgIF9MSUdIVF9ERUZBVUxUX0hVRVM6IExJR0hUX0RFRkFVTFRfSFVFUyxcbiAgICBfREFSS19ERUZBVUxUX0hVRVM6IERBUktfREVGQVVMVF9IVUVTLFxuICAgIF9QQUxFVFRFUzogUEFMRVRURVMsXG4gICAgX1RIRU1FUzogVEhFTUVTLFxuICAgIF9wYXJzZVJ1bGVzOiBwYXJzZVJ1bGVzLFxuICAgIF9yZ2JhOiByZ2JhXG4gIH07XG5cbiAgLy8gRXhhbXBsZTogJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ25lb25SZWQnLCB7IDUwOiAnI2Y1ZmFmYScsIC4uLiB9KTtcbiAgZnVuY3Rpb24gZGVmaW5lUGFsZXR0ZShuYW1lLCBtYXApIHtcbiAgICBtYXAgPSBtYXAgfHwge307XG4gICAgUEFMRVRURVNbbmFtZV0gPSBjaGVja1BhbGV0dGVWYWxpZChuYW1lLCBtYXApO1xuICAgIHJldHVybiB0aGVtaW5nUHJvdmlkZXI7XG4gIH1cblxuICAvLyBSZXR1cm5zIGFuIG5ldyBvYmplY3Qgd2hpY2ggaXMgYSBjb3B5IG9mIGEgZ2l2ZW4gcGFsZXR0ZSBgbmFtZWAgd2l0aCB2YXJpYWJsZXMgZnJvbVxuICAvLyBgbWFwYCBvdmVyd3JpdHRlblxuICAvLyBFeGFtcGxlOiB2YXIgbmVvblJlZE1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCdyZWQnLCB7IDUwOiAnI2Y1ZmFmYWZhJyB9KTtcbiAgZnVuY3Rpb24gZXh0ZW5kUGFsZXR0ZShuYW1lLCBtYXApIHtcbiAgICByZXR1cm4gY2hlY2tQYWxldHRlVmFsaWQobmFtZSwgIGFuZ3VsYXIuZXh0ZW5kKHt9LCBQQUxFVFRFU1tuYW1lXSB8fCB7fSwgbWFwKSApO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHRoYXQgcGFsZXR0ZSBoYXMgYWxsIHJlcXVpcmVkIGh1ZXNcbiAgZnVuY3Rpb24gY2hlY2tQYWxldHRlVmFsaWQobmFtZSwgbWFwKSB7XG4gICAgdmFyIG1pc3NpbmdDb2xvcnMgPSBWQUxJRF9IVUVfVkFMVUVTLmZpbHRlcihmdW5jdGlvbihmaWVsZCkge1xuICAgICAgcmV0dXJuICFtYXBbZmllbGRdO1xuICAgIH0pO1xuICAgIGlmIChtaXNzaW5nQ29sb3JzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb2xvcnMgJTEgaW4gcGFsZXR0ZSAlMiFcIlxuICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIG1pc3NpbmdDb2xvcnMuam9pbignLCAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBuYW1lKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgdGhlbWUgKHdoaWNoIGlzIGEgY29sbGVjdGlvbiBvZiBjb2xvciBwYWxldHRlcyB0byB1c2Ugd2l0aCB2YXJpb3VzIHN0YXRlc1xuICAvLyBpZS4gd2FybiwgYWNjZW50LCBwcmltYXJ5IClcbiAgLy8gT3B0aW9uYWxseSBpbmhlcml0IGZyb20gYW4gZXhpc3RpbmcgdGhlbWVcbiAgLy8gJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdjdXN0b20tdGhlbWUnKS5wcmltYXJ5UGFsZXR0ZSgncmVkJyk7XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVGhlbWUobmFtZSwgaW5oZXJpdEZyb20pIHtcbiAgICBpbmhlcml0RnJvbSA9IGluaGVyaXRGcm9tIHx8ICdkZWZhdWx0JztcbiAgICBpZiAoVEhFTUVTW25hbWVdKSByZXR1cm4gVEhFTUVTW25hbWVdO1xuXG4gICAgdmFyIHBhcmVudFRoZW1lID0gdHlwZW9mIGluaGVyaXRGcm9tID09PSAnc3RyaW5nJyA/IFRIRU1FU1tpbmhlcml0RnJvbV0gOiBpbmhlcml0RnJvbTtcbiAgICB2YXIgdGhlbWUgPSBuZXcgVGhlbWUobmFtZSk7XG5cbiAgICBpZiAocGFyZW50VGhlbWUpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYXJlbnRUaGVtZS5jb2xvcnMsIGZ1bmN0aW9uKGNvbG9yLCBjb2xvclR5cGUpIHtcbiAgICAgICAgdGhlbWUuY29sb3JzW2NvbG9yVHlwZV0gPSB7XG4gICAgICAgICAgbmFtZTogY29sb3IubmFtZSxcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgYSBDT1BZIG9mIHRoZSBodWVzIGlzIGdpdmVuIHRvIHRoZSBjaGlsZCBjb2xvcixcbiAgICAgICAgICAvLyBub3QgdGhlIHNhbWUgcmVmZXJlbmNlLlxuICAgICAgICAgIGh1ZXM6IGFuZ3VsYXIuZXh0ZW5kKHt9LCBjb2xvci5odWVzKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIFRIRU1FU1tuYW1lXSA9IHRoZW1lO1xuXG4gICAgcmV0dXJuIHRoZW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gVGhlbWUobmFtZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm5hbWUgPSBuYW1lO1xuICAgIHNlbGYuY29sb3JzID0ge307XG5cbiAgICBzZWxmLmRhcmsgPSBzZXREYXJrO1xuICAgIHNldERhcmsoZmFsc2UpO1xuXG4gICAgZnVuY3Rpb24gc2V0RGFyayhpc0RhcmspIHtcbiAgICAgIGlzRGFyayA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyB0cnVlIDogISFpc0Rhcms7XG5cbiAgICAgIC8vIElmIG5vIGNoYW5nZSwgYWJvcnRcbiAgICAgIGlmIChpc0RhcmsgPT09IHNlbGYuaXNEYXJrKSByZXR1cm47XG5cbiAgICAgIHNlbGYuaXNEYXJrID0gaXNEYXJrO1xuXG4gICAgICBzZWxmLmZvcmVncm91bmRQYWxldHRlID0gc2VsZi5pc0RhcmsgPyBMSUdIVF9GT1JFR1JPVU5EIDogREFSS19GT1JFR1JPVU5EO1xuICAgICAgc2VsZi5mb3JlZ3JvdW5kU2hhZG93ID0gc2VsZi5pc0RhcmsgPyBEQVJLX1NIQURPVyA6IExJR0hUX1NIQURPVztcbiAgICAgIFxuICAgICAgLy8gTGlnaHQgYW5kIGRhcmsgdGhlbWVzIGhhdmUgZGlmZmVyZW50IGRlZmF1bHQgaHVlcy5cbiAgICAgIC8vIEdvIHRocm91Z2ggZWFjaCBleGlzdGluZyBjb2xvciB0eXBlIGZvciB0aGlzIHRoZW1lLCBhbmQgZm9yIGV2ZXJ5XG4gICAgICAvLyBodWUgdmFsdWUgdGhhdCBpcyBzdGlsbCB0aGUgZGVmYXVsdCBodWUgdmFsdWUgZnJvbSB0aGUgcHJldmlvdXMgbGlnaHQvZGFyayBzZXR0aW5nLFxuICAgICAgLy8gc2V0IGl0IHRvIHRoZSBkZWZhdWx0IGh1ZSB2YWx1ZSBmcm9tIHRoZSBuZXcgbGlnaHQvZGFyayBzZXR0aW5nLlxuICAgICAgdmFyIG5ld0RlZmF1bHRIdWVzID0gc2VsZi5pc0RhcmsgPyBEQVJLX0RFRkFVTFRfSFVFUyA6IExJR0hUX0RFRkFVTFRfSFVFUztcbiAgICAgIHZhciBvbGREZWZhdWx0SHVlcyA9IHNlbGYuaXNEYXJrID8gTElHSFRfREVGQVVMVF9IVUVTIDogREFSS19ERUZBVUxUX0hVRVM7XG4gICAgICBhbmd1bGFyLmZvckVhY2gobmV3RGVmYXVsdEh1ZXMsIGZ1bmN0aW9uKG5ld0RlZmF1bHRzLCBjb2xvclR5cGUpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gc2VsZi5jb2xvcnNbY29sb3JUeXBlXTtcbiAgICAgICAgdmFyIG9sZERlZmF1bHRzID0gb2xkRGVmYXVsdEh1ZXNbY29sb3JUeXBlXTtcbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgZm9yICh2YXIgaHVlTmFtZSBpbiBjb2xvci5odWVzKSB7XG4gICAgICAgICAgICBpZiAoY29sb3IuaHVlc1todWVOYW1lXSA9PT0gb2xkRGVmYXVsdHNbaHVlTmFtZV0pIHtcbiAgICAgICAgICAgICAgY29sb3IuaHVlc1todWVOYW1lXSA9IG5ld0RlZmF1bHRzW2h1ZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIFRIRU1FX0NPTE9SX1RZUEVTLmZvckVhY2goZnVuY3Rpb24oY29sb3JUeXBlKSB7XG4gICAgICB2YXIgZGVmYXVsdEh1ZXMgPSAoc2VsZi5pc0RhcmsgPyBEQVJLX0RFRkFVTFRfSFVFUyA6IExJR0hUX0RFRkFVTFRfSFVFUylbY29sb3JUeXBlXTtcbiAgICAgIHNlbGZbY29sb3JUeXBlICsgJ1BhbGV0dGUnXSA9IGZ1bmN0aW9uIHNldFBhbGV0dGVUeXBlKHBhbGV0dGVOYW1lLCBodWVzKSB7XG4gICAgICAgIHZhciBjb2xvciA9IHNlbGYuY29sb3JzW2NvbG9yVHlwZV0gPSB7XG4gICAgICAgICAgbmFtZTogcGFsZXR0ZU5hbWUsXG4gICAgICAgICAgaHVlczogYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRIdWVzLCBodWVzKVxuICAgICAgICB9O1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbG9yLmh1ZXMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgIGlmICghZGVmYXVsdEh1ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaHVlIG5hbWUgJyUxJyBpbiB0aGVtZSAlMidzICUzIGNvbG9yICU0LiBBdmFpbGFibGUgaHVlIG5hbWVzOiAlNFwiXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIG5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIHNlbGYubmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgcGFsZXR0ZU5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclNCcsIE9iamVjdC5rZXlzKGRlZmF1bHRIdWVzKS5qb2luKCcsICcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhjb2xvci5odWVzKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yLmh1ZXNba2V5XTtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihodWVWYWx1ZSkge1xuICAgICAgICAgIGlmIChWQUxJRF9IVUVfVkFMVUVTLmluZGV4T2YoaHVlVmFsdWUpID09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGh1ZSB2YWx1ZSAnJTEnIGluIHRoZW1lICUyJ3MgJTMgY29sb3IgJTQuIEF2YWlsYWJsZSBodWUgdmFsdWVzOiAlNVwiXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIGh1ZVZhbHVlKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBzZWxmLm5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMycsIGNvbG9yVHlwZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU0JywgcGFsZXR0ZU5hbWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclNScsIFZBTElEX0hVRV9WQUxVRVMuam9pbignLCAnKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9O1xuXG4gICAgICBzZWxmW2NvbG9yVHlwZSArICdDb2xvciddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS53YXJuKCckbWRUaGVtaW5nUHJvdmlkZXJUaGVtZS4nICsgY29sb3JUeXBlICsgJ0NvbG9yKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAnVXNlICRtZFRoZW1pbmdQcm92aWRlclRoZW1lLicgKyBjb2xvclR5cGUgKyAnUGFsZXR0ZSgpIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiBzZWxmW2NvbG9yVHlwZSArICdQYWxldHRlJ10uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRtZFRoZW1pbmdcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFNlcnZpY2UgdGhhdCBtYWtlcyBhbiBlbGVtZW50IGFwcGx5IHRoZW1pbmcgcmVsYXRlZCBjbGFzc2VzIHRvIGl0c2VsZi5cbiAgICpcbiAgICogYGBganNcbiAgICogYXBwLmRpcmVjdGl2ZSgnbXlGYW5jeURpcmVjdGl2ZScsIGZ1bmN0aW9uKCRtZFRoZW1pbmcpIHtcbiAgICogICByZXR1cm4ge1xuICAgKiAgICAgcmVzdHJpY3Q6ICdlJyxcbiAgICogICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICogICAgICAgJG1kVGhlbWluZyhlbCk7XG4gICAqICAgICB9XG4gICAqICAgfTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge2VsPX0gZWxlbWVudCB0byBhcHBseSB0aGVtaW5nIHRvXG4gICAqL1xuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gVGhlbWluZ1NlcnZpY2UoJHJvb3RTY29wZSwgJGxvZykge1xuICAgIGFwcGx5VGhlbWUuaW5oZXJpdCA9IGZ1bmN0aW9uKGVsLCBwYXJlbnQpIHtcbiAgICAgIHZhciBjdHJsID0gcGFyZW50LmNvbnRyb2xsZXIoJ21kVGhlbWUnKTtcblxuICAgICAgdmFyIGF0dHJUaGVtZVZhbHVlID0gZWwuYXR0cignbWQtdGhlbWUtd2F0Y2gnKTtcbiAgICAgIGlmICggKGFsd2F5c1dhdGNoVGhlbWUgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0clRoZW1lVmFsdWUpKSAmJiBhdHRyVGhlbWVWYWx1ZSAhPSAnZmFsc2UnKSB7XG4gICAgICAgIHZhciBkZXJlZ2lzdGVyV2F0Y2ggPSAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gY3RybCAmJiBjdHJsLiRtZFRoZW1lIHx8IGRlZmF1bHRUaGVtZTtcbiAgICAgICAgfSwgY2hhbmdlVGhlbWUpO1xuICAgICAgICBlbC5vbignJGRlc3Ryb3knLCBkZXJlZ2lzdGVyV2F0Y2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRoZW1lID0gY3RybCAmJiBjdHJsLiRtZFRoZW1lIHx8IGRlZmF1bHRUaGVtZTtcbiAgICAgICAgY2hhbmdlVGhlbWUodGhlbWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VUaGVtZSh0aGVtZSkge1xuICAgICAgICBpZiAoIXJlZ2lzdGVyZWQodGhlbWUpKSB7XG4gICAgICAgICAgJGxvZy53YXJuKCdBdHRlbXB0ZWQgdG8gdXNlIHVucmVnaXN0ZXJlZCB0aGVtZSBcXCcnICsgdGhlbWUgKyAnXFwnLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1JlZ2lzdGVyIGl0IHdpdGggJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9sZFRoZW1lID0gZWwuZGF0YSgnJG1kVGhlbWVOYW1lJyk7XG4gICAgICAgIGlmIChvbGRUaGVtZSkgZWwucmVtb3ZlQ2xhc3MoJ21kLScgKyBvbGRUaGVtZSArJy10aGVtZScpO1xuICAgICAgICBlbC5hZGRDbGFzcygnbWQtJyArIHRoZW1lICsgJy10aGVtZScpO1xuICAgICAgICBlbC5kYXRhKCckbWRUaGVtZU5hbWUnLCB0aGVtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGFwcGx5VGhlbWUucmVnaXN0ZXJlZCA9IHJlZ2lzdGVyZWQ7XG4gICAgYXBwbHlUaGVtZS5kZWZhdWx0VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VGhlbWU7XG4gICAgfTtcblxuICAgIHJldHVybiBhcHBseVRoZW1lO1xuXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJlZCh0aGVtZSkge1xuICAgICAgaWYgKHRoZW1lID09PSB1bmRlZmluZWQgfHwgdGhlbWUgPT09ICcnKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBUSEVNRVNbdGhlbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlUaGVtZShzY29wZSwgZWwpIHtcbiAgICAgIC8vIEFsbG93IHVzIHRvIGJlIGludm9rZWQgdmlhIGEgbGlua2luZyBmdW5jdGlvbiBzaWduYXR1cmUuXG4gICAgICBpZiAoZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbCA9IHNjb3BlO1xuICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgIH1cbiAgICAgIGFwcGx5VGhlbWUuaW5oZXJpdChlbCwgZWwpO1xuICAgIH1cbiAgfVxufVxuVGhlbWluZ1Byb3ZpZGVyLiRpbmplY3QgPSBbXCIkbWRDb2xvclBhbGV0dGVcIl07XG5cbmZ1bmN0aW9uIFRoZW1pbmdEaXJlY3RpdmUoJG1kVGhlbWluZywgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGN0cmwgPSB7XG4gICAgICAgICAgJHNldFRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuICAgICAgICAgICAgaWYgKCEkbWRUaGVtaW5nLnJlZ2lzdGVyZWQodGhlbWUpKSB7XG4gICAgICAgICAgICAgICRsb2cud2FybignYXR0ZW1wdGVkIHRvIHVzZSB1bnJlZ2lzdGVyZWQgdGhlbWUgXFwnJyArIHRoZW1lICsgJ1xcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3RybC4kbWRUaGVtZSA9IHRoZW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuZGF0YSgnJG1kVGhlbWVDb250cm9sbGVyJywgY3RybCk7XG4gICAgICAgIGN0cmwuJHNldFRoZW1lKCRpbnRlcnBvbGF0ZShhdHRycy5tZFRoZW1lKShzY29wZSkpO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbWRUaGVtZScsIGN0cmwuJHNldFRoZW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5UaGVtaW5nRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJGludGVycG9sYXRlXCIsIFwiJGxvZ1wiXTtcblxuZnVuY3Rpb24gVGhlbWFibGVEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4gJG1kVGhlbWluZztcbn1cblRoZW1hYmxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG5mdW5jdGlvbiBwYXJzZVJ1bGVzKHRoZW1lLCBjb2xvclR5cGUsIHJ1bGVzKSB7XG4gIGNoZWNrVmFsaWRQYWxldHRlKHRoZW1lLCBjb2xvclR5cGUpO1xuXG4gIHJ1bGVzID0gcnVsZXMucmVwbGFjZSgvVEhFTUVfTkFNRS9nLCB0aGVtZS5uYW1lKTtcbiAgdmFyIGdlbmVyYXRlZFJ1bGVzID0gW107XG4gIHZhciBjb2xvciA9IHRoZW1lLmNvbG9yc1tjb2xvclR5cGVdO1xuXG4gIHZhciB0aGVtZU5hbWVSZWdleCA9IG5ldyBSZWdFeHAoJy5tZC0nICsgdGhlbWUubmFtZSArICctdGhlbWUnLCAnZycpO1xuICAvLyBNYXRjaGVzICd7eyBwcmltYXJ5LWNvbG9yIH19JywgZXRjXG4gIHZhciBodWVSZWdleCA9IG5ldyBSZWdFeHAoJyhcXCd8XCIpP3t7XFxcXHMqKCcgKyBjb2xvclR5cGUgKyAnKS0oY29sb3J8Y29udHJhc3QpLT8oXFxcXGRcXFxcLj9cXFxcZCopP1xcXFxzKn19KFxcXCJ8XFwnKT8nLCdnJyk7XG4gIHZhciBzaW1wbGVWYXJpYWJsZVJlZ2V4ID0gLyc/XCI/XFx7XFx7XFxzKihbYS16QS1aXSspLShBP1xcZCt8aHVlXFwtWzAtM118c2hhZG93KS0/KFxcZFxcLj9cXGQqKT9cXHMqXFx9XFx9Jz9cIj8vZztcbiAgdmFyIHBhbGV0dGUgPSBQQUxFVFRFU1tjb2xvci5uYW1lXTtcblxuICAvLyBmaW5kIGFuZCByZXBsYWNlIHNpbXBsZSB2YXJpYWJsZXMgd2hlcmUgd2UgdXNlIGEgc3BlY2lmaWMgaHVlLCBub3QgYW5nZW50aXJlIHBhbGV0dGVcbiAgLy8gZWcuIFwie3twcmltYXJ5LTEwMH19XCJcbiAgLy9cXCgnICsgVEhFTUVfQ09MT1JfVFlQRVMuam9pbignXFx8JykgKyAnXFwpJ1xuICBydWxlcyA9IHJ1bGVzLnJlcGxhY2Uoc2ltcGxlVmFyaWFibGVSZWdleCwgZnVuY3Rpb24obWF0Y2gsIGNvbG9yVHlwZSwgaHVlLCBvcGFjaXR5KSB7XG4gICAgaWYgKGNvbG9yVHlwZSA9PT0gJ2ZvcmVncm91bmQnKSB7XG4gICAgICBpZiAoaHVlID09ICdzaGFkb3cnKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5mb3JlZ3JvdW5kU2hhZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmZvcmVncm91bmRQYWxldHRlW2h1ZV0gfHwgdGhlbWUuZm9yZWdyb3VuZFBhbGV0dGVbJzEnXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGh1ZS5pbmRleE9mKCdodWUnKSA9PT0gMCkge1xuICAgICAgaHVlID0gdGhlbWUuY29sb3JzW2NvbG9yVHlwZV0uaHVlc1todWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmdiYSggKFBBTEVUVEVTWyB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXS5uYW1lIF1baHVlXSB8fCAnJykudmFsdWUsIG9wYWNpdHkgKTtcbiAgfSk7XG5cbiAgLy8gRm9yIGVhY2ggdHlwZSwgZ2VuZXJhdGUgcnVsZXMgZm9yIGVhY2ggaHVlIChpZS4gZGVmYXVsdCwgbWQtaHVlLTEsIG1kLWh1ZS0yLCBtZC1odWUtMylcbiAgYW5ndWxhci5mb3JFYWNoKGNvbG9yLmh1ZXMsIGZ1bmN0aW9uKGh1ZVZhbHVlLCBodWVOYW1lKSB7XG4gICAgdmFyIG5ld1J1bGUgPSBydWxlc1xuICAgICAgLnJlcGxhY2UoaHVlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCBfLCBjb2xvclR5cGUsIGh1ZVR5cGUsIG9wYWNpdHkpIHtcbiAgICAgICAgcmV0dXJuIHJnYmEocGFsZXR0ZVtodWVWYWx1ZV1baHVlVHlwZSA9PT0gJ2NvbG9yJyA/ICd2YWx1ZScgOiAnY29udHJhc3QnXSwgb3BhY2l0eSk7XG4gICAgICB9KTtcbiAgICBpZiAoaHVlTmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICBuZXdSdWxlID0gbmV3UnVsZS5yZXBsYWNlKHRoZW1lTmFtZVJlZ2V4LCAnLm1kLScgKyB0aGVtZS5uYW1lICsgJy10aGVtZS5tZC0nICsgaHVlTmFtZSk7XG4gICAgfVxuICAgIGdlbmVyYXRlZFJ1bGVzLnB1c2gobmV3UnVsZSk7XG4gIH0pO1xuXG4gIHJldHVybiBnZW5lcmF0ZWRSdWxlcy5qb2luKCcnKTtcbn1cblxuLy8gR2VuZXJhdGUgb3VyIHRoZW1lcyBhdCBydW4gdGltZSBnaXZlbiB0aGUgc3RhdGUgb2YgVEhFTUVTIGFuZCBQQUxFVFRFU1xuZnVuY3Rpb24gZ2VuZXJhdGVUaGVtZXMoJGluamVjdG9yKSB7XG4gIHZhciB0aGVtZUNzcyA9ICRpbmplY3Rvci5oYXMoJyRNRF9USEVNRV9DU1MnKSA/ICRpbmplY3Rvci5nZXQoJyRNRF9USEVNRV9DU1MnKSA6ICcnO1xuXG4gIC8vIE1EX1RIRU1FX0NTUyBpcyBhIHN0cmluZyBnZW5lcmF0ZWQgYnkgdGhlIGJ1aWxkIHByb2Nlc3MgdGhhdCBpbmNsdWRlcyBhbGwgdGhlIHRoZW1hYmxlXG4gIC8vIGNvbXBvbmVudHMgYXMgdGVtcGxhdGVzXG5cbiAgLy8gRXhwb3NlIGNvbnRyYXN0IGNvbG9ycyBmb3IgcGFsZXR0ZXMgdG8gZW5zdXJlIHRoYXQgdGV4dCBpcyBhbHdheXMgcmVhZGFibGVcbiAgYW5ndWxhci5mb3JFYWNoKFBBTEVUVEVTLCBzYW5pdGl6ZVBhbGV0dGUpO1xuXG4gIC8vIEJyZWFrIHRoZSBDU1MgaW50byBpbmRpdmlkdWFsIHJ1bGVzXG4gIHZhciBydWxlcyA9IHRoZW1lQ3NzLnNwbGl0KC9cXH0oPyEoXFx9fCd8XCJ8OykpLylcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKHJ1bGUpIHsgcmV0dXJuIHJ1bGUgJiYgcnVsZS5sZW5ndGg7IH0pXG4gICAgLm1hcChmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlLnRyaW0oKSArICd9JzsgfSk7XG5cbiAgdmFyIHJ1bGVzQnlUeXBlID0ge307XG4gIFRIRU1FX0NPTE9SX1RZUEVTLmZvckVhY2goZnVuY3Rpb24odHlwZSkge1xuICAgIHJ1bGVzQnlUeXBlW3R5cGVdID0gJyc7XG4gIH0pO1xuICB2YXIgcnVsZU1hdGNoUmVnZXggPSBuZXcgUmVnRXhwKCdtZC0oJyArIFRIRU1FX0NPTE9SX1RZUEVTLmpvaW4oJ3wnKSArICcpJywgJ2cnKTtcblxuICAvLyBTb3J0IHRoZSBydWxlcyBiYXNlZCBvbiB0eXBlLCBhbGxvd2luZyB1cyB0byBkbyBjb2xvciBzdWJzdGl0dXRpb24gb24gYSBwZXItdHlwZSBiYXNpc1xuICBydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKHJ1bGVNYXRjaFJlZ2V4KTtcbiAgICAvLyBGaXJzdDogdGVzdCB0aGF0IGlmIHRoZSBydWxlIGhhcyAnLm1kLWFjY2VudCcsIGl0IGdvZXMgaW50byB0aGUgYWNjZW50IHNldCBvZiBydWxlc1xuICAgIGZvciAodmFyIGkgPSAwLCB0eXBlOyB0eXBlID0gVEhFTUVfQ09MT1JfVFlQRVNbaV07IGkrKykge1xuICAgICAgaWYgKHJ1bGUuaW5kZXhPZignLm1kLScgKyB0eXBlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBydWxlc0J5VHlwZVt0eXBlXSArPSBydWxlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5vIGVnICdtZC1hY2NlbnQnIGNsYXNzIGlzIGZvdW5kLCB0cnkgdG8ganVzdCBmaW5kICdhY2NlbnQnIGluIHRoZSBydWxlIGFuZCBndWVzcyBmcm9tXG4gICAgLy8gdGhlcmVcbiAgICBmb3IgKGkgPSAwOyB0eXBlID0gVEhFTUVfQ09MT1JfVFlQRVNbaV07IGkrKykge1xuICAgICAgaWYgKHJ1bGUuaW5kZXhPZih0eXBlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBydWxlc0J5VHlwZVt0eXBlXSArPSBydWxlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdG8gdGhlIHByaW1hcnkgYXJyYXlcbiAgICByZXR1cm4gcnVsZXNCeVR5cGVbREVGQVVMVF9DT0xPUl9UWVBFXSArPSBydWxlO1xuICB9KTtcblxuICB2YXIgc3R5bGVTdHJpbmcgPSAnJztcblxuICAvLyBGb3IgZWFjaCB0aGVtZSwgdXNlIHRoZSBjb2xvciBwYWxldHRlcyBzcGVjaWZpZWQgZm9yIGBwcmltYXJ5YCwgYHdhcm5gIGFuZCBgYWNjZW50YFxuICAvLyB0byBnZW5lcmF0ZSBDU1MgcnVsZXMuXG4gIGFuZ3VsYXIuZm9yRWFjaChUSEVNRVMsIGZ1bmN0aW9uKHRoZW1lKSB7XG4gICAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihjb2xvclR5cGUpIHtcbiAgICAgIHN0eWxlU3RyaW5nICs9IHBhcnNlUnVsZXModGhlbWUsIGNvbG9yVHlwZSwgcnVsZXNCeVR5cGVbY29sb3JUeXBlXSArICcnKTtcbiAgICB9KTtcbiAgICBpZiAodGhlbWUuY29sb3JzLnByaW1hcnkubmFtZSA9PSB0aGVtZS5jb2xvcnMuYWNjZW50Lm5hbWUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIiRtZFRoZW1pbmdQcm92aWRlcjogVXNpbmcgdGhlIHNhbWUgcGFsZXR0ZSBmb3IgcHJpbWFyeSBhbmRcIiArXG4gICAgICAgICAgICAgICAgICAgXCIgYWNjZW50LiBUaGlzIHZpb2xhdGVzIHRoZSBtYXRlcmlhbCBkZXNpZ24gc3BlYy5cIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBJbnNlcnQgb3VyIG5ld2x5IG1pbnRlZCBzdHlsZXMgaW50byB0aGUgRE9NXG4gIGlmICghZ2VuZXJhdGlvbklzRG9uZSkge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuaW5uZXJIVE1MID0gc3R5bGVTdHJpbmc7XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICBnZW5lcmF0aW9uSXNEb25lID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRoZSB1c2VyIHNwZWNpZmllcyBhICdkZWZhdWx0JyBjb250cmFzdCBjb2xvciBhcyBlaXRoZXIgbGlnaHQgb3IgZGFyayxcbiAgLy8gdGhlbiBleHBsaWNpdGx5IGxpc3RzIHdoaWNoIGh1ZXMgYXJlIHRoZSBvcHBvc2l0ZSBjb250cmFzdCAoZWcuIEExMDAgaGFzIGRhcmssIEEyMDAgaGFzIGxpZ2h0KVxuICBmdW5jdGlvbiBzYW5pdGl6ZVBhbGV0dGUocGFsZXR0ZSkge1xuICAgIHZhciBkZWZhdWx0Q29udHJhc3QgPSBwYWxldHRlLmNvbnRyYXN0RGVmYXVsdENvbG9yO1xuICAgIHZhciBsaWdodENvbG9ycyA9IHBhbGV0dGUuY29udHJhc3RMaWdodENvbG9ycyB8fCBbXTtcbiAgICB2YXIgc3Ryb25nTGlnaHRDb2xvcnMgPSBwYWxldHRlLmNvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMgfHwgW107XG4gICAgdmFyIGRhcmtDb2xvcnMgPSBwYWxldHRlLmNvbnRyYXN0RGFya0NvbG9ycyB8fCBbXTtcblxuICAgIC8vIFRoZXNlIGNvbG9ycyBhcmUgcHJvdmlkZWQgYXMgc3BhY2Utc2VwYXJhdGVkIGxpc3RzXG4gICAgaWYgKHR5cGVvZiBsaWdodENvbG9ycyA9PT0gJ3N0cmluZycpIGxpZ2h0Q29sb3JzID0gbGlnaHRDb2xvcnMuc3BsaXQoJyAnKTtcbiAgICBpZiAodHlwZW9mIHN0cm9uZ0xpZ2h0Q29sb3JzID09PSAnc3RyaW5nJykgc3Ryb25nTGlnaHRDb2xvcnMgPSBzdHJvbmdMaWdodENvbG9ycy5zcGxpdCgnICcpO1xuICAgIGlmICh0eXBlb2YgZGFya0NvbG9ycyA9PT0gJ3N0cmluZycpIGRhcmtDb2xvcnMgPSBkYXJrQ29sb3JzLnNwbGl0KCcgJyk7XG5cbiAgICAvLyBDbGVhbnVwIGFmdGVyIG91cnNlbHZlc1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0RGVmYXVsdENvbG9yO1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0TGlnaHRDb2xvcnM7XG4gICAgZGVsZXRlIHBhbGV0dGUuY29udHJhc3RTdHJvbmdMaWdodENvbG9ycztcbiAgICBkZWxldGUgcGFsZXR0ZS5jb250cmFzdERhcmtDb2xvcnM7XG5cbiAgICAvLyBDaGFuZ2UgeyAnQTEwMCc6ICcjZmZmZWVlJyB9IHRvIHsgJ0ExMDAnOiB7IHZhbHVlOiAnI2ZmZmVlZScsIGNvbnRyYXN0OkRBUktfQ09OVFJBU1RfQ09MT1IgfVxuICAgIGFuZ3VsYXIuZm9yRWFjaChwYWxldHRlLCBmdW5jdGlvbihodWVWYWx1ZSwgaHVlTmFtZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QoaHVlVmFsdWUpKSByZXR1cm47IC8vIEFscmVhZHkgY29udmVydGVkXG4gICAgICAvLyBNYXAgZXZlcnl0aGluZyB0byByZ2IgY29sb3JzXG4gICAgICB2YXIgcmdiVmFsdWUgPSBjb2xvclRvUmdiYUFycmF5KGh1ZVZhbHVlKTtcbiAgICAgIGlmICghcmdiVmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29sb3IgJTEsIGluIHBhbGV0dGUgJTIncyBodWUgJTMsIGlzIGludmFsaWQuIEhleCBvciByZ2IoYSkgY29sb3IgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIGh1ZVZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgcGFsZXR0ZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgaHVlTmFtZSkpO1xuICAgICAgfVxuXG4gICAgICBwYWxldHRlW2h1ZU5hbWVdID0ge1xuICAgICAgICB2YWx1ZTogcmdiVmFsdWUsXG4gICAgICAgIGNvbnRyYXN0OiBnZXRDb250cmFzdENvbG9yKClcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBnZXRDb250cmFzdENvbG9yKCkge1xuICAgICAgICBpZiAoZGVmYXVsdENvbnRyYXN0ID09PSAnbGlnaHQnKSB7XG4gICAgICAgICAgaWYgKGRhcmtDb2xvcnMuaW5kZXhPZihodWVOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gREFSS19DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0cm9uZ0xpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSA/IFNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUiBcbiAgICAgICAgICAgICAgOiBMSUdIVF9DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGxpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cm9uZ0xpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSA/IFNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUiBcbiAgICAgICAgICAgICAgOiBMSUdIVF9DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIERBUktfQ09OVFJBU1RfQ09MT1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuZ2VuZXJhdGVUaGVtZXMuJGluamVjdCA9IFtcIiRpbmplY3RvclwiXTtcblxuZnVuY3Rpb24gY2hlY2tWYWxpZFBhbGV0dGUodGhlbWUsIGNvbG9yVHlwZSkge1xuICAvLyBJZiB0aGVtZSBhdHRlbXB0cyB0byB1c2UgYSBwYWxldHRlIHRoYXQgZG9lc250IGV4aXN0LCB0aHJvdyBlcnJvclxuICBpZiAoIVBBTEVUVEVTWyAodGhlbWUuY29sb3JzW2NvbG9yVHlwZV0gfHwge30pLm5hbWUgXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiWW91IHN1cHBsaWVkIGFuIGludmFsaWQgY29sb3IgcGFsZXR0ZSBmb3IgdGhlbWUgJTEncyAlMiBwYWxldHRlLiBBdmFpbGFibGUgcGFsZXR0ZXM6ICUzXCJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgdGhlbWUubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgY29sb3JUeXBlKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTMnLCBPYmplY3Qua2V5cyhQQUxFVFRFUykuam9pbignLCAnKSlcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2JhQXJyYXkoY2xyKSB7XG4gIGlmIChhbmd1bGFyLmlzQXJyYXkoY2xyKSAmJiBjbHIubGVuZ3RoID09IDMpIHJldHVybiBjbHI7XG4gIGlmICgvXnJnYi8udGVzdChjbHIpKSB7XG4gICAgcmV0dXJuIGNsci5yZXBsYWNlKC8oXlxccypyZ2JhP1xcKHxcXClcXHMqJCkvZywgJycpLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uKHZhbHVlLCBpKSB7XG4gICAgICByZXR1cm4gaSA9PSAzID8gcGFyc2VGbG9hdCh2YWx1ZSwgMTApIDogcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY2xyLmNoYXJBdCgwKSA9PSAnIycpIGNsciA9IGNsci5zdWJzdHJpbmcoMSk7XG4gIGlmICghL14oW2EtZkEtRjAtOV17M30pezEsMn0kL2cudGVzdChjbHIpKSByZXR1cm47XG5cbiAgdmFyIGRpZyA9IGNsci5sZW5ndGggLyAzO1xuICB2YXIgcmVkID0gY2xyLnN1YnN0cigwLCBkaWcpO1xuICB2YXIgZ3JuID0gY2xyLnN1YnN0cihkaWcsIGRpZyk7XG4gIHZhciBibHUgPSBjbHIuc3Vic3RyKGRpZyAqIDIpO1xuICBpZiAoZGlnID09PSAxKSB7XG4gICAgcmVkICs9IHJlZDtcbiAgICBncm4gKz0gZ3JuO1xuICAgIGJsdSArPSBibHU7XG4gIH1cbiAgcmV0dXJuIFtwYXJzZUludChyZWQsIDE2KSwgcGFyc2VJbnQoZ3JuLCAxNiksIHBhcnNlSW50KGJsdSwgMTYpXTtcbn1cblxuZnVuY3Rpb24gcmdiYShyZ2JBcnJheSwgb3BhY2l0eSkge1xuICBpZiAocmdiQXJyYXkubGVuZ3RoID09IDQpIHtcbiAgICByZ2JBcnJheSA9IGFuZ3VsYXIuY29weShyZ2JBcnJheSk7XG4gICAgb3BhY2l0eSA/IHJnYkFycmF5LnBvcCgpIDogb3BhY2l0eSA9IHJnYkFycmF5LnBvcCgpO1xuICB9XG4gIHJldHVybiBvcGFjaXR5ICYmICh0eXBlb2Ygb3BhY2l0eSA9PSAnbnVtYmVyJyB8fCAodHlwZW9mIG9wYWNpdHkgPT0gJ3N0cmluZycgJiYgb3BhY2l0eS5sZW5ndGgpKSA/XG4gICAgJ3JnYmEoJyArIHJnYkFycmF5LmpvaW4oJywnKSArICcsJyArIG9wYWNpdHkgKyAnKScgOlxuICAgICdyZ2IoJyArIHJnYkFycmF5LmpvaW4oJywnKSArICcpJztcbn1cblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGVcbiAgICovXG4gIC8qXG4gICAqIEBzZWUganMgZm9sZGVyIGZvciBhdXRvY29tcGxldGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScsIFsgJ21hdGVyaWFsLmNvcmUnIF0pO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLypcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3BcbiAqIEBkZXNjcmlwdGlvbiBCYWNrZHJvcFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRCYWNrZHJvcFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYmFja2Ryb3A+YCBpcyBhIGJhY2tkcm9wIGVsZW1lbnQgdXNlZCBieSBvdGhlciBjb3BvbmVudHMsIHN1Y2ggYXMgZGlhbG9nIGFuZCBib3R0b20gc2hlZXQuXG4gKiBBcHBseSBjbGFzcyBgb3BhcXVlYCB0byBtYWtlIHRoZSBiYWNrZHJvcCB1c2UgdGhlIHRoZW1lIGJhY2tkcm9wIGNvbG9yLlxuICpcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZEJhY2tkcm9wJywgQmFja2Ryb3BEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiBCYWNrZHJvcERpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiAkbWRUaGVtaW5nO1xufVxuQmFja2Ryb3BEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuYm90dG9tU2hlZXRcbiAqIEBkZXNjcmlwdGlvblxuICogQm90dG9tU2hlZXRcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYm90dG9tU2hlZXQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3AnXG5dKVxuICAuZGlyZWN0aXZlKCdtZEJvdHRvbVNoZWV0JywgTWRCb3R0b21TaGVldERpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRCb3R0b21TaGVldCcsIE1kQm90dG9tU2hlZXRQcm92aWRlcik7XG5cbmZ1bmN0aW9uIE1kQm90dG9tU2hlZXREaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJ1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRCb3R0b21TaGVldFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kQm90dG9tU2hlZXRgIG9wZW5zIGEgYm90dG9tIHNoZWV0IG92ZXIgdGhlIGFwcCBhbmQgcHJvdmlkZXMgYSBzaW1wbGUgcHJvbWlzZSBBUEkuXG4gKlxuICogIyMgUmVzdHJpY3Rpb25zXG4gKlxuICogLSBUaGUgYm90dG9tIHNoZWV0J3MgdGVtcGxhdGUgbXVzdCBoYXZlIGFuIG91dGVyIGA8bWQtYm90dG9tLXNoZWV0PmAgZWxlbWVudC5cbiAqIC0gQWRkIHRoZSBgbWQtZ3JpZGAgY2xhc3MgdG8gdGhlIGJvdHRvbSBzaGVldCBmb3IgYSBncmlkIGxheW91dC5cbiAqIC0gQWRkIHRoZSBgbWQtbGlzdGAgY2xhc3MgdG8gdGhlIGJvdHRvbSBzaGVldCBmb3IgYSBsaXN0IGxheW91dC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNeUNvbnRyb2xsZXJcIj5cbiAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIm9wZW5Cb3R0b21TaGVldCgpXCI+XG4gKiAgICAgT3BlbiBhIEJvdHRvbSBTaGVldCFcbiAqICAgPC9tZC1idXR0b24+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSk7XG4gKiBhcHAuY29udHJvbGxlcignTXlDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbWRCb3R0b21TaGVldCkge1xuICogICAkc2NvcGUub3BlbkJvdHRvbVNoZWV0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgJG1kQm90dG9tU2hlZXQuc2hvdyh7XG4gKiAgICAgICB0ZW1wbGF0ZTogJzxtZC1ib3R0b20tc2hlZXQ+SGVsbG8hPC9tZC1ib3R0b20tc2hlZXQ+J1xuICogICAgIH0pO1xuICogICB9O1xuICogfSk7XG4gKiA8L2hsanM+XG4gKi9cblxuIC8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjc2hvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2hvdyBhIGJvdHRvbSBzaGVldCB3aXRoIHRoZSBzcGVjaWZpZWQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdCwgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YDogVGhlIHVybCBvZiBhbiBodG1sIHRlbXBsYXRlIGZpbGUgdGhhdCB3aWxsXG4gKiAgIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIGJvdHRvbSBzaGVldC4gUmVzdHJpY3Rpb25zOiB0aGUgdGVtcGxhdGUgbXVzdFxuICogICBoYXZlIGFuIG91dGVyIGBtZC1ib3R0b20tc2hlZXRgIGVsZW1lbnQuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBTYW1lIGFzIHRlbXBsYXRlVXJsLCBleGNlcHQgdGhpcyBpcyBhbiBhY3R1YWxcbiAqICAgdGVtcGxhdGUgc3RyaW5nLlxuICogICAtIGBjb250cm9sbGVyYCAtIGB7c3RyaW5nPX1gOiBUaGUgY29udHJvbGxlciB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGJvdHRvbSBzaGVldC5cbiAqICAgLSBgbG9jYWxzYCAtIGB7c3RyaW5nPX1gOiBBbiBvYmplY3QgY29udGFpbmluZyBrZXkvdmFsdWUgcGFpcnMuIFRoZSBrZXlzIHdpbGxcbiAqICAgYmUgdXNlZCBhcyBuYW1lcyBvZiB2YWx1ZXMgdG8gaW5qZWN0IGludG8gdGhlIGNvbnRyb2xsZXIuIEZvciBleGFtcGxlLFxuICogICBgbG9jYWxzOiB7dGhyZWU6IDN9YCB3b3VsZCBpbmplY3QgYHRocmVlYCBpbnRvIHRoZSBjb250cm9sbGVyIHdpdGggdGhlIHZhbHVlXG4gKiAgIG9mIDMuXG4gKiAgIC0gYHRhcmdldEV2ZW50YCAtIGB7RE9NQ2xpY2tFdmVudD19YDogQSBjbGljaydzIGV2ZW50IG9iamVjdC4gV2hlbiBwYXNzZWQgaW4gYXMgYW4gb3B0aW9uLFxuICogICB0aGUgbG9jYXRpb24gb2YgdGhlIGNsaWNrIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBvcGVuaW5nIGFuaW1hdGlvblxuICogICBvZiB0aGUgdGhlIGRpYWxvZy5cbiAqICAgLSBgcmVzb2x2ZWAgLSBge29iamVjdD19YDogU2ltaWxhciB0byBsb2NhbHMsIGV4Y2VwdCBpdCB0YWtlcyBwcm9taXNlcyBhcyB2YWx1ZXNcbiAqICAgYW5kIHRoZSBib3R0b20gc2hlZXQgd2lsbCBub3Qgb3BlbiB1bnRpbCB0aGUgcHJvbWlzZXMgcmVzb2x2ZS5cbiAqICAgLSBgY29udHJvbGxlckFzYCAtIGB7c3RyaW5nPX1gOiBBbiBhbGlhcyB0byBhc3NpZ24gdGhlIGNvbnRyb2xsZXIgdG8gb24gdGhlIHNjb3BlLlxuICogICAtIGBwYXJlbnRgIC0gYHtlbGVtZW50PX1gOiBUaGUgZWxlbWVudCB0byBhcHBlbmQgdGhlIGJvdHRvbSBzaGVldCB0by4gRGVmYXVsdHMgdG8gYXBwZW5kaW5nXG4gKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiAgIC0gYGRpc2FibGVQYXJlbnRTY3JvbGxgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRvIGRpc2FibGUgc2Nyb2xsaW5nIHdoaWxlIHRoZSBib3R0b20gc2hlZXQgaXMgb3Blbi5cbiAqICAgICBEZWZhdWx0IHRydWUuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWRCb3R0b21TaGVldC5oaWRlKClgIG9yXG4gKiByZWplY3RlZCB3aXRoIGAkbWRCb3R0b21TaGVldC5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRCb3R0b21TaGVldCNoaWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIHRoZSBleGlzdGluZyBib3R0b20gc2hlZXQgYW5kIHJlc29sdmUgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbVxuICogYCRtZEJvdHRvbVNoZWV0LnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZEJvdHRvbVNoZWV0I2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSB0aGUgZXhpc3RpbmcgYm90dG9tIHNoZWV0IGFuZCByZWplY3QgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbVxuICogYCRtZEJvdHRvbVNoZWV0LnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZWplY3RlZCBwcm9taXNlLlxuICpcbiAqL1xuXG5mdW5jdGlvbiBNZEJvdHRvbVNoZWV0UHJvdmlkZXIoJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKSB7XG4gIC8vIGhvdyBmYXN0IHdlIG5lZWQgdG8gZmxpY2sgZG93biB0byBjbG9zZSB0aGUgc2hlZXQsIHBpeGVscy9tc1xuICB2YXIgQ0xPU0lOR19WRUxPQ0lUWSA9IDAuNTtcbiAgdmFyIFBBRERJTkcgPSA4MDsgLy8gc2FtZSBhcyBjc3NcblxuICBib3R0b21TaGVldERlZmF1bHRzLiRpbmplY3QgPSBbXCIkYW5pbWF0ZVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHRpbWVvdXRcIiwgXCIkJHJBRlwiLCBcIiRjb21waWxlXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEJvdHRvbVNoZWV0XCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJHJvb3RTY29wZVwiLCBcIiRtZEdlc3R1cmVcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZEJvdHRvbVNoZWV0JylcbiAgICAuc2V0RGVmYXVsdHMoe1xuICAgICAgbWV0aG9kczogWydkaXNhYmxlUGFyZW50U2Nyb2xsJywgJ2VzY2FwZVRvQ2xvc2UnLCAndGFyZ2V0RXZlbnQnXSxcbiAgICAgIG9wdGlvbnM6IGJvdHRvbVNoZWV0RGVmYXVsdHNcbiAgICB9KTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gYm90dG9tU2hlZXREZWZhdWx0cygkYW5pbWF0ZSwgJG1kQ29uc3RhbnQsICR0aW1lb3V0LCAkJHJBRiwgJGNvbXBpbGUsICRtZFRoZW1pbmcsICRtZEJvdHRvbVNoZWV0LCAkcm9vdEVsZW1lbnQsICRyb290U2NvcGUsICRtZEdlc3R1cmUpIHtcbiAgICB2YXIgYmFja2Ryb3A7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGhlbWFibGU6IHRydWUsXG4gICAgICB0YXJnZXRFdmVudDogbnVsbCxcbiAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgb25SZW1vdmU6IG9uUmVtb3ZlLFxuICAgICAgZXNjYXBlVG9DbG9zZTogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25TaG93KHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAvLyBBZGQgYSBiYWNrZHJvcCB0aGF0IHdpbGwgY2xvc2Ugb24gY2xpY2tcbiAgICAgIGJhY2tkcm9wID0gJGNvbXBpbGUoJzxtZC1iYWNrZHJvcCBjbGFzcz1cIm1kLW9wYXF1ZSBtZC1ib3R0b20tc2hlZXQtYmFja2Ryb3BcIj4nKShzY29wZSk7XG4gICAgICBiYWNrZHJvcC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJHRpbWVvdXQoJG1kQm90dG9tU2hlZXQuY2FuY2VsKTtcbiAgICAgIH0pO1xuXG4gICAgICAkbWRUaGVtaW5nLmluaGVyaXQoYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50KTtcblxuICAgICAgJGFuaW1hdGUuZW50ZXIoYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50LCBudWxsKTtcblxuICAgICAgdmFyIGJvdHRvbVNoZWV0ID0gbmV3IEJvdHRvbVNoZWV0KGVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgIG9wdGlvbnMuYm90dG9tU2hlZXQgPSBib3R0b21TaGVldDtcblxuICAgICAgLy8gR2l2ZSB1cCBmb2N1cyBvbiBjYWxsaW5nIGl0ZW1cbiAgICAgIG9wdGlvbnMudGFyZ2V0RXZlbnQgJiYgYW5ndWxhci5lbGVtZW50KG9wdGlvbnMudGFyZ2V0RXZlbnQudGFyZ2V0KS5ibHVyKCk7XG4gICAgICAkbWRUaGVtaW5nLmluaGVyaXQoYm90dG9tU2hlZXQuZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuXG4gICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgIG9wdGlvbnMubGFzdE92ZXJmbG93ID0gb3B0aW9ucy5wYXJlbnQuY3NzKCdvdmVyZmxvdycpO1xuICAgICAgICBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJGFuaW1hdGUuZW50ZXIoYm90dG9tU2hlZXQuZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBmb2N1c2FibGUgPSBhbmd1bGFyLmVsZW1lbnQoXG4gICAgICAgICAgICBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpIHx8XG4gICAgICAgICAgICBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2EnKSB8fFxuICAgICAgICAgICAgZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdbbmctY2xpY2tdJylcbiAgICAgICAgICApO1xuICAgICAgICAgIGZvY3VzYWJsZS5mb2N1cygpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuZXNjYXBlVG9DbG9zZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRSkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCRtZEJvdHRvbVNoZWV0LmNhbmNlbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnQub24oJ2tleXVwJywgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdmFyIGJvdHRvbVNoZWV0ID0gb3B0aW9ucy5ib3R0b21TaGVldDtcblxuXG4gICAgICAkYW5pbWF0ZS5sZWF2ZShiYWNrZHJvcCk7XG4gICAgICByZXR1cm4gJGFuaW1hdGUubGVhdmUoYm90dG9tU2hlZXQuZWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZVBhcmVudFNjcm9sbCkge1xuICAgICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCBvcHRpb25zLmxhc3RPdmVyZmxvdyk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMubGFzdE92ZXJmbG93O1xuICAgICAgICB9XG5cbiAgICAgICAgYm90dG9tU2hlZXQuY2xlYW51cCgpO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgZm9jdXNcbiAgICAgICAgb3B0aW9ucy50YXJnZXRFdmVudCAmJiBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy50YXJnZXRFdmVudC50YXJnZXQpLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCb3R0b21TaGVldCBjbGFzcyB0byBhcHBseSBib3R0b20tc2hlZXQgYmVoYXZpb3IgdG8gYW4gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdHRvbVNoZWV0KGVsZW1lbnQsIHBhcmVudCkge1xuICAgICAgdmFyIGRlcmVnaXN0ZXIgPSAkbWRHZXN0dXJlLnJlZ2lzdGVyKHBhcmVudCwgJ2RyYWcnLCB7IGhvcml6b250YWw6IGZhbHNlIH0pO1xuICAgICAgcGFyZW50Lm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBjbGVhbnVwOiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgIGRlcmVnaXN0ZXIoKTtcbiAgICAgICAgICBwYXJlbnQub2ZmKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgICAgICAub2ZmKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgICAgICAgIC5vZmYoJyRtZC5kcmFnZW5kJywgb25EcmFnRW5kKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXYpIHtcbiAgICAgICAgLy8gRGlzYWJsZSB0cmFuc2l0aW9ucyBvbiB0cmFuc2Zvcm0gc28gdGhhdCBpdCBmZWVscyBmYXN0XG4gICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9OX0RVUkFUSU9OLCAnMG1zJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZXYucG9pbnRlci5kaXN0YW5jZVk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPCA1KSB7XG4gICAgICAgICAgLy8gU2xvdyBkb3duIGRyYWcgd2hlbiB0cnlpbmcgdG8gZHJhZyB1cCwgYW5kIHN0b3AgYWZ0ZXIgUEFERElOR1xuICAgICAgICAgIHRyYW5zZm9ybSA9IE1hdGgubWF4KC1QQURESU5HLCB0cmFuc2Zvcm0gLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoMCwnICsgKFBBRERJTkcgKyB0cmFuc2Zvcm0pICsgJ3B4LDApJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgICBpZiAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAwICYmXG4gICAgICAgICAgICAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAyMCB8fCBNYXRoLmFicyhldi5wb2ludGVyLnZlbG9jaXR5WSkgPiBDTE9TSU5HX1ZFTE9DSVRZKSkge1xuICAgICAgICAgIHZhciBkaXN0YW5jZVJlbWFpbmluZyA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JykgLSBldi5wb2ludGVyLmRpc3RhbmNlWTtcbiAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5taW4oZGlzdGFuY2VSZW1haW5pbmcgLyBldi5wb2ludGVyLnZlbG9jaXR5WSAqIDAuNzUsIDUwMCk7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sIHRyYW5zaXRpb25EdXJhdGlvbiArICdtcycpO1xuICAgICAgICAgICR0aW1lb3V0KCRtZEJvdHRvbVNoZWV0LmNhbmNlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sICcnKTtcbiAgICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG59XG5NZEJvdHRvbVNoZWV0UHJvdmlkZXIuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlclwiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvblxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQnV0dG9uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvbicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZEJ1dHRvbicsIE1kQnV0dG9uRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEJ1dHRvblxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvblxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgPG1kLWJ1dHRvbj5gIGlzIGEgYnV0dG9uIGRpcmVjdGl2ZSB3aXRoIG9wdGlvbmFsIGluayByaXBwbGVzIChkZWZhdWx0IGVuYWJsZWQpLlxuICpcbiAqIElmIHlvdSBzdXBwbHkgYSBgaHJlZmAgb3IgYG5nLWhyZWZgIGF0dHJpYnV0ZSwgaXQgd2lsbCBiZWNvbWUgYW4gYDxhPmAgZWxlbWVudC4gT3RoZXJ3aXNlLCBpdCB3aWxsXG4gKiBiZWNvbWUgYSBgPGJ1dHRvbj5gIGVsZW1lbnQuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIEZBQiBidXR0b24gaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIElmIHByZXNlbnQsIGRpc2FibGUgcmlwcGxlIGluayBlZmZlY3RzLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctZGlzYWJsZWQgRW4vRGlzYWJsZSBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1yaXBwbGUtc2l6ZSBPdmVycmlkZXMgdGhlIGRlZmF1bHQgcmlwcGxlIHNpemUgbG9naWMuIE9wdGlvbnM6IGBmdWxsYCwgYHBhcnRpYWxgLCBgYXV0b2BcbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBBZGRzIGFsdGVybmF0aXZlIHRleHQgdG8gYnV0dG9uIGZvciBhY2Nlc3NpYmlsaXR5LCB1c2VmdWwgZm9yIGljb24gYnV0dG9ucy5cbiAqIElmIG5vIGRlZmF1bHQgdGV4dCBpcyBmb3VuZCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtYnV0dG9uPlxuICogICAgQnV0dG9uXG4gKiAgPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbiBocmVmPVwiaHR0cDovL2dvb2dsZS5jb21cIiBjbGFzcz1cIm1kLWJ1dHRvbi1jb2xvcmVkXCI+XG4gKiAgICBJJ20gYSBsaW5rXG4gKiAgPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbiBuZy1kaXNhYmxlZD1cInRydWVcIiBjbGFzcz1cIm1kLWNvbG9yZWRcIj5cbiAqICAgIEknbSBhIGRpc2FibGVkIGJ1dHRvblxuICogIDwvbWQtYnV0dG9uPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZEJ1dHRvbkRpcmVjdGl2ZSgkbWRJbmtSaXBwbGUsICRtZFRoZW1pbmcsICRtZEFyaWEpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlOiBnZXRUZW1wbGF0ZSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIGlzQW5jaG9yKGF0dHIpIHtcbiAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoYXR0ci5ocmVmKSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nSHJlZik7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldFRlbXBsYXRlKGVsZW1lbnQsIGF0dHIpIHtcbiAgICByZXR1cm4gaXNBbmNob3IoYXR0cikgP1xuICAgICAgICAgICAnPGEgY2xhc3M9XCJtZC1idXR0b25cIiBuZy10cmFuc2NsdWRlPjwvYT4nIDpcbiAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJtZC1idXR0b25cIiBuZy10cmFuc2NsdWRlPjwvYnV0dG9uPic7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICRtZElua1JpcHBsZS5hdHRhY2hCdXR0b25CZWhhdmlvcihzY29wZSwgZWxlbWVudCk7XG5cbiAgICB2YXIgZWxlbWVudEhhc1RleHQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBpZiAoIWVsZW1lbnRIYXNUZXh0KSB7XG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuICAgIH1cblxuICAgIC8vIEZvciBhbmNob3IgZWxlbWVudHMsIHdlIGhhdmUgdG8gc2V0IHRhYmluZGV4IG1hbnVhbGx5IHdoZW4gdGhlIFxuICAgIC8vIGVsZW1lbnQgaXMgZGlzYWJsZWRcbiAgICBpZiAoaXNBbmNob3IoYXR0cikgJiYgYW5ndWxhci5pc0RlZmluZWQoYXR0ci5uZ0Rpc2FibGVkKSApIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nRGlzYWJsZWQsIGZ1bmN0aW9uKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIGlzRGlzYWJsZWQgPyAtMSA6IDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn1cbk1kQnV0dG9uRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRJbmtSaXBwbGVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kQXJpYVwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDYXJkIGNvbXBvbmVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNhcmQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRDYXJkJywgbWRDYXJkRGlyZWN0aXZlKTtcblxuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDYXJkXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2FyZFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1jYXJkPmAgZGlyZWN0aXZlIGlzIGEgY29udGFpbmVyIGVsZW1lbnQgdXNlZCB3aXRoaW4gYDxtZC1jb250ZW50PmAgY29udGFpbmVycy5cbiAqXG4gKiBDYXJkcyBoYXZlIGNvbnN0YW50IHdpZHRoIGFuZCB2YXJpYWJsZSBoZWlnaHRzOyB3aGVyZSB0aGUgbWF4aW11bSBoZWlnaHQgaXMgbGltaXRlZCB0byB3aGF0IGNhblxuICogZml0IHdpdGhpbiBhIHNpbmdsZSB2aWV3IG9uIGEgcGxhdGZvcm0sIGJ1dCBpdCBjYW4gdGVtcG9yYXJpbHkgZXhwYW5kIGFzIG5lZWRlZFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1jYXJkPlxuICogIDxpbWcgc3JjPVwiaW1nL3dhc2hlZG91dC5wbmdcIiBjbGFzcz1cIm1kLWNhcmQtaW1hZ2VcIj5cbiAqICA8aDI+UGFyYWNvc208L2gyPlxuICogIDxwPlxuICogICAgVGhlIHRpdGxlcyBvZiBXYXNoZWQgT3V0J3MgYnJlYWt0aHJvdWdoIHNvbmcgYW5kIHRoZSBmaXJzdCBzaW5nbGUgZnJvbSBQYXJhY29zbSBzaGFyZSB0aGUgKiB0d28gbW9zdCBpbXBvcnRhbnQgd29yZHMgaW4gRXJuZXN0IEdyZWVuZSdzIG11c2ljYWwgbGFuZ3VhZ2U6IGZlZWwgaXQuIEl0J3MgYSBzaW1wbGUgcmVxdWVzdCwgYXMgd2VsbC4uLlxuICogIDwvcD5cbiAqIDwvbWQtY2FyZD5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1kQ2FyZERpcmVjdGl2ZSgkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cikge1xuICAgICAgJG1kVGhlbWluZygkZWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubWRDYXJkRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XG4gKiBAZGVzY3JpcHRpb24gQ2hlY2tib3ggbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jaGVja2JveCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZENoZWNrYm94JywgTWRDaGVja2JveERpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDaGVja2JveFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGNoZWNrYm94IGRpcmVjdGl2ZSBpcyB1c2VkIGxpa2UgdGhlIG5vcm1hbCBbYW5ndWxhciBjaGVja2JveF0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nL2lucHV0L2lucHV0JTVCY2hlY2tib3glNUQpLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBjaGVja2JveCBpcyBpbiB0aGUgYWNjZW50IGNvbG9yIGJ5IGRlZmF1bHQuIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmctbW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctdHJ1ZS12YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctZmFsc2UtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nLWNoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgVXNlIG9mIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgdXNlIG9mIHJpcHBsZSBpbmsgZWZmZWN0c1xuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIEFkZHMgbGFiZWwgdG8gY2hlY2tib3ggZm9yIGFjY2Vzc2liaWxpdHkuXG4gKiBEZWZhdWx0cyB0byBjaGVja2JveCdzIHRleHQuIElmIG5vIGRlZmF1bHQgdGV4dCBpcyBmb3VuZCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1jaGVja2JveCBuZy1tb2RlbD1cImlzQ2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJGaW5pc2hlZD9cIj5cbiAqICAgRmluaXNoZWQgP1xuICogPC9tZC1jaGVja2JveD5cbiAqXG4gKiA8bWQtY2hlY2tib3ggbWQtbm8taW5rIG5nLW1vZGVsPVwiaGFzSW5rXCIgYXJpYS1sYWJlbD1cIk5vIEluayBFZmZlY3RzXCI+XG4gKiAgIE5vIEluayBFZmZlY3RzXG4gKiA8L21kLWNoZWNrYm94PlxuICpcbiAqIDxtZC1jaGVja2JveCBuZy1kaXNhYmxlZD1cInRydWVcIiBuZy1tb2RlbD1cImlzRGlzYWJsZWRcIiBhcmlhLWxhYmVsPVwiRGlzYWJsZWRcIj5cbiAqICAgRGlzYWJsZWRcbiAqIDwvbWQtY2hlY2tib3g+XG4gKlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gTWRDaGVja2JveERpcmVjdGl2ZShpbnB1dERpcmVjdGl2ZSwgJG1kSW5rUmlwcGxlLCAkbWRBcmlhLCAkbWRDb25zdGFudCwgJG1kVGhlbWluZywgJG1kVXRpbCkge1xuICBpbnB1dERpcmVjdGl2ZSA9IGlucHV0RGlyZWN0aXZlWzBdO1xuICB2YXIgQ0hFQ0tFRF9DU1MgPSAnbWQtY2hlY2tlZCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICB0ZW1wbGF0ZTogXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWNvbnRhaW5lclwiIG1kLWluay1yaXBwbGUgbWQtaW5rLXJpcHBsZS1jaGVja2JveD4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1pY29uXCI+PC9kaXY+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBuZy10cmFuc2NsdWRlIGNsYXNzPVwibWQtbGFiZWxcIj48L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIFByaXZhdGUgTWV0aG9kc1xuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgZnVuY3Rpb24gY29tcGlsZSAodEVsZW1lbnQsIHRBdHRycykge1xuXG4gICAgdEF0dHJzLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRBdHRycy50YWJJbmRleCA9IDA7XG4gICAgdEVsZW1lbnQuYXR0cigncm9sZScsIHRBdHRycy50eXBlKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbEN0cmwpIHtcbiAgICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmwgfHwgJG1kVXRpbC5mYWtlTmdNb2RlbCgpO1xuICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgIGlmIChhdHRyLm5nQ2hlY2tlZCkge1xuICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICBzY29wZS4kZXZhbC5iaW5kKHNjb3BlLCBhdHRyLm5nQ2hlY2tlZCksXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlLmJpbmQobmdNb2RlbEN0cmwpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgICRtZEFyaWEuZXhwZWN0V2l0aFRleHQoZWxlbWVudCwgJ2FyaWEtbGFiZWwnKTtcblxuICAgICAgLy8gUmV1c2UgdGhlIG9yaWdpbmFsIGlucHV0W3R5cGU9Y2hlY2tib3hdIGRpcmVjdGl2ZSBmcm9tIEFuZ3VsYXIgY29yZS5cbiAgICAgIC8vIFRoaXMgaXMgYSBiaXQgaGFja3kgYXMgd2UgbmVlZCBvdXIgb3duIGV2ZW50IGxpc3RlbmVyIGFuZCBvd24gcmVuZGVyXG4gICAgICAvLyBmdW5jdGlvbi5cbiAgICAgIGlucHV0RGlyZWN0aXZlLmxpbmsucHJlKHNjb3BlLCB7XG4gICAgICAgIG9uOiBhbmd1bGFyLm5vb3AsXG4gICAgICAgIDA6IHt9XG4gICAgICB9LCBhdHRyLCBbbmdNb2RlbEN0cmxdKTtcblxuICAgICAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcilcbiAgICAgICAgLm9uKCdrZXlwcmVzcycsIGtleXByZXNzSGFuZGxlcik7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gcmVuZGVyO1xuXG4gICAgICBmdW5jdGlvbiBrZXlwcmVzc0hhbmRsZXIoZXYpIHtcbiAgICAgICAgaWYoZXYud2hpY2ggPT09ICRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFKSB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGV2KSB7XG4gICAgICAgIGlmIChlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBjaGVja2VkID0gIWNoZWNrZWQ7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShjaGVja2VkLCBldiAmJiBldi50eXBlKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGNoZWNrZWQgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICAgICBpZihjaGVja2VkKSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhDSEVDS0VEX0NTUyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhDSEVDS0VEX0NTUyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5NZENoZWNrYm94RGlyZWN0aXZlLiRpbmplY3QgPSBbXCJpbnB1dERpcmVjdGl2ZVwiLCBcIiRtZElua1JpcHBsZVwiLCBcIiRtZEFyaWFcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuY29udGVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2Nyb2xsYWJsZSBjb250ZW50XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRDb250ZW50JywgbWRDb250ZW50RGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENvbnRlbnRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWNvbnRlbnQ+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgZWxlbWVudCB1c2VmdWwgZm9yIHNjcm9sbGFibGUgY29udGVudFxuICpcbiAqICMjIyBSZXN0cmljdGlvbnNcbiAqXG4gKiAtIEFkZCB0aGUgYG1kLXBhZGRpbmdgIGNsYXNzIHRvIG1ha2UgdGhlIGNvbnRlbnQgcGFkZGVkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtY29udGVudCBjbGFzcz1cIm1kLXBhZGRpbmdcIj5cbiAqICAgICAgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIG5lIHF1b2Qgbm92dW0gbWVpLlxuICogIDwvbWQtY29udGVudD5cbiAqIDwvaGxqcz5cbiAqXG4gKi9cblxuZnVuY3Rpb24gbWRDb250ZW50RGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRlbGVtZW50JywgQ29udGVudENvbnRyb2xsZXJdLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF07XG5cbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgICBzY29wZS4kYnJvYWRjYXN0KCckbWRDb250ZW50TG9hZGVkJywgZWxlbWVudCk7XG5cbiAgICAgIGlvc1Njcm9sbEZpeChlbGVtZW50WzBdKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gQ29udGVudENvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCkge1xuICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgfVxufVxubWRDb250ZW50RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG5mdW5jdGlvbiBpb3NTY3JvbGxGaXgobm9kZSkge1xuICAvLyBJT1MgRklYOlxuICAvLyBJZiB3ZSBzY3JvbGwgd2hlcmUgdGhlcmUgaXMgbm8gbW9yZSByb29tIGZvciB0aGUgd2VidmlldyB0byBzY3JvbGwsXG4gIC8vIGJ5IGRlZmF1bHQgdGhlIHdlYnZpZXcgaXRzZWxmIHdpbGwgc2Nyb2xsIHVwIGFuZCBkb3duLCB0aGlzIGxvb2tzIHJlYWxseVxuICAvLyBiYWQuICBTbyBpZiB3ZSBhcmUgc2Nyb2xsaW5nIHRvIHRoZSB2ZXJ5IHRvcCBvciBib3R0b20sIGFkZC9zdWJ0cmFjdCBvbmVcbiAgYW5ndWxhci5lbGVtZW50KG5vZGUpLm9uKCckbWQucHJlc3Nkb3duJywgZnVuY3Rpb24oZXYpIHtcbiAgICAvLyBPbmx5IHRvdWNoIGV2ZW50c1xuICAgIGlmIChldi5wb2ludGVyLnR5cGUgIT09ICd0JykgcmV0dXJuO1xuICAgIC8vIERvbid0IGxldCBhIGNoaWxkIGNvbnRlbnQncyB0b3VjaHN0YXJ0IHJ1aW4gaXQgZm9yIHVzLlxuICAgIGlmIChldi4kbWF0ZXJpYWxTY3JvbGxGaXhlZCkgcmV0dXJuO1xuICAgIGV2LiRtYXRlcmlhbFNjcm9sbEZpeGVkID0gdHJ1ZTtcblxuICAgIGlmIChub2RlLnNjcm9sbFRvcCA9PT0gMCkge1xuICAgICAgbm9kZS5zY3JvbGxUb3AgPSAxO1xuICAgIH0gZWxzZSBpZiAobm9kZS5zY3JvbGxIZWlnaHQgPT09IG5vZGUuc2Nyb2xsVG9wICsgbm9kZS5vZmZzZXRIZWlnaHQpIHtcbiAgICAgIG5vZGUuc2Nyb2xsVG9wIC09IDE7XG4gICAgfVxuICB9KTtcbn1cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5kaWFsb2dcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWREaWFsb2cnLCBNZERpYWxvZ0RpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWREaWFsb2cnLCBNZERpYWxvZ1Byb3ZpZGVyKTtcblxuZnVuY3Rpb24gTWREaWFsb2dEaXJlY3RpdmUoJCRyQUYsICRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdtZC1jb250ZW50Jyk7XG4gICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQuc2Nyb2xsSGVpZ2h0ID4gY29udGVudC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jb250ZW50LW92ZXJmbG93Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbk1kRGlhbG9nRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRtZFRoZW1pbmdcIl07XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZERpYWxvZ1xuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpYWxvZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZERpYWxvZ2Agb3BlbnMgYSBkaWFsb2cgb3ZlciB0aGUgYXBwIHRvIGluZm9ybSB1c2VycyBhYm91dCBjcml0aWNhbCBpbmZvcm1hdGlvbiBvciByZXF1aXJlXG4gKiAgdGhlbSB0byBtYWtlIGRlY2lzaW9ucy4gVGhlcmUgYXJlIHR3byBhcHByb2FjaGVzIGZvciBzZXR1cDogYSBzaW1wbGUgcHJvbWlzZSBBUElcbiAqICBhbmQgcmVndWxhciBvYmplY3Qgc3ludGF4LlxuICpcbiAqICMjIFJlc3RyaWN0aW9uc1xuICpcbiAqIC0gVGhlIGRpYWxvZyBpcyBhbHdheXMgZ2l2ZW4gYW4gaXNvbGF0ZSBzY29wZS5cbiAqIC0gVGhlIGRpYWxvZydzIHRlbXBsYXRlIG11c3QgaGF2ZSBhbiBvdXRlciBgPG1kLWRpYWxvZz5gIGVsZW1lbnQuXG4gKiAgIEluc2lkZSwgdXNlIGFuIGA8bWQtY29udGVudD5gIGVsZW1lbnQgZm9yIHRoZSBkaWFsb2cncyBjb250ZW50LCBhbmQgdXNlXG4gKiAgIGFuIGVsZW1lbnQgd2l0aCBjbGFzcyBgbWQtYWN0aW9uc2AgZm9yIHRoZSBkaWFsb2cncyBhY3Rpb25zLlxuICpcbiAqIEB1c2FnZVxuICogIyMjIEhUTUxcbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiAgbmctYXBwPVwiZGVtb0FwcFwiIG5nLWNvbnRyb2xsZXI9XCJFbXBsb3llZUNvbnRyb2xsZXJcIj5cbiAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dBbGVydCgpXCIgY2xhc3M9XCJtZC1yYWlzZWQgbWQtd2FyblwiPlxuICogICAgIEVtcGxveWVlIEFsZXJ0IVxuICogICA8L21kLWJ1dHRvbj5cbiAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dEaWFsb2coJGV2ZW50KVwiIGNsYXNzPVwibWQtcmFpc2VkXCI+XG4gKiAgICAgQ3VzdG9tIERpYWxvZ1xuICogICA8L21kLWJ1dHRvbj5cbiAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlQWxlcnQoKVwiIG5nLWRpc2FibGVkPVwiIWhhc0FsZXJ0KClcIiBjbGFzcz1cIm1kLXJhaXNlZFwiPlxuICogICAgIENsb3NlIEFsZXJ0XG4gKiAgIDwvbWQtYnV0dG9uPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0dyZWV0aW5nKCRldmVudClcIiBjbGFzcz1cIm1kLXJhaXNlZCBtZC1wcmltYXJ5XCIgPlxuICogICAgIEdyZWV0IEVtcGxveWVlXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKlxuICogIyMjIEphdmFTY3JpcHQ6IG9iamVjdCBzeW50YXhcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCl7XG4gKiAgIFwidXNlIHN0cmljdFwiO1xuICpcbiAqICAgYW5ndWxhclxuICogICAgLm1vZHVsZSgnZGVtb0FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICogICAgLmNvbnRyb2xsZXIoJ0FwcEN0cmwnLCBBcHBDb250cm9sbGVyKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2cpIHtcbiAqICAgICB2YXIgYWxlcnQ7XG4gKiAgICAgJHNjb3BlLnNob3dBbGVydCA9IHNob3dBbGVydDtcbiAqICAgICAkc2NvcGUuc2hvd0RpYWxvZyA9IHNob3dEaWFsb2c7XG4gKiAgICAgJHNjb3BlLml0ZW1zID0gWzEsIDIsIDNdO1xuICpcbiAqICAgICAvLyBJbnRlcm5hbCBtZXRob2RcbiAqICAgICBmdW5jdGlvbiBzaG93QWxlcnQoKSB7XG4gKiAgICAgICBhbGVydCA9ICRtZERpYWxvZy5hbGVydCh7XG4gKiAgICAgICAgIHRpdGxlOiAnQXR0ZW50aW9uJyxcbiAqICAgICAgICAgY29udGVudDogJ1RoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgZWFzeSBkaWFsb2dzIGNhbiBiZSEnLFxuICogICAgICAgICBvazogJ0Nsb3NlJ1xuICogICAgICAgfSk7XG4gKlxuICogICAgICAgJG1kRGlhbG9nXG4gKiAgICAgICAgIC5zaG93KCBhbGVydCApXG4gKiAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIGFsZXJ0ID0gdW5kZWZpbmVkO1xuICogICAgICAgICB9KTtcbiAqICAgICB9XG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dEaWFsb2coJGV2ZW50KSB7XG4gKiAgICAgICAgdmFyIHBhcmVudEVsID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICogICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAqICAgICAgICAgIHBhcmVudDogcGFyZW50RWwsXG4gKiAgICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50LFxuICogICAgICAgICAgdGVtcGxhdGU6XG4gKiAgICAgICAgICAgICc8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XCJMaXN0IGRpYWxvZ1wiPicgK1xuICogICAgICAgICAgICAnICA8bWQtY29udGVudD4nK1xuICogICAgICAgICAgICAnICAgIDxtZC1saXN0PicrXG4gKiAgICAgICAgICAgICcgICAgICA8bWQtaXRlbSBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zXCI+JytcbiAqICAgICAgICAgICAgJyAgICAgICA8cD5OdW1iZXIge3tpdGVtfX08L3A+JyArXG4gKiAgICAgICAgICAgICcgICAgICA8L21kLWl0ZW0+JytcbiAqICAgICAgICAgICAgJyAgICA8L21kLWxpc3Q+JytcbiAqICAgICAgICAgICAgJyAgPC9tZC1jb250ZW50PicgK1xuICogICAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwibWQtYWN0aW9uc1wiPicgK1xuICogICAgICAgICAgICAnICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJjbG9zZURpYWxvZygpXCI+JyArXG4gKiAgICAgICAgICAgICcgICAgICBDbG9zZSBEaWFsb2cnICtcbiAqICAgICAgICAgICAgJyAgICA8L21kLWJ1dHRvbj4nICtcbiAqICAgICAgICAgICAgJyAgPC9kaXY+JyArXG4gKiAgICAgICAgICAgICc8L21kLWRpYWxvZz4nLFxuICogICAgICAgICAgbG9jYWxzOiB7XG4gKiAgICAgICAgICAgIGl0ZW1zOiAkc2NvcGUuaXRlbXNcbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICBjb250cm9sbGVyOiBEaWFsb2dDb250cm9sbGVyXG4gKiAgICAgICB9KTtcbiAqICAgICAgIGZ1bmN0aW9uIERpYWxvZ0NvbnRyb2xsZXIoc2NvcGUsICRtZERpYWxvZywgaXRlbXMpIHtcbiAqICAgICAgICAgJHNjb3BlLml0ZW1zID0gaXRlbXM7XG4gKiAgICAgICAgICRzY29wZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKlxuICogfSkoYW5ndWxhcik7XG4gKiA8L2hsanM+XG4gKlxuICogIyMjIEphdmFTY3JpcHQ6IHByb21pc2UgQVBJIHN5bnRheCwgY3VzdG9tIGRpYWxvZyB0ZW1wbGF0ZVxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAoZnVuY3Rpb24oYW5ndWxhciwgdW5kZWZpbmVkKXtcbiAqICAgXCJ1c2Ugc3RyaWN0XCI7XG4gKlxuICogICBhbmd1bGFyXG4gKiAgICAgLm1vZHVsZSgnZGVtb0FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICogICAgIC5jb250cm9sbGVyKCdFbXBsb3llZUNvbnRyb2xsZXInLCBFbXBsb3llZUVkaXRvcilcbiAqICAgICAuY29udHJvbGxlcignR3JlZXRpbmdDb250cm9sbGVyJywgR3JlZXRpbmdDb250cm9sbGVyKTtcbiAqXG4gKiAgIC8vIEZpY3RpdGlvdXMgRW1wbG95ZWUgRWRpdG9yIHRvIHNob3cgaG93IHRvIHVzZSBzaW1wbGUgYW5kIGNvbXBsZXggZGlhbG9ncy5cbiAqXG4gKiAgIGZ1bmN0aW9uIEVtcGxveWVlRWRpdG9yKCRzY29wZSwgJG1kRGlhbG9nKSB7XG4gKiAgICAgdmFyIGFsZXJ0O1xuICpcbiAqICAgICAkc2NvcGUuc2hvd0FsZXJ0ID0gc2hvd0FsZXJ0O1xuICogICAgICRzY29wZS5jbG9zZUFsZXJ0ID0gY2xvc2VBbGVydDtcbiAqICAgICAkc2NvcGUuc2hvd0dyZWV0aW5nID0gc2hvd0N1c3RvbUdyZWV0aW5nO1xuICpcbiAqICAgICAkc2NvcGUuaGFzQWxlcnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuICEhYWxlcnQgfTtcbiAqICAgICAkc2NvcGUudXNlck5hbWUgPSAkc2NvcGUudXNlck5hbWUgfHwgJ0JvYmJ5JztcbiAqXG4gKiAgICAgLy8gRGlhbG9nICMxIC0gU2hvdyBzaW1wbGUgYWxlcnQgZGlhbG9nIGFuZCBjYWNoZVxuICogICAgIC8vIHJlZmVyZW5jZSB0byBkaWFsb2cgaW5zdGFuY2VcbiAqXG4gKiAgICAgZnVuY3Rpb24gc2hvd0FsZXJ0KCkge1xuICogICAgICAgYWxlcnQgPSAkbWREaWFsb2cuYWxlcnQoKVxuICogICAgICAgICAudGl0bGUoJ0F0dGVudGlvbiwgJyArICRzY29wZS51c2VyTmFtZSlcbiAqICAgICAgICAgLmNvbnRlbnQoJ1RoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgZWFzeSBkaWFsb2dzIGNhbiBiZSEnKVxuICogICAgICAgICAub2soJ0Nsb3NlJyk7XG4gKlxuICogICAgICAgJG1kRGlhbG9nXG4gKiAgICAgICAgICAgLnNob3coIGFsZXJ0IClcbiAqICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIGFsZXJ0ID0gdW5kZWZpbmVkO1xuICogICAgICAgICAgIH0pO1xuICogICAgIH1cbiAqXG4gKiAgICAgLy8gQ2xvc2UgdGhlIHNwZWNpZmllZCBkaWFsb2cgaW5zdGFuY2UgYW5kIHJlc29sdmUgd2l0aCAnZmluaXNoZWQnIGZsYWdcbiAqICAgICAvLyBOb3JtYWxseSB0aGlzIGlzIG5vdCBuZWVkZWQsIGp1c3QgdXNlICckbWREaWFsb2cuaGlkZSgpJyB0byBjbG9zZVxuICogICAgIC8vIHRoZSBtb3N0IHJlY2VudCBkaWFsb2cgcG9wdXAuXG4gKlxuICogICAgIGZ1bmN0aW9uIGNsb3NlQWxlcnQoKSB7XG4gKiAgICAgICAkbWREaWFsb2cuaGlkZSggYWxlcnQsIFwiZmluaXNoZWRcIiApO1xuICogICAgICAgYWxlcnQgPSB1bmRlZmluZWQ7XG4gKiAgICAgfVxuICpcbiAqICAgICAvLyBEaWFsb2cgIzIgLSBEZW1vbnN0cmF0ZSBtb3JlIGNvbXBsZXggZGlhbG9ncyBjb25zdHJ1Y3Rpb24gYW5kIHBvcHVwLlxuICpcbiAqICAgICBmdW5jdGlvbiBzaG93Q3VzdG9tR3JlZXRpbmcoJGV2ZW50KSB7XG4gKiAgICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAqICAgICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50LFxuICogICAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICAgJzxtZC1kaWFsb2c+JyArXG4gKlxuICogICAgICAgICAgICAgJyAgPG1kLWNvbnRlbnQ+SGVsbG8ge3sgZW1wbG95ZWUgfX0hPC9tZC1jb250ZW50PicgK1xuICpcbiAqICAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyArXG4gKiAgICAgICAgICAgICAnICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJjbG9zZURpYWxvZygpXCI+JyArXG4gKiAgICAgICAgICAgICAnICAgICAgQ2xvc2UgR3JlZXRpbmcnICtcbiAqXG4gKiAgICAgICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicgK1xuICogICAgICAgICAgICAgJyAgPC9kaXY+JyArXG4gKiAgICAgICAgICAgICAnPC9tZC1kaWFsb2c+JyxcbiAqICAgICAgICAgICBjb250cm9sbGVyOiAnR3JlZXRpbmdDb250cm9sbGVyJyxcbiAqICAgICAgICAgICBvbkNvbXBsZXRlOiBhZnRlclNob3dBbmltYXRpb24sXG4gKiAgICAgICAgICAgbG9jYWxzOiB7IGVtcGxveWVlOiAkc2NvcGUudXNlck5hbWUgfVxuICogICAgICAgICB9KTtcbiAqXG4gKiAgICAgICAgIC8vIFdoZW4gdGhlICdlbnRlcicgYW5pbWF0aW9uIGZpbmlzaGVzLi4uXG4gKlxuICogICAgICAgICBmdW5jdGlvbiBhZnRlclNob3dBbmltYXRpb24oc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAqICAgICAgICAgICAgLy8gcG9zdC1zaG93IGNvZGUgaGVyZTogRE9NIGVsZW1lbnQgZm9jdXMsIGV0Yy5cbiAqICAgICAgICAgfVxuICogICAgIH1cbiAqICAgfVxuICpcbiAqICAgLy8gR3JlZXRpbmcgY29udHJvbGxlciB1c2VkIHdpdGggdGhlIG1vcmUgY29tcGxleCAnc2hvd0N1c3RvbUdyZWV0aW5nKCknIGN1c3RvbSBkaWFsb2dcbiAqXG4gKiAgIGZ1bmN0aW9uIEdyZWV0aW5nQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgZW1wbG95ZWUpIHtcbiAqICAgICAvLyBBc3NpZ25lZCBmcm9tIGNvbnN0cnVjdGlvbiA8Y29kZT5sb2NhbHM8L2NvZGU+IG9wdGlvbnMuLi5cbiAqICAgICAkc2NvcGUuZW1wbG95ZWUgPSBlbXBsb3llZTtcbiAqXG4gKiAgICAgJHNjb3BlLmNsb3NlRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAvLyBFYXNpbHkgaGlkZXMgbW9zdCByZWNlbnQgZGlhbG9nIHNob3duLi4uXG4gKiAgICAgICAvLyBubyBzcGVjaWZpYyBpbnN0YW5jZSByZWZlcmVuY2UgaXMgbmVlZGVkLlxuICogICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAqICAgICB9O1xuICogICB9XG4gKlxuICogfSkoYW5ndWxhcik7XG4gKiA8L2hsanM+XG4gKi9cblxuIC8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2FsZXJ0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIGRpYWxvZyB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kRGlhbG9nUHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzOlxuICpcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RpdGxlKHN0cmluZykgLSBzZXRzIHRpdGxlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjY29udGVudChzdHJpbmcpIC0gc2V0cyBjb250ZW50IC8gbWVzc2FnZSB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I29rKHN0cmluZykgLSBzZXRzIG9rYXkgYnV0dG9uIHRleHQgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCN0aGVtZShzdHJpbmcpIC0gc2V0cyB0aGUgdGhlbWUgb2YgdGhlIGRpYWxvZ1xuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjY29uZmlybVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQnVpbGRzIGEgcHJlY29uZmlndXJlZCBkaWFsb2cgd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UuIFlvdSBjYW4gY2FsbCBzaG93IGFuZCB0aGUgcHJvbWlzZSByZXR1cm5lZFxuICogd2lsbCBiZSByZXNvbHZlZCBvbmx5IGlmIHRoZSB1c2VyIGNsaWNrcyB0aGUgY29uZmlybSBhY3Rpb24gb24gdGhlIGRpYWxvZy5cbiAqXG4gKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kRGlhbG9nUHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzOlxuICpcbiAqIEFkZGl0aW9uYWxseSwgaXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RpdGxlKHN0cmluZykgLSBzZXRzIHRpdGxlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjY29udGVudChzdHJpbmcpIC0gc2V0cyBjb250ZW50IC8gbWVzc2FnZSB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I29rKHN0cmluZykgLSBzZXRzIG9rYXkgYnV0dG9uIHRleHQgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCNjYW5jZWwoc3RyaW5nKSAtIHNldHMgY2FuY2VsIGJ1dHRvbiB0ZXh0IHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjdGhlbWUoc3RyaW5nKSAtIHNldHMgdGhlIHRoZW1lIG9mIHRoZSBkaWFsb2dcbiAqXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjc2hvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2hvdyBhIGRpYWxvZyB3aXRoIHRoZSBzcGVjaWZpZWQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc09yUHJlc2V0IEVpdGhlciBwcm92aWRlIGFuIGAkbWREaWFsb2dQcmVzZXRgIHJldHVybmVkIGZyb20gYGFsZXJ0KClgLCBhbmRcbiAqIGBjb25maXJtKClgLCBvciBhbiBvcHRpb25zIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWA6IFRoZSB1cmwgb2YgYSB0ZW1wbGF0ZSB0aGF0IHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGVudFxuICogICBvZiB0aGUgZGlhbG9nLlxuICogICAtIGB0ZW1wbGF0ZWAgLSBge3N0cmluZz19YDogU2FtZSBhcyB0ZW1wbGF0ZVVybCwgZXhjZXB0IHRoaXMgaXMgYW4gYWN0dWFsIHRlbXBsYXRlIHN0cmluZy5cbiAqICAgLSBgdGFyZ2V0RXZlbnRgIC0gYHtET01DbGlja0V2ZW50PX1gOiBBIGNsaWNrJ3MgZXZlbnQgb2JqZWN0LiBXaGVuIHBhc3NlZCBpbiBhcyBhbiBvcHRpb24sXG4gKiAgICAgdGhlIGxvY2F0aW9uIG9mIHRoZSBjbGljayB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgb3BlbmluZyBhbmltYXRpb25cbiAqICAgICBvZiB0aGUgdGhlIGRpYWxvZy5cbiAqICAgLSBgZGlzYWJsZVBhcmVudFNjcm9sbGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdG8gZGlzYWJsZSBzY3JvbGxpbmcgd2hpbGUgdGhlIGRpYWxvZyBpcyBvcGVuLlxuICogICAgIERlZmF1bHQgdHJ1ZS5cbiAqICAgLSBgaGFzQmFja2Ryb3BgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZXJlIHNob3VsZCBiZSBhbiBvcGFxdWUgYmFja2Ryb3AgYmVoaW5kIHRoZSBkaWFsb2cuXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICogICAtIGBjbGlja091dHNpZGVUb0Nsb3NlYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0aGUgdXNlciBjYW4gY2xpY2sgb3V0c2lkZSB0aGUgZGlhbG9nIHRvXG4gKiAgICAgY2xvc2UgaXQuIERlZmF1bHQgdHJ1ZS5cbiAqICAgLSBgZXNjYXBlVG9DbG9zZWAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdGhlIHVzZXIgY2FuIHByZXNzIGVzY2FwZSB0byBjbG9zZSB0aGUgZGlhbG9nLlxuICogICAgIERlZmF1bHQgdHJ1ZS5cbiAqICAgLSBgY29udHJvbGxlcmAgLSBge3N0cmluZz19YDogVGhlIGNvbnRyb2xsZXIgdG8gYXNzb2NpYXRlIHdpdGggdGhlIGRpYWxvZy4gVGhlIGNvbnRyb2xsZXJcbiAqICAgICB3aWxsIGJlIGluamVjdGVkIHdpdGggdGhlIGxvY2FsIGAkbWREaWFsb2dgLCB3aGljaCBwYXNzZXMgYWxvbmcgYSBzY29wZSBmb3IgdGhlIGRpYWxvZy5cbiAqICAgLSBgbG9jYWxzYCAtIGB7b2JqZWN0PX1gOiBBbiBvYmplY3QgY29udGFpbmluZyBrZXkvdmFsdWUgcGFpcnMuIFRoZSBrZXlzIHdpbGwgYmUgdXNlZCBhcyBuYW1lc1xuICogICAgIG9mIHZhbHVlcyB0byBpbmplY3QgaW50byB0aGUgY29udHJvbGxlci4gRm9yIGV4YW1wbGUsIGBsb2NhbHM6IHt0aHJlZTogM31gIHdvdWxkIGluamVjdFxuICogICAgIGB0aHJlZWAgaW50byB0aGUgY29udHJvbGxlciwgd2l0aCB0aGUgdmFsdWUgMy4gSWYgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydWUsIHRoZXkgd2lsbCBiZVxuICogICAgIGNvcGllZCB0byB0aGUgY29udHJvbGxlciBpbnN0ZWFkLlxuICogICAtIGBiaW5kVG9Db250cm9sbGVyYCAtIGBib29sYDogYmluZCB0aGUgbG9jYWxzIHRvIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlbSBpblxuICogICAtIGByZXNvbHZlYCAtIGB7b2JqZWN0PX1gOiBTaW1pbGFyIHRvIGxvY2FscywgZXhjZXB0IGl0IHRha2VzIHByb21pc2VzIGFzIHZhbHVlcywgYW5kIHRoZVxuICogICAgIGRpYWxvZyB3aWxsIG5vdCBvcGVuIHVudGlsIGFsbCBvZiB0aGUgcHJvbWlzZXMgcmVzb2x2ZS5cbiAqICAgLSBgY29udHJvbGxlckFzYCAtIGB7c3RyaW5nPX1gOiBBbiBhbGlhcyB0byBhc3NpZ24gdGhlIGNvbnRyb2xsZXIgdG8gb24gdGhlIHNjb3BlLlxuICogICAtIGBwYXJlbnRgIC0gYHtlbGVtZW50PX1gOiBUaGUgZWxlbWVudCB0byBhcHBlbmQgdGhlIGRpYWxvZyB0by4gRGVmYXVsdHMgdG8gYXBwZW5kaW5nXG4gKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiAgIC0gYG9uQ29tcGxldGVgIGB7ZnVuY3Rpb249fWA6IENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gYW5ub3VuY2Ugd2hlbiB0aGUgc2hvdygpIGFjdGlvbiBpc1xuICogICAgIGZpbmlzaGVkLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kRGlhbG9nLmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZERpYWxvZy5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlc29sdmUgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgJG1kRGlhbG9nLnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWREaWFsb2cuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKi9cblxuZnVuY3Rpb24gTWREaWFsb2dQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcblxuICB2YXIgYWxlcnREaWFsb2dNZXRob2RzID0gWyd0aXRsZScsICdjb250ZW50JywgJ2FyaWFMYWJlbCcsICdvayddO1xuXG4gIGFkdmFuY2VkRGlhbG9nT3B0aW9ucy4kaW5qZWN0ID0gW1wiJG1kRGlhbG9nXCIsIFwiJG1kVGhlbWluZ1wiXTtcbiAgZGlhbG9nRGVmYXVsdE9wdGlvbnMuJGluamVjdCA9IFtcIiR0aW1lb3V0XCIsIFwiJHJvb3RFbGVtZW50XCIsIFwiJGNvbXBpbGVcIiwgXCIkYW5pbWF0ZVwiLCBcIiRtZEFyaWFcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJCRyQUZcIiwgXCIkcVwiLCBcIiRtZERpYWxvZ1wiXTtcbiAgcmV0dXJuICQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcignJG1kRGlhbG9nJylcbiAgICAuc2V0RGVmYXVsdHMoe1xuICAgICAgbWV0aG9kczogWydkaXNhYmxlUGFyZW50U2Nyb2xsJywgJ2hhc0JhY2tkcm9wJywgJ2NsaWNrT3V0c2lkZVRvQ2xvc2UnLCAnZXNjYXBlVG9DbG9zZScsICd0YXJnZXRFdmVudCddLFxuICAgICAgb3B0aW9uczogZGlhbG9nRGVmYXVsdE9wdGlvbnNcbiAgICB9KVxuICAgIC5hZGRQcmVzZXQoJ2FsZXJ0Jywge1xuICAgICAgbWV0aG9kczogWyd0aXRsZScsICdjb250ZW50JywgJ2FyaWFMYWJlbCcsICdvaycsICd0aGVtZSddLFxuICAgICAgb3B0aW9uczogYWR2YW5jZWREaWFsb2dPcHRpb25zXG4gICAgfSlcbiAgICAuYWRkUHJlc2V0KCdjb25maXJtJywge1xuICAgICAgbWV0aG9kczogWyd0aXRsZScsICdjb250ZW50JywgJ2FyaWFMYWJlbCcsICdvaycsICdjYW5jZWwnLCAndGhlbWUnXSxcbiAgICAgIG9wdGlvbnM6IGFkdmFuY2VkRGlhbG9nT3B0aW9uc1xuICAgIH0pO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBhZHZhbmNlZERpYWxvZ09wdGlvbnMoJG1kRGlhbG9nLCAkbWRUaGVtaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlOiBbXG4gICAgICAgICc8bWQtZGlhbG9nIG1kLXRoZW1lPVwie3sgZGlhbG9nLnRoZW1lIH19XCIgYXJpYS1sYWJlbD1cInt7IGRpYWxvZy5hcmlhTGFiZWwgfX1cIj4nLFxuICAgICAgICAgICc8bWQtY29udGVudD4nLFxuICAgICAgICAgICAgJzxoMj57eyBkaWFsb2cudGl0bGUgfX08L2gyPicsXG4gICAgICAgICAgICAnPHA+e3sgZGlhbG9nLmNvbnRlbnQgfX08L3A+JyxcbiAgICAgICAgICAnPC9tZC1jb250ZW50PicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyxcbiAgICAgICAgICAgICc8bWQtYnV0dG9uIG5nLWlmPVwiZGlhbG9nLiR0eXBlID09IFxcJ2NvbmZpcm1cXCdcIiBuZy1jbGljaz1cImRpYWxvZy5hYm9ydCgpXCI+JyxcbiAgICAgICAgICAgICAgJ3t7IGRpYWxvZy5jYW5jZWwgfX0nLFxuICAgICAgICAgICAgJzwvbWQtYnV0dG9uPicsXG4gICAgICAgICAgICAnPG1kLWJ1dHRvbiBuZy1jbGljaz1cImRpYWxvZy5oaWRlKClcIiBjbGFzcz1cIm1kLXByaW1hcnlcIj4nLFxuICAgICAgICAgICAgICAne3sgZGlhbG9nLm9rIH19JyxcbiAgICAgICAgICAgICc8L21kLWJ1dHRvbj4nLFxuICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9tZC1kaWFsb2c+J1xuICAgICAgXS5qb2luKCcnKSxcbiAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uIG1kRGlhbG9nQ3RybCgpIHtcbiAgICAgICAgdGhpcy5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJG1kRGlhbG9nLmhpZGUodHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgY29udHJvbGxlckFzOiAnZGlhbG9nJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICB0aGVtZTogJG1kVGhlbWluZy5kZWZhdWx0VGhlbWUoKVxuICAgIH07XG4gIH1cblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlhbG9nRGVmYXVsdE9wdGlvbnMoJHRpbWVvdXQsICRyb290RWxlbWVudCwgJGNvbXBpbGUsICRhbmltYXRlLCAkbWRBcmlhLCAkZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkJHJBRiwgJHEsICRtZERpYWxvZykge1xuICAgIHJldHVybiB7XG4gICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgIGlzb2xhdGVTY29wZTogdHJ1ZSxcbiAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgb25SZW1vdmU6IG9uUmVtb3ZlLFxuICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgIGVzY2FwZVRvQ2xvc2U6IHRydWUsXG4gICAgICB0YXJnZXRFdmVudDogbnVsbCxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWUsXG4gICAgICB0cmFuc2Zvcm1UZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwibWQtZGlhbG9nLWNvbnRhaW5lclwiPicgKyB0ZW1wbGF0ZSArICc8L2Rpdj4nO1xuICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vIE9uIHNob3cgbWV0aG9kIGZvciBkaWFsb2dzXG4gICAgZnVuY3Rpb24gb25TaG93KHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAvLyBJbmNhc2UgdGhlIHVzZXIgcHJvdmlkZXMgYSByYXcgZG9tIGVsZW1lbnQsIGFsd2F5cyB3cmFwIGl0IGluIGpxTGl0ZVxuICAgICAgb3B0aW9ucy5wYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy5wYXJlbnQpO1xuXG4gICAgICBvcHRpb25zLnBvcEluVGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KChvcHRpb25zLnRhcmdldEV2ZW50IHx8IHt9KS50YXJnZXQpO1xuICAgICAgdmFyIGNsb3NlQnV0dG9uID0gZmluZENsb3NlQnV0dG9uKCk7XG5cbiAgICAgIGNvbmZpZ3VyZUFyaWEoZWxlbWVudC5maW5kKCdtZC1kaWFsb2cnKSk7XG5cbiAgICAgIGlmIChvcHRpb25zLmhhc0JhY2tkcm9wKSB7XG4gICAgICAgIHZhciBwYXJlbnRPZmZzZXQgPSBvcHRpb25zLnBhcmVudC5wcm9wKCdzY3JvbGxUb3AnKTtcbiAgICAgICAgb3B0aW9ucy5iYWNrZHJvcCA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLWJhY2tkcm9wIGNsYXNzPVwibWQtZGlhbG9nLWJhY2tkcm9wIG1kLW9wYXF1ZVwiPicpO1xuICAgICAgICAkbWRUaGVtaW5nLmluaGVyaXQob3B0aW9ucy5iYWNrZHJvcCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgICAgICAkYW5pbWF0ZS5lbnRlcihvcHRpb25zLmJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCk7XG4gICAgICAgIGVsZW1lbnQuY3NzKCd0b3AnLCBwYXJlbnRPZmZzZXQgKydweCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgIG9wdGlvbnMubGFzdE92ZXJmbG93ID0gb3B0aW9ucy5wYXJlbnQuY3NzKCdvdmVyZmxvdycpO1xuICAgICAgICBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGlhbG9nUG9wSW4oXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIG9wdGlvbnMucGFyZW50LFxuICAgICAgICBvcHRpb25zLnBvcEluVGFyZ2V0ICYmIG9wdGlvbnMucG9wSW5UYXJnZXQubGVuZ3RoICYmIG9wdGlvbnMucG9wSW5UYXJnZXRcbiAgICAgIClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVUb0Nsb3NlKSB7XG4gICAgICAgICAgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEUpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoJG1kRGlhbG9nLmNhbmNlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICAkcm9vdEVsZW1lbnQub24oJ2tleXVwJywgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2xpY2tPdXRzaWRlVG9DbG9zZSkge1xuICAgICAgICAgIG9wdGlvbnMuZGlhbG9nQ2xpY2tPdXRzaWRlQ2FsbGJhY2sgPSBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgLy8gT25seSBjbG9zZSBpZiB3ZSBjbGljayB0aGUgZmxleCBjb250YWluZXIgb3V0c2lkZSB0aGUgYmFja2Ryb3BcbiAgICAgICAgICAgIGlmIChldi50YXJnZXQgPT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoJG1kRGlhbG9nLmNhbmNlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIG9wdGlvbnMuZGlhbG9nQ2xpY2tPdXRzaWRlQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlQnV0dG9uLmZvY3VzKCk7XG4gICAgICB9KTtcblxuXG4gICAgICBmdW5jdGlvbiBmaW5kQ2xvc2VCdXR0b24oKSB7XG4gICAgICAgIC8vSWYgbm8gZWxlbWVudCB3aXRoIGNsYXNzIGRpYWxvZy1jbG9zZSwgdHJ5IHRvIGZpbmQgdGhlIGxhc3RcbiAgICAgICAgLy9idXR0b24gY2hpbGQgaW4gbWQtYWN0aW9ucyBhbmQgYXNzdW1lIGl0IGlzIGEgY2xvc2UgYnV0dG9uXG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbiA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmRpYWxvZy1jbG9zZScpO1xuICAgICAgICBpZiAoIWNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbnMgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1hY3Rpb25zIGJ1dHRvbicpO1xuICAgICAgICAgIGNsb3NlQnV0dG9uID0gYWN0aW9uQnV0dG9uc1sgYWN0aW9uQnV0dG9ucy5sZW5ndGggLSAxIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChjbG9zZUJ1dHRvbik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBPbiByZW1vdmUgZnVuY3Rpb24gZm9yIGFsbCBkaWFsb2dzXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgaWYgKG9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgICAgJGFuaW1hdGUubGVhdmUob3B0aW9ucy5iYWNrZHJvcCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCBvcHRpb25zLmxhc3RPdmVyZmxvdyk7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmxhc3RPdmVyZmxvdztcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmVzY2FwZVRvQ2xvc2UpIHtcbiAgICAgICAgJHJvb3RFbGVtZW50Lm9mZigna2V5dXAnLCBvcHRpb25zLnJvb3RFbGVtZW50S2V5dXBDYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jbGlja091dHNpZGVUb0Nsb3NlKSB7XG4gICAgICAgIGVsZW1lbnQub2ZmKCdjbGljaycsIG9wdGlvbnMuZGlhbG9nQ2xpY2tPdXRzaWRlQ2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpYWxvZ1BvcE91dChcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgJiYgb3B0aW9ucy5wb3BJblRhcmdldC5sZW5ndGggJiYgb3B0aW9ucy5wb3BJblRhcmdldFxuICAgICAgKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBvcHRpb25zLnNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgJiYgb3B0aW9ucy5wb3BJblRhcmdldC5mb2N1cygpO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmplY3QgQVJJQS1zcGVjaWZpYyBhdHRyaWJ1dGVzIGFwcHJvcHJpYXRlIGZvciBEaWFsb2dzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZmlndXJlQXJpYShlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAncm9sZSc6ICdkaWFsb2cnXG4gICAgICB9KTtcblxuICAgICAgdmFyIGRpYWxvZ0NvbnRlbnQgPSBlbGVtZW50LmZpbmQoJ21kLWNvbnRlbnQnKTtcbiAgICAgIGlmIChkaWFsb2dDb250ZW50Lmxlbmd0aCA9PT0gMCl7XG4gICAgICAgIGRpYWxvZ0NvbnRlbnQgPSBlbGVtZW50O1xuICAgICAgfVxuICAgICAgJG1kQXJpYS5leHBlY3RBc3luYyhlbGVtZW50LCAnYXJpYS1sYWJlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd29yZHMgPSBkaWFsb2dDb250ZW50LnRleHQoKS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBpZiAod29yZHMubGVuZ3RoID4gMykgd29yZHMgPSB3b3Jkcy5zbGljZSgwLDMpLmNvbmNhdCgnLi4uJyk7XG4gICAgICAgIHJldHVybiB3b3Jkcy5qb2luKCcgJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaWFsb2dQb3BJbihjb250YWluZXIsIHBhcmVudEVsZW1lbnQsIGNsaWNrRWxlbWVudCkge1xuICAgICAgdmFyIGRpYWxvZ0VsID0gY29udGFpbmVyLmZpbmQoJ21kLWRpYWxvZycpO1xuXG4gICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZChjb250YWluZXIpO1xuICAgICAgdHJhbnNmb3JtVG9DbGlja0VsZW1lbnQoZGlhbG9nRWwsIGNsaWNrRWxlbWVudCk7XG5cbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICBkaWFsb2dFbC5hZGRDbGFzcygndHJhbnNpdGlvbi1pbicpXG4gICAgICAgICAgLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuICRtZFV0aWwudHJhbnNpdGlvbkVuZFByb21pc2UoZGlhbG9nRWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpYWxvZ1BvcE91dChjb250YWluZXIsIHBhcmVudEVsZW1lbnQsIGNsaWNrRWxlbWVudCkge1xuICAgICAgdmFyIGRpYWxvZ0VsID0gY29udGFpbmVyLmZpbmQoJ21kLWRpYWxvZycpO1xuXG4gICAgICBkaWFsb2dFbC5hZGRDbGFzcygndHJhbnNpdGlvbi1vdXQnKS5yZW1vdmVDbGFzcygndHJhbnNpdGlvbi1pbicpO1xuICAgICAgdHJhbnNmb3JtVG9DbGlja0VsZW1lbnQoZGlhbG9nRWwsIGNsaWNrRWxlbWVudCk7XG5cbiAgICAgIHJldHVybiAkbWRVdGlsLnRyYW5zaXRpb25FbmRQcm9taXNlKGRpYWxvZ0VsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Ub0NsaWNrRWxlbWVudChkaWFsb2dFbCwgY2xpY2tFbGVtZW50KSB7XG4gICAgICBpZiAoY2xpY2tFbGVtZW50KSB7XG4gICAgICAgIHZhciBjbGlja1JlY3QgPSBjbGlja0VsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBkaWFsb2dSZWN0ID0gZGlhbG9nRWxbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIHNjYWxlWCA9IE1hdGgubWluKDAuNSwgY2xpY2tSZWN0LndpZHRoIC8gZGlhbG9nUmVjdC53aWR0aCk7XG4gICAgICAgIHZhciBzY2FsZVkgPSBNYXRoLm1pbigwLjUsIGNsaWNrUmVjdC5oZWlnaHQgLyBkaWFsb2dSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgZGlhbG9nRWwuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sICd0cmFuc2xhdGUzZCgnICtcbiAgICAgICAgICAoLWRpYWxvZ1JlY3QubGVmdCArIGNsaWNrUmVjdC5sZWZ0ICsgY2xpY2tSZWN0LndpZHRoLzIgLSBkaWFsb2dSZWN0LndpZHRoLzIpICsgJ3B4LCcgK1xuICAgICAgICAgICgtZGlhbG9nUmVjdC50b3AgKyBjbGlja1JlY3QudG9wICsgY2xpY2tSZWN0LmhlaWdodC8yIC0gZGlhbG9nUmVjdC5oZWlnaHQvMikgKyAncHgsJyArXG4gICAgICAgICAgJzApIHNjYWxlKCcgKyBzY2FsZVggKyAnLCcgKyBzY2FsZVkgKyAnKSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaWFsb2dUcmFuc2l0aW9uRW5kKGRpYWxvZ0VsKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgZGlhbG9nRWwub24oJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIGZpbmlzaGVkKTtcbiAgICAgIGZ1bmN0aW9uIGZpbmlzaGVkKGV2KSB7XG4gICAgICAgIC8vTWFrZSBzdXJlIHRoaXMgdHJhbnNpdGlvbmVuZCBkaWRuJ3QgYnViYmxlIHVwIGZyb20gYSBjaGlsZFxuICAgICAgICBpZiAoZXYudGFyZ2V0ID09PSBkaWFsb2dFbFswXSkge1xuICAgICAgICAgIGRpYWxvZ0VsLm9mZigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgZmluaXNoZWQpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gIH1cbn1cbk1kRGlhbG9nUHJvdmlkZXIuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlclwiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpdmlkZXJcbiAqIEBkZXNjcmlwdGlvbiBEaXZpZGVyIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZERpdmlkZXInLCBNZERpdmlkZXJEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiBNZERpdmlkZXJDb250cm9sbGVyKCl7fVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kRGl2aWRlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpdmlkZXJcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXZpZGVycyBncm91cCBhbmQgc2VwYXJhdGUgY29udGVudCB3aXRoaW4gbGlzdHMgYW5kIHBhZ2UgbGF5b3V0cyB1c2luZyBzdHJvbmcgdmlzdWFsIGFuZCBzcGF0aWFsIGRpc3RpbmN0aW9ucy4gVGhpcyBkaXZpZGVyIGlzIGEgdGhpbiBydWxlLCBsaWdodHdlaWdodCBlbm91Z2ggdG8gbm90IGRpc3RyYWN0IHRoZSB1c2VyIGZyb20gY29udGVudC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1pbnNldCBBZGQgdGhpcyBhdHRyaWJ1dGUgdG8gYWN0aXZhdGUgdGhlIGluc2V0IGRpdmlkZXIgc3R5bGUuXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZGl2aWRlcj48L21kLWRpdmlkZXI+XG4gKlxuICogPG1kLWRpdmlkZXIgbWQtaW5zZXQ+PC9tZC1kaXZpZGVyPlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gTWREaXZpZGVyRGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6ICRtZFRoZW1pbmcsXG4gICAgY29udHJvbGxlcjogW01kRGl2aWRlckNvbnRyb2xsZXJdXG4gIH07XG59XG5NZERpdmlkZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3QnLCBbJ21hdGVyaWFsLmNvcmUnXSlcbiAgICAgICAuZGlyZWN0aXZlKCdtZEdyaWRMaXN0JywgR3JpZExpc3REaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZScsIEdyaWRUaWxlRGlyZWN0aXZlKVxuICAgICAgIC5kaXJlY3RpdmUoJ21kR3JpZFRpbGVGb290ZXInLCBHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZUhlYWRlcicsIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSlcbiAgICAgICAuZmFjdG9yeSgnJG1kR3JpZExheW91dCcsIEdyaWRMYXlvdXRGYWN0b3J5KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEdyaWRMaXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdyaWQgbGlzdHMgYXJlIGFuIGFsdGVybmF0aXZlIHRvIHN0YW5kYXJkIGxpc3Qgdmlld3MuIEdyaWQgbGlzdHMgYXJlIGRpc3RpbmN0XG4gKiBmcm9tIGdyaWRzIHVzZWQgZm9yIGxheW91dHMgYW5kIG90aGVyIHZpc3VhbCBwcmVzZW50YXRpb25zLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGJlc3Qgc3VpdGVkIHRvIHByZXNlbnRpbmcgYSBob21vZ2Vub3VzIGRhdGEgdHlwZSwgdHlwaWNhbGx5XG4gKiBpbWFnZXMsIGFuZCBpcyBvcHRpbWl6ZWQgZm9yIHZpc3VhbCBjb21wcmVoZW5zaW9uIGFuZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlblxuICogbGlrZSBkYXRhIHR5cGVzLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGEgY29udGludW91cyBlbGVtZW50IGNvbnNpc3Rpbmcgb2YgdGVzc2VsbGF0ZWQsIHJlZ3VsYXJcbiAqIHN1YmRpdmlzaW9ucyBjYWxsZWQgY2VsbHMgdGhhdCBjb250YWluIHRpbGVzIChgbWQtZ3JpZC10aWxlYCkuXG4gKlxuICogPGltZyBzcmM9XCIvL21hdGVyaWFsLWRlc2lnbi5zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3B1Ymxpc2gvdl8yL21hdGVyaWFsX2V4dF9wdWJsaXNoLzBCeDRCU3Q2am5pRDdPVmxFYVhaNVltVTFYemcvY29tcG9uZW50c19ncmlkc191c2FnZTIucG5nXCJcbiAqICAgIHN0eWxlPVwid2lkdGg6IDMwMHB4OyBoZWlnaHQ6IGF1dG87IG1hcmdpbi1yaWdodDogMTZweDtcIiBhbHQ9XCJDb25jZXB0IG9mIGdyaWQgZXhwbGFpbmVkIHZpc3VhbGx5XCI+XG4gKiA8aW1nIHNyYz1cIi8vbWF0ZXJpYWwtZGVzaWduLnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcHVibGlzaC92XzIvbWF0ZXJpYWxfZXh0X3B1Ymxpc2gvMEJ4NEJTdDZqbmlEN1ZHaHNPRTVpZFdsSldYTS9jb21wb25lbnRzX2dyaWRzX3VzYWdlMy5wbmdcIlxuICogICAgc3R5bGU9XCJ3aWR0aDogMzAwcHg7IGhlaWdodDogYXV0bztcIiBhbHQ9XCJHcmlkIGNvbmNlcHRzIGxlZ2VuZFwiPlxuICpcbiAqIENlbGxzIGFyZSBhcnJheWVkIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSB3aXRoaW4gdGhlIGdyaWQuXG4gKlxuICogVGlsZXMgaG9sZCBjb250ZW50IGFuZCBjYW4gc3BhbiBvbmUgb3IgbW9yZSBjZWxscyB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS5cbiAqXG4gKiAjIyMgUmVzcG9uc2l2ZSBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIGBtZC1ncmlkLWxpc3RgIGRpcmVjdGl2ZSBzdXBwb3J0cyBcInJlc3BvbnNpdmVcIiBhdHRyaWJ1dGVzLCB3aGljaCBhbGxvd1xuICogZGlmZmVyZW50IGBtZC1jb2xzYCwgYG1kLWd1dHRlcmAgYW5kIGBtZC1yb3ctaGVpZ2h0YCB2YWx1ZXMgZGVwZW5kaW5nIG9uIHRoZVxuICogY3VycmVudGx5IG1hdGNoaW5nIG1lZGlhIHF1ZXJ5IChhcyBkZWZpbmVkIGluIGAkbWRDb25zdGFudC5NRURJQWApLlxuICpcbiAqIEluIG9yZGVyIHRvIHNldCBhIHJlc3BvbnNpdmUgYXR0cmlidXRlLCBmaXJzdCBkZWZpbmUgdGhlIGZhbGxiYWNrIHZhbHVlIHdpdGhcbiAqIHRoZSBzdGFuZGFyZCBhdHRyaWJ1dGUgbmFtZSwgdGhlbiBhZGQgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHdpdGggdGhlXG4gKiBmb2xsb3dpbmcgY29udmVudGlvbjogYHtiYXNlLWF0dHJpYnV0ZS1uYW1lfS17bWVkaWEtcXVlcnktbmFtZX09XCJ7dmFsdWV9XCJgXG4gKiAoaWUuIGBtZC1jb2xzLWxnPVwiOFwiYClcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWQtY29scyBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgZ3JpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1yb3ctaGVpZ2h0IE9uZSBvZlxuICogPHVsPlxuICogICA8bGk+Q1NTIGxlbmd0aCAtIEZpeGVkIGhlaWdodCByb3dzIChlZy4gYDhweGAgb3IgYDFyZW1gKTwvbGk+XG4gKiAgIDxsaT5ge3dpZHRofTp7aGVpZ2h0fWAgLSBSYXRpbyBvZiB3aWR0aCB0byBoZWlnaHQgKGVnLlxuICogICBgbWQtcm93LWhlaWdodD1cIjE2OjlcImApPC9saT5cbiAqICAgPGxpPmBcImZpdFwiYCAtIEhlaWdodCB3aWxsIGJlIGRldGVybWluZWQgYnkgc3ViZGl2aWRpbmcgdGhlIGF2YWlsYWJsZVxuICogICBoZWlnaHQgYnkgdGhlIG51bWJlciBvZiByb3dzPC9saT5cbiAqIDwvdWw+XG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWd1dHRlciBUaGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGlsZXMgaW4gQ1NTIHVuaXRzXG4gKiAgICAgKGRlZmF1bHQgMXB4KVxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tbGF5b3V0IEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgYWZ0ZXIgbGF5b3V0LiBFdmVudFxuICogICAgIG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAsIGFuZCBjb250YWlucyBwZXJmb3JtYW5jZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VcbiAqIEJhc2ljOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3QgbWQtY29scz1cIjVcIiBtZC1ndXR0ZXI9XCIxZW1cIiBtZC1yb3ctaGVpZ2h0PVwiNDozXCI+XG4gKiAgIDxtZC1ncmlkLXRpbGU+PC9tZC1ncmlkLXRpbGU+XG4gKiA8L21kLWdyaWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKiBGaXhlZC1oZWlnaHQgcm93czpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC1saXN0IG1kLWNvbHM9XCI0XCIgbWQtcm93LWhlaWdodD1cIjIwMHB4XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogRml0IHJvd3M6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtbGlzdCBtZC1jb2xzPVwiNFwiIG1kLXJvdy1oZWlnaHQ9XCJmaXRcIiBzdHlsZT1cImhlaWdodDogNDAwcHg7XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogVXNpbmcgcmVzcG9uc2l2ZSBhdHRyaWJ1dGVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3RcbiAqICAgICBtZC1jb2xzLXNtPVwiMlwiXG4gKiAgICAgbWQtY29scy1tZD1cIjRcIlxuICogICAgIG1kLWNvbHMtbGc9XCI4XCJcbiAqICAgICBtZC1jb2xzLWd0LWxnPVwiMTJcIlxuICogICAgIC4uLj5cbiAqICAgPG1kLWdyaWQtdGlsZT48L21kLWdyaWQtdGlsZT5cbiAqIDwvbWQtZ3JpZC1saXN0PlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBHcmlkTGlzdERpcmVjdGl2ZSgkaW50ZXJwb2xhdGUsICRtZENvbnN0YW50LCAkbWRHcmlkTGF5b3V0LCAkbWRNZWRpYSwgJG1kVXRpbCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogR3JpZExpc3RDb250cm9sbGVyLFxuICAgIHNjb3BlOiB7XG4gICAgICBtZE9uTGF5b3V0OiAnJidcbiAgICB9LFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgLy8gQXBwbHkgc2VtYW50aWNzXG4gICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ2xpc3QnKTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbnRyb2xsZXIgd2l0aCBhIHdheSB0byB0cmlnZ2VyIGxheW91dHMuXG4gICAgY3RybC5sYXlvdXREZWxlZ2F0ZSA9IGxheW91dERlbGVnYXRlXG5cbiAgICB2YXIgaW52YWxpZGF0ZUxheW91dCA9IGFuZ3VsYXIuYmluZChjdHJsLCBjdHJsLmludmFsaWRhdGVMYXlvdXQpO1xuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB3YXRjaE1lZGlhKCkpO1xuXG4gICAgLyoqXG4gICAgICogV2F0Y2hlcyBmb3IgY2hhbmdlcyBpbiBtZWRpYSwgaW52YWxpZGF0aW5nIGxheW91dCBhcyBuZWNlc3NhcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2F0Y2hNZWRpYSgpIHtcbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICAkbWRNZWRpYShtZWRpYU5hbWUpOyAvLyBpbml0aWFsaXplXG4gICAgICAgICRtZE1lZGlhLmdldFF1ZXJ5KCRtZENvbnN0YW50Lk1FRElBW21lZGlhTmFtZV0pXG4gICAgICAgICAgICAuYWRkTGlzdGVuZXIoaW52YWxpZGF0ZUxheW91dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJG1kTWVkaWEud2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyhcbiAgICAgICAgICBbJ21kLWNvbHMnLCAnbWQtcm93LWhlaWdodCddLCBhdHRycywgbGF5b3V0SWZNZWRpYU1hdGNoKTs7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW53YXRjaE1lZGlhKCkge1xuICAgICAgdW53YXRjaEF0dHJzKCk7XG4gICAgICBmb3IgKHZhciBtZWRpYU5hbWUgaW4gJG1kQ29uc3RhbnQuTUVESUEpIHtcbiAgICAgICAgJG1kTWVkaWEuZ2V0UXVlcnkoJG1kQ29uc3RhbnQuTUVESUFbbWVkaWFOYW1lXSlcbiAgICAgICAgICAgIC5yZW1vdmVMaXN0ZW5lcihpbnZhbGlkYXRlTGF5b3V0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBncmlkIGxheW91dCBpZiB0aGUgcHJvdmlkZWQgbWVkaWFOYW1lIG1hdGNoZXMgdGhlIGN1cnJlbnRseVxuICAgICAqIGFjdGl2ZSBtZWRpYSB0eXBlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxheW91dElmTWVkaWFNYXRjaChtZWRpYU5hbWUpIHtcbiAgICAgIGlmIChtZWRpYU5hbWUgPT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPKHNoeW5kbWFuKTogSXQgd291bGQgYmUgbmljZSB0byBvbmx5IGxheW91dCBpZiB3ZSBoYXZlXG4gICAgICAgIC8vIGluc3RhbmNlcyBvZiBhdHRyaWJ1dGVzIHVzaW5nIHRoaXMgbWVkaWEgdHlwZVxuICAgICAgICBjdHJsLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoJG1kTWVkaWEobWVkaWFOYW1lKSkge1xuICAgICAgICBjdHJsLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBsYXlvdXQgZW5naW5lLCBhbmQgdXNlcyBpdHMgcmVzdWx0cyB0byBsYXkgb3V0IG91clxuICAgICAqIHRpbGUgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF5b3V0RGVsZWdhdGUoKSB7XG4gICAgICB2YXIgdGlsZXMgPSBnZXRUaWxlRWxlbWVudHMoKSxcbiAgICAgICAgICBjb2xDb3VudCA9IGdldENvbHVtbkNvdW50KCksXG4gICAgICAgICAgcm93TW9kZSA9IGdldFJvd01vZGUoKSxcbiAgICAgICAgICByb3dIZWlnaHQgPSBnZXRSb3dIZWlnaHQoKSxcbiAgICAgICAgICBndXR0ZXIgPSBnZXRHdXR0ZXIoKSxcbiAgICAgICAgICBwZXJmb3JtYW5jZSA9XG4gICAgICAgICAgICAgICRtZEdyaWRMYXlvdXQoY29sQ291bnQsIGdldFRpbGVTcGFucygpLCBnZXRUaWxlRWxlbWVudHMoKSlcbiAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24ocHMsIHJvd0NvdW50LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRpbGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zY29wZSgpLiRtZEdyaWRQb3NpdGlvbiA9IHBzOyAvLyBmb3IgZGVidWdnaW5nXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczogZ2V0U3R5bGVzKHBzLnBvc2l0aW9uLCBwcy5zcGFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sQ291bnQsIHJvd0NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBndXR0ZXIsIHJvd01vZGUsIHJvd0hlaWdodClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5yZWZsb3coKVxuICAgICAgICAgICAgICAgICAgLnBlcmZvcm1hbmNlKCk7XG5cbiAgICAgIC8vIFJlcG9ydCBsYXlvdXRcbiAgICAgIHNjb3BlLm1kT25MYXlvdXQoe1xuICAgICAgICAkZXZlbnQ6IHtcbiAgICAgICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBVTklUID0gJGludGVycG9sYXRlKFxuICAgICAgICBcInt7IHNoYXJlIH19JSAtICh7eyBndXR0ZXIgfX0gKiB7eyBndXR0ZXJTaGFyZSB9fSlcIik7XG4gICAgdmFyIFBPU0lUSU9OID0gJGludGVycG9sYXRlKFxuICAgICAgICBcImNhbGMoKHt7IHVuaXQgfX0pICoge3sgb2Zmc2V0IH19ICsge3sgb2Zmc2V0IH19ICoge3sgZ3V0dGVyIH19KVwiKTtcbiAgICB2YXIgRElNRU5TSU9OID0gJGludGVycG9sYXRlKFxuICAgICAgICBcImNhbGMoKHt7IHVuaXQgfX0pICoge3sgc3BhbiB9fSArICh7eyBzcGFuIH19IC0gMSkgKiB7eyBndXR0ZXIgfX0pXCIpO1xuXG4gICAgLy8gVE9ETyhzaHluZG1hbik6IFJlcGxhY2UgYXJncyB3aXRoIGEgY3R4IG9iamVjdC5cbiAgICBmdW5jdGlvbiBnZXRTdHlsZXMocG9zaXRpb24sIHNwYW5zLCBjb2xDb3VudCwgcm93Q291bnQsIGd1dHRlciwgcm93TW9kZSwgcm93SGVpZ2h0KSB7XG4gICAgICAvLyBUT0RPKHNoeW5kbWFuKTogVGhlcmUgYXJlIHN0eWxlIGNhY2hpbmcgb3Bwb3J0dW5pdGllcyBoZXJlLlxuICAgICAgdmFyIGhTaGFyZSA9ICgxIC8gY29sQ291bnQpICogMTAwLFxuICAgICAgICAgIGhHdXR0ZXJTaGFyZSA9IGNvbENvdW50ID09PSAxID8gMCA6IChjb2xDb3VudCAtIDEpIC8gY29sQ291bnQsXG4gICAgICAgICAgaFVuaXQgPSBVTklUKHsgc2hhcmU6IGhTaGFyZSwgZ3V0dGVyU2hhcmU6IGhHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXIgfSk7XG5cbiAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgbGVmdDogUE9TSVRJT04oeyB1bml0OiBoVW5pdCwgb2Zmc2V0OiBwb3NpdGlvbi5jb2wsIGd1dHRlcjogZ3V0dGVyIH0pLFxuICAgICAgICB3aWR0aDogRElNRU5TSU9OKHsgdW5pdDogaFVuaXQsIHNwYW46IHNwYW5zLmNvbCwgZ3V0dGVyOiBndXR0ZXIgfSksXG4gICAgICAgIC8vIHJlc2V0c1xuICAgICAgICBwYWRkaW5nVG9wOiAnJyxcbiAgICAgICAgbWFyZ2luVG9wOiAnJyxcbiAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgfTtcblxuICAgICAgc3dpdGNoIChyb3dNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgICBzdHlsZS50b3AgPSBQT1NJVElPTih7IHVuaXQ6IHJvd0hlaWdodCwgb2Zmc2V0OiBwb3NpdGlvbi5yb3csIGd1dHRlcjogZ3V0dGVyIH0pO1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IERJTUVOU0lPTih7IHVuaXQ6IHJvd0hlaWdodCwgc3Bhbjogc3BhbnMucm93LCBndXR0ZXI6ICcwcHgnIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICAvLyByb3dIZWlnaHQgaXMgd2lkdGggLyBoZWlnaHRcbiAgICAgICAgICB2YXIgdlNoYXJlID0gaFNoYXJlICogKDEgLyByb3dIZWlnaHQpLFxuICAgICAgICAgICAgICB2VW5pdCA9IFVOSVQoeyBzaGFyZTogdlNoYXJlLCBndXR0ZXJTaGFyZTogaEd1dHRlclNoYXJlLCBndXR0ZXI6IGd1dHRlciB9KTtcblxuICAgICAgICAgIHN0eWxlLnBhZGRpbmdUb3AgPSBESU1FTlNJT04oeyB1bml0OiB2VW5pdCwgc3Bhbjogc3BhbnMucm93LCBndXR0ZXI6IGd1dHRlcn0pO1xuICAgICAgICAgIHN0eWxlLm1hcmdpblRvcCA9IFBPU0lUSU9OKHsgdW5pdDogdlVuaXQsIG9mZnNldDogcG9zaXRpb24ucm93LCBndXR0ZXI6IGd1dHRlciB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmaXQnOlxuICAgICAgICAgIHZhciB2R3V0dGVyU2hhcmUgPSByb3dDb3VudCA9PT0gMSA/IDAgOiAocm93Q291bnQgLSAxKSAvIHJvd0NvdW50LFxuICAgICAgICAgICAgICB2U2hhcmUgPSAoMSAvIHJvd0NvdW50KSAqIDEwMCxcbiAgICAgICAgICAgICAgdlVuaXQgPSBVTklUKHsgc2hhcmU6IHZTaGFyZSwgZ3V0dGVyU2hhcmU6IHZHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXIgfSk7XG5cbiAgICAgICAgICBzdHlsZS50b3AgPSBQT1NJVElPTih7IHVuaXQ6IHZVbml0LCBvZmZzZXQ6IHBvc2l0aW9uLnJvdywgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gRElNRU5TSU9OKHsgdW5pdDogdlVuaXQsIHNwYW46IHNwYW5zLnJvdywgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUaWxlRWxlbWVudHMoKSB7XG4gICAgICAvLyBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IG1kLWdyaWQtdGlsZScpIHdvdWxkIGJlXG4gICAgICAvLyBwcmVmZXJyZWQsIGJ1dCBpcyBub3QgeWV0IHdpZGVseSBzdXBwb3J0ZWQuXG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWxlbWVudFswXS5jaGlsZE5vZGVzKVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC50YWdOYW1lID09ICdNRC1HUklELVRJTEUnO1xuICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbGVTcGFucygpIHtcbiAgICAgIHJldHVybiBjdHJsLnRpbGVzLm1hcChmdW5jdGlvbih0aWxlQXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb3c6IHBhcnNlSW50KFxuICAgICAgICAgICAgICAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKHRpbGVBdHRycywgJ21kLXJvd3NwYW4nKSwgMTApIHx8IDEsXG4gICAgICAgICAgY29sOiBwYXJzZUludChcbiAgICAgICAgICAgICAgJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZSh0aWxlQXR0cnMsICdtZC1jb2xzcGFuJyksIDEwKSB8fCAxXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDb2x1bW5Db3VudCgpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCgkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtY29scycpLCAxMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0R3V0dGVyKCkge1xuICAgICAgcmV0dXJuIGFwcGx5RGVmYXVsdFVuaXQoJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgJ21kLWd1dHRlcicpIHx8IDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJvd0hlaWdodCgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtcm93LWhlaWdodCcpO1xuICAgICAgc3dpdGNoIChnZXRSb3dNb2RlKCkpIHtcbiAgICAgICAgY2FzZSAnZml4ZWQnOlxuICAgICAgICAgIHJldHVybiBhcHBseURlZmF1bHRVbml0KHJvd0hlaWdodCk7XG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICB2YXIgd2hSYXRpbyA9IHJvd0hlaWdodC5zcGxpdCgnOicpO1xuICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHdoUmF0aW9bMF0pIC8gcGFyc2VGbG9hdCh3aFJhdGlvWzFdKTtcbiAgICAgICAgY2FzZSAnZml0JzpcbiAgICAgICAgICByZXR1cm4gMDsgLy8gTi9BXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Um93TW9kZSgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtcm93LWhlaWdodCcpO1xuICAgICAgaWYgKHJvd0hlaWdodCA9PSAnZml0Jykge1xuICAgICAgICByZXR1cm4gJ2ZpdCc7XG4gICAgICB9IGVsc2UgaWYgKHJvd0hlaWdodC5pbmRleE9mKCc6JykgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiAncmF0aW8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdmaXhlZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlEZWZhdWx0VW5pdCh2YWwpIHtcbiAgICAgIHJldHVybiAvXFxEJC8udGVzdCh2YWwpID8gdmFsIDogdmFsICsgJ3B4JztcbiAgICB9XG4gIH1cbn1cbkdyaWRMaXN0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZEdyaWRMYXlvdXRcIiwgXCIkbWRNZWRpYVwiLCBcIiRtZFV0aWxcIl07XG5cbmZ1bmN0aW9uIEdyaWRMaXN0Q29udHJvbGxlcigkdGltZW91dCkge1xuICB0aGlzLmludmFsaWRhdGVkID0gZmFsc2U7XG4gIHRoaXMuJHRpbWVvdXRfID0gJHRpbWVvdXQ7XG4gIHRoaXMudGlsZXMgPSBbXTtcbiAgdGhpcy5sYXlvdXREZWxlZ2F0ZSA9IGFuZ3VsYXIubm9vcDtcbn1cbkdyaWRMaXN0Q29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIl07XG5cbkdyaWRMaXN0Q29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gIGFkZFRpbGU6IGZ1bmN0aW9uKHRpbGVBdHRycywgaWR4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoaWR4KSkge1xuICAgICAgdGhpcy50aWxlcy5wdXNoKHRpbGVBdHRycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGlsZXMuc3BsaWNlKGlkeCwgMCwgdGlsZUF0dHJzKTtcbiAgICB9XG4gICAgdGhpcy5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gIH0sXG5cbiAgcmVtb3ZlVGlsZTogZnVuY3Rpb24odGlsZUF0dHJzKSB7XG4gICAgdmFyIGlkeCA9IHRoaXMudGlsZXMuaW5kZXhPZih0aWxlQXR0cnMpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGlsZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gIH0sXG5cbiAgaW52YWxpZGF0ZUxheW91dDogZnVuY3Rpb24odGlsZSkge1xuICAgIGlmICh0aGlzLmludmFsaWRhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIHRoaXMuJHRpbWVvdXRfKGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLmxheW91dCkpO1xuICB9LFxuXG4gIGxheW91dDogZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubGF5b3V0RGVsZWdhdGUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pbnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gR3JpZExheW91dEZhY3RvcnkoJG1kVXRpbCkge1xuICByZXR1cm4gZnVuY3Rpb24oY29sQ291bnQsIHRpbGVTcGFucykge1xuICAgIHZhciBzZWxmLCBsYXlvdXRJbmZvLCB0aWxlcywgbGF5b3V0VGltZSwgbWFwVGltZSwgcmVmbG93VGltZSwgbGF5b3V0SW5mbztcbiAgICBsYXlvdXRUaW1lID0gJG1kVXRpbC50aW1lKGZ1bmN0aW9uKCkge1xuICAgICAgbGF5b3V0SW5mbyA9IGNhbGN1bGF0ZUdyaWRGb3IoY29sQ291bnQsIHRpbGVTcGFucyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgb2Ygb2JqZWN0cyBkZXNjcmliaW5nIGVhY2ggdGlsZSdzIHBvc2l0aW9uIGluIHRoZSBncmlkLlxuICAgICAgICovXG4gICAgICBsYXlvdXRJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGxheW91dEluZm87XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIE1hcHMgZ3JpZCBwb3NpdGlvbmluZyB0byBhbiBlbGVtZW50IGFuZCBhIHNldCBvZiBzdHlsZXMgdXNpbmcgdGhlXG4gICAgICAgKiBwcm92aWRlZCB1cGRhdGVGbi5cbiAgICAgICAqL1xuICAgICAgbWFwOiBmdW5jdGlvbih1cGRhdGVGbikge1xuICAgICAgICBtYXBUaW1lID0gJG1kVXRpbC50aW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbGVzID0gbGF5b3V0SW5mby5wb3NpdGlvbmluZy5tYXAoZnVuY3Rpb24ocHMsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVGbihwcywgc2VsZi5sYXlvdXRJbmZvKCkucm93Q291bnQsIGkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmF1bHQgYW5pbWF0b3Igc2ltcGx5IHNldHMgdGhlIGVsZW1lbnQuY3NzKCA8c3R5bGVzPiApLlxuICAgICAgICogVXNlIHRoZSAkbWRHcmlkTGF5b3V0UHJvdmlkZXIgdG8gZGVjb3JhdGUgdGhlIGFuaW1hdG9yIGNhbGxiYWNrIGlmXG4gICAgICAgKiBhbHRlcm5hdGUgYW5pbWF0aW9uIHNjZW5hcmlvcyBhcmUgZGVzaXJlZC5cbiAgICAgICAqL1xuICAgICAgcmVmbG93OiBmdW5jdGlvbihjdXN0b21BbmltYXRvckZuKSB7XG4gICAgICAgIHJlZmxvd1RpbWUgPSAkbWRVdGlsLnRpbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdG9yID0gY3VzdG9tQW5pbWF0b3JGbiB8fCBkZWZhdWx0QW5pbWF0b3I7XG4gICAgICAgICAgdGlsZXMuZm9yRWFjaChmdW5jdGlvbihpdCkge1xuICAgICAgICAgICAgYW5pbWF0b3IoaXQuZWxlbWVudCwgaXQuc3R5bGVzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaW1pbmcgZm9yIHRoZSBtb3N0IHJlY2VudCBsYXlvdXQgcnVuLlxuICAgICAgICovXG4gICAgICBwZXJmb3JtYW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGlsZUNvdW50OiB0aWxlU3BhbnMubGVuZ3RoLFxuICAgICAgICAgIGxheW91dFRpbWU6IGxheW91dFRpbWUsXG4gICAgICAgICAgbWFwVGltZTogbWFwVGltZSxcbiAgICAgICAgICByZWZsb3dUaW1lOiByZWZsb3dUaW1lLFxuICAgICAgICAgIHRvdGFsVGltZTogbGF5b3V0VGltZSArIG1hcFRpbWUgKyByZWZsb3dUaW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWZhdWx0QW5pbWF0b3IoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgZWxlbWVudC5jc3Moc3R5bGVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb25zIG9mIHRpbGVzLlxuICAgKlxuICAgKiBUaGUgYWxnb3JpdGhtIHdvcmtzIGFzIGZvbGxvd3M6XG4gICAqICAgIEFuIEFycmF5PE51bWJlcj4gd2l0aCBsZW5ndGggY29sQ291bnQgKHNwYWNlVHJhY2tlcikga2VlcHMgdHJhY2sgb2ZcbiAgICogICAgYXZhaWxhYmxlIHRpbGluZyBwb3NpdGlvbnMsIHdoZXJlIGVsZW1lbnRzIG9mIHZhbHVlIDAgcmVwcmVzZW50cyBhblxuICAgKiAgICBlbXB0eSBwb3NpdGlvbi4gU3BhY2UgZm9yIGEgdGlsZSBpcyByZXNlcnZlZCBieSBmaW5kaW5nIGEgc2VxdWVuY2Ugb2ZcbiAgICogICAgMHMgd2l0aCBsZW5ndGggPD0gdGhhbiB0aGUgdGlsZSdzIGNvbHNwYW4uIFdoZW4gc3VjaCBhIHNwYWNlIGhhcyBiZWVuXG4gICAqICAgIGZvdW5kLCB0aGUgb2NjdXBpZWQgdGlsZSBwb3NpdGlvbnMgYXJlIGluY3JlbWVudGVkIGJ5IHRoZSB0aWxlJ3NcbiAgICogICAgcm93c3BhbiB2YWx1ZSwgYXMgdGhlc2UgcG9zaXRpb25zIGhhdmUgYmVjb21lIHVuYXZhaWxhYmxlIGZvciB0aGF0XG4gICAqICAgIG1hbnkgcm93cy5cbiAgICpcbiAgICogICAgSWYgdGhlIGVuZCBvZiBhIHJvdyBoYXMgYmVlbiByZWFjaGVkIHdpdGhvdXQgZmluZGluZyBzcGFjZSBmb3IgdGhlXG4gICAqICAgIHRpbGUsIHNwYWNlVHJhY2tlcidzIGVsZW1lbnRzIGFyZSBlYWNoIGRlY3JlbWVudGVkIGJ5IDEgdG8gYSBtaW5pbXVtXG4gICAqICAgIG9mIDAuIFJvd3MgYXJlIHNlYXJjaGVkIGluIHRoaXMgZmFzaGlvbiB1bnRpbCBzcGFjZSBpcyBmb3VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUdyaWRGb3IoY29sQ291bnQsIHRpbGVTcGFucykge1xuICAgIHZhciBjdXJDb2wgPSAwLFxuICAgICAgICBjdXJSb3cgPSAwLFxuICAgICAgICBzcGFjZVRyYWNrZXIgPSBuZXdTcGFjZVRyYWNrZXIoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbmluZzogdGlsZVNwYW5zLm1hcChmdW5jdGlvbihzcGFucywgaSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNwYW5zOiBzcGFucyxcbiAgICAgICAgICBwb3NpdGlvbjogcmVzZXJ2ZVNwYWNlKHNwYW5zLCBpKVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByb3dDb3VudDogY3VyUm93ICsgTWF0aC5tYXguYXBwbHkoTWF0aCwgc3BhY2VUcmFja2VyKVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNlcnZlU3BhY2Uoc3BhbnMsIGkpIHtcbiAgICAgIGlmIChzcGFucy5jb2wgPiBjb2xDb3VudCkge1xuICAgICAgICB0aHJvdyAnbWQtZ3JpZC1saXN0OiBUaWxlIGF0IHBvc2l0aW9uICcgKyBpICsgJyBoYXMgYSBjb2xzcGFuICcgK1xuICAgICAgICAgICAgJygnICsgc3BhbnMuY29sICsgJykgdGhhdCBleGNlZWRzIHRoZSBjb2x1bW4gY291bnQgJyArXG4gICAgICAgICAgICAnKCcgKyBjb2xDb3VudCArICcpJztcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0ID0gMCxcbiAgICAgICAgICBlbmQgPSAwO1xuXG4gICAgICAvLyBUT0RPKHNoeW5kbWFuKTogVGhpcyBsb29wIGlzbid0IHN0cmljdGx5IG5lY2Vzc2FyeSBpZiB5b3UgY2FuXG4gICAgICAvLyBkZXRlcm1pbmUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJvd3MgYmVmb3JlIGEgc3BhY2Ugb3BlbnMgdXAuIFRvIGRvXG4gICAgICAvLyB0aGlzLCByZWNvZ25pemUgdGhhdCB5b3UndmUgaXRlcmF0ZWQgYWNyb3NzIGFuIGVudGlyZSByb3cgbG9va2luZyBmb3JcbiAgICAgIC8vIHNwYWNlLCBhbmQgaWYgc28gZmFzdC1mb3J3YXJkIGJ5IHRoZSBtaW5pbXVtIHJvd1NwYW4gY291bnQuIFJlcGVhdFxuICAgICAgLy8gdW50aWwgdGhlIHJlcXVpcmVkIHNwYWNlIG9wZW5zIHVwLlxuICAgICAgd2hpbGUgKGVuZCAtIHN0YXJ0IDwgc3BhbnMuY29sKSB7XG4gICAgICAgIGlmIChjdXJDb2wgPj0gY29sQ291bnQpIHtcbiAgICAgICAgICBuZXh0Um93KCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9IHNwYWNlVHJhY2tlci5pbmRleE9mKDAsIGN1ckNvbCk7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEgfHwgKGVuZCA9IGZpbmRFbmQoc3RhcnQgKyAxKSkgPT09IC0xKSB7XG4gICAgICAgICAgc3RhcnQgPSBlbmQgPSAwO1xuICAgICAgICAgIG5leHRSb3coKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1ckNvbCA9IGVuZCArIDE7XG4gICAgICB9XG5cbiAgICAgIGFkanVzdFJvdyhzdGFydCwgc3BhbnMuY29sLCBzcGFucy5yb3cpO1xuICAgICAgY3VyQ29sID0gc3RhcnQgKyBzcGFucy5jb2w7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbDogc3RhcnQsXG4gICAgICAgIHJvdzogY3VyUm93XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5leHRSb3coKSB7XG4gICAgICBjdXJDb2wgPSAwO1xuICAgICAgY3VyUm93Kys7XG4gICAgICBhZGp1c3RSb3coMCwgY29sQ291bnQsIC0xKTsgLy8gRGVjcmVtZW50IHJvdyBzcGFucyBieSBvbmVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RSb3coZnJvbSwgY29scywgYnkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBmcm9tOyBpIDwgZnJvbSArIGNvbHM7IGkrKykge1xuICAgICAgICBzcGFjZVRyYWNrZXJbaV0gPSBNYXRoLm1heChzcGFjZVRyYWNrZXJbaV0gKyBieSwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZEVuZChzdGFydCkge1xuICAgICAgdmFyIGk7XG4gICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IHNwYWNlVHJhY2tlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3BhY2VUcmFja2VyW2ldICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGkgPT09IHNwYWNlVHJhY2tlci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV3U3BhY2VUcmFja2VyKCkge1xuICAgICAgdmFyIHRyYWNrZXIgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sQ291bnQ7IGkrKykge1xuICAgICAgICB0cmFja2VyLnB1c2goMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhY2tlcjtcbiAgICB9XG4gIH1cbn1cbkdyaWRMYXlvdXRGYWN0b3J5LiRpbmplY3QgPSBbXCIkbWRVdGlsXCJdO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kR3JpZFRpbGVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdFxuICogQHJlc3RyaWN0IEVcbiAqIEBkZXNjcmlwdGlvblxuICogVGlsZXMgY29udGFpbiB0aGUgY29udGVudCBvZiBhbiBgbWQtZ3JpZC1saXN0YC4gVGhleSBzcGFuIG9uZSBvciBtb3JlIGdyaWRcbiAqIGNlbGxzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5LCBhbmQgdXNlIGBtZC1ncmlkLXRpbGUte2Zvb3RlcixoZWFkZXJ9YCB0b1xuICogZGlzcGxheSBzZWNvbmRhcnkgY29udGVudC5cbiAqXG4gKiAjIyMgUmVzcG9uc2l2ZSBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIGBtZC1ncmlkLXRpbGVgIGRpcmVjdGl2ZSBzdXBwb3J0cyBcInJlc3BvbnNpdmVcIiBhdHRyaWJ1dGVzLCB3aGljaCBhbGxvd1xuICogZGlmZmVyZW50IGBtZC1yb3dzcGFuYCBhbmQgYG1kLWNvbHNwYW5gIHZhbHVlcyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnRseVxuICogbWF0Y2hpbmcgbWVkaWEgcXVlcnkgKGFzIGRlZmluZWQgaW4gYCRtZENvbnN0YW50Lk1FRElBYCkuXG4gKlxuICogSW4gb3JkZXIgdG8gc2V0IGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGUsIGZpcnN0IGRlZmluZSB0aGUgZmFsbGJhY2sgdmFsdWUgd2l0aFxuICogdGhlIHN0YW5kYXJkIGF0dHJpYnV0ZSBuYW1lLCB0aGVuIGFkZCBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgd2l0aCB0aGVcbiAqIGZvbGxvd2luZyBjb252ZW50aW9uOiBge2Jhc2UtYXR0cmlidXRlLW5hbWV9LXttZWRpYS1xdWVyeS1uYW1lfT1cInt2YWx1ZX1cImBcbiAqIChpZS4gYG1kLWNvbHNwYW4tc209XCI0XCJgKVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtY29sc3BhbiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgdG8gc3BhbiAoZGVmYXVsdCAxKS4gQ2Fubm90XG4gKiAgICBleGNlZWQgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBncmlkLiBTdXBwb3J0cyBpbnRlcnBvbGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1yb3dzcGFuIFRoZSBudW1iZXIgb2Ygcm93cyB0byBzcGFuIChkZWZhdWx0IDEpLiBTdXBwb3J0c1xuICogICAgIGludGVycG9sYXRpb24uXG4gKlxuICogQHVzYWdlXG4gKiBXaXRoIGhlYWRlcjpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC10aWxlPlxuICogICA8bWQtZ3JpZC10aWxlLWhlYWRlcj5cbiAqICAgICA8aDM+VGhpcyBpcyBhIGhlYWRlcjwvaDM+XG4gKiAgIDwvbWQtZ3JpZC10aWxlLWhlYWRlcj5cbiAqIDwvbWQtZ3JpZC10aWxlPlxuICogPC9obGpzPlxuICpcbiAqIFdpdGggZm9vdGVyOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGU+XG4gKiAgIDxtZC1ncmlkLXRpbGUtZm9vdGVyPlxuICogICAgIDxoMz5UaGlzIGlzIGEgZm9vdGVyPC9oMz5cbiAqICAgPC9tZC1ncmlkLXRpbGUtZm9vdGVyPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogU3Bhbm5pbmcgbXVsdGlwbGUgcm93cy9jb2x1bW5zOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGUgbWQtY29sc3Bhbj1cIjJcIiBtZC1yb3dzcGFuPVwiM1wiPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogUmVzcG9uc2l2ZSBhdHRyaWJ1dGVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGUgbWQtY29sc3Bhbj1cIjFcIiBtZC1jb2xzcGFuLXNtPVwiM1wiIG1kLWNvbHNwYW4tbWQ9XCI1XCI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gR3JpZFRpbGVEaXJlY3RpdmUoJG1kTWVkaWEpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6ICdebWRHcmlkTGlzdCcsXG4gICAgdGVtcGxhdGU6ICc8ZmlndXJlIG5nLXRyYW5zY2x1ZGU+PC9maWd1cmU+JyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBncmlkQ3RybCkge1xuICAgIC8vIEFwcGx5IHNlbWFudGljc1xuICAgIGVsZW1lbnQuYXR0cigncm9sZScsICdsaXN0aXRlbScpO1xuXG4gICAgLy8gSWYgb3VyIGNvbHNwYW4gb3Igcm93c3BhbiBjaGFuZ2VzLCB0cmlnZ2VyIGEgbGF5b3V0XG4gICAgdmFyIHVud2F0Y2hBdHRycyA9ICRtZE1lZGlhLndhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXMoWydtZC1jb2xzcGFuJywgJ21kLXJvd3NwYW4nXSxcbiAgICAgICAgYXR0cnMsIGFuZ3VsYXIuYmluZChncmlkQ3RybCwgZ3JpZEN0cmwuaW52YWxpZGF0ZUxheW91dCkpO1xuXG4gICAgLy8gVGlsZSByZWdpc3RyYXRpb24vZGVyZWdpc3RyYXRpb25cbiAgICAvLyBUT0RPKHNoeW5kbWFuKTogS2luZCBvZiBncm9zcyB0byBhY2Nlc3MgcGFyZW50IHNjb3BlIGxpa2UgdGhpcy5cbiAgICAvLyAgICBDb25zaWRlciBvdGhlciBvcHRpb25zLlxuICAgIGdyaWRDdHJsLmFkZFRpbGUoYXR0cnMsIHNjb3BlLiRwYXJlbnQuJGluZGV4KTtcbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICB1bndhdGNoQXR0cnMoKTtcbiAgICAgIGdyaWRDdHJsLnJlbW92ZVRpbGUoYXR0cnMpO1xuICAgIH0pO1xuICB9XG59XG5HcmlkVGlsZURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kTWVkaWFcIl07XG5cbmZ1bmN0aW9uIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZTogJzxmaWdjYXB0aW9uIG5nLXRyYW5zY2x1ZGU+PC9maWdjYXB0aW9uPicsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZVxuICB9O1xufVxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuaWNvblxuICogQGRlc2NyaXB0aW9uXG4gKiBJY29uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmljb24nLCBbXG4gICAgJ21hdGVyaWFsLmNvcmUnXG4gIF0pXG4gIC5kaXJlY3RpdmUoJ21kSWNvbicsIG1kSWNvbkRpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRJY29uJywgTWRJY29uUHJvdmlkZXIpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kSWNvblxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBtZC1pY29uYCBkaXJlY3RpdmUgaXMgYW4gbWFya3VwIGVsZW1lbnQgdXNlZnVsIGZvciBzaG93aW5nIGFuIGljb24gYmFzZWQgb24gYSBmb250LWZhY2VcbiAqIG9yIGEgU1ZHLiBCb3RoIGV4dGVybmFsIFNWR3MgKHZpYSBVUkxzKSBvciBjYWNoZWQgU1ZHIGZyb20gaWNvbiBzZXRzIGNhbiBiZVxuICogZWFzaWx5IGxvYWRlZCBhbmQgdXNlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtc3ZnLXNyYyBTdHJpbmcgVVJMIFtvciBleHByZXNzaW9uIF0gdXNlZCB0byBsb2FkLCBjYWNoZSwgYW5kIGRpc3BsYXkgYW4gZXh0ZXJuYWwgU1ZHLlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLXN2Zy1pY29uIFN0cmluZyBuYW1lIHVzZWQgZm9yIGxvb2t1cCBvZiB0aGUgaWNvbiBmcm9tIHRoZSBpbnRlcm5hbCBjYWNoZTsgaW50ZXJwb2xhdGVkIHN0cmluZ3Mgb3JcbiAqIGV4cHJlc3Npb25zIG1heSBhbHNvIGJlIHVzZWQuIFNwZWNpZmljIHNldCBuYW1lcyBjYW4gYmUgdXNlZCB3aXRoIHRoZSBzeW50YXggYDxzZXQgbmFtZT46PGljb24gbmFtZT5gLjxici8+PGJyLz5cbiAqIFRvIHVzZSBpY29uIHNldHMsIGRldmVsb3BlcnMgYXJlIHJlcXVpcmVkIHRvIHByZS1yZWdpc3RlciB0aGUgc2V0cyB1c2luZyB0aGUgYCRtZEljb25Qcm92aWRlcmAgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1mb250LWljb24gU3RyaW5nIG5hbWUgb2YgQ1NTIGljb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBmb250LWZhY2Ugd2lsbCBiZSB1c2VkXG4gKiB0byByZW5kZXIgdGhlIGljb24uIFJlcXVpcmVzIHRoZSBmb250cyBhbmQgdGhlIG5hbWVkIENTUyBzdHlsZXMgdG8gYmUgcHJlbG9hZGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBhbHQgTGFiZWxzIGljb24gZm9yIGFjY2Vzc2liaWxpdHkuIElmIGFuIGVtcHR5IHN0cmluZyBpcyBwcm92aWRlZCwgaWNvblxuICogd2lsbCBiZSBoaWRkZW4gZnJvbSBhY2Nlc3NpYmlsaXR5IGxheWVyIHdpdGggYGFyaWEtaGlkZGVuPVwidHJ1ZVwiYC4gSWYgdGhlcmUncyBubyBhbHQgb24gdGhlIGljb25cbiAqIG5vciBhIGxhYmVsIG9uIHRoZSBwYXJlbnQgZWxlbWVudCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtaWNvbiBtZC1mb250LWljb249XCJhbmRyb2lkXCIgICAgICAgICAgYWx0PVwiYW5kcm9pZCBcIiA+PC9tZC1pY29uPlxuICogIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiYWN0aW9uOmFuZHJvaWRcIiAgICBhbHQ9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKiAgPG1kLWljb24gbWQtc3ZnLXNyYz1cIi9hbmRyb2lkLnN2Z1wiICAgICAgIGFsdD1cImFuZHJvaWQgXCIgPjwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbiBtZC1zdmctc3JjPVwie3sgZ2V0QW5kcm9pZCgpIH19XCIgYWx0PVwiYW5kcm9pZCBcIiA+PC9tZC1pY29uPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBtZEljb25EaXJlY3RpdmUoJG1kSWNvbiwgJG1kQXJpYSwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHNjb3BlOiB7XG4gICAgICBmb250SWNvbjogJ0BtZEZvbnRJY29uJyxcbiAgICAgIHN2Z0ljb246ICdAbWRTdmdJY29uJyxcbiAgICAgIHN2Z1NyYzogJ0BtZFN2Z1NyYydcbiAgICB9LFxuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoZWxlbWVudCwgYXR0cikge1xuICAgIHJldHVybiBhdHRyLm1kRm9udEljb24gPyAnPHNwYW4gY2xhc3M9XCJtZC1mb250XCIgbmctY2xhc3M9XCJmb250SWNvblwiPjwvc3Bhbj4nIDogJyc7XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0aXZlIHBvc3RMaW5rXG4gICAqIFN1cHBvcnRzIGVtYmVkZGVkIFNWR3MsIGZvbnQtaWNvbnMsICYgZXh0ZXJuYWwgU1ZHc1xuICAgKi9cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICB2YXIgYXJpYUxhYmVsID0gYXR0ci5hbHQgfHwgc2NvcGUuZm9udEljb24gfHwgc2NvcGUuc3ZnSWNvbjtcbiAgICB2YXIgYXR0ck5hbWUgPSBhdHRyLiRub3JtYWxpemUoYXR0ci4kYXR0ci5tZFN2Z0ljb24gfHwgYXR0ci4kYXR0ci5tZFN2Z1NyYyB8fCAnJyk7XG5cbiAgICBpZiAoYXR0ci5hbHQgIT0gJycgJiYgIXBhcmVudHNIYXZlVGV4dCgpKSB7XG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcsIGFyaWFMYWJlbCk7XG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAncm9sZScsICdpbWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSGlkZSBmcm9tIHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyLlxuICAgICAgJG1kQXJpYS5leHBlY3QoZWxlbWVudCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgIC8vIFVzZSBlaXRoZXIgcHJlLWNvbmZpZ3VyZWQgU1ZHIG9yIFVSTCBzb3VyY2UsIHJlc3BlY3RpdmVseS5cbiAgICAgIGF0dHIuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKGF0dHJWYWwpIHtcblxuICAgICAgICBlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgIGlmIChhdHRyVmFsKSB7XG4gICAgICAgICAgJG1kSWNvbihhdHRyVmFsKS50aGVuKGZ1bmN0aW9uKHN2Zykge1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoc3ZnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyZW50c0hhdmVUZXh0KCkge1xuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgICBpZiAocGFyZW50LmF0dHIoJ2FyaWEtbGFiZWwnKSB8fCBwYXJlbnQudGV4dCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZihwYXJlbnQucGFyZW50KCkuYXR0cignYXJpYS1sYWJlbCcpIHx8IHBhcmVudC5wYXJlbnQoKS50ZXh0KCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5tZEljb25EaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZEljb25cIiwgXCIkbWRBcmlhXCIsIFwiJGxvZ1wiXTtcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kSWNvblByb3ZpZGVyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBgJG1kSWNvblByb3ZpZGVyYCBpcyB1c2VkIG9ubHkgdG8gcmVnaXN0ZXIgaWNvbiBJRHMgd2l0aCBVUkxzLiBUaGVzZSBjb25maWd1cmF0aW9uIGZlYXR1cmVzIGFsbG93XG4gICAqIGljb25zIGFuZCBpY29uIHNldHMgdG8gYmUgcHJlLXJlZ2lzdGVyZWQgYW5kIGFzc29jaWF0ZWQgd2l0aCBzb3VyY2UgVVJMcyAqKmJlZm9yZSoqIHRoZSBgPG1kLWljb24gLz5gXG4gICAqIGRpcmVjdGl2ZXMgYXJlIGNvbXBpbGVkLlxuICAgKlxuICAgKiBXaGVuIGFuIFNWRyBpcyByZXF1ZXN0ZWQgYnkgbmFtZS9JRCwgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHNlYXJjaGVzIGl0cyByZWdpc3RyeSBmb3IgdGhlIGFzc29jaWF0ZWQgc291cmNlXG4gICAqIFVSTDsgdGhhdCBVUkwgaXMgdXNlZCB0byBvbi1kZW1hbmQgbG9hZCBhbmQgcGFyc2UgdGhlIFNWRyBkeW5hbWljYWxseS5cbiAgICpcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqIGFuZ3VsYXJcbiAgICogICAubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAgICogICAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgKlxuICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICpcbiAgICogICAgICRtZEljb25Qcm92aWRlclxuICAgKiAgICAgICAgICAuZGVmYXVsdEljb25TZXQoJ215L2FwcC9pY29ucy5zdmcnKSAgICAgICAvLyBSZWdpc3RlciBhIGRlZmF1bHQgc2V0IG9mIFNWRyBpY29uc1xuICAgKiAgICAgICAgICAuaWNvblNldCgnc29jaWFsJywgJ215L2FwcC9zb2NpYWwuc3ZnJykgICAvLyBSZWdpc3RlciBhIG5hbWVkIGljb24gc2V0IG9mIFNWR3NcbiAgICogICAgICAgICAgLmljb24oJ2FuZHJvaWQnLCAnbXkvYXBwL2FuZHJvaWQuc3ZnJykgICAgLy8gUmVnaXN0ZXIgYSBzcGVjaWZpYyBpY29uIChieSBuYW1lKVxuICAgKiAgICAgICAgICAuaWNvbignd29yazpjaGFpcicsICdteS9hcHAvY2hhaXIuc3ZnJyk7ICAvLyBSZWdpc3RlciBpY29uIGluIGEgc3BlY2lmaWMgc2V0XG4gICAqICAgfSk7XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogU1ZHIGljb25zIGFuZCBpY29uIHNldHMgY2FuIGJlIGVhc2lseSBwcmUtbG9hZGVkIGFuZCBjYWNoZWQgdXNpbmcgZWl0aGVyIChhKSBhIGJ1aWxkIHByb2Nlc3Mgb3IgKGIpIGEgcnVudGltZVxuICAgKiAqKnN0YXJ0dXAqKiBwcm9jZXNzIChzaG93biBiZWxvdyk6XG4gICAqXG4gICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgKlxuICAgKiBhbmd1bGFyXG4gICAqICAgLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pXG4gICAqICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICpcbiAgICogICAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBzZXQgb2YgU1ZHIGljb24gZGVmaW5pdGlvbnNcbiAgICogICAgICRtZEljb25Qcm92aWRlci5kZWZhdWx0SWNvblNldCgnbXkvYXBwL2ljb25zLnN2ZycpXG4gICAqXG4gICAqICAgfSlcbiAgICogICAucnVuKGZ1bmN0aW9uKCRodHRwLCAkdGVtcGxhdGVDYWNoZSl7XG4gICAqXG4gICAqICAgICAvLyBQcmUtZmV0Y2ggaWNvbnMgc291cmNlcyBieSBVUkwgYW5kIGNhY2hlIGluIHRoZSAkdGVtcGxhdGVDYWNoZS4uLlxuICAgKiAgICAgLy8gc3Vic2VxdWVudCAkaHR0cCBjYWxscyB3aWxsIGxvb2sgdGhlcmUgZmlyc3QuXG4gICAqXG4gICAqICAgICB2YXIgdXJscyA9IFsgJ2lteS9hcHAvaWNvbnMuc3ZnJywgJ2ltZy9pY29ucy9hbmRyb2lkLnN2ZyddO1xuICAgKlxuICAgKiAgICAgYW5ndWxhci5mb3JFYWNoKHVybHMsIGZ1bmN0aW9uKHVybCkge1xuICAgKiAgICAgICAkaHR0cC5nZXQodXJsLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSk7XG4gICAqICAgICB9KTtcbiAgICpcbiAgICogICB9KTtcbiAgICpcbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBOT1RFOiB0aGUgbG9hZGVkIFNWRyBkYXRhIGlzIHN1YnNlcXVlbnRseSBjYWNoZWQgaW50ZXJuYWxseSBmb3IgZnV0dXJlIHJlcXVlc3RzLlxuICAgKlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhIHNwZWNpZmljIGljb24gbmFtZTsgbmFtZSBtYXkgaW5jbHVkZSBvcHRpb25hbCAnaWNvbiBzZXQnIG5hbWUgcHJlZml4LlxuICAgKiBUaGVzZSBpY29ucyBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlIHVzaW5nIGAkbWRJY29uKCA8aWNvbiBuYW1lPiApYFxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogYW5ndWxhclxuICAgKiAgIC5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICAgKiAgIC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAqXG4gICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgKlxuICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAqICAgICAgICAgIC5pY29uKCdhbmRyb2lkJywgJ215L2FwcC9hbmRyb2lkLnN2ZycpICAgIC8vIFJlZ2lzdGVyIGEgc3BlY2lmaWMgaWNvbiAoYnkgbmFtZSlcbiAgICogICAgICAgICAgLmljb24oJ3dvcms6Y2hhaXInLCAnbXkvYXBwL2NoYWlyLnN2ZycpOyAgLy8gUmVnaXN0ZXIgaWNvbiBpbiBhIHNwZWNpZmljIHNldFxuICAgKiAgIH0pO1xuICAgKiA8L2hsanM+XG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWRJY29uUHJvdmlkZXJgIHJlZmVyZW5jZSB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBBUEk6XG4gICAqXG4gICAqL1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblNldFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhICduYW1lZCcgc2V0IG9mIGljb25zLiBJbmRpdmlkdWFsIGljb25zXG4gICAqIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGlzIGNhY2hlZCBzZXQgdXNpbmcgYCRtZEljb24oIDxpY29uIHNldCBuYW1lPjo8aWNvbiBuYW1lPiApYFxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICogYW5ndWxhclxuICAgKiAgIC5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKVxuICAgKiAgIC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAqXG4gICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgKlxuICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAqICAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnbXkvYXBwL3NvY2lhbC5zdmcnKSAgIC8vIFJlZ2lzdGVyIGEgbmFtZWQgaWNvbiBzZXRcbiAgICogICB9KTtcbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2Ugd2l0aCB0aGUgY2hhaW5hYmxlIGNvbmZpZ3VyYXRpb24gQVBJOlxuICAgKlxuICAgKi9cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJG1kSWNvblByb3ZpZGVyI2RlZmF1bHRJY29uU2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIHNvdXJjZSBVUkwgZm9yIHRoZSBkZWZhdWx0ICduYW1lZCcgc2V0IG9mIGljb25zLiBVbmxlc3MgZXhwbGljaXRseSByZWdpc3RlcmVkXG4gICAqIHN1YnNlcXVlbnQgbG9va3VwcyBvZiBpY29ucyB3aWxsIGZhbGwgYmFjayB0byBzZWFyY2ggdGhpcyAnZGVmYXVsdCcgaWNvbiBzZXQuXG4gICAqIEljb24gY2FuIGJlIHJldHJpZXZlZCBmcm9tIHRoaXMgY2FjaGVkLCBkZWZhdWx0IHNldCB1c2luZyBgJG1kSWNvbiggPGljb24gbmFtZT4gKWBcbiAgICpcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqIGFuZ3VsYXJcbiAgICogICAubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAgICogICAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgKlxuICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICpcbiAgICogICAgICRtZEljb25Qcm92aWRlclxuICAgKiAgICAgICAgICAuZGVmYXVsdEljb25TZXQoJ3NvY2lhbCcsICdteS9hcHAvc29jaWFsLnN2ZycpICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IGljb24gc2V0XG4gICAqICAgfSk7XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIEFQSTpcbiAgICpcbiAgICovXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRtZEljb25Qcm92aWRlciNkZWZhdWx0SWNvblNpemVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFdoaWxlIGA8bWQtaWNvbiAvPmAgbWFya3VwIGNhbiBhbHNvIGJlIHN0eWxlIHdpdGggc2l6aW5nIENTUywgdGhpcyBtZXRob2QgY29uZmlndXJlc1xuICAgKiB0aGUgZGVmYXVsdCBpY29uIHNpemUgdXNlZCBmb3IgYWxsIGljb25zOyB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBzcGVjaWZpYyBDU1MuXG4gICAqIE5PVEU6IHRoZSBkZWZhdWx0IHNpemluZyBpcyAoMjRweCwgMjRweCkuXG4gICAqXG4gICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgKiBhbmd1bGFyXG4gICAqICAgLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pXG4gICAqICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICpcbiAgICogICAgIC8vIENvbmZpZ3VyZSBVUkxzIGZvciBpY29ucyBzcGVjaWZpZWQgYnkgW3NldDpdaWQuXG4gICAqXG4gICAqICAgICAkbWRJY29uUHJvdmlkZXJcbiAgICogICAgICAgICAgLmRlZmF1bHRJY29uU2l6ZSgzNikgICAvLyBSZWdpc3RlciBhIGRlZmF1bHQgaWNvbiBzaXplICh3aWR0aCA9PSBoZWlnaHQpXG4gICAqICAgfSk7XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIEFQSTpcbiAgICpcbiAgICovXG5cbnZhciBjb25maWcgPSB7XG4gIGRlZmF1bHRJY29uU2l6ZTogMjRcbn07XG5cbmZ1bmN0aW9uIE1kSWNvblByb3ZpZGVyKCkgeyB9XG5cbk1kSWNvblByb3ZpZGVyLnByb3RvdHlwZSA9IHtcbiAgaWNvbiA6IGZ1bmN0aW9uIGljb24oaWQsIHVybCwgaWNvblNpemUpIHtcbiAgICBpZiAoIGlkLmluZGV4T2YoJzonKSA9PSAtMSApIGlkID0gJyRkZWZhdWx0OicgKyBpZDtcblxuICAgIGNvbmZpZ1tpZF0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCBpY29uU2l6ZSApO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGljb25TZXQgOiBmdW5jdGlvbiBpY29uU2V0KGlkLCB1cmwsIGljb25TaXplKSB7XG4gICAgY29uZmlnW2lkXSA9IG5ldyBDb25maWd1cmF0aW9uSXRlbSh1cmwsIGljb25TaXplICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGVmYXVsdEljb25TZXQgOiBmdW5jdGlvbiBkZWZhdWx0SWNvblNldCh1cmwsIGljb25TaXplKSB7XG4gICAgdmFyIHNldE5hbWUgPSAnJGRlZmF1bHQnO1xuXG4gICAgaWYgKCAhY29uZmlnW3NldE5hbWVdICkge1xuICAgICAgY29uZmlnW3NldE5hbWVdID0gbmV3IENvbmZpZ3VyYXRpb25JdGVtKHVybCwgaWNvblNpemUgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZGVmYXVsdEljb25TaXplIDogZnVuY3Rpb24gZGVmYXVsdEljb25TaXplKGljb25TaXplKSB7XG4gICAgY29uZmlnLmRlZmF1bHRJY29uU2l6ZSA9IGljb25TaXplO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICRnZXQgOiBbJyRodHRwJywgJyRxJywgJyRsb2cnLCAnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkaHR0cCwgJHEsICRsb2csICR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgcmV0dXJuIG5ldyBNZEljb25TZXJ2aWNlKGNvbmZpZywgJGh0dHAsICRxLCAkbG9nLCAkdGVtcGxhdGVDYWNoZSk7XG4gIH1dXG59O1xuXG4gIC8qKlxuICAgKiAgQ29uZmlndXJhdGlvbiBpdGVtIHN0b3JlZCBpbiB0aGUgSWNvbiByZWdpc3RyeTsgdXNlZCBmb3IgbG9va3Vwc1xuICAgKiAgdG8gbG9hZCBpZiBub3QgYWxyZWFkeSBjYWNoZWQgaW4gdGhlIGBsb2FkZWRgIGNhY2hlXG4gICAqL1xuICBmdW5jdGlvbiBDb25maWd1cmF0aW9uSXRlbSh1cmwsIGljb25TaXplKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5pY29uU2l6ZSA9IGljb25TaXplIHx8IGNvbmZpZy5kZWZhdWx0SWNvblNpemU7XG4gIH1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kSWNvblxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkbWRJY29uYCBpcyBhIHNlcnZpY2UgdXNlZCB0byBsb29rdXAgU1ZHIGljb25zIGNvbmZpZ3VyZWQgdmlhIGAkbWRJY29uUHJvdmlkZXJgIHVzaW5nXG4gKiAgYW5kIElEIG9yIHVzZXMgYSBVUkwgdXNlZCB0byBsb2FkIGFuZCBjYWNoZSBhIGN1cnJlbnRseSBleHRlcm5hbCBTVkcgKHRoYXQgaXMgbm90IGN1cnJlbnRseSBjYWNoZWQpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBJRCBvciBVUkwgdmFsdWVcbiAqIEByZXR1cm5zIHtvYmp9IENsb25lIG9mIHRoZSBTVkcgRE9NIGVsZW1lbnRcbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogZnVuY3Rpb24gU29tZURpcmVjdGl2ZSgkbWRJY29uKSB7XG4gKlxuICogICAvLyBTZWUgaWYgdGhlIGljb24gaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQsIGlmIG5vdFxuICogICAvLyB0aGVuIGxvb2t1cCB0aGUgaWNvbiBmcm9tIHRoZSByZWdpc3RyeSBjYWNoZSwgbG9hZCBhbmQgY2FjaGVcbiAqICAgLy8gaXQgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAqXG4gKiAgICRtZEljb24oJ2FuZHJvaWQnKS50aGVuKGZ1bmN0aW9uKGljb24pIHsgZWxlbWVudC5hcHBlbmQoaWNvbik7IH0pO1xuICogICAkbWRJY29uKCd3b3JrOmNoYWlyJykudGhlbihmdW5jdGlvbihpY29uKSB7IGVsZW1lbnQuYXBwZW5kKGljb24pOyB9KTtcbiAqXG4gKiAgIC8vIExvYWQgYW5kIGNhY2hlIHRoZSBleHRlcm5hbCBTVkcgdXNpbmcgYSBVUkxcbiAqXG4gKiAgICRtZEljb24oJ2ltZy9pY29ucy9hbmRyb2lkLnN2ZycpLnRoZW4oZnVuY3Rpb24oaWNvbikge1xuICogICAgIGVsZW1lbnQuYXBwZW5kKGljb24pO1xuICogICB9KTtcbiAqIH07XG4gKiA8L2hsanM+XG4gKlxuICogTk9URTogVGhlIGBtZC1pY29uYCBkaXJlY3RpdmUgaW50ZXJuYWxseSB1c2VzIHRoZSBgJG1kSWNvbmAgc2VydmljZSB0byBxdWVyeSwgbG9hZGVkLCBhbmQgaW5zdGFudGlhdGVcbiAqIFNWRyBET00gZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIE1kSWNvblNlcnZpY2UoY29uZmlnLCAkaHR0cCwgJHEsICRsb2csICR0ZW1wbGF0ZUNhY2hlKSB7XG4gIHZhciBpY29uQ2FjaGUgPSB7fTtcbiAgdmFyIHVybFJlZ2V4ID0gL1stYS16QS1aMC05QDolX1xcKy5+Iz8mLy89XXsyLDI1Nn1cXC5bYS16XXsyLDR9XFxiKFxcL1stYS16QS1aMC05QDolX1xcKy5+Iz8mLy89XSopPy9pO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRJY29uKGlkKSB7XG4gICAgaWQgPSBpZCB8fCAnJztcblxuICAgIC8vIElmIGFscmVhZHkgbG9hZGVkIGFuZCBjYWNoZWQsIHVzZSBhIGNsb25lIG9mIHRoZSBjYWNoZWQgaWNvbi5cbiAgICAvLyBPdGhlcndpc2UgZWl0aGVyIGxvYWQgYnkgVVJMLCBvciBsb29rdXAgaW4gdGhlIHJlZ2lzdHJ5IGFuZCB0aGVuIGxvYWQgYnkgVVJMLCBhbmQgY2FjaGUuXG5cbiAgICBpZiAoIGljb25DYWNoZVtpZF0gICAgICAgICApIHJldHVybiAkcS53aGVuKCBpY29uQ2FjaGVbaWRdLmNsb25lKCkgKTtcbiAgICBpZiAoIHVybFJlZ2V4LnRlc3QoaWQpICAgICApIHJldHVybiBsb2FkQnlVUkwoaWQpLnRoZW4oIGNhY2hlSWNvbihpZCkgKTtcbiAgICBpZiAoIGlkLmluZGV4T2YoJzonKSA9PSAtMSApIGlkID0gJyRkZWZhdWx0OicgKyBpZDtcblxuICAgIHJldHVybiBsb2FkQnlJRChpZClcbiAgICAgICAgLmNhdGNoKGxvYWRGcm9tSWNvblNldClcbiAgICAgICAgLmNhdGNoKGFubm91bmNlTm90Rm91bmQpXG4gICAgICAgIC50aGVuKCBjYWNoZUljb24oaWQpICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByZXBhcmUgYW5kIGNhY2hlIHRoZSBsb2FkZWQgaWNvbiBmb3IgdGhlIHNwZWNpZmllZCBgaWRgXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUljb24oIGlkICkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZUNhY2hlKCBpY29uICkge1xuICAgICAgdmFyIGljb25Db25maWcgPSBjb25maWdbaWRdO1xuXG4gICAgICBpY29uID0gIWlzSWNvbihpY29uKSA/IG5ldyBJY29uKGljb24sIGljb25Db25maWcpIDogaWNvbjtcbiAgICAgIGljb24gPSBwcmVwYXJlQW5kU3R5bGUoaWNvbik7XG5cbiAgICAgIGljb25DYWNoZVtpZF0gPSBpY29uO1xuXG4gICAgICByZXR1cm4gaWNvbi5jbG9uZSgpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTG9va3VwIHRoZSBjb25maWd1cmF0aW9uIGluIHRoZSByZWdpc3RyeSwgaWYgIXJlZ2lzdGVyZWQgdGhyb3cgYW4gZXJyb3JcbiAgICogb3RoZXJ3aXNlIGxvYWQgdGhlIGljb24gW29uLWRlbWFuZF0gdXNpbmcgdGhlIHJlZ2lzdGVyZWQgVVJMLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEJ5SUQoaWQpIHtcbiAgICB2YXIgaWNvbkNvbmZpZyA9IGNvbmZpZ1tpZF07XG5cbiAgICByZXR1cm4gIWljb25Db25maWcgPyAkcS5yZWplY3QoaWQpIDogbG9hZEJ5VVJMKGljb25Db25maWcudXJsKS50aGVuKGZ1bmN0aW9uKGljb24pIHtcbiAgICAgIHJldHVybiBuZXcgSWNvbihpY29uLCBpY29uQ29uZmlnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZyb21JY29uU2V0KGlkKSB7XG4gICAgdmFyIHNldE5hbWUgPSBpZC5zdWJzdHJpbmcoMCwgaWQubGFzdEluZGV4T2YoJzonKSkgfHwgJyRkZWZhdWx0JztcbiAgICB2YXIgaWNvblNldENvbmZpZyA9IGNvbmZpZ1tzZXROYW1lXTtcblxuICAgIHJldHVybiAhaWNvblNldENvbmZpZyA/ICRxLnJlamVjdChpZCkgOiBsb2FkQnlVUkwoaWNvblNldENvbmZpZy51cmwpLnRoZW4oZXh0cmFjdEZyb21TZXQpO1xuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEZyb21TZXQoc2V0KSB7XG4gICAgICB2YXIgaWNvbk5hbWUgPSBpZC5zbGljZShpZC5sYXN0SW5kZXhPZignOicpICsgMSk7XG4gICAgICB2YXIgaWNvbiA9IHNldC5xdWVyeVNlbGVjdG9yKCcjJyArIGljb25OYW1lKTtcbiAgICAgIHJldHVybiAhaWNvbiA/ICRxLnJlamVjdChpZCkgOiBuZXcgSWNvbihpY29uLCBpY29uU2V0Q29uZmlnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogIFByZXBhcmUgdGhlIERPTSBlbGVtZW50IHRoYXQgd2lsbCBiZSBjYWNoZWQgaW4gdGhlXG4gICAqICBsb2FkZWQgaWNvbkNhY2hlIHN0b3JlLlxuICAgKi9cbiAgZnVuY3Rpb24gcHJlcGFyZUFuZFN0eWxlKGljb24pIHtcbiAgICB2YXIgaWNvblNpemUgPSBpY29uLmNvbmZpZyA/IGljb24uY29uZmlnLmljb25TaXplIDogY29uZmlnLmRlZmF1bHRJY29uU2l6ZTtcbiAgICB2YXIgc3ZnID0gYW5ndWxhci5lbGVtZW50KGljb24uZWxlbWVudCk7XG5cbiAgICByZXR1cm4gc3ZnLmF0dHIoe1xuICAgICAgJ2ZpdCcgICA6ICcnLFxuICAgICAgJ2hlaWdodCc6ICcxMDAlJyxcbiAgICAgICd3aWR0aCcgOiAnMTAwJScsXG4gICAgICAncHJlc2VydmVBc3BlY3RSYXRpbyc6ICd4TWlkWU1pZCBtZWV0JyxcbiAgICAgICd2aWV3Qm94JyA6IHN2Zy5hdHRyKCd2aWV3Qm94JykgfHwgKCcwIDAgJyArIGljb25TaXplICsgJyAnICsgaWNvblNpemUpXG4gICAgfSlcbiAgICAuY3NzKCB7XG4gICAgICAncG9pbnRlci1ldmVudHMnIDogJ25vbmUnLFxuICAgICAgJ2Rpc3BsYXknIDogJ2Jsb2NrJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGljb24gYnkgVVJMIChtYXkgdXNlIHRoZSAkdGVtcGxhdGVDYWNoZSkuXG4gICAqIEV4dHJhY3QgdGhlIGRhdGEgZm9yIGxhdGVyIGNvbnZlcnNpb24gdG8gSWNvblxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEJ5VVJMKHVybCkge1xuICAgIHJldHVybiAkaHR0cFxuICAgICAgLmdldCh1cmwsIHsgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICB2YXIgZWxzID0gYW5ndWxhci5lbGVtZW50KHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAvLyBJdGVyYXRlIHRvIGZpbmQgZmlyc3Qgc3ZnIG5vZGUsIGFsbG93aW5nIGZvciBjb21tZW50cyBpbiBsb2FkZWQgU1ZHIChjb21tb24gd2l0aCBhdXRvLWdlbmVyYXRlZCBTVkdzKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGlmIChlbHNbaV0ubm9kZU5hbWUgPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHJldHVybiBlbHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VyIGRpZCBub3Qgc3BlY2lmeSBhIFVSTCBhbmQgdGhlIElEIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIHdpdGggdGhlICRtZEljb25cbiAgICogcmVnaXN0cnlcbiAgICovXG4gIGZ1bmN0aW9uIGFubm91bmNlTm90Rm91bmQoaWQpIHtcbiAgICB2YXIgbXNnID0gJ2ljb24gJyArIGlkICsgJyBub3QgZm91bmQnO1xuICAgICRsb2cud2Fybihtc2cpO1xuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2hlY2sgdGFyZ2V0IHNpZ25hdHVyZSB0byBzZWUgaWYgaXQgaXMgYW4gSWNvbiBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIGlzSWNvbih0YXJnZXQpIHtcbiAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0LmVsZW1lbnQpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHRhcmdldC5jb25maWcpO1xuICB9XG5cblxuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEljb24oZWwsIGNvbmZpZykge1xuICAgIGlmIChlbC50YWdOYW1lICE9ICdzdmcnKSB7XG4gICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+JykuYXBwZW5kKGVsKVswXTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgICogQ2xvbmUgdGhlIEljb24gRE9NIGVsZW1lbnQ7IHdoaWNoIGlzIHN0b3JlZCBhcyBhbiBhbmd1bGFyLmVsZW1lbnQoKVxuICAgICovXG4gIEljb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCl7XG4gICByZXR1cm4gdGhpcy5lbGVtZW50LmNsb25lTm9kZSh0cnVlKVswXTtcbiAgfTtcbn1cblxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZElucHV0Q29udGFpbmVyJywgbWRJbnB1dENvbnRhaW5lckRpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbGFiZWwnLCBsYWJlbERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnaW5wdXQnLCBpbnB1dFRleHRhcmVhRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCd0ZXh0YXJlYScsIGlucHV0VGV4dGFyZWFEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kTWF4bGVuZ3RoJywgbWRNYXhsZW5ndGhEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ3BsYWNlaG9sZGVyJywgcGxhY2Vob2xkZXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kSW5wdXRDb250YWluZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgPG1kLWlucHV0LWNvbnRhaW5lcj5gIGlzIHRoZSBwYXJlbnQgb2YgYW55IGlucHV0IG9yIHRleHRhcmVhIGVsZW1lbnQuXG4gKlxuICogSW5wdXQgYW5kIHRleHRhcmVhIGVsZW1lbnRzIHdpbGwgbm90IGJlaGF2ZSBwcm9wZXJseSB1bmxlc3MgdGhlIG1kLWlucHV0LWNvbnRhaW5lclxuICogcGFyZW50IGlzIHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSBtZC1pcy1lcnJvciB7ZXhwcmVzc2lvbj19IFdoZW4gdGhlIGdpdmVuIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUsIHRoZSBpbnB1dCBjb250YWluZXIgd2lsbCBnbyBpbnRvIGVycm9yIHN0YXRlLiBEZWZhdWx0cyB0byBlcnJvcmluZyBpZiB0aGUgaW5wdXQgaGFzIGJlZW4gdG91Y2hlZCBhbmQgaXMgaW52YWxpZC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPlVzZXJuYW1lPC9sYWJlbD5cbiAqICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIj5cbiAqIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICpcbiAqIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgIDxsYWJlbD5EZXNjcmlwdGlvbjwvbGFiZWw+XG4gKiAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXIuZGVzY3JpcHRpb25cIj48L3RleHRhcmVhPlxuICogPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBtZElucHV0Q29udGFpbmVyRGlyZWN0aXZlKCRtZFRoZW1pbmcsICRwYXJzZSkge1xuICBDb250YWluZXJDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRhdHRyc1wiXTtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6IHBvc3RMaW5rLFxuICAgIGNvbnRyb2xsZXI6IENvbnRhaW5lckN0cmxcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gIH1cbiAgZnVuY3Rpb24gQ29udGFpbmVyQ3RybCgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmlzRXJyb3JHZXR0ZXIgPSAkYXR0cnMubWRJc0Vycm9yICYmICRwYXJzZSgkYXR0cnMubWRJc0Vycm9yKTtcblxuICAgIHNlbGYuZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHNlbGYuc2V0Rm9jdXNlZCA9IGZ1bmN0aW9uKGlzRm9jdXNlZCkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWZvY3VzZWQnLCAhIWlzRm9jdXNlZCk7XG4gICAgfTtcbiAgICBzZWxmLnNldEhhc1ZhbHVlID0gZnVuY3Rpb24oaGFzVmFsdWUpIHtcbiAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1pbnB1dC1oYXMtdmFsdWUnLCAhIWhhc1ZhbHVlKTtcbiAgICB9O1xuICAgIHNlbGYuc2V0SW52YWxpZCA9IGZ1bmN0aW9uKGlzSW52YWxpZCkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWludmFsaWQnLCAhIWlzSW52YWxpZCk7XG4gICAgfTtcbiAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYubGFiZWwgJiYgc2VsZi5pbnB1dDtcbiAgICB9LCBmdW5jdGlvbihoYXNMYWJlbEFuZElucHV0KSB7XG4gICAgICBpZiAoaGFzTGFiZWxBbmRJbnB1dCAmJiAhc2VsZi5sYWJlbC5hdHRyKCdmb3InKSkge1xuICAgICAgICBzZWxmLmxhYmVsLmF0dHIoJ2ZvcicsIHNlbGYuaW5wdXQuYXR0cignaWQnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbm1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkcGFyc2VcIl07XG5cbmZ1bmN0aW9uIGxhYmVsRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ14/bWRJbnB1dENvbnRhaW5lcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRhaW5lckN0cmwpIHtcbiAgICAgIGlmICghY29udGFpbmVyQ3RybCB8fCBhdHRyLm1kTm9GbG9hdCkgcmV0dXJuO1xuXG4gICAgICBjb250YWluZXJDdHJsLmxhYmVsID0gZWxlbWVudDtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGFpbmVyQ3RybC5sYWJlbCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRJbnB1dFxuICogQHJlc3RyaWN0IEVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgPGlucHV0PmAgYXMgYSBjaGlsZCBvZiBhbiBgPG1kLWlucHV0LWNvbnRhaW5lcj5gLlxuICpcbiAqIEJlaGF2ZXMgbGlrZSB0aGUgW0FuZ3VsYXJKUyBpbnB1dCBkaXJlY3RpdmVdKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy9kaXJlY3RpdmUvaW5wdXQpLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgIDxsYWJlbD5Db2xvcjwvbGFiZWw+XG4gKiAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29sb3JcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCIxMFwiPlxuICogPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiA8L2hsanM+XG4gKiA8aDM+V2l0aCBFcnJvcnMgKHVzZXMgW25nTWVzc2FnZXNdKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZ01lc3NhZ2VzKSk8L2gzPlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICogICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgIDxsYWJlbD5MYXN0IE5hbWU8L2xhYmVsPlxuICogICAgIDxpbnB1dCBuYW1lPVwibGFzdE5hbWVcIiBuZy1tb2RlbD1cImxhc3ROYW1lXCIgcmVxdWlyZWQgbWQtbWF4bGVuZ3RoPVwiMTBcIiBtaW5sZW5ndGg9XCI0XCI+XG4gKiAgICAgPGRpdiBuZy1tZXNzYWdlcz1cInVzZXJGb3JtLmxhc3ROYW1lLiRlcnJvclwiIG5nLXNob3c9XCJ1c2VyRm9ybS5iaW8uJGRpcnR5XCI+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJyZXF1aXJlZFwiPlRoaXMgaXMgcmVxdWlyZWQhPC9kaXY+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJtZC1tYXhsZW5ndGhcIj5UaGF0J3MgdG9vIGxvbmchPC9kaXY+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJtaW5sZW5ndGhcIj5UaGF0J3MgdG9vIHNob3J0ITwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqIDwvZm9ybT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLW1heGxlbmd0aCBUaGUgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyBhbGxvd2VkIGluIHRoaXMgaW5wdXQuIElmIHRoaXMgaXMgc3BlY2lmaWVkLCBhIGNoYXJhY3RlciBjb3VudGVyIHdpbGwgYmUgc2hvd24gdW5kZXJuZWF0aCB0aGUgaW5wdXQuXG4gKi9cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUZXh0YXJlYVxuICogQHJlc3RyaWN0IEVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgPHRleHRhcmVhPmAgYXMgYSBjaGlsZCBvZiBhbiBgPG1kLWlucHV0LWNvbnRhaW5lcj5gXG4gKlxuICogQmVoYXZlcyBsaWtlIHRoZSBbQW5ndWxhckpTIGlucHV0IGRpcmVjdGl2ZV0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nL2RpcmVjdGl2ZS90ZXh0YXJlYSkuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAqICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiZGVzY3JpcHRpb25cIiByZXF1aXJlZCBtaW5sZW5ndGg9XCIxNVwiIG1kLW1heGxlbmd0aD1cIjIwXCI+PC90ZXh0YXJlYT5cbiAqIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9obGpzPlxuICogPGgzPldpdGggRXJyb3JzICh1c2VzIFtuZ01lc3NhZ2VzXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmdNZXNzYWdlcykpPC9oMz5cbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAqICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8bGFiZWw+QmlvZ3JhcGh5PC9sYWJlbD5cbiAqICAgICA8dGV4dGFyZWEgbmFtZT1cImJpb1wiIG5nLW1vZGVsPVwiYmlvZ3JhcGh5XCIgcmVxdWlyZWQgbWQtbWF4bGVuZ3RoPVwiMTUwXCI+PC90ZXh0YXJlYT5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwidXNlckZvcm0uYmlvLiRlcnJvclwiIG5nLXNob3c9XCJ1c2VyRm9ybS5iaW8uJGRpcnR5XCI+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJyZXF1aXJlZFwiPlRoaXMgaXMgcmVxdWlyZWQhPC9kaXY+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJtZC1tYXhsZW5ndGhcIj5UaGF0J3MgdG9vIGxvbmchPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9mb3JtPlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtbWF4bGVuZ3RoIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGFsbG93ZWQgaW4gdGhpcyBpbnB1dC4gSWYgdGhpcyBpcyBzcGVjaWZpZWQsIGEgY2hhcmFjdGVyIGNvdW50ZXIgd2lsbCBiZSBzaG93biB1bmRlcm5lYXRoIHRoZSBpbnB1dC5cbiAqL1xuZnVuY3Rpb24gaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSgkbWRVdGlsLCAkd2luZG93LCAkY29tcGlsZSwgJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnXj9tZElucHV0Q29udGFpbmVyJywgJz9uZ01vZGVsJ10sXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgIHZhciBjb250YWluZXJDdHJsID0gY3RybHNbMF07XG4gICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV0gfHwgJG1kVXRpbC5mYWtlTmdNb2RlbCgpO1xuICAgIHZhciBpc1JlYWRvbmx5ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0ci5yZWFkb25seSk7XG5cbiAgICBpZiAoICFjb250YWluZXJDdHJsICkgcmV0dXJuO1xuICAgIGlmIChjb250YWluZXJDdHJsLmlucHV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8bWQtaW5wdXQtY29udGFpbmVyPiBjYW4gb25seSBoYXZlICpvbmUqIDxpbnB1dD4gb3IgPHRleHRhcmVhPiBjaGlsZCBlbGVtZW50IVwiKTtcbiAgICB9XG4gICAgY29udGFpbmVyQ3RybC5pbnB1dCA9IGVsZW1lbnQ7XG5cbiAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1pbnB1dCcpO1xuICAgIGlmICghZWxlbWVudC5hdHRyKCdpZCcpKSB7XG4gICAgICBlbGVtZW50LmF0dHIoJ2lkJywgJ2lucHV0XycgKyAkbWRVdGlsLm5leHRVaWQoKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnKSB7XG4gICAgICBzZXR1cFRleHRhcmVhKCk7XG4gICAgfVxuXG4gICAgdmFyIGlzRXJyb3JHZXR0ZXIgPSBjb250YWluZXJDdHJsLmlzRXJyb3JHZXR0ZXIgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJGludmFsaWQgJiYgbmdNb2RlbEN0cmwuJHRvdWNoZWQ7XG4gICAgfTtcbiAgICBzY29wZS4kd2F0Y2goaXNFcnJvckdldHRlciwgY29udGFpbmVyQ3RybC5zZXRJbnZhbGlkKTtcblxuICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2gobmdNb2RlbFBpcGVsaW5lQ2hlY2tWYWx1ZSk7XG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKTtcblxuICAgIGVsZW1lbnQub24oJ2lucHV0JywgaW5wdXRDaGVja1ZhbHVlKTtcblxuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgZWxlbWVudFxuICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgY29udGFpbmVyQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICBpbnB1dENoZWNrVmFsdWUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgICBpZiggbmdNb2RlbEN0cmwuJGludmFsaWQgKSBjb250YWluZXJDdHJsLnNldEludmFsaWQoKTtcbiAgICB9XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQoZmFsc2UpO1xuICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZShmYWxzZSk7XG4gICAgICBjb250YWluZXJDdHJsLmlucHV0ID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmdNb2RlbFBpcGVsaW5lQ2hlY2tWYWx1ZShhcmcpIHtcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0SGFzVmFsdWUoIW5nTW9kZWxDdHJsLiRpc0VtcHR5KGFyZykpO1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5wdXRDaGVja1ZhbHVlKCkge1xuICAgICAgLy8gQW4gaW5wdXQncyB2YWx1ZSBjb3VudHMgaWYgaXRzIGxlbmd0aCA+IDAsXG4gICAgICAvLyBvciBpZiB0aGUgaW5wdXQncyB2YWxpZGl0eSBzdGF0ZSBzYXlzIGl0IGhhcyBiYWQgaW5wdXQgKGVnIHN0cmluZyBpbiBhIG51bWJlciBpbnB1dClcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0SGFzVmFsdWUoZWxlbWVudC52YWwoKS5sZW5ndGggPiAwIHx8IChlbGVtZW50WzBdLnZhbGlkaXR5fHx7fSkuYmFkSW5wdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwVGV4dGFyZWEoKSB7XG4gICAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF07XG4gICAgICB2YXIgb25DaGFuZ2VUZXh0YXJlYSA9ICRtZFV0aWwuZGVib3VuY2UoZ3Jvd1RleHRhcmVhLCAxKTtcblxuICAgICAgZnVuY3Rpb24gcGlwZWxpbmVMaXN0ZW5lcih2YWx1ZSkge1xuICAgICAgICBvbkNoYW5nZVRleHRhcmVhKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5nTW9kZWxDdHJsKSB7XG4gICAgICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2gocGlwZWxpbmVMaXN0ZW5lcik7XG4gICAgICAgIG5nTW9kZWxDdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2gocGlwZWxpbmVMaXN0ZW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkNoYW5nZVRleHRhcmVhKCk7XG4gICAgICB9XG4gICAgICBlbGVtZW50Lm9uKCdrZXlkb3duIGlucHV0Jywgb25DaGFuZ2VUZXh0YXJlYSk7XG4gICAgICBlbGVtZW50Lm9uKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIG9uQ2hhbmdlVGV4dGFyZWEpO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZScsIG9uQ2hhbmdlVGV4dGFyZWEpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdyb3dUZXh0YXJlYSgpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgdmFyIGxpbmUgPSBub2RlLnNjcm9sbEhlaWdodCAtIG5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBub2RlLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBub2RlLm9mZnNldEhlaWdodCArIChsaW5lID4gMCA/IGxpbmUgOiAwKTtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG4gICAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgLy8gZm9yIHNtb290aCBuZXcgbGluZSBhZGRpbmdcbiAgICAgICAgdmFyIGxpbmUgPSBub2RlLnNjcm9sbEhlaWdodCAtIG5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbm9kZS5vZmZzZXRIZWlnaHQgKyBsaW5lO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5pbnB1dFRleHRhcmVhRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRVdGlsXCIsIFwiJHdpbmRvd1wiLCBcIiRjb21waWxlXCIsIFwiJGFuaW1hdGVcIl07XG5cbmZ1bmN0aW9uIG1kTWF4bGVuZ3RoRGlyZWN0aXZlKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXm1kSW5wdXRDb250YWluZXInXSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgIHZhciBtYXhsZW5ndGg7XG4gICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgdmFyIGNvbnRhaW5lckN0cmwgPSBjdHJsc1sxXTtcbiAgICB2YXIgY2hhckNvdW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC1jaGFyLWNvdW50ZXJcIj4nKTtcblxuICAgIC8vIFN0b3AgbW9kZWwgZnJvbSB0cmltbWluZy4gVGhpcyBtYWtlcyBpdCBzbyB3aGl0ZXNwYWNlXG4gICAgLy8gb3ZlciB0aGUgbWF4bGVuZ3RoIHN0aWxsIGNvdW50cyBhcyBpbnZhbGlkLlxuICAgIGF0dHIuJHNldCgnbmdUcmltJywgJ2ZhbHNlJyk7XG4gICAgY29udGFpbmVyQ3RybC5lbGVtZW50LmFwcGVuZChjaGFyQ291bnRFbCk7XG5cbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKHJlbmRlckNoYXJDb3VudCk7XG4gICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChyZW5kZXJDaGFyQ291bnQpO1xuICAgIGVsZW1lbnQub24oJ2lucHV0IGtleWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgIHJlbmRlckNoYXJDb3VudCgpOyAvL21ha2Ugc3VyZSBpdCdzIGNhbGxlZCB3aXRoIG5vIGFyZ3NcbiAgICB9KTtcblxuICAgIHNjb3BlLiR3YXRjaChhdHRyLm1kTWF4bGVuZ3RoLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWF4bGVuZ3RoID0gdmFsdWU7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPiAwKSB7XG4gICAgICAgIGlmICghY2hhckNvdW50RWwucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2hhckNvdW50RWwsIGNvbnRhaW5lckN0cmwuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY29udGFpbmVyQ3RybC5lbGVtZW50WzBdLmxhc3RFbGVtZW50Q2hpbGQpKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJDaGFyQ291bnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhbmltYXRlLmxlYXZlKGNoYXJDb3VudEVsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzWydtZC1tYXhsZW5ndGgnXSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKG1heGxlbmd0aCkgfHwgbWF4bGVuZ3RoIDwgMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoIG1vZGVsVmFsdWUgfHwgZWxlbWVudC52YWwoKSB8fCB2aWV3VmFsdWUgfHwgJycgKS5sZW5ndGggPD0gbWF4bGVuZ3RoO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZW5kZXJDaGFyQ291bnQodmFsdWUpIHtcbiAgICAgIGNoYXJDb3VudEVsLnRleHQoICggZWxlbWVudC52YWwoKSB8fCB2YWx1ZSB8fCAnJyApLmxlbmd0aCArICcvJyArIG1heGxlbmd0aCApO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxubWRNYXhsZW5ndGhEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRhbmltYXRlXCJdO1xuXG5mdW5jdGlvbiBwbGFjZWhvbGRlckRpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdeXj9tZElucHV0Q29udGFpbmVyJyxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBpbnB1dENvbnRhaW5lcikge1xuICAgIGlmICghaW5wdXRDb250YWluZXIpIHJldHVybjtcblxuICAgIHZhciBwbGFjZWhvbGRlclRleHQgPSBhdHRyLnBsYWNlaG9sZGVyO1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cigncGxhY2Vob2xkZXInKTtcblxuICAgIGlucHV0Q29udGFpbmVyLmVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwibWQtcGxhY2Vob2xkZXJcIj4nICsgcGxhY2Vob2xkZXJUZXh0ICsgJzwvZGl2PicpO1xuICB9XG59XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIExpc3QgbW9kdWxlXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmxpc3QnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRMaXN0JywgbWRMaXN0RGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZEl0ZW0nLCBtZEl0ZW1EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kTGlzdFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmxpc3RcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtbGlzdD5gIGRpcmVjdGl2ZSBpcyBhIGxpc3QgY29udGFpbmVyIGZvciAxLi5uIGA8bWQtaXRlbT5gIHRhZ3MuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWxpc3Q+XG4gKiAgIDxtZC1pdGVtIG5nLXJlcGVhdD1cIml0ZW0gaW4gdG9kb3NcIj5cbiAqICAgICA8bWQtaXRlbS1jb250ZW50PlxuICogICAgICAgPGRpdiBjbGFzcz1cIm1kLXRpbGUtbGVmdFwiPlxuICogICAgICAgICA8aW1nIG5nLXNyYz1cInt7aXRlbS5mYWNlfX1cIiBjbGFzcz1cImZhY2VcIiBhbHQ9XCJ7e2l0ZW0ud2hvfX1cIj5cbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgPGRpdiBjbGFzcz1cIm1kLXRpbGUtY29udGVudFwiPlxuICogICAgICAgICA8aDM+e3tpdGVtLndoYXR9fTwvaDM+XG4gKiAgICAgICAgIDxoND57e2l0ZW0ud2hvfX08L2g0PlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgICB7e2l0ZW0ubm90ZXN9fVxuICogICAgICAgICA8L3A+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICA8L21kLWl0ZW0tY29udGVudD5cbiAqICAgPC9tZC1pdGVtPlxuICogPC9tZC1saXN0PlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gbWRMaXN0RGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIpIHtcbiAgICAgICRlbGVtZW50LmF0dHIoe1xuICAgICAgICAncm9sZScgOiAnbGlzdCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEl0ZW1cbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWl0ZW0+YCBkaXJlY3RpdmUgaXMgYSBjb250YWluZXIgaW50ZW5kZWQgZm9yIHJvdyBpdGVtcyBpbiBhIGA8bWQtbGlzdD5gIGNvbnRhaW5lci5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLWxpc3Q+XG4gKiAgICA8bWQtaXRlbT5cbiAqICAgICAgICAgICAgSXRlbSBjb250ZW50IGluIGxpc3RcbiAqICAgIDwvbWQtaXRlbT5cbiAqICA8L21kLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZEl0ZW1EaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cikge1xuICAgICAgJGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdyb2xlJyA6ICdsaXN0aXRlbSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0NpcmN1bGFyXG4gKiBAZGVzY3JpcHRpb24gQ2lyY3VsYXIgUHJvZ3Jlc3MgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0NpcmN1bGFyJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kUHJvZ3Jlc3NDaXJjdWxhcicsIE1kUHJvZ3Jlc3NDaXJjdWxhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRQcm9ncmVzc0NpcmN1bGFyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhclxuICogQHJlc3RyaWN0IEVcbiAqXG4qIEBkZXNjcmlwdGlvblxuICogVGhlIGNpcmN1bGFyIHByb2dyZXNzIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIG1ha2UgbG9hZGluZyBjb250ZW50IGluIHlvdXIgYXBwIGFzIGRlbGlnaHRmdWwgYW5kIHBhaW5sZXNzIGFzIHBvc3NpYmxlIGJ5IG1pbmltaXppbmcgdGhlIGFtb3VudCBvZiB2aXN1YWwgY2hhbmdlIGEgdXNlciBzZWVzIGJlZm9yZSB0aGV5IGNhbiB2aWV3IGFuZCBpbnRlcmFjdCB3aXRoIGNvbnRlbnQuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgY2FuIGJlIGRldGVybWluZWQsIHVzZSBhIGRldGVybWluYXRlIGluZGljYXRvci4gVGhleSBnaXZlIHVzZXJzIGEgcXVpY2sgc2Vuc2Ugb2YgaG93IGxvbmcgYW4gb3BlcmF0aW9uIHdpbGwgdGFrZS5cbiAqXG4gKiBGb3Igb3BlcmF0aW9ucyB3aGVyZSB0aGUgdXNlciBpcyBhc2tlZCB0byB3YWl0IGEgbW9tZW50IHdoaWxlIHNvbWV0aGluZyBmaW5pc2hlcyB1cCwgYW5kIGl04oCZcyBub3QgbmVjZXNzYXJ5IHRvIGV4cG9zZSB3aGF0J3MgaGFwcGVuaW5nIGJlaGluZCB0aGUgc2NlbmVzIGFuZCBob3cgbG9uZyBpdCB3aWxsIHRha2UsIHVzZSBhbiBpbmRldGVybWluYXRlIGluZGljYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtbW9kZSBTZWxlY3QgZnJvbSBvbmUgb2YgdHdvIG1vZGVzOiBkZXRlcm1pbmF0ZSBhbmQgaW5kZXRlcm1pbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gdmFsdWUgSW4gZGV0ZXJtaW5hdGUgbW9kZSwgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgY2lyY3VsYXIgcHJvZ3Jlc3MuIERlZmF1bHQ6IDBcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtZGlhbWV0ZXIgVGhpcyBzcGVjaWZpZXMgdGhlIGRpYW10ZXIgb2YgdGhlIGNpcmN1bGFyIHByb2dyZXNzLiBEZWZhdWx0OiA0OFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiB2YWx1ZT1cIi4uLlwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIG5nLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgdmFsdWU9XCIuLi5cIiBtZC1kaWFtZXRlcj1cIjEwMFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlKCQkckFGLCAkbWRDb25zdGFudCwgJG1kVGhlbWluZykge1xuICB2YXIgZmlsbFJvdGF0aW9ucyA9IG5ldyBBcnJheSgxMDEpLFxuICAgIGZpeFJvdGF0aW9ucyA9IG5ldyBBcnJheSgxMDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTAxOyBpKyspIHtcbiAgICB2YXIgcGVyY2VudCA9IGkgLyAxMDA7XG4gICAgdmFyIHJvdGF0aW9uID0gTWF0aC5mbG9vcihwZXJjZW50ICogMTgwKTtcblxuICAgIGZpbGxSb3RhdGlvbnNbaV0gPSAncm90YXRlKCcgKyByb3RhdGlvbi50b1N0cmluZygpICsgJ2RlZyknO1xuICAgIGZpeFJvdGF0aW9uc1tpXSA9ICdyb3RhdGUoJyArIChyb3RhdGlvbiAqIDIpLnRvU3RyaW5nKCkgKyAnZGVnKSc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGU6XG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtc3Bpbm5lci13cmFwcGVyXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1pbm5lclwiPicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1nYXBcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtbGVmdFwiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWhhbGYtY2lyY2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXJpZ2h0XCI+JyArXG4gICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaGFsZi1jaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAgICB0RWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWluJywgMCk7XG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1heCcsIDEwMCk7XG4gICAgdEVsZW1lbnQuYXR0cigncm9sZScsICdwcm9ncmVzc2JhcicpO1xuXG4gICAgcmV0dXJuIHBvc3RMaW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIHZhciBjaXJjbGUgPSBlbGVtZW50WzBdLFxuICAgICAgZmlsbCA9IGNpcmNsZS5xdWVyeVNlbGVjdG9yQWxsKCcubWQtZmlsbCwgLm1kLW1hc2subWQtZnVsbCcpLFxuICAgICAgZml4ID0gY2lyY2xlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1maWxsLm1kLWZpeCcpLFxuICAgICAgaSwgY2xhbXBlZCwgZmlsbFJvdGF0aW9uLCBmaXhSb3RhdGlvbjtcblxuICAgIHZhciBkaWFtZXRlciA9IGF0dHIubWREaWFtZXRlciB8fCA0ODtcbiAgICB2YXIgc2NhbGUgPSBkaWFtZXRlci80ODtcblxuICAgIGNpcmNsZS5zdHlsZVskbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNXSA9ICdzY2FsZSgnICsgc2NhbGUudG9TdHJpbmcoKSArICcpJztcblxuICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGNsYW1wZWQgPSBjbGFtcCh2YWx1ZSk7XG4gICAgICBmaWxsUm90YXRpb24gPSBmaWxsUm90YXRpb25zW2NsYW1wZWRdO1xuICAgICAgZml4Um90YXRpb24gPSBmaXhSb3RhdGlvbnNbY2xhbXBlZF07XG5cbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW5vdycsIGNsYW1wZWQpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmaWxsW2ldLnN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gZmlsbFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZml4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpeFtpXS5zdHlsZVskbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNXSA9IGZpeFJvdGF0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xhbXAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPiAxMDApIHtcbiAgICAgIHJldHVybiAxMDA7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSB8fCAwKTtcbiAgfVxufVxuTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzTGluZWFyXG4gKiBAZGVzY3JpcHRpb24gTGluZWFyIFByb2dyZXNzIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXInLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRQcm9ncmVzc0xpbmVhcicsIE1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kUHJvZ3Jlc3NMaW5lYXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0xpbmVhclxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBsaW5lYXIgcHJvZ3Jlc3MgZGlyZWN0aXZlIGlzIHVzZWQgdG8gbWFrZSBsb2FkaW5nIGNvbnRlbnQgaW4geW91ciBhcHAgYXMgZGVsaWdodGZ1bCBhbmQgcGFpbmxlc3MgYXMgcG9zc2libGUgYnkgbWluaW1pemluZyB0aGUgYW1vdW50IG9mIHZpc3VhbCBjaGFuZ2UgYSB1c2VyIHNlZXMgYmVmb3JlIHRoZXkgY2FuIHZpZXcgYW5kIGludGVyYWN0IHdpdGggY29udGVudC4gRWFjaCBvcGVyYXRpb24gc2hvdWxkIG9ubHkgYmUgcmVwcmVzZW50ZWQgYnkgb25lIGFjdGl2aXR5IGluZGljYXRvcuKAlGZvciBleGFtcGxlLCBvbmUgcmVmcmVzaCBvcGVyYXRpb24gc2hvdWxkIG5vdCBkaXNwbGF5IGJvdGggYSByZWZyZXNoIGJhciBhbmQgYW4gYWN0aXZpdHkgY2lyY2xlLlxuICpcbiAqIEZvciBvcGVyYXRpb25zIHdoZXJlIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBvcGVyYXRpb24gY29tcGxldGVkIGNhbiBiZSBkZXRlcm1pbmVkLCB1c2UgYSBkZXRlcm1pbmF0ZSBpbmRpY2F0b3IuIFRoZXkgZ2l2ZSB1c2VycyBhIHF1aWNrIHNlbnNlIG9mIGhvdyBsb25nIGFuIG9wZXJhdGlvbiB3aWxsIHRha2UuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHVzZXIgaXMgYXNrZWQgdG8gd2FpdCBhIG1vbWVudCB3aGlsZSBzb21ldGhpbmcgZmluaXNoZXMgdXAsIGFuZCBpdOKAmXMgbm90IG5lY2Vzc2FyeSB0byBleHBvc2Ugd2hhdCdzIGhhcHBlbmluZyBiZWhpbmQgdGhlIHNjZW5lcyBhbmQgaG93IGxvbmcgaXQgd2lsbCB0YWtlLCB1c2UgYW4gaW5kZXRlcm1pbmF0ZSBpbmRpY2F0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1kLW1vZGUgU2VsZWN0IGZyb20gb25lIG9mIGZvdXIgbW9kZXM6IGRldGVybWluYXRlLCBpbmRldGVybWluYXRlLCBidWZmZXIgb3IgcXVlcnkuXG4gKiBAcGFyYW0ge251bWJlcj19IHZhbHVlIEluIGRldGVybWluYXRlIGFuZCBidWZmZXIgbW9kZXMsIHRoaXMgbnVtYmVyIHJlcHJlc2VudHMgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHByaW1hcnkgcHJvZ3Jlc3MgYmFyLiBEZWZhdWx0OiAwXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWJ1ZmZlci12YWx1ZSBJbiB0aGUgYnVmZmVyIG1vZGUsIHRoaXMgbnVtYmVyIHJlcHJlc2VudHMgdGhlIHByZWNlbnRhZ2Ugb2YgdGhlIHNlY29uZGFyeSBwcm9ncmVzcyBiYXIuIERlZmF1bHQ6IDBcbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIHZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiBuZy12YWx1ZT1cIi4uLlwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJidWZmZXJcIiB2YWx1ZT1cIi4uLlwiIG1kLWJ1ZmZlci12YWx1ZT1cIi4uLlwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cInF1ZXJ5XCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIE1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUoJCRyQUYsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nKSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1kLWNvbnRhaW5lclwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1kYXNoZWRcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtYmFyIG1kLWJhcjFcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtYmFyIG1kLWJhcjJcIj48L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xuICAgIHRFbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtaW4nLCAwKTtcbiAgICB0RWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWF4JywgMTAwKTtcbiAgICB0RWxlbWVudC5hdHRyKCdyb2xlJywgJ3Byb2dyZXNzYmFyJyk7XG5cbiAgICByZXR1cm4gcG9zdExpbms7XG4gIH1cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIHZhciBiYXIxU3R5bGUgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1iYXIxJykuc3R5bGUsXG4gICAgICBiYXIyU3R5bGUgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1iYXIyJykuc3R5bGUsXG4gICAgICBjb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtY29udGFpbmVyJykpO1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGF0dHIubWRNb2RlID09ICdxdWVyeScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhbXBlZCA9IGNsYW1wKHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW5vdycsIGNsYW1wZWQpO1xuICAgICAgYmFyMlN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gdHJhbnNmb3Jtc1tjbGFtcGVkXTtcbiAgICB9KTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21kQnVmZmVyVmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgYmFyMVN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gdHJhbnNmb3Jtc1tjbGFtcCh2YWx1ZSldO1xuICAgIH0pO1xuXG4gICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICBjb250YWluZXIuYWRkQ2xhc3MoJ21kLXJlYWR5Jyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA+IDEwMCkge1xuICAgICAgcmV0dXJuIDEwMDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5jZWlsKHZhbHVlIHx8IDApO1xuICB9XG59XG5NZFByb2dyZXNzTGluZWFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiXTtcblxuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBQcml2YXRlIE1ldGhvZHNcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbnZhciB0cmFuc2Zvcm1zID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KDEwMSk7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCAxMDE7IGkrKyl7XG4gICAgdmFsdWVzW2ldID0gbWFrZVRyYW5zZm9ybShpKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gbWFrZVRyYW5zZm9ybSh2YWx1ZSl7XG4gICAgdmFyIHNjYWxlID0gdmFsdWUvMTAwO1xuICAgIHZhciB0cmFuc2xhdGVYID0gKHZhbHVlLTEwMCkvMjtcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZVgoJyArIHRyYW5zbGF0ZVgudG9TdHJpbmcoKSArICclKSBzY2FsZSgnICsgc2NhbGUudG9TdHJpbmcoKSArICcsIDEpJztcbiAgfVxufSkoKTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b25cbiAqIEBkZXNjcmlwdGlvbiByYWRpb0J1dHRvbiBtb2R1bGUhXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kUmFkaW9Hcm91cCcsIG1kUmFkaW9Hcm91cERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRSYWRpb0J1dHRvbicsIG1kUmFkaW9CdXR0b25EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblxuICogQG5hbWUgbWRSYWRpb0dyb3VwXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLXJhZGlvLWdyb3VwPmAgZGlyZWN0aXZlIGlkZW50aWZpZXMgYSBncm91cGluZ1xuICogY29udGFpbmVyIGZvciB0aGUgMS4ubiBncm91cGVkIHJhZGlvIGJ1dHRvbnM7IHNwZWNpZmllZCB1c2luZyBuZXN0ZWRcbiAqIGA8bWQtcmFkaW8tYnV0dG9uPmAgdGFncy5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgcmFkaW8gYnV0dG9uIGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIE5vdGU6IGA8bWQtcmFkaW8tZ3JvdXA+YCBhbmQgYDxtZC1yYWRpby1idXR0b24+YCBoYW5kbGUgdGFiaW5kZXggZGlmZmVyZW50bHlcbiAqIHRoYW4gdGhlIG5hdGl2ZSBgPGlucHV0IHR5cGU9J3JhZGlvJz5gIGNvbnRyb2xzLiBXaGVyZWFzIHRoZSBuYXRpdmUgY29udHJvbHNcbiAqIGZvcmNlIHRoZSB1c2VyIHRvIHRhYiB0aHJvdWdoIGFsbCB0aGUgcmFkaW8gYnV0dG9ucywgYDxtZC1yYWRpby1ncm91cD5gXG4gKiBpcyBmb2N1c2FibGUsIGFuZCBieSBkZWZhdWx0IHRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gcyBhcmUgbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZy1tb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgVXNlIG9mIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgZmxhZyB0byBkaXNhYmxlIGluayByaXBwbGUgZWZmZWN0cy5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtcmFkaW8tZ3JvdXAgbmctbW9kZWw9XCJzZWxlY3RlZFwiPlxuICpcbiAqICAgPG1kLXJhZGlvLWJ1dHRvblxuICogICAgICAgIG5nLXJlcGVhdD1cImQgaW4gY29sb3JPcHRpb25zXCJcbiAqICAgICAgICBuZy12YWx1ZT1cImQudmFsdWVcIiBhcmlhLWxhYmVsPVwie3sgZC5sYWJlbCB9fVwiPlxuICpcbiAqICAgICAgICAgIHt7IGQubGFiZWwgfX1cbiAqXG4gKiAgIDwvbWQtcmFkaW8tYnV0dG9uPlxuICpcbiAqIDwvbWQtcmFkaW8tZ3JvdXA+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZFJhZGlvR3JvdXBEaXJlY3RpdmUoJG1kVXRpbCwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcpIHtcbiAgUmFkaW9Hcm91cENvbnRyb2xsZXIucHJvdG90eXBlID0gY3JlYXRlUmFkaW9Hcm91cENvbnRyb2xsZXJQcm90bygpO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb250cm9sbGVyOiBbJyRlbGVtZW50JywgUmFkaW9Hcm91cENvbnRyb2xsZXJdLFxuICAgIHJlcXVpcmU6IFsnbWRSYWRpb0dyb3VwJywgJz9uZ01vZGVsJ10sXG4gICAgbGluazogeyBwcmU6IGxpbmtSYWRpb0dyb3VwIH1cbiAgfTtcblxuICBmdW5jdGlvbiBsaW5rUmFkaW9Hcm91cChzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIHZhciByZ0N0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXSB8fCAkbWRVdGlsLmZha2VOZ01vZGVsKCk7XG5cbiAgICBmdW5jdGlvbiBrZXlkb3duTGlzdGVuZXIoZXYpIHtcbiAgICAgIHN3aXRjaChldi5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVzpcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5VUF9BUlJPVzpcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJnQ3RybC5zZWxlY3RQcmV2aW91cygpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1c6XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVzpcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJnQ3RybC5zZWxlY3ROZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUjpcbiAgICAgICAgICB2YXIgZm9ybSA9IGFuZ3VsYXIuZWxlbWVudCgkbWRVdGlsLmdldENsb3Nlc3QoZWxlbWVudFswXSwgJ2Zvcm0nKSk7XG4gICAgICAgICAgaWYgKGZvcm0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9ybS50cmlnZ2VySGFuZGxlcignc3VibWl0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJnQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcblxuICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgICAgICdyb2xlJzogJ3JhZGlvZ3JvdXAnLFxuICAgICAgICAgICAgICAndGFiSW5kZXgnOiBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JykgfHwgJzAnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gUmFkaW9Hcm91cENvbnRyb2xsZXIoJGVsZW1lbnQpIHtcbiAgICB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucyA9IFtdO1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJhZGlvR3JvdXBDb250cm9sbGVyUHJvdG8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKG5nTW9kZWxDdHJsKSB7XG4gICAgICAgIHRoaXMuX25nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmw7XG4gICAgICAgIHRoaXMuX25nTW9kZWxDdHJsLiRyZW5kZXIgPSBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5yZW5kZXIpO1xuICAgICAgfSxcbiAgICAgIGFkZDogZnVuY3Rpb24ocmJSZW5kZXIpIHtcbiAgICAgICAgdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMucHVzaChyYlJlbmRlcik7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbihyYlJlbmRlcikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucy5pbmRleE9mKHJiUmVuZGVyKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucy5mb3JFYWNoKGZ1bmN0aW9uKHJiUmVuZGVyKSB7XG4gICAgICAgICAgcmJSZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2V0Vmlld1ZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgZXZlbnRUeXBlKSB7XG4gICAgICAgIHRoaXMuX25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsIGV2ZW50VHlwZSk7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgb3RoZXIgcmFkaW8gYnV0dG9ucyBhcyB3ZWxsXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9LFxuICAgICAgZ2V0Vmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2VsZWN0TmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VTZWxlY3RlZEJ1dHRvbih0aGlzLiRlbGVtZW50LCAxKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RQcmV2aW91czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VTZWxlY3RlZEJ1dHRvbih0aGlzLiRlbGVtZW50LCAtMSk7XG4gICAgICB9LFxuICAgICAgc2V0QWN0aXZlRGVzY2VuZGFudDogZnVuY3Rpb24gKHJhZGlvSWQpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCByYWRpb0lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIHJhZGlvIGdyb3VwJ3Mgc2VsZWN0ZWQgYnV0dG9uIGJ5IGEgZ2l2ZW4gaW5jcmVtZW50LlxuICAgKiBJZiBubyBidXR0b24gaXMgc2VsZWN0ZWQsIHNlbGVjdCB0aGUgZmlyc3QgYnV0dG9uLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlU2VsZWN0ZWRCdXR0b24ocGFyZW50LCBpbmNyZW1lbnQpIHtcbiAgICAvLyBDb2VyY2UgYWxsIGNoaWxkIHJhZGlvIGJ1dHRvbnMgaW50byBhbiBhcnJheSwgdGhlbiB3cmFwIHRoZW4gaW4gYW4gaXRlcmF0b3JcbiAgICB2YXIgYnV0dG9ucyA9ICRtZFV0aWwuaXRlcmF0b3IocGFyZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ21kLXJhZGlvLWJ1dHRvbicpLCB0cnVlKTtcblxuICAgIGlmIChidXR0b25zLmNvdW50KCkpIHtcbiAgICAgIHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgLy8gSWYgZGlzYWJsZWQsIHRoZW4gTk9UIHZhbGlkXG4gICAgICAgIHJldHVybiAhYW5ndWxhci5lbGVtZW50KGJ1dHRvbikuYXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgfTtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHBhcmVudFswXS5xdWVyeVNlbGVjdG9yKCdtZC1yYWRpby1idXR0b24ubWQtY2hlY2tlZCcpO1xuICAgICAgdmFyIHRhcmdldCA9IGJ1dHRvbnNbaW5jcmVtZW50IDwgMCA/ICdwcmV2aW91cycgOiAnbmV4dCddKHNlbGVjdGVkLCB2YWxpZGF0ZSkgfHwgYnV0dG9ucy5maXJzdCgpO1xuICAgICAgLy8gQWN0aXZhdGUgcmFkaW9CdXR0b24ncyBjbGljayBsaXN0ZW5lciAodHJpZ2dlckhhbmRsZXIgd29uJ3QgY3JlYXRlIGEgcmVhbCBjbGljayBldmVudClcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCh0YXJnZXQpLnRyaWdnZXJIYW5kbGVyKCdjbGljaycpO1xuXG5cbiAgICB9XG4gIH1cblxufVxubWRSYWRpb0dyb3VwRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblxuICogQG5hbWUgbWRSYWRpb0J1dHRvblxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1yYWRpby1idXR0b24+YGRpcmVjdGl2ZSBpcyB0aGUgY2hpbGQgZGlyZWN0aXZlIHJlcXVpcmVkIHRvIGJlIHVzZWQgd2l0aGluIGA8bWQtcmFkaW8tZ3JvdXA+YCBlbGVtZW50cy5cbiAqXG4gKiBXaGlsZSBzaW1pbGFyIHRvIHRoZSBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiXCIgdmFsdWU9XCJcIj5gIGRpcmVjdGl2ZSxcbiAqIHRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gIGRpcmVjdGl2ZSBwcm92aWRlcyBpbmsgZWZmZWN0cywgQVJJQSBzdXBwb3J0LCBhbmRcbiAqIHN1cHBvcnRzIHVzZSB3aXRoaW4gbmFtZWQgcmFkaW8gZ3JvdXBzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzZXRzIHRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGRcbiAqICAgIGJlIHNldCB3aGVuIHNlbGVjdGVkLipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhTGFiZWwgQWRkcyBsYWJlbCB0byByYWRpbyBidXR0b24gZm9yIGFjY2Vzc2liaWxpdHkuXG4gKiBEZWZhdWx0cyB0byByYWRpbyBidXR0b24ncyB0ZXh0LiBJZiBubyB0ZXh0IGNvbnRlbnQgaXMgYXZhaWxhYmxlLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICpcbiAqIDxtZC1yYWRpby1idXR0b24gdmFsdWU9XCIxXCIgYXJpYS1sYWJlbD1cIkxhYmVsIDFcIj5cbiAqICAgTGFiZWwgMVxuICogPC9tZC1yYWRpby1idXR0b24+XG4gKlxuICogPG1kLXJhZGlvLWJ1dHRvbiBuZy1tb2RlbD1cImNvbG9yXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIiBhcmlhLWxhYmVsPVwiR3JlZW5cIj5cbiAqICAgR3JlZW5cbiAqIDwvbWQtcmFkaW8tYnV0dG9uPlxuICpcbiAqIDwvaGxqcz5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1kUmFkaW9CdXR0b25EaXJlY3RpdmUoJG1kQXJpYSwgJG1kVXRpbCwgJG1kVGhlbWluZykge1xuXG4gIHZhciBDSEVDS0VEX0NTUyA9ICdtZC1jaGVja2VkJztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ15tZFJhZGlvR3JvdXAnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCIgbWQtaW5rLXJpcHBsZSBtZC1pbmstcmlwcGxlLWNoZWNrYm94PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtb2ZmXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1vblwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGUgY2xhc3M9XCJtZC1sYWJlbFwiPjwvZGl2PicsXG4gICAgbGluazogbGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIHJnQ3RybCkge1xuICAgIHZhciBsYXN0Q2hlY2tlZDtcblxuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgY29uZmlndXJlQXJpYShlbGVtZW50LCBzY29wZSk7XG5cbiAgICByZ0N0cmwuYWRkKHJlbmRlcik7XG4gICAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCByZW5kZXIpO1xuXG4gICAgZWxlbWVudFxuICAgICAgLm9uKCdjbGljaycsIGxpc3RlbmVyKVxuICAgICAgLm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZ0N0cmwucmVtb3ZlKHJlbmRlcik7XG4gICAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGV2KSB7XG4gICAgICBpZiAoZWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHJldHVybjtcblxuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICByZ0N0cmwuc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoZWNrZWQgPSAocmdDdHJsLmdldFZpZXdWYWx1ZSgpID09IGF0dHIudmFsdWUpO1xuICAgICAgaWYgKGNoZWNrZWQgPT09IGxhc3RDaGVja2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxhc3RDaGVja2VkID0gY2hlY2tlZDtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1jaGVja2VkJywgY2hlY2tlZCk7XG4gICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKENIRUNLRURfQ1NTKTtcbiAgICAgICAgcmdDdHJsLnNldEFjdGl2ZURlc2NlbmRhbnQoZWxlbWVudC5hdHRyKCdpZCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmplY3QgQVJJQS1zcGVjaWZpYyBhdHRyaWJ1dGVzIGFwcHJvcHJpYXRlIGZvciBlYWNoIHJhZGlvIGJ1dHRvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoIGVsZW1lbnQsIHNjb3BlICl7XG4gICAgICBzY29wZS5hcmlhSWQgPSBidWlsZEFyaWFJRCgpO1xuXG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAnaWQnIDogIHNjb3BlLmFyaWFJZCxcbiAgICAgICAgJ3JvbGUnIDogJ3JhZGlvJyxcbiAgICAgICAgJ2FyaWEtY2hlY2tlZCcgOiAnZmFsc2UnXG4gICAgICB9KTtcblxuICAgICAgJG1kQXJpYS5leHBlY3RXaXRoVGV4dChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEJ1aWxkIGEgdW5pcXVlIElEIGZvciBlYWNoIHJhZGlvIGJ1dHRvbiB0aGF0IHdpbGwgYmUgdXNlZCB3aXRoIGFyaWEtYWN0aXZlZGVzY2VuZGFudC5cbiAgICAgICAqIFByZXNlcnZlIGV4aXN0aW5nIElEIGlmIGFscmVhZHkgc3BlY2lmaWVkLlxuICAgICAgICogQHJldHVybnMgeyp8c3RyaW5nfVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBidWlsZEFyaWFJRCgpIHtcbiAgICAgICAgcmV0dXJuIGF0dHIuaWQgfHwgKCAncmFkaW8nICsgXCJfXCIgKyAkbWRVdGlsLm5leHRVaWQoKSApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxubWRSYWRpb0J1dHRvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQXJpYVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBTaWRlbmF2IFFQIGNvbXBvbmVudC5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZScsXG4gICAgJ21hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3AnXG4gIF0pXG4gIC5mYWN0b3J5KCckbWRTaWRlbmF2JywgU2lkZW5hdlNlcnZpY2UgKVxuICAuZGlyZWN0aXZlKCdtZFNpZGVuYXYnLCBTaWRlbmF2RGlyZWN0aXZlKVxuICAuY29udHJvbGxlcignJG1kU2lkZW5hdkNvbnRyb2xsZXInLCBTaWRlbmF2Q29udHJvbGxlcik7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFNpZGVuYXZcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kU2lkZW5hdmAgbWFrZXMgaXQgZWFzeSB0byBpbnRlcmFjdCB3aXRoIG11bHRpcGxlIHNpZGVuYXZzXG4gKiBpbiBhbiBhcHAuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIC8vIFRvZ2dsZSB0aGUgZ2l2ZW4gc2lkZW5hdlxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkudG9nZ2xlKCk7XG4gKiA8L2hsanM+XG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIC8vIE9wZW4gdGhlIGdpdmVuIHNpZGVuYXZcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLm9wZW4oKTtcbiAqIDwvaGxqcz5cbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogLy8gQ2xvc2UgdGhlIGdpdmVuIHNpZGVuYXZcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLmNsb3NlKCk7XG4gKiA8L2hsanM+XG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIC8vIEV4cG9zZXMgd2hldGhlciBnaXZlbiBzaWRlbmF2IGlzIHNldCB0byBiZSBvcGVuXG4gKiAkbWRTaWRlbmF2KGNvbXBvbmVudElkKS5pc09wZW4oKTtcbiAqIDwvaGxqcz5cbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogLy8gRXhwb3NlcyB3aGV0aGVyIGdpdmVuIHNpZGVuYXYgaXMgbG9ja2VkIG9wZW5cbiAqIC8vIElmIHRoaXMgaXMgdHJ1ZSwgdGhlIHNpZGVuYXYgd2lsbCBiZSBvcGVuIHJlZ2FyZGxlc3Mgb2YgaXNPcGVuKClcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLmlzTG9ja2VkT3BlbigpO1xuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBTaWRlbmF2U2VydmljZSgkbWRDb21wb25lbnRSZWdpc3RyeSwgJHEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIHZhciBlcnJvck1zZyA9IFwiU2lkZU5hdiAnXCIgKyBoYW5kbGUgKyBcIicgaXMgbm90IGF2YWlsYWJsZSFcIjtcblxuICAgIC8vIExvb2t1cCB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBmb3IgdGhlIHNwZWNpZmllZCBzaWROYXYgaW5zdGFuY2VcbiAgICB2YXIgaW5zdGFuY2UgPSAkbWRDb21wb25lbnRSZWdpc3RyeS5nZXQoaGFuZGxlKTtcbiAgICBpZighaW5zdGFuY2UpIHtcbiAgICAgICRtZENvbXBvbmVudFJlZ2lzdHJ5Lm5vdEZvdW5kRXJyb3IoaGFuZGxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNPcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmlzT3BlbigpO1xuICAgICAgfSxcbiAgICAgIGlzTG9ja2VkT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc0xvY2tlZE9wZW4oKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZS50b2dnbGUoKSA6ICRxLnJlamVjdChlcnJvck1zZyk7XG4gICAgICB9LFxuICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSA/IGluc3RhbmNlLm9wZW4oKSA6ICRxLnJlamVjdChlcnJvck1zZyk7XG4gICAgICB9LFxuICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZS5jbG9zZSgpIDogJHEucmVqZWN0KGVycm9yTXNnKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuU2lkZW5hdlNlcnZpY2UuJGluamVjdCA9IFtcIiRtZENvbXBvbmVudFJlZ2lzdHJ5XCIsIFwiJHFcIl07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTaWRlbmF2XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBBIFNpZGVuYXYgY29tcG9uZW50IHRoYXQgY2FuIGJlIG9wZW5lZCBhbmQgY2xvc2VkIHByb2dyYW1hdGljYWxseS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB1cG9uIG9wZW5pbmcgaXQgd2lsbCBzbGlkZSBvdXQgb24gdG9wIG9mIHRoZSBtYWluIGNvbnRlbnQgYXJlYS5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IGxheW91dD1cInJvd1wiIG5nLWNvbnRyb2xsZXI9XCJNeUNvbnRyb2xsZXJcIj5cbiAqICAgPG1kLXNpZGVuYXYgbWQtY29tcG9uZW50LWlkPVwibGVmdFwiIGNsYXNzPVwibWQtc2lkZW5hdi1sZWZ0XCI+XG4gKiAgICAgTGVmdCBOYXYhXG4gKiAgIDwvbWQtc2lkZW5hdj5cbiAqXG4gKiAgIDxtZC1jb250ZW50PlxuICogICAgIENlbnRlciBDb250ZW50XG4gKiAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIm9wZW5MZWZ0TWVudSgpXCI+XG4gKiAgICAgICBPcGVuIExlZnQgTWVudVxuICogICAgIDwvbWQtYnV0dG9uPlxuICogICA8L21kLWNvbnRlbnQ+XG4gKlxuICogICA8bWQtc2lkZW5hdiBtZC1jb21wb25lbnQtaWQ9XCJyaWdodFwiXG4gKiAgICAgbWQtaXMtbG9ja2VkLW9wZW49XCIkbWVkaWEoJ21pbi13aWR0aDogMzMzcHgnKVwiXG4gKiAgICAgY2xhc3M9XCJtZC1zaWRlbmF2LXJpZ2h0XCI+XG4gKiAgICAgUmlnaHQgTmF2IVxuICogICA8L21kLXNpZGVuYXY+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ25nTWF0ZXJpYWwnXSk7XG4gKiBhcHAuY29udHJvbGxlcignTXlDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbWRTaWRlbmF2KSB7XG4gKiAgICRzY29wZS5vcGVuTGVmdE1lbnUgPSBmdW5jdGlvbigpIHtcbiAqICAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1pcy1vcGVuIEEgbW9kZWwgYm91bmQgdG8gd2hldGhlciB0aGUgc2lkZW5hdiBpcyBvcGVuZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWNvbXBvbmVudC1pZCBjb21wb25lbnRJZCB0byB1c2Ugd2l0aCAkbWRTaWRlbmF2IHNlcnZpY2UuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1pcy1sb2NrZWQtb3BlbiBXaGVuIHRoaXMgZXhwcmVzc2lvbiBldmFsdXRlcyB0byB0cnVlLFxuICogdGhlIHNpZGVuYXYgJ2xvY2tzIG9wZW4nOiBpdCBmYWxscyBpbnRvIHRoZSBjb250ZW50J3MgZmxvdyBpbnN0ZWFkXG4gKiBvZiBhcHBlYXJpbmcgb3ZlciBpdC4gVGhpcyBvdmVycmlkZXMgdGhlIGBpcy1vcGVuYCBhdHRyaWJ1dGUuXG4gKlxuICogQSAkbWVkaWEoKSBmdW5jdGlvbiBpcyBleHBvc2VkIHRvIHRoZSBpcy1sb2NrZWQtb3BlbiBhdHRyaWJ1dGUsIHdoaWNoXG4gKiBjYW4gYmUgZ2l2ZW4gYSBtZWRpYSBxdWVyeSBvciBvbmUgb2YgdGhlIGBzbWAsIGBndC1zbWAsIGBtZGAsIGBndC1tZGAsIGBsZ2Agb3IgYGd0LWxnYCBwcmVzZXRzLlxuICogRXhhbXBsZXM6XG4gKlxuICogICAtIGA8bWQtc2lkZW5hdiBtZC1pcy1sb2NrZWQtb3Blbj1cInNob3VsZExvY2tPcGVuXCI+PC9tZC1zaWRlbmF2PmBcbiAqICAgLSBgPG1kLXNpZGVuYXYgbWQtaXMtbG9ja2VkLW9wZW49XCIkbWVkaWEoJ21pbi13aWR0aDogMTAwMHB4JylcIj48L21kLXNpZGVuYXY+YFxuICogICAtIGA8bWQtc2lkZW5hdiBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZWRpYSgnc20nKVwiPjwvbWQtc2lkZW5hdj5gIChsb2NrcyBvcGVuIG9uIHNtYWxsIHNjcmVlbnMpXG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZEaXJlY3RpdmUoJHRpbWVvdXQsICRhbmltYXRlLCAkcGFyc2UsICRtZE1lZGlhLCAkbWRDb25zdGFudCwgJGNvbXBpbGUsICRtZFRoZW1pbmcsICRxLCAkZG9jdW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9P21kSXNPcGVuJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJyRtZFNpZGVuYXZDb250cm9sbGVyJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jbG9zZWQnKTtcbiAgICAgIGVsZW1lbnQuYXR0cigndGFiSW5kZXgnLCAnLTEnKTtcbiAgICAgIHJldHVybiBwb3N0TGluaztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpcmVjdGl2ZSBQb3N0IExpbmsgZnVuY3Rpb24uLi5cbiAgICovXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBzaWRlbmF2Q3RybCkge1xuICAgIHZhciB0cmlnZ2VyaW5nRWxlbWVudCA9IG51bGw7XG4gICAgdmFyIHByb21pc2UgPSAkcS53aGVuKHRydWUpO1xuXG4gICAgdmFyIGlzTG9ja2VkT3BlblBhcnNlZCA9ICRwYXJzZShhdHRyLm1kSXNMb2NrZWRPcGVuKTtcbiAgICB2YXIgaXNMb2NrZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0xvY2tlZE9wZW5QYXJzZWQoc2NvcGUuJHBhcmVudCwge1xuICAgICAgICAkbWVkaWE6ICRtZE1lZGlhXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBiYWNrZHJvcCA9ICRjb21waWxlKFxuICAgICAgJzxtZC1iYWNrZHJvcCBjbGFzcz1cIm1kLXNpZGVuYXYtYmFja2Ryb3AgbWQtb3BhcXVlIG5nLWVudGVyXCI+J1xuICAgICkoc2NvcGUpO1xuXG4gICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBzaWRlbmF2Q3RybC5kZXN0cm95KTtcbiAgICAkbWRUaGVtaW5nLmluaGVyaXQoYmFja2Ryb3AsIGVsZW1lbnQpO1xuXG4gICAgc2NvcGUuJHdhdGNoKGlzTG9ja2VkLCB1cGRhdGVJc0xvY2tlZCk7XG4gICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCB1cGRhdGVJc09wZW4pO1xuXG5cbiAgICAvLyBQdWJsaXNoIHNwZWNpYWwgYWNjZXNzb3IgZm9yIHRoZSBDb250cm9sbGVyIGluc3RhbmNlXG4gICAgc2lkZW5hdkN0cmwuJHRvZ2dsZU9wZW4gPSB0b2dnbGVPcGVuO1xuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBET00gY2xhc3NlcyB0byBpbmRpY2F0ZSBgbG9ja2VkYFxuICAgICAqIEBwYXJhbSBpc0xvY2tlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUlzTG9ja2VkKGlzTG9ja2VkLCBvbGRWYWx1ZSkge1xuICAgICAgc2NvcGUuaXNMb2NrZWRPcGVuID0gaXNMb2NrZWQ7XG4gICAgICBpZiAoaXNMb2NrZWQgPT09IG9sZFZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWxvY2tlZC1vcGVuJywgISFpc0xvY2tlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYW5pbWF0ZVtpc0xvY2tlZCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LCAnbWQtbG9ja2VkLW9wZW4nKTtcbiAgICAgIH1cbiAgICAgIGJhY2tkcm9wLnRvZ2dsZUNsYXNzKCdtZC1sb2NrZWQtb3BlbicsICEhaXNMb2NrZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgU2lkZU5hdiB2aWV3IGFuZCBhdHRhY2gvZGV0YWNoIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSBpc09wZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVJc09wZW4oaXNPcGVuKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcblxuICAgICAgcGFyZW50W2lzT3BlbiA/ICdvbicgOiAnb2ZmJ10oJ2tleWRvd24nLCBvbktleURvd24pO1xuICAgICAgYmFja2Ryb3BbaXNPcGVuID8gJ29uJyA6ICdvZmYnXSgnY2xpY2snLCBjbG9zZSk7XG5cbiAgICAgIGlmICggaXNPcGVuICkge1xuICAgICAgICAvLyBDYXB0dXJlIHVwb24gb3BlbmluZy4uXG4gICAgICAgIHRyaWdnZXJpbmdFbGVtZW50ID0gJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlID0gJHEuYWxsKFtcbiAgICAgICAgJGFuaW1hdGVbaXNPcGVuID8gJ2VudGVyJyA6ICdsZWF2ZSddKGJhY2tkcm9wLCBwYXJlbnQpLFxuICAgICAgICAkYW5pbWF0ZVtpc09wZW4gPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgJ21kLWNsb3NlZCcpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gSWYgd2Ugb3BlbmVkLCBhbmQgaGF2ZW4ndCBjbG9zZWQgYWdhaW4gYmVmb3JlIHRoZSBhbmltYXRpb24gZmluaXNoZWRcbiAgICAgICAgICBpZiAoc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBzaWRlTmF2IHZpZXcgYW5kIHB1Ymxpc2ggYSBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgKiB0aGUgdmlldyBhbmltYXRpb24gZmluaXNoZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXNPcGVuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9nZ2xlT3BlbiggaXNPcGVuICkge1xuICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PSBpc09wZW4gKSB7XG5cbiAgICAgICAgcmV0dXJuICRxLndoZW4odHJ1ZSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgLy8gVG9nZ2xlIHZhbHVlIHRvIGZvcmNlIGFuIGFzeW5jIGB1cGRhdGVJc09wZW4oKWAgdG8gcnVuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGlzT3BlbjtcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgIC8vIFdoZW4gdGhlIGN1cnJlbnQgYHVwZGF0ZUlzT3BlbigpYCBhbmltYXRpb24gZmluaXNoZXNcbiAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblxuICAgICAgICAgICAgaWYgKCAhc2NvcGUuaXNPcGVuICkge1xuICAgICAgICAgICAgICAvLyByZXNldCBmb2N1cyB0byBvcmlnaW5hdGluZyBlbGVtZW50IChpZiBhdmFpbGFibGUpIHVwb24gY2xvc2VcbiAgICAgICAgICAgICAgdHJpZ2dlcmluZ0VsZW1lbnQgJiYgdHJpZ2dlcmluZ0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgdHJpZ2dlcmluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSwwLGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLWNsb3NlIHNpZGVOYXYgd2hlbiB0aGUgYGVzY2FwZWAga2V5IGlzIHByZXNzZWQuXG4gICAgICogQHBhcmFtIGV2dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93bihldikge1xuICAgICAgdmFyIGlzRXNjYXBlID0gKGV2LmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRSk7XG4gICAgICByZXR1cm4gaXNFc2NhcGUgPyBjbG9zZShldikgOiAkcS53aGVuKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpdGggYmFja2Ryb3AgYGNsaWNrc2Agb3IgYGVzY2FwZWAga2V5LXByZXNzLCBpbW1lZGlhdGVseVxuICAgICAqIGFwcGx5IHRoZSBDU1MgY2xvc2UgdHJhbnNpdGlvbi4uLiBUaGVuIG5vdGlmeSB0aGUgY29udHJvbGxlclxuICAgICAqIHRvIGNsb3NlKCkgYW5kIHBlcmZvcm0gaXRzIG93biBhY3Rpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb3NlKGV2KSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIHJldHVybiBzaWRlbmF2Q3RybC5jbG9zZSgpO1xuICAgIH1cblxuICB9XG59XG5TaWRlbmF2RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkdGltZW91dFwiLCBcIiRhbmltYXRlXCIsIFwiJHBhcnNlXCIsIFwiJG1kTWVkaWFcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRjb21waWxlXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRxXCIsIFwiJGRvY3VtZW50XCJdO1xuXG4vKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBTaWRlbmF2Q29udHJvbGxlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcbiAqXG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJG1kQ29tcG9uZW50UmVnaXN0cnksICRxKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIFVzZSBEZWZhdWx0IGludGVybmFsIG1ldGhvZCB1bnRpbCBvdmVycmlkZGVuIGJ5IGRpcmVjdGl2ZSBwb3N0TGlua1xuXG4gIHNlbGYuJHRvZ2dsZU9wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICRxLndoZW4oJHNjb3BlLmlzT3Blbik7IH07XG4gIHNlbGYuaXNPcGVuID0gZnVuY3Rpb24oKSB7IHJldHVybiAhISRzY29wZS5pc09wZW47IH07XG4gIHNlbGYuaXNMb2NrZWRPcGVuID0gZnVuY3Rpb24oKSB7IHJldHVybiAhISRzY29wZS5pc0xvY2tlZE9wZW47IH07XG4gIHNlbGYub3BlbiAgID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLiR0b2dnbGVPcGVuKCB0cnVlICk7ICB9O1xuICBzZWxmLmNsb3NlICA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi4kdG9nZ2xlT3BlbiggZmFsc2UgKTsgfTtcbiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuJHRvZ2dsZU9wZW4oICEkc2NvcGUuaXNPcGVuICk7ICB9O1xuXG4gIHNlbGYuZGVzdHJveSA9ICRtZENvbXBvbmVudFJlZ2lzdHJ5LnJlZ2lzdGVyKHNlbGYsICRhdHRycy5tZENvbXBvbmVudElkKTtcbn1cblNpZGVuYXZDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRhdHRyc1wiLCBcIiRtZENvbXBvbmVudFJlZ2lzdHJ5XCIsIFwiJHFcIl07XG5cblxuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnNsaWRlcicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRTbGlkZXInLCBTbGlkZXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kU2xpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyXG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1zbGlkZXI+YCBjb21wb25lbnQgYWxsb3dzIHRoZSB1c2VyIHRvIGNob29zZSBmcm9tIGEgcmFuZ2Ugb2ZcbiAqIHZhbHVlcy5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgc2xpZGVyIGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIEl0IGhhcyB0d28gbW9kZXM6ICdub3JtYWwnIG1vZGUsIHdoZXJlIHRoZSB1c2VyIHNsaWRlcyBiZXR3ZWVuIGEgd2lkZSByYW5nZVxuICogb2YgdmFsdWVzLCBhbmQgJ2Rpc2NyZXRlJyBtb2RlLCB3aGVyZSB0aGUgdXNlciBzbGlkZXMgYmV0d2VlbiBvbmx5IGEgZmV3XG4gKiBzZWxlY3QgdmFsdWVzLlxuICpcbiAqIFRvIGVuYWJsZSBkaXNjcmV0ZSBtb2RlLCBhZGQgdGhlIGBtZC1kaXNjcmV0ZWAgYXR0cmlidXRlIHRvIGEgc2xpZGVyLFxuICogYW5kIHVzZSB0aGUgYHN0ZXBgIGF0dHJpYnV0ZSB0byBjaGFuZ2UgdGhlIGRpc3RhbmNlIGJldHdlZW5cbiAqIHZhbHVlcyB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suXG4gKlxuICogQHVzYWdlXG4gKiA8aDQ+Tm9ybWFsIE1vZGU8L2g0PlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zbGlkZXIgbmctbW9kZWw9XCJteVZhbHVlXCIgbWluPVwiNVwiIG1heD1cIjUwMFwiPlxuICogPC9tZC1zbGlkZXI+XG4gKiA8L2hsanM+XG4gKiA8aDQ+RGlzY3JldGUgTW9kZTwvaDQ+XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXNsaWRlciBtZC1kaXNjcmV0ZSBuZy1tb2RlbD1cIm15RGlzY3JldGVWYWx1ZVwiIHN0ZXA9XCIxMFwiIG1pbj1cIjEwXCIgbWF4PVwiMTMwXCI+XG4gKiA8L21kLXNsaWRlcj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1kaXNjcmV0ZSBXaGV0aGVyIHRvIGVuYWJsZSBkaXNjcmV0ZSBtb2RlLlxuICogQHBhcmFtIHtudW1iZXI9fSBzdGVwIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHZhbHVlcyB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suIERlZmF1bHQgMS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay4gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXI9fSBtYXggVGhlIG1heGltdW0gdmFsdWUgdGhlIHVzZXIgaXMgYWxsb3dlZCB0byBwaWNrLiBEZWZhdWx0IDEwMC5cbiAqL1xuZnVuY3Rpb24gU2xpZGVyRGlyZWN0aXZlKCQkckFGLCAkd2luZG93LCAkbWRBcmlhLCAkbWRVdGlsLCAkbWRDb25zdGFudCwgJG1kVGhlbWluZywgJG1kR2VzdHVyZSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLXNsaWRlci13cmFwcGVyXCI+XFxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrLWNvbnRhaW5lclwiPlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdHJhY2sgbWQtdHJhY2stZmlsbFwiPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrLXRpY2tzXCI+PC9kaXY+XFxcbiAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRodW1iLWNvbnRhaW5lclwiPlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRodW1iXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtZm9jdXMtdGh1bWJcIj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1mb2N1cy1yaW5nXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtc2lnblwiPlxcXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kLXRodW1iLXRleHRcIj48L3NwYW4+XFxcbiAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1kaXNhYmxlZC10aHVtYlwiPjwvZGl2PlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICA8L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIFByaXZhdGUgTWV0aG9kc1xuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgZnVuY3Rpb24gY29tcGlsZSAodEVsZW1lbnQsIHRBdHRycykge1xuICAgIHRFbGVtZW50LmF0dHIoe1xuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICByb2xlOiAnc2xpZGVyJ1xuICAgIH0pO1xuXG4gICAgJG1kQXJpYS5leHBlY3QodEVsZW1lbnQsICdhcmlhLWxhYmVsJyk7XG5cbiAgICByZXR1cm4gcG9zdExpbms7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbEN0cmwpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmwgfHwge1xuICAgICAgLy8gTW9jayBuZ01vZGVsQ29udHJvbGxlciBpZiBpdCBkb2Vzbid0IGV4aXN0IHRvIGdpdmUgdXNcbiAgICAgIC8vIHRoZSBtaW5pbXVtIGZ1bmN0aW9uYWxpdHkgbmVlZGVkXG4gICAgICAkc2V0Vmlld1ZhbHVlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdmFsO1xuICAgICAgICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oY2IpIHsgY2IoKTsgfSk7XG4gICAgICB9LFxuICAgICAgJHBhcnNlcnM6IFtdLFxuICAgICAgJGZvcm1hdHRlcnM6IFtdLFxuICAgICAgJHZpZXdDaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcblxuICAgIHZhciBpc0Rpc2FibGVkUGFyc2VkID0gYXR0ci5uZ0Rpc2FibGVkICYmICRwYXJzZShhdHRyLm5nRGlzYWJsZWQpO1xuICAgIHZhciBpc0Rpc2FibGVkR2V0dGVyID0gaXNEaXNhYmxlZFBhcnNlZCA/XG4gICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGlzRGlzYWJsZWRQYXJzZWQoc2NvcGUuJHBhcmVudCk7IH0gOlxuICAgICAgYW5ndWxhci5ub29wO1xuICAgIHZhciB0aHVtYiA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10aHVtYicpKTtcbiAgICB2YXIgdGh1bWJUZXh0ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iLXRleHQnKSk7XG4gICAgdmFyIHRodW1iQ29udGFpbmVyID0gdGh1bWIucGFyZW50KCk7XG4gICAgdmFyIHRyYWNrQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRyYWNrLWNvbnRhaW5lcicpKTtcbiAgICB2YXIgYWN0aXZlVHJhY2sgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdHJhY2stZmlsbCcpKTtcbiAgICB2YXIgdGlja0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10cmFjay10aWNrcycpKTtcbiAgICB2YXIgdGhyb3R0bGVkUmVmcmVzaERpbWVuc2lvbnMgPSAkbWRVdGlsLnRocm90dGxlKHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zLCA1MDAwKTtcblxuICAgIC8vIERlZmF1bHQgdmFsdWVzLCBvdmVycmlkYWJsZSBieSBhdHRyc1xuICAgIGF0dHIubWluID8gYXR0ci4kb2JzZXJ2ZSgnbWluJywgdXBkYXRlTWluKSA6IHVwZGF0ZU1pbigwKTtcbiAgICBhdHRyLm1heCA/IGF0dHIuJG9ic2VydmUoJ21heCcsIHVwZGF0ZU1heCkgOiB1cGRhdGVNYXgoMTAwKTtcbiAgICBhdHRyLnN0ZXAgPyBhdHRyLiRvYnNlcnZlKCdzdGVwJywgdXBkYXRlU3RlcCkgOiB1cGRhdGVTdGVwKDEpO1xuXG4gICAgLy8gV2UgaGF2ZSB0byBtYW51YWxseSBzdG9wIHRoZSAkd2F0Y2ggb24gbmdEaXNhYmxlZCBiZWNhdXNlIGl0IGV4aXN0c1xuICAgIC8vIG9uIHRoZSBwYXJlbnQgc2NvcGUsIGFuZCB3b24ndCBiZSBhdXRvbWF0aWNhbGx5IGRlc3Ryb3llZCB3aGVuXG4gICAgLy8gdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQuXG4gICAgdmFyIHN0b3BEaXNhYmxlZFdhdGNoID0gYW5ndWxhci5ub29wO1xuICAgIGlmIChhdHRyLm5nRGlzYWJsZWQpIHtcbiAgICAgIHN0b3BEaXNhYmxlZFdhdGNoID0gc2NvcGUuJHBhcmVudC4kd2F0Y2goYXR0ci5uZ0Rpc2FibGVkLCB1cGRhdGVBcmlhRGlzYWJsZWQpO1xuICAgIH1cblxuICAgICRtZEdlc3R1cmUucmVnaXN0ZXIoZWxlbWVudCwgJ2RyYWcnKTtcblxuICAgIGVsZW1lbnRcbiAgICAgIC5vbigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcilcbiAgICAgIC5vbignJG1kLnByZXNzZG93bicsIG9uUHJlc3NEb3duKVxuICAgICAgLm9uKCckbWQucHJlc3N1cCcsIG9uUHJlc3NVcClcbiAgICAgIC5vbignJG1kLmRyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0KVxuICAgICAgLm9uKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgLy8gT24gcmVzaXplLCByZWNhbGN1bGF0ZSB0aGUgc2xpZGVyJ3MgZGltZW5zaW9ucyBhbmQgcmUtcmVuZGVyXG4gICAgZnVuY3Rpb24gdXBkYXRlQWxsKCkge1xuICAgICAgcmVmcmVzaFNsaWRlckRpbWVuc2lvbnMoKTtcbiAgICAgIG5nTW9kZWxSZW5kZXIoKTtcbiAgICAgIHJlZHJhd1RpY2tzKCk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQodXBkYXRlQWxsKTtcblxuICAgIHZhciBkZWJvdW5jZWRVcGRhdGVBbGwgPSAkJHJBRi50aHJvdHRsZSh1cGRhdGVBbGwpO1xuICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplJywgZGVib3VuY2VkVXBkYXRlQWxsKTtcblxuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZUFsbCk7XG4gICAgICBzdG9wRGlzYWJsZWRXYXRjaCgpO1xuICAgIH0pO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IG5nTW9kZWxSZW5kZXI7XG4gICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChuZ01vZGVsUmVuZGVyKTtcbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKG1pbk1heFZhbGlkYXRvcik7XG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChzdGVwVmFsaWRhdG9yKTtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICB2YXIgbWluO1xuICAgIHZhciBtYXg7XG4gICAgdmFyIHN0ZXA7XG4gICAgZnVuY3Rpb24gdXBkYXRlTWluKHZhbHVlKSB7XG4gICAgICBtaW4gPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1pbicsIHZhbHVlKTtcbiAgICAgIHVwZGF0ZUFsbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVNYXgodmFsdWUpIHtcbiAgICAgIG1heCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWF4JywgdmFsdWUpO1xuICAgICAgdXBkYXRlQWxsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN0ZXAodmFsdWUpIHtcbiAgICAgIHN0ZXAgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIHJlZHJhd1RpY2tzKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFyaWFEaXNhYmxlZChpc0Rpc2FibGVkKSB7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAhIWlzRGlzYWJsZWQpO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIHRpY2tzIHdpdGggY2FudmFzLlxuICAgIC8vIFRoZSBhbHRlcm5hdGl2ZSB0byBkcmF3aW5nIHRpY2tzIHdpdGggY2FudmFzIGlzIHRvIGRyYXcgb25lIGVsZW1lbnQgZm9yIGVhY2ggdGljayxcbiAgICAvLyB3aGljaCBjb3VsZCBxdWlja2x5IGJlY29tZSBhIHBlcmZvcm1hbmNlIGJvdHRsZW5lY2suXG4gICAgdmFyIHRpY2tDYW52YXMsIHRpY2tDdHg7XG4gICAgZnVuY3Rpb24gcmVkcmF3VGlja3MoKSB7XG4gICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWREaXNjcmV0ZSkpIHJldHVybjtcblxuICAgICAgdmFyIG51bVN0ZXBzID0gTWF0aC5mbG9vciggKG1heCAtIG1pbikgLyBzdGVwICk7XG4gICAgICBpZiAoIXRpY2tDYW52YXMpIHtcbiAgICAgICAgdmFyIHRyYWNrVGlja3NTdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aWNrQ29udGFpbmVyWzBdKTtcbiAgICAgICAgdGlja0NhbnZhcyA9IGFuZ3VsYXIuZWxlbWVudCgnPGNhbnZhcyBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO1wiPicpO1xuICAgICAgICB0aWNrQ3R4ID0gdGlja0NhbnZhc1swXS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aWNrQ3R4LmZpbGxTdHlsZSA9IHRyYWNrVGlja3NTdHlsZS5iYWNrZ3JvdW5kQ29sb3IgfHwgJ2JsYWNrJztcbiAgICAgICAgdGlja0NvbnRhaW5lci5hcHBlbmQodGlja0NhbnZhcyk7XG4gICAgICB9XG4gICAgICB2YXIgZGltZW5zaW9ucyA9IGdldFNsaWRlckRpbWVuc2lvbnMoKTtcbiAgICAgIHRpY2tDYW52YXNbMF0ud2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgdGlja0NhbnZhc1swXS5oZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcblxuICAgICAgdmFyIGRpc3RhbmNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbnVtU3RlcHM7IGkrKykge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGguZmxvb3IoZGltZW5zaW9ucy53aWR0aCAqIChpIC8gbnVtU3RlcHMpKTtcbiAgICAgICAgdGlja0N0eC5maWxsUmVjdChkaXN0YW5jZSAtIDEsIDAsIDIsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hpbmcgRGltZW5zaW9uc1xuICAgICAqL1xuICAgIHZhciBzbGlkZXJEaW1lbnNpb25zID0ge307XG4gICAgcmVmcmVzaFNsaWRlckRpbWVuc2lvbnMoKTtcbiAgICBmdW5jdGlvbiByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpIHtcbiAgICAgIHNsaWRlckRpbWVuc2lvbnMgPSB0cmFja0NvbnRhaW5lclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2xpZGVyRGltZW5zaW9ucygpIHtcbiAgICAgIHRocm90dGxlZFJlZnJlc2hEaW1lbnNpb25zKCk7XG4gICAgICByZXR1cm4gc2xpZGVyRGltZW5zaW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsZWZ0L3JpZ2h0IGFycm93IGxpc3RlbmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyKGV2KSB7XG4gICAgICBpZihlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VBbW91bnQ7XG4gICAgICBpZiAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVykge1xuICAgICAgICBjaGFuZ2VBbW91bnQgPSAtc3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1cpIHtcbiAgICAgICAgY2hhbmdlQW1vdW50ID0gc3RlcDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGFuZ2VBbW91bnQpIHtcbiAgICAgICAgaWYgKGV2Lm1ldGFLZXkgfHwgZXYuY3RybEtleSB8fCBldi5hbHRLZXkpIHtcbiAgICAgICAgICBjaGFuZ2VBbW91bnQgKj0gNDtcbiAgICAgICAgfVxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRNb2RlbFZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgKyBjaGFuZ2VBbW91bnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBuZ01vZGVsIHNldHRlcnMgYW5kIHZhbGlkYXRvcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRNb2RlbFZhbHVlKHZhbHVlKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBtaW5NYXhWYWxpZGF0b3Ioc3RlcFZhbGlkYXRvcih2YWx1ZSkpICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5nTW9kZWxSZW5kZXIoKSB7XG4gICAgICBpZiAoaXNOYU4obmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGVyY2VudCA9IChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgICAgc2NvcGUubW9kZWxWYWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgIHNldFNsaWRlclBlcmNlbnQocGVyY2VudCk7XG4gICAgICB0aHVtYlRleHQudGV4dCggbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1pbk1heFZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcFZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwZXJjZW50IDAtMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFNsaWRlclBlcmNlbnQocGVyY2VudCkge1xuICAgICAgYWN0aXZlVHJhY2suY3NzKCd3aWR0aCcsIChwZXJjZW50ICogMTAwKSArICclJyk7XG4gICAgICB0aHVtYkNvbnRhaW5lci5jc3MoXG4gICAgICAgICdsZWZ0JyxcbiAgICAgICAgKHBlcmNlbnQgKiAxMDApICsgJyUnXG4gICAgICApO1xuICAgICAgZWxlbWVudC50b2dnbGVDbGFzcygnbWQtbWluJywgcGVyY2VudCA9PT0gMCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTbGlkZSBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICB2YXIgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHZhciBpc0Rpc2NyZXRlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZERpc2NyZXRlKTtcblxuICAgIGZ1bmN0aW9uIG9uUHJlc3NEb3duKGV2KSB7XG4gICAgICBpZiAoaXNEaXNhYmxlZEdldHRlcigpKSByZXR1cm47XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgcmVmcmVzaFNsaWRlckRpbWVuc2lvbnMoKTtcblxuICAgICAgdmFyIGV4YWN0VmFsID0gcGVyY2VudFRvVmFsdWUoIHBvc2l0aW9uVG9QZXJjZW50KCBldi5wb2ludGVyLnggKSk7XG4gICAgICB2YXIgY2xvc2VzdFZhbCA9IG1pbk1heFZhbGlkYXRvciggc3RlcFZhbGlkYXRvcihleGFjdFZhbCkgKTtcbiAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0TW9kZWxWYWx1ZSggY2xvc2VzdFZhbCApO1xuICAgICAgICBzZXRTbGlkZXJQZXJjZW50KCB2YWx1ZVRvUGVyY2VudChjbG9zZXN0VmFsKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25QcmVzc1VwKGV2KSB7XG4gICAgICBpZiAoaXNEaXNhYmxlZEdldHRlcigpKSByZXR1cm47XG5cbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2RyYWdnaW5nIGFjdGl2ZScpO1xuXG4gICAgICB2YXIgZXhhY3RWYWwgPSBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoIGV2LnBvaW50ZXIueCApKTtcbiAgICAgIHZhciBjbG9zZXN0VmFsID0gbWluTWF4VmFsaWRhdG9yKCBzdGVwVmFsaWRhdG9yKGV4YWN0VmFsKSApO1xuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRNb2RlbFZhbHVlKGNsb3Nlc3RWYWwpO1xuICAgICAgICBuZ01vZGVsUmVuZGVyKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXYpIHtcbiAgICAgIGlmIChpc0Rpc2FibGVkR2V0dGVyKCkpIHJldHVybjtcbiAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2RyYWdnaW5nJyk7XG4gICAgICBzZXRTbGlkZXJGcm9tRXZlbnQoZXYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRyYWcoZXYpIHtcbiAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBzZXRTbGlkZXJGcm9tRXZlbnQoZXYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRyYWdFbmQoZXYpIHtcbiAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U2xpZGVyRnJvbUV2ZW50KGV2KSB7XG4gICAgICAvLyBXaGlsZSBwYW5uaW5nIGRpc2NyZXRlLCB1cGRhdGUgb25seSB0aGVcbiAgICAgIC8vIHZpc3VhbCBwb3NpdGlvbmluZyBidXQgbm90IHRoZSBtb2RlbCB2YWx1ZS5cbiAgICAgIGlmICggaXNEaXNjcmV0ZSApIGFkanVzdFRodW1iUG9zaXRpb24oIGV2LnBvaW50ZXIueCApO1xuICAgICAgZWxzZSAgICAgICAgICAgICAgZG9TbGlkZSggZXYucG9pbnRlci54ICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2xpZGUgdGhlIFVJIGJ5IGNoYW5naW5nIHRoZSBtb2RlbCB2YWx1ZVxuICAgICAqIEBwYXJhbSB4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZG9TbGlkZSggeCApIHtcbiAgICAgIHNjb3BlLiRldmFsQXN5bmMoIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRNb2RlbFZhbHVlKCBwZXJjZW50VG9WYWx1ZSggcG9zaXRpb25Ub1BlcmNlbnQoeCkgKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGlkZSB0aGUgVUkgd2l0aG91dCBjaGFuZ2luZyB0aGUgbW9kZWwgKHdoaWxlIGRyYWdnaW5nL3Bhbm5pbmcpXG4gICAgICogQHBhcmFtIHhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGp1c3RUaHVtYlBvc2l0aW9uKCB4ICkge1xuICAgICAgdmFyIGV4YWN0VmFsID0gcGVyY2VudFRvVmFsdWUoIHBvc2l0aW9uVG9QZXJjZW50KCB4ICkpO1xuICAgICAgdmFyIGNsb3Nlc3RWYWwgPSBtaW5NYXhWYWxpZGF0b3IoIHN0ZXBWYWxpZGF0b3IoZXhhY3RWYWwpICk7XG4gICAgICBzZXRTbGlkZXJQZXJjZW50KCBwb3NpdGlvblRvUGVyY2VudCh4KSApO1xuICAgICAgdGh1bWJUZXh0LnRleHQoIGNsb3Nlc3RWYWwgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGhvcml6b250YWwgcG9zaXRpb24gb24gc2xpZGVyIHRvIHBlcmNlbnRhZ2UgdmFsdWUgb2Ygb2Zmc2V0IGZyb20gYmVnaW5uaW5nLi4uXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBvc2l0aW9uVG9QZXJjZW50KCB4ICkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsICh4IC0gc2xpZGVyRGltZW5zaW9ucy5sZWZ0KSAvIChzbGlkZXJEaW1lbnNpb25zLndpZHRoKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgcGVyY2VudGFnZSBvZmZzZXQgb24gc2xpZGUgdG8gZXF1aXZhbGVudCBtb2RlbCB2YWx1ZVxuICAgICAqIEBwYXJhbSBwZXJjZW50XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyY2VudFRvVmFsdWUoIHBlcmNlbnQgKSB7XG4gICAgICByZXR1cm4gKG1pbiArIHBlcmNlbnQgKiAobWF4IC0gbWluKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsdWVUb1BlcmNlbnQoIHZhbCApIHtcbiAgICAgIHJldHVybiAodmFsIC0gbWluKS8obWF4IC0gbWluKTtcbiAgICB9XG4gIH1cbn1cblNsaWRlckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkd2luZG93XCIsIFwiJG1kQXJpYVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRHZXN0dXJlXCIsIFwiJHBhcnNlXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdGlja3lcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFN0aWNreSBlZmZlY3RzIGZvciBtZFxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreScsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50J1xuXSlcbiAgLmZhY3RvcnkoJyRtZFN0aWNreScsIE1kU3RpY2t5KTtcblxuLypcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRTdGlja3lcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdGlja3lcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgJG1kU3RpY2t5YHNlcnZpY2UgcHJvdmlkZXMgYSBtaXhpbiB0byBtYWtlIGVsZW1lbnRzIHN0aWNreS5cbiAqXG4gKiBAcmV0dXJucyBBIGAkbWRTdGlja3lgIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhyZWUgYXJndW1lbnRzOlxuICogICAtIGBzY29wZWBcbiAqICAgLSBgZWxlbWVudGA6IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSAnc3RpY2t5J1xuICogICAtIGBlbGVtZW50Q2xvbmVgOiBBIGNsb25lIG9mIHRoZSBlbGVtZW50LCB0aGF0IHdpbGwgYmUgc2hvd25cbiAqICAgICB3aGVuIHRoZSB1c2VyIHN0YXJ0cyBzY3JvbGxpbmcgcGFzdCB0aGUgb3JpZ2luYWwgZWxlbWVudC5cbiAqICAgICBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgdXNlIHRoZSByZXN1bHQgb2YgYGVsZW1lbnQuY2xvbmUoKWAuXG4gKi9cblxuZnVuY3Rpb24gTWRTdGlja3koJGRvY3VtZW50LCAkbWRDb25zdGFudCwgJGNvbXBpbGUsICQkckFGLCAkbWRVdGlsKSB7XG5cbiAgdmFyIGJyb3dzZXJTdGlja3lTdXBwb3J0ID0gY2hlY2tTdGlja3lTdXBwb3J0KCk7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhbiBlbGVtZW50IGFzIHN0aWNreSwgdXNlZCBpbnRlcm5hbGx5IGJ5IGRpcmVjdGl2ZXMgdG8gcmVnaXN0ZXIgdGhlbXNlbHZlc1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIHJlZ2lzdGVyU3RpY2t5RWxlbWVudChzY29wZSwgZWxlbWVudCwgc3RpY2t5Q2xvbmUpIHtcbiAgICB2YXIgY29udGVudEN0cmwgPSBlbGVtZW50LmNvbnRyb2xsZXIoJ21kQ29udGVudCcpO1xuICAgIGlmICghY29udGVudEN0cmwpIHJldHVybjtcblxuICAgIGlmIChicm93c2VyU3RpY2t5U3VwcG9ydCkge1xuICAgICAgZWxlbWVudC5jc3Moe1xuICAgICAgICBwb3NpdGlvbjogYnJvd3NlclN0aWNreVN1cHBvcnQsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgJ3otaW5kZXgnOiAyXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyICQkc3RpY2t5ID0gY29udGVudEN0cmwuJGVsZW1lbnQuZGF0YSgnJCRzdGlja3knKTtcbiAgICAgIGlmICghJCRzdGlja3kpIHtcbiAgICAgICAgJCRzdGlja3kgPSBzZXR1cFN0aWNreShjb250ZW50Q3RybCk7XG4gICAgICAgIGNvbnRlbnRDdHJsLiRlbGVtZW50LmRhdGEoJyQkc3RpY2t5JywgJCRzdGlja3kpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVyZWdpc3RlciA9ICQkc3RpY2t5LmFkZChlbGVtZW50LCBzdGlja3lDbG9uZSB8fCBlbGVtZW50LmNsb25lKCkpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGRlcmVnaXN0ZXIpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBzZXR1cFN0aWNreShjb250ZW50Q3RybCkge1xuICAgIHZhciBjb250ZW50RWwgPSBjb250ZW50Q3RybC4kZWxlbWVudDtcblxuICAgIC8vIFJlZnJlc2ggZWxlbWVudHMgaXMgdmVyeSBleHBlbnNpdmUsIHNvIHdlIHVzZSB0aGUgZGVib3VuY2VkXG4gICAgLy8gdmVyc2lvbiB3aGVuIHBvc3NpYmxlLlxuICAgIHZhciBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMgPSAkJHJBRi50aHJvdHRsZShyZWZyZXNoRWxlbWVudHMpO1xuXG4gICAgLy8gc2V0dXBBdWdtZW50ZWRTY3JvbGxFdmVudHMgZ2l2ZXMgdXMgYCRzY3JvbGxzdGFydGAgYW5kIGAkc2Nyb2xsYCxcbiAgICAvLyBtb3JlIHJlbGlhYmxlIHRoYW4gYHNjcm9sbGAgb24gYW5kcm9pZC5cbiAgICBzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyhjb250ZW50RWwpO1xuICAgIGNvbnRlbnRFbC5vbignJHNjcm9sbHN0YXJ0JywgZGVib3VuY2VkUmVmcmVzaEVsZW1lbnRzKTtcbiAgICBjb250ZW50RWwub24oJyRzY3JvbGwnLCBvblNjcm9sbCk7XG5cbiAgICB2YXIgc2VsZjtcbiAgICB2YXIgc3RpY2t5QmFzZW9mZnNldCA9IGNvbnRlbnRFbC5wcm9wKCdvZmZzZXRUb3AnKTtcbiAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgIHByZXY6IG51bGwsXG4gICAgICBjdXJyZW50OiBudWxsLCAvL3RoZSBjdXJyZW50bHkgc3RpY2tpZWQgaXRlbVxuICAgICAgbmV4dDogbnVsbCxcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICAgIGFkZDogYWRkLFxuICAgICAgcmVmcmVzaEVsZW1lbnRzOiByZWZyZXNoRWxlbWVudHNcbiAgICB9O1xuXG4gICAgLyoqKioqKioqKioqKioqKlxuICAgICAqIFB1YmxpY1xuICAgICAqKioqKioqKioqKioqKiovXG4gICAgLy8gQWRkIGFuIGVsZW1lbnQgYW5kIGl0cyBzdGlja3kgY2xvbmUgdG8gdGhpcyBjb250ZW50J3Mgc3RpY2t5IGNvbGxlY3Rpb25cbiAgICBmdW5jdGlvbiBhZGQoZWxlbWVudCwgc3RpY2t5Q2xvbmUpIHtcbiAgICAgIHN0aWNreUNsb25lLmFkZENsYXNzKCdtZC1zdGlja3ktY2xvbmUnKTtcbiAgICAgIHN0aWNreUNsb25lLmNzcygndG9wJywgc3RpY2t5QmFzZW9mZnNldCArICdweCcpO1xuXG4gICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgY2xvbmU6IHN0aWNreUNsb25lXG4gICAgICB9O1xuICAgICAgc2VsZi5pdGVtcy5wdXNoKGl0ZW0pO1xuXG4gICAgICBjb250ZW50RWwucGFyZW50KCkucHJlcGVuZChpdGVtLmNsb25lKTtcblxuICAgICAgZGVib3VuY2VkUmVmcmVzaEVsZW1lbnRzKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIHNlbGYuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgIGlmIChpdGVtLmVsZW1lbnRbMF0gPT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICAgIHNlbGYuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGl0ZW0uY2xvbmUucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVib3VuY2VkUmVmcmVzaEVsZW1lbnRzKCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZnJlc2hFbGVtZW50cygpIHtcbiAgICAgIC8vIFNvcnQgb3VyIGNvbGxlY3Rpb24gb2YgZWxlbWVudHMgYnkgdGhlaXIgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgLy8gV2UgbmVlZCB0byBkbyB0aGlzIGJlY2F1c2Ugb3VyIGVsZW1lbnRzJyBvcmRlciBvZiBiZWluZyBhZGRlZCBtYXkgbm90XG4gICAgICAvLyBiZSB0aGUgc2FtZSBhcyB0aGVpciBvcmRlciBvZiBkaXNwbGF5LlxuICAgICAgc2VsZi5pdGVtcy5mb3JFYWNoKHJlZnJlc2hQb3NpdGlvbik7XG4gICAgICBzZWxmLml0ZW1zID0gc2VsZi5pdGVtcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEudG9wIDwgYi50b3AgPyAtMSA6IDE7XG4gICAgICB9KTtcblxuICAgICAgLy8gRmluZCB3aGljaCBpdGVtIGluIHRoZSBsaXN0IHNob3VsZCBiZSBhY3RpdmUsIFxuICAgICAgLy8gYmFzZWQgdXBvbiB0aGUgY29udGVudCdzIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICB2YXIgaXRlbTtcbiAgICAgIHZhciBjdXJyZW50U2Nyb2xsVG9wID0gY29udGVudEVsLnByb3AoJ3Njcm9sbFRvcCcpO1xuICAgICAgZm9yICh2YXIgaSA9IHNlbGYuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGN1cnJlbnRTY3JvbGxUb3AgPiBzZWxmLml0ZW1zW2ldLnRvcCkge1xuICAgICAgICAgIGl0ZW0gPSBzZWxmLml0ZW1zW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRDdXJyZW50SXRlbShpdGVtKTtcbiAgICB9XG5cblxuICAgIC8qKioqKioqKioqKioqKipcbiAgICAgKiBQcml2YXRlXG4gICAgICoqKioqKioqKioqKioqKi9cblxuICAgIC8vIEZpbmQgdGhlIGB0b3BgIG9mIGFuIGl0ZW0gcmVsYXRpdmUgdG8gdGhlIGNvbnRlbnQgZWxlbWVudCxcbiAgICAvLyBhbmQgYWxzbyB0aGUgaGVpZ2h0LlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hQb3NpdGlvbihpdGVtKSB7XG4gICAgICAvLyBGaW5kIHRoZSB0b3Agb2YgYW4gaXRlbSBieSBhZGRpbmcgdG8gdGhlIG9mZnNldEhlaWdodCB1bnRpbCB3ZSByZWFjaCB0aGUgXG4gICAgICAvLyBjb250ZW50IGVsZW1lbnQuXG4gICAgICB2YXIgY3VycmVudCA9IGl0ZW0uZWxlbWVudFswXTtcbiAgICAgIGl0ZW0udG9wID0gMDtcbiAgICAgIGl0ZW0ubGVmdCA9IDA7XG4gICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBjb250ZW50RWxbMF0pIHtcbiAgICAgICAgaXRlbS50b3AgKz0gY3VycmVudC5vZmZzZXRUb3A7XG4gICAgICAgIGl0ZW0ubGVmdCArPSBjdXJyZW50Lm9mZnNldExlZnQ7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIGl0ZW0uaGVpZ2h0ID0gaXRlbS5lbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuICAgICAgaXRlbS5jbG9uZS5jc3MoJ21hcmdpbi1sZWZ0JywgaXRlbS5sZWZ0ICsgJ3B4Jyk7XG4gICAgfVxuXG5cbiAgICAvLyBBcyB3ZSBzY3JvbGwsIHB1c2ggaW4gYW5kIHNlbGVjdCB0aGUgY29ycmVjdCBzdGlja3kgZWxlbWVudC5cbiAgICBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBjb250ZW50RWwucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICB2YXIgaXNTY3JvbGxpbmdEb3duID0gc2Nyb2xsVG9wID4gKG9uU2Nyb2xsLnByZXZTY3JvbGxUb3AgfHwgMCk7XG4gICAgICBvblNjcm9sbC5wcmV2U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAvLyBBdCB0aGUgdG9wP1xuICAgICAgaWYgKHNjcm9sbFRvcCA9PT0gMCkge1xuICAgICAgICBzZXRDdXJyZW50SXRlbShudWxsKTtcblxuICAgICAgLy8gR29pbmcgdG8gbmV4dCBpdGVtP1xuICAgICAgfSBlbHNlIGlmIChpc1Njcm9sbGluZ0Rvd24gJiYgc2VsZi5uZXh0KSB7XG4gICAgICAgIGlmIChzZWxmLm5leHQudG9wIC0gc2Nyb2xsVG9wIDw9IDApIHtcbiAgICAgICAgICAvLyBTdGlja3kgdGhlIG5leHQgaXRlbSBpZiB3ZSd2ZSBzY3JvbGxlZCBwYXN0IGl0cyBwb3NpdGlvbi5cbiAgICAgICAgICBzZXRDdXJyZW50SXRlbShzZWxmLm5leHQpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY3VycmVudCkge1xuICAgICAgICAgIC8vIFB1c2ggdGhlIGN1cnJlbnQgaXRlbSB1cCB3aGVuIHdlJ3JlIGFsbW9zdCBhdCB0aGUgbmV4dCBpdGVtLlxuICAgICAgICAgIGlmIChzZWxmLm5leHQudG9wIC0gc2Nyb2xsVG9wIDw9IHNlbGYubmV4dC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIHNlbGYubmV4dC50b3AgLSBzZWxmLm5leHQuaGVpZ2h0IC0gc2Nyb2xsVG9wKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgLy8gU2Nyb2xsaW5nIHVwIHdpdGggYSBjdXJyZW50IHN0aWNreSBpdGVtP1xuICAgICAgfSBlbHNlIGlmICghaXNTY3JvbGxpbmdEb3duICYmIHNlbGYuY3VycmVudCkge1xuICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgc2VsZi5jdXJyZW50LnRvcCkge1xuICAgICAgICAgIC8vIFN0aWNreSB0aGUgcHJldmlvdXMgaXRlbSBpZiB3ZSd2ZSBzY3JvbGxlZCB1cCBwYXN0XG4gICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50bHkgc3RpY2tpZWQgaXRlbS5cbiAgICAgICAgICBzZXRDdXJyZW50SXRlbShzZWxmLnByZXYpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNjcm9sbGluZyB1cCwgYW5kIGp1c3QgYnVtcGluZyBpbnRvIHRoZSBpdGVtIGFib3ZlIChqdXN0IHNldCB0byBjdXJyZW50KT9cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5leHQgaXRlbSBidW1waW5nIGludG8gdGhlIGN1cnJlbnQgaXRlbSwgdHJhbnNsYXRlXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IGl0ZW0gdXAgZnJvbSB0aGUgdG9wIGFzIGl0IHNjcm9sbHMgaW50byB2aWV3LlxuICAgICAgICBpZiAoc2VsZi5jdXJyZW50ICYmIHNlbGYubmV4dCkge1xuICAgICAgICAgIGlmIChzY3JvbGxUb3AgPj0gc2VsZi5uZXh0LnRvcCAtIHNlbGYuY3VycmVudC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIHNlbGYubmV4dC50b3AgLSBzY3JvbGxUb3AgLSBzZWxmLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgICBcbiAgIGZ1bmN0aW9uIHNldEN1cnJlbnRJdGVtKGl0ZW0pIHtcbiAgICAgaWYgKHNlbGYuY3VycmVudCA9PT0gaXRlbSkgcmV0dXJuO1xuICAgICAvLyBEZWFjdGl2YXRlIGN1cnJlbnRseSBhY3RpdmUgaXRlbVxuICAgICBpZiAoc2VsZi5jdXJyZW50KSB7XG4gICAgICAgdHJhbnNsYXRlKHNlbGYuY3VycmVudCwgbnVsbCk7XG4gICAgICAgc2V0U3RpY2t5U3RhdGUoc2VsZi5jdXJyZW50LCBudWxsKTtcbiAgICAgfVxuXG4gICAgIC8vIEFjdGl2YXRlIG5ldyBpdGVtIGlmIGdpdmVuXG4gICAgIGlmIChpdGVtKSB7XG4gICAgICAgc2V0U3RpY2t5U3RhdGUoaXRlbSwgJ2FjdGl2ZScpO1xuICAgICB9XG5cbiAgICAgc2VsZi5jdXJyZW50ID0gaXRlbTtcbiAgICAgdmFyIGluZGV4ID0gc2VsZi5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAvLyBJZiBpbmRleCA9PT0gLTEsIGluZGV4ICsgMSA9IDAuIEl0IHdvcmtzIG91dC5cbiAgICAgc2VsZi5uZXh0ID0gc2VsZi5pdGVtc1tpbmRleCArIDFdO1xuICAgICBzZWxmLnByZXYgPSBzZWxmLml0ZW1zW2luZGV4IC0gMV07XG4gICAgIHNldFN0aWNreVN0YXRlKHNlbGYubmV4dCwgJ25leHQnKTtcbiAgICAgc2V0U3RpY2t5U3RhdGUoc2VsZi5wcmV2LCAncHJldicpO1xuICAgfVxuXG4gICBmdW5jdGlvbiBzZXRTdGlja3lTdGF0ZShpdGVtLCBzdGF0ZSkge1xuICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5zdGF0ZSA9PT0gc3RhdGUpIHJldHVybjtcbiAgICAgaWYgKGl0ZW0uc3RhdGUpIHtcbiAgICAgICBpdGVtLmNsb25lLmF0dHIoJ3N0aWNreS1wcmV2LXN0YXRlJywgaXRlbS5zdGF0ZSk7XG4gICAgICAgaXRlbS5lbGVtZW50LmF0dHIoJ3N0aWNreS1wcmV2LXN0YXRlJywgaXRlbS5zdGF0ZSk7XG4gICAgIH1cbiAgICAgaXRlbS5jbG9uZS5hdHRyKCdzdGlja3ktc3RhdGUnLCBzdGF0ZSk7XG4gICAgIGl0ZW0uZWxlbWVudC5hdHRyKCdzdGlja3ktc3RhdGUnLCBzdGF0ZSk7XG4gICAgIGl0ZW0uc3RhdGUgPSBzdGF0ZTtcbiAgIH1cblxuICAgZnVuY3Rpb24gdHJhbnNsYXRlKGl0ZW0sIGFtb3VudCkge1xuICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgaWYgKGFtb3VudCA9PT0gbnVsbCB8fCBhbW91bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgIGlmIChpdGVtLnRyYW5zbGF0ZVkpIHtcbiAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICBpdGVtLmNsb25lLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG4gICAgICAgfVxuICAgICB9IGVsc2Uge1xuICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IGFtb3VudDtcbiAgICAgICBpdGVtLmNsb25lLmNzcyhcbiAgICAgICAgICRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sIFxuICAgICAgICAgJ3RyYW5zbGF0ZTNkKCcgKyBpdGVtLmxlZnQgKyAncHgsJyArIGFtb3VudCArICdweCwwKSdcbiAgICAgICApO1xuICAgICB9XG4gICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBmb3IgYnJvd3NlciBzdGlja3kgc3VwcG9ydFxuICBmdW5jdGlvbiBjaGVja1N0aWNreVN1cHBvcnQoJGVsKSB7XG4gICAgdmFyIHN0aWNreVByb3A7XG4gICAgdmFyIHRlc3RFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKTtcbiAgICAkZG9jdW1lbnRbMF0uYm9keS5hcHBlbmRDaGlsZCh0ZXN0RWxbMF0pO1xuXG4gICAgdmFyIHN0aWNreVByb3BzID0gWydzdGlja3knLCAnLXdlYmtpdC1zdGlja3knXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0aWNreVByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0ZXN0RWwuY3NzKHtwb3NpdGlvbjogc3RpY2t5UHJvcHNbaV0sIHRvcDogMCwgJ3otaW5kZXgnOiAyfSk7XG4gICAgICBpZiAodGVzdEVsLmNzcygncG9zaXRpb24nKSA9PSBzdGlja3lQcm9wc1tpXSkge1xuICAgICAgICBzdGlja3lQcm9wID0gc3RpY2t5UHJvcHNbaV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXN0RWwucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHN0aWNreVByb3A7XG4gIH1cblxuICAvLyBBbmRyb2lkIDQuNCBkb24ndCBhY2N1cmF0ZWx5IGdpdmUgc2Nyb2xsIGV2ZW50cy5cbiAgLy8gVG8gZml4IHRoaXMgcHJvYmxlbSwgd2Ugc2V0dXAgYSBmYWtlIHNjcm9sbCBldmVudC4gV2Ugc2F5OlxuICAvLyA+IElmIGEgc2Nyb2xsIG9yIHRvdWNobW92ZSBldmVudCBoYXMgaGFwcGVuZWQgaW4gdGhlIGxhc3QgREVMQVkgbWlsbGlzZWNvbmRzLCBcbiAgLy8gICB0aGVuIHNlbmQgYSBgJHNjcm9sbGAgZXZlbnQgZXZlcnkgYW5pbWF0aW9uRnJhbWUuXG4gIC8vIEFkZGl0aW9uYWxseSwgd2UgYWRkICRzY3JvbGxzdGFydCBhbmQgJHNjcm9sbGVuZCBldmVudHMuXG4gIGZ1bmN0aW9uIHNldHVwQXVnbWVudGVkU2Nyb2xsRXZlbnRzKGVsZW1lbnQpIHtcbiAgICB2YXIgU0NST0xMX0VORF9ERUxBWSA9IDIwMDtcbiAgICB2YXIgaXNTY3JvbGxpbmc7XG4gICAgdmFyIGxhc3RTY3JvbGxUaW1lO1xuICAgIGVsZW1lbnQub24oJ3Njcm9sbCB0b3VjaG1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAkJHJBRihsb29wU2Nyb2xsRXZlbnQpO1xuICAgICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCckc2Nyb2xsc3RhcnQnKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRzY3JvbGwnKTtcbiAgICAgIGxhc3RTY3JvbGxUaW1lID0gKyRtZFV0aWwubm93KCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsb29wU2Nyb2xsRXZlbnQoKSB7XG4gICAgICBpZiAoKyRtZFV0aWwubm93KCkgLSBsYXN0U2Nyb2xsVGltZSA+IFNDUk9MTF9FTkRfREVMQVkpIHtcbiAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbGVuZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbCcpO1xuICAgICAgICAkJHJBRihsb29wU2Nyb2xsRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5NZFN0aWNreS4kaW5qZWN0ID0gW1wiJGRvY3VtZW50XCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkY29tcGlsZVwiLCBcIiQkckFGXCIsIFwiJG1kVXRpbFwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogU3ViSGVhZGVyIG1vZHVsZVxuICpcbiAqICBTdWJoZWFkZXJzIGFyZSBzcGVjaWFsIGxpc3QgdGlsZXMgdGhhdCBkZWxpbmVhdGUgZGlzdGluY3Qgc2VjdGlvbnMgb2YgYVxuICogIGxpc3Qgb3IgZ3JpZCBsaXN0IGFuZCBhcmUgdHlwaWNhbGx5IHJlbGF0ZWQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyaW5nIG9yXG4gKiAgc29ydGluZyBjcml0ZXJpYS4gU3ViaGVhZGVyIHRpbGVzIGFyZSBlaXRoZXIgZGlzcGxheWVkIGlubGluZSB3aXRoIHRpbGVzIG9yXG4gKiAgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBjb250ZW50LCBmb3IgZXhhbXBsZSwgaW4gYW4gYWRqYWNlbnQgY29sdW1uLlxuICpcbiAqICBVcG9uIHNjcm9sbGluZywgc3ViaGVhZGVycyByZW1haW4gcGlubmVkIHRvIHRoZSB0b3Agb2YgdGhlIHNjcmVlbiBhbmQgcmVtYWluXG4gKiAgcGlubmVkIHVudGlsIHB1c2hlZCBvbiBvciBvZmYgc2NyZWVuIGJ5IHRoZSBuZXh0IHN1YmhlYWRlci4gQHNlZSBbTWF0ZXJpYWxcbiAqICBEZXNpZ24gU3BlY2lmaWNhdGlvbnNdKGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvY29tcG9uZW50cy9zdWJoZWFkZXJzLmh0bWwpXG4gKlxuICogID4gVG8gaW1wcm92ZSB0aGUgdmlzdWFsIGdyb3VwaW5nIG9mIGNvbnRlbnQsIHVzZSB0aGUgc3lzdGVtIGNvbG9yIGZvciB5b3VyIHN1YmhlYWRlcnMuXG4gKlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXInLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRTdWJoZWFkZXInLCBNZFN1YmhlYWRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTdWJoZWFkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXJcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtc3ViaGVhZGVyPmAgZGlyZWN0aXZlIGlzIGEgc3ViaGVhZGVyIGZvciBhIHNlY3Rpb25cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtc3ViaGVhZGVyPk9ubGluZSBGcmllbmRzPC9tZC1zdWJoZWFkZXI+XG4gKiA8L2hsanM+XG4gKi9cblxuZnVuY3Rpb24gTWRTdWJoZWFkZXJEaXJlY3RpdmUoJG1kU3RpY2t5LCAkY29tcGlsZSwgJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8aDIgY2xhc3M9XCJtZC1zdWJoZWFkZXJcIj4nICtcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwibWQtc3ViaGVhZGVyLWNvbnRlbnRcIj48L3NwYW4+JyArXG4gICAgICAnPC9oMj4nLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIHZhciBvdXRlckhUTUwgPSBlbGVtZW50WzBdLm91dGVySFRNTDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgICBmdW5jdGlvbiBnZXRDb250ZW50KGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChlbFswXS5xdWVyeVNlbGVjdG9yKCcubWQtc3ViaGVhZGVyLWNvbnRlbnQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFuc2NsdWRlIHRoZSB1c2VyLWdpdmVuIGNvbnRlbnRzIG9mIHRoZSBzdWJoZWFkZXJcbiAgICAgICAgLy8gdGhlIGNvbnZlbnRpb25hbCB3YXkuXG4gICAgICAgIHRyYW5zY2x1ZGUoc2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgZ2V0Q29udGVudChlbGVtZW50KS5hcHBlbmQoY2xvbmUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgYW5vdGhlciBjbG9uZSwgdGhhdCB1c2VzIHRoZSBvdXRlciBhbmQgaW5uZXIgY29udGVudHNcbiAgICAgICAgLy8gb2YgdGhlIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSAnc3RpY2tpZWQnIGFzIHRoZSB1c2VyIHNjcm9sbHMuXG4gICAgICAgIHRyYW5zY2x1ZGUoc2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgdmFyIHN0aWNreUNsb25lID0gJGNvbXBpbGUoYW5ndWxhci5lbGVtZW50KG91dGVySFRNTCkpKHNjb3BlKTtcbiAgICAgICAgICAkbWRUaGVtaW5nKHN0aWNreUNsb25lKTtcbiAgICAgICAgICBnZXRDb250ZW50KHN0aWNreUNsb25lKS5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICRtZFN0aWNreShzY29wZSwgZWxlbWVudCwgc3RpY2t5Q2xvbmUpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuTWRTdWJoZWFkZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFN0aWNreVwiLCBcIiRjb21waWxlXCIsIFwiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlXG4gKiBAZGVzY3JpcHRpb24gU3dpcGUgbW9kdWxlIVxuICovXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZVxuICogQG5hbWUgbWRTd2lwZUxlZnRcbiAqXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1kLXN3aXBlLWxlZnQgZGlyZWN0aXZlcyBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW4gYW4gZWxlbWVudCBpcyBzd2lwZWRcbiAqIGxlZnQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBtZC1zd2lwZS1sZWZ0PVwib25Td2lwZUxlZnQoKVwiPlN3aXBlIG1lIGxlZnQhPC9kaXY+XG4gKiA8L2hsanM+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcbiAqIEBuYW1lIG1kU3dpcGVSaWdodFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWQtc3dpcGUtcmlnaHQgZGlyZWN0aXZlcyBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW4gYW4gZWxlbWVudCBpcyBzd2lwZWRcbiAqIHJpZ2h0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbWQtc3dpcGUtcmlnaHQ9XCJvblN3aXBlUmlnaHQoKVwiPlN3aXBlIG1lIHJpZ2h0ITwvZGl2PlxuICogPC9obGpzPlxuICovXG5cbnZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zd2lwZScsW10pO1xuXG5bJ1N3aXBlTGVmdCcsICdTd2lwZVJpZ2h0J10uZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBkaXJlY3RpdmVOYW1lID0gJ21kJyArIG5hbWU7XG4gIHZhciBldmVudE5hbWUgPSAnJG1kLicgKyBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgbW9kdWxlLmRpcmVjdGl2ZShkaXJlY3RpdmVOYW1lLCAvKkBuZ0luamVjdCovIFtcIiRwYXJzZVwiLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIGxpbms6IHBvc3RMaW5rXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSk7XG5cbiAgICAgIGVsZW1lbnQub24oZXZlbnROYW1lLCBmdW5jdGlvbihldikge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm4oc2NvcGUsIHtcbiAgICAgICAgICAgICRldmVudDogZXZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIH1cbiAgfV0pO1xufSk7XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRTd2l0Y2gnLCBNZFN3aXRjaCk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcbiAqIEBuYW1lIG1kU3dpdGNoXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIFRoZSBzd2l0Y2ggZGlyZWN0aXZlIGlzIHVzZWQgdmVyeSBtdWNoIGxpa2UgdGhlIG5vcm1hbCBbYW5ndWxhciBjaGVja2JveF0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nL2lucHV0L2lucHV0JTVCY2hlY2tib3glNUQpLlxuICpcbiAqIEFzIHBlciB0aGUgW21hdGVyaWFsIGRlc2lnbiBzcGVjXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBzd2l0Y2ggaXMgaW4gdGhlIGFjY2VudCBjb2xvciBieSBkZWZhdWx0LiBUaGUgcHJpbWFyeSBjb2xvciBwYWxldHRlIG1heSBiZSB1c2VkIHdpdGhcbiAqIHRoZSBgbWQtcHJpbWFyeWAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nLW1vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLXRydWUtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nLWZhbHNlLXZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gbm90IHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZy1jaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlciBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIFVzZSBvZiBhdHRyaWJ1dGUgaW5kaWNhdGVzIHVzZSBvZiByaXBwbGUgaW5rIGVmZmVjdHMuXG4gKiBAcGFyYW0ge3N0cmluZz19IGFyaWEtbGFiZWwgUHVibGlzaCB0aGUgYnV0dG9uIGxhYmVsIHVzZWQgYnkgc2NyZWVuLXJlYWRlcnMgZm9yIGFjY2Vzc2liaWxpdHkuIERlZmF1bHRzIHRvIHRoZSBzd2l0Y2gncyB0ZXh0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zd2l0Y2ggbmctbW9kZWw9XCJpc0FjdGl2ZVwiIGFyaWEtbGFiZWw9XCJGaW5pc2hlZD9cIj5cbiAqICAgRmluaXNoZWQgP1xuICogPC9tZC1zd2l0Y2g+XG4gKlxuICogPG1kLXN3aXRjaCBtZC1uby1pbmsgbmctbW9kZWw9XCJoYXNJbmtcIiBhcmlhLWxhYmVsPVwiTm8gSW5rIEVmZmVjdHNcIj5cbiAqICAgTm8gSW5rIEVmZmVjdHNcbiAqIDwvbWQtc3dpdGNoPlxuICpcbiAqIDxtZC1zd2l0Y2ggbmctZGlzYWJsZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJpc0Rpc2FibGVkXCIgYXJpYS1sYWJlbD1cIkRpc2FibGVkXCI+XG4gKiAgIERpc2FibGVkXG4gKiA8L21kLXN3aXRjaD5cbiAqXG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIE1kU3dpdGNoKG1kQ2hlY2tib3hEaXJlY3RpdmUsICRtZFRoZW1pbmcsICRtZFV0aWwsICRkb2N1bWVudCwgJG1kQ29uc3RhbnQsICRwYXJzZSwgJCRyQUYsICRtZEdlc3R1cmUpIHtcbiAgdmFyIGNoZWNrYm94RGlyZWN0aXZlID0gbWRDaGVja2JveERpcmVjdGl2ZVswXTtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtYmFyXCI+PC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtdGh1bWItY29udGFpbmVyXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10aHVtYlwiIG1kLWluay1yaXBwbGUgbWQtaW5rLXJpcHBsZS1jaGVja2JveD48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicrXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBuZy10cmFuc2NsdWRlIGNsYXNzPVwibWQtbGFiZWxcIj4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xuICAgIHZhciBjaGVja2JveExpbmsgPSBjaGVja2JveERpcmVjdGl2ZS5jb21waWxlKGVsZW1lbnQsIGF0dHIpO1xuICAgIC8vIG5vIHRyYW5zaXRpb24gb24gaW5pdGlhbCBsb2FkXG4gICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWwpIHtcbiAgICAgIG5nTW9kZWwgPSBuZ01vZGVsIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcbiAgICAgIHZhciBkaXNhYmxlZEdldHRlciA9ICRwYXJzZShhdHRyLm5nRGlzYWJsZWQpO1xuICAgICAgdmFyIHRodW1iQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iLWNvbnRhaW5lcicpKTtcbiAgICAgIHZhciBzd2l0Y2hDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtY29udGFpbmVyJykpO1xuXG4gICAgICAvLyBubyB0cmFuc2l0aW9uIG9uIGluaXRpYWwgbG9hZFxuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICB9KTtcblxuICAgICAgY2hlY2tib3hMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdEaXNhYmxlZCkpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGRpc2FibGVkR2V0dGVyLCBmdW5jdGlvbihpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIGlzRGlzYWJsZWQgPyAtMSA6IDApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYnkgc2V0dXAgZHJhZ1xuICAgICAgJG1kR2VzdHVyZS5yZWdpc3Rlcihzd2l0Y2hDb250YWluZXIsICdkcmFnJyk7XG4gICAgICBzd2l0Y2hDb250YWluZXJcbiAgICAgICAgLm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgICB2YXIgZHJhZztcbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2KSB7XG4gICAgICAgIC8vIERvbid0IGdvIGlmIG5nLWRpc2FibGVkPT09dHJ1ZVxuICAgICAgICBpZiAoZGlzYWJsZWRHZXR0ZXIoc2NvcGUpKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICAgIGRyYWcgPSB7XG4gICAgICAgICAgd2lkdGg6IHRodW1iQ29udGFpbmVyLnByb3AoJ29mZnNldFdpZHRoJylcbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygndHJhbnNpdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkRyYWcoZXYpIHtcbiAgICAgICAgaWYgKCFkcmFnKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldi5zcmNFdmVudCAmJiBldi5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBwZXJjZW50ID0gZXYucG9pbnRlci5kaXN0YW5jZVggLyBkcmFnLndpZHRoO1xuXG4gICAgICAgIC8vaWYgY2hlY2tlZCwgc3RhcnQgZnJvbSByaWdodC4gZWxzZSwgc3RhcnQgZnJvbSBsZWZ0XG4gICAgICAgIHZhciB0cmFuc2xhdGUgPSBuZ01vZGVsLiR2aWV3VmFsdWUgPyAgMSArIHBlcmNlbnQgOiBwZXJjZW50O1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHN3aXRjaCBzdGF5cyBpbnNpZGUgaXRzIGJvdW5kcywgMC0xJVxuICAgICAgICB0cmFuc2xhdGUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB0cmFuc2xhdGUpKTtcblxuICAgICAgICB0aHVtYkNvbnRhaW5lci5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJ3RyYW5zbGF0ZTNkKCcgKyAoMTAwKnRyYW5zbGF0ZSkgKyAnJSwwLDApJyk7XG4gICAgICAgIGRyYWcudHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkRyYWdFbmQoZXYpIHtcbiAgICAgICAgaWYgKCFkcmFnKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICAgIHRodW1iQ29udGFpbmVyLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG5cbiAgICAgICAgLy8gV2UgY2hhbmdlZCBpZiB0aGVyZSBpcyBubyBkaXN0YW5jZSAodGhpcyBpcyBhIGNsaWNrIGEgY2xpY2spLFxuICAgICAgICAvLyBvciBpZiB0aGUgZHJhZyBkaXN0YW5jZSBpcyA+NTAlIG9mIHRoZSB0b3RhbC5cbiAgICAgICAgdmFyIGlzQ2hhbmdlZCA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/IGRyYWcudHJhbnNsYXRlIDwgMC41IDogZHJhZy50cmFuc2xhdGUgPiAwLjU7XG4gICAgICAgIGlmIChpc0NoYW5nZWQpIHtcbiAgICAgICAgICBhcHBseU1vZGVsVmFsdWUoIW5nTW9kZWwuJHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhZyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFwcGx5TW9kZWxWYWx1ZShuZXdWYWx1ZSkge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cblxufVxuTWRTd2l0Y2guJGluamVjdCA9IFtcIm1kQ2hlY2tib3hEaXJlY3RpdmVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRkb2N1bWVudFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHBhcnNlXCIsIFwiJCRyQUZcIiwgXCIkbWRHZXN0dXJlXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMudGFic1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIFRhYnMsIGNyZWF0ZWQgd2l0aCB0aGUgYDxtZC10YWJzPmAgZGlyZWN0aXZlIHByb3ZpZGUgKnRhYmJlZCogbmF2aWdhdGlvbiB3aXRoIGRpZmZlcmVudCBzdHlsZXMuXG4gKiAgVGhlIFRhYnMgY29tcG9uZW50IGNvbnNpc3RzIG9mIGNsaWNrYWJsZSB0YWJzIHRoYXQgYXJlIGFsaWduZWQgaG9yaXpvbnRhbGx5IHNpZGUtYnktc2lkZS5cbiAqXG4gKiAgRmVhdHVyZXMgaW5jbHVkZSBzdXBwb3J0IGZvcjpcbiAqXG4gKiAgLSBzdGF0aWMgb3IgZHluYW1pYyB0YWJzLFxuICogIC0gcmVzcG9uc2l2ZSBkZXNpZ25zLFxuICogIC0gYWNjZXNzaWJpbGl0eSBzdXBwb3J0IChBUklBKSxcbiAqICAtIHRhYiBwYWdpbmF0aW9uLFxuICogIC0gZXh0ZXJuYWwgb3IgaW50ZXJuYWwgdGFiIGNvbnRlbnQsXG4gKiAgLSBmb2N1cyBpbmRpY2F0b3JzIGFuZCBhcnJvdy1rZXkgbmF2aWdhdGlvbnMsXG4gKiAgLSBwcm9ncmFtbWF0aWMgbG9va3VwIGFuZCBhY2Nlc3MgdG8gdGFiIGNvbnRyb2xsZXJzLCBhbmRcbiAqICAtIGR5bmFtaWMgdHJhbnNpdGlvbnMgdGhyb3VnaCBkaWZmZXJlbnQgdGFiIGNvbnRlbnRzLlxuICpcbiAqL1xuLypcbiAqIEBzZWUganMgZm9sZGVyIGZvciB0YWJzIGltcGxlbWVudGF0aW9uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSk7XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMudGV4dEZpZWxkXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGV4dEZpZWxkJywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kSW5wdXRHcm91cCcsIG1kSW5wdXRHcm91cERpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgnbWRJbnB1dCcsIG1kSW5wdXREaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kVGV4dEZsb2F0JywgbWRUZXh0RmxvYXREaXJlY3RpdmUpO1xuXG5cbmZ1bmN0aW9uIG1kVGV4dEZsb2F0RGlyZWN0aXZlKCRtZFRoZW1pbmcsICRtZFV0aWwsICRwYXJzZSwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZSA6IHtcbiAgICAgIGZpZCA6ICdAP21kRmlkJyxcbiAgICAgIGxhYmVsIDogJ0A/JyxcbiAgICAgIHZhbHVlIDogJz1uZ01vZGVsJ1xuICAgIH0sXG4gICAgY29tcGlsZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcblxuICAgICAgJGxvZy53YXJuKCc8bWQtdGV4dC1mbG9hdD4gaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgPG1kLWlucHV0LWNvbnRhaW5lcj5gIGFuZCBgPGlucHV0PmAuJyArIFxuICAgICAgICAgICAgICAgICdNb3JlIGluZm9ybWF0aW9uIGF0IGh0dHA6Ly9tYXRlcmlhbC5hbmd1bGFyanMub3JnLyMvYXBpL21hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXQvZGlyZWN0aXZlL21kSW5wdXRDb250YWluZXInKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzVW5kZWZpbmVkKGF0dHIubWRGaWQpICkge1xuICAgICAgICBhdHRyLm1kRmlkID0gJG1kVXRpbC5uZXh0VWlkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZSA6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIHZhciBkaXNhYmxlZFBhcnNlZCA9ICRwYXJzZShhdHRycy5uZ0Rpc2FibGVkKTtcbiAgICAgICAgICBzY29wZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlzYWJsZWRQYXJzZWQoc2NvcGUuJHBhcmVudCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNjb3BlLmlucHV0VHlwZSA9IGF0dHJzLnR5cGUgfHwgXCJ0ZXh0XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6ICRtZFRoZW1pbmdcbiAgICAgIH07XG4gICAgfSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAnPG1kLWlucHV0LWdyb3VwIHRhYmluZGV4PVwiLTFcIj4nICtcbiAgICAnIDxsYWJlbCBmb3I9XCJ7e2ZpZH19XCIgPnt7bGFiZWx9fTwvbGFiZWw+JyArXG4gICAgJyA8bWQtaW5wdXQgaWQ9XCJ7e2ZpZH19XCIgbmctZGlzYWJsZWQ9XCJpc0Rpc2FibGVkKClcIiBuZy1tb2RlbD1cInZhbHVlXCIgdHlwZT1cInt7aW5wdXRUeXBlfX1cIj48L21kLWlucHV0PicgK1xuICAgICc8L21kLWlucHV0LWdyb3VwPidcbiAgfTtcbn1cbm1kVGV4dEZsb2F0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRwYXJzZVwiLCBcIiRsb2dcIl07XG5cbmZ1bmN0aW9uIG1kSW5wdXRHcm91cERpcmVjdGl2ZSgkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdDRScsXG4gICAgY29udHJvbGxlcjogWyckZWxlbWVudCcsIGZ1bmN0aW9uKCRlbGVtZW50KSB7XG5cbiAgICAgICRsb2cud2FybignPG1kLWlucHV0LWdyb3VwPiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGA8bWQtaW5wdXQtY29udGFpbmVyPmAgYW5kIGA8aW5wdXQ+YC4nICsgXG4gICAgICAgICAgICAgICAgJ01vcmUgaW5mb3JtYXRpb24gYXQgaHR0cDovL21hdGVyaWFsLmFuZ3VsYXJqcy5vcmcvIy9hcGkvbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dC9kaXJlY3RpdmUvbWRJbnB1dENvbnRhaW5lcicpO1xuICAgICAgdGhpcy5zZXRGb2N1c2VkID0gZnVuY3Rpb24oaXNGb2N1c2VkKSB7XG4gICAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1pbnB1dC1mb2N1c2VkJywgISFpc0ZvY3VzZWQpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuc2V0SGFzVmFsdWUgPSBmdW5jdGlvbihoYXNWYWx1ZSkge1xuICAgICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnbWQtaW5wdXQtaGFzLXZhbHVlJywgaGFzVmFsdWUgKTtcbiAgICAgIH07XG4gICAgfV1cbiAgfTtcblxufVxubWRJbnB1dEdyb3VwRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbG9nXCJdO1xuXG5mdW5jdGlvbiBtZElucHV0RGlyZWN0aXZlKCRtZFV0aWwsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGU6ICc8aW5wdXQgPicsXG4gICAgcmVxdWlyZTogWydeP21kSW5wdXRHcm91cCcsICc/bmdNb2RlbCddLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgaWYgKCAhY3RybHNbMF0gKSByZXR1cm47XG5cbiAgICAgICRsb2cud2FybignPG1kLWlucHV0PiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGA8bWQtaW5wdXQtY29udGFpbmVyPmAgYW5kIGA8aW5wdXQ+YC4nICsgXG4gICAgICAgICAgICAgICAgJ01vcmUgaW5mb3JtYXRpb24gYXQgaHR0cDovL21hdGVyaWFsLmFuZ3VsYXJqcy5vcmcvIy9hcGkvbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dC9kaXJlY3RpdmUvbWRJbnB1dENvbnRhaW5lcicpO1xuXG4gICAgICB2YXIgaW5wdXRHcm91cEN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBzY29wZS4kd2F0Y2goc2NvcGUuaXNEaXNhYmxlZCwgZnVuY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAhIWlzRGlzYWJsZWQpO1xuICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgISFpc0Rpc2FibGVkKTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hdHRyKCd0eXBlJywgYXR0ci50eXBlIHx8IGVsZW1lbnQucGFyZW50KCkuYXR0cigndHlwZScpIHx8IFwidGV4dFwiKTtcblxuICAgICAgLy8gV2hlbiB0aGUgaW5wdXQgdmFsdWUgY2hhbmdlcywgY2hlY2sgaWYgaXQgXCJoYXNcIiBhIHZhbHVlLCBhbmRcbiAgICAgIC8vIHNldCB0aGUgYXBwcm9wcmlhdGUgY2xhc3Mgb24gdGhlIGlucHV0IGdyb3VwXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgLy9BZGQgYSAkZm9ybWF0dGVyIHNvIHdlIGRvbid0IHVzZSB1cCB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRIYXNWYWx1ZSggaXNOb3RFbXB0eSh2YWx1ZSkgKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRIYXNWYWx1ZSggaXNOb3RFbXB0eSgpICk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgLy8gV2hlbiB0aGUgaW5wdXQgZm9jdXNlcywgYWRkIHRoZSBmb2N1c2VkIGNsYXNzIHRvIHRoZSBncm91cFxuICAgICAgICAgIGlucHV0R3JvdXBDdHJsLnNldEZvY3VzZWQodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBpbnB1dCBibHVycywgcmVtb3ZlIHRoZSBmb2N1c2VkIGNsYXNzIGZyb20gdGhlIGdyb3VwXG4gICAgICAgICAgaW5wdXRHcm91cEN0cmwuc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICAgICAgaW5wdXRHcm91cEN0cmwuc2V0SGFzVmFsdWUoIGlzTm90RW1wdHkoKSApO1xuICAgICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnB1dEdyb3VwQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgaW5wdXRHcm91cEN0cmwuc2V0SGFzVmFsdWUoZmFsc2UpO1xuICAgICAgfSk7XG5cblxuICAgICAgZnVuY3Rpb24gaXNOb3RFbXB0eSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpID8gZWxlbWVudC52YWwoKSA6IHZhbHVlO1xuICAgICAgICByZXR1cm4gKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiAodmFsdWUhPT1udWxsKSAmJlxuICAgICAgICAgICAgICAgKHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpICE9PSBcIlwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxubWRJbnB1dERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiLCBcIiRsb2dcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50b2FzdFxuICogQGRlc2NyaXB0aW9uXG4gKiBUb2FzdFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50b2FzdCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b24nXG5dKVxuICAuZGlyZWN0aXZlKCdtZFRvYXN0JywgTWRUb2FzdERpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRUb2FzdCcsIE1kVG9hc3RQcm92aWRlcik7XG5cbmZ1bmN0aW9uIE1kVG9hc3REaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJ1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRUb2FzdFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kVG9hc3RgIGlzIGEgc2VydmljZSB0byBidWlsZCBhIHRvYXN0IG5vZmljYXRpb24gb24gYW55IHBvc2l0aW9uXG4gKiBvbiB0aGUgc2NyZWVuIHdpdGggYW4gb3B0aW9uYWwgZHVyYXRpb24sIGFuZCBwcm92aWRlcyBhIHNpbXBsZSBwcm9taXNlIEFQSS5cbiAqXG4gKlxuICogIyMgUmVzdHJpY3Rpb25zIG9uIGN1c3RvbSB0b2FzdHNcbiAqIC0gVGhlIHRvYXN0J3MgdGVtcGxhdGUgbXVzdCBoYXZlIGFuIG91dGVyIGA8bWQtdG9hc3Q+YCBlbGVtZW50LlxuICogLSBGb3IgYSB0b2FzdCBhY3Rpb24sIHVzZSBlbGVtZW50IHdpdGggY2xhc3MgYG1kLWFjdGlvbmAuXG4gKiAtIEFkZCB0aGUgY2xhc3MgYG1kLWNhcHN1bGVgIGZvciBjdXJ2ZWQgY29ybmVycy5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNeUNvbnRyb2xsZXJcIj5cbiAqICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cIm9wZW5Ub2FzdCgpXCI+XG4gKiAgICAgT3BlbiBhIFRvYXN0IVxuICogICA8L21kLWJ1dHRvbj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ25nTWF0ZXJpYWwnXSk7XG4gKiBhcHAuY29udHJvbGxlcignTXlDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbWRUb2FzdCkge1xuICogICAkc2NvcGUub3BlblRvYXN0ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gKiAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KCdIZWxsbyEnKSk7XG4gKiAgICAgLy8gQ291bGQgYWxzbyBkbyAkbWRUb2FzdC5zaG93U2ltcGxlKCdIZWxsbycpO1xuICogICB9O1xuICogfSk7XG4gKiA8L2hsanM+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNzaG93U2ltcGxlXG4gKiBcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVuaWVuY2UgbWV0aG9kIHdoaWNoIGJ1aWxkcyBhbmQgc2hvd3MgYSBzaW1wbGUgdG9hc3QuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWRUb2FzdC5oaWRlKClgIG9yXG4gKiByZWplY3RlZCB3aXRoIGAkbWRUb2FzdC5jYW5jZWwoKWAuXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3NpbXBsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQnVpbGRzIGEgcHJlY29uZmlndXJlZCB0b2FzdC5cbiAqXG4gKiBAcmV0dXJucyB7b2JqfSBhIGAkbWRUb2FzdFByZXNldGAgd2l0aCB0aGUgY2hhaW5hYmxlIGNvbmZpZ3VyYXRpb24gbWV0aG9kczpcbiAqXG4gKiAtICRtZFRvYXN0UHJlc2V0I2NvbnRlbnQoc3RyaW5nKSAtIHNldHMgdG9hc3QgY29udGVudCB0byBzdHJpbmdcbiAqIC0gJG1kVG9hc3RQcmVzZXQjYWN0aW9uKHN0cmluZykgLSBhZGRzIGFuIGFjdGlvbiBidXR0b24sIHdoaWNoIHJlc29sdmVzIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYHNob3coKWAgaWYgY2xpY2tlZC5cbiAqIC0gJG1kVG9hc3RQcmVzZXQjaGlnaGxpZ2h0QWN0aW9uKGJvb2xlYW4pIC0gc2V0cyBhY3Rpb24gYnV0dG9uIHRvIGJlIGhpZ2hsaWdodGVkXG4gKiAtICRtZFRvYXN0UHJlc2V0I2NhcHN1bGUoYm9vbGVhbikgLSBhZGRzICdtZC1jYXBzdWxlJyBjbGFzcyB0byB0aGUgdG9hc3QgKGN1cnZlZCBjb3JuZXJzKVxuICogLSAkbWRUb2FzdFByZXNldCN0aGVtZShib29sZWFuKSAtIHNldHMgdGhlIHRoZW1lIG9uIHRoZSB0b2FzdCB0byB0aGVtZSAoZGVmYXVsdCBpcyBgJG1kVGhlbWluZ1Byb3ZpZGVyYCdzIGRlZmF1bHQgdGhlbWUpXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCN1cGRhdGVDb250ZW50XG4gKiBcbiAqIEBkZXNjcmlwdGlvblxuICogVXBkYXRlcyB0aGUgY29udGVudCBvZiBhbiBleGlzdGluZyB0b2FzdC4gVXNlZnVsIGZvciB1cGRhdGluZyB0aGluZ3MgbGlrZSBjb3VudHMsIGV0Yy5cbiAqXG4gKi9cblxuIC8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVG9hc3QjYnVpbGRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBjdXN0b20gYCRtZFRvYXN0UHJlc2V0YCB0aGF0IHlvdSBjYW4gY29uZmlndXJlLlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGEgYCRtZFRvYXN0UHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzIGZvciBzaG93cycgb3B0aW9ucyAoc2VlIGJlbG93KS5cbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uIFNob3dzIHRoZSB0b2FzdC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc09yUHJlc2V0IEVpdGhlciBwcm92aWRlIGFuIGAkbWRUb2FzdFByZXNldGAgcmV0dXJuZWQgZnJvbSBgc2ltcGxlKClgXG4gKiBhbmQgYGJ1aWxkKClgLCBvciBhbiBvcHRpb25zIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gYHRlbXBsYXRlVXJsYCAtIGB7c3RyaW5nPX1gOiBUaGUgdXJsIG9mIGFuIGh0bWwgdGVtcGxhdGUgZmlsZSB0aGF0IHdpbGxcbiAqICAgICBiZSB1c2VkIGFzIHRoZSBjb250ZW50IG9mIHRoZSB0b2FzdC4gUmVzdHJpY3Rpb25zOiB0aGUgdGVtcGxhdGUgbXVzdFxuICogICAgIGhhdmUgYW4gb3V0ZXIgYG1kLXRvYXN0YCBlbGVtZW50LlxuICogICAtIGB0ZW1wbGF0ZWAgLSBge3N0cmluZz19YDogU2FtZSBhcyB0ZW1wbGF0ZVVybCwgZXhjZXB0IHRoaXMgaXMgYW4gYWN0dWFsXG4gKiAgICAgdGVtcGxhdGUgc3RyaW5nLlxuICogICAtIGBoaWRlRGVsYXlgIC0gYHtudW1iZXI9fWA6IEhvdyBtYW55IG1pbGxpc2Vjb25kcyB0aGUgdG9hc3Qgc2hvdWxkIHN0YXlcbiAqICAgICBhY3RpdmUgYmVmb3JlIGF1dG9tYXRpY2FsbHkgY2xvc2luZy4gIFNldCB0byAwIG9yIGZhbHNlIHRvIGhhdmUgdGhlIHRvYXN0IHN0YXkgb3BlbiB1bnRpbFxuICogICAgIGNsb3NlZCBtYW51YWxseS4gRGVmYXVsdDogMzAwMC5cbiAqICAgLSBgcG9zaXRpb25gIC0gYHtzdHJpbmc9fWA6IFdoZXJlIHRvIHBsYWNlIHRoZSB0b2FzdC4gQXZhaWxhYmxlOiBhbnkgY29tYmluYXRpb25cbiAqICAgICBvZiAnYm90dG9tJywgJ2xlZnQnLCAndG9wJywgJ3JpZ2h0JywgJ2ZpdCcuIERlZmF1bHQ6ICdib3R0b20gbGVmdCcuXG4gKiAgIC0gYGNvbnRyb2xsZXJgIC0gYHtzdHJpbmc9fWA6IFRoZSBjb250cm9sbGVyIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgdG9hc3QuXG4gKiAgICAgVGhlIGNvbnRyb2xsZXIgd2lsbCBiZSBpbmplY3RlZCB0aGUgbG9jYWwgYCRoaWRlVG9hc3RgLCB3aGljaCBpcyBhIGZ1bmN0aW9uXG4gKiAgICAgdXNlZCB0byBoaWRlIHRoZSB0b2FzdC5cbiAqICAgLSBgbG9jYWxzYCAtIGB7c3RyaW5nPX1gOiBBbiBvYmplY3QgY29udGFpbmluZyBrZXkvdmFsdWUgcGFpcnMuIFRoZSBrZXlzIHdpbGxcbiAqICAgICBiZSB1c2VkIGFzIG5hbWVzIG9mIHZhbHVlcyB0byBpbmplY3QgaW50byB0aGUgY29udHJvbGxlci4gRm9yIGV4YW1wbGUsXG4gKiAgICAgYGxvY2Fsczoge3RocmVlOiAzfWAgd291bGQgaW5qZWN0IGB0aHJlZWAgaW50byB0aGUgY29udHJvbGxlciB3aXRoIHRoZSB2YWx1ZVxuICogICAgIG9mIDMuXG4gKiAgIC0gYHJlc29sdmVgIC0gYHtvYmplY3Q9fWA6IFNpbWlsYXIgdG8gbG9jYWxzLCBleGNlcHQgaXQgdGFrZXMgcHJvbWlzZXMgYXMgdmFsdWVzXG4gKiAgICAgYW5kIHRoZSB0b2FzdCB3aWxsIG5vdCBvcGVuIHVudGlsIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICogICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWA6IEFuIGFsaWFzIHRvIGFzc2lnbiB0aGUgY29udHJvbGxlciB0byBvbiB0aGUgc2NvcGUuXG4gKiAgIC0gYHBhcmVudGAgLSBge2VsZW1lbnQ9fWA6IFRoZSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgdG9hc3QgdG8uIERlZmF1bHRzIHRvIGFwcGVuZGluZ1xuICogICAgIHRvIHRoZSByb290IGVsZW1lbnQgb2YgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kVG9hc3QuaGlkZSgpYCBvclxuICogcmVqZWN0ZWQgd2l0aCBgJG1kVG9hc3QuY2FuY2VsKClgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVG9hc3QjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyB0b2FzdCBhbmQgcmVzb2x2ZSB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWRUb2FzdC5zaG93KClgLlxuICpcbiAqIEBwYXJhbSB7Kj19IHJlc3BvbnNlIEFuIGFyZ3VtZW50IGZvciB0aGUgcmVzb2x2ZWQgcHJvbWlzZS5cbiAqXG4gKiBAcmV0dXJucyB7cHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGV4aXN0aW5nIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAqXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNjYW5jZWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhpZGUgdGhlIGV4aXN0aW5nIHRvYXN0IGFuZCByZWplY3QgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbVxuICogYCRtZFRvYXN0LnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZWplY3RlZCBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBhIHByb21pc2UgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgZXhpc3RpbmcgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTVxuICpcbiAqL1xuXG5mdW5jdGlvbiBNZFRvYXN0UHJvdmlkZXIoJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKSB7XG4gIHZhciBhY3RpdmVUb2FzdENvbnRlbnQ7XG4gIHZhciAkbWRUb2FzdCA9ICQkaW50ZXJpbUVsZW1lbnRQcm92aWRlcignJG1kVG9hc3QnKVxuICAgIC5zZXREZWZhdWx0cyh7XG4gICAgICBtZXRob2RzOiBbJ3Bvc2l0aW9uJywgJ2hpZGVEZWxheScsICdjYXBzdWxlJ10sXG4gICAgICBvcHRpb25zOiB0b2FzdERlZmF1bHRPcHRpb25zXG4gICAgfSlcbiAgICAuYWRkUHJlc2V0KCdzaW1wbGUnLCB7XG4gICAgICBhcmdPcHRpb246ICdjb250ZW50JyxcbiAgICAgIG1ldGhvZHM6IFsnY29udGVudCcsICdhY3Rpb24nLCAnaGlnaGxpZ2h0QWN0aW9uJywgJ3RoZW1lJ10sXG4gICAgICBvcHRpb25zOiAvKiBAbmdJbmplY3QgKi8gW1wiJG1kVG9hc3RcIiwgXCIkbWRUaGVtaW5nXCIsIGZ1bmN0aW9uKCRtZFRvYXN0LCAkbWRUaGVtaW5nKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgIHRlbXBsYXRlOiBbXG4gICAgICAgICAgICAnPG1kLXRvYXN0IG1kLXRoZW1lPVwie3sgdG9hc3QudGhlbWUgfX1cIiBuZy1jbGFzcz1cIntcXCdtZC1jYXBzdWxlXFwnOiB0b2FzdC5jYXBzdWxlfVwiPicsXG4gICAgICAgICAgICAgICc8c3BhbiBmbGV4Pnt7IHRvYXN0LmNvbnRlbnQgfX08L3NwYW4+JyxcbiAgICAgICAgICAgICAgJzxtZC1idXR0b24gY2xhc3M9XCJtZC1hY3Rpb25cIiBuZy1pZj1cInRvYXN0LmFjdGlvblwiIG5nLWNsaWNrPVwidG9hc3QucmVzb2x2ZSgpXCIgbmctY2xhc3M9XCJ7XFwnbWQtaGlnaGxpZ2h0XFwnOiB0b2FzdC5oaWdobGlnaHRBY3Rpb259XCI+JyxcbiAgICAgICAgICAgICAgICAne3sgdG9hc3QuYWN0aW9uIH19JyxcbiAgICAgICAgICAgICAgJzwvbWQtYnV0dG9uPicsXG4gICAgICAgICAgICAnPC9tZC10b2FzdD4nXG4gICAgICAgICAgXS5qb2luKCcnKSxcbiAgICAgICAgICBjb250cm9sbGVyOiAvKiBAbmdJbmplY3QgKi8gW1wiJHNjb3BlXCIsIGZ1bmN0aW9uIG1kVG9hc3RDdHJsKCRzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGFjdGl2ZVRvYXN0Q29udGVudDsgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYuY29udGVudCA9IGFjdGl2ZVRvYXN0Q29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRtZFRvYXN0LmhpZGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgdGhlbWU6ICRtZFRoZW1pbmcuZGVmYXVsdFRoZW1lKCksXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndG9hc3QnLFxuICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICB9XVxuICAgIH0pXG4gICAgLmFkZE1ldGhvZCgndXBkYXRlQ29udGVudCcsIGZ1bmN0aW9uKG5ld0NvbnRlbnQpIHtcbiAgICAgIGFjdGl2ZVRvYXN0Q29udGVudCA9IG5ld0NvbnRlbnQ7XG4gICAgfSk7XG5cbiAgdG9hc3REZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIiwgXCIkYW5pbWF0ZVwiLCBcIiRtZFRvYXN0XCJdO1xuICAgIHJldHVybiAkbWRUb2FzdDtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gdG9hc3REZWZhdWx0T3B0aW9ucygkdGltZW91dCwgJGFuaW1hdGUsICRtZFRvYXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgb25SZW1vdmU6IG9uUmVtb3ZlLFxuICAgICAgcG9zaXRpb246ICdib3R0b20gbGVmdCcsXG4gICAgICB0aGVtYWJsZTogdHJ1ZSxcbiAgICAgIGhpZGVEZWxheTogMzAwMFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIC8vICd0b3AgbGVmdCcgLT4gJ21kLXRvcCBtZC1sZWZ0J1xuICAgICAgYWN0aXZlVG9hc3RDb250ZW50ID0gb3B0aW9ucy5jb250ZW50O1xuICAgICAgZWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnBvc2l0aW9uLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHBvcykge1xuICAgICAgICByZXR1cm4gJ21kLScgKyBwb3M7XG4gICAgICB9KS5qb2luKCcgJykpO1xuICAgICAgb3B0aW9ucy5wYXJlbnQuYWRkQ2xhc3ModG9hc3RPcGVuQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbikpO1xuXG4gICAgICBvcHRpb25zLm9uU3dpcGUgPSBmdW5jdGlvbihldiwgZ2VzdHVyZSkge1xuICAgICAgICAvL0FkZCBzd2lwZWxlZnQvc3dpcGVyaWdodCBjbGFzcyB0byBlbGVtZW50IHNvIGl0IGNhbiBhbmltYXRlIGNvcnJlY3RseVxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC0nICsgZXYudHlwZS5yZXBsYWNlKCckbWQuJywnJykpO1xuICAgICAgICAkdGltZW91dCgkbWRUb2FzdC5jYW5jZWwpO1xuICAgICAgfTtcbiAgICAgIGVsZW1lbnQub24oJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgcmV0dXJuICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgZWxlbWVudC5vZmYoJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgb3B0aW9ucy5wYXJlbnQucmVtb3ZlQ2xhc3ModG9hc3RPcGVuQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbikpO1xuICAgICAgcmV0dXJuICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvYXN0T3BlbkNsYXNzKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gJ21kLXRvYXN0LW9wZW4tJyArXG4gICAgICAgIChwb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA+IC0xID8gJ3RvcCcgOiAnYm90dG9tJyk7XG4gICAgfVxuICB9XG5cbn1cbk1kVG9hc3RQcm92aWRlci4kaW5qZWN0ID0gW1wiJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyXCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhclxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50b29sYmFyJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFRvb2xiYXInLCBtZFRvb2xiYXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kVG9vbGJhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2xiYXJcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBtZC10b29sYmFyYCBpcyB1c2VkIHRvIHBsYWNlIGEgdG9vbGJhciBpbiB5b3VyIGFwcC5cbiAqXG4gKiBUb29sYmFycyBhcmUgdXN1YWxseSB1c2VkIGFib3ZlIGEgY29udGVudCBhcmVhIHRvIGRpc3BsYXkgdGhlIHRpdGxlIG9mIHRoZVxuICogY3VycmVudCBwYWdlLCBhbmQgc2hvdyByZWxldmFudCBhY3Rpb24gYnV0dG9ucyBmb3IgdGhhdCBwYWdlLlxuICpcbiAqIFlvdSBjYW4gY2hhbmdlIHRoZSBoZWlnaHQgb2YgdGhlIHRvb2xiYXIgYnkgYWRkaW5nIGVpdGhlciB0aGVcbiAqIGBtZC1tZWRpdW0tdGFsbGAgb3IgYG1kLXRhbGxgIGNsYXNzIHRvIHRoZSB0b29sYmFyLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWZpbGw+XG4gKiAgIDxtZC10b29sYmFyPlxuICpcbiAqICAgICA8ZGl2IGNsYXNzPVwibWQtdG9vbGJhci10b29sc1wiPlxuICogICAgICAgPHNwYW4+TXkgQXBwJ3MgVGl0bGU8L3NwYW4+XG4gKlxuICogICAgICAgPCEtLSBmaWxsIHVwIHRoZSBzcGFjZSBiZXR3ZWVuIGxlZnQgYW5kIHJpZ2h0IGFyZWEgLS0+XG4gKiAgICAgICA8c3BhbiBmbGV4Pjwvc3Bhbj5cbiAqXG4gKiAgICAgICA8bWQtYnV0dG9uPlxuICogICAgICAgICBSaWdodCBCYXIgQnV0dG9uXG4gKiAgICAgICA8L21kLWJ1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqXG4gKiAgIDwvbWQtdG9vbGJhcj5cbiAqICAgPG1kLWNvbnRlbnQ+XG4gKiAgICAgSGVsbG8hXG4gKiAgIDwvbWQtY29udGVudD5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLXNjcm9sbC1zaHJpbmsgV2hldGhlciB0aGUgaGVhZGVyIHNob3VsZCBzaHJpbmsgYXdheSBhc1xuICogdGhlIHVzZXIgc2Nyb2xscyBkb3duLCBhbmQgcmV2ZWFsIGl0c2VsZiBhcyB0aGUgdXNlciBzY3JvbGxzIHVwLlxuICogTm90ZTogZm9yIHNjcm9sbFNocmluayB0byB3b3JrLCB0aGUgdG9vbGJhciBtdXN0IGJlIGEgc2libGluZyBvZiBhXG4gKiBgbWQtY29udGVudGAgZWxlbWVudCwgcGxhY2VkIGJlZm9yZSBpdC4gU2VlIHRoZSBzY3JvbGwgc2hyaW5rIGRlbW8uXG4gKlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtc2hyaW5rLXNwZWVkLWZhY3RvciBIb3cgbXVjaCB0byBjaGFuZ2UgdGhlIHNwZWVkIG9mIHRoZSB0b29sYmFyJ3NcbiAqIHNocmlua2luZyBieS4gRm9yIGV4YW1wbGUsIGlmIDAuMjUgaXMgZ2l2ZW4gdGhlbiB0aGUgdG9vbGJhciB3aWxsIHNocmlua1xuICogYXQgb25lIGZvdXJ0aCB0aGUgcmF0ZSBhdCB3aGljaCB0aGUgdXNlciBzY3JvbGxzIGRvd24uIERlZmF1bHQgMC41LlxuICovXG5mdW5jdGlvbiBtZFRvb2xiYXJEaXJlY3RpdmUoJCRyQUYsICRtZENvbnN0YW50LCAkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWRTY3JvbGxTaHJpbmspKSB7XG4gICAgICAgIHNldHVwU2Nyb2xsU2hyaW5rKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwU2Nyb2xsU2hyaW5rKCkge1xuICAgICAgICAvLyBDdXJyZW50IFwieVwiIHBvc2l0aW9uIG9mIHNjcm9sbFxuICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgIC8vIFN0b3JlIHRoZSBsYXN0IHNjcm9sbCB0b3AgcG9zaXRpb25cbiAgICAgICAgdmFyIHByZXZTY3JvbGxUb3AgPSAwO1xuXG4gICAgICAgIHZhciBzaHJpbmtTcGVlZEZhY3RvciA9IGF0dHIubWRTaHJpbmtTcGVlZEZhY3RvciB8fCAwLjU7XG5cbiAgICAgICAgdmFyIHRvb2xiYXJIZWlnaHQ7XG4gICAgICAgIHZhciBjb250ZW50RWxlbWVudDtcblxuICAgICAgICB2YXIgZGVib3VuY2VkQ29udGVudFNjcm9sbCA9ICQkckFGLnRocm90dGxlKG9uQ29udGVudFNjcm9sbCk7XG4gICAgICAgIHZhciBkZWJvdW5jZWRVcGRhdGVIZWlnaHQgPSAkbWRVdGlsLmRlYm91bmNlKHVwZGF0ZVRvb2xiYXJIZWlnaHQsIDUgKiAxMDAwKTtcblxuICAgICAgICAvLyBXYWl0IGZvciAkbWRDb250ZW50TG9hZGVkIGV2ZW50IGZyb20gbWRDb250ZW50IGRpcmVjdGl2ZS5cbiAgICAgICAgLy8gSWYgdGhlIG1kQ29udGVudCBlbGVtZW50IGlzIGEgc2libGluZyBvZiBvdXIgdG9vbGJhciwgaG9vayBpdCB1cFxuICAgICAgICAvLyB0byBzY3JvbGwgZXZlbnRzLlxuICAgICAgICBzY29wZS4kb24oJyRtZENvbnRlbnRMb2FkZWQnLCBvbk1kQ29udGVudExvYWQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uTWRDb250ZW50TG9hZCgkZXZlbnQsIG5ld0NvbnRlbnRFbCkge1xuICAgICAgICAgIC8vIFRvb2xiYXIgYW5kIGNvbnRlbnQgbXVzdCBiZSBzaWJsaW5nc1xuICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudCgpWzBdID09PSBuZXdDb250ZW50RWwucGFyZW50KClbMF0pIHtcbiAgICAgICAgICAgIC8vIHVuaG9vayBvbGQgY29udGVudCBldmVudCBsaXN0ZW5lciBpZiBleGlzdHNcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb250ZW50RWxlbWVudC5vZmYoJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdDb250ZW50RWwub24oJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgbmV3Q29udGVudEVsLmF0dHIoJ3Njcm9sbC1zaHJpbmsnLCAndHJ1ZScpO1xuXG4gICAgICAgICAgICBjb250ZW50RWxlbWVudCA9IG5ld0NvbnRlbnRFbDtcbiAgICAgICAgICAgICQkckFGKHVwZGF0ZVRvb2xiYXJIZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRvb2xiYXJIZWlnaHQoKSB7XG4gICAgICAgICAgdG9vbGJhckhlaWdodCA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgICAgLy8gQWRkIGEgbmVnYXRpdmUgbWFyZ2luLXRvcCB0aGUgc2l6ZSBvZiB0aGUgdG9vbGJhciB0byB0aGUgY29udGVudCBlbC5cbiAgICAgICAgICAvLyBUaGUgY29udGVudCB3aWxsIHN0YXJ0IHRyYW5zZm9ybWVkIGRvd24gdGhlIHRvb2xiYXJIZWlnaHQgYW1vdW50LFxuICAgICAgICAgIC8vIHNvIGV2ZXJ5dGhpbmcgbG9va3Mgbm9ybWFsLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gQXMgdGhlIHVzZXIgc2Nyb2xscyBkb3duLCB0aGUgY29udGVudCB3aWxsIGJlIHRyYW5zZm9ybWVkIHVwIHNsb3dseVxuICAgICAgICAgIC8vIHRvIHB1dCB0aGUgY29udGVudCB1bmRlcm5lYXRoIHdoZXJlIHRoZSB0b29sYmFyIHdhcy5cbiAgICAgICAgICBjb250ZW50RWxlbWVudC5jc3MoXG4gICAgICAgICAgICAnbWFyZ2luLXRvcCcsXG4gICAgICAgICAgICAoLXRvb2xiYXJIZWlnaHQgKiBzaHJpbmtTcGVlZEZhY3RvcikgKyAncHgnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvbkNvbnRlbnRTY3JvbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uQ29udGVudFNjcm9sbChlKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGUgPyBlLnRhcmdldC5zY3JvbGxUb3AgOiBwcmV2U2Nyb2xsVG9wO1xuXG4gICAgICAgICAgZGVib3VuY2VkVXBkYXRlSGVpZ2h0KCk7XG5cbiAgICAgICAgICB5ID0gTWF0aC5taW4oXG4gICAgICAgICAgICB0b29sYmFySGVpZ2h0IC8gc2hyaW5rU3BlZWRGYWN0b3IsXG4gICAgICAgICAgICBNYXRoLm1heCgwLCB5ICsgc2Nyb2xsVG9wIC0gcHJldlNjcm9sbFRvcClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZWxlbWVudC5jc3MoXG4gICAgICAgICAgICAkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLFxuICAgICAgICAgICAgJ3RyYW5zbGF0ZTNkKDAsJyArICgteSAqIHNocmlua1NwZWVkRmFjdG9yKSArICdweCwwKSdcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRlbnRFbGVtZW50LmNzcyhcbiAgICAgICAgICAgICRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk0sXG4gICAgICAgICAgICAndHJhbnNsYXRlM2QoMCwnICsgKCh0b29sYmFySGVpZ2h0IC0geSkgKiBzaHJpbmtTcGVlZEZhY3RvcikgKyAncHgsMCknXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHByZXZTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfVxuICB9O1xuXG59XG5tZFRvb2xiYXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXAnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRUb29sdGlwJywgTWRUb29sdGlwRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRvb2x0aXBcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvb2x0aXBzIGFyZSB1c2VkIHRvIGRlc2NyaWJlIGVsZW1lbnRzIHRoYXQgYXJlIGludGVyYWN0aXZlIGFuZCBwcmltYXJpbHkgZ3JhcGhpY2FsIChub3QgdGV4dHVhbCkuXG4gKlxuICogUGxhY2UgYSBgPG1kLXRvb2x0aXA+YCBhcyBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGl0IGRlc2NyaWJlcy5cbiAqXG4gKiBBIHRvb2x0aXAgd2lsbCBhY3RpdmF0ZSB3aGVuIHRoZSB1c2VyIGZvY3VzZXMsIGhvdmVycyBvdmVyLCBvciB0b3VjaGVzIHRoZSBwYXJlbnQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWljb24gaWNvbj1cIi9pbWcvaWNvbnMvaWNfcGxheV9hcnJvd18yNHB4LnN2Z1wiPlxuICogICA8bWQtdG9vbHRpcD5cbiAqICAgICBQbGF5IE11c2ljXG4gKiAgIDwvbWQtdG9vbHRpcD5cbiAqIDwvbWQtaWNvbj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC12aXNpYmxlIEJvb2xlYW4gYm91bmQgdG8gd2hldGhlciB0aGUgdG9vbHRpcCBpc1xuICogY3VycmVudGx5IHZpc2libGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWRlbGF5IEhvdyBtYW55IG1pbGxpc2Vjb25kcyB0byB3YWl0IHRvIHNob3cgdGhlIHRvb2x0aXAgYWZ0ZXIgdGhlIHVzZXIgZm9jdXNlcywgaG92ZXJzLCBvciB0b3VjaGVzIHRoZSBwYXJlbnQuIERlZmF1bHRzIHRvIDQwMG1zLlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1kaXJlY3Rpb24gV2hpY2ggZGlyZWN0aW9uIHdvdWxkIHlvdSBsaWtlIHRoZSB0b29sdGlwIHRvIGdvPyAgU3VwcG9ydHMgbGVmdCwgcmlnaHQsIHRvcCwgYW5kIGJvdHRvbS4gIERlZmF1bHRzIHRvIGJvdHRvbS5cbiAqL1xuZnVuY3Rpb24gTWRUb29sdGlwRGlyZWN0aXZlKCR0aW1lb3V0LCAkd2luZG93LCAkJHJBRiwgJGRvY3VtZW50LCAkbWRVdGlsLCAkbWRUaGVtaW5nLCAkcm9vdEVsZW1lbnQsICRhbmltYXRlLCAkcSkge1xuXG4gIHZhciBUT09MVElQX1NIT1dfREVMQVkgPSAwO1xuICB2YXIgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSA9IDg7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWJhY2tncm91bmRcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtY29udGVudFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+JyxcbiAgICBzY29wZToge1xuICAgICAgdmlzaWJsZTogJz0/bWRWaXNpYmxlJyxcbiAgICAgIGRlbGF5OiAnPT9tZERlbGF5J1xuICAgIH0sXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udGVudEN0cmwpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgIHZhciBiYWNrZ3JvdW5kID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWQtYmFja2dyb3VuZCcpWzBdKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gYXR0ci5tZERpcmVjdGlvbjtcblxuICAgIC8vIEtlZXAgbG9va2luZyBmb3IgYSBoaWdoZXIgcGFyZW50IGlmIG91ciBjdXJyZW50IG9uZSBoYXMgbm8gcG9pbnRlciBldmVudHNcbiAgICB3aGlsZSAoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudFswXSlbJ3BvaW50ZXItZXZlbnRzJ10gPT0gJ25vbmUnKSB7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50KCk7XG4gICAgfVxuXG4gICAgLy8gTG9vayBmb3IgdGhlIG5lYXJlc3QgcGFyZW50IG1kLWNvbnRlbnQsIHN0b3BwaW5nIGF0IHRoZSByb290RWxlbWVudC5cbiAgICB2YXIgY3VycmVudCA9IGVsZW1lbnQucGFyZW50KClbMF07XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gJHJvb3RFbGVtZW50WzBdICYmIGN1cnJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGlmIChjdXJyZW50LnRhZ05hbWUgJiYgY3VycmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ21kLWNvbnRlbnQnKSBicmVhaztcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHZhciB0b29sdGlwUGFyZW50ID0gYW5ndWxhci5lbGVtZW50KGN1cnJlbnQgfHwgZG9jdW1lbnQuYm9keSk7XG5cbiAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWREZWxheSkpIHtcbiAgICAgIHNjb3BlLmRlbGF5ID0gVE9PTFRJUF9TSE9XX0RFTEFZO1xuICAgIH1cblxuICAgIC8vIFdlIHdpbGwgcmUtYXR0YWNoIHRvb2x0aXAgd2hlbiB2aXNpYmxlXG4gICAgZWxlbWVudC5kZXRhY2goKTtcbiAgICBlbGVtZW50LmF0dHIoJ3JvbGUnLCAndG9vbHRpcCcpO1xuICAgIGVsZW1lbnQuYXR0cignaWQnLCBhdHRyLmlkIHx8ICgndG9vbHRpcF8nICsgJG1kVXRpbC5uZXh0VWlkKCkpKTtcblxuICAgIHBhcmVudC5vbignZm9jdXMgbW91c2VlbnRlciB0b3VjaHN0YXJ0JywgZnVuY3Rpb24oKSB7IHNldFZpc2libGUodHJ1ZSk7IH0pO1xuICAgIHBhcmVudC5vbignYmx1ciBtb3VzZWxlYXZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJywgZnVuY3Rpb24oKSB7IGlmICgkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCAhPT0gcGFyZW50WzBdKSBzZXRWaXNpYmxlKGZhbHNlKTsgfSk7XG5cbiAgICBzY29wZS4kd2F0Y2goJ3Zpc2libGUnLCBmdW5jdGlvbihpc1Zpc2libGUpIHtcbiAgICAgIGlmIChpc1Zpc2libGUpIHNob3dUb29sdGlwKCk7XG4gICAgICBlbHNlIGhpZGVUb29sdGlwKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgZGVib3VuY2VkT25SZXNpemUgPSAkJHJBRi50aHJvdHRsZShmdW5jdGlvbiAoKSB7IGlmIChzY29wZS52aXNpYmxlKSBwb3NpdGlvblRvb2x0aXAoKTsgfSk7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBkZWJvdW5jZWRPblJlc2l6ZSk7XG5cbiAgICAvLyBCZSBzdXJlIHRvIGNvbXBsZXRlbHkgY2xlYW51cCB0aGUgZWxlbWVudCBvbiBkZXN0cm95XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZScsIGRlYm91bmNlZE9uUmVzaXplKTtcbiAgICB9KTtcblxuICAgIC8vICoqKioqKipcbiAgICAvLyBNZXRob2RzXG4gICAgLy8gKioqKioqKlxuXG4gICAgLy8gSWYgc2V0dGluZyB2aXNpYmxlIHRvIHRydWUsIGRlYm91bmNlIHRvIHNjb3BlLmRlbGF5IG1zXG4gICAgLy8gSWYgc2V0dGluZyB2aXNpYmxlIHRvIGZhbHNlIGFuZCBubyB0aW1lb3V0IGlzIGFjdGl2ZSwgaW5zdGFudGx5IGhpZGUgdGhlIHRvb2x0aXAuXG4gICAgZnVuY3Rpb24gc2V0VmlzaWJsZSAodmFsdWUpIHtcbiAgICAgIHNldFZpc2libGUudmFsdWUgPSAhIXZhbHVlO1xuICAgICAgaWYgKCFzZXRWaXNpYmxlLnF1ZXVlZCkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzZXRWaXNpYmxlLnF1ZXVlZCA9IHRydWU7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS52aXNpYmxlID0gc2V0VmlzaWJsZS52YWx1ZTtcbiAgICAgICAgICAgIHNldFZpc2libGUucXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgfSwgc2NvcGUuZGVsYXkpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IHNjb3BlLnZpc2libGUgPSBmYWxzZTsgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93VG9vbHRpcCgpIHtcbiAgICAgIC8vIEluc2VydCB0aGUgZWxlbWVudCBiZWZvcmUgcG9zaXRpb25pbmcgaXQsIHNvIHdlIGNhbiBnZXQgcG9zaXRpb25cbiAgICAgIHBhcmVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgZWxlbWVudC5hdHRyKCdpZCcpKTtcbiAgICAgIHRvb2x0aXBQYXJlbnQuYXBwZW5kKGVsZW1lbnQpO1xuXG4gICAgICAvLyBXYWl0IHVudGlsIHRoZSBlbGVtZW50IGhhcyBiZWVuIGluIHRoZSBkb20gZm9yIHR3byBmcmFtZXMgYmVmb3JlIGZhZGluZyBpdCBpbi5cbiAgICAgIC8vIEFkZGl0aW9uYWxseSwgd2UgcG9zaXRpb24gdGhlIHRvb2x0aXAgdHdpY2UgdG8gYXZvaWQgcG9zaXRpb25pbmcgYnVnc1xuICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnbWQtc2hvdycpO1xuICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoYmFja2dyb3VuZCwgJ21kLXNob3cnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICAkcS5hbGwoW1xuICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhiYWNrZ3JvdW5kLCAnbWQtc2hvdycpLFxuICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAnbWQtc2hvdycpXG4gICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFzY29wZS52aXNpYmxlKSBlbGVtZW50LmRldGFjaCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpb25Ub29sdGlwKCkge1xuICAgICAgdmFyIHRpcFJlY3QgPSAkbWRVdGlsLm9mZnNldFJlY3QoZWxlbWVudCwgdG9vbHRpcFBhcmVudCk7XG4gICAgICB2YXIgcGFyZW50UmVjdCA9ICRtZFV0aWwub2Zmc2V0UmVjdChwYXJlbnQsIHRvb2x0aXBQYXJlbnQpO1xuXG4gICAgICAvLyBEZWZhdWx0IHRvIGJvdHRvbSBwb3NpdGlvbiBpZiBwb3NzaWJsZVxuICAgICAgdmFyIHRpcERpcmVjdGlvbiA9ICdib3R0b20nO1xuICAgICAgdmFyIG5ld1Bvc2l0aW9uID0ge1xuICAgICAgICBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBwYXJlbnRSZWN0LndpZHRoIC8gMiAtIHRpcFJlY3Qud2lkdGggLyAyLFxuICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wICsgcGFyZW50UmVjdC5oZWlnaHRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGVsZW1lbnQgYmxlZWRzIG92ZXIgbGVmdC9yaWdodCBvZiB0aGUgd2luZG93LCBwbGFjZSBpdCBvbiB0aGUgZWRnZSBvZiB0aGUgd2luZG93LlxuICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWluKFxuICAgICAgICBuZXdQb3NpdGlvbi5sZWZ0LFxuICAgICAgICB0b29sdGlwUGFyZW50LnByb3AoJ3Njcm9sbFdpZHRoJykgLSB0aXBSZWN0LndpZHRoIC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRVxuICAgICAgKTtcbiAgICAgIG5ld1Bvc2l0aW9uLmxlZnQgPSBNYXRoLm1heChuZXdQb3NpdGlvbi5sZWZ0LCBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFKTtcblxuICAgICAgLy8gSWYgZWxlbWVudCBibGVlZHMgb3ZlciB0aGUgYm90dG9tIG9mIHRoZSB3aW5kb3csIHBsYWNlIGl0IGFib3ZlIHRoZSBwYXJlbnQuXG4gICAgICBpZiAobmV3UG9zaXRpb24udG9wICsgdGlwUmVjdC5oZWlnaHQgPiB0b29sdGlwUGFyZW50LnByb3AoJ3Njcm9sbEhlaWdodCcpKSB7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnRvcCA9IHBhcmVudFJlY3QudG9wIC0gdGlwUmVjdC5oZWlnaHQ7XG4gICAgICAgIHRpcERpcmVjdGlvbiA9ICd0b3AnO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LmNzcyh7dG9wOiBuZXdQb3NpdGlvbi50b3AgKyAncHgnLCBsZWZ0OiBuZXdQb3NpdGlvbi5sZWZ0ICsgJ3B4J30pO1xuXG4gICAgICBwb3NpdGlvbkJhY2tncm91bmQoKTtcblxuICAgICAgZnVuY3Rpb24gcG9zaXRpb25CYWNrZ3JvdW5kICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCdcbiAgICAgICAgICAgICAgPyBNYXRoLnNxcnQoTWF0aC5wb3codGlwUmVjdC53aWR0aCwgMikgKyBNYXRoLnBvdyh0aXBSZWN0LmhlaWdodCAvIDIsIDIpKSAqIDJcbiAgICAgICAgICAgICAgOiBNYXRoLnNxcnQoTWF0aC5wb3codGlwUmVjdC53aWR0aCAvIDIsIDIpICsgTWF0aC5wb3codGlwUmVjdC5oZWlnaHQsIDIpKSAqIDIsXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8geyBsZWZ0OiAxMDAsIHRvcDogNTAgfVxuICAgICAgICAgICAgICA6IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IHsgbGVmdDogMCwgdG9wOiA1MCB9XG4gICAgICAgICAgICAgIDogZGlyZWN0aW9uID09PSAndG9wJyA/IHsgbGVmdDogNTAsIHRvcDogMTAwIH1cbiAgICAgICAgICAgICAgOiB7IGxlZnQ6IDUwLCB0b3A6IDAgfTtcbiAgICAgICAgYmFja2dyb3VuZC5jc3Moe1xuICAgICAgICAgIHdpZHRoOiBzaXplICsgJ3B4JyxcbiAgICAgICAgICBoZWlnaHQ6IHNpemUgKyAncHgnLFxuICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uLmxlZnQgKyAnJScsXG4gICAgICAgICAgdG9wOiBwb3NpdGlvbi50b3AgKyAnJSdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZpdE9uU2NyZWVuIChwb3MpIHtcbiAgICAgICAgdmFyIG5ld1Bvc2l0aW9uID0ge307XG4gICAgICAgIG5ld1Bvc2l0aW9uLmxlZnQgPSBNYXRoLm1pbiggcG9zLmxlZnQsIHRvb2x0aXBQYXJlbnQucHJvcCgnc2Nyb2xsV2lkdGgnKSAtIHRpcFJlY3Qud2lkdGggLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFICk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLmxlZnQgPSBNYXRoLm1heCggcG9zLmxlZnQsIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgbmV3UG9zaXRpb24udG9wICA9IE1hdGgubWluKCBwb3MudG9wLCAgdG9vbHRpcFBhcmVudC5wcm9wKCdzY3JvbGxIZWlnaHQnKSAtIHRpcFJlY3QuaGVpZ2h0IC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSApO1xuICAgICAgICBuZXdQb3NpdGlvbi50b3AgID0gTWF0aC5tYXgoIHBvcy50b3AsICBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFICk7XG4gICAgICAgIHJldHVybiBuZXdQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24gKGRpcikge1xuICAgICAgICByZXR1cm4gZGlyID09PSAnbGVmdCdcbiAgICAgICAgICA/IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0IC0gdGlwUmVjdC53aWR0aCAtIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UsXG4gICAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgKyBwYXJlbnRSZWN0LmhlaWdodCAvIDIgLSB0aXBSZWN0LmhlaWdodCAvIDIgfVxuICAgICAgICAgIDogZGlyID09PSAncmlnaHQnXG4gICAgICAgICAgPyB7IGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIHBhcmVudFJlY3Qud2lkdGggKyBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFLFxuICAgICAgICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wICsgcGFyZW50UmVjdC5oZWlnaHQgLyAyIC0gdGlwUmVjdC5oZWlnaHQgLyAyIH1cbiAgICAgICAgICA6IGRpciA9PT0gJ3RvcCdcbiAgICAgICAgICA/IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0ICsgcGFyZW50UmVjdC53aWR0aCAvIDIgLSB0aXBSZWN0LndpZHRoIC8gMixcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCAtIHRpcFJlY3QuaGVpZ2h0IC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSB9XG4gICAgICAgICAgOiB7IGxlZnQ6IHBhcmVudFJlY3QubGVmdCArIHBhcmVudFJlY3Qud2lkdGggLyAyIC0gdGlwUmVjdC53aWR0aCAvIDIsXG4gICAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgKyBwYXJlbnRSZWN0LmhlaWdodCArIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG59XG5NZFRvb2x0aXBEaXJlY3RpdmUuJGluamVjdCA9IFtcIiR0aW1lb3V0XCIsIFwiJHdpbmRvd1wiLCBcIiQkckFGXCIsIFwiJGRvY3VtZW50XCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkYW5pbWF0ZVwiLCBcIiRxXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLndoaXRlZnJhbWVcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMud2hpdGVmcmFtZScsIFtdKTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAgIC5jb250cm9sbGVyKCdNZEF1dG9jb21wbGV0ZUN0cmwnLCBNZEF1dG9jb21wbGV0ZUN0cmwpO1xuXG4gIGZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlQ3RybCAoJHNjb3BlLCAkZWxlbWVudCwgJHRpbWVvdXQsICRxLCAkbWRVdGlsLCAkbWRDb25zdGFudCkge1xuXG4gICAgLy8tLSBwcml2YXRlIHZhcmlhYmxlc1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgaXRlbVBhcnRzID0gJHNjb3BlLml0ZW1zRXhwci5zcGxpdCgvXFwgaW5cXCAvaSksXG4gICAgICAgIGl0ZW1FeHByID0gaXRlbVBhcnRzWzFdLFxuICAgICAgICBlbGVtZW50cyA9IHtcbiAgICAgICAgICBtYWluOiAgJGVsZW1lbnRbMF0sXG4gICAgICAgICAgdWw6ICAgICRlbGVtZW50WzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd1bCcpWzBdLFxuICAgICAgICAgIGlucHV0OiAkZWxlbWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXVxuICAgICAgICB9LFxuICAgICAgICBwcm9taXNlICA9IG51bGwsXG4gICAgICAgIGNhY2hlICAgID0ge307XG5cbiAgICAvLy0tIHB1YmxpYyB2YXJpYWJsZXNcbiAgICBzZWxmLnNjb3BlICAgID0gJHNjb3BlO1xuICAgIHNlbGYucGFyZW50ICAgPSAkc2NvcGUuJHBhcmVudDtcbiAgICBzZWxmLml0ZW1OYW1lID0gaXRlbVBhcnRzWzBdO1xuICAgIHNlbGYubWF0Y2hlcyAgPSBbXTtcbiAgICBzZWxmLmxvYWRpbmcgID0gZmFsc2U7XG4gICAgc2VsZi5oaWRkZW4gICA9IHRydWU7XG4gICAgc2VsZi5pbmRleCAgICA9IDA7XG4gICAgc2VsZi5rZXlkb3duICA9IGtleWRvd247XG4gICAgc2VsZi5jbGVhciAgICA9IGNsZWFyVmFsdWU7XG4gICAgc2VsZi5zZWxlY3QgICA9IHNlbGVjdDtcbiAgICBzZWxmLmZldGNoICAgID0gJG1kVXRpbC5kZWJvdW5jZShmZXRjaFJlc3VsdHMpO1xuXG4gICAgLy8tLSByZXR1cm4gaW5pdFxuICAgIHJldHVybiBpbml0KCk7XG5cbiAgICAvLy0tIHN0YXJ0IG1ldGhvZCBkZWZpbml0aW9uc1xuICAgIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICAgY29uZmlndXJlV2F0Y2hlcnMoKTtcbiAgICAgIGNvbmZpZ3VyZUFyaWEoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhICgpIHtcbiAgICAgIHZhciB1bCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy51bCksXG4gICAgICAgICAgaW5wdXQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMuaW5wdXQpLFxuICAgICAgICAgIGlkID0gdWwuYXR0cignaWQnKSB8fCAndWxfJyArICRtZFV0aWwubmV4dFVpZCgpO1xuICAgICAgdWwuYXR0cignaWQnLCBpZCk7XG4gICAgICBpbnB1dC5hdHRyKCdhcmlhLW93bnMnLCBpZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlndXJlV2F0Y2hlcnMgKCkge1xuICAgICAgJHNjb3BlLiR3YXRjaCgnc2VhcmNoVGV4dCcsIGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgICAgIGlmICghc2VhcmNoVGV4dCkge1xuICAgICAgICAgIHNlbGYubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBzZWxmLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVybSA9IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS5jYW5jZWwpIHtcbiAgICAgICAgICBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZVt0ZXJtXSkge1xuICAgICAgICAgIHNlbGYubWF0Y2hlcyA9IGNhY2hlW3Rlcm1dO1xuICAgICAgICB9IGVsc2UgaWYgKCFzZWxmLmhpZGRlbikge1xuICAgICAgICAgIHNlbGYubG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgc2VsZi5mZXRjaChzZWFyY2hUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hSZXN1bHRzIChzZWFyY2hUZXh0KSB7XG4gICAgICB2YXIgaXRlbXMgPSAkc2NvcGUuJHBhcmVudC4kZXZhbChpdGVtRXhwciksXG4gICAgICAgICAgdGVybSA9IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHByb21pc2UgPSAkcS53aGVuKGl0ZW1zKS50aGVuKGZ1bmN0aW9uIChtYXRjaGVzKSB7XG4gICAgICAgIGNhY2hlW3Rlcm1dID0gbWF0Y2hlcztcbiAgICAgICAgaWYgKHNlYXJjaFRleHQgIT09ICRzY29wZS5zZWFyY2hUZXh0KSByZXR1cm47IC8vLS0ganVzdCBjYWNoZSB0aGUgcmVzdWx0cyBpZiBvbGQgcmVxdWVzdFxuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgc2VsZi5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHNlbGYubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXlkb3duIChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVzpcbiAgICAgICAgICBpZiAoc2VsZi5sb2FkaW5nKSByZXR1cm47XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZWxmLmluZGV4ID0gTWF0aC5taW4oc2VsZi5pbmRleCArIDEsIHNlbGYubWF0Y2hlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICB1cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5VUF9BUlJPVzpcbiAgICAgICAgICBpZiAoc2VsZi5sb2FkaW5nKSByZXR1cm47XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZWxmLmluZGV4ID0gTWF0aC5tYXgoMCwgc2VsZi5pbmRleCAtIDEpO1xuICAgICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICAgIGlmIChzZWxmLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNlbGVjdChzZWxmLmluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEU6XG4gICAgICAgICAgc2VsZi5tYXRjaGVzID0gW107XG4gICAgICAgICAgc2VsZi5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgIHNlbGYuaW5kZXggPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzZWxmLmluZGV4ID0gLTE7XG4gICAgICAgICAgc2VsZi5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAvLy0tIGFmdGVyIHZhbHVlIHVwZGF0ZXMsIGNoZWNrIGlmIGxpc3Qgc2hvdWxkIGJlIGhpZGRlblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgc2VsZi5oaWRkZW4gPSBpc0hpZGRlbigpOyB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclZhbHVlICgpIHtcbiAgICAgICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICBzZWxlY3QoLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSGlkZGVuICgpIHtcbiAgICAgIHJldHVybiBzZWxmLm1hdGNoZXMubGVuZ3RoID09PSAxICYmICRzY29wZS5zZWFyY2hUZXh0ID09PSBnZXREaXNwbGF5VmFsdWUoc2VsZi5tYXRjaGVzWzBdKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5VmFsdWUgKGl0ZW0pIHtcbiAgICAgIHJldHVybiAoaXRlbSAmJiAkc2NvcGUuaXRlbVRleHQpID8gaXRlbVskc2NvcGUuaXRlbVRleHRdIDogaXRlbTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3QgKGluZGV4KSB7XG4gICAgICAkc2NvcGUuc2VhcmNoVGV4dCA9IGdldERpc3BsYXlWYWx1ZShzZWxmLm1hdGNoZXNbaW5kZXhdKSB8fCAkc2NvcGUuc2VhcmNoVGV4dDtcbiAgICAgIHNlbGYuaGlkZGVuICA9IHRydWU7XG4gICAgICBzZWxmLmluZGV4ICAgPSAtMTtcbiAgICAgIHNlbGYubWF0Y2hlcyA9IFtdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbCAoKSB7XG4gICAgICB2YXIgdG9wID0gNDEgKiBzZWxmLmluZGV4LFxuICAgICAgICAgIGJvdCA9IHRvcCArIDQxLFxuICAgICAgICAgIGhndCA9IDQxICogNS41O1xuICAgICAgaWYgKHRvcCA8IGVsZW1lbnRzLnVsLnNjcm9sbFRvcCkge1xuICAgICAgICBlbGVtZW50cy51bC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICB9IGVsc2UgaWYgKGJvdCA+IGVsZW1lbnRzLnVsLnNjcm9sbFRvcCArIGhndCkge1xuICAgICAgICBlbGVtZW50cy51bC5zY3JvbGxUb3AgPSBib3QgLSBoZ3Q7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbiAgTWRBdXRvY29tcGxldGVDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiR0aW1lb3V0XCIsIFwiJHFcIiwgXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgICAuZGlyZWN0aXZlKCdtZEF1dG9jb21wbGV0ZScsIE1kQXV0b2NvbXBsZXRlKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEF1dG9jb21wbGV0ZVxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBgPG1kLWF1dG9jb21wbGV0ZT5gIGlzIGEgc3BlY2lhbCBpbnB1dCBjb21wb25lbnQgd2l0aCBhIGRyb3AtZG93biBvZiBhbGwgcG9zc2libGUgbWF0Y2hlcyB0byBhIGN1c3RvbSBxdWVyeS5cbiAgICogVGhpcyBjb21wb25lbnQgYWxsb3dzIHlvdSB0byBwcm92aWRlIHJlYWwtdGltZSBzdWdnZXN0aW9ucyBhcyB0aGUgdXNlciB0eXBlcyBpbiB0aGUgaW5wdXQgYXJlYS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtZC1zZWFyY2gtdGV4dCBBIG1vZGVsIHRvIGJpbmQgdGhlIHNlYXJjaCBxdWVyeSB0ZXh0IHRvXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gbWQtc2VsZWN0ZWQtaXRlbSBBIG1vZGVsIHRvIGJpbmQgdGhlIHNlbGVjdGVkIGl0ZW0gdG9cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtaXRlbXMgQW4gZXhwcmVzc2lvbiBpbiB0aGUgZm9ybWF0IG9mIGBpdGVtIGluIGl0ZW1zYCB0byBpdGVyYXRlIG92ZXIgbWF0Y2hlcyBmb3IgeW91ciBzZWFyY2guXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtaXRlbS10ZXh0IEEgcHJvcGVydHkgb24geW91ciBvYmplY3QgdXNlZCB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IHRvIGEgc3RyaW5nXG4gICAqIEBwYXJhbSB7cGxhY2Vob2xkZXI9fSBQbGFjZWhvbGRlciB0ZXh0IHRoYXQgd2lsbCBiZSBmb3J3YXJkZWQgdG8gdGhlIGlucHV0LlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogICA8bWQtYXV0b2NvbXBsZXRlXG4gICAqICAgICAgIG1kLXNlbGVjdGVkLWl0ZW09XCJzZWxlY3RlZEl0ZW1cIlxuICAgKiAgICAgICBtZC1zZWFyY2gtdGV4dD1cInNlYXJjaFRleHRcIlxuICAgKiAgICAgICBtZC1pdGVtcz1cIml0ZW0gaW4gZ2V0TWF0Y2hlcyhzZWFyY2hUZXh0KVwiXG4gICAqICAgICAgIG1kLWl0ZW0tdGV4dD1cImRpc3BsYXlcIj5cbiAgICogICAgIDxzcGFuIG1kLWhpZ2hsaWdodC10ZXh0PVwic2VhcmNoVGV4dFwiPnt7aXRlbS5kaXNwbGF5fX08L3NwYW4+XG4gICAqICAgPC9tZC1hdXRvY29tcGxldGU+XG4gICAqIDwvaGxocz5cbiAgICovXG5cbiAgZnVuY3Rpb24gTWRBdXRvY29tcGxldGUgKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZW1wbGF0ZTogJ1xcXG4gICAgICAgIDxtZC1hdXRvY29tcGxldGUtd3JhcCByb2xlPVwibGlzdGJveFwiPlxcXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCJcXFxuICAgICAgICAgICAgICBuZy1tb2RlbD1cInNlYXJjaFRleHRcIlxcXG4gICAgICAgICAgICAgIG5nLWtleWRvd249XCIkbWRBdXRvY29tcGxldGVDdHJsLmtleWRvd24oJGV2ZW50KVwiXFxcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7e3BsYWNlaG9sZGVyfX1cIlxcXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ7e3BsYWNlaG9sZGVyfX1cIlxcXG4gICAgICAgICAgICAgIGFyaWEtYXV0b2NvbXBsZXRlPVwibGlzdFwiXFxcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxcXG4gICAgICAgICAgICAgIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cIlwiXFxcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInt7ISRtZEF1dG9jb21wbGV0ZUN0cmwuaGlkZGVufX1cIi8+XFxcbiAgICAgICAgICA8YnV0dG9uXFxcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXFxcbiAgICAgICAgICAgICAgbmctaWY9XCJzZWFyY2hUZXh0XCJcXFxuICAgICAgICAgICAgICBuZy1jbGljaz1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuY2xlYXIoKVwiPlxcXG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlg8L3NwYW4+XFxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2aXN1YWxseS1oaWRkZW5cIj5DbGVhcjwvc3Bhbj5cXFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXFxuICAgICAgICAgIDxtZC1wcm9ncmVzcy1saW5lYXIgbmctaWY9XCIkbWRBdXRvY29tcGxldGVDdHJsLmxvYWRpbmdcIiBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxcXG4gICAgICAgIDwvbWQtYXV0b2NvbXBsZXRlLXdyYXA+XFxcbiAgICAgICAgPHVsIHJvbGU9XCJwcmVzZW50YXRpb25cIj5cXFxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCIoaW5kZXgsIGl0ZW0pIGluICRtZEF1dG9jb21wbGV0ZUN0cmwubWF0Y2hlc1wiXFxcbiAgICAgICAgICAgICAgbmctY2xhc3M9XCJ7IHNlbGVjdGVkOiBpbmRleCA9PT0gJG1kQXV0b2NvbXBsZXRlQ3RybC5pbmRleCB9XCJcXFxuICAgICAgICAgICAgICBuZy1pZj1cInNlYXJjaFRleHQgJiYgISRtZEF1dG9jb21wbGV0ZUN0cmwuaGlkZGVuXCJcXFxuICAgICAgICAgICAgICBuZy1jbGljaz1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuc2VsZWN0KGluZGV4KVwiXFxcbiAgICAgICAgICAgICAgbmctdHJhbnNjbHVkZVxcXG4gICAgICAgICAgICAgIG1kLWF1dG9jb21wbGV0ZS1saXN0LWl0ZW09XCIkbWRBdXRvY29tcGxldGVDdHJsLml0ZW1OYW1lXCI+XFxcbiAgICAgICAgICA8L2xpPlxcXG4gICAgICAgIDwvdWw+XFxcbiAgICAgICAgPGFyaWEtc3RhdHVzXFxcbiAgICAgICAgICAgIGNsYXNzPVwidmlzdWFsbHktaGlkZGVuXCJcXFxuICAgICAgICAgICAgYXJpYS1hdG9taWM9XCJ0cnVlXCJcXFxuICAgICAgICAgICAgcm9sZT1cInN0YXR1c1wiXFxcbiAgICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxcXG4gICAgICAgICAgPHAgbmctcmVwZWF0PVwiaXRlbSBpbiAkbWRBdXRvY29tcGxldGVDdHJsLm1hdGNoZXNcIj57e2l0ZW0uZGlzcGxheX19PC9wPlxcXG4gICAgICAgIDwvYXJpYS1zdGF0dXM+JyxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiAnTWRBdXRvY29tcGxldGVDdHJsJyxcbiAgICAgIGNvbnRyb2xsZXJBczogJyRtZEF1dG9jb21wbGV0ZUN0cmwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgc2VhcmNoVGV4dDogJz1tZFNlYXJjaFRleHQnLFxuICAgICAgICBzZWxlY3RlZEl0ZW06ICc9bWRTZWxlY3RlZEl0ZW0nLFxuICAgICAgICBpdGVtc0V4cHI6ICdAbWRJdGVtcycsXG4gICAgICAgIGl0ZW1UZXh0OiAnQG1kSXRlbVRleHQnLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0BwbGFjZWhvbGRlcidcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgICAuY29udHJvbGxlcignTWRIaWdobGlnaHRDdHJsJywgTWRIaWdobGlnaHRDdHJsKTtcblxuICBmdW5jdGlvbiBNZEhpZ2hsaWdodEN0cmwgKCRzY29wZSwgJGVsZW1lbnQsICRpbnRlcnBvbGF0ZSkge1xuICAgIHZhciB0ZXJtID0gJGVsZW1lbnQuYXR0cignbWQtaGlnaGxpZ2h0LXRleHQnKSxcbiAgICAgICAgdGV4dCA9ICRpbnRlcnBvbGF0ZSgkZWxlbWVudC50ZXh0KCkpKCRzY29wZSk7XG4gICAgJHNjb3BlLiR3YXRjaCh0ZXJtLCBmdW5jdGlvbiAodGVybSkge1xuICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBzYW5pdGl6ZSh0ZXJtKSwgJ2knKSxcbiAgICAgICAgICBodG1sID0gdGV4dC5yZXBsYWNlKHJlZ2V4LCAnPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj4kJjwvc3Bhbj4nKTtcbiAgICAgICRlbGVtZW50Lmh0bWwoaHRtbCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZSAodGVybSkge1xuICAgICAgaWYgKCF0ZXJtKSByZXR1cm4gdGVybTtcbiAgICAgIHJldHVybiB0ZXJtLnJlcGxhY2UoL1tcXCpcXFtcXF1cXChcXClcXHtcXH1cXFxcXFxeXFwkXS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuICB9XG4gIE1kSGlnaGxpZ2h0Q3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkaW50ZXJwb2xhdGVcIl07XG5cbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAgIC5kaXJlY3RpdmUoJ21kSGlnaGxpZ2h0VGV4dCcsIE1kSGlnaGxpZ2h0KTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEhpZ2hsaWdodFRleHRcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGBtZC1oaWdobGlnaHQtdGV4dGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSB0ZXh0IHRoYXQgc2hvdWxkIGJlIGhpZ2hsaWdodGVkIHdpdGhpblxuICAgKiBhbiBlbGVtZW50LiAgSGlnaGxpZ2h0ZWQgdGV4dCB3aWxsIGJlIHdyYXBwZWQgaW4gYDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+PC9zcGFuPmAgd2hpY2ggY2FuXG4gICAqIGJlIHN0eWxlZCB0aHJvdWdoIENTUy4gIFBsZWFzZSBub3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgbWF5IG5vdCBiZSB1c2VkIHdpdGggdGhpcyBkaXJlY3RpdmUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtaGlnaGxpZ2h0LXRleHQgQSBtb2RlbCB0byBiZSBzZWFyY2hlZCBmb3JcbiAgICpcbiAgICogQHVzYWdlXG4gICAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gICAqIDxpbnB1dCBwbGFjZWhvbGRlcj1cIkVudGVyIGEgc2VhcmNoIHRlcm0uLi5cIiBuZy1tb2RlbD1cInNlYXJjaFRlcm1cIiB0eXBlPVwidGV4dFwiIC8+XG4gICAqIDx1bD5cbiAgICogICA8bGkgbmctcmVwZWF0PVwicmVzdWx0IGluIHJlc3VsdHNcIiBtZC1oaWdobGlnaHQtdGV4dD1cInNlYXJjaFRlcm1cIj5cbiAgICogICAgIHt7cmVzdWx0LnRleHR9fVxuICAgKiAgIDwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvaGxqcz5cbiAgICovXG5cbiAgZnVuY3Rpb24gTWRIaWdobGlnaHQgKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgIGNvbnRyb2xsZXI6ICdNZEhpZ2hsaWdodEN0cmwnXG4gICAgfTtcbiAgfVxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnKVxuICAgICAgLmRpcmVjdGl2ZSgnbWRBdXRvY29tcGxldGVMaXN0SXRlbScsIE1kQXV0b2NvbXBsZXRlTGlzdEl0ZW0pO1xuXG4gIGZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlTGlzdEl0ZW0gKCRjb21waWxlLCAkbWRVdGlsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6ICdeP21kQXV0b2NvbXBsZXRlJyxcbiAgICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgbGluazogbGluayxcbiAgICAgIHNjb3BlOiBmYWxzZVxuICAgIH07XG4gICAgZnVuY3Rpb24gbGluayAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICAgIHZhciBuZXdTY29wZSA9IGN0cmwucGFyZW50LiRuZXcoZmFsc2UsIGN0cmwucGFyZW50KTtcbiAgICAgIHZhciBpdGVtTmFtZSA9IGN0cmwuc2NvcGUuJGV2YWwoYXR0ci5tZEF1dG9jb21wbGV0ZUxpc3RJdGVtKTtcbiAgICAgIG5ld1Njb3BlW2l0ZW1OYW1lXSA9IHNjb3BlLml0ZW07XG4gICAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKG5ld1Njb3BlKTtcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdyb2xlJzogJ29wdGlvbicsICdpZCc6ICdpdGVtXycgKyAkbWRVdGlsLm5leHRVaWQoKSB9KTtcbiAgICB9XG4gIH1cbiAgTWRBdXRvY29tcGxldGVMaXN0SXRlbS4kaW5qZWN0ID0gW1wiJGNvbXBpbGVcIiwgXCIkbWRVdGlsXCJdO1xufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IGNvbmZpZ3VyZSBpbmsgYmFyIGFuaW1hdGlvbnMgd2hlbiB0aGVcbiAqIHRhYiBzZWxlY3Rpb24gY2hhbmdlcy4gSWYgYG1kTm9CYXJgIHRoZW4gZG8gbm90IHNob3cgdGhlXG4gKiBiYXIgbm9yIGFuaW1hdGUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAuZGlyZWN0aXZlKCdtZFRhYnNJbmtCYXInLCBNZFRhYklua0RpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIE1kVGFiSW5rRGlyZWN0aXZlKCQkckFGKSB7XG5cbiAgdmFyIGxhc3RJbmRleCA9IDA7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnXj9tZE5vQmFyJywgJ15tZFRhYnMnXSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgIHZhciBtZE5vQmFyID0gISFjdHJsc1swXTtcblxuICAgIHZhciB0YWJzQ3RybCA9IGN0cmxzWzFdLFxuICAgICAgICBkZWJvdW5jZWRVcGRhdGVCYXIgPSAkJHJBRi50aHJvdHRsZSh1cGRhdGVCYXIpO1xuXG4gICAgdGFic0N0cmwuaW5rQmFyRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBzY29wZS4kb24oJyRtZFRhYnNQYWdpbmF0aW9uQ2hhbmdlZCcsIGRlYm91bmNlZFVwZGF0ZUJhcik7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVCYXIoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSB0YWJzQ3RybC5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgICAgIHZhciBoaWRlSW5rQmFyID0gIXNlbGVjdGVkIHx8IHRhYnNDdHJsLmNvdW50KCkgPCAyIHx8IG1kTm9CYXI7XG5cbiAgICAgIGVsZW1lbnQuY3NzKCdkaXNwbGF5JywgaGlkZUlua0JhciA/ICdub25lJyA6ICdibG9jaycpO1xuXG4gICAgICBpZiAoaGlkZUlua0JhcikgcmV0dXJuO1xuXG4gICAgICBpZiAoc2NvcGUucGFnaW5hdGlvbiAmJiBzY29wZS5wYWdpbmF0aW9uLnRhYkRhdGEpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGFic0N0cmwuZ2V0U2VsZWN0ZWRJbmRleCgpO1xuICAgICAgICB2YXIgZGF0YSA9IHNjb3BlLnBhZ2luYXRpb24udGFiRGF0YS50YWJzW2luZGV4XSB8fCB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB3aWR0aDogMCB9O1xuICAgICAgICB2YXIgcmlnaHQgPSBlbGVtZW50LnBhcmVudCgpLnByb3AoJ29mZnNldFdpZHRoJykgLSBkYXRhLnJpZ2h0O1xuICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IFsnbWQtdHJhbnNpdGlvbi1sZWZ0JywgJ21kLXRyYW5zaXRpb24tcmlnaHQnLCAnbWQtbm8tdHJhbnNpdGlvbiddO1xuICAgICAgICB2YXIgY2xhc3NJbmRleCA9IGxhc3RJbmRleCA+IGluZGV4ID8gMCA6IGxhc3RJbmRleCA8IGluZGV4ID8gMSA6IDI7XG5cbiAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKGNsYXNzTmFtZXMuam9pbignICcpKVxuICAgICAgICAgICAgLmFkZENsYXNzKGNsYXNzTmFtZXNbY2xhc3NJbmRleF0pXG4gICAgICAgICAgICAuY3NzKHsgbGVmdDogZGF0YS5sZWZ0ICsgJ3B4JywgcmlnaHQ6IHJpZ2h0ICsgJ3B4JyB9KTtcblxuICAgICAgICBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbk1kVGFiSW5rRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAgIC5kaXJlY3RpdmUoJ21kVGFic1BhZ2luYXRpb24nLCBUYWJQYWdpbmF0aW9uRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gVGFiUGFnaW5hdGlvbkRpcmVjdGl2ZSgkbWRDb25zdGFudCwgJHdpbmRvdywgJCRyQUYsICQkcSwgJHRpbWVvdXQsICRtZE1lZGlhKSB7XG5cbiAgLy8gTXVzdCBtYXRjaCAoMiAqIHdpZHRoIG9mIHBhZ2luYXRvcnMpIGluIHNjc3NcbiAgdmFyIFBBR0lOQVRPUlNfV0lEVEggPSAoOCAqIDQpICogMjtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ15tZFRhYnMnLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIHRhYnNDdHJsKSB7XG5cbiAgICB2YXIgdGFicyA9IGVsZW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYicpO1xuICAgIHZhciBkZWJvdW5jZWRVcGRhdGVQYWdpbmF0aW9uID0gJCRyQUYudGhyb3R0bGUodXBkYXRlUGFnaW5hdGlvbik7XG4gICAgdmFyIHRhYnNQYXJlbnQgPSBlbGVtZW50LmNoaWxkcmVuKCk7XG4gICAgdmFyIGxvY2tlZCA9IGZhbHNlO1xuICAgIHZhciBzdGF0ZSA9IHNjb3BlLnBhZ2luYXRpb24gPSB7XG4gICAgICBwYWdlOiAtMSxcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICBjbGlja05leHQ6IGZ1bmN0aW9uKCkgeyBsb2NrZWQgfHwgdXNlckNoYW5nZVBhZ2UoKzEpOyB9LFxuICAgICAgY2xpY2tQcmV2aW91czogZnVuY3Rpb24oKSB7IGxvY2tlZCB8fCB1c2VyQ2hhbmdlUGFnZSgtMSk7IH1cbiAgICB9O1xuXG4gICAgc2NvcGUuJG9uKCckbWRUYWJzQ2hhbmdlZCcsIGRlYm91bmNlZFVwZGF0ZVBhZ2luYXRpb24pO1xuICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplJywgZGVib3VuY2VkVXBkYXRlUGFnaW5hdGlvbik7XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVQYWdpbmF0aW9uKTtcbiAgICB9KTtcblxuICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIHRhYnNDdHJsLnRhYlRvRm9jdXM7IH0sIG9uVGFiRm9jdXMpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHdlIGRvbid0IGZvY3VzIGFuIGVsZW1lbnQgb24gdGhlIG5leHQgcGFnZVxuICAgIC8vIGJlZm9yZSBpdCdzIGluIHZpZXdcbiAgICBmdW5jdGlvbiBvblRhYkZvY3VzKHRhYiwgb2xkVGFiKSB7XG4gICAgICBpZiAoIXRhYikgcmV0dXJuO1xuXG4gICAgICB2YXIgcGFnZUluZGV4ID0gZ2V0UGFnZUZvclRhYih0YWIpO1xuICAgICAgaWYgKCFzdGF0ZS5hY3RpdmUgfHwgcGFnZUluZGV4ID09PSBzdGF0ZS5wYWdlKSB7XG4gICAgICAgIHRhYi5lbGVtZW50LmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHbyB0byB0aGUgbmV3IHBhZ2UsIHdhaXQgZm9yIHRoZSBwYWdlIHRyYW5zaXRpb24gdG8gZW5kLCB0aGVuIGZvY3VzLlxuICAgICAgICBvbGRUYWIgJiYgb2xkVGFiLmVsZW1lbnQuYmx1cigpO1xuICAgICAgICBzZXRQYWdlKHBhZ2VJbmRleCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICB0YWIuZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxsZWQgd2hlbiBwYWdlIGlzIGNoYW5nZWQgYnkgYSB1c2VyIGFjdGlvbiAoY2xpY2spXG4gICAgZnVuY3Rpb24gdXNlckNoYW5nZVBhZ2UoaW5jcmVtZW50KSB7XG4gICAgICB2YXIgc2l6ZURhdGEgPSBzdGF0ZS50YWJEYXRhO1xuICAgICAgdmFyIG5ld1BhZ2UgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzaXplRGF0YS5wYWdlcy5sZW5ndGggLSAxLCBzdGF0ZS5wYWdlICsgaW5jcmVtZW50KSk7XG4gICAgICB2YXIgbmV3VGFiSW5kZXggPSBzaXplRGF0YS5wYWdlc1tuZXdQYWdlXVsgaW5jcmVtZW50ID4gMCA/ICdmaXJzdFRhYkluZGV4JyA6ICdsYXN0VGFiSW5kZXgnIF07XG4gICAgICB2YXIgbmV3VGFiID0gdGFic0N0cmwuaXRlbUF0KG5ld1RhYkluZGV4KTtcbiAgICAgIGxvY2tlZCA9IHRydWU7XG4gICAgICBvblRhYkZvY3VzKG5ld1RhYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbigpIHtcbiAgICAgIGlmICghZWxlbWVudC5wcm9wKCdvZmZzZXRQYXJlbnQnKSkge1xuICAgICAgICB2YXIgd2F0Y2hlciA9IHdhaXRGb3JWaXNpYmxlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhYnMgPSBlbGVtZW50LmZpbmQoJ21kLXRhYicpO1xuXG4gICAgICBkaXNhYmxlUGFnaW5hdGlvbigpO1xuXG4gICAgICB2YXIgc2l6ZURhdGEgPSBzdGF0ZS50YWJEYXRhID0gY2FsY3VsYXRlVGFiRGF0YSgpO1xuICAgICAgdmFyIG5lZWRQYWdpbmF0aW9uID0gc3RhdGUuYWN0aXZlID0gc2l6ZURhdGEucGFnZXMubGVuZ3RoID4gMTtcblxuICAgICAgaWYgKG5lZWRQYWdpbmF0aW9uKSB7IGVuYWJsZVBhZ2luYXRpb24oKTsgfVxuXG4gICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsgc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic1BhZ2luYXRpb25DaGFuZ2VkJyk7IH0pO1xuXG4gICAgICBmdW5jdGlvbiBlbmFibGVQYWdpbmF0aW9uKCkge1xuICAgICAgICB0YWJzUGFyZW50LmNzcygnd2lkdGgnLCAnOTk5OXB4Jyk7XG5cbiAgICAgICAgLy8tLSBhcHBseSBmaWxsZXIgbWFyZ2luc1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2l6ZURhdGEudGFicywgZnVuY3Rpb24gKHRhYikge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCh0YWIuZWxlbWVudCkuY3NzKCdtYXJnaW4tbGVmdCcsIHRhYi5maWxsZXIgKyAncHgnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0UGFnZShnZXRQYWdlRm9yVGFiKHRhYnNDdHJsLmdldFNlbGVjdGVkSXRlbSgpKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRpc2FibGVQYWdpbmF0aW9uKCkge1xuICAgICAgICBzbGlkZVRhYkJ1dHRvbnMoMCk7XG4gICAgICAgIHRhYnNQYXJlbnQuY3NzKCd3aWR0aCcsICcnKTtcbiAgICAgICAgdGFicy5jc3MoJ3dpZHRoJywgJycpO1xuICAgICAgICB0YWJzLmNzcygnbWFyZ2luLWxlZnQnLCAnJyk7XG4gICAgICAgIHN0YXRlLnBhZ2UgPSBudWxsO1xuICAgICAgICBzdGF0ZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gd2FpdEZvclZpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB3YXRjaGVyIHx8IHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50WzBdLm9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih3YXRjaGVyKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXRjaGVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkZWJvdW5jZWRVcGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICB3YXRjaGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzbGlkZVRhYkJ1dHRvbnMoeCkge1xuICAgICAgaWYgKHRhYnNDdHJsLnBhZ2luZ09mZnNldCA9PT0geCkge1xuICAgICAgICAvLyBSZXNvbHZlIGluc3RhbnRseSBpZiBubyBjaGFuZ2VcbiAgICAgICAgcmV0dXJuICQkcS53aGVuKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICQkcS5kZWZlcigpO1xuXG4gICAgICB0YWJzQ3RybC4kJHBhZ2luZ09mZnNldCA9IHg7XG4gICAgICB0YWJzUGFyZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsMCwwKScpO1xuICAgICAgdGFic1BhcmVudC5vbigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgb25UYWJzUGFyZW50VHJhbnNpdGlvbkVuZCk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiBvblRhYnNQYXJlbnRUcmFuc2l0aW9uRW5kKGV2KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGV2ZW50IGRpZG4ndCBidWJibGUgdXAgZnJvbSBhbiBhbmltYXRpb24gaW4gYSBjaGlsZCBlbGVtZW50LlxuICAgICAgICBpZiAoZXYudGFyZ2V0ID09PSB0YWJzUGFyZW50WzBdKSB7XG4gICAgICAgICAgdGFic1BhcmVudC5vZmYoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIG9uVGFic1BhcmVudFRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3VsZFN0cmV0Y2hUYWJzKCkge1xuICAgICAgc3dpdGNoIChzY29wZS5zdHJldGNoVGFicykge1xuICAgICAgICBjYXNlICduZXZlcic6ICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ2Fsd2F5cyc6IHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OiAgICAgICByZXR1cm4gJG1kTWVkaWEoJ3NtJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlVGFiRGF0YShub0FkanVzdCkge1xuICAgICAgdmFyIGNsaWVudFdpZHRoID0gZWxlbWVudC5wYXJlbnQoKS5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgdmFyIHRhYnNXaWR0aCA9IGNsaWVudFdpZHRoIC0gUEFHSU5BVE9SU19XSURUSCAtIDE7XG4gICAgICB2YXIgJHRhYnMgPSBhbmd1bGFyLmVsZW1lbnQodGFicyk7XG4gICAgICB2YXIgdG90YWxXaWR0aCA9IDA7XG4gICAgICB2YXIgbWF4ID0gMDtcbiAgICAgIHZhciB0YWJEYXRhID0gW107XG4gICAgICB2YXIgcGFnZXMgPSBbXTtcbiAgICAgIHZhciBjdXJyZW50UGFnZTtcblxuICAgICAgJHRhYnMuY3NzKCdtYXgtd2lkdGgnLCAnJyk7XG4gICAgICBhbmd1bGFyLmZvckVhY2godGFicywgZnVuY3Rpb24gKHRhYiwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHRhYldpZHRoID0gTWF0aC5taW4odGFic1dpZHRoLCB0YWIub2Zmc2V0V2lkdGgpO1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICBlbGVtZW50OiB0YWIsXG4gICAgICAgICAgbGVmdDogdG90YWxXaWR0aCxcbiAgICAgICAgICB3aWR0aDogdGFiV2lkdGgsXG4gICAgICAgICAgcmlnaHQ6IHRvdGFsV2lkdGggKyB0YWJXaWR0aCxcbiAgICAgICAgICBmaWxsZXI6IDBcbiAgICAgICAgfTtcblxuICAgICAgICAvLy0tIFRoaXMgY2FsY3VsYXRlcyB0aGUgcGFnZSBmb3IgZWFjaCB0YWIuICBUaGUgZmlyc3QgcGFnZSB3aWxsIHVzZSB0aGUgY2xpZW50V2lkdGgsIHdoaWNoXG4gICAgICAgIC8vICAgZG9lcyBub3QgZmFjdG9yIGluIHRoZSBwYWdpbmF0aW9uIGl0ZW1zLiAgQWZ0ZXIgdGhlIGZpcnN0IHBhZ2UsIHRhYnNXaWR0aCBpcyB1c2VkXG4gICAgICAgIC8vICAgYmVjYXVzZSBhdCB0aGlzIHBvaW50LCB3ZSBrbm93IHRoYXQgdGhlIHBhZ2luYXRpb24gYnV0dG9ucyB3aWxsIGJlIHNob3duLlxuICAgICAgICBkYXRhLnBhZ2UgPSBNYXRoLmNlaWwoZGF0YS5yaWdodCAvICggcGFnZXMubGVuZ3RoID09PSAxICYmIGluZGV4ID09PSB0YWJzLmxlbmd0aCAtIDEgPyBjbGllbnRXaWR0aCA6IHRhYnNXaWR0aCApKSAtIDE7XG5cbiAgICAgICAgaWYgKGRhdGEucGFnZSA+PSBwYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICBkYXRhLmZpbGxlciA9ICh0YWJzV2lkdGggKiBkYXRhLnBhZ2UpIC0gZGF0YS5sZWZ0O1xuICAgICAgICAgIGRhdGEucmlnaHQgKz0gZGF0YS5maWxsZXI7XG4gICAgICAgICAgZGF0YS5sZWZ0ICs9IGRhdGEuZmlsbGVyO1xuICAgICAgICAgIGN1cnJlbnRQYWdlID0ge1xuICAgICAgICAgICAgbGVmdDogZGF0YS5sZWZ0LFxuICAgICAgICAgICAgZmlyc3RUYWJJbmRleDogaW5kZXgsXG4gICAgICAgICAgICBsYXN0VGFiSW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgdGFiczogWyBkYXRhIF1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHBhZ2VzLnB1c2goY3VycmVudFBhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRQYWdlLmxhc3RUYWJJbmRleCA9IGluZGV4O1xuICAgICAgICAgIGN1cnJlbnRQYWdlLnRhYnMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0b3RhbFdpZHRoID0gZGF0YS5yaWdodDtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB0YWJXaWR0aCk7XG4gICAgICAgIHRhYkRhdGEucHVzaChkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgJHRhYnMuY3NzKCdtYXgtd2lkdGgnLCB0YWJzV2lkdGggKyAncHgnKTtcblxuICAgICAgaWYgKCFub0FkanVzdCAmJiBzaG91bGRTdHJldGNoVGFicygpKSB7XG4gICAgICAgIHJldHVybiBhZGp1c3RGb3JTdHJldGNoZWRUYWJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiB0b3RhbFdpZHRoLFxuICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgIHRhYnM6IHRhYkRhdGEsXG4gICAgICAgICAgcGFnZXM6IHBhZ2VzLFxuICAgICAgICAgIHRhYkVsZW1lbnRzOiB0YWJzXG4gICAgICAgIH07XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gYWRqdXN0Rm9yU3RyZXRjaGVkVGFicygpIHtcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gcGFnZXMubGVuZ3RoID09PSAxID8gY2xpZW50V2lkdGggOiB0YWJzV2lkdGg7XG4gICAgICAgIHZhciB0YWJzUGVyUGFnZSA9IE1hdGgubWluKE1hdGguZmxvb3IoY2FudmFzV2lkdGggLyBtYXgpLCB0YWJzLmxlbmd0aCk7XG4gICAgICAgIHZhciB0YWJXaWR0aCAgICA9IE1hdGguZmxvb3IoY2FudmFzV2lkdGggLyB0YWJzUGVyUGFnZSk7XG4gICAgICAgICR0YWJzLmNzcygnd2lkdGgnLCB0YWJXaWR0aCArICdweCcpO1xuICAgICAgICByZXR1cm4gY2FsY3VsYXRlVGFiRGF0YSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYWdlRm9yVGFiKHRhYikge1xuICAgICAgdmFyIHRhYkluZGV4ID0gdGFic0N0cmwuaW5kZXhPZih0YWIpO1xuICAgICAgaWYgKHRhYkluZGV4ID09PSAtMSkgcmV0dXJuIDA7XG5cbiAgICAgIHZhciBzaXplRGF0YSA9IHN0YXRlLnRhYkRhdGE7XG5cbiAgICAgIHJldHVybiBzaXplRGF0YSA/IHNpemVEYXRhLnRhYnNbdGFiSW5kZXhdLnBhZ2UgOiAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFBhZ2UocGFnZSkge1xuICAgICAgaWYgKHBhZ2UgPT09IHN0YXRlLnBhZ2UpIHJldHVybjtcblxuICAgICAgdmFyIGxhc3RQYWdlID0gc3RhdGUudGFiRGF0YS5wYWdlcy5sZW5ndGggLSAxO1xuXG4gICAgICBpZiAocGFnZSA8IDApIHBhZ2UgPSAwO1xuICAgICAgaWYgKHBhZ2UgPiBsYXN0UGFnZSkgcGFnZSA9IGxhc3RQYWdlO1xuXG4gICAgICBzdGF0ZS5oYXNQcmV2ID0gcGFnZSA+IDA7XG4gICAgICBzdGF0ZS5oYXNOZXh0ID0gcGFnZSA8IGxhc3RQYWdlO1xuXG4gICAgICBzdGF0ZS5wYWdlID0gcGFnZTtcblxuICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic1BhZ2luYXRpb25DaGFuZ2VkJyk7XG5cbiAgICAgIHJldHVybiBzbGlkZVRhYkJ1dHRvbnMoLXN0YXRlLnRhYkRhdGEucGFnZXNbcGFnZV0ubGVmdCk7XG4gICAgfVxuICB9XG5cbn1cblRhYlBhZ2luYXRpb25EaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZENvbnN0YW50XCIsIFwiJHdpbmRvd1wiLCBcIiQkckFGXCIsIFwiJCRxXCIsIFwiJHRpbWVvdXRcIiwgXCIkbWRNZWRpYVwiXTtcbn0pKCk7XG5cbi8qIVxuICogQW5ndWxhciBNYXRlcmlhbCBEZXNpZ25cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL21hdGVyaWFsXG4gKiBAbGljZW5zZSBNSVRcbiAqIHYwLjcuMS1tYXN0ZXItYTljMTZlMFxuICovXG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gIC5jb250cm9sbGVyKCckbWRUYWInLCBUYWJJdGVtQ29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIFRhYkl0ZW1Db250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJGNvbXBpbGUsICRhbmltYXRlLCAkbWRVdGlsLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHRhYnNDdHJsID0gJGVsZW1lbnQuY29udHJvbGxlcignbWRUYWJzJyk7XG5cbiAgLy8gUHJvcGVydGllc1xuICBzZWxmLmNvbnRlbnRDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC10YWItY29udGVudCBuZy1oaWRlXCI+Jyk7XG4gIHNlbGYuZWxlbWVudCA9ICRlbGVtZW50O1xuXG4gIC8vIE1ldGhvZHNcbiAgc2VsZi5pc0Rpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgc2VsZi5vbkFkZCA9IG9uQWRkO1xuICBzZWxmLm9uUmVtb3ZlID0gb25SZW1vdmU7XG4gIHNlbGYub25TZWxlY3QgPSBvblNlbGVjdDtcbiAgc2VsZi5vbkRlc2VsZWN0ID0gb25EZXNlbGVjdDtcblxuICB2YXIgZGlzYWJsZWRQYXJzZWQgPSAkcGFyc2UoJGF0dHJzLm5nRGlzYWJsZWQpO1xuICBmdW5jdGlvbiBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiBkaXNhYmxlZFBhcnNlZCgkc2NvcGUuJHBhcmVudCk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBBZGQgdGhlIHRhYidzIGNvbnRlbnQgdG8gdGhlIERPTSBjb250YWluZXIgYXJlYSBpbiB0aGUgdGFicyxcbiAgICogQHBhcmFtIGNvbnRlbnRBcmVhIHRoZSBjb250ZW50QXJlYSB0byBhZGQgdGhlIGNvbnRlbnQgb2YgdGhlIHRhYiB0b1xuICAgKi9cbiAgZnVuY3Rpb24gb25BZGQoY29udGVudEFyZWEsIHNob3VsZERpc2Nvbm5lY3RTY29wZSkge1xuICAgIGlmIChzZWxmLmNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICBzZWxmLmNvbnRlbnRDb250YWluZXIuYXBwZW5kKHNlbGYuY29udGVudCk7XG4gICAgICBzZWxmLmNvbnRlbnRTY29wZSA9ICRzY29wZS4kcGFyZW50LiRuZXcoKTtcbiAgICAgIGNvbnRlbnRBcmVhLmFwcGVuZChzZWxmLmNvbnRlbnRDb250YWluZXIpO1xuXG4gICAgICAkY29tcGlsZShzZWxmLmNvbnRlbnRDb250YWluZXIpKHNlbGYuY29udGVudFNjb3BlKTtcbiAgICAgIGlmIChzaG91bGREaXNjb25uZWN0U2NvcGUgPT09IHRydWUpIHtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRtZFV0aWwuZGlzY29ubmVjdFNjb3BlKHNlbGYuY29udGVudFNjb3BlKTtcbiAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVtb3ZlKCkge1xuICAgICRhbmltYXRlLmxlYXZlKHNlbGYuY29udGVudENvbnRhaW5lcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY29udGVudFNjb3BlICYmIHNlbGYuY29udGVudFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICBzZWxmLmNvbnRlbnRTY29wZSA9IG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVBbmltYXRpb25DbGFzcyhyaWdodFRvTGVmdCkge1xuICAgIHNlbGYuY29udGVudENvbnRhaW5lcltyaWdodFRvTGVmdCA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSgnbWQtdHJhbnNpdGlvbi1ydGwnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2VsZWN0KHJpZ2h0VG9MZWZ0KSB7XG4gICAgLy8gUmVzdW1lIHdhdGNoZXJzIGFuZCBldmVudHMgZmlyaW5nIHdoZW4gdGFiIGlzIHNlbGVjdGVkXG4gICAgJG1kVXRpbC5yZWNvbm5lY3RTY29wZShzZWxmLmNvbnRlbnRTY29wZSk7XG5cbiAgICAkZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IHRydWUsXG4gICAgICAgICd0YWJJbmRleCc6IDBcbiAgICAgIH0pXG4gICAgICAub24oJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvblN3aXBlKTtcblxuICAgIHRvZ2dsZUFuaW1hdGlvbkNsYXNzKHJpZ2h0VG9MZWZ0KTtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhzZWxmLmNvbnRlbnRDb250YWluZXIsICduZy1oaWRlJyk7XG5cbiAgICAkc2NvcGUub25TZWxlY3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRGVzZWxlY3QocmlnaHRUb0xlZnQpIHtcbiAgICAvLyBTdG9wIHdhdGNoZXJzICYgZXZlbnRzIGZyb20gZmlyaW5nIHdoaWxlIHRhYiBpcyBkZXNlbGVjdGVkXG4gICAgJG1kVXRpbC5kaXNjb25uZWN0U2NvcGUoc2VsZi5jb250ZW50U2NvcGUpO1xuXG4gICAgJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBmYWxzZSxcbiAgICAgICAgJ3RhYkluZGV4JzogLTFcbiAgICAgIH0pXG4gICAgICAub2ZmKCckbWQuc3dpcGVsZWZ0ICRtZC5zd2lwZXJpZ2h0Jywgb25Td2lwZSk7XG5cbiAgICB0b2dnbGVBbmltYXRpb25DbGFzcyhyaWdodFRvTGVmdCk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3Moc2VsZi5jb250ZW50Q29udGFpbmVyLCAnbmctaGlkZScpO1xuXG4gICAgJHNjb3BlLm9uRGVzZWxlY3QoKTtcbiAgfVxuXG4gIC8vLy8vIFByaXZhdGUgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gb25Td2lwZShldikge1xuICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoL2xlZnQvLnRlc3QoZXYudHlwZSkpIHtcbiAgICAgICAgdGFic0N0cmwuc2VsZWN0KHRhYnNDdHJsLm5leHQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWJzQ3RybC5zZWxlY3QodGFic0N0cmwucHJldmlvdXMoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiBcblxufVxuVGFiSXRlbUNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJGNvbXBpbGVcIiwgXCIkYW5pbWF0ZVwiLCBcIiRtZFV0aWxcIiwgXCIkcGFyc2VcIiwgXCIkdGltZW91dFwiXTtcblxufSkoKTtcblxuLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuNy4xLW1hc3Rlci1hOWMxNmUwXG4gKi9cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gIC5kaXJlY3RpdmUoJ21kVGFiJywgTWRUYWJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kVGFiXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudGFic1xuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGA8bWQtdGFiPmAgYSBuZXN0ZWQgZGlyZWN0aXZlIHVzZWQgd2l0aGluIGA8bWQtdGFicz5gIHRvIHNwZWNpZnkgYSB0YWIgd2l0aCBhICoqbGFiZWwqKiBhbmQgb3B0aW9uYWwgKnZpZXcgY29udGVudCouXG4gKlxuICogSWYgdGhlIGBsYWJlbGAgYXR0cmlidXRlIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gYW4gb3B0aW9uYWwgYDxtZC10YWItbGFiZWw+YCB0YWcgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBtb3JlXG4gKiBjb21wbGV4IHRhYiBoZWFkZXIgbWFya3VwLiBJZiBuZWl0aGVyIHRoZSAqKmxhYmVsKiogbm9yIHRoZSAqKm1kLXRhYi1sYWJlbCoqIGFyZSBzcGVjaWZpZWQsIHRoZW4gdGhlIG5lc3RlZFxuICogbWFya3VwIG9mIHRoZSBgPG1kLXRhYj5gIGlzIHVzZWQgYXMgdGhlIHRhYiBoZWFkZXIgbWFya3VwLlxuICpcbiAqIElmIGEgdGFiICoqbGFiZWwqKiBoYXMgYmVlbiBpZGVudGlmaWVkLCB0aGVuIGFueSAqKm5vbi0qKmA8bWQtdGFiLWxhYmVsPmAgbWFya3VwXG4gKiB3aWxsIGJlIGNvbnNpZGVyZWQgdGFiIGNvbnRlbnQgYW5kIHdpbGwgYmUgdHJhbnNjbHVkZWQgdG8gdGhlIGludGVybmFsIGA8ZGl2IGNsYXNzPVwibWQtdGFicy1jb250ZW50XCI+YCBjb250YWluZXIuXG4gKlxuICogVGhpcyBjb250YWluZXIgaXMgdXNlZCBieSB0aGUgVGFic0NvbnRyb2xsZXIgdG8gc2hvdy9oaWRlIHRoZSBhY3RpdmUgdGFiJ3MgY29udGVudCB2aWV3LiBUaGlzIHN5bmNocm9uaXphdGlvbiBpc1xuICogYXV0b21hdGljYWxseSBtYW5hZ2VkIGJ5IHRoZSBpbnRlcm5hbCBUYWJzQ29udHJvbGxlciB3aGVuZXZlciB0aGUgdGFiIHNlbGVjdGlvbiBjaGFuZ2VzLiBTZWxlY3Rpb24gY2hhbmdlcyBjYW5cbiAqIGJlIGluaXRpYXRlZCB2aWEgZGF0YSBiaW5kaW5nIGNoYW5nZXMsIHByb2dyYW1tYXRpYyBpbnZvY2F0aW9uLCBvciB1c2VyIGdlc3R1cmVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbGFiZWwgT3B0aW9uYWwgYXR0cmlidXRlIHRvIHNwZWNpZnkgYSBzaW1wbGUgc3RyaW5nIGFzIHRoZSB0YWIgbGFiZWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWFjdGl2ZSBXaGVuIGV2YWx1dGVpbmcgdG8gdHJ1ZSwgc2VsZWN0cyB0aGUgdGFiLlxuICogQHBhcmFtIHtib29sZWFuPX0gZGlzYWJsZWQgSWYgcHJlc2VudCwgZGlzYWJsZWQgdGFiIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLW9uLWRlc2VsZWN0IEV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkIGFmdGVyIHRoZSB0YWIgaGFzIGJlZW4gZGUtc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1zZWxlY3QgRXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWQgYWZ0ZXIgdGhlIHRhYiBoYXMgYmVlbiBzZWxlY3RlZC5cbiAqXG4gKlxuICogQHVzYWdlXG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC10YWIgbGFiZWw9XCJcIiBkaXNhYmxlZD1cIlwiIG1kLW9uLXNlbGVjdD1cIlwiIG1kLW9uLWRlc2VsZWN0PVwiXCIgPlxuICogICA8aDM+TXkgVGFiIGNvbnRlbnQ8L2gzPlxuICogPC9tZC10YWI+XG4gKlxuICogPG1kLXRhYiA+XG4gKiAgIDxtZC10YWItbGFiZWw+XG4gKiAgICAgPGgzPk15IFRhYiBjb250ZW50PC9oMz5cbiAqICAgPC9tZC10YWItbGFiZWw+XG4gKiAgIDxwPlxuICogICAgIFNlZCB1dCBwZXJzcGljaWF0aXMgdW5kZSBvbW5pcyBpc3RlIG5hdHVzIGVycm9yIHNpdCB2b2x1cHRhdGVtIGFjY3VzYW50aXVtIGRvbG9yZW1xdWUgbGF1ZGFudGl1bSxcbiAqICAgICB0b3RhbSByZW0gYXBlcmlhbSwgZWFxdWUgaXBzYSBxdWFlIGFiIGlsbG8gaW52ZW50b3JlIHZlcml0YXRpcyBldCBxdWFzaSBhcmNoaXRlY3RvIGJlYXRhZSB2aXRhZVxuICogICAgIGRpY3RhIHN1bnQgZXhwbGljYWJvLiBOZW1vIGVuaW0gaXBzYW0gdm9sdXB0YXRlbSBxdWlhIHZvbHVwdGFzIHNpdCBhc3Blcm5hdHVyIGF1dCBvZGl0IGF1dCBmdWdpdCxcbiAqICAgICBzZWQgcXVpYSBjb25zZXF1dW50dXIgbWFnbmkgZG9sb3JlcyBlb3MgcXVpIHJhdGlvbmUgdm9sdXB0YXRlbSBzZXF1aSBuZXNjaXVudC5cbiAqICAgPC9wPlxuICogPC9tZC10YWI+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBNZFRhYkRpcmVjdGl2ZSgkbWRJbmtSaXBwbGUsICRjb21waWxlLCAkbWRVdGlsLCAkbWRDb25zdGFudCwgJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnbWRUYWInLCAnXm1kVGFicyddLFxuICAgIGNvbnRyb2xsZXI6ICckbWRUYWInLFxuICAgIHNjb3BlOiB7XG4gICAgICBvblNlbGVjdDogJyZtZE9uU2VsZWN0JyxcbiAgICAgIG9uRGVzZWxlY3Q6ICcmbWRPbkRlc2VsZWN0JyxcbiAgICAgIGxhYmVsOiAnQCdcbiAgICB9LFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKGVsZW1lbnQsIGF0dHIpIHtcbiAgICB2YXIgdGFiTGFiZWwgPSBlbGVtZW50LmZpbmQoJ21kLXRhYi1sYWJlbCcpO1xuXG4gICAgaWYgKHRhYkxhYmVsLmxlbmd0aCkge1xuICAgICAgLy8gSWYgYSB0YWIgbGFiZWwgZWxlbWVudCBpcyBmb3VuZCwgcmVtb3ZlIGl0IGZvciBsYXRlciByZS11c2UuXG4gICAgICB0YWJMYWJlbC5yZW1vdmUoKTtcblxuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5sYWJlbCkpIHtcbiAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IHRvIHVzZSBhdHRyLmxhYmVsIGFzIHRoZSBsYWJlbFxuICAgICAgdGFiTGFiZWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxtZC10YWItbGFiZWw+JykuaHRtbChhdHRyLmxhYmVsKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBub3RoaW5nIGlzIGZvdW5kLCB1c2UgdGhlIHRhYidzIGNvbnRlbnQgYXMgdGhlIGxhYmVsXG4gICAgICB0YWJMYWJlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLXRhYi1sYWJlbD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChlbGVtZW50LmNvbnRlbnRzKCkucmVtb3ZlKCkpO1xuICAgIH1cblxuICAgIC8vIEV2ZXJ5dGhpbmcgdGhhdCdzIGxlZnQgYXMgYSBjaGlsZCBpcyB0aGUgdGFiJ3MgY29udGVudC5cbiAgICB2YXIgdGFiQ29udGVudCA9IGVsZW1lbnQuY29udGVudHMoKS5yZW1vdmUoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgICAgdmFyIHRhYkl0ZW1DdHJsID0gY3RybHNbMF07IC8vIENvbnRyb2xsZXIgZm9yIFRISVMgdGFiSXRlbUN0cmxcbiAgICAgIHZhciB0YWJzQ3RybCA9IGN0cmxzWzFdOyAvLyBDb250cm9sbGVyIGZvciBBTEwgdGFic1xuXG4gICAgICAkdGltZW91dChlbGVtZW50LmFkZENsYXNzLmJpbmQoZWxlbWVudCwgJ21kLXRhYi10aGVtZWQnKSwgMCwgZmFsc2UpO1xuXG4gICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gYXR0ci5sYWJlbDsgfSxcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgdGFic0N0cmwuc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic0NoYW5nZWQnKTsgfSwgMCwgZmFsc2UpOyB9XG4gICAgICApO1xuXG4gICAgICB0cmFuc2NsdWRlVGFiQ29udGVudCgpO1xuICAgICAgY29uZmlndXJlQXJpYSgpO1xuXG4gICAgICAkbWRJbmtSaXBwbGUuYXR0YWNoVGFiQmVoYXZpb3Ioc2NvcGUsIGVsZW1lbnQsIHtcbiAgICAgICAgY29sb3JFbGVtZW50OiB0YWJzQ3RybC5pbmtCYXJFbGVtZW50XG4gICAgICB9KTtcbiAgICAgIHRhYnNDdHJsLmFkZCh0YWJJdGVtQ3RybCk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRhYnNDdHJsLnJlbW92ZSh0YWJJdGVtQ3RybCk7XG4gICAgICB9KTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLy0tIHdhaXQgZm9yIGl0ZW0gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBkb21cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRhYnNDdHJsLnNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG4gICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdDbGljaykpIHtcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBkZWZhdWx0Q2xpY2tMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIoc2NvcGUuJHBhcmVudC4kaW5kZXgpKSB7XG4gICAgICAgIHdhdGNoTmdSZXBlYXRJbmRleCgpO1xuICAgICAgfVxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWRBY3RpdmUpKSB7XG4gICAgICAgIHdhdGNoQWN0aXZlQXR0cmlidXRlKCk7XG4gICAgICB9XG4gICAgICB3YXRjaERpc2FibGVkKCk7XG5cbiAgICAgIGZ1bmN0aW9uIHRyYW5zY2x1ZGVUYWJDb250ZW50KCkge1xuICAgICAgICAvLyBDbG9uZSB0aGUgbGFiZWwgd2UgZm91bmQgZWFybGllciwgYW5kICRjb21waWxlIGFuZCBhcHBlbmQgaXRcbiAgICAgICAgdmFyIGxhYmVsID0gdGFiTGFiZWwuY2xvbmUoKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmQobGFiZWwpO1xuICAgICAgICAkY29tcGlsZShsYWJlbCkoc2NvcGUuJHBhcmVudCk7XG5cbiAgICAgICAgLy8gQ2xvbmUgdGhlIGNvbnRlbnQgd2UgZm91bmQgZWFybGllciwgYW5kIG1hcmsgaXQgZm9yIGxhdGVyIHBsYWNlbWVudCBpbnRvXG4gICAgICAgIC8vIHRoZSBwcm9wZXIgY29udGVudCBhcmVhLlxuICAgICAgICB0YWJJdGVtQ3RybC5jb250ZW50ID0gdGFiQ29udGVudC5jbG9uZSgpO1xuICAgICAgfVxuXG4gICAgICAvL2RlZmF1bHRDbGlja0xpc3RlbmVyIGlzbid0IGFwcGxpZWQgaWYgdGhlIHVzZXIgcHJvdmlkZXMgYW4gbmdDbGljayBleHByZXNzaW9uLlxuICAgICAgZnVuY3Rpb24gZGVmYXVsdENsaWNrTGlzdGVuZXIoKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICB0YWJzQ3RybC5zZWxlY3QodGFiSXRlbUN0cmwpO1xuICAgICAgICAgIHRhYnNDdHJsLmZvY3VzKHRhYkl0ZW1DdHJsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBrZXlkb3duTGlzdGVuZXIoZXYpIHtcbiAgICAgICAgaWYgKGV2LmtleUNvZGUgPT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0UgfHwgZXYua2V5Q29kZSA9PSAkbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUiApIHtcbiAgICAgICAgICAvLyBGaXJlIHRoZSBjbGljayBoYW5kbGVyIHRvIGRvIG5vcm1hbCBzZWxlY3Rpb24gaWYgc3BhY2UgaXMgcHJlc3NlZFxuICAgICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5MRUZUX0FSUk9XKSB7XG4gICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRhYnNDdHJsLmZvY3VzKHRhYnNDdHJsLnByZXZpb3VzKHRhYkl0ZW1DdHJsKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXYua2V5Q29kZSA9PT0gJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1cpIHtcbiAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFic0N0cmwuZm9jdXModGFic0N0cmwubmV4dCh0YWJJdGVtQ3RybCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRhYkl0ZW1DdHJsIGlzIHBhcnQgb2YgYW4gbmdSZXBlYXQsIG1vdmUgdGhlIHRhYkl0ZW1DdHJsIGluIG91ciBpbnRlcm5hbCBhcnJheVxuICAgICAgLy8gd2hlbiBpdHMgJGluZGV4IGNoYW5nZXNcbiAgICAgIGZ1bmN0aW9uIHdhdGNoTmdSZXBlYXRJbmRleCgpIHtcbiAgICAgICAgLy8gVGhlIHRhYkl0ZW1DdHJsIGhhcyBhbiBpc29sYXRlIHNjb3BlLCBzbyB3ZSB3YXRjaCB0aGUgJGluZGV4IG9uIHRoZSBwYXJlbnQuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnJHBhcmVudC4kaW5kZXgnLCBmdW5jdGlvbiAkaW5kZXhXYXRjaEFjdGlvbihuZXdJbmRleCkge1xuICAgICAgICAgIHRhYnNDdHJsLm1vdmUodGFiSXRlbUN0cmwsIG5ld0luZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHdhdGNoQWN0aXZlQXR0cmlidXRlKCkge1xuICAgICAgICB2YXIgdW53YXRjaCA9IHNjb3BlLiRwYXJlbnQuJHdhdGNoKCchISgnICsgYXR0ci5tZEFjdGl2ZSArICcpJywgYWN0aXZlV2F0Y2hBY3Rpb24pO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW53YXRjaCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZlV2F0Y2hBY3Rpb24oaXNBY3RpdmUpIHtcbiAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IHRhYnNDdHJsLmdldFNlbGVjdGVkSXRlbSgpID09PSB0YWJJdGVtQ3RybDtcblxuICAgICAgICAgIGlmIChpc0FjdGl2ZSAmJiAhaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGFic0N0cmwuc2VsZWN0KHRhYkl0ZW1DdHJsKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc0FjdGl2ZSAmJiBpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICB0YWJzQ3RybC5kZXNlbGVjdCh0YWJJdGVtQ3RybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHdhdGNoRGlzYWJsZWQoKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCh0YWJJdGVtQ3RybC5pc0Rpc2FibGVkLCBkaXNhYmxlZFdhdGNoQWN0aW9uKTtcblxuICAgICAgICBmdW5jdGlvbiBkaXNhYmxlZFdhdGNoQWN0aW9uKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBpc0Rpc2FibGVkKTtcblxuICAgICAgICAgIC8vIEF1dG8gc2VsZWN0IGBuZXh0YCB0YWIgd2hlbiBkaXNhYmxlZFxuICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gKHRhYnNDdHJsLmdldFNlbGVjdGVkSXRlbSgpID09PSB0YWJJdGVtQ3RybCk7XG4gICAgICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgdGFic0N0cmwuc2VsZWN0KHRhYnNDdHJsLm5leHQoKSB8fCB0YWJzQ3RybC5wcmV2aW91cygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhKCkge1xuICAgICAgICAvLyBMaW5rIHRvZ2V0aGVyIHRoZSBjb250ZW50IGFyZWEgYW5kIHRhYkl0ZW1DdHJsIHdpdGggYW4gaWRcbiAgICAgICAgdmFyIHRhYklkID0gYXR0ci5pZCB8fCAoJ3RhYl8nICsgJG1kVXRpbC5uZXh0VWlkKCkpO1xuXG4gICAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgaWQ6IHRhYklkLFxuICAgICAgICAgIHJvbGU6ICd0YWInLFxuICAgICAgICAgIHRhYkluZGV4OiAtMSAvL3RoaXMgaXMgYWxzbyBzZXQgb24gc2VsZWN0L2Rlc2VsZWN0IGluIHRhYkl0ZW1DdHJsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9ubHkgc2V0dXAgdGhlIGNvbnRlbnRDb250YWluZXIncyBhcmlhIGF0dHJpYnV0ZXMgaWYgdGFiIGNvbnRlbnQgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKHRhYkNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHRhYkNvbnRlbnRJZCA9ICdjb250ZW50XycgKyB0YWJJZDtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuYXR0cignYXJpYS1jb250cm9scycpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtY29udHJvbHMnLCB0YWJDb250ZW50SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YWJJdGVtQ3RybC5jb250ZW50Q29udGFpbmVyLmF0dHIoe1xuICAgICAgICAgICAgaWQ6IHRhYkNvbnRlbnRJZCxcbiAgICAgICAgICAgIHJvbGU6ICd0YWJwYW5lbCcsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogdGFiSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfTtcblxuICB9XG5cbn1cbk1kVGFiRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRJbmtSaXBwbGVcIiwgXCIkY29tcGlsZVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgLmNvbnRyb2xsZXIoJyRtZFRhYnMnLCBNZFRhYnNDb250cm9sbGVyKTtcblxuZnVuY3Rpb24gTWRUYWJzQ29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50LCAkbWRVdGlsLCAkdGltZW91dCkge1xuXG4gIHZhciB0YWJzTGlzdCA9ICRtZFV0aWwuaXRlcmF0b3IoW10sIGZhbHNlKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIFByb3BlcnRpZXNcbiAgc2VsZi4kZWxlbWVudCA9ICRlbGVtZW50O1xuICBzZWxmLnNjb3BlID0gJHNjb3BlO1xuICAvLyBUaGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSB0YWIgY29udGVudCAkZWxlbWVudHNcbiAgdmFyIGNvbnRlbnRBcmVhID0gc2VsZi5jb250ZW50QXJlYSA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdGFicy1jb250ZW50JykpO1xuXG4gIC8vIE1ldGhvZHMgZnJvbSBpdGVyYXRvclxuICB2YXIgaW5SYW5nZSA9IHNlbGYuaW5SYW5nZSA9IHRhYnNMaXN0LmluUmFuZ2U7XG4gIHZhciBpbmRleE9mID0gc2VsZi5pbmRleE9mID0gdGFic0xpc3QuaW5kZXhPZjtcbiAgdmFyIGl0ZW1BdCA9IHNlbGYuaXRlbUF0ID0gdGFic0xpc3QuaXRlbUF0O1xuICBzZWxmLmNvdW50ID0gdGFic0xpc3QuY291bnQ7XG5cbiAgc2VsZi5nZXRTZWxlY3RlZEl0ZW0gPSBnZXRTZWxlY3RlZEl0ZW07XG4gIHNlbGYuZ2V0U2VsZWN0ZWRJbmRleCA9IGdldFNlbGVjdGVkSW5kZXg7XG4gIHNlbGYuYWRkID0gYWRkO1xuICBzZWxmLnJlbW92ZSA9IHJlbW92ZTtcbiAgc2VsZi5tb3ZlID0gbW92ZTtcbiAgc2VsZi5zZWxlY3QgPSBzZWxlY3Q7XG4gIHNlbGYuZm9jdXMgPSBmb2N1cztcbiAgc2VsZi5kZXNlbGVjdCA9IGRlc2VsZWN0O1xuXG4gIHNlbGYubmV4dCA9IG5leHQ7XG4gIHNlbGYucHJldmlvdXMgPSBwcmV2aW91cztcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIGRlc2VsZWN0KGdldFNlbGVjdGVkSXRlbSgpKTtcbiAgICBmb3IgKHZhciBpID0gdGFic0xpc3QuY291bnQoKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICByZW1vdmUodGFic0xpc3RbaV0sIHRydWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gR2V0IHRoZSBzZWxlY3RlZCB0YWJcbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJdGVtKCkge1xuICAgIHJldHVybiBpdGVtQXQoJHNjb3BlLnNlbGVjdGVkSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJbmRleCgpIHtcbiAgICByZXR1cm4gJHNjb3BlLnNlbGVjdGVkSW5kZXg7XG4gIH1cblxuICAvLyBBZGQgYSBuZXcgdGFiLlxuICAvLyBSZXR1cm5zIGEgbWV0aG9kIHRvIHJlbW92ZSB0aGUgdGFiIGZyb20gdGhlIGxpc3QuXG4gIGZ1bmN0aW9uIGFkZCh0YWIsIGluZGV4KSB7XG4gICAgdGFic0xpc3QuYWRkKHRhYiwgaW5kZXgpO1xuXG4gICAgLy8gU2VsZWN0IHRoZSBuZXcgdGFiIGlmIHdlIGRvbid0IGhhdmUgYSBzZWxlY3RlZEluZGV4LCBvciBpZiB0aGVcbiAgICAvLyBzZWxlY3RlZEluZGV4IHdlJ3ZlIGJlZW4gd2FpdGluZyBmb3IgaXMgdGhpcyB0YWJcbiAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKHRhYi5lbGVtZW50LmF0dHIoJ21kLWFjdGl2ZScpKSAmJiAoJHNjb3BlLnNlbGVjdGVkSW5kZXggPT09IC0xIHx8ICFhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5zZWxlY3RlZEluZGV4KSB8fFxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJbmRleCA9PT0gc2VsZi5pbmRleE9mKHRhYikpKSB7XG4gICAgICB0YWIub25BZGQoc2VsZi5jb250ZW50QXJlYSwgZmFsc2UpO1xuICAgICAgc2VsZi5zZWxlY3QodGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFiLm9uQWRkKHNlbGYuY29udGVudEFyZWEsIHRydWUpO1xuICAgIH1cblxuICAgICRzY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzQ2hhbmdlZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlKHRhYiwgbm9SZXNlbGVjdCkge1xuICAgIGlmICghdGFic0xpc3QuY29udGFpbnModGFiKSkgcmV0dXJuO1xuICAgIGlmIChub1Jlc2VsZWN0KSByZXR1cm47XG4gICAgdmFyIGlzU2VsZWN0ZWRJdGVtID0gZ2V0U2VsZWN0ZWRJdGVtKCkgPT09IHRhYixcbiAgICAgICAgbmV3VGFiID0gcHJldmlvdXMoKSB8fCBuZXh0KCk7XG5cbiAgICBkZXNlbGVjdCh0YWIpO1xuICAgIHRhYnNMaXN0LnJlbW92ZSh0YWIpO1xuICAgIHRhYi5vblJlbW92ZSgpO1xuXG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG5cbiAgICBpZiAoaXNTZWxlY3RlZEl0ZW0pIHsgc2VsZWN0KG5ld1RhYik7IH1cbiAgfVxuXG4gIC8vIE1vdmUgYSB0YWIgKHVzZWQgd2hlbiBuZy1yZXBlYXQgb3JkZXIgY2hhbmdlcylcbiAgZnVuY3Rpb24gbW92ZSh0YWIsIHRvSW5kZXgpIHtcbiAgICB2YXIgaXNTZWxlY3RlZCA9IGdldFNlbGVjdGVkSXRlbSgpID09PSB0YWI7XG5cbiAgICB0YWJzTGlzdC5yZW1vdmUodGFiKTtcbiAgICB0YWJzTGlzdC5hZGQodGFiLCB0b0luZGV4KTtcbiAgICBpZiAoaXNTZWxlY3RlZCkgc2VsZWN0KHRhYik7XG5cbiAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic0NoYW5nZWQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdCh0YWIsIHJpZ2h0VG9MZWZ0KSB7XG4gICAgaWYgKCF0YWIgfHwgdGFiLmlzU2VsZWN0ZWQgfHwgdGFiLmlzRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGlmICghdGFic0xpc3QuY29udGFpbnModGFiKSkgcmV0dXJuO1xuXG4gICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChyaWdodFRvTGVmdCkpIHtcbiAgICAgIHJpZ2h0VG9MZWZ0ID0gaW5kZXhPZih0YWIpIDwgJHNjb3BlLnNlbGVjdGVkSW5kZXg7XG4gICAgfVxuICAgIGRlc2VsZWN0KGdldFNlbGVjdGVkSXRlbSgpLCByaWdodFRvTGVmdCk7XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWRJbmRleCA9IGluZGV4T2YodGFiKTtcbiAgICB0YWIuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgdGFiLm9uU2VsZWN0KHJpZ2h0VG9MZWZ0KTtcblxuICAgICRzY29wZS4kYnJvYWRjYXN0KCckbWRUYWJzQ2hhbmdlZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXModGFiKSB7XG4gICAgLy8gdGhpcyB2YXJpYWJsZSBpcyB3YXRjaGVkIGJ5IHBhZ2luYXRpb25cbiAgICBzZWxmLnRhYlRvRm9jdXMgPSB0YWI7XG4gIH1cblxuICBmdW5jdGlvbiBkZXNlbGVjdCh0YWIsIHJpZ2h0VG9MZWZ0KSB7XG4gICAgaWYgKCF0YWIgfHwgIXRhYi5pc1NlbGVjdGVkKSByZXR1cm47XG4gICAgaWYgKCF0YWJzTGlzdC5jb250YWlucyh0YWIpKSByZXR1cm47XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIHRhYi5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgdGFiLm9uRGVzZWxlY3QocmlnaHRUb0xlZnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCh0YWIsIGZpbHRlckZuKSB7XG4gICAgcmV0dXJuIHRhYnNMaXN0Lm5leHQodGFiIHx8IGdldFNlbGVjdGVkSXRlbSgpLCBmaWx0ZXJGbiB8fCBpc1RhYkVuYWJsZWQpO1xuICB9XG4gIGZ1bmN0aW9uIHByZXZpb3VzKHRhYiwgZmlsdGVyRm4pIHtcbiAgICByZXR1cm4gdGFic0xpc3QucHJldmlvdXModGFiIHx8IGdldFNlbGVjdGVkSXRlbSgpLCBmaWx0ZXJGbiB8fCBpc1RhYkVuYWJsZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUYWJFbmFibGVkKHRhYikge1xuICAgIHJldHVybiB0YWIgJiYgIXRhYi5pc0Rpc2FibGVkKCk7XG4gIH1cblxufVxuTWRUYWJzQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJHRpbWVvdXRcIl07XG59KSgpO1xuXG4vKiFcbiAqIEFuZ3VsYXIgTWF0ZXJpYWwgRGVzaWduXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9tYXRlcmlhbFxuICogQGxpY2Vuc2UgTUlUXG4gKiB2MC43LjEtbWFzdGVyLWE5YzE2ZTBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgLmRpcmVjdGl2ZSgnbWRUYWJzJywgVGFic0RpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUYWJzXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudGFic1xuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC10YWJzPmAgZGlyZWN0aXZlIHNlcnZlcyBhcyB0aGUgY29udGFpbmVyIGZvciAxLi5uIGA8bWQtdGFiPmAgY2hpbGQgZGlyZWN0aXZlcyB0byBwcm9kdWNlcyBhIFRhYnMgY29tcG9uZW50cy5cbiAqIEluIHR1cm4sIHRoZSBuZXN0ZWQgYDxtZC10YWI+YCBkaXJlY3RpdmUgaXMgdXNlZCB0byBzcGVjaWZ5IGEgdGFiIGxhYmVsIGZvciB0aGUgKipoZWFkZXIgYnV0dG9uKiogYW5kIGEgW29wdGlvbmFsXSB0YWIgdmlld1xuICogY29udGVudCB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIGVhY2ggdGFiIGJ1dHRvbi5cbiAqXG4gKiBCZWxvdyBpcyB0aGUgbWFya3VwIGZvciBpdHMgc2ltcGxlc3QgdXNhZ2U6XG4gKlxuICogIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLXRhYnM+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMxXCI+PC9tZC10YWI+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMyXCI+PC9tZC10YWI+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMzXCI+PC9tZC10YWI+XG4gKiAgPC9tZC10YWJzPlxuICogIDwvaGxqcz5cbiAqXG4gKiBUYWJzIHN1cHBvcnRzIHRocmVlICgzKSB1c2FnZSBzY2VuYXJpb3M6XG4gKlxuICogIDEuIFRhYnMgKGJ1dHRvbnMgb25seSlcbiAqICAyLiBUYWJzIHdpdGggaW50ZXJuYWwgdmlldyBjb250ZW50XG4gKiAgMy4gVGFicyB3aXRoIGV4dGVybmFsIHZpZXcgY29udGVudFxuICpcbiAqICoqVGFiLW9ubHkqKiBzdXBwb3J0IGlzIHVzZWZ1bCB3aGVuIHRhYiBidXR0b25zIGFyZSB1c2VkIGZvciBjdXN0b20gbmF2aWdhdGlvbiByZWdhcmRsZXNzIG9mIGFueSBvdGhlciBjb21wb25lbnRzLCBjb250ZW50LCBvciB2aWV3cy5cbiAqICoqVGFicyB3aXRoIGludGVybmFsIHZpZXdzKiogYXJlIHRoZSB0cmFkaXRpb25hbCB1c2FnZXMgd2hlcmUgZWFjaCB0YWIgaGFzIGFzc29jaWF0ZWQgdmlldyBjb250ZW50IGFuZCB0aGUgdmlldyBzd2l0Y2hpbmcgaXMgbWFuYWdlZCBpbnRlcm5hbGx5IGJ5IHRoZSBUYWJzIGNvbXBvbmVudC5cbiAqICoqVGFicyB3aXRoIGV4dGVybmFsIHZpZXcgY29udGVudCoqIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIGNvbnRlbnQgYXNzb2NpYXRlZCB3aXRoIGVhY2ggdGFiIGlzIGluZGVwZW5kZW50bHkgbWFuYWdlZCBhbmQgZGF0YS1iaW5kaW5nIG5vdGlmaWNhdGlvbnMgYW5ub3VuY2UgdGFiIHNlbGVjdGlvbiBjaGFuZ2VzLlxuICpcbiAqID4gQXMgYSBwZXJmb3JtYW5jZSBib251cywgaWYgdGhlIHRhYiBjb250ZW50IGlzIG1hbmFnZWQgaW50ZXJuYWxseSB0aGVuIHRoZSBub24tYWN0aXZlIChub24tdmlzaWJsZSkgdGFiIGNvbnRlbnRzIGFyZSB0ZW1wb3JhcmlseSBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgYCRzY29wZS4kZGlnZXN0KClgIHByb2Nlc3Nlczsgd2hpY2ggcmVzdHJpY3RzIGFuZCBvcHRpbWl6ZXMgRE9NIHVwZGF0ZXMgdG8gb25seSB0aGUgY3VycmVudGx5IGFjdGl2ZSB0YWIuXG4gKlxuICogQWRkaXRpb25hbCBmZWF0dXJlcyBhbHNvIGluY2x1ZGU6XG4gKlxuICogKiAgQ29udGVudCBjYW4gaW5jbHVkZSBhbnkgbWFya3VwLlxuICogKiAgSWYgYSB0YWIgaXMgZGlzYWJsZWQgd2hpbGUgYWN0aXZlL3NlbGVjdGVkLCB0aGVuIHRoZSBuZXh0IHRhYiB3aWxsIGJlIGF1dG8tc2VsZWN0ZWQuXG4gKiAqICBJZiB0aGUgY3VycmVudGx5IGFjdGl2ZSB0YWIgaXMgdGhlIGxhc3QgdGFiLCB0aGVuIG5leHQoKSBhY3Rpb24gd2lsbCBzZWxlY3QgdGhlIGZpcnN0IHRhYi5cbiAqICogIEFueSBtYXJrdXAgKG90aGVyIHRoYW4gKipgPG1kLXRhYj5gKiogdGFncykgd2lsbCBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSB0YWIgaGVhZGVyIGFyZWEgQkVGT1JFIHRoZSB0YWIgYnV0dG9ucy5cbiAqXG4gKiAjIyMgRXhwbGFuYXRpb24gb2YgdGFiIHN0cmV0Y2hpbmdcbiAqXG4gKiBJbml0aWFsbHksIHRhYnMgd2lsbCBoYXZlIGFuIGluaGVyZW50IHNpemUuICBUaGlzIHNpemUgd2lsbCBlaXRoZXIgYmUgZGVmaW5lZCBieSBob3cgbXVjaCBzcGFjZSBpcyBuZWVkZWQgdG8gYWNjb21tb2RhdGUgdGhlaXIgdGV4dCBvciBzZXQgYnkgdGhlIHVzZXIgdGhyb3VnaCBDU1MuICBDYWxjdWxhdGlvbnMgd2lsbCBiZSBiYXNlZCBvbiB0aGlzIHNpemUuXG4gKlxuICogT24gbW9iaWxlIGRldmljZXMsIHRhYnMgd2lsbCBiZSBleHBhbmRlZCB0byBmaWxsIHRoZSBhdmFpbGFibGUgaG9yaXpvbnRhbCBzcGFjZS4gIFdoZW4gdGhpcyBoYXBwZW5zLCBhbGwgdGFicyB3aWxsIGJlY29tZSB0aGUgc2FtZSBzaXplLlxuICpcbiAqIE9uIGRlc2t0b3BzLCBieSBkZWZhdWx0LCBzdHJldGNoaW5nIHdpbGwgbmV2ZXIgb2NjdXIuXG4gKlxuICogVGhpcyBkZWZhdWx0IGJlaGF2aW9yIGNhbiBiZSBvdmVycmlkZGVuIHRocm91Z2ggdGhlIGBtZC1zdHJldGNoLXRhYnNgIGF0dHJpYnV0ZS4gIEhlcmUgaXMgYSB0YWJsZSBzaG93aW5nIHdoZW4gc3RyZXRjaGluZyB3aWxsIG9jY3VyOlxuICpcbiAqIGBtZC1zdHJldGNoLXRhYnNgIHwgbW9iaWxlICAgIHwgZGVza3RvcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tfC0tLS0tLS0tXG4gKiBgYXV0b2AgICAgICAgICAgICB8IHN0cmV0Y2hlZCB8IC0tLVxuICogYGFsd2F5c2AgICAgICAgICAgfCBzdHJldGNoZWQgfCBzdHJldGNoZWRcbiAqIGBuZXZlcmAgICAgICAgICAgIHwgLS0tICAgICAgIHwgLS0tXG4gKlxuICogQHBhcmFtIHtpbnRlZ2VyPX0gbWQtc2VsZWN0ZWQgSW5kZXggb2YgdGhlIGFjdGl2ZS9zZWxlY3RlZCB0YWJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBJZiBwcmVzZW50LCBkaXNhYmxlcyBpbmsgcmlwcGxlIGVmZmVjdHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1iYXIgSWYgcHJlc2VudCwgZGlzYWJsZXMgdGhlIHNlbGVjdGlvbiBpbmsgYmFyLlxuICogQHBhcmFtIHtzdHJpbmc9fSAgbWQtYWxpZ24tdGFicyBBdHRyaWJ1dGUgdG8gaW5kaWNhdGUgcG9zaXRpb24gb2YgdGFiIGJ1dHRvbnM6IGBib3R0b21gIG9yIGB0b3BgOyBkZWZhdWx0IGlzIGB0b3BgXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLXN0cmV0Y2gtdGFicyBBdHRyaWJ1dGUgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdG8gc3RyZXRjaCB0YWJzOiBgYXV0b2AsIGBhbHdheXNgLCBvciBgbmV2ZXJgOyBkZWZhdWx0IGlzIGBhdXRvYFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC10YWJzIG1kLXNlbGVjdGVkPVwic2VsZWN0ZWRJbmRleFwiID5cbiAqICAgPGltZyBuZy1zcmM9XCJpbWcvYW5ndWxhci5wbmdcIiBjbGFzcz1cImNlbnRlcmVkXCI+XG4gKlxuICogICA8bWQtdGFiXG4gKiAgICAgIG5nLXJlcGVhdD1cInRhYiBpbiB0YWJzIHwgb3JkZXJCeTpwcmVkaWNhdGU6cmV2ZXJzZWRcIlxuICogICAgICBtZC1vbi1zZWxlY3Q9XCJvblRhYlNlbGVjdGVkKHRhYilcIlxuICogICAgICBtZC1vbi1kZXNlbGVjdD1cImFubm91bmNlRGVzZWxlY3RlZCh0YWIpXCJcbiAqICAgICAgZGlzYWJsZWQ9XCJ0YWIuZGlzYWJsZWRcIiA+XG4gKlxuICogICAgICAgPG1kLXRhYi1sYWJlbD5cbiAqICAgICAgICAgICB7e3RhYi50aXRsZX19XG4gKiAgICAgICAgICAgPGltZyBzcmM9XCJpbWcvcmVtb3ZlVGFiLnBuZ1wiXG4gKiAgICAgICAgICAgICAgICBuZy1jbGljaz1cInJlbW92ZVRhYih0YWIpXCJcbiAqICAgICAgICAgICAgICAgIGNsYXNzPVwiZGVsZXRlXCIgPlxuICogICAgICAgPC9tZC10YWItbGFiZWw+XG4gKlxuICogICAgICAge3t0YWIuY29udGVudH19XG4gKlxuICogICA8L21kLXRhYj5cbiAqXG4gKiA8L21kLXRhYnM+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBUYWJzRGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6ICckbWRUYWJzJyxcbiAgICByZXF1aXJlOiAnbWRUYWJzJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBzZWxlY3RlZEluZGV4OiAnPT9tZFNlbGVjdGVkJ1xuICAgIH0sXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPHNlY3Rpb24gY2xhc3M9XCJtZC1oZWFkZXJcIiAnICtcbiAgICAgICAgJ25nLWNsYXNzPVwie1xcJ21kLXBhZ2luYXRpbmdcXCc6IHBhZ2luYXRpb24uYWN0aXZlfVwiPicgK1xuXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwibWQtcGFnaW5hdG9yIG1kLXByZXZcIiAnICtcbiAgICAgICAgICAnbmctaWY9XCJwYWdpbmF0aW9uLmFjdGl2ZSAmJiBwYWdpbmF0aW9uLmhhc1ByZXZcIiAnICtcbiAgICAgICAgICAnbmctY2xpY2s9XCJwYWdpbmF0aW9uLmNsaWNrUHJldmlvdXMoKVwiICcgK1xuICAgICAgICAgICdhcmlhLWhpZGRlbj1cInRydWVcIj4nICtcbiAgICAgICAgJzwvYnV0dG9uPicgK1xuXG4gICAgICAgIC8vIG92ZXJmbG93OiBoaWRkZW4gY29udGFpbmVyIHdoZW4gcGFnaW5hdGluZ1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWhlYWRlci1pdGVtcy1jb250YWluZXJcIiBtZC10YWJzLXBhZ2luYXRpb24+JyArXG4gICAgICAgICAgLy8gZmxleCBjb250YWluZXIgZm9yIDxtZC10YWI+IGVsZW1lbnRzXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1oZWFkZXItaXRlbXNcIj4nICtcbiAgICAgICAgICAgICc8bWQtdGFicy1pbmstYmFyPjwvbWQtdGFicy1pbmstYmFyPicgK1xuICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwibWQtcGFnaW5hdG9yIG1kLW5leHRcIiAnICtcbiAgICAgICAgICAnbmctaWY9XCJwYWdpbmF0aW9uLmFjdGl2ZSAmJiBwYWdpbmF0aW9uLmhhc05leHRcIiAnICtcbiAgICAgICAgICAnbmctY2xpY2s9XCJwYWdpbmF0aW9uLmNsaWNrTmV4dCgpXCIgJyArXG4gICAgICAgICAgJ2FyaWEtaGlkZGVuPVwidHJ1ZVwiPicgK1xuICAgICAgICAnPC9idXR0b24+JyArXG5cbiAgICAgICc8L3NlY3Rpb24+JyArXG4gICAgICAnPHNlY3Rpb24gY2xhc3M9XCJtZC10YWJzLWNvbnRlbnRcIj48L3NlY3Rpb24+JyxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCB0YWJzQ3RybCwgdHJhbnNjbHVkZSkge1xuXG4gICAgc2NvcGUuc3RyZXRjaFRhYnMgPSBhdHRyLmhhc093blByb3BlcnR5KCdtZFN0cmV0Y2hUYWJzJykgPyBhdHRyLm1kU3RyZXRjaFRhYnMgfHwgJ2Fsd2F5cycgOiAnYXV0byc7XG5cbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIGNvbmZpZ3VyZUFyaWEoKTtcbiAgICB3YXRjaFNlbGVjdGVkKCk7XG5cbiAgICB0cmFuc2NsdWRlKHNjb3BlLiRwYXJlbnQsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtaGVhZGVyLWl0ZW1zJykpLmFwcGVuZChjbG9uZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhKCkge1xuICAgICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ3RhYmxpc3QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXRjaFNlbGVjdGVkKCkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdzZWxlY3RlZEluZGV4JywgZnVuY3Rpb24gd2F0Y2hTZWxlY3RlZEluZGV4KG5ld0luZGV4LCBvbGRJbmRleCkge1xuICAgICAgICBpZiAob2xkSW5kZXggPT0gbmV3SW5kZXgpIHJldHVybjtcbiAgICAgICAgdmFyIHJpZ2h0VG9MZWZ0ID0gb2xkSW5kZXggPiBuZXdJbmRleDtcbiAgICAgICAgdGFic0N0cmwuZGVzZWxlY3QodGFic0N0cmwuaXRlbUF0KG9sZEluZGV4KSwgcmlnaHRUb0xlZnQpO1xuXG4gICAgICAgIGlmICh0YWJzQ3RybC5pblJhbmdlKG5ld0luZGV4KSkge1xuICAgICAgICAgIHZhciBuZXdUYWIgPSB0YWJzQ3RybC5pdGVtQXQobmV3SW5kZXgpO1xuICAgICAgICAgIHdoaWxlIChuZXdUYWIgJiYgbmV3VGFiLmlzRGlzYWJsZWQoKSkge1xuICAgICAgICAgICAgbmV3VGFiID0gbmV3SW5kZXggPiBvbGRJbmRleCBcbiAgICAgICAgICAgICAgICA/IHRhYnNDdHJsLm5leHQobmV3VGFiKVxuICAgICAgICAgICAgICAgIDogdGFic0N0cmwucHJldmlvdXMobmV3VGFiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFic0N0cmwuc2VsZWN0KG5ld1RhYiwgcmlnaHRUb0xlZnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblRhYnNEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG59KSgpO1xuXG5hbmd1bGFyLm1vZHVsZShcIm1hdGVyaWFsLmNvcmVcIikuY29uc3RhbnQoXCIkTURfVEhFTUVfQ1NTXCIsIFwibWQtYXV0b2NvbXBsZXRlIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLWF1dG9jb21wbGV0ZSBidXR0b24geyAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfSAgbWQtYXV0b2NvbXBsZXRlIHVsIHsgICAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgICBtZC1hdXRvY29tcGxldGUgdWwgbGkgeyAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAne3tiYWNrZ3JvdW5kLTQwMH19JzsgICAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC05MDB9fSc7IH0gICAgICBtZC1hdXRvY29tcGxldGUgdWwgbGkgLmhpZ2hsaWdodCB7ICAgICAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC02MDB9fSc7IH0gICAgICBtZC1hdXRvY29tcGxldGUgdWwgbGk6aG92ZXIsIG1kLWF1dG9jb21wbGV0ZSB1bCBsaS5zZWxlY3RlZCB7ICAgICAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWJhY2tkcm9wLm1kLW9wYXF1ZS5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtNC0wLjV9fSc7IH1tZC1ib3R0b20tc2hlZXQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YmFja2dyb3VuZC0zMDB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWxpc3QgbWQtaXRlbSB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zdWJoZWFkZXIgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICBtZC1ib3R0b20tc2hlZXQubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtc3ViaGVhZGVyIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfW1kLXRvb2xiYXIgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgfS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBib3JkZXItcmFkaXVzOiAzcHg7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwMC0wLjJ9fSc7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWIgeyAgICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gICAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmZvY3VzLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmZvY3VzIHsgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9ICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiIHsgICAgYm9yZGVyLXJhZGl1czogNTAlOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmZvY3VzIHsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtQTcwMH19JzsgfSAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZCB7ICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICAgIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpmb2N1cyB7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC0yMDB9fSc7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWIgeyAgICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gICAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmZvY3VzLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmZvY3VzIHsgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tNzAwfX0nOyB9ICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IHsgICAgY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgICAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZCwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWIgeyAgICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICAgICAgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6Zm9jdXMsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmZvY3VzIHsgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC03MDB9fSc7IH0gIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiW2Rpc2FibGVkXSB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7ICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOyB9bWQtY2FyZC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci1yYWRpdXM6IDJweDsgfSAgbWQtY2FyZC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jYXJkLWltYWdlIHsgICAgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwIDA7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2FjY2VudC02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YmFja2dyb3VuZC0yMDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtaWNvbiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaWNvbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLWljb246YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4ubWQtY2hlY2tlZCAubWQtaWNvbjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWljb24geyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWh1ZS0zfX0nOyB9bWQtZGlhbG9nLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYm9yZGVyLXJhZGl1czogNHB4OyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1odWUtM319JzsgfSAgbWQtZGlhbG9nLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY29udGVudC1vdmVyZmxvdyAubWQtYWN0aW9ucyB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfW1kLWRpdmlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBib3JkZXItdG9wLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyAgdGV4dC1zaGFkb3c6ICd7e2ZvcmVncm91bmQtc2hhZG93fX0nOyB9ICBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dDo6LW1vei1wbGFjZWhvbGRlciwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0Oi1tb3otcGxhY2Vob2xkZXIsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbGFiZWwsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1wbGFjZWhvbGRlciB7ICB0ZXh0LXNoYWRvdzogJ3t7Zm9yZWdyb3VuZC1zaGFkb3d9fSc7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1oYXMtdmFsdWUgbGFiZWwgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZCAubWQtaW5wdXQgeyAgYm9yZGVyLWNvbG9yOiAne3twcmltYXJ5LTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZCBsYWJlbCB7ICBjb2xvcjogJ3t7cHJpbWFyeS01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQubWQtYWNjZW50IC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e2FjY2VudC01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQubWQtYWNjZW50IGxhYmVsIHsgIGNvbG9yOiAne3thY2NlbnQtNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLXdhcm4gLm1kLWlucHV0IHsgIGJvcmRlci1jb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQubWQtd2FybiBsYWJlbCB7ICBjb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBsYWJlbCB7ICBjb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIG5nLW1lc3NhZ2UsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgZGF0YS1uZy1tZXNzYWdlLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIHgtbmctbWVzc2FnZSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW2RhdGEtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW3gtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgLm1kLWNoYXItY291bnRlciB7ICBjb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXRbZGlzYWJsZWRdLCBbZGlzYWJsZWRdIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dCB7ICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7ICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICd7e2ZvcmVncm91bmQtNH19JyAwJSwgJ3t7Zm9yZWdyb3VuZC00fX0nIDMzJSwgdHJhbnNwYXJlbnQgMCUpOyAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudChsZWZ0LCB0cmFuc3BhcmVudCAwJSwgJ3t7Zm9yZWdyb3VuZC00fX0nIDEwMCUpOyB9bWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLWdhcCB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSwgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItcmlnaHQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1nYXAgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyAgICBib3JkZXItYm90dG9tLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSwgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLWdhcCB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlLCBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItcmlnaHQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWlubmVyIC5tZC1sZWZ0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY29udGFpbmVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJhciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtY29udGFpbmVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWNvbnRhaW5lciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLXdhcm4gLm1kLWJhcjEgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZVttZC1tb2RlPWJ1ZmZlcl0ubWQtd2FybiAubWQtZGFzaGVkOmJlZm9yZSB7ICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoJ3t7d2Fybi0xMDB9fScgMCUsICd7e3dhcm4tMTAwfX0nIDE2JSwgdHJhbnNwYXJlbnQgNDIlKTsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lW21kLW1vZGU9YnVmZmVyXS5tZC1hY2NlbnQgLm1kLWJhcjEgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lW21kLW1vZGU9YnVmZmVyXS5tZC1hY2NlbnQgLm1kLWRhc2hlZDpiZWZvcmUgeyAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KCd7e2FjY2VudC0xMDB9fScgMCUsICd7e2FjY2VudC0xMDB9fScgMTYlLCB0cmFuc3BhcmVudCA0MiUpOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2FjY2VudC02MDB9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtb24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkgLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3twcmltYXJ5LTYwMH19JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY29udGFpbmVyIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3dhcm4tNjAwfX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1jb250YWluZXIgLm1kLW9mZiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtY29udGFpbmVyIC5tZC1vbiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6Zm9jdXM6bm90KDplbXB0eSkgeyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH1tZC1zaWRlbmF2Lm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1odWUtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10cmFjayB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdHJhY2stdGlja3MgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWZvY3VzLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1mb2N1cy1yaW5nIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWRpc2FibGVkLXRodW1iIHsgIGJvcmRlci1jb2xvcjogJ3t7YmFja2dyb3VuZC1odWUtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLW1pbiAubWQtdGh1bWI6YWZ0ZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1odWUtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zaWduIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgbWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNpZ246YWZ0ZXIgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGh1bWItdGV4dCB7ICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtdHJhY2subWQtdHJhY2stZmlsbCB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtdGh1bWI6YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLXNpZ24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfSAgbWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtc2lnbjphZnRlciB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10aHVtYi10ZXh0IHsgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtdHJhY2subWQtdHJhY2stZmlsbCB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtdGh1bWI6YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgLm1kLXNpZ24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtc2lnbjphZnRlciB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10aHVtYi10ZXh0IHsgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXTpub3QoLm1kLW1pbikgLm1kLXRodW1iOmFmdGVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfS5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBjb2xvcjogJ3t7IGZvcmVncm91bmQtMi0wLjIzIH19JzsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtaHVlLTN9fSc7IH0gIC5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIC5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICAubWQtc3ViaGVhZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTAwfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjV9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkLm1kLXByaW1hcnkgLm1kLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkLm1kLXByaW1hcnkgLm1kLWJhciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuNX19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC41fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTQwMH19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lOmZvY3VzIC5tZC1sYWJlbDpub3QoOmVtcHR5KSB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgIGJvcmRlci1zdHlsZTogZG90dGVkOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1oZWFkZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1oZWFkZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCBtZC10YWI6bm90KFtkaXNhYmxlZF0pIHsgIGNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IG1kLXRhYjpub3QoW2Rpc2FibGVkXSkuYWN0aXZlIHsgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1oZWFkZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IG1kLXRhYjpub3QoW2Rpc2FibGVkXSkgeyAgY29sb3I6ICd7e3ByaW1hcnktMTAwfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSBtZC10YWI6bm90KFtkaXNhYmxlZF0pLmFjdGl2ZSB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiIHsgIGNvbG9yOiAne3twcmltYXJ5LTEwMH19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiW2Rpc2FibGVkXSB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IG1kLXRhYjpmb2N1cyB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0LTAuMX19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiLmFjdGl2ZSB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSBtZC10YWIgLm1kLXJpcHBsZS1jb250YWluZXIgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1oZWFkZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIG1kLXRhYjpub3QoW2Rpc2FibGVkXSkgeyAgY29sb3I6ICd7e3dhcm4tMTAwfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiBtZC10YWI6bm90KFtkaXNhYmxlZF0pLmFjdGl2ZSB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYnMtaW5rLWJhciB7ICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgYmFja2dyb3VuZDogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiW2Rpc2FibGVkXSB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWI6Zm9jdXMgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiLmFjdGl2ZSB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiIC5tZC1yaXBwbGUtY29udGFpbmVyIHsgICAgY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0LCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhIHsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgfSAgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSBpbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSBpbnB1dDotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSB0ZXh0YXJlYTo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSB0ZXh0YXJlYTo6LW1vei1wbGFjZWhvbGRlciwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSB0ZXh0YXJlYTotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGxhYmVsIHsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIGlucHV0LCBtZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lIHRleHRhcmVhIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgfW1kLWlucHV0LWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtZm9jdXNlZCBpbnB1dCwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1mb2N1c2VkIHRleHRhcmVhIHsgIGJvcmRlci1jb2xvcjogJ3t7cHJpbWFyeS01MDB9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWZvY3VzZWQgbGFiZWwgeyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCBpbnB1dCwgbWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCB0ZXh0YXJlYSB7ICBib3JkZXItY29sb3I6ICd7e2FjY2VudC01MDB9fSc7IH1tZC1pbnB1dC1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWZvY3VzZWQubWQtYWNjZW50IGxhYmVsIHsgIGNvbG9yOiAne3thY2NlbnQtNTAwfX0nOyB9bWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1oYXMtdmFsdWU6bm90KC5tZC1pbnB1dC1mb2N1c2VkKSBsYWJlbCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtaW5wdXQtZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXRbZGlzYWJsZWRdIHsgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1idXR0b24geyAgICBjb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgICBtZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1idXR0b24ubWQtaGlnaGxpZ2h0IHsgICAgICBjb2xvcjogJ3t7cHJpbWFyeS1BMjAwfX0nOyB9ICAgICAgbWQtdG9hc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYnV0dG9uLm1kLWhpZ2hsaWdodC5tZC1hY2NlbnQgeyAgICAgICAgY29sb3I6ICd7e2FjY2VudC1BMjAwfX0nOyB9ICAgICAgbWQtdG9hc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYnV0dG9uLm1kLWhpZ2hsaWdodC5tZC13YXJuIHsgICAgICAgIGNvbG9yOiAne3t3YXJuLUEyMDB9fSc7IH1tZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJ1dHRvbiB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyB9bWQtdG9vbHRpcC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLUExMDB9fSc7IH0gIG1kLXRvb2x0aXAubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYmFja2dyb3VuZCB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfVwiKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=